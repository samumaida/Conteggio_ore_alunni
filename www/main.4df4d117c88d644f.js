(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(hn,pt,U)=>{"use strict";U.d(pt,{Am:()=>Bn,Bd:()=>Me,FA:()=>Pt,Fy:()=>Je,I9:()=>Sn,Im:()=>Te,Ku:()=>Rt,Ll:()=>$e,T9:()=>ve,Uj:()=>qe,XA:()=>ge,ZQ:()=>We,bD:()=>tn,c1:()=>zt,cY:()=>Ie,eX:()=>Ne,g:()=>ze,gR:()=>Un,hp:()=>kt,jZ:()=>wt,lT:()=>Ot,lV:()=>en,mS:()=>Ue,nr:()=>Q,p7:()=>Lt,sr:()=>an,tD:()=>tr,u:()=>Ce,zW:()=>re,zw:()=>ke});const ne=function(me){const Ee=[];let Be=0;for(let bt=0;bt<me.length;bt++){let ht=me.charCodeAt(bt);ht<128?Ee[Be++]=ht:ht<2048?(Ee[Be++]=ht>>6|192,Ee[Be++]=63&ht|128):55296==(64512&ht)&&bt+1<me.length&&56320==(64512&me.charCodeAt(bt+1))?(ht=65536+((1023&ht)<<10)+(1023&me.charCodeAt(++bt)),Ee[Be++]=ht>>18|240,Ee[Be++]=ht>>12&63|128,Ee[Be++]=ht>>6&63|128,Ee[Be++]=63&ht|128):(Ee[Be++]=ht>>12|224,Ee[Be++]=ht>>6&63|128,Ee[Be++]=63&ht|128)}return Ee},le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(me,Ee){if(!Array.isArray(me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Be=Ee?this.byteToCharMapWebSafe_:this.byteToCharMap_,bt=[];for(let ht=0;ht<me.length;ht+=3){const vn=me[ht],In=ht+1<me.length,lr=In?me[ht+1]:0,Pr=ht+2<me.length,ot=Pr?me[ht+2]:0;let kr=(15&lr)<<2|ot>>6,Ti=63&ot;Pr||(Ti=64,In||(kr=64)),bt.push(Be[vn>>2],Be[(3&vn)<<4|lr>>4],Be[kr],Be[Ti])}return bt.join("")},encodeString(me,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?btoa(me):this.encodeByteArray(ne(me),Ee)},decodeString(me,Ee){return this.HAS_NATIVE_SUPPORT&&!Ee?atob(me):function(me){const Ee=[];let Be=0,bt=0;for(;Be<me.length;){const ht=me[Be++];if(ht<128)Ee[bt++]=String.fromCharCode(ht);else if(ht>191&&ht<224){const vn=me[Be++];Ee[bt++]=String.fromCharCode((31&ht)<<6|63&vn)}else if(ht>239&&ht<365){const Pr=((7&ht)<<18|(63&me[Be++])<<12|(63&me[Be++])<<6|63&me[Be++])-65536;Ee[bt++]=String.fromCharCode(55296+(Pr>>10)),Ee[bt++]=String.fromCharCode(56320+(1023&Pr))}else{const vn=me[Be++],In=me[Be++];Ee[bt++]=String.fromCharCode((15&ht)<<12|(63&vn)<<6|63&In)}}return Ee.join("")}(this.decodeStringToByteArray(me,Ee))},decodeStringToByteArray(me,Ee){this.init_();const Be=Ee?this.charToByteMapWebSafe_:this.charToByteMap_,bt=[];for(let ht=0;ht<me.length;){const vn=Be[me.charAt(ht++)],lr=ht<me.length?Be[me.charAt(ht)]:0;++ht;const ot=ht<me.length?Be[me.charAt(ht)]:64;++ht;const Fn=ht<me.length?Be[me.charAt(ht)]:64;if(++ht,null==vn||null==lr||null==ot||null==Fn)throw new Se;bt.push(vn<<2|lr>>4),64!==ot&&(bt.push(lr<<4&240|ot>>2),64!==Fn&&bt.push(ot<<6&192|Fn))}return bt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let me=0;me<this.ENCODED_VALS.length;me++)this.byteToCharMap_[me]=this.ENCODED_VALS.charAt(me),this.charToByteMap_[this.byteToCharMap_[me]]=me,this.byteToCharMapWebSafe_[me]=this.ENCODED_VALS_WEBSAFE.charAt(me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[me]]=me,me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(me)]=me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(me)]=me)}}};class Se extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qe=function(me){return function(me){const Ee=ne(me);return le.encodeByteArray(Ee,!0)}(me).replace(/\./g,"")},Ce=function(me){try{return le.decodeString(me,!0)}catch(Ee){console.error("base64Decode failed: ",Ee)}return null};function ke(me,Ee){if(!(Ee instanceof Object))return Ee;switch(Ee.constructor){case Date:return new Date(Ee.getTime());case Object:void 0===me&&(me={});break;case Array:me=[];break;default:return Ee}for(const Be in Ee)!Ee.hasOwnProperty(Be)||!He(Be)||(me[Be]=ke(me[Be],Ee[Be]));return me}function He(me){return"__proto__"!==me}function Ue(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rt=()=>{try{return Ue().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const me=process.env.__FIREBASE_DEFAULTS__;return me?JSON.parse(me):void 0})()||(()=>{if(typeof document>"u")return;let me;try{me=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ee=me&&Ce(me[1]);return Ee&&JSON.parse(Ee)})()}catch(me){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${me}`)}},ve=()=>{var me;return null===(me=rt())||void 0===me?void 0:me.config},ge=me=>{var Ee;return null===(Ee=rt())||void 0===Ee?void 0:Ee[`_${me}`]};class Ie{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ee,Be)=>{this.resolve=Ee,this.reject=Be})}wrapCallback(Ee){return(Be,bt)=>{Be?this.reject(Be):this.resolve(bt),"function"==typeof Ee&&(this.promise.catch(()=>{}),1===Ee.length?Ee(Be):Ee(Be,bt))}}}function Je(me,Ee){if(me.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const bt=Ee||"demo-project",ht=me.iat||0,vn=me.sub||me.user_id;if(!vn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const In=Object.assign({iss:`https://securetoken.google.com/${bt}`,aud:bt,iat:ht,exp:ht+3600,auth_time:ht,sub:vn,user_id:vn,firebase:{sign_in_provider:"custom",identities:{}}},me);return[qe(JSON.stringify({alg:"none",type:"JWT"})),qe(JSON.stringify(In)),""].join(".")}function We(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function wt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function $e(){var me;const Ee=null===(me=rt())||void 0===me?void 0:me.forceEnvironment;if("node"===Ee)return!0;if("browser"===Ee)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Me(){return typeof window<"u"||Lt()}function Lt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function zt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function an(){const me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof me&&void 0!==me.id}function en(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ot(){const me=We();return me.indexOf("MSIE ")>=0||me.indexOf("Trident/")>=0}function Q(){return!$e()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){try{return"object"==typeof indexedDB}catch{return!1}}function Ne(){return new Promise((me,Ee)=>{try{let Be=!0;const bt="validate-browser-context-for-indexeddb-analytics-module",ht=self.indexedDB.open(bt);ht.onsuccess=()=>{ht.result.close(),Be||self.indexedDB.deleteDatabase(bt),me(!0)},ht.onupgradeneeded=()=>{Be=!1},ht.onerror=()=>{var vn;Ee((null===(vn=ht.error)||void 0===vn?void 0:vn.message)||"")}}catch(Be){Ee(Be)}})}class ze extends Error{constructor(Ee,Be,bt){super(Be),this.code=Ee,this.customData=bt,this.name="FirebaseError",Object.setPrototypeOf(this,ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pt.prototype.create)}}class Pt{constructor(Ee,Be,bt){this.service=Ee,this.serviceName=Be,this.errors=bt}create(Ee,...Be){const bt=Be[0]||{},ht=`${this.service}/${Ee}`,vn=this.errors[Ee],In=vn?function yt(me,Ee){return me.replace(Et,(Be,bt)=>{const ht=Ee[bt];return null!=ht?String(ht):`<${bt}?>`})}(vn,bt):"Error";return new ze(ht,`${this.serviceName}: ${In} (${ht}).`,bt)}}const Et=/\{\$([^}]+)}/g;function Un(me,Ee){return Object.prototype.hasOwnProperty.call(me,Ee)}function Te(me){for(const Ee in me)if(Object.prototype.hasOwnProperty.call(me,Ee))return!1;return!0}function tn(me,Ee){if(me===Ee)return!0;const Be=Object.keys(me),bt=Object.keys(Ee);for(const ht of Be){if(!bt.includes(ht))return!1;const vn=me[ht],In=Ee[ht];if(wn(vn)&&wn(In)){if(!tn(vn,In))return!1}else if(vn!==In)return!1}for(const ht of bt)if(!Be.includes(ht))return!1;return!0}function wn(me){return null!==me&&"object"==typeof me}function Bn(me){const Ee=[];for(const[Be,bt]of Object.entries(me))Array.isArray(bt)?bt.forEach(ht=>{Ee.push(encodeURIComponent(Be)+"="+encodeURIComponent(ht))}):Ee.push(encodeURIComponent(Be)+"="+encodeURIComponent(bt));return Ee.length?"&"+Ee.join("&"):""}function Sn(me){const Ee={};return me.replace(/^\?/,"").split("&").forEach(bt=>{if(bt){const[ht,vn]=bt.split("=");Ee[decodeURIComponent(ht)]=decodeURIComponent(vn)}}),Ee}function kt(me){const Ee=me.indexOf("?");if(!Ee)return"";const Be=me.indexOf("#",Ee);return me.substring(Ee,Be>0?Be:void 0)}function tr(me,Ee){const Be=new cr(me,Ee);return Be.subscribe.bind(Be)}class cr{constructor(Ee,Be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Be,this.task.then(()=>{Ee(this)}).catch(bt=>{this.error(bt)})}next(Ee){this.forEachObserver(Be=>{Be.next(Ee)})}error(Ee){this.forEachObserver(Be=>{Be.error(Ee)}),this.close(Ee)}complete(){this.forEachObserver(Ee=>{Ee.complete()}),this.close()}subscribe(Ee,Be,bt){let ht;if(void 0===Ee&&void 0===Be&&void 0===bt)throw new Error("Missing Observer.");ht=function Br(me,Ee){if("object"!=typeof me||null===me)return!1;for(const Be of Ee)if(Be in me&&"function"==typeof me[Be])return!0;return!1}(Ee,["next","error","complete"])?Ee:{next:Ee,error:Be,complete:bt},void 0===ht.next&&(ht.next=mi),void 0===ht.error&&(ht.error=mi),void 0===ht.complete&&(ht.complete=mi);const vn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ht.error(this.finalError):ht.complete()}catch{}}),this.observers.push(ht),vn}unsubscribeOne(Ee){void 0===this.observers||void 0===this.observers[Ee]||(delete this.observers[Ee],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ee){if(!this.finalized)for(let Be=0;Be<this.observers.length;Be++)this.sendOne(Be,Ee)}sendOne(Ee,Be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ee])try{Be(this.observers[Ee])}catch(bt){typeof console<"u"&&console.error&&console.error(bt)}})}close(Ee){this.finalized||(this.finalized=!0,void 0!==Ee&&(this.finalError=Ee),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mi(){}function Rt(me){return me&&me._delegate?me._delegate:me}},4442:(hn,pt,U)=>{"use strict";U.d(pt,{L:()=>de,a:()=>le,b:()=>Se,c:()=>Ve,d:()=>qe,g:()=>Ot}),U(5531);const de="ionViewWillEnter",le="ionViewDidEnter",Se="ionViewWillLeave",Ve="ionViewDidLeave",qe="ionViewWillUnload",Ot=be=>be.classList.contains("ion-page")?be:be.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||be},5531:(hn,pt,U)=>{"use strict";U.d(pt,{a:()=>Ce,c:()=>f,g:()=>qe});class d{constructor(){this.m=new Map}reset(be){this.m=new Map(Object.entries(be))}get(be,X){const Q=this.m.get(be);return void 0!==Q?Q:X}getBoolean(be,X=!1){const Q=this.m.get(be);return void 0===Q?X:"string"==typeof Q?"true"===Q:!!Q}getNumber(be,X){const Q=parseFloat(this.m.get(be));return isNaN(Q)?void 0!==X?X:NaN:Q}set(be,X){this.m.set(be,X)}}const f=new d,qe=Ot=>pe(Ot),Ce=(Ot,be)=>("string"==typeof Ot&&(be=Ot,Ot=void 0),qe(Ot).includes(be)),pe=(Ot=window)=>{if(typeof Ot>"u")return[];Ot.Ionic=Ot.Ionic||{};let be=Ot.Ionic.platforms;return null==be&&(be=Ot.Ionic.platforms=ke(Ot),be.forEach(X=>Ot.document.documentElement.classList.add(`plt-${X}`))),be},ke=Ot=>{const be=f.get("platform");return Object.keys(zt).filter(X=>{const Q=null==be?void 0:be[X];return"function"==typeof Q?Q(Ot):zt[X](Ot)})},Ue=Ot=>!!(Me(Ot,/iPad/i)||Me(Ot,/Macintosh/i)&&ve(Ot)),Ze=Ot=>Me(Ot,/android|sink/i),ve=Ot=>Lt(Ot,"(any-pointer:coarse)"),Ie=Ot=>Je(Ot)||We(Ot),Je=Ot=>!!(Ot.cordova||Ot.phonegap||Ot.PhoneGap),We=Ot=>{const be=Ot.Capacitor;return!(null==be||!be.isNative)},Me=(Ot,be)=>be.test(Ot.navigator.userAgent),Lt=(Ot,be)=>{var X;return null===(X=Ot.matchMedia)||void 0===X?void 0:X.call(Ot,be).matches},zt={ipad:Ue,iphone:Ot=>Me(Ot,/iPhone/i),ios:Ot=>Me(Ot,/iPhone|iPod/i)||Ue(Ot),android:Ze,phablet:Ot=>{const be=Ot.innerWidth,X=Ot.innerHeight,Q=Math.min(be,X),re=Math.max(be,X);return Q>390&&Q<520&&re>620&&re<800},tablet:Ot=>{const be=Ot.innerWidth,X=Ot.innerHeight,Q=Math.min(be,X),re=Math.max(be,X);return Ue(Ot)||(Ot=>Ze(Ot)&&!Me(Ot,/mobile/i))(Ot)||Q>460&&Q<820&&re>780&&re<1400},cordova:Je,capacitor:We,electron:Ot=>Me(Ot,/electron/i),pwa:Ot=>{var be;return!!(null!==(be=Ot.matchMedia)&&void 0!==be&&be.call(Ot,"(display-mode: standalone)").matches||Ot.navigator.standalone)},mobile:ve,mobileweb:Ot=>ve(Ot)&&!Ie(Ot),desktop:Ot=>!ve(Ot),hybrid:Ie}},9986:(hn,pt,U)=>{"use strict";U.d(pt,{c:()=>le});var d=U(8476);let f;const ne=(Se,Ve,qe)=>{const Ce=Ve.startsWith("animation")?(Se=>(void 0===f&&(f=void 0===Se.style.animationName&&void 0!==Se.style.webkitAnimationName?"-webkit-":""),f))(Se):"";Se.style.setProperty(Ce+Ve,qe)},de=(Se=[],Ve)=>{if(void 0!==Ve){const qe=Array.isArray(Ve)?Ve:[Ve];return[...Se,...qe]}return Se},le=Se=>{let Ve,qe,Ce,pe,ke,He,rt,wt,$e,Me,en,Ue=[],Xe=[],ut=[],Ze=!1,et={},st=[],ve=[],ge={},Ie=0,Je=!1,We=!1,Lt=!0,zt=!1,an=!0,bn=!1;const Ot=Se,be=[],X=[],Q=[],re=[],Ne=[],ft=[],nt=[],ze=[],Pt=[],yt=[],Et=[],dn="function"==typeof AnimationEffect||void 0!==d.w&&"function"==typeof d.w.AnimationEffect,mt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&dn,mn=()=>Et,Un=(Z,ye)=>{const gt=ye.findIndex(Bt=>Bt.c===Z);gt>-1&&ye.splice(gt,1)},Te=(Z,ye)=>((null!=ye&&ye.oneTimeCallback?X:be).push({c:Z,o:ye}),en),tn=()=>{mt&&(Et.forEach(Z=>{Z.cancel()}),Et.length=0)},wn=()=>{ft.forEach(Z=>{null!=Z&&Z.parentNode&&Z.parentNode.removeChild(Z)}),ft.length=0},Kn=()=>void 0!==ke?ke:rt?rt.getFill():"both",Nn=()=>void 0!==wt?wt:void 0!==He?He:rt?rt.getDirection():"normal",Rn=()=>Je?"linear":void 0!==Ce?Ce:rt?rt.getEasing():"linear",Mr=()=>We?0:void 0!==$e?$e:void 0!==qe?qe:rt?rt.getDuration():0,Hn=()=>void 0!==pe?pe:rt?rt.getIterations():1,Si=()=>void 0!==Me?Me:void 0!==Ve?Ve:rt?rt.getDelay():0,In=()=>{0!==Ie&&(Ie--,0===Ie&&((()=>{Pt.forEach(on=>on()),yt.forEach(on=>on());const Z=Lt?1:0,ye=st,gt=ve,Bt=ge;re.forEach(on=>{const $n=on.classList;ye.forEach(On=>$n.add(On)),gt.forEach(On=>$n.remove(On));for(const On in Bt)Bt.hasOwnProperty(On)&&ne(on,On,Bt[On])}),$e=void 0,wt=void 0,Me=void 0,be.forEach(on=>on.c(Z,en)),X.forEach(on=>on.c(Z,en)),X.length=0,an=!0,Lt&&(zt=!0),Lt=!0})(),rt&&rt.animationFinish()))},Pr=()=>{(()=>{nt.forEach(Bt=>Bt()),ze.forEach(Bt=>Bt());const Z=Xe,ye=ut,gt=et;re.forEach(Bt=>{const on=Bt.classList;Z.forEach($n=>on.add($n)),ye.forEach($n=>on.remove($n));for(const $n in gt)gt.hasOwnProperty($n)&&ne(Bt,$n,gt[$n])})})(),Ue.length>0&&mt&&(re.forEach(Z=>{const ye=Z.animate(Ue,{id:Ot,delay:Si(),duration:Mr(),easing:Rn(),iterations:Hn(),fill:Kn(),direction:Nn()});ye.pause(),Et.push(ye)}),Et.length>0&&(Et[0].onfinish=()=>{In()})),Ze=!0},ot=Z=>{Z=Math.min(Math.max(Z,0),.9999),mt&&Et.forEach(ye=>{ye.currentTime=ye.effect.getComputedTiming().delay+Mr()*Z,ye.pause()})},dr=Z=>{Et.forEach(ye=>{ye.effect.updateTiming({delay:Si(),duration:Mr(),easing:Rn(),iterations:Hn(),fill:Kn(),direction:Nn()})}),void 0!==Z&&ot(Z)},Fn=(Z=!1,ye=!0,gt)=>(Z&&Ne.forEach(Bt=>{Bt.update(Z,ye,gt)}),mt&&dr(gt),en),zr=()=>{Ze&&(mt?Et.forEach(Z=>{Z.pause()}):re.forEach(Z=>{ne(Z,"animation-play-state","paused")}),bn=!0)},Nt=Z=>new Promise(ye=>{null!=Z&&Z.sync&&(We=!0,Te(()=>We=!1,{oneTimeCallback:!0})),Ze||Pr(),zt&&(mt&&(ot(0),dr()),zt=!1),an&&(Ie=Ne.length+1,an=!1);const gt=()=>{Un(Bt,X),ye()},Bt=()=>{Un(gt,Q),ye()};Te(Bt,{oneTimeCallback:!0}),(Z=>{Q.push({c:Z,o:{oneTimeCallback:!0}})})(gt),Ne.forEach(on=>{on.play()}),mt?(Et.forEach(Z=>{Z.play()}),(0===Ue.length||0===re.length)&&In()):In(),bn=!1}),q=(Z,ye)=>{const gt=Ue[0];return void 0===gt||void 0!==gt.offset&&0!==gt.offset?Ue=[{offset:0,[Z]:ye},...Ue]:gt[Z]=ye,en};return en={parentAnimation:rt,elements:re,childAnimations:Ne,id:Ot,animationFinish:In,from:q,to:(Z,ye)=>{const gt=Ue[Ue.length-1];return void 0===gt||void 0!==gt.offset&&1!==gt.offset?Ue=[...Ue,{offset:1,[Z]:ye}]:gt[Z]=ye,en},fromTo:(Z,ye,gt)=>q(Z,ye).to(Z,gt),parent:Z=>(rt=Z,en),play:Nt,pause:()=>(Ne.forEach(Z=>{Z.pause()}),zr(),en),stop:()=>{Ne.forEach(Z=>{Z.stop()}),Ze&&(tn(),Ze=!1),Je=!1,We=!1,an=!0,wt=void 0,$e=void 0,Me=void 0,Ie=0,zt=!1,Lt=!0,bn=!1,Q.forEach(Z=>Z.c(0,en)),Q.length=0},destroy:Z=>(Ne.forEach(ye=>{ye.destroy(Z)}),(Z=>{tn(),Z&&wn()})(Z),re.length=0,Ne.length=0,Ue.length=0,be.length=0,X.length=0,Ze=!1,an=!0,en),keyframes:Z=>{const ye=Ue!==Z;return Ue=Z,ye&&(Z=>{mt&&mn().forEach(ye=>{const gt=ye.effect;if(gt.setKeyframes)gt.setKeyframes(Z);else{const Bt=new KeyframeEffect(gt.target,Z,gt.getTiming());ye.effect=Bt}})})(Ue),en},addAnimation:Z=>{if(null!=Z)if(Array.isArray(Z))for(const ye of Z)ye.parent(en),Ne.push(ye);else Z.parent(en),Ne.push(Z);return en},addElement:Z=>{if(null!=Z)if(1===Z.nodeType)re.push(Z);else if(Z.length>=0)for(let ye=0;ye<Z.length;ye++)re.push(Z[ye]);else console.error("Invalid addElement value");return en},update:Fn,fill:Z=>(ke=Z,Fn(!0),en),direction:Z=>(He=Z,Fn(!0),en),iterations:Z=>(pe=Z,Fn(!0),en),duration:Z=>(!mt&&0===Z&&(Z=1),qe=Z,Fn(!0),en),easing:Z=>(Ce=Z,Fn(!0),en),delay:Z=>(Ve=Z,Fn(!0),en),getWebAnimations:mn,getKeyframes:()=>Ue,getFill:Kn,getDirection:Nn,getDelay:Si,getIterations:Hn,getEasing:Rn,getDuration:Mr,afterAddRead:Z=>(Pt.push(Z),en),afterAddWrite:Z=>(yt.push(Z),en),afterClearStyles:(Z=[])=>{for(const ye of Z)ge[ye]="";return en},afterStyles:(Z={})=>(ge=Z,en),afterRemoveClass:Z=>(ve=de(ve,Z),en),afterAddClass:Z=>(st=de(st,Z),en),beforeAddRead:Z=>(nt.push(Z),en),beforeAddWrite:Z=>(ze.push(Z),en),beforeClearStyles:(Z=[])=>{for(const ye of Z)et[ye]="";return en},beforeStyles:(Z={})=>(et=Z,en),beforeRemoveClass:Z=>(ut=de(ut,Z),en),beforeAddClass:Z=>(Xe=de(Xe,Z),en),onFinish:Te,isRunning:()=>0!==Ie&&!bn,progressStart:(Z=!1,ye)=>(Ne.forEach(gt=>{gt.progressStart(Z,ye)}),zr(),Je=Z,Ze||Pr(),Fn(!1,!0,ye),en),progressStep:Z=>(Ne.forEach(ye=>{ye.progressStep(Z)}),ot(Z),en),progressEnd:(Z,ye,gt)=>(Je=!1,Ne.forEach(Bt=>{Bt.progressEnd(Z,ye,gt)}),void 0!==gt&&($e=gt),zt=!1,Lt=!0,0===Z?(wt="reverse"===Nn()?"normal":"reverse","reverse"===wt&&(Lt=!1),mt?(Fn(),ot(1-ye)):(Me=(1-ye)*Mr()*-1,Fn(!1,!1))):1===Z&&(mt?(Fn(),ot(ye)):(Me=ye*Mr()*-1,Fn(!1,!1))),void 0!==Z&&!rt&&Nt(),en)}}},464:(hn,pt,U)=>{"use strict";U.d(pt,{E:()=>Ce,a:()=>d,s:()=>Ve});const d=pe=>{try{if(pe instanceof Se)return pe.value;if(!ne()||"string"!=typeof pe||""===pe)return pe;if(pe.includes("onload="))return"";const ke=document.createDocumentFragment(),He=document.createElement("div");ke.appendChild(He),He.innerHTML=pe,le.forEach(Ze=>{const rt=ke.querySelectorAll(Ze);for(let et=rt.length-1;et>=0;et--){const st=rt[et];st.parentNode?st.parentNode.removeChild(st):ke.removeChild(st);const ve=J(st);for(let ge=0;ge<ve.length;ge++)f(ve[ge])}});const Ue=J(ke);for(let Ze=0;Ze<Ue.length;Ze++)f(Ue[Ze]);const Xe=document.createElement("div");Xe.appendChild(ke);const ut=Xe.querySelector("div");return null!==ut?ut.innerHTML:Xe.innerHTML}catch(ke){return console.error(ke),""}},f=pe=>{if(pe.nodeType&&1!==pe.nodeType)return;if(typeof NamedNodeMap<"u"&&!(pe.attributes instanceof NamedNodeMap))return void pe.remove();for(let He=pe.attributes.length-1;He>=0;He--){const Ue=pe.attributes.item(He),Xe=Ue.name;if(!de.includes(Xe.toLowerCase())){pe.removeAttribute(Xe);continue}const ut=Ue.value,Ze=pe[Xe];(null!=ut&&ut.toLowerCase().includes("javascript:")||null!=Ze&&Ze.toLowerCase().includes("javascript:"))&&pe.removeAttribute(Xe)}const ke=J(pe);for(let He=0;He<ke.length;He++)f(ke[He])},J=pe=>null!=pe.children?pe.children:pe.childNodes,ne=()=>{var pe;const ke=window,He=null===(pe=null==ke?void 0:ke.Ionic)||void 0===pe?void 0:pe.config;return!He||(He.get?He.get("sanitizerEnabled",!0):!0===He.sanitizerEnabled||void 0===He.sanitizerEnabled)},de=["class","id","href","src","name","slot"],le=["script","style","iframe","meta","link","object","embed"];class Se{constructor(ke){this.value=ke}}const Ve=pe=>{const ke=window,He=ke.Ionic;if(!He||!He.config||"Object"===He.config.constructor.name)return ke.Ionic=ke.Ionic||{},ke.Ionic.config=Object.assign(Object.assign({},ke.Ionic.config),pe),ke.Ionic.config},Ce=!1},8621:(hn,pt,U)=>{"use strict";U.d(pt,{C:()=>de,a:()=>J,d:()=>ne});var d=U(467),f=U(4920);const J=function(){var le=(0,d.A)(function*(Se,Ve,qe,Ce,pe,ke){var He;if(Se)return Se.attachViewToDom(Ve,qe,pe,Ce);if(!(ke||"string"==typeof qe||qe instanceof HTMLElement))throw new Error("framework delegate is missing");const Ue="string"==typeof qe?null===(He=Ve.ownerDocument)||void 0===He?void 0:He.createElement(qe):qe;return Ce&&Ce.forEach(Xe=>Ue.classList.add(Xe)),pe&&Object.assign(Ue,pe),Ve.appendChild(Ue),yield new Promise(Xe=>(0,f.c)(Ue,Xe)),Ue});return function(Ve,qe,Ce,pe,ke,He){return le.apply(this,arguments)}}(),ne=(le,Se)=>{if(Se){if(le)return le.removeViewFromDom(Se.parentElement,Se);Se.remove()}return Promise.resolve()},de=()=>{let le,Se;return{attachViewToDom:function(){var Ce=(0,d.A)(function*(pe,ke,He={},Ue=[]){var Xe,ut;let Ze;if(le=pe,ke){const et="string"==typeof ke?null===(Xe=le.ownerDocument)||void 0===Xe?void 0:Xe.createElement(ke):ke;Ue.forEach(st=>et.classList.add(st)),Object.assign(et,He),le.appendChild(et),Ze=et,yield new Promise(st=>(0,f.c)(et,st))}else if(le.children.length>0&&("ION-MODAL"===le.tagName||"ION-POPOVER"===le.tagName)&&!(Ze=le.children[0]).classList.contains("ion-delegate-host")){const st=null===(ut=le.ownerDocument)||void 0===ut?void 0:ut.createElement("div");st.classList.add("ion-delegate-host"),Ue.forEach(ve=>st.classList.add(ve)),st.append(...le.children),le.appendChild(st),Ze=st}const rt=document.querySelector("ion-app")||document.body;return Se=document.createComment("ionic teleport"),le.parentNode.insertBefore(Se,le),rt.appendChild(le),null!=Ze?Ze:le});return function(ke,He){return Ce.apply(this,arguments)}}(),removeViewFromDom:()=>(le&&Se&&(Se.parentNode.insertBefore(le,Se),Se.remove()),Promise.resolve())}}},1970:(hn,pt,U)=>{"use strict";U.d(pt,{B:()=>ne,G:()=>de});class f{constructor(Se,Ve,qe,Ce,pe){this.id=Ve,this.name=qe,this.disableScroll=pe,this.priority=1e6*Ce+Ve,this.ctrl=Se}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Se=this.ctrl.capture(this.name,this.id,this.priority);return Se&&this.disableScroll&&this.ctrl.disableScroll(this.id),Se}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class J{constructor(Se,Ve,qe,Ce){this.id=Ve,this.disable=qe,this.disableScroll=Ce,this.ctrl=Se}block(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.disableGesture(Se,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Se of this.disable)this.ctrl.enableGesture(Se,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const ne="backdrop-no-scroll",de=new class d{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Se){var Ve;return new f(this,this.newID(),Se.name,null!==(Ve=Se.priority)&&void 0!==Ve?Ve:0,!!Se.disableScroll)}createBlocker(Se={}){return new J(this,this.newID(),Se.disable,!!Se.disableScroll)}start(Se,Ve,qe){return this.canStart(Se)?(this.requestedStart.set(Ve,qe),!0):(this.requestedStart.delete(Ve),!1)}capture(Se,Ve,qe){if(!this.start(Se,Ve,qe))return!1;const Ce=this.requestedStart;let pe=-1e4;if(Ce.forEach(ke=>{pe=Math.max(pe,ke)}),pe===qe){this.capturedId=Ve,Ce.clear();const ke=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Se}});return document.dispatchEvent(ke),!0}return Ce.delete(Ve),!1}release(Se){this.requestedStart.delete(Se),this.capturedId===Se&&(this.capturedId=void 0)}disableGesture(Se,Ve){let qe=this.disabledGestures.get(Se);void 0===qe&&(qe=new Set,this.disabledGestures.set(Se,qe)),qe.add(Ve)}enableGesture(Se,Ve){const qe=this.disabledGestures.get(Se);void 0!==qe&&qe.delete(Ve)}disableScroll(Se){this.disabledScroll.add(Se),1===this.disabledScroll.size&&document.body.classList.add(ne)}enableScroll(Se){this.disabledScroll.delete(Se),0===this.disabledScroll.size&&document.body.classList.remove(ne)}canStart(Se){return!(void 0!==this.capturedId||this.isDisabled(Se))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Se){const Ve=this.disabledGestures.get(Se);return!!(Ve&&Ve.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(hn,pt,U)=>{"use strict";U.r(pt),U.d(pt,{MENU_BACK_BUTTON_PRIORITY:()=>qe,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ve,blockHardwareBackButton:()=>le,shouldUseCloseWatcher:()=>de,startHardwareBackButton:()=>Se});var d=U(467),f=U(8476),J=U(9483);U(4261);const de=()=>J.c.get("experimentalCloseWatcher",!1)&&void 0!==f.w&&"CloseWatcher"in f.w,le=()=>{document.addEventListener("backbutton",()=>{})},Se=()=>{const Ce=document;let pe=!1;const ke=()=>{if(pe)return;let He=0,Ue=[];const Xe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(rt,et){Ue.push({priority:rt,handler:et,id:He++})}}});Ce.dispatchEvent(Xe);const ut=function(){var rt=(0,d.A)(function*(et){try{if(null!=et&&et.handler){const st=et.handler(Ze);null!=st&&(yield st)}}catch(st){console.error(st)}});return function(st){return rt.apply(this,arguments)}}(),Ze=()=>{if(Ue.length>0){let rt={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};Ue.forEach(et=>{et.priority>=rt.priority&&(rt=et)}),pe=!0,Ue=Ue.filter(et=>et.id!==rt.id),ut(rt).then(()=>pe=!1)}};Ze()};if(de()){let He;const Ue=()=>{null==He||He.destroy(),He=new f.w.CloseWatcher,He.onclose=()=>{ke(),Ue()}};Ue()}else Ce.addEventListener("backbutton",ke)},Ve=100,qe=99},4920:(hn,pt,U)=>{"use strict";U.d(pt,{a:()=>Ve,b:()=>qe,c:()=>J,d:()=>Ue,e:()=>et,f:()=>He,g:()=>Ce,h:()=>de,i:()=>Se,j:()=>Xe,k:()=>ne,l:()=>ke,m:()=>ut,n:()=>rt,o:()=>st,p:()=>Ze,r:()=>pe,s:()=>ve,t:()=>d});const d=(ge,Ie=0)=>new Promise(Je=>{f(ge,Ie,Je)}),f=(ge,Ie=0,Je)=>{let We,wt;const $e={passive:!0},Lt=()=>{We&&We()},zt=an=>{(void 0===an||ge===an.target)&&(Lt(),Je(an))};return ge&&(ge.addEventListener("webkitTransitionEnd",zt,$e),ge.addEventListener("transitionend",zt,$e),wt=setTimeout(zt,Ie+500),We=()=>{void 0!==wt&&(clearTimeout(wt),wt=void 0),ge.removeEventListener("webkitTransitionEnd",zt,$e),ge.removeEventListener("transitionend",zt,$e)}),Lt},J=(ge,Ie)=>{ge.componentOnReady?ge.componentOnReady().then(Je=>Ie(Je)):pe(()=>Ie(ge))},ne=ge=>void 0!==ge.componentOnReady,de=(ge,Ie=[])=>{const Je={};return Ie.forEach(We=>{ge.hasAttribute(We)&&(null!==ge.getAttribute(We)&&(Je[We]=ge.getAttribute(We)),ge.removeAttribute(We))}),Je},le=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Se=(ge,Ie)=>{let Je=le;return Ie&&Ie.length>0&&(Je=Je.filter(We=>!Ie.includes(We))),de(ge,Je)},Ve=(ge,Ie,Je,We)=>{var wt;if(typeof window<"u"){const $e=window,Me=null===(wt=null==$e?void 0:$e.Ionic)||void 0===wt?void 0:wt.config;if(Me){const Lt=Me.get("_ael");if(Lt)return Lt(ge,Ie,Je,We);if(Me._ael)return Me._ael(ge,Ie,Je,We)}}return ge.addEventListener(Ie,Je,We)},qe=(ge,Ie,Je,We)=>{var wt;if(typeof window<"u"){const $e=window,Me=null===(wt=null==$e?void 0:$e.Ionic)||void 0===wt?void 0:wt.config;if(Me){const Lt=Me.get("_rel");if(Lt)return Lt(ge,Ie,Je,We);if(Me._rel)return Me._rel(ge,Ie,Je,We)}}return ge.removeEventListener(Ie,Je,We)},Ce=(ge,Ie=ge)=>ge.shadowRoot||Ie,pe=ge=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ge):"function"==typeof requestAnimationFrame?requestAnimationFrame(ge):setTimeout(ge),ke=ge=>!!ge.shadowRoot&&!!ge.attachShadow,He=ge=>{if(ge.focus(),ge.classList.contains("ion-focusable")){const Ie=ge.closest("ion-app");Ie&&Ie.setFocus([ge])}},Ue=(ge,Ie,Je,We,wt)=>{if(ge||ke(Ie)){let $e=Ie.querySelector("input.aux-input");$e||($e=Ie.ownerDocument.createElement("input"),$e.type="hidden",$e.classList.add("aux-input"),Ie.appendChild($e)),$e.disabled=wt,$e.name=Je,$e.value=We||""}},Xe=(ge,Ie,Je)=>Math.max(ge,Math.min(Ie,Je)),ut=(ge,Ie)=>{if(!ge){const Je="ASSERT: "+Ie;throw console.error(Je),new Error(Je)}},Ze=ge=>{if(ge){const Ie=ge.changedTouches;if(Ie&&Ie.length>0){const Je=Ie[0];return{x:Je.clientX,y:Je.clientY}}if(void 0!==ge.pageX)return{x:ge.pageX,y:ge.pageY}}return{x:0,y:0}},rt=ge=>{const Ie="rtl"===document.dir;switch(ge){case"start":return Ie;case"end":return!Ie;default:throw new Error(`"${ge}" is not a valid value for [side]. Use "start" or "end" instead.`)}},et=(ge,Ie)=>{const Je=ge._original||ge;return{_original:ge,emit:st(Je.emit.bind(Je),Ie)}},st=(ge,Ie=0)=>{let Je;return(...We)=>{clearTimeout(Je),Je=setTimeout(ge,Ie,...We)}},ve=(ge,Ie)=>{if(null!=ge||(ge={}),null!=Ie||(Ie={}),ge===Ie)return!0;const Je=Object.keys(ge);if(Je.length!==Object.keys(Ie).length)return!1;for(const We of Je)if(!(We in Ie)||ge[We]!==Ie[We])return!1;return!0}},4261:(hn,pt,U)=>{"use strict";U.d(pt,{B:()=>le,a:()=>an,b:()=>No,c:()=>Kn,d:()=>Hn,e:()=>Pt,f:()=>kt,g:()=>Nn,h:()=>Bn,i:()=>Mr,j:()=>ti,k:()=>Et,r:()=>qe,w:()=>yt});var d=U(467);var ne=Object.defineProperty,le={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Se=new WeakMap,Ve=C=>Se.get(C),qe=(C,F)=>Se.set(F.$lazyInstance$=C,F),pe=(C,F)=>F in C,ke=(C,F)=>(0,console.error)(C,F),He=new Map,Xe=new Map,ut=[],ve="s-id",We="slot-fb{display:contents}slot-fb[hidden]{display:none}",wt="http://www.w3.org/1999/xlink",$e=typeof window<"u"?window:{},Me=$e.document||{head:{}},zt={$flags$:0,$resourcesUrl$:"",jmp:C=>C(),raf:C=>requestAnimationFrame(C),ael:(C,F,Ae,xe)=>C.addEventListener(F,Ae,xe),rel:(C,F,Ae,xe)=>C.removeEventListener(F,Ae,xe),ce:(C,F)=>new CustomEvent(C,F)},an=C=>{Object.assign(zt,C)},bn=(()=>{let C=!1;try{Me.addEventListener("e",null,Object.defineProperty({},"passive",{get(){C=!0}}))}catch{}return C})(),be=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),X=!1,Q=[],re=[],Ne=(C,F)=>Ae=>{C.push(Ae),X||(X=!0,F&&4&zt.$flags$?ze(nt):zt.raf(nt))},ft=C=>{for(let F=0;F<C.length;F++)try{C[F](performance.now())}catch(Ae){ke(Ae)}C.length=0},nt=()=>{ft(Q),ft(re),(X=Q.length>0)&&zt.raf(nt)},ze=C=>Promise.resolve(void 0).then(C),Pt=Ne(Q,!1),yt=Ne(re,!0),Et=C=>{const F=new URL(C,zt.$resourcesUrl$);return F.origin!==$e.location.origin?F.href:F.pathname},dn={},Mn=C=>"object"==(C=typeof C)||"function"===C;function jt(C){var F,Ae,xe;return null!=(xe=null==(Ae=null==(F=C.head)?void 0:F.querySelector('meta[name="csp-nonce"]'))?void 0:Ae.getAttribute("content"))?xe:void 0}((C,F)=>{for(var Ae in F)ne(C,Ae,{get:F[Ae],enumerable:!0})})({},{err:()=>it,map:()=>Te,ok:()=>Un,unwrap:()=>Fe,unwrapErr:()=>tn});var Un=C=>({isOk:!0,isErr:!1,value:C}),it=C=>({isOk:!1,isErr:!0,value:C});function Te(C,F){if(C.isOk){const Ae=F(C.value);return Ae instanceof Promise?Ae.then(xe=>Un(xe)):Un(Ae)}if(C.isErr)return it(C.value);throw"should never get here"}var Fe=C=>{if(C.isOk)return C.value;throw C.value},tn=C=>{if(C.isErr)return C.value;throw C.value},Bn=(C,F,...Ae)=>{let xe=null,tt=null,ct=null,Ht=!1,Zt=!1;const $t=[],Jt=yn=>{for(let Ln=0;Ln<yn.length;Ln++)xe=yn[Ln],Array.isArray(xe)?Jt(xe):null!=xe&&"boolean"!=typeof xe&&((Ht="function"!=typeof C&&!Mn(xe))&&(xe=String(xe)),Ht&&Zt?$t[$t.length-1].$text$+=xe:$t.push(Ht?Sn(null,xe):xe),Zt=Ht)};if(Jt(Ae),F){F.key&&(tt=F.key),F.name&&(ct=F.name);{const yn=F.className||F.class;yn&&(F.class="object"!=typeof yn?yn:Object.keys(yn).filter(Ln=>yn[Ln]).join(" "))}}if("function"==typeof C)return C(null===F?{}:F,$t,tr);const cn=Sn(C,null);return cn.$attrs$=F,$t.length>0&&(cn.$children$=$t),cn.$key$=tt,cn.$name$=ct,cn},Sn=(C,F)=>({$flags$:0,$tag$:C,$text$:F,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),kt={},tr={forEach:(C,F)=>C.map(cr).forEach(F),map:(C,F)=>C.map(cr).map(F).map(ar)},cr=C=>({vattrs:C.$attrs$,vchildren:C.$children$,vkey:C.$key$,vname:C.$name$,vtag:C.$tag$,vtext:C.$text$}),ar=C=>{if("function"==typeof C.vtag){const Ae={...C.vattrs};return C.vkey&&(Ae.key=C.vkey),C.vname&&(Ae.name=C.vname),Bn(C.vtag,Ae,...C.vchildren||[])}const F=Sn(C.vtag,C.vtext);return F.$attrs$=C.vattrs,F.$children$=C.vchildren,F.$key$=C.vkey,F.$name$=C.vname,F},mi=(C,F,Ae,xe,tt,ct,Ht)=>{let Zt,$t,Jt,cn;if(1===ct.nodeType){if(Zt=ct.getAttribute("c-id"),Zt&&($t=Zt.split("."),($t[0]===Ht||"0"===$t[0])&&(Jt={$flags$:0,$hostId$:$t[0],$nodeId$:$t[1],$depth$:$t[2],$index$:$t[3],$tag$:ct.tagName.toLowerCase(),$elm$:ct,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},F.push(Jt),ct.removeAttribute("c-id"),C.$children$||(C.$children$=[]),C.$children$[Jt.$index$]=Jt,C=Jt,xe&&"0"===Jt.$depth$&&(xe[Jt.$index$]=Jt.$elm$))),ct.shadowRoot)for(cn=ct.shadowRoot.childNodes.length-1;cn>=0;cn--)mi(C,F,Ae,xe,tt,ct.shadowRoot.childNodes[cn],Ht);for(cn=ct.childNodes.length-1;cn>=0;cn--)mi(C,F,Ae,xe,tt,ct.childNodes[cn],Ht)}else if(8===ct.nodeType)$t=ct.nodeValue.split("."),($t[1]===Ht||"0"===$t[1])&&(Zt=$t[0],Jt={$flags$:0,$hostId$:$t[1],$nodeId$:$t[2],$depth$:$t[3],$index$:$t[4],$elm$:ct,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Zt?(Jt.$elm$=ct.nextSibling,Jt.$elm$&&3===Jt.$elm$.nodeType&&(Jt.$text$=Jt.$elm$.textContent,F.push(Jt),ct.remove(),C.$children$||(C.$children$=[]),C.$children$[Jt.$index$]=Jt,xe&&"0"===Jt.$depth$&&(xe[Jt.$index$]=Jt.$elm$))):Jt.$hostId$===Ht&&("s"===Zt?(Jt.$tag$="slot",ct["s-sn"]=$t[5]?Jt.$name$=$t[5]:"",ct["s-sr"]=!0,xe&&(Jt.$elm$=Me.createElement(Jt.$tag$),Jt.$name$&&Jt.$elm$.setAttribute("name",Jt.$name$),ct.parentNode.insertBefore(Jt.$elm$,ct),ct.remove(),"0"===Jt.$depth$&&(xe[Jt.$index$]=Jt.$elm$)),Ae.push(Jt),C.$children$||(C.$children$=[]),C.$children$[Jt.$index$]=Jt):"r"===Zt&&(xe?ct.remove():(tt["s-cr"]=ct,ct["s-cn"]=!0))));else if(C&&"style"===C.$tag$){const yn=Sn(null,ct.textContent);yn.$elm$=ct,yn.$index$="0",C.$children$=[yn]}},En=(C,F)=>{if(1===C.nodeType){let Ae=0;if(C.shadowRoot)for(;Ae<C.shadowRoot.childNodes.length;Ae++)En(C.shadowRoot.childNodes[Ae],F);for(Ae=0;Ae<C.childNodes.length;Ae++)En(C.childNodes[Ae],F)}else if(8===C.nodeType){const Ae=C.nodeValue.split(".");"o"===Ae[0]&&(F.set(Ae[1]+"."+Ae[2],C),C.nodeValue="",C["s-en"]=Ae[3])}},Kn=C=>ut.push(C),Nn=C=>Ve(C).$modeName$,Mr=C=>Ve(C).$hostElement$,Hn=(C,F,Ae)=>{const xe=Mr(C);return{emit:tt=>Si(xe,F,{bubbles:!!(4&Ae),composed:!!(2&Ae),cancelable:!!(1&Ae),detail:tt})}},Si=(C,F,Ae)=>{const xe=zt.ce(F,Ae);return C.dispatchEvent(xe),xe},nr=new WeakMap,si=(C,F,Ae)=>{var xe;const tt=at(F,Ae),ct=Xe.get(tt);if(C=11===C.nodeType?C:Me,ct)if("string"==typeof ct){let Zt,Ht=nr.get(C=C.head||C);if(Ht||nr.set(C,Ht=new Set),!Ht.has(tt)){if(C.host&&(Zt=C.querySelector(`[sty-id="${tt}"]`)))Zt.innerHTML=ct;else{Zt=Me.createElement("style"),Zt.innerHTML=ct;const $t=null!=(xe=zt.$nonce$)?xe:jt(Me);null!=$t&&Zt.setAttribute("nonce",$t),(!(1&F.$flags$)||1&F.$flags$&&"HEAD"!==C.nodeName)&&C.insertBefore(Zt,C.querySelector("link"))}4&F.$flags$&&(Zt.innerHTML+=We),Ht&&Ht.add(tt)}}else C.adoptedStyleSheets.includes(ct)||(C.adoptedStyleSheets=[...C.adoptedStyleSheets,ct]);return tt},at=(C,F)=>"sc-"+(F&&32&C.$flags$?C.$tagName$+"-"+F:C.$tagName$),xt=(C,F,Ae,xe,tt,ct)=>{if(Ae!==xe){let Ht=pe(C,F),Zt=F.toLowerCase();if("class"===F){const $t=C.classList,Jt=Rt(Ae),cn=Rt(xe);$t.remove(...Jt.filter(yn=>yn&&!cn.includes(yn))),$t.add(...cn.filter(yn=>yn&&!Jt.includes(yn)))}else if("style"===F){for(const $t in Ae)(!xe||null==xe[$t])&&($t.includes("-")?C.style.removeProperty($t):C.style[$t]="");for(const $t in xe)(!Ae||xe[$t]!==Ae[$t])&&($t.includes("-")?C.style.setProperty($t,xe[$t]):C.style[$t]=xe[$t])}else if("key"!==F)if("ref"===F)xe&&xe(C);else if(Ht||"o"!==F[0]||"n"!==F[1]){const $t=Mn(xe);if((Ht||$t&&null!==xe)&&!tt)try{if(C.tagName.includes("-"))C[F]=xe;else{const cn=null==xe?"":xe;"list"===F?Ht=!1:(null==Ae||C[F]!=cn)&&(C[F]=cn)}}catch{}let Jt=!1;Zt!==(Zt=Zt.replace(/^xlink\:?/,""))&&(F=Zt,Jt=!0),null==xe||!1===xe?(!1!==xe||""===C.getAttribute(F))&&(Jt?C.removeAttributeNS(wt,F):C.removeAttribute(F)):(!Ht||4&ct||tt)&&!$t&&(xe=!0===xe?"":xe,Jt?C.setAttributeNS(wt,F,xe):C.setAttribute(F,xe))}else if(F="-"===F[2]?F.slice(3):pe($e,Zt)?Zt.slice(2):Zt[2]+F.slice(3),Ae||xe){const $t=F.endsWith(me);F=F.replace(Ee,""),Ae&&zt.rel(C,F,Ae,$t),xe&&zt.ael(C,F,xe,$t)}}},Qe=/\s/,Rt=C=>C?C.split(Qe):[],me="Capture",Ee=new RegExp(me+"$"),Be=(C,F,Ae)=>{const xe=11===F.$elm$.nodeType&&F.$elm$.host?F.$elm$.host:F.$elm$,tt=C&&C.$attrs$||dn,ct=F.$attrs$||dn;for(const Ht of bt(Object.keys(tt)))Ht in ct||xt(xe,Ht,tt[Ht],void 0,Ae,F.$flags$);for(const Ht of bt(Object.keys(ct)))xt(xe,Ht,tt[Ht],ct[Ht],Ae,F.$flags$)};function bt(C){return C.includes("ref")?[...C.filter(F=>"ref"!==F),"ref"]:C}var ht,vn,In,lr=!1,Pr=!1,ot=!1,dr=!1,Fn=(C,F,Ae,xe)=>{var tt;const ct=F.$children$[Ae];let Zt,$t,Jt,Ht=0;if(lr||(ot=!0,"slot"===ct.$tag$&&(ht&&xe.classList.add(ht+"-s"),ct.$flags$|=ct.$children$?2:1)),null!==ct.$text$)Zt=ct.$elm$=Me.createTextNode(ct.$text$);else if(1&ct.$flags$)Zt=ct.$elm$=Me.createTextNode("");else{if(dr||(dr="svg"===ct.$tag$),Zt=ct.$elm$=Me.createElementNS(dr?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!lr&&2&ct.$flags$?"slot-fb":ct.$tag$),dr&&"foreignObject"===ct.$tag$&&(dr=!1),Be(null,ct,dr),!!Zt.getRootNode().querySelector("body")&&(C=>null!=C)(ht)&&Zt["s-si"]!==ht&&Zt.classList.add(Zt["s-si"]=ht),Bt(Zt,xe),ct.$children$)for(Ht=0;Ht<ct.$children$.length;++Ht)$t=Fn(C,ct,Ht,Zt),$t&&Zt.appendChild($t);"svg"===ct.$tag$?dr=!1:"foreignObject"===Zt.tagName&&(dr=!0)}return Zt["s-hn"]=In,3&ct.$flags$&&(Zt["s-sr"]=!0,Zt["s-cr"]=vn,Zt["s-sn"]=ct.$name$||"",Zt["s-rf"]=null==(tt=ct.$attrs$)?void 0:tt.ref,Jt=C&&C.$children$&&C.$children$[Ae],Jt&&Jt.$tag$===ct.$tag$&&C.$elm$&&kr(C.$elm$)),Zt},kr=C=>{zt.$flags$|=1;const F=C.closest(In.toLowerCase());if(null!=F){const Ae=Array.from(F.childNodes).find(tt=>tt["s-cr"]),xe=Array.from(C.childNodes);for(const tt of Ae?xe.reverse():xe)null!=tt["s-sh"]&&(ye(F,tt,null!=Ae?Ae:null),tt["s-sh"]=void 0,ot=!0)}zt.$flags$&=-2},Ti=(C,F)=>{zt.$flags$|=1;const Ae=Array.from(C.childNodes);if(C["s-sr"]){let xe=C;for(;xe=xe.nextSibling;)xe&&xe["s-sn"]===C["s-sn"]&&xe["s-sh"]===In&&Ae.push(xe)}for(let xe=Ae.length-1;xe>=0;xe--){const tt=Ae[xe];tt["s-hn"]!==In&&tt["s-ol"]&&(ye(Oi(tt),tt,Wi(tt)),tt["s-ol"].remove(),tt["s-ol"]=void 0,tt["s-sh"]=void 0,ot=!0),F&&Ti(tt,F)}zt.$flags$&=-2},_i=(C,F,Ae,xe,tt,ct)=>{let Zt,Ht=C["s-cr"]&&C["s-cr"].parentNode||C;for(Ht.shadowRoot&&Ht.tagName===In&&(Ht=Ht.shadowRoot);tt<=ct;++tt)xe[tt]&&(Zt=Fn(null,Ae,tt,C),Zt&&(xe[tt].$elm$=Zt,ye(Ht,Zt,Wi(F))))},zr=(C,F,Ae)=>{for(let xe=F;xe<=Ae;++xe){const tt=C[xe];if(tt){const ct=tt.$elm$;Z(tt),ct&&(Pr=!0,ct["s-ol"]?ct["s-ol"].remove():Ti(ct,!0),ct.remove())}}},ai=(C,F,Ae=!1)=>!(C.$tag$!==F.$tag$||("slot"===C.$tag$?"$nodeId$"in C&&Ae&&8!==C.$elm$.nodeType||C.$name$!==F.$name$:!Ae&&C.$key$!==F.$key$)),Wi=C=>C&&C["s-ol"]||C,Oi=C=>(C["s-ol"]?C["s-ol"]:C).parentNode,Nt=(C,F,Ae=!1)=>{const xe=F.$elm$=C.$elm$,tt=C.$children$,ct=F.$children$,Ht=F.$tag$,Zt=F.$text$;let $t;null===Zt?(dr="svg"===Ht||"foreignObject"!==Ht&&dr,"slot"!==Ht||lr?Be(C,F,dr):C.$name$!==F.$name$&&(F.$elm$["s-sn"]=F.$name$||"",kr(F.$elm$.parentElement)),null!==tt&&null!==ct?((C,F,Ae,xe,tt=!1)=>{let ni,xr,ct=0,Ht=0,Zt=0,$t=0,Jt=F.length-1,cn=F[0],yn=F[Jt],Ln=xe.length-1,xn=xe[0],Or=xe[Ln];for(;ct<=Jt&&Ht<=Ln;)if(null==cn)cn=F[++ct];else if(null==yn)yn=F[--Jt];else if(null==xn)xn=xe[++Ht];else if(null==Or)Or=xe[--Ln];else if(ai(cn,xn,tt))Nt(cn,xn,tt),cn=F[++ct],xn=xe[++Ht];else if(ai(yn,Or,tt))Nt(yn,Or,tt),yn=F[--Jt],Or=xe[--Ln];else if(ai(cn,Or,tt))("slot"===cn.$tag$||"slot"===Or.$tag$)&&Ti(cn.$elm$.parentNode,!1),Nt(cn,Or,tt),ye(C,cn.$elm$,yn.$elm$.nextSibling),cn=F[++ct],Or=xe[--Ln];else if(ai(yn,xn,tt))("slot"===cn.$tag$||"slot"===Or.$tag$)&&Ti(yn.$elm$.parentNode,!1),Nt(yn,xn,tt),ye(C,yn.$elm$,cn.$elm$),yn=F[--Jt],xn=xe[++Ht];else{for(Zt=-1,$t=ct;$t<=Jt;++$t)if(F[$t]&&null!==F[$t].$key$&&F[$t].$key$===xn.$key$){Zt=$t;break}Zt>=0?(xr=F[Zt],xr.$tag$!==xn.$tag$?ni=Fn(F&&F[Ht],Ae,Zt,C):(Nt(xr,xn,tt),F[Zt]=void 0,ni=xr.$elm$),xn=xe[++Ht]):(ni=Fn(F&&F[Ht],Ae,Ht,C),xn=xe[++Ht]),ni&&ye(Oi(cn.$elm$),ni,Wi(cn.$elm$))}ct>Jt?_i(C,null==xe[Ln+1]?null:xe[Ln+1].$elm$,Ae,xe,Ht,Ln):Ht>Ln&&zr(F,ct,Jt)})(xe,tt,F,ct,Ae):null!==ct?(null!==C.$text$&&(xe.textContent=""),_i(xe,null,F,ct,0,ct.length-1)):!Ae&&null!==tt&&zr(tt,0,tt.length-1),dr&&"svg"===Ht&&(dr=!1)):($t=xe["s-cr"])?$t.parentNode.textContent=Zt:C.$text$!==Zt&&(xe.data=Zt)},ee=C=>{const F=C.childNodes;for(const Ae of F)if(1===Ae.nodeType){if(Ae["s-sr"]){const xe=Ae["s-sn"];Ae.hidden=!1;for(const tt of F)if(tt!==Ae)if(tt["s-hn"]!==Ae["s-hn"]||""!==xe){if(1===tt.nodeType&&(xe===tt.getAttribute("slot")||xe===tt["s-sn"])||3===tt.nodeType&&xe===tt["s-sn"]){Ae.hidden=!0;break}}else if(1===tt.nodeType||3===tt.nodeType&&""!==tt.textContent.trim()){Ae.hidden=!0;break}}ee(Ae)}},q=[],Pe=C=>{let F,Ae,xe;for(const tt of C.childNodes){if(tt["s-sr"]&&(F=tt["s-cr"])&&F.parentNode){Ae=F.parentNode.childNodes;const ct=tt["s-sn"];for(xe=Ae.length-1;xe>=0;xe--)if(F=Ae[xe],!(F["s-cn"]||F["s-nr"]||F["s-hn"]===tt["s-hn"]||F["s-sh"]&&F["s-sh"]===tt["s-hn"]))if(Y(F,ct)){let Ht=q.find(Zt=>Zt.$nodeToRelocate$===F);Pr=!0,F["s-sn"]=F["s-sn"]||ct,Ht?(Ht.$nodeToRelocate$["s-sh"]=tt["s-hn"],Ht.$slotRefNode$=tt):(F["s-sh"]=tt["s-hn"],q.push({$slotRefNode$:tt,$nodeToRelocate$:F})),F["s-sr"]&&q.map(Zt=>{Y(Zt.$nodeToRelocate$,F["s-sn"])&&(Ht=q.find($t=>$t.$nodeToRelocate$===F),Ht&&!Zt.$slotRefNode$&&(Zt.$slotRefNode$=Ht.$slotRefNode$))})}else q.some(Ht=>Ht.$nodeToRelocate$===F)||q.push({$nodeToRelocate$:F})}1===tt.nodeType&&Pe(tt)}},Y=(C,F)=>1===C.nodeType?null===C.getAttribute("slot")&&""===F||C.getAttribute("slot")===F:C["s-sn"]===F||""===F,Z=C=>{C.$attrs$&&C.$attrs$.ref&&C.$attrs$.ref(null),C.$children$&&C.$children$.map(Z)},ye=(C,F,Ae)=>{const xe=null==C?void 0:C.insertBefore(F,Ae);return Bt(F,C),xe},gt=C=>{const F=[];return C&&F.push(...C["s-scs"]||[],C["s-si"],C["s-sc"],...gt(C.parentElement)),F},Bt=(C,F,Ae=!1)=>{var xe;if(C&&F&&1===C.nodeType){const tt=new Set(gt(F).filter(Boolean));if(tt.size&&(null==(xe=C.classList)||xe.add(...C["s-scs"]=[...tt]),C["s-ol"]||Ae))for(const ct of Array.from(C.childNodes))Bt(ct,C,!0)}},$n=(C,F)=>{F&&!C.$onRenderResolve$&&F["s-p"]&&F["s-p"].push(new Promise(Ae=>C.$onRenderResolve$=Ae))},On=(C,F)=>{if(C.$flags$|=16,!(4&C.$flags$))return $n(C,C.$ancestorComponent$),yt(()=>pi(C,F));C.$flags$|=512},pi=(C,F)=>{const tt=C.$lazyInstance$;if(!tt)throw new Error(`Can't render component <${C.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let ct;return F&&(C.$flags$|=256,C.$queuedListeners$&&(C.$queuedListeners$.map(([Ht,Zt])=>ki(tt,Ht,Zt)),C.$queuedListeners$=void 0),ct=ki(tt,"componentWillLoad")),ct=ei(ct,()=>ki(tt,"componentWillRender")),ei(ct,()=>li(C,tt,F))},ei=(C,F)=>Zn(C)?C.then(F).catch(Ae=>{console.error(Ae),F()}):F(),Zn=C=>C instanceof Promise||C&&C.then&&"function"==typeof C.then,li=function(){var C=(0,d.A)(function*(F,Ae,xe){var tt;const ct=F.$hostElement$,Zt=ct["s-rc"];xe&&(C=>{const F=C.$cmpMeta$,Ae=C.$hostElement$,xe=F.$flags$,ct=si(Ae.shadowRoot?Ae.shadowRoot:Ae.getRootNode(),F,C.$modeName$);10&xe&&2&xe&&(Ae["s-sc"]=ct,Ae.classList.add(ct+"-h"),2&xe&&Ae.classList.add(ct+"-s"))})(F);Mi(F,Ae,ct,xe),Zt&&(Zt.map(Jt=>Jt()),ct["s-rc"]=void 0);{const Jt=null!=(tt=ct["s-p"])?tt:[],cn=()=>xi(F);0===Jt.length?cn():(Promise.all(Jt).then(cn),F.$flags$|=4,Jt.length=0)}});return function(Ae,xe,tt){return C.apply(this,arguments)}}(),Mi=(C,F,Ae,xe)=>{try{F=F.render&&F.render(),C.$flags$&=-17,C.$flags$|=2,((C,F,Ae=!1)=>{var xe,tt,ct,Ht,Zt;const $t=C.$hostElement$,Jt=C.$cmpMeta$,cn=C.$vnode$||Sn(null,null),yn=(C=>C&&C.$tag$===kt)(F)?F:Bn(null,null,F);if(In=$t.tagName,Jt.$attrsToReflect$&&(yn.$attrs$=yn.$attrs$||{},Jt.$attrsToReflect$.map(([Ln,xn])=>yn.$attrs$[xn]=$t[Ln])),Ae&&yn.$attrs$)for(const Ln of Object.keys(yn.$attrs$))$t.hasAttribute(Ln)&&!["key","ref","style","class"].includes(Ln)&&(yn.$attrs$[Ln]=$t[Ln]);if(yn.$tag$=null,yn.$flags$|=4,C.$vnode$=yn,yn.$elm$=cn.$elm$=$t.shadowRoot||$t,ht=$t["s-sc"],lr=!!(1&Jt.$flags$),vn=$t["s-cr"],Pr=!1,Nt(cn,yn,Ae),zt.$flags$|=1,ot){Pe(yn.$elm$);for(const Ln of q){const xn=Ln.$nodeToRelocate$;if(!xn["s-ol"]){const Or=Me.createTextNode("");Or["s-nr"]=xn,ye(xn.parentNode,xn["s-ol"]=Or,xn)}}for(const Ln of q){const xn=Ln.$nodeToRelocate$,Or=Ln.$slotRefNode$;if(Or){const ni=Or.parentNode;let xr=Or.nextSibling;if(xr&&1===xr.nodeType){let jr=null==(xe=xn["s-ol"])?void 0:xe.previousSibling;for(;jr;){let Fr=null!=(tt=jr["s-nr"])?tt:null;if(Fr&&Fr["s-sn"]===xn["s-sn"]&&ni===Fr.parentNode){for(Fr=Fr.nextSibling;Fr===xn||null!=Fr&&Fr["s-sr"];)Fr=null==Fr?void 0:Fr.nextSibling;if(!Fr||!Fr["s-nr"]){xr=Fr;break}}jr=jr.previousSibling}}(!xr&&ni!==xn.parentNode||xn.nextSibling!==xr)&&xn!==xr&&(ye(ni,xn,xr),1===xn.nodeType&&(xn.hidden=null!=(ct=xn["s-ih"])&&ct)),xn&&"function"==typeof Or["s-rf"]&&Or["s-rf"](xn)}else 1===xn.nodeType&&(Ae&&(xn["s-ih"]=null!=(Ht=xn.hidden)&&Ht),xn.hidden=!0)}}if(Pr&&ee(yn.$elm$),zt.$flags$&=-2,q.length=0,2&Jt.$flags$)for(const Ln of yn.$elm$.childNodes)Ln["s-hn"]!==In&&!Ln["s-sh"]&&(Ae&&null==Ln["s-ih"]&&(Ln["s-ih"]=null!=(Zt=Ln.hidden)&&Zt),Ln.hidden=!0);vn=void 0})(C,F,xe)}catch(tt){ke(tt,C.$hostElement$)}return null},xi=C=>{const Ae=C.$hostElement$,tt=C.$lazyInstance$,ct=C.$ancestorComponent$;ki(tt,"componentDidRender"),64&C.$flags$?ki(tt,"componentDidUpdate"):(C.$flags$|=64,Pi(Ae),ki(tt,"componentDidLoad"),C.$onReadyResolve$(Ae),ct||Ji()),C.$onInstanceResolve$(Ae),C.$onRenderResolve$&&(C.$onRenderResolve$(),C.$onRenderResolve$=void 0),512&C.$flags$&&ze(()=>On(C,!1)),C.$flags$&=-517},ti=C=>{{const F=Ve(C),Ae=F.$hostElement$.isConnected;return Ae&&2==(18&F.$flags$)&&On(F,!1),Ae}},Ji=C=>{Pi(Me.documentElement),ze(()=>Si($e,"appload",{detail:{namespace:"ionic"}}))},ki=(C,F,Ae)=>{if(C&&C[F])try{return C[F](Ae)}catch(xe){ke(xe)}},Pi=C=>C.classList.add("hydrated"),Go=(C,F,Ae)=>{var xe,tt;const ct=C.prototype;if(F.$members$||F.$watchers$||C.watchers){C.watchers&&!F.$watchers$&&(F.$watchers$=C.watchers);const Ht=Object.entries(null!=(xe=F.$members$)?xe:{});if(Ht.map(([Zt,[$t]])=>{31&$t||2&Ae&&32&$t?Object.defineProperty(ct,Zt,{get(){return((C,F)=>Ve(this).$instanceValues$.get(F))(0,Zt)},set(Jt){((C,F,Ae,xe)=>{const tt=Ve(C);if(!tt)throw new Error(`Couldn't find host element for "${xe.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const ct=tt.$hostElement$,Ht=tt.$instanceValues$.get(F),Zt=tt.$flags$,$t=tt.$lazyInstance$;Ae=((C,F)=>null==C||Mn(C)?C:4&F?"false"!==C&&(""===C||!!C):2&F?parseFloat(C):1&F?String(C):C)(Ae,xe.$members$[F][0]);const Jt=Number.isNaN(Ht)&&Number.isNaN(Ae);if((!(8&Zt)||void 0===Ht)&&Ae!==Ht&&!Jt&&(tt.$instanceValues$.set(F,Ae),$t)){if(xe.$watchers$&&128&Zt){const yn=xe.$watchers$[F];yn&&yn.map(Ln=>{try{$t[Ln](Ae,Ht,F)}catch(xn){ke(xn,ct)}})}2==(18&Zt)&&On(tt,!1)}})(this,Zt,Jt,F)},configurable:!0,enumerable:!0}):1&Ae&&64&$t&&Object.defineProperty(ct,Zt,{value(...Jt){var cn;const yn=Ve(this);return null==(cn=null==yn?void 0:yn.$onInstancePromise$)?void 0:cn.then(()=>{var Ln;return null==(Ln=yn.$lazyInstance$)?void 0:Ln[Zt](...Jt)})}})}),1&Ae){const Zt=new Map;ct.attributeChangedCallback=function($t,Jt,cn){zt.jmp(()=>{var yn;const Ln=Zt.get($t);if(this.hasOwnProperty(Ln))cn=this[Ln],delete this[Ln];else{if(ct.hasOwnProperty(Ln)&&"number"==typeof this[Ln]&&this[Ln]==cn)return;if(null==Ln){const xn=Ve(this),Or=null==xn?void 0:xn.$flags$;if(Or&&!(8&Or)&&128&Or&&cn!==Jt){const ni=xn.$lazyInstance$,xr=null==(yn=F.$watchers$)?void 0:yn[$t];null==xr||xr.forEach(jr=>{null!=ni[jr]&&ni[jr].call(ni,cn,Jt,$t)})}return}}this[Ln]=(null!==cn||"boolean"!=typeof this[Ln])&&cn})},C.observedAttributes=Array.from(new Set([...Object.keys(null!=(tt=F.$watchers$)?tt:{}),...Ht.filter(([$t,Jt])=>15&Jt[0]).map(([$t,Jt])=>{var cn;const yn=Jt[1]||$t;return Zt.set(yn,$t),512&Jt[0]&&(null==(cn=F.$attrsToReflect$)||cn.push([$t,yn])),yn})]))}}return C},ys=function(){var C=(0,d.A)(function*(F,Ae,xe,tt){let ct;if(!(32&Ae.$flags$)){if(Ae.$flags$|=32,xe.$lazyBundleId$){const Jt=(C=>{const xe=C.$tagName$.replace(/-/g,"_"),tt=C.$lazyBundleId$;if(!tt)return;const ct=He.get(tt);return ct?ct[xe]:U(8996)(`./${tt}.entry.js`).then(Ht=>(He.set(tt,Ht),Ht[xe]),ke)})(xe);if(Jt&&"then"in Jt){const yn=()=>{};ct=yield Jt,yn()}else ct=Jt;if(!ct)throw new Error(`Constructor for "${xe.$tagName$}#${Ae.$modeName$}" was not found`);ct.isProxied||(xe.$watchers$=ct.watchers,Go(ct,xe,2),ct.isProxied=!0);const cn=()=>{};Ae.$flags$|=8;try{new ct(Ae)}catch(yn){ke(yn)}Ae.$flags$&=-9,Ae.$flags$|=128,cn(),ns(Ae.$lazyInstance$)}else ct=F.constructor,customElements.whenDefined(F.localName).then(()=>Ae.$flags$|=128);if(ct&&ct.style){let Jt;"string"==typeof ct.style?Jt=ct.style:"string"!=typeof ct.style&&(Ae.$modeName$=(C=>ut.map(F=>F(C)).find(F=>!!F))(F),Ae.$modeName$&&(Jt=ct.style[Ae.$modeName$]));const cn=at(xe,Ae.$modeName$);if(!Xe.has(cn)){const yn=()=>{};((C,F,Ae)=>{let xe=Xe.get(C);be&&Ae?(xe=xe||new CSSStyleSheet,"string"==typeof xe?xe=F:xe.replaceSync(F)):xe=F,Xe.set(C,xe)})(cn,Jt,!!(1&xe.$flags$)),yn()}}}const Ht=Ae.$ancestorComponent$,Zt=()=>On(Ae,!0);Ht&&Ht["s-rc"]?Ht["s-rc"].push(Zt):Zt()});return function(Ae,xe,tt,ct){return C.apply(this,arguments)}}(),ns=C=>{ki(C,"connectedCallback")},So=C=>{const F=C["s-cr"]=Me.createComment("");F["s-cn"]=!0,ye(C,F,C.firstChild)},Fi=C=>{ki(C,"disconnectedCallback")},Gs=function(){var C=(0,d.A)(function*(F){if(!(1&zt.$flags$)){const Ae=Ve(F);Ae.$rmListeners$&&(Ae.$rmListeners$.map(xe=>xe()),Ae.$rmListeners$=void 0),null!=Ae&&Ae.$lazyInstance$?Fi(Ae.$lazyInstance$):null!=Ae&&Ae.$onReadyPromise$&&Ae.$onReadyPromise$.then(()=>Fi(Ae.$lazyInstance$))}});return function(Ae){return C.apply(this,arguments)}}(),rs=C=>{const F=C.cloneNode;C.cloneNode=function(Ae){const xe=this,tt=xe.shadowRoot&&true,ct=F.call(xe,!!tt&&Ae);if(!tt&&Ae){let Zt,$t,Ht=0;const Jt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Ht<xe.childNodes.length;Ht++)Zt=xe.childNodes[Ht]["s-nr"],$t=Jt.every(cn=>!xe.childNodes[Ht][cn]),Zt&&(ct.__appendChild?ct.__appendChild(Zt.cloneNode(!0)):ct.appendChild(Zt.cloneNode(!0))),$t&&ct.appendChild(xe.childNodes[Ht].cloneNode(!0))}return ct}},ha=C=>{C.__appendChild=C.appendChild,C.appendChild=function(F){const Ae=F["s-sn"]=bi(F),xe=Dr(this.childNodes,Ae,this.tagName);if(xe){const tt=Os(xe,Ae),ct=tt[tt.length-1],Ht=ye(ct.parentNode,F,ct.nextSibling);return ee(this),Ht}return this.__appendChild(F)}},Ws=C=>{C.__removeChild=C.removeChild,C.removeChild=function(F){if(F&&typeof F["s-sn"]<"u"){const Ae=Dr(this.childNodes,F["s-sn"],this.tagName);if(Ae){const tt=Os(Ae,F["s-sn"]).find(ct=>ct===F);if(tt)return tt.remove(),void ee(this)}}return this.__removeChild(F)}},is=C=>{const F=C.prepend;C.prepend=function(...Ae){Ae.forEach(xe=>{"string"==typeof xe&&(xe=this.ownerDocument.createTextNode(xe));const tt=xe["s-sn"]=bi(xe),ct=Dr(this.childNodes,tt,this.tagName);if(ct){const Ht=document.createTextNode("");Ht["s-nr"]=xe,ct["s-cr"].parentNode.__appendChild(Ht),xe["s-ol"]=Ht;const $t=Os(ct,tt)[0];return ye($t.parentNode,xe,$t.nextSibling)}return 1===xe.nodeType&&xe.getAttribute("slot")&&(xe.hidden=!0),F.call(this,xe)})}},Gr=C=>{C.append=function(...F){F.forEach(Ae=>{"string"==typeof Ae&&(Ae=this.ownerDocument.createTextNode(Ae)),this.appendChild(Ae)})}},Ra=C=>{const F=C.insertAdjacentHTML;C.insertAdjacentHTML=function(Ae,xe){if("afterbegin"!==Ae&&"beforeend"!==Ae)return F.call(this,Ae,xe);const tt=this.ownerDocument.createElement("_");let ct;if(tt.innerHTML=xe,"afterbegin"===Ae)for(;ct=tt.firstChild;)this.prepend(ct);else if("beforeend"===Ae)for(;ct=tt.firstChild;)this.append(ct)}},Mo=C=>{C.insertAdjacentText=function(F,Ae){this.insertAdjacentHTML(F,Ae)}},qa=C=>{const F=C.insertAdjacentElement;C.insertAdjacentElement=function(Ae,xe){return"afterbegin"!==Ae&&"beforeend"!==Ae?F.call(this,Ae,xe):"afterbegin"===Ae?(this.prepend(xe),xe):("beforeend"===Ae&&this.append(xe),xe)}},Ks=C=>{const F=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(C,"__textContent",F),Object.defineProperty(C,"textContent",{get(){return" "+Po(this.childNodes).map(tt=>{var ct,Ht;const Zt=[];let $t=tt.nextSibling;for(;$t&&$t["s-sn"]===tt["s-sn"];)(3===$t.nodeType||1===$t.nodeType)&&Zt.push(null!=(Ht=null==(ct=$t.textContent)?void 0:ct.trim())?Ht:""),$t=$t.nextSibling;return Zt.filter(Jt=>""!==Jt).join(" ")}).filter(tt=>""!==tt).join(" ")+" "},set(Ae){Po(this.childNodes).forEach(tt=>{let ct=tt.nextSibling;for(;ct&&ct["s-sn"]===tt["s-sn"];){const Ht=ct;ct=ct.nextSibling,Ht.remove()}if(""===tt["s-sn"]){const Ht=this.ownerDocument.createTextNode(Ae);Ht["s-sn"]="",ye(tt.parentElement,Ht,tt.nextSibling)}else tt.remove()})}})},qr=(C,F)=>{class Ae extends Array{item(tt){return this[tt]}}if(8&F.$flags$){const xe=C.__lookupGetter__("childNodes");Object.defineProperty(C,"children",{get(){return this.childNodes.map(tt=>1===tt.nodeType)}}),Object.defineProperty(C,"childElementCount",{get:()=>C.children.length}),Object.defineProperty(C,"childNodes",{get(){const tt=xe.call(this);if(!(1&zt.$flags$)&&2&Ve(this).$flags$){const ct=new Ae;for(let Ht=0;Ht<tt.length;Ht++){const Zt=tt[Ht]["s-nr"];Zt&&ct.push(Zt)}return ct}return Ae.from(tt)}})}},Po=C=>{const F=[];for(const Ae of Array.from(C))Ae["s-sr"]&&F.push(Ae),F.push(...Po(Ae.childNodes));return F},bi=C=>C["s-sn"]||1===C.nodeType&&C.getAttribute("slot")||"",Dr=(C,F,Ae)=>{let tt,xe=0;for(;xe<C.length;xe++)if(tt=C[xe],tt["s-sr"]&&tt["s-sn"]===F&&tt["s-hn"]===Ae||(tt=Dr(tt.childNodes,F,Ae),tt))return tt;return null},Os=(C,F)=>{const Ae=[C];for(;(C=C.nextSibling)&&C["s-sn"]===F;)Ae.push(C);return Ae},No=(C,F={})=>{var Ae;const tt=[],ct=F.exclude||[],Ht=$e.customElements,Zt=Me.head,$t=Zt.querySelector("meta[charset]"),Jt=Me.createElement("style"),cn=[];let yn,Ln=!0;Object.assign(zt,F),zt.$resourcesUrl$=new URL(F.resourcesUrl||"./",Me.baseURI).href,zt.$flags$|=2;let xn=!1;if(C.map(Or=>{Or[1].map(ni=>{var xr;const jr={$flags$:ni[0],$tagName$:ni[1],$members$:ni[2],$listeners$:ni[3]};4&jr.$flags$&&(xn=!0),jr.$members$=ni[2],jr.$listeners$=ni[3],jr.$attrsToReflect$=[],jr.$watchers$=null!=(xr=ni[4])?xr:{};const Fr=jr.$tagName$,po=class extends HTMLElement{constructor(Ki){if(super(Ki),this.hasRegisteredEventListeners=!1,((C,F)=>{const Ae={$flags$:0,$hostElement$:C,$cmpMeta$:F,$instanceValues$:new Map};Ae.$onInstancePromise$=new Promise(xe=>Ae.$onInstanceResolve$=xe),Ae.$onReadyPromise$=new Promise(xe=>Ae.$onReadyResolve$=xe),C["s-p"]=[],C["s-rc"]=[],Se.set(C,Ae)})(Ki=this,jr),1&jr.$flags$)if(Ki.shadowRoot){if("open"!==Ki.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${jr.$tagName$}! Mode is set to ${Ki.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else Ki.attachShadow({mode:"open",delegatesFocus:!!(16&jr.$flags$)})}connectedCallback(){const Ki=Ve(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,$r(this,Ki,jr.$listeners$)),yn&&(clearTimeout(yn),yn=null),Ln?cn.push(this):zt.jmp(()=>(C=>{if(!(1&zt.$flags$)){const F=Ve(C),Ae=F.$cmpMeta$,xe=()=>{};if(1&F.$flags$)$r(C,F,Ae.$listeners$),null!=F&&F.$lazyInstance$?ns(F.$lazyInstance$):null!=F&&F.$onReadyPromise$&&F.$onReadyPromise$.then(()=>ns(F.$lazyInstance$));else{let tt;if(F.$flags$|=1,tt=C.getAttribute(ve),tt){if(1&Ae.$flags$){const ct=si(C.shadowRoot,Ae,C.getAttribute("s-mode"));C.classList.remove(ct+"-h",ct+"-s")}((C,F,Ae,xe)=>{const ct=C.shadowRoot,Ht=[],$t=ct?[]:null,Jt=xe.$vnode$=Sn(F,null);zt.$orgLocNodes$||En(Me.body,zt.$orgLocNodes$=new Map),C[ve]=Ae,C.removeAttribute(ve),mi(Jt,Ht,[],$t,C,C,Ae),Ht.map(cn=>{const yn=cn.$hostId$+"."+cn.$nodeId$,Ln=zt.$orgLocNodes$.get(yn),xn=cn.$elm$;Ln&&""===Ln["s-en"]&&Ln.parentNode.insertBefore(xn,Ln.nextSibling),ct||(xn["s-hn"]=F,Ln&&(xn["s-ol"]=Ln,xn["s-ol"]["s-nr"]=xn)),zt.$orgLocNodes$.delete(yn)}),ct&&$t.map(cn=>{cn&&ct.appendChild(cn)})})(C,Ae.$tagName$,tt,F)}tt||12&Ae.$flags$&&So(C);{let ct=C;for(;ct=ct.parentNode||ct.host;)if(1===ct.nodeType&&ct.hasAttribute("s-id")&&ct["s-p"]||ct["s-p"]){$n(F,F.$ancestorComponent$=ct);break}}Ae.$members$&&Object.entries(Ae.$members$).map(([ct,[Ht]])=>{if(31&Ht&&C.hasOwnProperty(ct)){const Zt=C[ct];delete C[ct],C[ct]=Zt}}),ys(C,F,Ae)}xe()}})(this))}disconnectedCallback(){zt.jmp(()=>Gs(this))}componentOnReady(){return Ve(this).$onReadyPromise$}};2&jr.$flags$&&((C,F)=>{rs(C),ha(C),Gr(C),is(C),qa(C),Ra(C),Mo(C),Ks(C),qr(C,F),Ws(C)})(po.prototype,jr),jr.$lazyBundleId$=Or[0],!ct.includes(Fr)&&!Ht.get(Fr)&&(tt.push(Fr),Ht.define(Fr,Go(po,jr,1)))})}),tt.length>0&&(xn&&(Jt.textContent+=We),Jt.textContent+=tt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Jt.innerHTML.length)){Jt.setAttribute("data-styles","");const Or=null!=(Ae=zt.$nonce$)?Ae:jt(Me);null!=Or&&Jt.setAttribute("nonce",Or),Zt.insertBefore(Jt,$t?$t.nextSibling:Zt.firstChild)}Ln=!1,cn.length?cn.map(Or=>Or.connectedCallback()):zt.jmp(()=>yn=setTimeout(Ji,30))},$r=(C,F,Ae,xe)=>{Ae&&Ae.map(([tt,ct,Ht])=>{const Zt=K(C,tt),$t=R(F,Ht),Jt=ue(tt);zt.ael(Zt,ct,$t,Jt),(F.$rmListeners$=F.$rmListeners$||[]).push(()=>zt.rel(Zt,ct,$t,Jt))})},R=(C,F)=>Ae=>{var xe;try{256&C.$flags$?null==(xe=C.$lazyInstance$)||xe[F](Ae):(C.$queuedListeners$=C.$queuedListeners$||[]).push([F,Ae])}catch(tt){ke(tt)}},K=(C,F)=>4&F?Me:8&F?$e:16&F?Me.body:C,ue=C=>bn?{passive:!!(1&C),capture:!!(2&C)}:!!(2&C)},8607:(hn,pt,U)=>{"use strict";U.r(pt),U.d(pt,{GESTURE_CONTROLLER:()=>d.G,createGesture:()=>qe});var d=U(1970);const f=(He,Ue,Xe,ut)=>{const Ze=J(He)?{capture:!!ut.capture,passive:!!ut.passive}:!!ut.capture;let rt,et;return He.__zone_symbol__addEventListener?(rt="__zone_symbol__addEventListener",et="__zone_symbol__removeEventListener"):(rt="addEventListener",et="removeEventListener"),He[rt](Ue,Xe,Ze),()=>{He[et](Ue,Xe,Ze)}},J=He=>{if(void 0===ne)try{const Ue=Object.defineProperty({},"passive",{get:()=>{ne=!0}});He.addEventListener("optsTest",()=>{},Ue)}catch{ne=!1}return!!ne};let ne;const Se=He=>He instanceof Document?He:He.ownerDocument,qe=He=>{let Ue=!1,Xe=!1,ut=!0,Ze=!1;const rt=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},He),et=rt.canStart,st=rt.onWillStart,ve=rt.onStart,ge=rt.onEnd,Ie=rt.notCaptured,Je=rt.onMove,We=rt.threshold,wt=rt.passive,$e=rt.blurOnStart,Me={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Lt=((He,Ue,Xe)=>{const ut=Xe*(Math.PI/180),Ze="x"===He,rt=Math.cos(ut),et=Ue*Ue;let st=0,ve=0,ge=!1,Ie=0;return{start(Je,We){st=Je,ve=We,Ie=0,ge=!0},detect(Je,We){if(!ge)return!1;const wt=Je-st,$e=We-ve,Me=wt*wt+$e*$e;if(Me<et)return!1;const Lt=Math.sqrt(Me),zt=(Ze?wt:$e)/Lt;return Ie=zt>rt?1:zt<-rt?-1:0,ge=!1,!0},isGesture:()=>0!==Ie,getDirection:()=>Ie}})(rt.direction,rt.threshold,rt.maxAngle),zt=d.G.createGesture({name:He.gestureName,priority:He.gesturePriority,disableScroll:He.disableScroll}),bn=()=>{Ue&&(Ze=!1,Je&&Je(Me))},Ot=()=>!!zt.capture()&&(Ue=!0,ut=!1,Me.startX=Me.currentX,Me.startY=Me.currentY,Me.startTime=Me.currentTime,st?st(Me).then(X):X(),!0),X=()=>{$e&&(()=>{if(typeof document<"u"){const nt=document.activeElement;null!=nt&&nt.blur&&nt.blur()}})(),ve&&ve(Me),ut=!0},Q=()=>{Ue=!1,Xe=!1,Ze=!1,ut=!0,zt.release()},re=nt=>{const ze=Ue,Pt=ut;if(Q(),Pt){if(Ce(Me,nt),ze)return void(ge&&ge(Me));Ie&&Ie(Me)}},Ne=((He,Ue,Xe,ut,Ze)=>{let rt,et,st,ve,ge,Ie,Je,We=0;const wt=be=>{We=Date.now()+2e3,Ue(be)&&(!et&&Xe&&(et=f(He,"touchmove",Xe,Ze)),st||(st=f(be.target,"touchend",Me,Ze)),ve||(ve=f(be.target,"touchcancel",Me,Ze)))},$e=be=>{We>Date.now()||Ue(be)&&(!Ie&&Xe&&(Ie=f(Se(He),"mousemove",Xe,Ze)),Je||(Je=f(Se(He),"mouseup",Lt,Ze)))},Me=be=>{zt(),ut&&ut(be)},Lt=be=>{an(),ut&&ut(be)},zt=()=>{et&&et(),st&&st(),ve&&ve(),et=st=ve=void 0},an=()=>{Ie&&Ie(),Je&&Je(),Ie=Je=void 0},en=()=>{zt(),an()},bn=(be=!0)=>{be?(rt||(rt=f(He,"touchstart",wt,Ze)),ge||(ge=f(He,"mousedown",$e,Ze))):(rt&&rt(),ge&&ge(),rt=ge=void 0,en())};return{enable:bn,stop:en,destroy:()=>{bn(!1),ut=Xe=Ue=void 0}}})(rt.el,nt=>{const ze=ke(nt);return!(Xe||!ut||(pe(nt,Me),Me.startX=Me.currentX,Me.startY=Me.currentY,Me.startTime=Me.currentTime=ze,Me.velocityX=Me.velocityY=Me.deltaX=Me.deltaY=0,Me.event=nt,et&&!1===et(Me))||(zt.release(),!zt.start()))&&(Xe=!0,0===We?Ot():(Lt.start(Me.startX,Me.startY),!0))},nt=>{Ue?!Ze&&ut&&(Ze=!0,Ce(Me,nt),requestAnimationFrame(bn)):(Ce(Me,nt),Lt.detect(Me.currentX,Me.currentY)&&(!Lt.isGesture()||!Ot())&&ft())},re,{capture:!1,passive:wt}),ft=()=>{Q(),Ne.stop(),Ie&&Ie(Me)};return{enable(nt=!0){nt||(Ue&&re(void 0),Q()),Ne.enable(nt)},destroy(){zt.destroy(),Ne.destroy()}}},Ce=(He,Ue)=>{if(!Ue)return;const Xe=He.currentX,ut=He.currentY,Ze=He.currentTime;pe(Ue,He);const rt=He.currentX,et=He.currentY,ve=(He.currentTime=ke(Ue))-Ze;if(ve>0&&ve<100){const Ie=(et-ut)/ve;He.velocityX=(rt-Xe)/ve*.7+.3*He.velocityX,He.velocityY=.7*Ie+.3*He.velocityY}He.deltaX=rt-He.startX,He.deltaY=et-He.startY,He.event=Ue},pe=(He,Ue)=>{let Xe=0,ut=0;if(He){const Ze=He.changedTouches;if(Ze&&Ze.length>0){const rt=Ze[0];Xe=rt.clientX,ut=rt.clientY}else void 0!==He.pageX&&(Xe=He.pageX,ut=He.pageY)}Ue.currentX=Xe,Ue.currentY=ut},ke=He=>He.timeStamp||Date.now()},3604:(hn,pt,U)=>{"use strict";U.d(pt,{b:()=>Ve,c:()=>qe,d:()=>Ce,e:()=>en,g:()=>be,l:()=>zt,s:()=>bn,t:()=>rt,w:()=>an});var d=U(467),f=U(9483),J=U(4261),ne=U(4929),de=U(4920);const Ve="ionViewWillLeave",qe="ionViewDidLeave",Ce="ionViewWillUnload",pe=X=>{X.tabIndex=-1,X.focus()},ke=X=>null!==X.offsetParent,Ue="ion-last-focus",Ze_saveViewFocus=re=>{if(f.c.get("focusManagerPriority",!1)){const ft=document.activeElement;null!==ft&&null!=re&&re.contains(ft)&&ft.setAttribute(Ue,"true")}},Ze_setViewFocus=re=>{const Ne=f.c.get("focusManagerPriority",!1);if(Array.isArray(Ne)&&!re.contains(document.activeElement)){const ft=re.querySelector(`[${Ue}]`);if(ft&&ke(ft))return void pe(ft);for(const nt of Ne)switch(nt){case"content":const ze=re.querySelector('main, [role="main"]');if(ze&&ke(ze))return void pe(ze);break;case"heading":const Pt=re.querySelector('h1, [role="heading"][aria-level="1"]');if(Pt&&ke(Pt))return void pe(Pt);break;case"banner":const yt=re.querySelector('header, [role="banner"]');if(yt&&ke(yt))return void pe(yt);break;default:(0,ne.p)(`Unrecognized focus manager priority value ${nt}`)}pe(re)}},rt=X=>new Promise((Q,re)=>{(0,J.w)(()=>{et(X),st(X).then(Ne=>{Ne.animation&&Ne.animation.destroy(),ve(X),Q(Ne)},Ne=>{ve(X),re(Ne)})})}),et=X=>{const Q=X.enteringEl,re=X.leavingEl;Ze_saveViewFocus(re),Ot(Q,re,X.direction),X.showGoBack?Q.classList.add("can-go-back"):Q.classList.remove("can-go-back"),bn(Q,!1),Q.style.setProperty("pointer-events","none"),re&&(bn(re,!1),re.style.setProperty("pointer-events","none"))},st=function(){var X=(0,d.A)(function*(Q){const re=yield ge(Q);return re&&J.B.isBrowser?Ie(re,Q):Je(Q)});return function(re){return X.apply(this,arguments)}}(),ve=X=>{const Q=X.enteringEl,re=X.leavingEl;Q.classList.remove("ion-page-invisible"),Q.style.removeProperty("pointer-events"),void 0!==re&&(re.classList.remove("ion-page-invisible"),re.style.removeProperty("pointer-events")),Ze_setViewFocus(Q)},ge=function(){var X=(0,d.A)(function*(Q){return Q.leavingEl&&Q.animated&&0!==Q.duration?Q.animationBuilder?Q.animationBuilder:"ios"===Q.mode?(yield Promise.resolve().then(U.bind(U,5022))).iosTransitionAnimation:(yield Promise.resolve().then(U.bind(U,3615))).mdTransitionAnimation:void 0});return function(re){return X.apply(this,arguments)}}(),Ie=function(){var X=(0,d.A)(function*(Q,re){yield We(re,!0);const Ne=Q(re.baseEl,re);Me(re.enteringEl,re.leavingEl);const ft=yield $e(Ne,re);return re.progressCallback&&re.progressCallback(void 0),ft&&Lt(re.enteringEl,re.leavingEl),{hasCompleted:ft,animation:Ne}});return function(re,Ne){return X.apply(this,arguments)}}(),Je=function(){var X=(0,d.A)(function*(Q){const re=Q.enteringEl,Ne=Q.leavingEl,ft=f.c.get("focusManagerPriority",!1);return yield We(Q,ft),Me(re,Ne),Lt(re,Ne),{hasCompleted:!0}});return function(re){return X.apply(this,arguments)}}(),We=function(){var X=(0,d.A)(function*(Q,re){(void 0!==Q.deepWait?Q.deepWait:re)&&(yield Promise.all([en(Q.enteringEl),en(Q.leavingEl)])),yield wt(Q.viewIsReady,Q.enteringEl)});return function(re,Ne){return X.apply(this,arguments)}}(),wt=function(){var X=(0,d.A)(function*(Q,re){Q&&(yield Q(re))});return function(re,Ne){return X.apply(this,arguments)}}(),$e=(X,Q)=>{const re=Q.progressCallback,Ne=new Promise(ft=>{X.onFinish(nt=>ft(1===nt))});return re?(X.progressStart(!0),re(X)):X.play(),Ne},Me=(X,Q)=>{zt(Q,Ve),zt(X,"ionViewWillEnter")},Lt=(X,Q)=>{zt(X,"ionViewDidEnter"),zt(Q,qe)},zt=(X,Q)=>{if(X){const re=new CustomEvent(Q,{bubbles:!1,cancelable:!1});X.dispatchEvent(re)}},an=()=>new Promise(X=>(0,de.r)(()=>(0,de.r)(()=>X()))),en=function(){var X=(0,d.A)(function*(Q){const re=Q;if(re){if(null!=re.componentOnReady){if(null!=(yield re.componentOnReady()))return}else if(null!=re.__registerHost)return void(yield new Promise(ft=>(0,de.r)(ft)));yield Promise.all(Array.from(re.children).map(en))}});return function(re){return X.apply(this,arguments)}}(),bn=(X,Q)=>{Q?(X.setAttribute("aria-hidden","true"),X.classList.add("ion-page-hidden")):(X.hidden=!1,X.removeAttribute("aria-hidden"),X.classList.remove("ion-page-hidden"))},Ot=(X,Q,re)=>{void 0!==X&&(X.style.zIndex="back"===re?"99":"101"),void 0!==Q&&(Q.style.zIndex="100")},be=X=>X.classList.contains("ion-page")?X:X.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||X},4929:(hn,pt,U)=>{"use strict";U.d(pt,{a:()=>f,b:()=>J,p:()=>d});const d=(ne,...de)=>console.warn(`[Ionic Warning]: ${ne}`,...de),f=(ne,...de)=>console.error(`[Ionic Error]: ${ne}`,...de),J=(ne,...de)=>console.error(`<${ne.tagName.toLowerCase()}> must be used inside ${de.join(" or ")}.`)},8476:(hn,pt,U)=>{"use strict";U.d(pt,{d:()=>f,w:()=>d});const d=typeof window<"u"?window:void 0,f=typeof document<"u"?document:void 0},9568:(hn,pt,U)=>{"use strict";U.d(pt,{m:()=>He});var d=U(467),f=U(8476),J=U(7192),ne=U(4929),de=U(4920),le=U(9483),Se=U(9986);const Ve=Ue=>(0,Se.c)().duration(Ue?400:300),qe=Ue=>{let Xe,ut;const Ze=Ue.width+8,rt=(0,Se.c)(),et=(0,Se.c)();Ue.isEndSide?(Xe=Ze+"px",ut="0px"):(Xe=-Ze+"px",ut="0px"),rt.addElement(Ue.menuInnerEl).fromTo("transform",`translateX(${Xe})`,`translateX(${ut})`);const ve="ios"===(0,le.b)(Ue),ge=ve?.2:.25;return et.addElement(Ue.backdropEl).fromTo("opacity",.01,ge),Ve(ve).addAnimation([rt,et])},Ce=Ue=>{let Xe,ut;const Ze=(0,le.b)(Ue),rt=Ue.width;Ue.isEndSide?(Xe=-rt+"px",ut=rt+"px"):(Xe=rt+"px",ut=-rt+"px");const et=(0,Se.c)().addElement(Ue.menuInnerEl).fromTo("transform",`translateX(${ut})`,"translateX(0px)"),st=(0,Se.c)().addElement(Ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${Xe})`),ve=(0,Se.c)().addElement(Ue.backdropEl).fromTo("opacity",.01,.32);return Ve("ios"===Ze).addAnimation([et,st,ve])},pe=Ue=>{const Xe=(0,le.b)(Ue),ut=Ue.width*(Ue.isEndSide?-1:1)+"px",Ze=(0,Se.c)().addElement(Ue.contentEl).fromTo("transform","translateX(0px)",`translateX(${ut})`);return Ve("ios"===Xe).addAnimation(Ze)},He=(()=>{const Ue=new Map,Xe=[],ut=function(){var Q=(0,d.A)(function*(re){const Ne=yield Ie(re,!0);return!!Ne&&Ne.open()});return function(Ne){return Q.apply(this,arguments)}}(),Ze=function(){var Q=(0,d.A)(function*(re){const Ne=yield void 0!==re?Ie(re,!0):Je();return void 0!==Ne&&Ne.close()});return function(Ne){return Q.apply(this,arguments)}}(),rt=function(){var Q=(0,d.A)(function*(re){const Ne=yield Ie(re,!0);return!!Ne&&Ne.toggle()});return function(Ne){return Q.apply(this,arguments)}}(),et=function(){var Q=(0,d.A)(function*(re,Ne){const ft=yield Ie(Ne);return ft&&(ft.disabled=!re),ft});return function(Ne,ft){return Q.apply(this,arguments)}}(),st=function(){var Q=(0,d.A)(function*(re,Ne){const ft=yield Ie(Ne);return ft&&(ft.swipeGesture=re),ft});return function(Ne,ft){return Q.apply(this,arguments)}}(),ve=function(){var Q=(0,d.A)(function*(re){if(null!=re){const Ne=yield Ie(re);return void 0!==Ne&&Ne.isOpen()}return void 0!==(yield Je())});return function(Ne){return Q.apply(this,arguments)}}(),ge=function(){var Q=(0,d.A)(function*(re){const Ne=yield Ie(re);return!!Ne&&!Ne.disabled});return function(Ne){return Q.apply(this,arguments)}}(),Ie=function(){var Q=(0,d.A)(function*(re,Ne=!1){if(yield X(),"start"===re||"end"===re){const nt=Xe.filter(Pt=>Pt.side===re&&!Pt.disabled);if(nt.length>=1)return nt.length>1&&Ne&&(0,ne.p)(`menuController queried for a menu on the "${re}" side, but ${nt.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,nt.map(Pt=>Pt.el)),nt[0].el;const ze=Xe.filter(Pt=>Pt.side===re);if(ze.length>=1)return ze.length>1&&Ne&&(0,ne.p)(`menuController queried for a menu on the "${re}" side, but ${ze.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,ze.map(Pt=>Pt.el)),ze[0].el}else if(null!=re)return be(nt=>nt.menuId===re);return be(nt=>!nt.disabled)||(Xe.length>0?Xe[0].el:void 0)});return function(Ne){return Q.apply(this,arguments)}}(),Je=function(){var Q=(0,d.A)(function*(){return yield X(),en()});return function(){return Q.apply(this,arguments)}}(),We=function(){var Q=(0,d.A)(function*(){return yield X(),bn()});return function(){return Q.apply(this,arguments)}}(),wt=function(){var Q=(0,d.A)(function*(){return yield X(),Ot()});return function(){return Q.apply(this,arguments)}}(),$e=(Q,re)=>{Ue.set(Q,re)},zt=function(){var Q=(0,d.A)(function*(re,Ne,ft){if(Ot())return!1;if(Ne){const nt=yield Je();nt&&re.el!==nt&&(yield nt.setOpen(!1,!1))}return re._setOpen(Ne,ft)});return function(Ne,ft,nt){return Q.apply(this,arguments)}}(),en=()=>be(Q=>Q._isOpen),bn=()=>Xe.map(Q=>Q.el),Ot=()=>Xe.some(Q=>Q.isAnimating),be=Q=>{const re=Xe.find(Q);if(void 0!==re)return re.el},X=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Q=>new Promise(re=>(0,de.c)(Q,re))));return $e("reveal",pe),$e("push",Ce),$e("overlay",qe),null==f.d||f.d.addEventListener("ionBackButton",Q=>{const re=en();re&&Q.detail.register(J.MENU_BACK_BUTTON_PRIORITY,()=>re.close())}),{registerAnimation:$e,get:Ie,getMenus:We,getOpen:Je,isEnabled:ge,swipeGesture:st,isAnimating:wt,isOpen:ve,enable:et,toggle:rt,close:Ze,open:ut,_getOpenSync:en,_createAnimation:(Q,re)=>{const Ne=Ue.get(Q);if(!Ne)throw new Error("animation not registered");return Ne(re)},_register:Q=>{Xe.indexOf(Q)<0&&Xe.push(Q)},_unregister:Q=>{const re=Xe.indexOf(Q);re>-1&&Xe.splice(re,1)},_setOpen:zt}})()},9483:(hn,pt,U)=>{"use strict";U.d(pt,{a:()=>pe,b:()=>bn,c:()=>J,i:()=>Ot});var d=U(4261);class f{constructor(){this.m=new Map}reset(X){this.m=new Map(Object.entries(X))}get(X,Q){const re=this.m.get(X);return void 0!==re?re:Q}getBoolean(X,Q=!1){const re=this.m.get(X);return void 0===re?Q:"string"==typeof re?"true"===re:!!re}getNumber(X,Q){const re=parseFloat(this.m.get(X));return isNaN(re)?void 0!==Q?Q:NaN:re}set(X,Q){this.m.set(X,Q)}}const J=new f,qe="ionic-persist-config",pe=(be,X)=>("string"==typeof be&&(X=be,be=void 0),(be=>ke(be))(be).includes(X)),ke=(be=window)=>{if(typeof be>"u")return[];be.Ionic=be.Ionic||{};let X=be.Ionic.platforms;return null==X&&(X=be.Ionic.platforms=He(be),X.forEach(Q=>be.document.documentElement.classList.add(`plt-${Q}`))),X},He=be=>{const X=J.get("platform");return Object.keys(an).filter(Q=>{const re=null==X?void 0:X[Q];return"function"==typeof re?re(be):an[Q](be)})},Xe=be=>!!(Lt(be,/iPad/i)||Lt(be,/Macintosh/i)&&ge(be)),rt=be=>Lt(be,/android|sink/i),ge=be=>zt(be,"(any-pointer:coarse)"),Je=be=>We(be)||wt(be),We=be=>!!(be.cordova||be.phonegap||be.PhoneGap),wt=be=>{const X=be.Capacitor;return!(null==X||!X.isNative)},Lt=(be,X)=>X.test(be.navigator.userAgent),zt=(be,X)=>{var Q;return null===(Q=be.matchMedia)||void 0===Q?void 0:Q.call(be,X).matches},an={ipad:Xe,iphone:be=>Lt(be,/iPhone/i),ios:be=>Lt(be,/iPhone|iPod/i)||Xe(be),android:rt,phablet:be=>{const X=be.innerWidth,Q=be.innerHeight,re=Math.min(X,Q),Ne=Math.max(X,Q);return re>390&&re<520&&Ne>620&&Ne<800},tablet:be=>{const X=be.innerWidth,Q=be.innerHeight,re=Math.min(X,Q),Ne=Math.max(X,Q);return Xe(be)||(be=>rt(be)&&!Lt(be,/mobile/i))(be)||re>460&&re<820&&Ne>780&&Ne<1400},cordova:We,capacitor:wt,electron:be=>Lt(be,/electron/i),pwa:be=>{var X;return!!(null!==(X=be.matchMedia)&&void 0!==X&&X.call(be,"(display-mode: standalone)").matches||be.navigator.standalone)},mobile:ge,mobileweb:be=>ge(be)&&!Je(be),desktop:be=>!ge(be),hybrid:Je};let en;const bn=be=>be&&(0,d.g)(be)||en,Ot=(be={})=>{if(typeof window>"u")return;const X=window.document,Q=window,re=Q.Ionic=Q.Ionic||{},Ne={};be._ael&&(Ne.ael=be._ael),be._rel&&(Ne.rel=be._rel),be._ce&&(Ne.ce=be._ce),(0,d.a)(Ne);const ft=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(be=>{try{const X=be.sessionStorage.getItem(qe);return null!==X?JSON.parse(X):{}}catch{return{}}})(Q)),{persistConfig:!1}),re.config),(be=>{const X={};return be.location.search.slice(1).split("&").map(Q=>Q.split("=")).map(([Q,re])=>{try{return[decodeURIComponent(Q),decodeURIComponent(re)]}catch{return["",""]}}).filter(([Q])=>((be,X)=>be.substr(0,X.length)===X)(Q,"ionic:")).map(([Q,re])=>[Q.slice(6),re]).forEach(([Q,re])=>{X[Q]=re}),X})(Q)),be);J.reset(ft),J.getBoolean("persistConfig")&&((be,X)=>{try{be.sessionStorage.setItem(qe,JSON.stringify(X))}catch{return}})(Q,ft),ke(Q),re.config=J,re.mode=en=J.get("mode",X.documentElement.getAttribute("mode")||(pe(Q,"ios")?"ios":"md")),J.set("mode",en),X.documentElement.setAttribute("mode",en),X.documentElement.classList.add(en),J.getBoolean("_testing")&&J.set("animated",!1);const nt=Pt=>{var yt;return null===(yt=Pt.tagName)||void 0===yt?void 0:yt.startsWith("ION-")},ze=Pt=>["ios","md"].includes(Pt);(0,d.c)(Pt=>{for(;Pt;){const yt=Pt.mode||Pt.getAttribute("mode");if(yt){if(ze(yt))return yt;nt(Pt)&&console.warn('Invalid ionic mode: "'+yt+'", expected: "ios" or "md"')}Pt=Pt.parentElement}return en})}},5022:(hn,pt,U)=>{"use strict";U.r(pt),U.d(pt,{iosTransitionAnimation:()=>Ue,shadow:()=>Ve});var d=U(9986),f=U(3604);U(8476),U(9483),U(4261);const Se=ut=>document.querySelector(`${ut}.ion-cloned-element`),Ve=ut=>ut.shadowRoot||ut,qe=ut=>{const Ze="ION-TABS"===ut.tagName?ut:ut.querySelector("ion-tabs"),rt="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ze){const et=Ze.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=et?et.querySelector(rt):null}return ut.querySelector(rt)},Ce=(ut,Ze)=>{const rt="ION-TABS"===ut.tagName?ut:ut.querySelector("ion-tabs");let et=[];if(null!=rt){const st=rt.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=st&&(et=st.querySelectorAll("ion-buttons"))}else et=ut.querySelectorAll("ion-buttons");for(const st of et){const ve=st.closest("ion-header"),ge=ve&&!ve.classList.contains("header-collapse-condense-inactive"),Ie=st.querySelector("ion-back-button"),Je=st.classList.contains("buttons-collapse");if(null!==Ie&&("start"===st.slot||""===st.slot)&&(Je&&ge&&Ze||!Je))return Ie}return null},ke=(ut,Ze,rt,et,st,ve,ge,Ie,Je)=>{var We,wt;const $e=Ze?`calc(100% - ${st.right+4}px)`:st.left-4+"px",Me=Ze?"right":"left",Lt=Ze?"left":"right",zt=Ze?"right":"left";let an=1,en=1,bn=`scale(${en})`;const Ot="scale(1)";if(ve&&ge){const Fe=(null===(We=ve.textContent)||void 0===We?void 0:We.trim())===(null===(wt=Ie.textContent)||void 0===wt?void 0:wt.trim());an=Je.width/ge.width,en=(Je.height-Xe)/ge.height,bn=Fe?`scale(${an}, ${en})`:`scale(${en})`}const X=Ve(et).querySelector("ion-icon").getBoundingClientRect(),Q=Ze?X.width/2-(X.right-st.right)+"px":st.left-X.width/2+"px",re=Ze?`-${window.innerWidth-st.right}px`:`${st.left}px`,Ne=`${Je.top}px`,ft=`${st.top}px`,Pt=rt?[{offset:0,transform:`translate3d(${re}, ${ft}, 0)`},{offset:1,transform:`translate3d(${Q}, ${Ne}, 0)`}]:[{offset:0,transform:`translate3d(${Q}, ${Ne}, 0)`},{offset:1,transform:`translate3d(${re}, ${ft}, 0)`}],dn=rt?[{offset:0,opacity:1,transform:Ot},{offset:1,opacity:0,transform:bn}]:[{offset:0,opacity:0,transform:bn},{offset:1,opacity:1,transform:Ot}],gn=rt?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Mn=(0,d.c)(),jt=(0,d.c)(),Yt=(0,d.c)(),Un=Se("ion-back-button"),it=Ve(Un).querySelector(".button-text"),Te=Ve(Un).querySelector("ion-icon");Un.text=et.text,Un.mode=et.mode,Un.icon=et.icon,Un.color=et.color,Un.disabled=et.disabled,Un.style.setProperty("display","block"),Un.style.setProperty("position","fixed"),jt.addElement(Te),Mn.addElement(it),Yt.addElement(Un),Yt.beforeStyles({position:"absolute",top:"0px",[zt]:"0px"}).beforeAddWrite(()=>{et.style.setProperty("display","none"),Un.style.setProperty(Me,$e)}).afterAddWrite(()=>{et.style.setProperty("display",""),Un.style.setProperty("display","none"),Un.style.removeProperty(Me)}).keyframes(Pt),Mn.beforeStyles({"transform-origin":`${Me} top`}).keyframes(dn),jt.beforeStyles({"transform-origin":`${Lt} center`}).keyframes(gn),ut.addAnimation([Mn,jt,Yt])},He=(ut,Ze,rt,et,st,ve,ge,Ie,Je)=>{var We,wt;const $e=Ze?"right":"left",Me=Ze?`calc(100% - ${st.right}px)`:`${st.left}px`,zt=`${st.top}px`;let en=Ze?`-${window.innerWidth-ge.right-8}px`:`${ge.x+8}px`,bn=.5;const Ot="scale(1)";let be=`scale(${bn})`;if(Ie&&Je){en=Ze?`-${window.innerWidth-Je.right-8}px`:Je.x-8+"px";const yt=(null===(We=Ie.textContent)||void 0===We?void 0:We.trim())===(null===(wt=et.textContent)||void 0===wt?void 0:wt.trim());bn=Je.height/(ve.height-Xe),be=yt?`scale(${Je.width/ve.width}, ${bn})`:`scale(${bn})`}const re=ge.top+ge.height/2-st.height*bn/2+"px",nt=rt?[{offset:0,opacity:0,transform:`translate3d(${en}, ${re}, 0) ${be}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${zt}, 0) ${Ot}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${zt}, 0) ${Ot}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${en}, ${re}, 0) ${be}`}],ze=Se("ion-title"),Pt=(0,d.c)();ze.innerText=et.innerText,ze.size=et.size,ze.color=et.color,Pt.addElement(ze),Pt.beforeStyles({"transform-origin":`${$e} top`,height:`${st.height}px`,display:"",position:"relative",[$e]:Me}).beforeAddWrite(()=>{et.style.setProperty("opacity","0")}).afterAddWrite(()=>{et.style.setProperty("opacity",""),ze.style.setProperty("display","none")}).keyframes(nt),ut.addAnimation(Pt)},Ue=(ut,Ze)=>{var rt;try{const et="cubic-bezier(0.32,0.72,0,1)",st="opacity",ve="transform",ge="0%",Je="rtl"===ut.ownerDocument.dir,We=Je?"-99.5%":"99.5%",wt=Je?"33%":"-33%",$e=Ze.enteringEl,Me=Ze.leavingEl,Lt="back"===Ze.direction,zt=$e.querySelector(":scope > ion-content"),an=$e.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),en=$e.querySelectorAll(":scope > ion-header > ion-toolbar"),bn=(0,d.c)(),Ot=(0,d.c)();if(bn.addElement($e).duration((null!==(rt=Ze.duration)&&void 0!==rt?rt:0)||540).easing(Ze.easing||et).fill("both").beforeRemoveClass("ion-page-invisible"),Me&&null!=ut){const re=(0,d.c)();re.addElement(ut),bn.addAnimation(re)}if(zt||0!==en.length||0!==an.length?(Ot.addElement(zt),Ot.addElement(an)):Ot.addElement($e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),bn.addAnimation(Ot),Lt?Ot.beforeClearStyles([st]).fromTo("transform",`translateX(${wt})`,`translateX(${ge})`).fromTo(st,.8,1):Ot.beforeClearStyles([st]).fromTo("transform",`translateX(${We})`,`translateX(${ge})`),zt){const re=Ve(zt).querySelector(".transition-effect");if(re){const Ne=re.querySelector(".transition-cover"),ft=re.querySelector(".transition-shadow"),nt=(0,d.c)(),ze=(0,d.c)(),Pt=(0,d.c)();nt.addElement(re).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ze.addElement(Ne).beforeClearStyles([st]).fromTo(st,0,.1),Pt.addElement(ft).beforeClearStyles([st]).fromTo(st,.03,.7),nt.addAnimation([ze,Pt]),Ot.addAnimation([nt])}}const be=$e.querySelector("ion-header.header-collapse-condense"),{forward:X,backward:Q}=((ut,Ze,rt,et,st)=>{const ve=Ce(et,rt),ge=qe(st),Ie=qe(et),Je=Ce(st,rt),We=null!==ve&&null!==ge&&!rt,wt=null!==Ie&&null!==Je&&rt;if(We){const $e=ge.getBoundingClientRect(),Me=ve.getBoundingClientRect(),Lt=Ve(ve).querySelector(".button-text"),zt=null==Lt?void 0:Lt.getBoundingClientRect(),en=Ve(ge).querySelector(".toolbar-title").getBoundingClientRect();He(ut,Ze,rt,ge,$e,en,Me,Lt,zt),ke(ut,Ze,rt,ve,Me,Lt,zt,ge,en)}else if(wt){const $e=Ie.getBoundingClientRect(),Me=Je.getBoundingClientRect(),Lt=Ve(Je).querySelector(".button-text"),zt=null==Lt?void 0:Lt.getBoundingClientRect(),en=Ve(Ie).querySelector(".toolbar-title").getBoundingClientRect();He(ut,Ze,rt,Ie,$e,en,Me,Lt,zt),ke(ut,Ze,rt,Je,Me,Lt,zt,Ie,en)}return{forward:We,backward:wt}})(bn,Je,Lt,$e,Me);if(en.forEach(re=>{const Ne=(0,d.c)();Ne.addElement(re),bn.addAnimation(Ne);const ft=(0,d.c)();ft.addElement(re.querySelector("ion-title"));const nt=(0,d.c)(),ze=Array.from(re.querySelectorAll("ion-buttons,[menuToggle]")),Pt=re.closest("ion-header"),yt=null==Pt?void 0:Pt.classList.contains("header-collapse-condense-inactive");let Et;Et=ze.filter(Lt?Mn=>{const jt=Mn.classList.contains("buttons-collapse");return jt&&!yt||!jt}:Mn=>!Mn.classList.contains("buttons-collapse")),nt.addElement(Et);const dn=(0,d.c)();dn.addElement(re.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const mt=(0,d.c)();mt.addElement(Ve(re).querySelector(".toolbar-background"));const mn=(0,d.c)(),gn=re.querySelector("ion-back-button");if(gn&&mn.addElement(gn),Ne.addAnimation([ft,nt,dn,mt,mn]),nt.fromTo(st,.01,1),dn.fromTo(st,.01,1),Lt)yt||ft.fromTo("transform",`translateX(${wt})`,`translateX(${ge})`).fromTo(st,.01,1),dn.fromTo("transform",`translateX(${wt})`,`translateX(${ge})`),mn.fromTo(st,.01,1);else if(be||ft.fromTo("transform",`translateX(${We})`,`translateX(${ge})`).fromTo(st,.01,1),dn.fromTo("transform",`translateX(${We})`,`translateX(${ge})`),mt.beforeClearStyles([st,"transform"]),(null==Pt?void 0:Pt.translucent)?mt.fromTo("transform",Je?"translateX(-100%)":"translateX(100%)","translateX(0px)"):mt.fromTo(st,.01,"var(--opacity)"),X||mn.fromTo(st,.01,1),gn&&!X){const jt=(0,d.c)();jt.addElement(Ve(gn).querySelector(".button-text")).fromTo("transform",Je?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ne.addAnimation(jt)}}),Me){const re=(0,d.c)(),Ne=Me.querySelector(":scope > ion-content"),ft=Me.querySelectorAll(":scope > ion-header > ion-toolbar"),nt=Me.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ne||0!==ft.length||0!==nt.length?(re.addElement(Ne),re.addElement(nt)):re.addElement(Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),bn.addAnimation(re),Lt){re.beforeClearStyles([st]).fromTo("transform",`translateX(${ge})`,Je?"translateX(-100%)":"translateX(100%)");const ze=(0,f.g)(Me);bn.afterAddWrite(()=>{"normal"===bn.getDirection()&&ze.style.setProperty("display","none")})}else re.fromTo("transform",`translateX(${ge})`,`translateX(${wt})`).fromTo(st,1,.8);if(Ne){const ze=Ve(Ne).querySelector(".transition-effect");if(ze){const Pt=ze.querySelector(".transition-cover"),yt=ze.querySelector(".transition-shadow"),Et=(0,d.c)(),dn=(0,d.c)(),mt=(0,d.c)();Et.addElement(ze).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),dn.addElement(Pt).beforeClearStyles([st]).fromTo(st,.1,0),mt.addElement(yt).beforeClearStyles([st]).fromTo(st,.7,.03),Et.addAnimation([dn,mt]),re.addAnimation([Et])}}ft.forEach(ze=>{const Pt=(0,d.c)();Pt.addElement(ze);const yt=(0,d.c)();yt.addElement(ze.querySelector("ion-title"));const Et=(0,d.c)(),dn=ze.querySelectorAll("ion-buttons,[menuToggle]"),mt=ze.closest("ion-header"),mn=null==mt?void 0:mt.classList.contains("header-collapse-condense-inactive"),gn=Array.from(dn).filter(Te=>{const Fe=Te.classList.contains("buttons-collapse");return Fe&&!mn||!Fe});Et.addElement(gn);const Mn=(0,d.c)(),jt=ze.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");jt.length>0&&Mn.addElement(jt);const Yt=(0,d.c)();Yt.addElement(Ve(ze).querySelector(".toolbar-background"));const Un=(0,d.c)(),it=ze.querySelector("ion-back-button");if(it&&Un.addElement(it),Pt.addAnimation([yt,Et,Mn,Un,Yt]),bn.addAnimation(Pt),Un.fromTo(st,.99,0),Et.fromTo(st,.99,0),Mn.fromTo(st,.99,0),Lt){if(mn||yt.fromTo("transform",`translateX(${ge})`,Je?"translateX(-100%)":"translateX(100%)").fromTo(st,.99,0),Mn.fromTo("transform",`translateX(${ge})`,Je?"translateX(-100%)":"translateX(100%)"),Yt.beforeClearStyles([st,"transform"]),(null==mt?void 0:mt.translucent)?Yt.fromTo("transform","translateX(0px)",Je?"translateX(-100%)":"translateX(100%)"):Yt.fromTo(st,"var(--opacity)",0),it&&!Q){const Fe=(0,d.c)();Fe.addElement(Ve(it).querySelector(".button-text")).fromTo("transform",`translateX(${ge})`,`translateX(${(Je?-124:124)+"px"})`),Pt.addAnimation(Fe)}}else mn||yt.fromTo("transform",`translateX(${ge})`,`translateX(${wt})`).fromTo(st,.99,0).afterClearStyles([ve,st]),Mn.fromTo("transform",`translateX(${ge})`,`translateX(${wt})`).afterClearStyles([ve,st]),Un.afterClearStyles([st]),yt.afterClearStyles([st]),Et.afterClearStyles([st])})}return bn}catch(et){throw et}},Xe=10},3615:(hn,pt,U)=>{"use strict";U.r(pt),U.d(pt,{mdTransitionAnimation:()=>le});var d=U(9986),f=U(3604);U(8476),U(9483),U(4261);const le=(Se,Ve)=>{var qe,Ce,pe;const Ue="back"===Ve.direction,ut=Ve.leavingEl,Ze=(0,f.g)(Ve.enteringEl),rt=Ze.querySelector("ion-toolbar"),et=(0,d.c)();if(et.addElement(Ze).fill("both").beforeRemoveClass("ion-page-invisible"),Ue?et.duration((null!==(qe=Ve.duration)&&void 0!==qe?qe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):et.duration((null!==(Ce=Ve.duration)&&void 0!==Ce?Ce:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),rt){const st=(0,d.c)();st.addElement(rt),et.addAnimation(st)}if(ut&&Ue){et.duration((null!==(pe=Ve.duration)&&void 0!==pe?pe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const st=(0,d.c)();st.addElement((0,f.g)(ut)).onFinish(ve=>{1===ve&&st.elements.length>0&&st.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),et.addAnimation(st)}return et}},9440:(hn,pt,U)=>{"use strict";U.d(pt,{B:()=>dn,F:()=>Un,G:()=>mt,O:()=>mn,a:()=>Ze,b:()=>rt,c:()=>ge,d:()=>gn,e:()=>Mn,f:()=>X,g:()=>re,h:()=>nt,i:()=>Pt,j:()=>Je,k:()=>We,m:()=>st,n:()=>Ce,o:()=>Ot,q:()=>pe,s:()=>Et});var d=U(467),f=U(8476),J=U(4920),ne=U(7192),de=U(9483),le=U(8621),Se=U(1970),Ve=U(4929);const qe='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',Ce=(it,Te)=>{const Fe=it.querySelector(qe);ke(Fe,null!=Te?Te:it)},pe=(it,Te)=>{const Fe=Array.from(it.querySelectorAll(qe));ke(Fe.length>0?Fe[Fe.length-1]:null,null!=Te?Te:it)},ke=(it,Te)=>{let Fe=it;const tn=null==it?void 0:it.shadowRoot;tn&&(Fe=tn.querySelector(qe)||it),Fe?(0,J.f)(Fe):Te.focus()};let He=0,Ue=0;const Xe=new WeakMap,ut=it=>({create:Te=>wt(it,Te),dismiss:(Te,Fe,tn)=>an(document,Te,Fe,it,tn),getTop:()=>(0,d.A)(function*(){return Ot(document,it)})()}),Ze=ut("ion-alert"),rt=ut("ion-action-sheet"),st=ut("ion-modal"),ge=ut("ion-popover"),Je=it=>{typeof document<"u"&&zt(document);const Te=He++;it.overlayIndex=Te},We=it=>(it.hasAttribute("id")||(it.id="ion-overlay-"+ ++Ue),it.id),wt=(it,Te)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(it).then(()=>{const Fe=document.createElement(it);return Fe.classList.add("overlay-hidden"),Object.assign(Fe,Object.assign(Object.assign({},Te),{hasController:!0})),Ne(document).appendChild(Fe),new Promise(tn=>(0,J.c)(Fe,tn))}):Promise.resolve(),Me=(it,Te)=>{let Fe=it;const tn=null==it?void 0:it.shadowRoot;tn&&(Fe=tn.querySelector(qe)||it),Fe?(0,J.f)(Fe):Te.focus()},zt=it=>{0===He&&(He=1,it.addEventListener("focus",Te=>{((it,Te)=>{const Fe=Ot(Te,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),tn=it.target;Fe&&tn&&!Fe.classList.contains(Un)&&(Fe.shadowRoot?(()=>{if(Fe.contains(tn))Fe.lastFocus=tn;else if("ION-TOAST"===tn.tagName)Me(Fe.lastFocus,Fe);else{const Bn=Fe.lastFocus;Ce(Fe),Bn===Te.activeElement&&pe(Fe),Fe.lastFocus=Te.activeElement}})():(()=>{if(Fe===tn)Fe.lastFocus=void 0;else if("ION-TOAST"===tn.tagName)Me(Fe.lastFocus,Fe);else{const Bn=(0,J.g)(Fe);if(!Bn.contains(tn))return;const Sn=Bn.querySelector(".ion-overlay-wrapper");if(!Sn)return;if(Sn.contains(tn)||tn===Bn.querySelector("ion-backdrop"))Fe.lastFocus=tn;else{const kt=Fe.lastFocus;Ce(Sn,Fe),kt===Te.activeElement&&pe(Sn,Fe),Fe.lastFocus=Te.activeElement}}})())})(Te,it)},!0),it.addEventListener("ionBackButton",Te=>{const Fe=Ot(it);null!=Fe&&Fe.backdropDismiss&&Te.detail.register(ne.OVERLAY_BACK_BUTTON_PRIORITY,()=>{Fe.dismiss(void 0,dn)})}),(0,ne.shouldUseCloseWatcher)()||it.addEventListener("keydown",Te=>{if("Escape"===Te.key){const Fe=Ot(it);null!=Fe&&Fe.backdropDismiss&&Fe.dismiss(void 0,dn)}}))},an=(it,Te,Fe,tn,wn)=>{const er=Ot(it,tn,wn);return er?er.dismiss(Te,Fe):Promise.reject("overlay does not exist")},bn=(it,Te)=>((it,Te)=>(void 0===Te&&(Te="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(it.querySelectorAll(Te)).filter(Fe=>Fe.overlayIndex>0)))(it,Te).filter(Fe=>!(it=>it.classList.contains("overlay-hidden"))(Fe)),Ot=(it,Te,Fe)=>{const tn=bn(it,Te);return void 0===Fe?tn[tn.length-1]:tn.find(wn=>wn.id===Fe)},be=(it=!1)=>{const Fe=Ne(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");Fe&&(it?Fe.setAttribute("aria-hidden","true"):Fe.removeAttribute("aria-hidden"))},X=function(){var it=(0,d.A)(function*(Te,Fe,tn,wn,er){var Bn,Sn;if(Te.presented)return;be(!0),document.body.classList.add(Se.B),jt(Te.el),Te.presented=!0,Te.willPresent.emit(),null===(Bn=Te.willPresentShorthand)||void 0===Bn||Bn.emit();const kt=(0,de.b)(Te),sr=Te.enterAnimation?Te.enterAnimation:de.c.get(Fe,"ios"===kt?tn:wn);(yield ft(Te,sr,Te.el,er))&&(Te.didPresent.emit(),null===(Sn=Te.didPresentShorthand)||void 0===Sn||Sn.emit()),"ION-TOAST"!==Te.el.tagName&&Q(Te.el),Te.keyboardClose&&(null===document.activeElement||!Te.el.contains(document.activeElement))&&Te.el.focus(),Te.el.removeAttribute("aria-hidden")});return function(Fe,tn,wn,er,Bn){return it.apply(this,arguments)}}(),Q=function(){var it=(0,d.A)(function*(Te){let Fe=document.activeElement;if(!Fe)return;const tn=null==Fe?void 0:Fe.shadowRoot;tn&&(Fe=tn.querySelector(qe)||Fe),yield Te.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&Fe.focus()});return function(Fe){return it.apply(this,arguments)}}(),re=function(){var it=(0,d.A)(function*(Te,Fe,tn,wn,er,Bn,Sn){var kt,sr;if(!Te.presented)return!1;void 0!==f.d&&1===bn(f.d).length&&(be(!1),document.body.classList.remove(Se.B)),Te.presented=!1;try{Te.el.style.setProperty("pointer-events","none"),Te.willDismiss.emit({data:Fe,role:tn}),null===(kt=Te.willDismissShorthand)||void 0===kt||kt.emit({data:Fe,role:tn});const cr=(0,de.b)(Te),ar=Te.leaveAnimation?Te.leaveAnimation:de.c.get(wn,"ios"===cr?er:Bn);tn!==mt&&(yield ft(Te,ar,Te.el,Sn)),Te.didDismiss.emit({data:Fe,role:tn}),null===(sr=Te.didDismissShorthand)||void 0===sr||sr.emit({data:Fe,role:tn}),(Xe.get(Te)||[]).forEach(mi=>mi.destroy()),Xe.delete(Te),Te.el.classList.add("overlay-hidden"),Te.el.style.removeProperty("pointer-events"),void 0!==Te.el.lastFocus&&(Te.el.lastFocus=void 0)}catch(cr){console.error(cr)}return Te.el.remove(),Yt(),!0});return function(Fe,tn,wn,er,Bn,Sn,kt){return it.apply(this,arguments)}}(),Ne=it=>it.querySelector("ion-app")||it.body,ft=function(){var it=(0,d.A)(function*(Te,Fe,tn,wn){tn.classList.remove("overlay-hidden");const Bn=Fe(Te.el,wn);(!Te.animated||!de.c.getBoolean("animated",!0))&&Bn.duration(0),Te.keyboardClose&&Bn.beforeAddWrite(()=>{const kt=tn.ownerDocument.activeElement;null!=kt&&kt.matches("input,ion-input, ion-textarea")&&kt.blur()});const Sn=Xe.get(Te)||[];return Xe.set(Te,[...Sn,Bn]),yield Bn.play(),!0});return function(Fe,tn,wn,er){return it.apply(this,arguments)}}(),nt=(it,Te)=>{let Fe;const tn=new Promise(wn=>Fe=wn);return ze(it,Te,wn=>{Fe(wn.detail)}),tn},ze=(it,Te,Fe)=>{const tn=wn=>{(0,J.b)(it,Te,tn),Fe(wn)};(0,J.a)(it,Te,tn)},Pt=it=>"cancel"===it||it===dn,yt=it=>it(),Et=(it,Te)=>{if("function"==typeof it)return de.c.get("_zoneGate",yt)(()=>{try{return it(Te)}catch(tn){throw tn}})},dn="backdrop",mt="gesture",mn=39,gn=it=>{let Fe,Te=!1;const tn=(0,le.C)(),wn=(Sn=!1)=>{if(Fe&&!Sn)return{delegate:Fe,inline:Te};const{el:kt,hasController:sr,delegate:tr}=it;return Te=null!==kt.parentNode&&!sr,Fe=Te?tr||tn:tr,{inline:Te,delegate:Fe}};return{attachViewToDom:function(){var Sn=(0,d.A)(function*(kt){const{delegate:sr}=wn(!0);if(sr)return yield sr.attachViewToDom(it.el,kt);const{hasController:tr}=it;if(tr&&void 0!==kt)throw new Error("framework delegate is missing");return null});return function(sr){return Sn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:Sn}=wn();Sn&&void 0!==it.el&&Sn.removeViewFromDom(it.el.parentElement,it.el)}}},Mn=()=>{let it;const Te=()=>{it&&(it(),it=void 0)};return{addClickListener:(tn,wn)=>{Te();const er=void 0!==wn?document.getElementById(wn):null;er?it=((Sn,kt)=>{const sr=()=>{kt.present()};return Sn.addEventListener("click",sr),()=>{Sn.removeEventListener("click",sr)}})(er,tn):(0,Ve.p)(`A trigger element with the ID "${wn}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,tn)},removeClickListener:Te}},jt=it=>{var Te;if(void 0===f.d)return;const Fe=bn(f.d);for(let tn=Fe.length-1;tn>=0;tn--){const wn=Fe[tn],er=null!==(Te=Fe[tn+1])&&void 0!==Te?Te:it;(er.hasAttribute("aria-hidden")||"ION-TOAST"!==er.tagName)&&wn.setAttribute("aria-hidden","true")}},Yt=()=>{if(void 0===f.d)return;const it=bn(f.d);for(let Te=it.length-1;Te>=0;Te--){const Fe=it[Te];if(Fe.removeAttribute("aria-hidden"),"ION-TOAST"!==Fe.tagName)break}},Un="ion-disable-focus-trap"},2111:(hn,pt,U)=>{"use strict";var d=U(345),f=U(4964),J=U(4742),ne=U(9253);const de_firebaseConfig={apiKey:"AIzaSyBTiPOz2na2RXYxiIR1LRjEqAckZUGlzMY",authDomain:"conteggio-ore-alunni.firebaseapp.com",projectId:"conteggio-ore-alunni",storageBucket:"conteggio-ore-alunni.appspot.com",messagingSenderId:"436114447803",appId:"1:436114447803:web:9fe583188539a2630c389e"};var le=U(3953);let Se=(()=>{var et;class st{constructor(){}}return(et=st).\u0275fac=function(ge){return new(ge||et)},et.\u0275cmp=le.VBU({type:et,selectors:[["app-root"]],decls:2,vars:0,template:function(ge,Ie){1&ge&&(le.j41(0,"ion-app"),le.nrm(1,"ion-router-outlet"),le.k0s())},dependencies:[J.U1,J.Rg]}),st})();var Ve=U(7935),Ce=(U(7955),U(1182));let pe=(()=>{var et;class st{constructor(ge,Ie){this.afAuth=ge,this.router=Ie}login(ge,Ie){return this.afAuth.signInWithEmailAndPassword(ge,Ie).then(()=>{this.router.navigate(["/home"])}).catch(Je=>{console.error("Login error:",Je)})}loginWithGoogle(){console.log("Attempting to login with Google...");const ge=new Ve.A.auth.GoogleAuthProvider;return this.afAuth.signInWithPopup(ge).then(()=>{this.router.navigate(["/home"])}).catch(Ie=>{console.error("Google login error:",Ie)})}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}}return(et=st).\u0275fac=function(ge){return new(ge||et)(le.KVO(Ce.DS),le.KVO(f.Ix))},et.\u0275prov=le.jDH({token:et,factory:et.\u0275fac,providedIn:"root"}),st})();var ke=U(4341);const Ue=[{path:"home",loadChildren:()=>U.e(2331).then(U.bind(U,2331)).then(et=>et.HomePageModule)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{var et;class st{constructor(ge){this.authService=ge,this.email="",this.password=""}login(){this.authService.login(this.email,this.password)}loginWithGoogle(){this.authService.loginWithGoogle()}}return(et=st).\u0275fac=function(ge){return new(ge||et)(le.rXU(pe))},et.\u0275cmp=le.VBU({type:et,selectors:[["app-login"]],decls:18,vars:3,consts:[[3,"ngSubmit"],["position","floating"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["expand","full","type","submit",3,"disabled"],["expand","full",3,"click"]],template:function(ge,Ie){1&ge&&(le.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),le.EFF(3,"Login"),le.k0s()()(),le.j41(4,"ion-content")(5,"form",0),le.bIt("ngSubmit",function(){return Ie.login()}),le.j41(6,"ion-item")(7,"ion-label",1),le.EFF(8,"Email"),le.k0s(),le.j41(9,"ion-input",2),le.mxI("ngModelChange",function(We){return le.DH7(Ie.email,We)||(Ie.email=We),We}),le.k0s()(),le.j41(10,"ion-item")(11,"ion-label",1),le.EFF(12,"Password"),le.k0s(),le.j41(13,"ion-input",3),le.mxI("ngModelChange",function(We){return le.DH7(Ie.password,We)||(Ie.password=We),We}),le.k0s()(),le.j41(14,"ion-button",4),le.EFF(15,"Login"),le.k0s(),le.j41(16,"ion-button",5),le.bIt("click",function(){return Ie.loginWithGoogle()}),le.EFF(17,"Login con Google"),le.k0s()()()),2&ge&&(le.R7$(9),le.R50("ngModel",Ie.email),le.R7$(4),le.R50("ngModel",Ie.password),le.R7$(),le.Y8G("disabled",!Ie.email||!Ie.password))},dependencies:[J.Jm,J.W9,J.eU,J.$w,J.uz,J.he,J.BC,J.ai,J.Gw,ke.qT,ke.BC,ke.cb,ke.YS,ke.vS,ke.cV]}),st})()}];let Xe=(()=>{var et;class st{}return(et=st).\u0275fac=function(ge){return new(ge||et)},et.\u0275mod=le.$C({type:et}),et.\u0275inj=le.G2t({imports:[f.iI.forRoot(Ue,{preloadingStrategy:f.Kp}),f.iI]}),st})();var ut=U(8079),Ze=U(2872);let rt=(()=>{var et;class st{}return(et=st).\u0275fac=function(ge){return new(ge||et)},et.\u0275mod=le.$C({type:et,bootstrap:[Se]}),et.\u0275inj=le.G2t({providers:[{provide:f.b,useClass:Ze.jM}],imports:[d.Bb,J.bv.forRoot(),Xe,ne.bf.initializeApp(de_firebaseConfig),ke.YN,ke.X1,ut.cM,Ce.X8]}),st})();d.sG().bootstrapModule(rt).catch(et=>console.log(et))},4412:(hn,pt,U)=>{"use strict";U.d(pt,{t:()=>f});var d=U(1413);class f extends d.B{constructor(ne){super(),this._value=ne}get value(){return this.getValue()}_subscribe(ne){const de=super._subscribe(ne);return!de.closed&&ne.next(this._value),de}getValue(){const{hasError:ne,thrownError:de,_value:le}=this;if(ne)throw de;return this._throwIfClosed(),le}next(ne){super.next(this._value=ne)}}},1985:(hn,pt,U)=>{"use strict";U.d(pt,{c:()=>Ve});var d=U(7707),f=U(8359),J=U(3494),ne=U(1203),de=U(1026),le=U(8071),Se=U(9786);let Ve=(()=>{class ke{constructor(Ue){Ue&&(this._subscribe=Ue)}lift(Ue){const Xe=new ke;return Xe.source=this,Xe.operator=Ue,Xe}subscribe(Ue,Xe,ut){const Ze=function pe(ke){return ke&&ke instanceof d.vU||function Ce(ke){return ke&&(0,le.T)(ke.next)&&(0,le.T)(ke.error)&&(0,le.T)(ke.complete)}(ke)&&(0,f.Uv)(ke)}(Ue)?Ue:new d.Ms(Ue,Xe,ut);return(0,Se.Y)(()=>{const{operator:rt,source:et}=this;Ze.add(rt?rt.call(Ze,et):et?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Ue){try{return this._subscribe(Ue)}catch(Xe){Ue.error(Xe)}}forEach(Ue,Xe){return new(Xe=qe(Xe))((ut,Ze)=>{const rt=new d.Ms({next:et=>{try{Ue(et)}catch(st){Ze(st),rt.unsubscribe()}},error:Ze,complete:ut});this.subscribe(rt)})}_subscribe(Ue){var Xe;return null===(Xe=this.source)||void 0===Xe?void 0:Xe.subscribe(Ue)}[J.s](){return this}pipe(...Ue){return(0,ne.m)(Ue)(this)}toPromise(Ue){return new(Ue=qe(Ue))((Xe,ut)=>{let Ze;this.subscribe(rt=>Ze=rt,rt=>ut(rt),()=>Xe(Ze))})}}return ke.create=He=>new ke(He),ke})();function qe(ke){var He;return null!==(He=null!=ke?ke:de.$.Promise)&&void 0!==He?He:Promise}},1413:(hn,pt,U)=>{"use strict";U.d(pt,{B:()=>Se});var d=U(1985),f=U(8359);const ne=(0,U(1853).L)(qe=>function(){qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=U(7908),le=U(9786);let Se=(()=>{class qe extends d.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(pe){const ke=new Ve(this,this);return ke.operator=pe,ke}_throwIfClosed(){if(this.closed)throw new ne}next(pe){(0,le.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ke of this.currentObservers)ke.next(pe)}})}error(pe){(0,le.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=pe;const{observers:ke}=this;for(;ke.length;)ke.shift().error(pe)}})}complete(){(0,le.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:pe}=this;for(;pe.length;)pe.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var pe;return(null===(pe=this.observers)||void 0===pe?void 0:pe.length)>0}_trySubscribe(pe){return this._throwIfClosed(),super._trySubscribe(pe)}_subscribe(pe){return this._throwIfClosed(),this._checkFinalizedStatuses(pe),this._innerSubscribe(pe)}_innerSubscribe(pe){const{hasError:ke,isStopped:He,observers:Ue}=this;return ke||He?f.Kn:(this.currentObservers=null,Ue.push(pe),new f.yU(()=>{this.currentObservers=null,(0,de.o)(Ue,pe)}))}_checkFinalizedStatuses(pe){const{hasError:ke,thrownError:He,isStopped:Ue}=this;ke?pe.error(He):Ue&&pe.complete()}asObservable(){const pe=new d.c;return pe.source=this,pe}}return qe.create=(Ce,pe)=>new Ve(Ce,pe),qe})();class Ve extends Se{constructor(Ce,pe){super(),this.destination=Ce,this.source=pe}next(Ce){var pe,ke;null===(ke=null===(pe=this.destination)||void 0===pe?void 0:pe.next)||void 0===ke||ke.call(pe,Ce)}error(Ce){var pe,ke;null===(ke=null===(pe=this.destination)||void 0===pe?void 0:pe.error)||void 0===ke||ke.call(pe,Ce)}complete(){var Ce,pe;null===(pe=null===(Ce=this.destination)||void 0===Ce?void 0:Ce.complete)||void 0===pe||pe.call(Ce)}_subscribe(Ce){var pe,ke;return null!==(ke=null===(pe=this.source)||void 0===pe?void 0:pe.subscribe(Ce))&&void 0!==ke?ke:f.Kn}}},7707:(hn,pt,U)=>{"use strict";U.d(pt,{Ms:()=>ut,vU:()=>ke});var d=U(8071),f=U(8359),J=U(1026),ne=U(5334),de=U(5343);const le=qe("C",void 0,void 0);function qe(ve,ge,Ie){return{kind:ve,value:ge,error:Ie}}var Ce=U(9270),pe=U(9786);class ke extends f.yU{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,f.Uv)(ge)&&ge.add(this)):this.destination=st}static create(ge,Ie,Je){return new ut(ge,Ie,Je)}next(ge){this.isStopped?et(function Ve(ve){return qe("N",ve,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?et(function Se(ve){return qe("E",void 0,ve)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?et(le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function Ue(ve,ge){return He.call(ve,ge)}class Xe{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:Ie}=this;if(Ie.next)try{Ie.next(ge)}catch(Je){Ze(Je)}}error(ge){const{partialObserver:Ie}=this;if(Ie.error)try{Ie.error(ge)}catch(Je){Ze(Je)}else Ze(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(Ie){Ze(Ie)}}}class ut extends ke{constructor(ge,Ie,Je){let We;if(super(),(0,d.T)(ge)||!ge)We={next:null!=ge?ge:void 0,error:null!=Ie?Ie:void 0,complete:null!=Je?Je:void 0};else{let wt;this&&J.$.useDeprecatedNextContext?(wt=Object.create(ge),wt.unsubscribe=()=>this.unsubscribe(),We={next:ge.next&&Ue(ge.next,wt),error:ge.error&&Ue(ge.error,wt),complete:ge.complete&&Ue(ge.complete,wt)}):We=ge}this.destination=new Xe(We)}}function Ze(ve){J.$.useDeprecatedSynchronousErrorHandling?(0,pe.l)(ve):(0,ne.m)(ve)}function et(ve,ge){const{onStoppedNotification:Ie}=J.$;Ie&&Ce.f.setTimeout(()=>Ie(ve,ge))}const st={closed:!0,next:de.l,error:function rt(ve){throw ve},complete:de.l}},8359:(hn,pt,U)=>{"use strict";U.d(pt,{Kn:()=>le,yU:()=>de,Uv:()=>Se});var d=U(8071);const J=(0,U(1853).L)(qe=>function(pe){qe(this),this.message=pe?`${pe.length} errors occurred during unsubscription:\n${pe.map((ke,He)=>`${He+1}) ${ke.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=pe});var ne=U(7908);class de{constructor(Ce){this.initialTeardown=Ce,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Ce;if(!this.closed){this.closed=!0;const{_parentage:pe}=this;if(pe)if(this._parentage=null,Array.isArray(pe))for(const Ue of pe)Ue.remove(this);else pe.remove(this);const{initialTeardown:ke}=this;if((0,d.T)(ke))try{ke()}catch(Ue){Ce=Ue instanceof J?Ue.errors:[Ue]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const Ue of He)try{Ve(Ue)}catch(Xe){Ce=null!=Ce?Ce:[],Xe instanceof J?Ce=[...Ce,...Xe.errors]:Ce.push(Xe)}}if(Ce)throw new J(Ce)}}add(Ce){var pe;if(Ce&&Ce!==this)if(this.closed)Ve(Ce);else{if(Ce instanceof de){if(Ce.closed||Ce._hasParent(this))return;Ce._addParent(this)}(this._finalizers=null!==(pe=this._finalizers)&&void 0!==pe?pe:[]).push(Ce)}}_hasParent(Ce){const{_parentage:pe}=this;return pe===Ce||Array.isArray(pe)&&pe.includes(Ce)}_addParent(Ce){const{_parentage:pe}=this;this._parentage=Array.isArray(pe)?(pe.push(Ce),pe):pe?[pe,Ce]:Ce}_removeParent(Ce){const{_parentage:pe}=this;pe===Ce?this._parentage=null:Array.isArray(pe)&&(0,ne.o)(pe,Ce)}remove(Ce){const{_finalizers:pe}=this;pe&&(0,ne.o)(pe,Ce),Ce instanceof de&&Ce._removeParent(this)}}de.EMPTY=(()=>{const qe=new de;return qe.closed=!0,qe})();const le=de.EMPTY;function Se(qe){return qe instanceof de||qe&&"closed"in qe&&(0,d.T)(qe.remove)&&(0,d.T)(qe.add)&&(0,d.T)(qe.unsubscribe)}function Ve(qe){(0,d.T)(qe)?qe():qe.unsubscribe()}},1026:(hn,pt,U)=>{"use strict";U.d(pt,{$:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(hn,pt,U)=>{"use strict";U.d(pt,{z:()=>Ce});var d=U(1985),f=U(3073),J=U(8455),ne=U(3669),de=U(6450),le=U(3794),Se=U(8496),Ve=U(4360),qe=U(5225);function Ce(...He){const Ue=(0,le.lI)(He),Xe=(0,le.ms)(He),{args:ut,keys:Ze}=(0,f.D)(He);if(0===ut.length)return(0,J.H)([],Ue);const rt=new d.c(function pe(He,Ue,Xe=ne.D){return ut=>{ke(Ue,()=>{const{length:Ze}=He,rt=new Array(Ze);let et=Ze,st=Ze;for(let ve=0;ve<Ze;ve++)ke(Ue,()=>{const ge=(0,J.H)(He[ve],Ue);let Ie=!1;ge.subscribe((0,Ve._)(ut,Je=>{rt[ve]=Je,Ie||(Ie=!0,st--),st||ut.next(Xe(rt.slice()))},()=>{--et||ut.complete()}))},ut)},ut)}}(ut,Ue,Ze?et=>(0,Se.e)(Ze,et):ne.D));return Xe?rt.pipe((0,de.I)(Xe)):rt}function ke(He,Ue,Xe){He?(0,qe.N)(Xe,He,Ue):Ue()}},8793:(hn,pt,U)=>{"use strict";U.d(pt,{x:()=>de});var d=U(6365),J=U(3794),ne=U(8455);function de(...le){return function f(){return(0,d.U)(1)}()((0,ne.H)(le,(0,J.lI)(le)))}},983:(hn,pt,U)=>{"use strict";U.d(pt,{w:()=>f});const f=new(U(1985).c)(de=>de.complete())},8455:(hn,pt,U)=>{"use strict";U.d(pt,{H:()=>ge});var d=U(8750),f=U(941),J=U(6745),le=U(1985),Ve=U(4761),qe=U(8071),Ce=U(5225);function ke(Ie,Je){if(!Ie)throw new Error("Iterable cannot be null");return new le.c(We=>{(0,Ce.N)(We,Je,()=>{const wt=Ie[Symbol.asyncIterator]();(0,Ce.N)(We,Je,()=>{wt.next().then($e=>{$e.done?We.complete():We.next($e.value)})},0,!0)})})}var He=U(5055),Ue=U(9858),Xe=U(7441),ut=U(5397),Ze=U(7953),rt=U(591),et=U(5196);function ge(Ie,Je){return Je?function ve(Ie,Je){if(null!=Ie){if((0,He.l)(Ie))return function ne(Ie,Je){return(0,d.Tg)(Ie).pipe((0,J._)(Je),(0,f.Q)(Je))}(Ie,Je);if((0,Xe.X)(Ie))return function Se(Ie,Je){return new le.c(We=>{let wt=0;return Je.schedule(function(){wt===Ie.length?We.complete():(We.next(Ie[wt++]),We.closed||this.schedule())})})}(Ie,Je);if((0,Ue.y)(Ie))return function de(Ie,Je){return(0,d.Tg)(Ie).pipe((0,J._)(Je),(0,f.Q)(Je))}(Ie,Je);if((0,Ze.T)(Ie))return ke(Ie,Je);if((0,ut.x)(Ie))return function pe(Ie,Je){return new le.c(We=>{let wt;return(0,Ce.N)(We,Je,()=>{wt=Ie[Ve.l](),(0,Ce.N)(We,Je,()=>{let $e,Me;try{({value:$e,done:Me}=wt.next())}catch(Lt){return void We.error(Lt)}Me?We.complete():We.next($e)},0,!0)}),()=>(0,qe.T)(null==wt?void 0:wt.return)&&wt.return()})}(Ie,Je);if((0,et.U)(Ie))return function st(Ie,Je){return ke((0,et.C)(Ie),Je)}(Ie,Je)}throw(0,rt.L)(Ie)}(Ie,Je):(0,d.Tg)(Ie)}},3726:(hn,pt,U)=>{"use strict";U.d(pt,{R:()=>Ce});var d=U(8750),f=U(1985),J=U(1397),ne=U(7441),de=U(8071),le=U(6450);const Se=["addListener","removeListener"],Ve=["addEventListener","removeEventListener"],qe=["on","off"];function Ce(Xe,ut,Ze,rt){if((0,de.T)(Ze)&&(rt=Ze,Ze=void 0),rt)return Ce(Xe,ut,Ze).pipe((0,le.I)(rt));const[et,st]=function Ue(Xe){return(0,de.T)(Xe.addEventListener)&&(0,de.T)(Xe.removeEventListener)}(Xe)?Ve.map(ve=>ge=>Xe[ve](ut,ge,Ze)):function ke(Xe){return(0,de.T)(Xe.addListener)&&(0,de.T)(Xe.removeListener)}(Xe)?Se.map(pe(Xe,ut)):function He(Xe){return(0,de.T)(Xe.on)&&(0,de.T)(Xe.off)}(Xe)?qe.map(pe(Xe,ut)):[];if(!et&&(0,ne.X)(Xe))return(0,J.Z)(ve=>Ce(ve,ut,Ze))((0,d.Tg)(Xe));if(!et)throw new TypeError("Invalid event target");return new f.c(ve=>{const ge=(...Ie)=>ve.next(1<Ie.length?Ie:Ie[0]);return et(ge),()=>st(ge)})}function pe(Xe,ut){return Ze=>rt=>Xe[Ze](ut,rt)}},8750:(hn,pt,U)=>{"use strict";U.d(pt,{Tg:()=>He});var d=U(1635),f=U(7441),J=U(9858),ne=U(1985),de=U(5055),le=U(7953),Se=U(591),Ve=U(5397),qe=U(5196),Ce=U(8071),pe=U(5334),ke=U(3494);function He(ve){if(ve instanceof ne.c)return ve;if(null!=ve){if((0,de.l)(ve))return function Ue(ve){return new ne.c(ge=>{const Ie=ve[ke.s]();if((0,Ce.T)(Ie.subscribe))return Ie.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ve);if((0,f.X)(ve))return function Xe(ve){return new ne.c(ge=>{for(let Ie=0;Ie<ve.length&&!ge.closed;Ie++)ge.next(ve[Ie]);ge.complete()})}(ve);if((0,J.y)(ve))return function ut(ve){return new ne.c(ge=>{ve.then(Ie=>{ge.closed||(ge.next(Ie),ge.complete())},Ie=>ge.error(Ie)).then(null,pe.m)})}(ve);if((0,le.T)(ve))return rt(ve);if((0,Ve.x)(ve))return function Ze(ve){return new ne.c(ge=>{for(const Ie of ve)if(ge.next(Ie),ge.closed)return;ge.complete()})}(ve);if((0,qe.U)(ve))return function et(ve){return rt((0,qe.C)(ve))}(ve)}throw(0,Se.L)(ve)}function rt(ve){return new ne.c(ge=>{(function st(ve,ge){var Ie,Je,We,wt;return(0,d.sH)(this,void 0,void 0,function*(){try{for(Ie=(0,d.xN)(ve);!(Je=yield Ie.next()).done;)if(ge.next(Je.value),ge.closed)return}catch($e){We={error:$e}}finally{try{Je&&!Je.done&&(wt=Ie.return)&&(yield wt.call(Ie))}finally{if(We)throw We.error}}ge.complete()})})(ve,ge).catch(Ie=>ge.error(Ie))})}},7673:(hn,pt,U)=>{"use strict";U.d(pt,{of:()=>J});var d=U(3794),f=U(8455);function J(...ne){const de=(0,d.lI)(ne);return(0,f.H)(ne,de)}},4360:(hn,pt,U)=>{"use strict";U.d(pt,{_:()=>f});var d=U(7707);function f(ne,de,le,Se,Ve){return new J(ne,de,le,Se,Ve)}class J extends d.vU{constructor(de,le,Se,Ve,qe,Ce){super(de),this.onFinalize=qe,this.shouldUnsubscribe=Ce,this._next=le?function(pe){try{le(pe)}catch(ke){de.error(ke)}}:super._next,this._error=Ve?function(pe){try{Ve(pe)}catch(ke){de.error(ke)}finally{this.unsubscribe()}}:super._error,this._complete=Se?function(){try{Se()}catch(pe){de.error(pe)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:le}=this;super.unsubscribe(),!le&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},9901:(hn,pt,U)=>{"use strict";U.d(pt,{U:()=>J});var d=U(9974),f=U(4360);function J(ne){return(0,d.N)((de,le)=>{let Se=!1;de.subscribe((0,f._)(le,Ve=>{Se=!0,le.next(Ve)},()=>{Se||le.next(ne),le.complete()}))})}},3294:(hn,pt,U)=>{"use strict";U.d(pt,{F:()=>ne});var d=U(3669),f=U(9974),J=U(4360);function ne(le,Se=d.D){return le=null!=le?le:de,(0,f.N)((Ve,qe)=>{let Ce,pe=!0;Ve.subscribe((0,J._)(qe,ke=>{const He=Se(ke);(pe||!le(Ce,He))&&(pe=!1,Ce=He,qe.next(ke))}))})}function de(le,Se){return le===Se}},5964:(hn,pt,U)=>{"use strict";U.d(pt,{p:()=>J});var d=U(9974),f=U(4360);function J(ne,de){return(0,d.N)((le,Se)=>{let Ve=0;le.subscribe((0,f._)(Se,qe=>ne.call(de,qe,Ve++)&&Se.next(qe)))})}},1594:(hn,pt,U)=>{"use strict";U.d(pt,{$:()=>Se});var d=U(9350),f=U(5964),J=U(6697),ne=U(9901),de=U(3774),le=U(3669);function Se(Ve,qe){const Ce=arguments.length>=2;return pe=>pe.pipe(Ve?(0,f.p)((ke,He)=>Ve(ke,He,pe)):le.D,(0,J.s)(1),Ce?(0,ne.U)(qe):(0,de.v)(()=>new d.G))}},6354:(hn,pt,U)=>{"use strict";U.d(pt,{T:()=>J});var d=U(9974),f=U(4360);function J(ne,de){return(0,d.N)((le,Se)=>{let Ve=0;le.subscribe((0,f._)(Se,qe=>{Se.next(ne.call(de,qe,Ve++))}))})}},6365:(hn,pt,U)=>{"use strict";U.d(pt,{U:()=>J});var d=U(1397),f=U(3669);function J(ne=1/0){return(0,d.Z)(f.D,ne)}},1397:(hn,pt,U)=>{"use strict";U.d(pt,{Z:()=>Ve});var d=U(6354),f=U(8750),J=U(9974),ne=U(5225),de=U(4360),Se=U(8071);function Ve(qe,Ce,pe=1/0){return(0,Se.T)(Ce)?Ve((ke,He)=>(0,d.T)((Ue,Xe)=>Ce(ke,Ue,He,Xe))((0,f.Tg)(qe(ke,He))),pe):("number"==typeof Ce&&(pe=Ce),(0,J.N)((ke,He)=>function le(qe,Ce,pe,ke,He,Ue,Xe,ut){const Ze=[];let rt=0,et=0,st=!1;const ve=()=>{st&&!Ze.length&&!rt&&Ce.complete()},ge=Je=>rt<ke?Ie(Je):Ze.push(Je),Ie=Je=>{Ue&&Ce.next(Je),rt++;let We=!1;(0,f.Tg)(pe(Je,et++)).subscribe((0,de._)(Ce,wt=>{null==He||He(wt),Ue?ge(wt):Ce.next(wt)},()=>{We=!0},void 0,()=>{if(We)try{for(rt--;Ze.length&&rt<ke;){const wt=Ze.shift();Xe?(0,ne.N)(Ce,Xe,()=>Ie(wt)):Ie(wt)}ve()}catch(wt){Ce.error(wt)}}))};return qe.subscribe((0,de._)(Ce,ge,()=>{st=!0,ve()})),()=>{null==ut||ut()}}(ke,He,qe,pe)))}},941:(hn,pt,U)=>{"use strict";U.d(pt,{Q:()=>ne});var d=U(5225),f=U(9974),J=U(4360);function ne(de,le=0){return(0,f.N)((Se,Ve)=>{Se.subscribe((0,J._)(Ve,qe=>(0,d.N)(Ve,de,()=>Ve.next(qe),le),()=>(0,d.N)(Ve,de,()=>Ve.complete(),le),qe=>(0,d.N)(Ve,de,()=>Ve.error(qe),le)))})}},2816:(hn,pt,U)=>{"use strict";U.d(pt,{S:()=>ne});var d=U(9974),f=U(4360);function ne(de,le){return(0,d.N)(function J(de,le,Se,Ve,qe){return(Ce,pe)=>{let ke=Se,He=le,Ue=0;Ce.subscribe((0,f._)(pe,Xe=>{const ut=Ue++;He=ke?de(He,Xe,ut):(ke=!0,Xe),Ve&&pe.next(He)},qe&&(()=>{ke&&pe.next(He),pe.complete()})))}}(de,le,arguments.length>=2,!0))}},9172:(hn,pt,U)=>{"use strict";U.d(pt,{Z:()=>ne});var d=U(8793),f=U(3794),J=U(9974);function ne(...de){const le=(0,f.lI)(de);return(0,J.N)((Se,Ve)=>{(le?(0,d.x)(de,Se,le):(0,d.x)(de,Se)).subscribe(Ve)})}},6745:(hn,pt,U)=>{"use strict";U.d(pt,{_:()=>f});var d=U(9974);function f(J,ne=0){return(0,d.N)((de,le)=>{le.add(J.schedule(()=>de.subscribe(le),ne))})}},5558:(hn,pt,U)=>{"use strict";U.d(pt,{n:()=>ne});var d=U(8750),f=U(9974),J=U(4360);function ne(de,le){return(0,f.N)((Se,Ve)=>{let qe=null,Ce=0,pe=!1;const ke=()=>pe&&!qe&&Ve.complete();Se.subscribe((0,J._)(Ve,He=>{null==qe||qe.unsubscribe();let Ue=0;const Xe=Ce++;(0,d.Tg)(de(He,Xe)).subscribe(qe=(0,J._)(Ve,ut=>Ve.next(le?le(He,ut,Xe,Ue++):ut),()=>{qe=null,ke()}))},()=>{pe=!0,ke()}))})}},6697:(hn,pt,U)=>{"use strict";U.d(pt,{s:()=>ne});var d=U(983),f=U(9974),J=U(4360);function ne(de){return de<=0?()=>d.w:(0,f.N)((le,Se)=>{let Ve=0;le.subscribe((0,J._)(Se,qe=>{++Ve<=de&&(Se.next(qe),de<=Ve&&Se.complete())}))})}},8141:(hn,pt,U)=>{"use strict";U.d(pt,{M:()=>de});var d=U(8071),f=U(9974),J=U(4360),ne=U(3669);function de(le,Se,Ve){const qe=(0,d.T)(le)||Se||Ve?{next:le,error:Se,complete:Ve}:le;return qe?(0,f.N)((Ce,pe)=>{var ke;null===(ke=qe.subscribe)||void 0===ke||ke.call(qe);let He=!0;Ce.subscribe((0,J._)(pe,Ue=>{var Xe;null===(Xe=qe.next)||void 0===Xe||Xe.call(qe,Ue),pe.next(Ue)},()=>{var Ue;He=!1,null===(Ue=qe.complete)||void 0===Ue||Ue.call(qe),pe.complete()},Ue=>{var Xe;He=!1,null===(Xe=qe.error)||void 0===Xe||Xe.call(qe,Ue),pe.error(Ue)},()=>{var Ue,Xe;He&&(null===(Ue=qe.unsubscribe)||void 0===Ue||Ue.call(qe)),null===(Xe=qe.finalize)||void 0===Xe||Xe.call(qe)}))}):ne.D}},3774:(hn,pt,U)=>{"use strict";U.d(pt,{v:()=>ne});var d=U(9350),f=U(9974),J=U(4360);function ne(le=de){return(0,f.N)((Se,Ve)=>{let qe=!1;Se.subscribe((0,J._)(Ve,Ce=>{qe=!0,Ve.next(Ce)},()=>qe?Ve.complete():Ve.error(le())))})}function de(){return new d.G}},6780:(hn,pt,U)=>{"use strict";U.d(pt,{R:()=>de});var d=U(8359);class f extends d.yU{constructor(Se,Ve){super()}schedule(Se,Ve=0){return this}}const J={setInterval(le,Se,...Ve){const{delegate:qe}=J;return null!=qe&&qe.setInterval?qe.setInterval(le,Se,...Ve):setInterval(le,Se,...Ve)},clearInterval(le){const{delegate:Se}=J;return((null==Se?void 0:Se.clearInterval)||clearInterval)(le)},delegate:void 0};var ne=U(7908);class de extends f{constructor(Se,Ve){super(Se,Ve),this.scheduler=Se,this.work=Ve,this.pending=!1}schedule(Se,Ve=0){var qe;if(this.closed)return this;this.state=Se;const Ce=this.id,pe=this.scheduler;return null!=Ce&&(this.id=this.recycleAsyncId(pe,Ce,Ve)),this.pending=!0,this.delay=Ve,this.id=null!==(qe=this.id)&&void 0!==qe?qe:this.requestAsyncId(pe,this.id,Ve),this}requestAsyncId(Se,Ve,qe=0){return J.setInterval(Se.flush.bind(Se,this),qe)}recycleAsyncId(Se,Ve,qe=0){if(null!=qe&&this.delay===qe&&!1===this.pending)return Ve;null!=Ve&&J.clearInterval(Ve)}execute(Se,Ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const qe=this._execute(Se,Ve);if(qe)return qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Se,Ve){let Ce,qe=!1;try{this.work(Se)}catch(pe){qe=!0,Ce=pe||new Error("Scheduled action threw falsy error")}if(qe)return this.unsubscribe(),Ce}unsubscribe(){if(!this.closed){const{id:Se,scheduler:Ve}=this,{actions:qe}=Ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.o)(qe,this),null!=Se&&(this.id=this.recycleAsyncId(Ve,Se,null)),this.delay=null,super.unsubscribe()}}}},9687:(hn,pt,U)=>{"use strict";U.d(pt,{q:()=>J});var d=U(6129);class f{constructor(de,le=f.now){this.schedulerActionCtor=de,this.now=le}schedule(de,le=0,Se){return new this.schedulerActionCtor(this,de).schedule(Se,le)}}f.now=d.U.now;class J extends f{constructor(de,le=f.now){super(de,le),this.actions=[],this._active=!1}flush(de){const{actions:le}=this;if(this._active)return void le.push(de);let Se;this._active=!0;do{if(Se=de.execute(de.state,de.delay))break}while(de=le.shift());if(this._active=!1,Se){for(;de=le.shift();)de.unsubscribe();throw Se}}}},3236:(hn,pt,U)=>{"use strict";U.d(pt,{E:()=>J});var d=U(6780);const J=new(U(9687).q)(d.R)},6129:(hn,pt,U)=>{"use strict";U.d(pt,{U:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},9270:(hn,pt,U)=>{"use strict";U.d(pt,{f:()=>d});const d={setTimeout(f,J,...ne){const{delegate:de}=d;return null!=de&&de.setTimeout?de.setTimeout(f,J,...ne):setTimeout(f,J,...ne)},clearTimeout(f){const{delegate:J}=d;return((null==J?void 0:J.clearTimeout)||clearTimeout)(f)},delegate:void 0}},4761:(hn,pt,U)=>{"use strict";U.d(pt,{l:()=>f});const f=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(hn,pt,U)=>{"use strict";U.d(pt,{s:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(hn,pt,U)=>{"use strict";U.d(pt,{G:()=>f});const f=(0,U(1853).L)(J=>function(){J(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(hn,pt,U)=>{"use strict";U.d(pt,{R0:()=>le,ms:()=>ne,lI:()=>de});var d=U(8071);function J(Se){return Se[Se.length-1]}function ne(Se){return(0,d.T)(J(Se))?Se.pop():void 0}function de(Se){return function f(Se){return Se&&(0,d.T)(Se.schedule)}(J(Se))?Se.pop():void 0}function le(Se,Ve){return"number"==typeof J(Se)?Se.pop():Ve}},3073:(hn,pt,U)=>{"use strict";U.d(pt,{D:()=>de});const{isArray:d}=Array,{getPrototypeOf:f,prototype:J,keys:ne}=Object;function de(Se){if(1===Se.length){const Ve=Se[0];if(d(Ve))return{args:Ve,keys:null};if(function le(Se){return Se&&"object"==typeof Se&&f(Se)===J}(Ve)){const qe=ne(Ve);return{args:qe.map(Ce=>Ve[Ce]),keys:qe}}}return{args:Se,keys:null}}},7908:(hn,pt,U)=>{"use strict";function d(f,J){if(f){const ne=f.indexOf(J);0<=ne&&f.splice(ne,1)}}U.d(pt,{o:()=>d})},1853:(hn,pt,U)=>{"use strict";function d(f){const ne=f(de=>{Error.call(de),de.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}U.d(pt,{L:()=>d})},8496:(hn,pt,U)=>{"use strict";function d(f,J){return f.reduce((ne,de,le)=>(ne[de]=J[le],ne),{})}U.d(pt,{e:()=>d})},9786:(hn,pt,U)=>{"use strict";U.d(pt,{Y:()=>J,l:()=>ne});var d=U(1026);let f=null;function J(de){if(d.$.useDeprecatedSynchronousErrorHandling){const le=!f;if(le&&(f={errorThrown:!1,error:null}),de(),le){const{errorThrown:Se,error:Ve}=f;if(f=null,Se)throw Ve}}else de()}function ne(de){d.$.useDeprecatedSynchronousErrorHandling&&f&&(f.errorThrown=!0,f.error=de)}},5225:(hn,pt,U)=>{"use strict";function d(f,J,ne,de=0,le=!1){const Se=J.schedule(function(){ne(),le?f.add(this.schedule(null,de)):this.unsubscribe()},de);if(f.add(Se),!le)return Se}U.d(pt,{N:()=>d})},3669:(hn,pt,U)=>{"use strict";function d(f){return f}U.d(pt,{D:()=>d})},7441:(hn,pt,U)=>{"use strict";U.d(pt,{X:()=>d});const d=f=>f&&"number"==typeof f.length&&"function"!=typeof f},7953:(hn,pt,U)=>{"use strict";U.d(pt,{T:()=>f});var d=U(8071);function f(J){return Symbol.asyncIterator&&(0,d.T)(null==J?void 0:J[Symbol.asyncIterator])}},8071:(hn,pt,U)=>{"use strict";function d(f){return"function"==typeof f}U.d(pt,{T:()=>d})},5055:(hn,pt,U)=>{"use strict";U.d(pt,{l:()=>J});var d=U(3494),f=U(8071);function J(ne){return(0,f.T)(ne[d.s])}},5397:(hn,pt,U)=>{"use strict";U.d(pt,{x:()=>J});var d=U(4761),f=U(8071);function J(ne){return(0,f.T)(null==ne?void 0:ne[d.l])}},9858:(hn,pt,U)=>{"use strict";U.d(pt,{y:()=>f});var d=U(8071);function f(J){return(0,d.T)(null==J?void 0:J.then)}},5196:(hn,pt,U)=>{"use strict";U.d(pt,{C:()=>J,U:()=>ne});var d=U(1635),f=U(8071);function J(de){return(0,d.AQ)(this,arguments,function*(){const Se=de.getReader();try{for(;;){const{value:Ve,done:qe}=yield(0,d.N3)(Se.read());if(qe)return yield(0,d.N3)(void 0);yield yield(0,d.N3)(Ve)}}finally{Se.releaseLock()}})}function ne(de){return(0,f.T)(null==de?void 0:de.getReader)}},9974:(hn,pt,U)=>{"use strict";U.d(pt,{N:()=>J,S:()=>f});var d=U(8071);function f(ne){return(0,d.T)(null==ne?void 0:ne.lift)}function J(ne){return de=>{if(f(de))return de.lift(function(le){try{return ne(le,this)}catch(Se){this.error(Se)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(hn,pt,U)=>{"use strict";U.d(pt,{I:()=>ne});var d=U(6354);const{isArray:f}=Array;function ne(de){return(0,d.T)(le=>function J(de,le){return f(le)?de(...le):de(le)}(de,le))}},5343:(hn,pt,U)=>{"use strict";function d(){}U.d(pt,{l:()=>d})},1203:(hn,pt,U)=>{"use strict";U.d(pt,{F:()=>f,m:()=>J});var d=U(3669);function f(...ne){return J(ne)}function J(ne){return 0===ne.length?d.D:1===ne.length?ne[0]:function(le){return ne.reduce((Se,Ve)=>Ve(Se),le)}}},5334:(hn,pt,U)=>{"use strict";U.d(pt,{m:()=>J});var d=U(1026),f=U(9270);function J(ne){f.f.setTimeout(()=>{const{onUnhandledError:de}=d.$;if(!de)throw ne;de(ne)})}},591:(hn,pt,U)=>{"use strict";function d(f){return new TypeError(`You provided ${null!==f&&"object"==typeof f?"an invalid object":`'${f}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(pt,{L:()=>d})},8996:(hn,pt,U)=>{var d={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function f(J){if(!U.o(d,J))return Promise.resolve().then(()=>{var le=new Error("Cannot find module '"+J+"'");throw le.code="MODULE_NOT_FOUND",le});var ne=d[J],de=ne[0];return Promise.all(ne.slice(1).map(U.e)).then(()=>U(de))}f.keys=()=>Object.keys(d),f.id=8996,hn.exports=f},177:(hn,pt,U)=>{"use strict";U.d(pt,{AJ:()=>Ht,MD:()=>ct,N0:()=>ni,QT:()=>J,Sm:()=>ut,Sq:()=>pi,T3:()=>Ns,VF:()=>de,Vy:()=>Jt,Xr:()=>yn,ZD:()=>ne,_b:()=>Z,aZ:()=>rt,bT:()=>li,fw:()=>Ze,hb:()=>Ue,hj:()=>qe,qQ:()=>Se});var d=U(3953);let f=null;function J(){return f}function ne(D){var $;null!==($=f)&&void 0!==$||(f=D)}class de{}const Se=new d.nKC("");let Ve=(()=>{var D;class ${historyGo(V){throw new Error("")}}return(D=$).\u0275fac=function(V){return new(V||D)},D.\u0275prov=d.jDH({token:D,factory:()=>(0,d.WQX)(Ce),providedIn:"platform"}),$})();const qe=new d.nKC("");let Ce=(()=>{var D;class $ extends Ve{constructor(){super(),this._doc=(0,d.WQX)(Se),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(V){const he=J().getGlobalEventTarget(this._doc,"window");return he.addEventListener("popstate",V,!1),()=>he.removeEventListener("popstate",V)}onHashChange(V){const he=J().getGlobalEventTarget(this._doc,"window");return he.addEventListener("hashchange",V,!1),()=>he.removeEventListener("hashchange",V)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(V){this._location.pathname=V}pushState(V,he,Re){this._history.pushState(V,he,Re)}replaceState(V,he,Re){this._history.replaceState(V,he,Re)}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return(D=$).\u0275fac=function(V){return new(V||D)},D.\u0275prov=d.jDH({token:D,factory:()=>new D,providedIn:"platform"}),$})();function pe(D,$){if(0==D.length)return $;if(0==$.length)return D;let De=0;return D.endsWith("/")&&De++,$.startsWith("/")&&De++,2==De?D+$.substring(1):1==De?D+$:D+"/"+$}function ke(D){const $=D.match(/#|\?|$/),De=$&&$.index||D.length;return D.slice(0,De-("/"===D[De-1]?1:0))+D.slice(De)}function He(D){return D&&"?"!==D[0]?"?"+D:D}let Ue=(()=>{var D;class ${historyGo(V){throw new Error("")}}return(D=$).\u0275fac=function(V){return new(V||D)},D.\u0275prov=d.jDH({token:D,factory:()=>(0,d.WQX)(ut),providedIn:"root"}),$})();const Xe=new d.nKC("");let ut=(()=>{var D;class $ extends Ue{constructor(V,he){var Re,Vt,sn;super(),this._platformLocation=V,this._removeListenerFns=[],this._baseHref=null!==(Re=null!==(Vt=null!=he?he:this._platformLocation.getBaseHrefFromDOM())&&void 0!==Vt?Vt:null===(sn=(0,d.WQX)(Se).location)||void 0===sn?void 0:sn.origin)&&void 0!==Re?Re:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return pe(this._baseHref,V)}path(V=!1){const he=this._platformLocation.pathname+He(this._platformLocation.search),Re=this._platformLocation.hash;return Re&&V?`${he}${Re}`:he}pushState(V,he,Re,Vt){const sn=this.prepareExternalUrl(Re+He(Vt));this._platformLocation.pushState(V,he,sn)}replaceState(V,he,Re,Vt){const sn=this.prepareExternalUrl(Re+He(Vt));this._platformLocation.replaceState(V,he,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){var he,Re;null===(he=(Re=this._platformLocation).historyGo)||void 0===he||he.call(Re,V)}}return(D=$).\u0275fac=function(V){return new(V||D)(d.KVO(Ve),d.KVO(Xe,8))},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac,providedIn:"root"}),$})(),Ze=(()=>{var D;class $ extends Ue{constructor(V,he){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=he&&(this._baseHref=he)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){var he;const Re=null!==(he=this._platformLocation.hash)&&void 0!==he?he:"#";return Re.length>0?Re.substring(1):Re}prepareExternalUrl(V){const he=pe(this._baseHref,V);return he.length>0?"#"+he:he}pushState(V,he,Re,Vt){let sn=this.prepareExternalUrl(Re+He(Vt));0==sn.length&&(sn=this._platformLocation.pathname),this._platformLocation.pushState(V,he,sn)}replaceState(V,he,Re,Vt){let sn=this.prepareExternalUrl(Re+He(Vt));0==sn.length&&(sn=this._platformLocation.pathname),this._platformLocation.replaceState(V,he,sn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(V=0){var he,Re;null===(he=(Re=this._platformLocation).historyGo)||void 0===he||he.call(Re,V)}}return(D=$).\u0275fac=function(V){return new(V||D)(d.KVO(Ve),d.KVO(Xe,8))},D.\u0275prov=d.jDH({token:D,factory:D.\u0275fac}),$})(),rt=(()=>{var D;class ${constructor(V){this._subject=new d.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=V;const he=this._locationStrategy.getBaseHref();this._basePath=function ge(D){if(new RegExp("^(https?:)?//").test(D)){const[,De]=D.split(/\/\/[^\/]+/);return De}return D}(ke(ve(he))),this._locationStrategy.onPopState(Re=>{this._subject.emit({url:this.path(!0),pop:!0,state:Re.state,type:Re.type})})}ngOnDestroy(){var V;null===(V=this._urlChangeSubscription)||void 0===V||V.unsubscribe(),this._urlChangeListeners=[]}path(V=!1){return this.normalize(this._locationStrategy.path(V))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(V,he=""){return this.path()==this.normalize(V+He(he))}normalize(V){return $.stripTrailingSlash(function st(D,$){if(!D||!$.startsWith(D))return $;const De=$.substring(D.length);return""===De||["/",";","?","#"].includes(De[0])?De:$}(this._basePath,ve(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._locationStrategy.prepareExternalUrl(V)}go(V,he="",Re=null){this._locationStrategy.pushState(Re,"",V,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+He(he)),Re)}replaceState(V,he="",Re=null){this._locationStrategy.replaceState(Re,"",V,he),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+He(he)),Re)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(V=0){var he,Re;null===(he=(Re=this._locationStrategy).historyGo)||void 0===he||he.call(Re,V)}onUrlChange(V){var he;return this._urlChangeListeners.push(V),null!==(he=this._urlChangeSubscription)&&void 0!==he||(this._urlChangeSubscription=this.subscribe(Re=>{this._notifyUrlChangeListeners(Re.url,Re.state)})),()=>{const Re=this._urlChangeListeners.indexOf(V);var Vt;this._urlChangeListeners.splice(Re,1),0===this._urlChangeListeners.length&&(null===(Vt=this._urlChangeSubscription)||void 0===Vt||Vt.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(V="",he){this._urlChangeListeners.forEach(Re=>Re(V,he))}subscribe(V,he,Re){return this._subject.subscribe({next:V,error:he,complete:Re})}}return(D=$).normalizeQueryParams=He,D.joinWithSlash=pe,D.stripTrailingSlash=ke,D.\u0275fac=function(V){return new(V||D)(d.KVO(Ue))},D.\u0275prov=d.jDH({token:D,factory:()=>function et(){return new rt((0,d.KVO)(Ue))}(),providedIn:"root"}),$})();function ve(D){return D.replace(/\/index.html$/,"")}function Z(D,$){$=encodeURIComponent($);for(const De of D.split(";")){const V=De.indexOf("="),[he,Re]=-1==V?[De,""]:[De.slice(0,V),De.slice(V+1)];if(he.trim()===$)return decodeURIComponent(Re)}return null}class On{constructor($,De,V,he){this.$implicit=$,this.ngForOf=De,this.index=V,this.count=he}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let pi=(()=>{var D;class ${set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}constructor(V,he,Re){this._viewContainer=V,this._template=he,this._differs=Re,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const he=this._viewContainer;V.forEachOperation((Re,Vt,sn)=>{if(null==Re.previousIndex)he.createEmbeddedView(this._template,new On(Re.item,this._ngForOf,-1,-1),null===sn?void 0:sn);else if(null==sn)he.remove(null===Vt?void 0:Vt);else if(null!==Vt){const rr=he.get(Vt);he.move(rr,sn),ei(rr,Re)}});for(let Re=0,Vt=he.length;Re<Vt;Re++){const rr=he.get(Re).context;rr.index=Re,rr.count=Vt,rr.ngForOf=this._ngForOf}V.forEachIdentityChange(Re=>{ei(he.get(Re.currentIndex),Re)})}static ngTemplateContextGuard(V,he){return!0}}return(D=$).\u0275fac=function(V){return new(V||D)(d.rXU(d.c1b),d.rXU(d.C4Q),d.rXU(d._q3))},D.\u0275dir=d.FsC({type:D,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),$})();function ei(D,$){D.context.$implicit=$.item}let li=(()=>{var D;class ${constructor(V,he){this._viewContainer=V,this._context=new Mi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=he}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){xi("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){xi("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,he){return!0}}return(D=$).\u0275fac=function(V){return new(V||D)(d.rXU(d.c1b),d.rXU(d.C4Q))},D.\u0275dir=d.FsC({type:D,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),$})();class Mi{constructor(){this.$implicit=null,this.ngIf=null}}function xi(D,$){if($&&!$.createEmbeddedView)throw new Error(`${D} must be a TemplateRef, but received '${(0,d.Tbb)($)}'.`)}let Ns=(()=>{var D;class ${constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(V){if(this._shouldRecreateView(V)){var he;const Re=this._viewContainerRef;if(this._viewRef&&Re.remove(Re.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const Vt=this._createContextForwardProxy();this._viewRef=Re.createEmbeddedView(this.ngTemplateOutlet,Vt,{injector:null!==(he=this.ngTemplateOutletInjector)&&void 0!==he?he:void 0})}}_shouldRecreateView(V){return!!V.ngTemplateOutlet||!!V.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(V,he,Re)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,he,Re),get:(V,he,Re)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,he,Re)}})}}return(D=$).\u0275fac=function(V){return new(V||D)(d.rXU(d.c1b))},D.\u0275dir=d.FsC({type:D,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[d.OA$]}),$})(),ct=(()=>{var D;class ${}return(D=$).\u0275fac=function(V){return new(V||D)},D.\u0275mod=d.$C({type:D}),D.\u0275inj=d.G2t({}),$})();const Ht="browser",Zt="server";function Jt(D){return D===Zt}let yn=(()=>{var D;class ${}return(D=$).\u0275prov=(0,d.jDH)({token:D,providedIn:"root",factory:()=>function $t(D){return D===Ht}((0,d.WQX)(d.Agw))?new Ln((0,d.WQX)(Se),window):new Or}),$})();class Ln{constructor($,De){this.document=$,this.window=De,this.offset=()=>[0,0]}setOffset($){this.offset=Array.isArray($)?()=>$:$}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition($){this.window.scrollTo($[0],$[1])}scrollToAnchor($){const De=function xn(D,$){const De=D.getElementById($)||D.getElementsByName($)[0];if(De)return De;if("function"==typeof D.createTreeWalker&&D.body&&"function"==typeof D.body.attachShadow){const V=D.createTreeWalker(D.body,NodeFilter.SHOW_ELEMENT);let he=V.currentNode;for(;he;){const Re=he.shadowRoot;if(Re){const Vt=Re.getElementById($)||Re.querySelector(`[name="${$}"]`);if(Vt)return Vt}he=V.nextNode()}}return null}(this.document,$);De&&(this.scrollToElement(De),De.focus())}setHistoryScrollRestoration($){this.window.history.scrollRestoration=$}scrollToElement($){const De=$.getBoundingClientRect(),V=De.left+this.window.pageXOffset,he=De.top+this.window.pageYOffset,Re=this.offset();this.window.scrollTo(V-Re[0],he-Re[1])}}class Or{setOffset($){}getScrollPosition(){return[0,0]}scrollToPosition($){}scrollToAnchor($){}setHistoryScrollRestoration($){}}class ni{}},3953:(hn,pt,U)=>{"use strict";function d(e,t){return Object.is(e,t)}U.d(pt,{iLQ:()=>P0,sZ2:()=>dd,hnV:()=>qb,Hbi:()=>hx,o8S:()=>Sc,BIS:()=>cE,gRc:()=>cw,Ql9:()=>kO,Ocv:()=>jO,Z63:()=>ls,aKT:()=>dh,uvJ:()=>Ds,zcH:()=>jl,bkB:()=>pl,$GK:()=>Ir,nKC:()=>Jn,zZn:()=>Ss,_q3:()=>DA,MKu:()=>bA,xe9:()=>_A,Co$:()=>JC,Vns:()=>sp,SKi:()=>Yi,Xx1:()=>na,Agw:()=>fc,PLl:()=>Kp,sFG:()=>CS,_9s:()=>sI,czy:()=>vt,kdw:()=>Rc,C4Q:()=>Dh,NYb:()=>SO,giA:()=>Wb,xvI:()=>nO,RxE:()=>Ub,c1b:()=>n0,gXe:()=>Yo,mal:()=>h0,L39:()=>Hx,EWP:()=>Gx,a0P:()=>Zx,Ol2:()=>AI,w6W:()=>pR,oH4:()=>sw,Rfq:()=>xs,WQX:()=>Cn,naY:()=>YO,QuC:()=>no,fpN:()=>dx,HJs:()=>Jx,N4e:()=>Uh,vPA:()=>kC,O8t:()=>Wx,H3F:()=>Bb,zAP:()=>kw,H8p:()=>Fc,KH2:()=>tm,TgB:()=>za,wOt:()=>Dn,WHO:()=>zb,e01:()=>Gb,H5H:()=>qI,mq5:()=>iD,JZv:()=>Wr,LfX:()=>pa,plB:()=>Rh,jNT:()=>pA,zjR:()=>Kb,TL$:()=>Af,Tbb:()=>yi,Vt3:()=>yI,GFd:()=>ZC,OA$:()=>zd,Jv_:()=>gb,aNF:()=>mb,R7$:()=>mg,BMQ:()=>kI,AVh:()=>$I,wni:()=>$D,VBU:()=>Kt,FsC:()=>mr,jDH:()=>fr,G2t:()=>Co,$C:()=>or,EJ8:()=>ci,rXU:()=>_h,nrm:()=>WI,eu8:()=>KI,bVm:()=>I0,qex:()=>E0,k0s:()=>y0,j41:()=>_0,RV6:()=>tD,xGo:()=>bm,KVO:()=>yr,kS0:()=>wp,QTQ:()=>vg,bIt:()=>YI,lsd:()=>zD,XpG:()=>RD,SdG:()=>PD,NAR:()=>MD,Y8G:()=>UI,mGM:()=>HD,Njj:()=>ed,eBV:()=>fl,n$t:()=>fy,DNE:()=>TI,EFF:()=>eb,SpI:()=>b0,DH7:()=>db,mxI:()=>nA,R50:()=>tA,GBs:()=>jD});let f=null,J=!1,ne=1;const de=Symbol("SIGNAL");function le(e){const t=f;return f=e,t}const Ce={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function pe(e){if(J)throw new Error("");if(null===f)return;f.consumerOnSignalRead(e);const t=f.nextProducerIndex++;Je(f),t<f.producerNode.length&&f.producerNode[t]!==e&&Ie(f)&&ge(f.producerNode[t],f.producerIndexOfThis[t]),f.producerNode[t]!==e&&(f.producerNode[t]=e,f.producerIndexOfThis[t]=Ie(f)?ve(e,f,t):0),f.producerLastReadVersion[t]=e.version}function He(e){if((!Ie(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==ne)){if(!e.producerMustRecompute(e)&&!et(e))return e.dirty=!1,void(e.lastCleanEpoch=ne);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=ne}}function Ue(e){if(void 0===e.liveConsumerNode)return;const t=J;J=!0;try{for(const r of e.liveConsumerNode)r.dirty||ut(r)}finally{J=t}}function Xe(){var e;return!1!==(null===(e=f)||void 0===e?void 0:e.consumerAllowSignalWrites)}function ut(e){var t;e.dirty=!0,Ue(e),null===(t=e.consumerMarkedDirty)||void 0===t||t.call(e,e)}function Ze(e){return e&&(e.nextProducerIndex=0),le(e)}function rt(e,t){if(le(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(Ie(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ge(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function et(e){Je(e);for(let t=0;t<e.producerNode.length;t++){const r=e.producerNode[t],o=e.producerLastReadVersion[t];if(o!==r.version||(He(r),o!==r.version))return!0}return!1}function st(e){if(Je(e),Ie(e))for(let t=0;t<e.producerNode.length;t++)ge(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function ve(e,t,r){if(We(e),0===e.liveConsumerNode.length&&wt(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=ve(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(t)-1}function ge(e,t){if(We(e),1===e.liveConsumerNode.length&&wt(e))for(let o=0;o<e.producerNode.length;o++)ge(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[t],a=e.liveConsumerNode[t];Je(a),a.producerIndexOfThis[o]=t}}function Ie(e){var t,r;return e.consumerIsAlwaysLive||(null!==(t=null==e||null===(r=e.liveConsumerNode)||void 0===r?void 0:r.length)&&void 0!==t?t:0)>0}function Je(e){var t,r,o;null!==(t=e.producerNode)&&void 0!==t||(e.producerNode=[]),null!==(r=e.producerIndexOfThis)&&void 0!==r||(e.producerIndexOfThis=[]),null!==(o=e.producerLastReadVersion)&&void 0!==o||(e.producerLastReadVersion=[])}function We(e){var t,r;null!==(t=e.liveConsumerNode)&&void 0!==t||(e.liveConsumerNode=[]),null!==(r=e.liveConsumerIndexOfThis)&&void 0!==r||(e.liveConsumerIndexOfThis=[])}function wt(e){return void 0!==e.producerNode}const Me=Symbol("UNSET"),Lt=Symbol("COMPUTING"),zt=Symbol("ERRORED"),an={...Ce,value:Me,dirty:!0,error:null,equal:d,producerMustRecompute:e=>e.value===Me||e.value===Lt,producerRecomputeValue(e){if(e.value===Lt)throw new Error("Detected cycle in computations.");const t=e.value;e.value=Lt;const r=Ze(e);let o;try{o=e.computation()}catch(a){o=zt,e.error=a}finally{rt(e,r)}t!==Me&&t!==zt&&o!==zt&&e.equal(t,o)?e.value=t:(e.value=o,e.version++)}};let bn=function en(){throw new Error};function Ot(){bn()}let X=null;function ft(e,t){Xe()||Ot(),e.equal(e.value,t)||(e.value=t,function yt(e){var t;e.version++,function ke(){ne++}(),Ue(e),null===(t=X)||void 0===t||t()}(e))}const Pt={...Ce,equal:d,value:void 0};var xr,Fr,gn=U(4412),Mn=U(1413),jt=U(8359),Yt=U(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Ki="https://g.co/ng/security#xss";class Dn extends Error{constructor(t,r){super(function Eo(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,r)),this.code=t}}function Io(e){return{toString:e}.toString()}const Ao="__parameters__";function xo(e,t,r){return Io(()=>{const o=function Li(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(t);function a(...c){if(this instanceof a)return o.apply(this,c),this;const m=new a(...c);return E.annotation=m,E;function E(T,L,z){const ie=T.hasOwnProperty(Ao)?T[Ao]:Object.defineProperty(T,Ao,{value:[]})[Ao];for(;ie.length<=z;)ie.push(null);return(ie[z]=ie[z]||[]).push(m),T}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Wr=globalThis;function br(e){for(let t in e)if(e[t]===br)return t;throw Error("Could not find renamed property on target object.")}function Al(e,t){for(const r in t)t.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function yi(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(yi).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const r=t.indexOf("\n");return-1===r?t:t.substring(0,r)}function qn(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const Pa=br({__forward_ref__:br});function xs(e){return e.__forward_ref__=xs,e.toString=function(){return yi(this())},e}function Xn(e){return ks(e)?e():e}function ks(e){return"function"==typeof e&&e.hasOwnProperty(Pa)&&e.__forward_ref__===xs}function fr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Co(e){return{providers:e.providers||[],imports:e.imports||[]}}function Qs(e){return Ys(e,Fs)||Ys(e,ma)}function pa(e){return null!==Qs(e)}function Ys(e,t){return e.hasOwnProperty(t)?e[t]:null}function ga(e){return e&&(e.hasOwnProperty(Oa)||e.hasOwnProperty(xa))?e[Oa]:null}const Fs=br({\u0275prov:br}),Oa=br({\u0275inj:br}),ma=br({ngInjectableDef:br}),xa=br({ngInjectorDef:br});class Jn{constructor(t,r){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=fr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qa(e){return e&&!!e.\u0275providers}const fo=br({\u0275cmp:br}),Dl=br({\u0275dir:br}),Js=br({\u0275pipe:br}),Jl=br({\u0275mod:br}),ss=br({\u0275fac:br}),pr=br({__NG_ELEMENT_ID__:br}),eu=br({__NG_ENV_ID__:br});function ur(e){return"string"==typeof e?e:null==e?"":String(e)}function Za(e,t){throw new Dn(-201,!1)}var Ir=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ir||{});let ko;function nu(){return ko}function ii(e){const t=ko;return ko=e,t}function ru(e,t,r){const o=Qs(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Ir.Optional?null:void 0!==t?t:void Za()}const $={},De="__NG_DI_FLAG__",V="ngTempTokenPath",Re=/\n/gm,sn="__source";let rr;function Ar(e){const t=rr;return rr=e,t}function gr(e,t=Ir.Default){if(void 0===rr)throw new Dn(-203,!1);return null===rr?ru(e,void 0,t):rr.get(e,t&Ir.Optional?null:void 0,t)}function yr(e,t=Ir.Default){return(nu()||gr)(Xn(e),t)}function Cn(e,t=Ir.Default){return yr(e,as(t))}function as(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Ei(e){const t=[];for(let r=0;r<e.length;r++){const o=Xn(e[r]);if(Array.isArray(o)){if(0===o.length)throw new Dn(900,!1);let a,c=Ir.Default;for(let m=0;m<o.length;m++){const E=o[m],T=vo(E);"number"==typeof T?-1===T?a=E.token:c|=T:a=E}t.push(yr(a,c))}else t.push(yr(o))}return t}function ao(e,t){return e[De]=t,e.prototype[De]=t,e}function vo(e){return e[De]}const na=ao(xo("Optional"),8),Rc=ao(xo("SkipSelf"),4);function Cr(e,t){return e.hasOwnProperty(ss)?e[ss]:null}function Ls(e,t){e.forEach(r=>Array.isArray(r)?Ls(r,t):t(r))}function As(e,t,r){t>=e.length?e.push(r):e.splice(t,0,r)}function Gu(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function lo(e,t,r){let o=el(e,t);return o>=0?e[1|o]=r:(o=~o,function Qo(e,t,r,o){let a=e.length;if(a==t)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>t;)e[a]=e[a-2],a--;e[t]=r,e[t+1]=o}}(e,o,t,r)),o}function ra(e,t){const r=el(e,t);if(r>=0)return e[1|r]}function el(e,t){return function Wu(e,t,r){let o=0,a=e.length>>r;for(;a!==o;){const c=o+(a-o>>1),m=e[c<<r];if(t===m)return c<<r;m>t?a=c:o=c+1}return~(a<<r)}(e,t,1)}const Cs={},Yr=[],ls=new Jn(""),kh=new Jn("",-1),Nc=new Jn("");class ou{get(t,r=$){if(r===$){const o=new Error(`NullInjectorError: No provider for ${yi(t)}!`);throw o.name="NullInjectorError",o}return r}}var Oc=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Oc||{}),Yo=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Yo||{}),Zo=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Zo||{});function Sl(e,t,r){let o=e.length;for(;;){const a=e.indexOf(t,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const c=t.length;if(a+c===o||e.charCodeAt(a+c)<=32)return a}r=a+1}}function Rl(e,t,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const c=r[o++],m=r[o++],E=r[o++];e.setAttribute(t,m,E,c)}else{const c=a,m=r[++o];Ml(c)?e.setProperty(t,c,m):e.setAttribute(t,c,m),o++}}return o}function ji(e){return 3===e||4===e||6===e}function Ml(e){return 64===e.charCodeAt(0)}function ka(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let r=-1;for(let o=0;o<t.length;o++){const a=t[o];"number"==typeof a?r=a:0===r||su(e,r,a,null,-1===r||2===r?t[++o]:null)}}return e}function su(e,t,r,o,a){let c=0,m=e.length;if(-1===t)m=-1;else for(;c<e.length;){const E=e[c++];if("number"==typeof E){if(E===t){m=-1;break}if(E>t){m=c-1;break}}}for(;c<e.length;){const E=e[c];if("number"==typeof E)break;if(E===r){if(null===o)return void(null!==a&&(e[c+1]=a));if(o===e[c+1])return void(e[c+2]=a)}c++,null!==o&&c++,null!==a&&c++}-1!==m&&(e.splice(m,0,t),c=m+1),e.splice(c++,0,r),null!==o&&e.splice(c++,0,o),null!==a&&e.splice(c++,0,a)}const tl="ng-template";function Ts(e,t,r,o){let a=0;if(o){for(;a<t.length&&"string"==typeof t[a];a+=2)if("class"===t[a]&&-1!==Sl(t[a+1].toLowerCase(),r,0))return!0}else if(Ku(e))return!1;if(a=t.indexOf(1,a),a>-1){let c;for(;++a<t.length&&"string"==typeof(c=t[a]);)if(c.toLowerCase()===r)return!0}return!1}function Ku(e){return 4===e.type&&e.value!==tl}function Fh(e,t,r){return t===(4!==e.type||r?e.value:tl)}function Pd(e,t,r){let o=4;const a=e.attrs,c=null!==a?function w(e){for(let t=0;t<e.length;t++)if(ji(e[t]))return t;return e.length}(a):0;let m=!1;for(let E=0;E<t.length;E++){const T=t[E];if("number"!=typeof T){if(!m)if(4&o){if(o=2|1&o,""!==T&&!Fh(e,T,r)||""===T&&1===t.length){if(ia(o))return!1;m=!0}}else if(8&o){if(null===a||!Ts(e,a,T,r)){if(ia(o))return!1;m=!0}}else{const L=t[++E],z=Pl(T,a,Ku(e),r);if(-1===z){if(ia(o))return!1;m=!0;continue}if(""!==L){let ie;if(ie=z>c?"":a[z+1].toLowerCase(),2&o&&L!==ie){if(ia(o))return!1;m=!0}}}}else{if(!m&&!ia(o)&&!ia(T))return!1;if(m&&ia(T))continue;m=!1,o=T|1&o}}return ia(o)||m}function ia(e){return!(1&e)}function Pl(e,t,r,o){if(null===t)return-1;let a=0;if(o||!r){let c=!1;for(;a<t.length;){const m=t[a];if(m===e)return a;if(3===m||6===m)c=!0;else{if(1===m||2===m){let E=t[++a];for(;"string"==typeof E;)E=t[++a];continue}if(4===m)break;if(0===m){a+=4;continue}}a+=c?1:2}return-1}return function P(e,t){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===t)return r;r++}return-1}(t,e)}function Nd(e,t,r=!1){for(let o=0;o<t.length;o++)if(Pd(e,t[o],r))return!0;return!1}function b(e,t){e:for(let r=0;r<t.length;r++){const o=t[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function x(e,t){return e?":not("+t.trim()+")":t}function ae(e){let t=e[0],r=1,o=2,a="",c=!1;for(;r<e.length;){let m=e[r];if("string"==typeof m)if(2&o){const E=e[++r];a+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&o?a+="."+m:4&o&&(a+=" "+m);else""!==a&&!ia(m)&&(t+=x(c,a),a=""),o=m,c=c||!ia(o);r++}return""!==a&&(t+=x(c,a)),t}function Kt(e){return Io(()=>{var t;const r=au(e),o={...r,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Oc.OnPush,directiveDefs:null,pipeDefs:null,dependencies:r.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:null!==(t=e.signals)&&void 0!==t&&t,data:e.data||{},encapsulation:e.encapsulation||Yo.Emulated,styles:e.styles||Yr,_:null,schemas:e.schemas||null,tView:null,id:""};Nl(o);const a=e.dependencies;return o.directiveDefs=lu(a,!1),o.pipeDefs=lu(a,!0),o.id=function Fa(e){let t=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)t=Math.imul(31,t)+a.charCodeAt(0)|0;return t+=2147483648,"c"+t}(o),o})}function Tt(e){return Qn(e)||oi(e)}function Tn(e){return null!==e}function or(e){return Io(()=>({type:e.type,bootstrap:e.bootstrap||Yr,declarations:e.declarations||Yr,imports:e.imports||Yr,exports:e.exports||Yr,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Xr(e,t){if(null==e)return Cs;const r={};for(const a in e)if(e.hasOwnProperty(a)){const c=e[a];let m,E,T=Zo.None;var o;Array.isArray(c)?(T=c[0],m=c[1],E=null!==(o=c[2])&&void 0!==o?o:m):(m=c,E=c),t?(r[m]=T!==Zo.None?[a,T]:a,t[m]=E):r[m]=a}return r}function mr(e){return Io(()=>{const t=au(e);return Nl(t),t})}function ci(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Qn(e){return e[fo]||null}function oi(e){return e[Dl]||null}function Ui(e){return e[Js]||null}function no(e){const t=Qn(e)||oi(e)||Ui(e);return null!==t&&t.standalone}function hi(e,t){const r=e[Jl]||null;if(!r&&!0===t)throw new Error(`Type ${yi(e)} does not have '\u0275mod' property.`);return r}function au(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Cs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Yr,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xr(e.inputs,t),outputs:Xr(e.outputs),debugInfo:null}}function Nl(e){var t;null===(t=e.features)||void 0===t||t.forEach(r=>r(e))}function lu(e,t){if(!e)return null;const r=t?Ui:Tt;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Tn)}function uu(...e){return{\u0275providers:nl(0,e),\u0275fromNgModule:!0}}function nl(e,...t){const r=[],o=new Set;let a;const c=m=>{r.push(m)};return Ls(t,m=>{const E=m;sa(E,c,[],o)&&(a||(a=[]),a.push(E))}),void 0!==a&&cu(a,c),r}function cu(e,t){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];xd(a,c=>{t(c,o)})}}function sa(e,t,r,o){if(!(e=Xn(e)))return!1;let a=null,c=ga(e);const m=!c&&Qn(e);if(c||m){if(m&&!m.standalone)return!1;a=e}else{const T=e.ngModule;if(c=ga(T),!c)return!1;a=T}const E=o.has(a);if(m){if(E)return!1;if(o.add(a),m.dependencies){const T="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const L of T)sa(L,t,r,o)}}else{if(!c)return!1;{if(null!=c.imports&&!E){let L;o.add(a);try{Ls(c.imports,z=>{sa(z,t,r,o)&&(L||(L=[]),L.push(z))})}finally{}void 0!==L&&cu(L,t)}if(!E){const L=Cr(a)||(()=>new a);t({provide:a,useFactory:L,deps:Yr},a),t({provide:Nc,useValue:a,multi:!0},a),t({provide:ls,useValue:()=>yr(a),multi:!0},a)}const T=c.providers;if(null!=T&&!E){const L=e;xd(T,z=>{t(z,L)})}}}return a!==e&&void 0!==e.providers}function xd(e,t){for(let r of e)Qa(r)&&(r=r.\u0275providers),Array.isArray(r)?xd(r,t):t(r)}const pp=br({provide:String,useValue:br});function Lh(e){return null!==e&&"object"==typeof e&&pp in e}function La(e){return"function"==typeof e}const Fc=new Jn(""),Va={},Vh={};let Fd;function qu(){return void 0===Fd&&(Fd=new ou),Fd}class Ds{}class Xu extends Ds{get destroyed(){return this._destroyed}constructor(t,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Qu(t,m=>this.processProvider(m)),this.records.set(kh,rl(void 0,this)),a.has("environment")&&this.records.set(Ds,rl(void 0,this));const c=this.records.get(Fc);null!=c&&"string"==typeof c.value&&this.scopes.add(c.value),this.injectorDefTypes=new Set(this.get(Nc,Yr,Ir.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=le(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),le(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const r=Ar(this),o=ii(void 0);try{return t()}finally{Ar(r),ii(o)}}get(t,r=$,o=Ir.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(eu))return t[eu](this);o=as(o);const c=Ar(this),m=ii(void 0);try{if(!(o&Ir.SkipSelf)){let T=this.records.get(t);if(void 0===T){const L=function Vc(e){return"function"==typeof e||"object"==typeof e&&e instanceof Jn}(t)&&Qs(t);T=L&&this.injectableDefInScope(L)?rl(_a(t),Va):null,this.records.set(t,T)}if(null!=T)return this.hydrate(t,T)}return(o&Ir.Self?qu():this.parent).get(t,r=o&Ir.Optional&&r===$?null:r)}catch(E){if("NullInjectorError"===E.name){if((E[V]=E[V]||[]).unshift(yi(t)),c)throw E;return function Xo(e,t,r,o){const a=e[V];throw t[sn]&&a.unshift(t[sn]),e.message=function Is(e,t,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=yi(t);if(Array.isArray(t))a=t.map(yi).join(" -> ");else if("object"==typeof t){let c=[];for(let m in t)if(t.hasOwnProperty(m)){let E=t[m];c.push(m+":"+("string"==typeof E?JSON.stringify(E):yi(E)))}a=`{${c.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(Re,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[V]=null,e}(E,t,"R3InjectorError",this.source)}throw E}finally{ii(m),Ar(c)}}resolveInjectorInitializers(){const t=le(null),r=Ar(this),o=ii(void 0);try{const c=this.get(ls,Yr,Ir.Self);for(const m of c)m()}finally{Ar(r),ii(o),le(t)}}toString(){const t=[],r=this.records;for(const o of r.keys())t.push(yi(o));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Dn(205,!1)}processProvider(t){let r=La(t=Xn(t))?t:Xn(t&&t.provide);const o=function Ol(e){return Lh(e)?rl(void 0,e.useValue):rl(Lc(e),Va)}(t);if(!La(t)&&!0===t.multi){let a=this.records.get(r);a||(a=rl(void 0,Va,!0),a.factory=()=>Ei(a.multi),this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,o)}hydrate(t,r){const o=le(null);try{return r.value===Va&&(r.value=Vh,r.value=r.factory()),"object"==typeof r.value&&r.value&&function im(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{le(o)}}injectableDefInScope(t){if(!t.providedIn)return!1;const r=Xn(t.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(t){const r=this._onDestroyHooks.indexOf(t);-1!==r&&this._onDestroyHooks.splice(r,1)}}function _a(e){const t=Qs(e),r=null!==t?t.factory:Cr(e);if(null!==r)return r;if(e instanceof Jn)throw new Dn(204,!1);if(e instanceof Function)return function du(e){if(e.length>0)throw new Dn(204,!1);const r=function to(e){return e&&(e[Fs]||e[ma])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new Dn(204,!1)}function Lc(e,t,r){let o;if(La(e)){const a=Xn(e);return Cr(a)||_a(a)}if(Lh(e))o=()=>Xn(e.useValue);else if(function kd(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Ei(e.deps||[]));else if(function xc(e){return!(!e||!e.useExisting)}(e))o=()=>yr(Xn(e.useExisting));else{const a=Xn(e&&(e.useClass||e.provide));if(!function Ld(e){return!!e.deps}(e))return Cr(a)||_a(a);o=()=>new a(...Ei(e.deps))}return o}function rl(e,t,r=!1){return{factory:e,value:t,multi:r?[]:void 0}}function Qu(e,t){for(const r of e)Array.isArray(r)?Qu(r,t):r&&Qa(r)?Qu(r.\u0275providers,t):t(r)}function Uh(e,t){e instanceof Xu&&e.assertNotDestroyed();const o=Ar(e),a=ii(void 0);try{return t()}finally{Ar(o),ii(a)}}function Vd(){return void 0!==nu()||null!=function Sr(){return rr}()}const Di=0,_n=1,Gn=2,Ni=3,bs=4,Qi=5,us=6,aa=7,Ii=8,wi=9,ya=10,vr=11,Zu=12,$c=13,fu=14,Hi=15,Ua=16,pu=17,Ba=18,gu=19,gp=20,sl=21,Vs=22,Jo=23,Wn=25,jd=1,Ea=7,Ju=9,co=10;var ec=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(ec||{});function Qr(e){return Array.isArray(e)&&"object"==typeof e[jd]}function es(e){return Array.isArray(e)&&!0===e[jd]}function zc(e){return!!(4&e.flags)}function al(e){return e.componentOffset>-1}function Hd(e){return!(1&~e.flags)}function cs(e){return!!e.template}function Gc(e){return!!(512&e[Gn])}class rc{constructor(t,r,o){this.previousValue=t,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Gh(e,t,r,o){null!==t?t.applyValueToInputSignal(t,o):e[r]=o}function zd(){return Qc}function Qc(e){return e.type.prototype.ngOnChanges&&(e.setInput=Wh),cm}function cm(){const e=Wd(this),t=null==e?void 0:e.current;if(t){const r=e.previous;if(r===Cs)e.previous=t;else for(let o in t)r[o]=t[o];e.current=null,this.ngOnChanges(t)}}function Wh(e,t,r,o,a){const c=this.declaredInputs[o],m=Wd(e)||function yp(e,t){return e[Gd]=t}(e,{previous:Cs,current:null}),E=m.current||(m.current={}),T=m.previous,L=T[c];E[c]=new rc(L&&L.currentValue,r,T===Cs),Gh(e,t,a,r)}zd.ngInherit=!0;const Gd="__ngSimpleChanges__";function Wd(e){return e[Gd]||null}const Us=function(e,t,r){};function Zr(e){for(;Array.isArray(e);)e=e[Di];return e}function ul(e,t){return Zr(t[e])}function Do(e,t){return Zr(t[e.index])}function ic(e,t){return e.data[t]}function ds(e,t){const r=t[e];return Qr(r)?r:r[Di]}function qh(e){return!(128&~e[Gn])}function la(e,t){return null==t?null:e[t]}function Xh(e){e[pu]=0}function Zc(e){1024&e[Gn]||(e[Gn]|=1024,qh(e)&&Jc(e))}function $a(e){var t;return!!(9216&e[Gn]||null!==(t=e[Jo])&&void 0!==t&&t.dirty)}function qd(e){var t;null===(t=e[ya].changeDetectionScheduler)||void 0===t||t.notify(8),64&e[Gn]&&(e[Gn]|=1024),$a(e)&&Jc(e)}function Jc(e){var t;null===(t=e[ya].changeDetectionScheduler)||void 0===t||t.notify(0);let r=cl(e);for(;null!==r&&!(8192&r[Gn])&&(r[Gn]|=8192,qh(r));)r=cl(r)}function Xd(e,t){if(!(256&~e[Gn]))throw new Dn(911,!1);null===e[sl]&&(e[sl]=[]),e[sl].push(t)}function cl(e){const t=e[Ni];return es(t)?t[Ni]:t}const Er={lFrame:kn(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let hl=!1;function hs(){return Er.bindingsEnabled}function $s(){return null!==Er.skipHydrationRootTNode}function qt(){return Er.lFrame.lView}function Nr(){return Er.lFrame.tView}function fl(e){return Er.lFrame.contextLView=e,e[Ii]}function ed(e){return Er.lFrame.contextLView=null,e}function Ai(){let e=Jd();for(;null!==e&&64===e.type;)e=e.parent;return e}function Jd(){return Er.lFrame.currentTNode}function ws(e,t){const r=Er.lFrame;r.currentTNode=e,r.isParent=t}function Lo(){return Er.lFrame.isParent}function ja(){Er.lFrame.isParent=!1}function eh(){return hl}function tf(e){hl=e}function Aa(){return Er.lFrame.bindingIndex++}function h(e,t){const r=Er.lFrame;r.bindingIndex=r.bindingRootIndex=e,A(t)}function A(e){Er.lFrame.currentDirectiveIndex=e}function oe(){return Er.lFrame.currentQueryIndex}function Ge(e){Er.lFrame.currentQueryIndex=e}function It(e){const t=e[_n];return 2===t.type?t.declTNode:1===t.type?e[Qi]:null}function Xt(e,t,r){if(r&Ir.SkipSelf){let a=t,c=e;for(;!(a=a.parent,null!==a||r&Ir.Host||(a=It(c),null===a||(c=c[fu],10&a.type))););if(null===a)return!1;t=a,e=c}const o=Er.lFrame=Vn();return o.currentTNode=t,o.lView=e,!0}function An(e){const t=Vn(),r=e[_n];Er.lFrame=t,t.currentTNode=r.firstChild,t.lView=e,t.tView=r,t.contextLView=e,t.bindingIndex=r.bindingStartIndex,t.inI18n=!1}function Vn(){const e=Er.lFrame,t=null===e?null:e.child;return null===t?kn(e):t}function kn(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function zi(){const e=Er.lFrame;return Er.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ua=zi;function Au(){const e=zi();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function ho(){return Er.lFrame.selectedIndex}function Ha(e){Er.lFrame.selectedIndex=e}function Ci(){const e=Er.lFrame;return ic(e.tView,e.selectedIndex)}let oh=!0;function Cu(){return oh}function Ta(e){oh=e}function rf(e,t){for(let L=t.directiveStart,z=t.directiveEnd;L<z;L++){const Oe=e.data[L].type.prototype,{ngAfterContentInit:je,ngAfterContentChecked:Le,ngAfterViewInit:Ut,ngAfterViewChecked:rn,ngOnDestroy:pn}=Oe;var r,o,a,c,m,E,T;je&&(null!==(r=e.contentHooks)&&void 0!==r?r:e.contentHooks=[]).push(-L,je),Le&&((null!==(o=e.contentHooks)&&void 0!==o?o:e.contentHooks=[]).push(L,Le),(null!==(a=e.contentCheckHooks)&&void 0!==a?a:e.contentCheckHooks=[]).push(L,Le)),Ut&&(null!==(c=e.viewHooks)&&void 0!==c?c:e.viewHooks=[]).push(-L,Ut),rn&&((null!==(m=e.viewHooks)&&void 0!==m?m:e.viewHooks=[]).push(L,rn),(null!==(E=e.viewCheckHooks)&&void 0!==E?E:e.viewCheckHooks=[]).push(L,rn)),null!=pn&&(null!==(T=e.destroyHooks)&&void 0!==T?T:e.destroyHooks=[]).push(L,pn)}}function sf(e,t,r){c_(e,t,3,r)}function af(e,t,r,o){(3&e[Gn])===r&&c_(e,t,r,o)}function Ip(e,t){let r=e[Gn];(3&r)===t&&(r&=16383,r+=1,e[Gn]=r)}function c_(e,t,r,o){const c=null!=o?o:-1,m=t.length-1;let E=0;for(let T=void 0!==o?65535&e[pu]:0;T<m;T++)if("number"==typeof t[T+1]){if(E=t[T],null!=o&&E>=o)break}else t[T]<0&&(e[pu]+=65536),(E<c||-1==c)&&(H0(e,r,t,T),e[pu]=(4294901760&e[pu])+T+2),T++}function d_(e,t){Us(4,e,t);const r=le(null);try{t.call(e)}finally{le(r),Us(5,e,t)}}function H0(e,t,r,o){const a=r[o]<0,c=r[o+1],E=e[a?-r[o]:r[o]];a?e[Gn]>>14<e[pu]>>16&&(3&e[Gn])===t&&(e[Gn]+=16384,d_(E,c)):d_(E,c)}const sh=-1;class nd{constructor(t,r,o){this.factory=t,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const _m={};class Tu{constructor(t,r){this.injector=t,this.parentInjector=r}get(t,r,o){o=as(o);const a=this.injector.get(t,_m,o);return a!==_m||r===_m?a:this.parentInjector.get(t,r,o)}}function ym(e){return e!==sh}function rd(e){return 32767&e}function id(e,t){let r=function f_(e){return e>>16}(e),o=t;for(;r>0;)o=o[fu],r--;return o}let Em=!0;function ah(e){const t=Em;return Em=e,t}const Ap=255,g_=5;let Im=0;const Bl={};function lh(e,t){const r=od(e,t);if(-1!==r)return r;const o=t[_n];o.firstCreatePass&&(e.injectorIndex=t.length,uf(o.data,e),uf(t,null),uf(o.blueprint,null));const a=cf(e,t),c=e.injectorIndex;if(ym(a)){const m=rd(a),E=id(a,t),T=E[_n].data;for(let L=0;L<8;L++)t[c+L]=E[m+L]|T[m+L]}return t[c+8]=a,c}function uf(e,t){e.push(0,0,0,0,0,0,0,0,t)}function od(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function cf(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=t;for(;null!==a;){if(o=y_(a),null===o)return sh;if(r++,a=a[fu],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return sh}function df(e,t,r){!function Am(e,t,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(pr)&&(o=r[pr]),null==o&&(o=r[pr]=Im++);const a=o&Ap;t.data[e+(a>>g_)]|=1<<a}(e,t,r)}function Cp(e,t,r){if(r&Ir.Optional||void 0!==e)return e;Za()}function $l(e,t,r,o){if(r&Ir.Optional&&void 0===o&&(o=null),!(r&(Ir.Self|Ir.Host))){const a=e[wi],c=ii(void 0);try{return a?a.get(t,o,r&Ir.Optional):ru(t,o,r&Ir.Optional)}finally{ii(c)}}return Cp(o,0,r)}function Tp(e,t,r,o=Ir.Default,a){if(null!==e){if(2048&t[Gn]&&!(o&Ir.Self)){const m=function __(e,t,r,o,a){let c=e,m=t;for(;null!==c&&null!==m&&2048&m[Gn]&&!(512&m[Gn]);){const E=m_(c,m,r,o|Ir.Self,Bl);if(E!==Bl)return E;let T=c.parent;if(!T){const L=m[gp];if(L){const z=L.get(r,Bl,o);if(z!==Bl)return z}T=y_(m),m=m[fu]}c=T}return a}(e,t,r,o,Bl);if(m!==Bl)return m}const c=m_(e,t,r,o,Bl);if(c!==Bl)return c}return $l(t,r,o,a)}function m_(e,t,r,o,a){const c=function Tm(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(pr)?e[pr]:void 0;return"number"==typeof t?t>=0?t&Ap:Dm:t}(r);if("function"==typeof c){if(!Xt(t,e,o))return o&Ir.Host?Cp(a,0,o):$l(t,r,o,a);try{let m;if(m=c(o),null!=m||o&Ir.Optional)return m;Za()}finally{ua()}}else if("number"==typeof c){let m=null,E=od(e,t),T=sh,L=o&Ir.Host?t[Hi][Qi]:null;for((-1===E||o&Ir.SkipSelf)&&(T=-1===E?cf(e,t):t[E+8],T!==sh&&bp(o,!1)?(m=t[_n],E=rd(T),t=id(T,t)):E=-1);-1!==E;){const z=t[_n];if(v_(c,E,z.data)){const ie=Cm(E,t,r,m,o,L);if(ie!==Bl)return ie}T=t[E+8],T!==sh&&bp(o,t[_n].data[E+8]===L)&&v_(c,E,t)?(m=z,E=rd(T),t=id(T,t)):E=-1}}return a}function Cm(e,t,r,o,a,c){const m=t[_n],E=m.data[e+8],z=Dp(E,m,r,null==o?al(E)&&Em:o!=m&&!!(3&E.type),a&Ir.Host&&c===E);return null!==z?sd(t,m,z,E):Bl}function Dp(e,t,r,o,a){const c=e.providerIndexes,m=t.data,E=1048575&c,T=e.directiveStart,z=c>>20,Oe=a?E+z:e.directiveEnd;for(let je=o?E:E+z;je<Oe;je++){const Le=m[je];if(je<T&&r===Le||je>=T&&Le.type===r)return je}if(a){const je=m[T];if(je&&cs(je)&&je.type===r)return T}return null}function sd(e,t,r,o){let a=e[r];const c=t.data;if(function z0(e){return e instanceof nd}(a)){const m=a;m.resolving&&function bl(e,t){throw t&&t.join(" > "),new Dn(-200,e)}(function Vr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():ur(e)}(c[r]));const E=ah(m.canSeeViewProviders);m.resolving=!0;const L=m.injectImpl?ii(m.injectImpl):null;Xt(e,o,Ir.Default);try{a=e[r]=m.factory(void 0,c,e,o),t.firstCreatePass&&r>=o.directiveStart&&function j0(e,t,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:c}=t.type.prototype;if(o){var m,E;const ie=Qc(t);(null!==(m=r.preOrderHooks)&&void 0!==m?m:r.preOrderHooks=[]).push(e,ie),(null!==(E=r.preOrderCheckHooks)&&void 0!==E?E:r.preOrderCheckHooks=[]).push(e,ie)}var T,L,z;a&&(null!==(T=r.preOrderHooks)&&void 0!==T?T:r.preOrderHooks=[]).push(0-e,a),c&&((null!==(L=r.preOrderHooks)&&void 0!==L?L:r.preOrderHooks=[]).push(e,c),(null!==(z=r.preOrderCheckHooks)&&void 0!==z?z:r.preOrderCheckHooks=[]).push(e,c))}(r,c[r],t)}finally{null!==L&&ii(L),ah(E),m.resolving=!1,ua()}}return a}function v_(e,t,r){return!!(r[t+(e>>g_)]&1<<e)}function bp(e,t){return!(e&Ir.Self||e&Ir.Host&&t)}class Uo{constructor(t,r){this._tNode=t,this._lView=r}get(t,r,o){return Tp(this._tNode,this._lView,t,as(o),r)}}function Dm(){return new Uo(Ai(),qt())}function bm(e){return Io(()=>{const t=e.prototype.constructor,r=t[ss]||hf(t),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const c=a[ss]||hf(a);if(c&&c!==r)return c;a=Object.getPrototypeOf(a)}return c=>new c})}function hf(e){return ks(e)?()=>{const t=hf(Xn(e));return t&&t()}:Cr(e)}function y_(e){const t=e[_n],r=t.type;return 2===r?t.declTNode:1===r?e[Qi]:null}function wp(e){return function G0(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const c=r[a];if(ji(c))break;if(0===c)a+=2;else if("number"==typeof c)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(c===t)return r[a+1];a+=2}}}return null}(Ai(),e)}function C_(e,t=null,r=null,o){const a=T_(e,t,r,o);return a.resolveInjectorInitializers(),a}function T_(e,t=null,r=null,o,a=new Set){const c=[r||Yr,uu(e)];return o=o||("object"==typeof e?void 0:yi(e)),new Xu(c,t||qu(),o||null,a)}class Ss{static create(t,r){if(Array.isArray(t))return C_({name:""},r,t,"");{var o;const a=null!==(o=t.name)&&void 0!==o?o:"";return C_({name:a},t.parent,t.providers,a)}}}(xr=Ss).THROW_IF_NOT_FOUND=$,xr.NULL=new ou,xr.\u0275prov=fr({token:xr,providedIn:"any",factory:()=>yr(kh)}),xr.__NG_ELEMENT_ID__=-1,new Jn("").__NG_ELEMENT_ID__=e=>{const t=Ai();if(null===t)throw new Dn(204,!1);if(2&t.type)return t.value;if(e&Ir.Optional)return null;throw new Dn(204,!1)};function pf(e){return e.ngOriginalError}const Np=!0;let lc=(()=>{var e;class t{}return(e=t).__NG_ELEMENT_ID__=b_,e.__NG_ENV_ID__=r=>r,t})();class Mm extends lc{constructor(t){super(),this._lView=t}onDestroy(t){return Xd(this._lView,t),()=>function Qh(e,t){if(null===e[sl])return;const r=e[sl].indexOf(t);-1!==r&&e[sl].splice(r,1)}(this._lView,t)}}function b_(){return new Mm(qt())}let za=(()=>{var e;class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}}return(e=t).\u0275prov=fr({token:e,providedIn:"root",factory:()=>new e}),t})();const pl=class Pm extends Mn.B{constructor(t=!1){var r,o;super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=t,Vd()&&(this.destroyRef=null!==(r=Cn(lc,{optional:!0}))&&void 0!==r?r:void 0,this.pendingTasks=null!==(o=Cn(za,{optional:!0}))&&void 0!==o?o:void 0)}emit(t){const r=le(null);try{super.next(t)}finally{le(r)}}subscribe(t,r,o){let a=t,c=r||(()=>null),m=o;if(t&&"object"==typeof t){var E,T,L;const ie=t;a=null===(E=ie.next)||void 0===E?void 0:E.bind(ie),c=null===(T=ie.error)||void 0===T?void 0:T.bind(ie),m=null===(L=ie.complete)||void 0===L?void 0:L.bind(ie)}this.__isAsync&&(c=this.wrapInTimeout(c),a&&(a=this.wrapInTimeout(a)),m&&(m=this.wrapInTimeout(m)));const z=super.subscribe({next:a,error:c,complete:m});return t instanceof jt.yU&&t.add(z),z}wrapInTimeout(t){return r=>{var o;const a=null===(o=this.pendingTasks)||void 0===o?void 0:o.add();setTimeout(()=>{var c;t(r),void 0!==a&&(null===(c=this.pendingTasks)||void 0===c||c.remove(a))})}}};function Du(...e){}function Op(e){let t,r;function o(){e=Du;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==t&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function w_(e){return queueMicrotask(()=>e()),()=>{e=Du}}const Nm="isAngularZone",gf=Nm+"_ID";let Q0=0;class Yi{constructor(t){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pl(!1),this.onMicrotaskEmpty=new pl(!1),this.onStable=new pl(!1),this.onError=new pl(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:c=Np}=t;if(typeof Zone>"u")throw new Dn(908,!1);Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!a&&o,m.shouldCoalesceRunChangeDetection=a,m.callbackScheduled=!1,m.scheduleInRootZone=c,function J0(e){const t=()=>{!function Z0(e){function t(){Op(()=>{e.callbackScheduled=!1,xm(e),e.isCheckStableRunning=!0,Om(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),xm(e))}(e)},r=Q0++;e._inner=e._inner.fork({name:"angular",properties:{[Nm]:!0,[gf]:r,[gf+r]:!0},onInvokeTask:(o,a,c,m,E,T)=>{if(function M_(e){return Fm(e,"__ignore_ng_zone__")}(T))return o.invokeTask(c,m,E,T);try{return S_(e),o.invokeTask(c,m,E,T)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||e.shouldCoalesceRunChangeDetection)&&t(),R_(e)}},onInvoke:(o,a,c,m,E,T,L)=>{try{return S_(e),o.invoke(c,m,E,T,L)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function km(e){return Fm(e,"__scheduler_tick__")}(T)&&t(),R_(e)}},onHasTask:(o,a,c,m)=>{o.hasTask(c,m),a===c&&("microTask"==m.change?(e._hasPendingMicrotasks=m.microTask,xm(e),Om(e)):"macroTask"==m.change&&(e.hasPendingMacrotasks=m.macroTask))},onHandleError:(o,a,c,m)=>(o.handleError(c,m),e.runOutsideAngular(()=>e.onError.emit(m)),!1)})}(m)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Nm)}static assertInAngularZone(){if(!Yi.isInAngularZone())throw new Dn(909,!1)}static assertNotInAngularZone(){if(Yi.isInAngularZone())throw new Dn(909,!1)}run(t,r,o){return this._inner.run(t,r,o)}runTask(t,r,o,a){const c=this._inner,m=c.scheduleEventTask("NgZoneEvent: "+a,t,Y0,Du,Du);try{return c.runTask(m,r,o)}finally{c.cancelTask(m)}}runGuarded(t,r,o){return this._inner.runGuarded(t,r,o)}runOutsideAngular(t){return this._outer.run(t)}}const Y0={};function Om(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function xm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function S_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function R_(e){e._nesting--,Om(e)}class xp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pl,this.onMicrotaskEmpty=new pl,this.onStable=new pl,this.onError=new pl}run(t,r,o){return t.apply(r,o)}runGuarded(t,r,o){return t.apply(r,o)}runOutsideAngular(t){return t()}runTask(t,r,o,a){return t.apply(r,o)}}function Fm(e,t){var r;return!(!Array.isArray(e)||1!==e.length)&&!0===(null===(r=e[0])||void 0===r||null===(r=r.data)||void 0===r?void 0:r[t])}class jl{constructor(){this._console=console}handleError(t){const r=this._findOriginalError(t);this._console.error("ERROR",t),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(t){let r=t&&pf(t);for(;r&&pf(r);)r=pf(r);return r||null}}const kp=new Jn("",{providedIn:"root",factory:()=>{const e=Cn(Yi),t=Cn(jl);return r=>e.runOutsideAngular(()=>t.handleError(r))}});function Zi(){return js(Ai(),qt())}function js(e,t){return new dh(Do(e,t))}let dh=(()=>{class t{constructor(o){this.nativeElement=o}}return t.__NG_ELEMENT_ID__=Zi,t})();function N_(e){return e instanceof dh?e.nativeElement:e}function Lp(){return this._results[Symbol.iterator]()}class Vp{get changes(){var t;return null!==(t=this._changes)&&void 0!==t?t:this._changes=new pl}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=Vp.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Lp)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,r){return this._results.reduce(t,r)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,r){this.dirty=!1;const o=function _o(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Mc(e,t,r){if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],c=t[o];if(r&&(a=r(a),c=r(c)),c!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){var t;this.dirty=!0,null===(t=this._onDirty)||void 0===t||t.call(this)}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function vf(e){return!(128&~e.flags)}const x_=new Map;let ro=0;function Up(e){x_.delete(e[gu])}const Vm="__ngContext__";function fs(e,t){Qr(t)?(e[Vm]=t[gu],function oE(e){x_.set(e[gu],e)}(t)):e[Vm]=t}function j_(e){return yf(e[Zu])}function uc(e){return yf(e[bs])}function yf(e){for(;null!==e&&!es(e);)e=e[bs];return e}let Wp;function Af(e){Wp=e}const dd=new Jn("",{providedIn:"root",factory:()=>z_}),z_="ng",Kp=new Jn(""),fc=new Jn("",{providedIn:"platform",factory:()=>"unknown"}),cE=new Jn("",{providedIn:"root",factory:()=>{var e;return(null===(e=function hc(){if(void 0!==Wp)return Wp;if(typeof document<"u")return document;throw new Dn(210,!1)}().body)||void 0===e||null===(e=e.querySelector("[ngCspNonce]"))||void 0===e?void 0:e.getAttribute("ngCspNonce"))||null}});let fE=()=>null;function W_(e,t,r=!1){return fE(e,t,r)}const vE=new Jn("",{providedIn:"root",factory:()=>!1});let rg;function Jm(e){var t;return(null===(t=function Zm(){if(void 0===rg&&(rg=null,Wr.trustedTypes))try{rg=Wr.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return rg}())||void 0===t?void 0:t.createScriptURL(e))||e}class Ou{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ki})`}}function mc(e){return e instanceof Ou?e.changingThisBreaksApplicationSecurity:e}function Rf(e,t){const r=function zA(e){return e instanceof Ou&&e.getTypeName()||null}(e);if(null!=r&&r!==t){if("ResourceURL"===r&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${r} (see ${Ki})`)}return r===t}const ry=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ec=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ec||{});function lg(e){const t=_d();return t?t.sanitize(Ec.URL,e)||"":Rf(e,"URL")?mc(e):function iy(e){return(e=String(e)).match(ry)?e:"unsafe:"+e}(ur(e))}function Ic(e){const t=_d();if(t)return Jm(t.sanitize(Ec.RESOURCE_URL,e)||"");if(Rf(e,"ResourceURL"))return Jm(mc(e));throw new Dn(904,!1)}function fy(e,t,r){return function NE(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?Ic:lg}(t,r)(e)}function _d(){const e=qt();return e&&e[ya].sanitizer}const py=/^>|^->|<!--|-->|--!>|<!-$/g,ug=/(<|>)/g,gy="\u200b$1\u200b";function Ct(e){return e instanceof Function?e():e}var vt=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(vt||{});let Ke;function dt(e,t){return Ke(e,t)}function Dt(e,t,r,o,a){if(null!=o){let c,m=!1;es(o)?c=o:Qr(o)&&(m=!0,o=o[Di]);const E=Zr(o);0===e&&null!==r?null==a?xf(t,r,E):Gl(t,r,E,a||null,!0):1===e&&null!==r?Gl(t,r,E,a||null,!0):2===e?function Ed(e,t,r){e.removeChild(null,t,r)}(t,E,m):3===e&&t.destroyNode(E),null!=c&&function Cy(e,t,r,o,a){const c=r[Ea];c!==Zr(r)&&Dt(t,e,o,c,a);for(let E=co;E<r.length;E++){const T=r[E];Bo(T[_n],T,e,t,o,c)}}(t,e,c,r,a)}}function ml(e,t){return e.createComment(function my(e){return e.replace(py,t=>t.replace(ug,gy))}(t))}function Ac(e,t,r){return e.createElement(t,r)}function mh(e,t){var r;null===(r=t[ya].changeDetectionScheduler)||void 0===r||r.notify(9),Bo(e,t,t[vr],2,null,null)}function Iy(e,t){const r=e[Ju],o=t[Ni];(Qr(o)||t[Hi]!==o[Ni][Hi])&&(e[Gn]|=ec.HasTransplantedViews),null===r?e[Ju]=[t]:r.push(t)}function zl(e,t){const r=e[Ju],o=r.indexOf(t);r.splice(o,1)}function bo(e,t){if(e.length<=co)return;const r=co+t,o=e[r];if(o){const a=o[Ua];null!==a&&a!==e&&zl(a,o),t>0&&(e[r-1][bs]=o[bs]);const c=Gu(e,co+t);!function LE(e,t){mh(e,t),t[Di]=null,t[Qi]=null}(o[_n],o);const m=c[Ba];null!==m&&m.detachView(c[_n]),o[Ni]=null,o[bs]=null,o[Gn]&=-129}return o}function hg(e,t){if(!(256&t[Gn])){const r=t[vr];r.destroyNode&&Bo(e,t,r,3,null,null),function nv(e){let t=e[Zu];if(!t)return yd(e[_n],e);for(;t;){let r=null;if(Qr(t))r=t[Zu];else{const o=t[co];o&&(r=o)}if(!r){for(;t&&!t[bs]&&t!==e;)Qr(t)&&yd(t[_n],t),t=t[Ni];null===t&&(t=e),Qr(t)&&yd(t[_n],t),r=t&&t[bs]}t=r}}(t)}}function yd(e,t){if(256&t[Gn])return;const r=le(null);try{t[Gn]&=-129,t[Gn]|=256,t[Jo]&&st(t[Jo]),function Of(e,t){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=t[r[o]];if(!(a instanceof nd)){const c=r[o+1];if(Array.isArray(c))for(let m=0;m<c.length;m+=2){const E=a[c[m]],T=c[m+1];Us(4,E,T);try{T.call(E)}finally{Us(5,E,T)}}else{Us(4,a,c);try{c.call(a)}finally{Us(5,a,c)}}}}}(e,t),function VE(e,t){const r=e.cleanup,o=t[aa];if(null!==r)for(let c=0;c<r.length-1;c+=2)if("string"==typeof r[c]){const m=r[c+3];m>=0?o[m]():o[-m].unsubscribe(),c+=2}else r[c].call(o[r[c+1]]);null!==o&&(t[aa]=null);const a=t[sl];if(null!==a){t[sl]=null;for(let c=0;c<a.length;c++)(0,a[c])()}}(e,t),1===t[_n].type&&t[vr].destroy();const o=t[Ua];if(null!==o&&es(t[Ni])){o!==t[Ni]&&zl(o,t);const a=t[Ba];null!==a&&a.detachView(e)}Up(t)}finally{le(r)}}function rv(e,t,r){return function Ay(e,t,r){let o=t;for(;null!==o&&168&o.type;)o=(t=o).parent;if(null===o)return r[Di];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:c}=e.data[o.directiveStart+a];if(c===Yo.None||c===Yo.Emulated)return null}return Do(o,r)}}(e,t.parent,r)}function Gl(e,t,r,o,a){e.insertBefore(t,r,o,a)}function xf(e,t,r){e.appendChild(t,r)}function fg(e,t,r,o,a){null!==o?Gl(e,t,r,o,a):xf(e,t,r)}function kf(e,t){return e.parentNode(t)}function pg(e,t,r){return sv(e,t,r)}let av,sv=function ov(e,t,r){return 40&e.type?Do(e,r):null};function Ff(e,t,r,o){const a=rv(e,o,t),c=t[vr],E=pg(o.parent||t[Qi],o,t);if(null!=a)if(Array.isArray(r))for(let T=0;T<r.length;T++)fg(c,a,r[T],E,!1);else fg(c,a,r,E,!1);void 0!==av&&av(c,o,t,r,a)}function xu(e,t){if(null!==t){const r=t.type;if(3&r)return Do(t,e);if(4&r)return cv(-1,e[t.index]);if(8&r){const o=t.child;if(null!==o)return xu(e,o);{const a=e[t.index];return es(a)?cv(-1,a):Zr(a)}}if(128&r)return xu(e,t.next);if(32&r)return dt(t,e)()||Zr(e[t.index]);{const o=uv(e,t);return null!==o?Array.isArray(o)?o[0]:xu(cl(e[Hi]),o):xu(e,t.next)}}return null}function uv(e,t){return null!==t?e[Hi][Qi].projection[t.projection]:null}function cv(e,t){const r=co+e+1;if(r<t.length){const o=t[r],a=o[_n].firstChild;if(null!==a)return xu(o,a)}return t[Ea]}function Lf(e,t,r,o,a,c,m){for(;null!=r;){if(128===r.type){r=r.next;continue}const E=o[r.index],T=r.type;if(m&&0===t&&(E&&fs(Zr(E),o),r.flags|=2),32&~r.flags)if(8&T)Lf(e,t,r.child,o,a,c,!1),Dt(t,e,a,E,c);else if(32&T){const L=dt(r,o);let z;for(;z=L();)Dt(t,e,a,z,c);Dt(t,e,a,E,c)}else 16&T?Vf(e,t,o,r,a,c):Dt(t,e,a,E,c);r=m?r.projectionNext:r.next}}function Bo(e,t,r,o,a,c){Lf(r,o,e.firstChild,t,a,c,!1)}function Vf(e,t,r,o,a,c){const m=r[Hi],T=m[Qi].projection[o.projection];if(Array.isArray(T))for(let L=0;L<T.length;L++)Dt(t,e,a,T[L],c);else{let L=T;const z=m[Ni];vf(o)&&(L.flags|=128),Lf(e,t,L,z,a,c,!0)}}function vh(e,t,r){""===r?e.removeAttribute(t,"class"):e.setAttribute(t,"class",r)}function dv(e,t,r){const{mergedAttrs:o,classes:a,styles:c}=r;null!==o&&Rl(e,t,o),null!==a&&vh(e,t,a),null!==c&&function UE(e,t,r){e.setAttribute(t,"style",r)}(e,t,c)}const wr={};function mg(e=1){Dy(Nr(),qt(),ho()+e,!1)}function Dy(e,t,r,o){if(!o)if(3&~t[Gn]){const c=e.preOrderHooks;null!==c&&af(t,c,0,r)}else{const c=e.preOrderCheckHooks;null!==c&&sf(t,c,r)}Ha(r)}function _h(e,t=Ir.Default){const r=qt();return null===r?yr(e,t):Tp(Ai(),r,Xn(e),t)}function vg(){throw new Error("invalid")}function hv(e,t,r,o,a,c){const m=le(null);try{let E=null;a&Zo.SignalBased&&(E=t[o][de]),null!==E&&void 0!==E.transformFn&&(c=E.transformFn(c)),a&Zo.HasDecoratorInputTransform&&(c=e.inputTransforms[o].call(t,c)),null!==e.setInput?e.setInput(t,E,c,r,o):Gh(t,E,o,c)}finally{le(m)}}function Cc(e,t,r,o,a,c,m,E,T,L,z){const ie=t.blueprint.slice();return ie[Di]=a,ie[Gn]=204|o,(null!==L||e&&2048&e[Gn])&&(ie[Gn]|=2048),Xh(ie),ie[Ni]=ie[fu]=e,ie[Ii]=r,ie[ya]=m||e&&e[ya],ie[vr]=E||e&&e[vr],ie[wi]=T||e&&e[wi]||null,ie[Qi]=c,ie[gu]=function k_(){return ro++}(),ie[us]=z,ie[gp]=L,ie[Hi]=2==t.type?e[Hi]:ie,ie}function ku(e,t,r,o,a){let c=e.data[t];if(null===c)c=function Uf(e,t,r,o,a){const c=Jd(),m=Lo(),T=e.data[t]=function jE(e,t,r,o,a,c){let m=t?t.injectorIndex:-1,E=0;return $s()&&(E|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:a,attrs:c,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?c:c&&c.parent,r,t,o,a);return null===e.firstChild&&(e.firstChild=T),null!==c&&(m?null==c.child&&null!==T.parent&&(c.child=T):null===c.next&&(c.next=T,T.prev=c)),T}(e,t,r,o,a),function fm(){return Er.lFrame.inI18n}()&&(c.flags|=32);else if(64&c.type){c.type=r,c.value=o,c.attrs=a;const m=function Vl(){const e=Er.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();c.injectorIndex=null===m?-1:m.injectorIndex}return ws(c,!0),c}function vl(e,t,r,o){if(0===r)return-1;const a=t.length;for(let c=0;c<r;c++)t.push(o),e.blueprint.push(o),e.data.push(null);return a}function fv(e,t,r,o,a){const c=ho(),m=2&o;try{Ha(-1),m&&t.length>Wn&&Dy(e,t,Wn,!1),Us(m?2:0,a),r(o,a)}finally{Ha(c),Us(m?3:1,a)}}function yh(e,t,r){if(zc(t)){const o=le(null);try{const c=t.directiveEnd;for(let m=t.directiveStart;m<c;m++){const E=e.data[m];E.contentQueries&&E.contentQueries(1,r[m],m)}}finally{le(o)}}}function _g(e,t,r){hs()&&(function Eg(e,t,r,o){const a=r.directiveStart,c=r.directiveEnd;al(r)&&function ky(e,t,r){const o=Do(t,e),a=pv(r);let m=16;r.signals?m=4096:r.onPush&&(m=64);const E=Wf(e,Cc(e,a,null,m,o,t,null,e[ya].rendererFactory.createRenderer(o,r),null,null,null));e[t.index]=E}(t,r,e.data[a+r.componentOffset]),e.firstCreatePass||lh(r,t),fs(o,t);const m=r.initialInputs;for(let E=a;E<c;E++){const T=e.data[E],L=sd(t,e,E,r);fs(L,t),null!==m&&Fy(0,E-a,L,T,0,m),cs(T)&&(ds(r.index,t)[Ii]=sd(t,e,E,r))}}(e,t,r,Do(r,t)),!(64&~r.flags)&&_v(e,t,r))}function Id(e,t,r=Do){const o=t.localNames;if(null!==o){let a=t.index+1;for(let c=0;c<o.length;c+=2){const m=o[c+1],E=-1===m?r(t,e):e[m];e[a++]=E}}}function pv(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=gs(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function gs(e,t,r,o,a,c,m,E,T,L,z){const ie=Wn+o,Oe=ie+a,je=function wy(e,t){const r=[];for(let o=0;o<t;o++)r.push(o<e?null:wr);return r}(ie,Oe),Le="function"==typeof L?L():L;return je[_n]={type:e,blueprint:je,template:r,queries:null,viewQuery:E,declTNode:t,data:je.slice().fill(null,ie),bindingStartIndex:ie,expandoStartIndex:Oe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof c?c():c,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:T,consts:Le,incompleteFirstPass:!1,ssrId:z}}let Sy=()=>null;function jf(e,t,r,o,a){for(let m in t){var c;if(!t.hasOwnProperty(m))continue;const E=t[m];if(void 0===E)continue;null!==(c=o)&&void 0!==c||(o={});let T,L=Zo.None;Array.isArray(E)?(T=E[0],L=E[1]):T=E;let z=m;if(null!==a){if(!a.hasOwnProperty(m))continue;z=a[m]}0===e?gv(o,r,z,T,L):gv(o,r,z,T)}return o}function gv(e,t,r,o,a){let c;e.hasOwnProperty(r)?(c=e[r]).push(t,o):c=e[r]=[t,o],void 0!==a&&c.push(a)}function yo(e,t,r,o,a,c,m,E){const T=Do(t,r);let z,L=t.inputs;!E&&null!=L&&(z=L[o])?(Ag(e,r,z,o,a),al(t)&&function Ry(e,t){const r=ds(t,e);16&r[Gn]||(r[Gn]|=64)}(r,t.index)):3&t.type&&(o=function yg(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=m?m(a,t.value||"",o):a,c.setProperty(T,o,a))}function Hf(e,t,r,o){if(hs()){const a=null===o?null:{"":-1},c=function zf(e,t){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let m=0;m<r.length;m++){const E=r[m];if(Nd(t,E.selectors,!1))if(o||(o=[]),cs(E))if(null!==E.findHostDirectiveDefs){const T=[];a=a||new Map,E.findHostDirectiveDefs(E,T,a),o.unshift(...T,E),Fu(e,t,T.length)}else o.unshift(E),Fu(e,t,0);else{var c;a=a||new Map,null===(c=E.findHostDirectiveDefs)||void 0===c||c.call(E,E,o,a),o.push(E)}}return null===o?null:[o,a]}(e,r);let m,E;null===c?m=E=null:[m,E]=c,null!==m&&vv(e,t,r,m,a,E),a&&function Ev(e,t,r){if(t){const o=e.localNames=[];for(let a=0;a<t.length;a+=2){const c=r[t[a+1]];if(null==c)throw new Dn(-301,!1);o.push(t[a],c)}}}(r,o,a)}r.mergedAttrs=ka(r.mergedAttrs,r.attrs)}function vv(e,t,r,o,a,c){for(let ie=0;ie<o.length;ie++)df(lh(r,t),e,o[ie].type);!function Oy(e,t,r){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+r,e.providerIndexes=t}(r,e.data.length,o.length);for(let ie=0;ie<o.length;ie++){const Oe=o[ie];Oe.providersResolver&&Oe.providersResolver(Oe)}let m=!1,E=!1,T=vl(e,t,o.length,null);for(let ie=0;ie<o.length;ie++){const Oe=o[ie];r.mergedAttrs=ka(r.mergedAttrs,Oe.hostAttrs),xy(e,r,t,T,Oe),zE(T,Oe,a),null!==Oe.contentQueries&&(r.flags|=4),(null!==Oe.hostBindings||null!==Oe.hostAttrs||0!==Oe.hostVars)&&(r.flags|=64);const je=Oe.type.prototype;var L,z;!m&&(je.ngOnChanges||je.ngOnInit||je.ngDoCheck)&&((null!==(L=e.preOrderHooks)&&void 0!==L?L:e.preOrderHooks=[]).push(r.index),m=!0),E||!je.ngOnChanges&&!je.ngDoCheck||((null!==(z=e.preOrderCheckHooks)&&void 0!==z?z:e.preOrderCheckHooks=[]).push(r.index),E=!0),T++}!function mv(e,t,r){const a=t.directiveEnd,c=e.data,m=t.attrs,E=[];let T=null,L=null;for(let z=t.directiveStart;z<a;z++){const ie=c[z],Oe=r?r.get(ie):null,Le=Oe?Oe.outputs:null;T=jf(0,ie.inputs,z,T,Oe?Oe.inputs:null),L=jf(1,ie.outputs,z,L,Le);const Ut=null===T||null===m||Ku(t)?null:Ly(T,z,m);E.push(Ut)}null!==T&&(T.hasOwnProperty("class")&&(t.flags|=8),T.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=E,t.inputs=T,t.outputs=L}(e,r,c)}function _v(e,t,r){const o=r.directiveStart,a=r.directiveEnd,c=r.index,m=function g(){return Er.lFrame.currentDirectiveIndex}();try{Ha(c);for(let E=o;E<a;E++){const T=e.data[E],L=t[E];A(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&yv(T,L)}}finally{Ha(-1),A(m)}}function yv(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Fu(e,t,r){var o;t.componentOffset=r,(null!==(o=e.components)&&void 0!==o?o:e.components=[]).push(t.index)}function zE(e,t,r){if(r){if(t.exportAs)for(let o=0;o<t.exportAs.length;o++)r[t.exportAs[o]]=e;cs(t)&&(r[""]=e)}}function xy(e,t,r,o,a){e.data[o]=a;const c=a.factory||(a.factory=Cr(a.type)),m=new nd(c,cs(a),_h);e.blueprint[o]=m,r[o]=m,function Ny(e,t,r,o,a){const c=a.hostBindings;if(c){let m=e.hostBindingOpCodes;null===m&&(m=e.hostBindingOpCodes=[]);const E=~t.index;(function HE(e){let t=e.length;for(;t>0;){const r=e[--t];if("number"==typeof r&&r<0)return r}return 0})(m)!=E&&m.push(E),m.push(r,o,c)}}(e,t,o,vl(e,r,a.hostVars,wr),a)}function Ga(e,t,r,o,a,c){const m=Do(e,t);!function Gf(e,t,r,o,a,c,m){if(null==c)e.removeAttribute(t,a,r);else{const E=null==m?ur(c):m(c,o||"",a);e.setAttribute(t,a,E,r)}}(t[vr],m,c,e.value,r,o,a)}function Fy(e,t,r,o,a,c){const m=c[t];if(null!==m)for(let E=0;E<m.length;)hv(o,r,m[E++],m[E++],m[E++],m[E++])}function Ly(e,t,r){let o=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;if(e.hasOwnProperty(c)){null===o&&(o=[]);const m=e[c];for(let E=0;E<m.length;E+=3)if(m[E]===t){o.push(c,m[E+1],m[E+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function Vy(e,t,r,o){return[e,!0,0,t,null,o,null,r,null,null]}function Uy(e,t){const r=e.contentQueries;if(null!==r){const o=le(null);try{for(let a=0;a<r.length;a+=2){const m=r[a+1];if(-1!==m){const E=e.data[m];Ge(r[a]),E.contentQueries(2,t[m],m)}}}finally{le(o)}}}function Wf(e,t){return e[Zu]?e[$c][bs]=t:e[Zu]=t,e[$c]=t,t}function Ig(e,t,r){Ge(0);const o=le(null);try{t(e,r)}finally{le(o)}}function Tc(e){var t;return null!==(t=e[aa])&&void 0!==t?t:e[aa]=[]}function Wl(e){var t;return null!==(t=e.cleanup)&&void 0!==t?t:e.cleanup=[]}function Ad(e,t){const r=e[wi],o=r?r.get(jl,null):null;o&&o.handleError(t)}function Ag(e,t,r,o,a){for(let c=0;c<r.length;){const m=r[c++],E=r[c++],T=r[c++];hv(e.data[m],t[m],o,E,T,a)}}function Cg(e,t){const r=ds(t,e),o=r[_n];!function qf(e,t){for(let r=t.length;r<e.blueprint.length;r++)t.push(e.blueprint[r])}(o,r);const a=r[Di];null!==a&&null===r[us]&&(r[us]=W_(a,r[wi])),Cd(o,r,r[Ii])}function Cd(e,t,r){An(t);try{var o;const a=e.viewQuery;null!==a&&Ig(1,a,r);const c=e.template;null!==c&&fv(e,t,c,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),null===(o=t[Ba])||void 0===o||o.finishViewCreation(e),e.staticContentQueries&&Uy(e,t),e.staticViewQueries&&Ig(2,e.viewQuery,r);const m=e.components;null!==m&&function GE(e,t){for(let r=0;r<t.length;r++)Cg(e,t[r])}(t,m)}catch(a){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),a}finally{t[Gn]&=-5,Au()}}function Td(e,t,r,o){const a=le(null);try{var c,m,E;const T=t.tView,ie=Cc(e,T,r,4096&e[Gn]?4096:16,null,t,null,null,null!==(c=null==o?void 0:o.injector)&&void 0!==c?c:null,null!==(m=null==o?void 0:o.embeddedViewInjector)&&void 0!==m?m:null,null!==(E=null==o?void 0:o.dehydratedView)&&void 0!==E?E:null);ie[Ua]=e[t.index];const je=e[Ba];return null!==je&&(ie[Ba]=je.createEmbeddedView(T)),Cd(T,ie,r),ie}finally{le(a)}}function Dd(e,t){return!t||null===t.firstChild||vf(e)}function Ih(e,t,r,o=!0){const a=t[_n];if(function Ey(e,t,r,o){const a=co+o,c=r.length;o>0&&(r[a-1][bs]=t),o<c-co?(t[bs]=r[a],As(r,co+o,t)):(r.push(t),t[bs]=null),t[Ni]=r;const m=t[Ua];null!==m&&r!==m&&Iy(m,t);const E=t[Ba];null!==E&&E.insertView(e),qd(t),t[Gn]|=128}(a,t,e,r),o){const m=cv(r,e),E=t[vr],T=kf(E,e[Ea]);null!==T&&function Nf(e,t,r,o,a,c){o[Di]=a,o[Qi]=t,Bo(e,o,r,1,a,c)}(a,e[Qi],E,t,T,m)}const c=t[us];null!==c&&null!==c.firstChild&&(c.firstChild=null)}function Lu(e,t,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const c=t[r.index];null!==c&&o.push(Zr(c)),es(c)&&Vu(c,o);const m=r.type;if(8&m)Lu(e,t,r.child,o);else if(32&m){const E=dt(r,t);let T;for(;T=E();)o.push(T)}else if(16&m){const E=uv(t,r);if(Array.isArray(E))o.push(...E);else{const T=cl(t[Hi]);Lu(T[_n],T,E,o,!0)}}r=a?r.projectionNext:r.next}return o}function Vu(e,t){for(let r=co;r<e.length;r++){const o=e[r],a=o[_n].firstChild;null!==a&&Lu(o[_n],o,a,t)}e[Ea]!==e[Di]&&t.push(e[Ea])}let Av=[];const WE={...Ce,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Jc(e.lView)},consumerOnSignalRead(){this.lView[Jo]=this}},qE={...Ce,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let t=cl(e.lView);for(;t&&!Uu(t[_n]);)t=cl(t);t&&Zc(t)},consumerOnSignalRead(){this.lView[Jo]=this}};function Uu(e){return 2!==e.type}const XE=100;function Tg(e,t=!0,r=0){const o=e[ya],a=o.rendererFactory;var m;null===(m=a.begin)||void 0===m||m.call(a);try{!function Xf(e,t){const r=eh();try{tf(!0),io(e,t);let o=0;for(;$a(e);){if(o===XE)throw new Dn(103,!1);o++,io(e,1)}}finally{tf(r)}}(e,r)}catch(L){throw t&&Ad(e,L),L}finally{var E,T;null===(E=a.end)||void 0===E||E.call(a),null===(T=o.inlineEffectRunner)||void 0===T||T.flush()}}function Hy(e,t,r,o){var a;const c=t[Gn];if(!(256&~c))return;null===(a=t[ya].inlineEffectRunner)||void 0===a||a.flush(),An(t);let T=!0,L=null,z=null;Uu(e)?(z=function $y(e){var t;return null!==(t=e[Jo])&&void 0!==t?t:function jy(e){var t;const r=null!==(t=Av.pop())&&void 0!==t?t:Object.create(WE);return r.lView=e,r}(e)}(t),L=Ze(z)):null===function Se(){return f}()?(T=!1,z=function KE(e){var t;const r=null!==(t=e[Jo])&&void 0!==t?t:Object.create(qE);return r.lView=e,r}(t),L=Ze(z)):t[Jo]&&(st(t[Jo]),t[Jo]=null);try{Xh(t),function th(e){return Er.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&fv(e,t,r,2,o);const ie=!(3&~c);if(ie){const Le=e.preOrderCheckHooks;null!==Le&&sf(t,Le,null)}else{const Le=e.preOrderHooks;null!==Le&&af(t,Le,0,null),Ip(t,0)}if(function Yf(e){for(let t=j_(e);null!==t;t=uc(t)){if(!(t[Gn]&ec.HasTransplantedViews))continue;const r=t[Ju];for(let o=0;o<r.length;o++)Zc(r[o])}}(t),Ch(t,0),null!==e.contentQueries&&Uy(e,t),ie){const Le=e.contentCheckHooks;null!==Le&&sf(t,Le)}else{const Le=e.contentHooks;null!==Le&&af(t,Le,1),Ip(t,1)}!function by(e,t){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)Ha(~a);else{const c=a,m=r[++o],E=r[++o];h(m,c),E(2,t[c])}}}finally{Ha(-1)}}(e,t);const Oe=e.components;null!==Oe&&Gy(t,Oe,0);const je=e.viewQuery;if(null!==je&&Ig(2,je,o),ie){const Le=e.viewCheckHooks;null!==Le&&sf(t,Le)}else{const Le=e.viewHooks;null!==Le&&af(t,Le,2),Ip(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Vs]){for(const Le of t[Vs])Le();t[Vs]=null}t[Gn]&=-73}catch(ie){throw Jc(t),ie}finally{null!==z&&(rt(z,L),T&&function Ah(e){e.lView[Jo]!==e&&(e.lView=null,Av.push(e))}(z)),Au()}}function Ch(e,t){for(let r=j_(e);null!==r;r=uc(r))for(let o=co;o<r.length;o++)Dg(r[o],t)}function zy(e,t,r){Dg(ds(t,e),r)}function Dg(e,t){qh(e)&&io(e,t)}function io(e,t){const o=e[_n],a=e[Gn],c=e[Jo];let m=!!(0===t&&16&a);if(m||(m=!!(64&a&&0===t)),m||(m=!!(1024&a)),m||(m=!(null==c||!c.dirty||!et(c))),m||(m=!1),c&&(c.dirty=!1),e[Gn]&=-9217,m)Hy(o,e,o.template,e[Ii]);else if(8192&a){Ch(e,1);const E=o.components;null!==E&&Gy(e,E,1)}}function Gy(e,t,r){for(let o=0;o<t.length;o++)zy(e,t[o],r)}function Zf(e,t){var r;const o=eh()?64:1088;for(null===(r=e[ya].changeDetectionScheduler)||void 0===r||r.notify(t);e;){e[Gn]|=o;const a=cl(e);if(Gc(e)&&!a)return e;e=a}return null}class Th{get rootNodes(){const t=this._lView,r=t[_n];return Lu(r,t,r.firstChild,[])}constructor(t,r,o=!0){this._lView=t,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ii]}set context(t){this._lView[Ii]=t}get destroyed(){return!(256&~this._lView[Gn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ni];if(es(t)){const r=t[8],o=r?r.indexOf(this):-1;o>-1&&(bo(t,o),Gu(r,o))}this._attachedToViewContainer=!1}hg(this._lView[_n],this._lView)}onDestroy(t){Xd(this._lView,t)}markForCheck(){Zf(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Gn]&=-129}reattach(){qd(this._lView),this._lView[Gn]|=128}detectChanges(){this._lView[Gn]|=1024,Tg(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Dn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const t=Gc(this._lView),r=this._lView[Ua];null!==r&&!t&&zl(r,this._lView),mh(this._lView[_n],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Dn(902,!1);this._appRef=t;const r=Gc(this._lView),o=this._lView[Ua];null!==o&&!r&&Iy(o,this._lView),qd(this._lView)}}let Dh=(()=>{class t{}return t.__NG_ELEMENT_ID__=Ky,t})();const Wy=Dh,bg=class extends Wy{constructor(t,r,o){super(),this._declarationLView=t,this._declarationTContainer=r,this.elementRef=o}get ssrId(){var t;return(null===(t=this._declarationTContainer.tView)||void 0===t?void 0:t.ssrId)||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,o){const a=Td(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:o});return new Th(a)}};function Ky(){return Wa(Ai(),qt())}function Wa(e,t){return 4&e.type?new bg(t,e,js(e,t)):null}let hC=()=>null;function op(e,t){return hC(e,t)}class xg{}const Nv=new Jn("",{providedIn:"root",factory:()=>!1}),fC=new Jn(""),oI=new Jn("");class ES{}class pC{}class AS{resolveComponentFactory(t){throw function IS(e){const t=Error(`No component factory found for ${yi(e)}.`);return t.ngComponent=e,t}(t)}}class Ov{}Ov.NULL=new AS;class sI{}let CS=(()=>{class t{constructor(){this.destroyNode=null}}return t.__NG_ELEMENT_ID__=()=>function TS(){const e=qt(),r=ds(Ai().index,e);return(Qr(r)?r:e)[vr]}(),t})(),DS=(()=>{var e;class t{}return(e=t).\u0275prov=fr({token:e,providedIn:"root",factory:()=>null}),t})();function Rh(e){return!!hi(e)}function t0(e,t,r){let o=r?e.styles:null,a=r?e.classes:null,c=0;if(null!==t)for(let m=0;m<t.length;m++){const E=t[m];"number"==typeof E?c=E:1==c?a=qn(a,E):2==c&&(o=qn(o,E+": "+t[++m]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class _C extends Ov{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const r=Qn(t);return new Fv(r,this.ngModule)}}function yC(e,t){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const c=Array.isArray(a),m=c?a[0]:a;r.push(t?{propName:m,templateName:o,isSignal:!!((c?a[1]:Zo.None)&Zo.SignalBased)}:{propName:m,templateName:o})}return r}class Fv extends pC{get inputs(){const t=this.componentDef,r=t.inputTransforms,o=yC(t.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return yC(this.componentDef.outputs,!1)}constructor(t,r){super(),this.componentDef=t,this.ngModule=r,this.componentType=t.type,this.selector=function fe(e){return e.map(ae).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!r}create(t,r,o,a){const c=le(null);try{var E;let T=(a=a||this.ngModule)instanceof Ds?a:null===(E=a)||void 0===E?void 0:E.injector;T&&null!==this.componentDef.getStandaloneInjector&&(T=this.componentDef.getStandaloneInjector(T)||T);const L=T?new Tu(t,T):t,z=L.get(sI,null);if(null===z)throw new Dn(407,!1);const je={rendererFactory:z,sanitizer:L.get(DS,null),inlineEffectRunner:null,changeDetectionScheduler:L.get(xg,null)},Le=z.createRenderer(null,this.componentDef),Ut=this.componentDef.selectors[0][0]||"div",rn=o?function Bf(e,t,r,o){const c=o.get(vE,!1)||r===Yo.ShadowDom,m=e.selectRootElement(t,c);return function $f(e){Sy(e)}(m),m}(Le,o,this.componentDef.encapsulation,L):Ac(Le,Ut,function SS(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(Ut));let pn=512;this.componentDef.signals?pn|=4096:this.componentDef.onPush||(pn|=16);let Wt=null;null!==rn&&(Wt=W_(rn,L,!0));const hr=gs(0,null,null,1,0,null,null,null,null,null,null),Tr=Cc(null,hr,null,pn,null,null,je,Le,L,null,Wt);An(Tr);let Gi,_s,da=null;try{const El=this.componentDef;let hp,MA=null;El.findHostDirectiveDefs?(hp=[],MA=new Map,El.findHostDirectiveDefs(El,hp,MA),hp.push(El)):hp=[El];const e1=function MS(e,t){const r=e[_n],o=Wn;return e[o]=t,ku(r,o,2,"#host",null)}(Tr,rn);da=function PS(e,t,r,o,a,c,m){const E=a[_n];!function NS(e,t,r,o){for(const a of e)t.mergedAttrs=ka(t.mergedAttrs,a.hostAttrs);null!==t.mergedAttrs&&(t0(t,t.mergedAttrs,!0),null!==r&&dv(o,r,t))}(o,e,t,m);let T=null;null!==t&&(T=W_(t,a[wi]));const L=c.rendererFactory.createRenderer(t,r);let z=16;r.signals?z=4096:r.onPush&&(z=64);const ie=Cc(a,pv(r),null,z,a[e.index],e,c,L,null,null,T);return E.firstCreatePass&&Fu(E,e,o.length-1),Wf(a,ie),a[e.index]=ie}(e1,rn,El,hp,Tr,je,Le),_s=ic(hr,Wn),rn&&function xS(e,t,r,o){if(o)Rl(e,r,["ng-version","18.2.5"]);else{const{attrs:a,classes:c}=function _t(e){const t=[],r=[];let o=1,a=2;for(;o<e.length;){let c=e[o];if("string"==typeof c)2===a?""!==c&&t.push(c,e[++o]):8===a&&r.push(c);else{if(!ia(a))break;a=c}o++}return{attrs:t,classes:r}}(t.selectors[0]);a&&Rl(e,r,a),c&&c.length>0&&vh(e,r,c.join(" "))}}(Le,El,rn,o),void 0!==r&&function kS(e,t,r){const o=e.projection=[];for(let a=0;a<t.length;a++){const c=r[a];o.push(null!=c?Array.from(c):null)}}(_s,this.ngContentSelectors,r),Gi=function OS(e,t,r,o,a,c){const m=Ai(),E=a[_n],T=Do(m,a);vv(E,a,m,r,null,o);for(let z=0;z<r.length;z++)fs(sd(a,E,m.directiveStart+z,m),a);_v(E,a,m),T&&fs(T,a);const L=sd(a,E,m.directiveStart+m.componentOffset,m);if(e[Ii]=a[Ii]=L,null!==c)for(const z of c)z(L,t);return yh(E,m,a),L}(da,El,hp,MA,Tr,[FS]),Cd(hr,Tr,null)}catch(El){throw null!==da&&Up(da),Up(Tr),El}finally{Au()}return new RS(this.componentType,Gi,js(_s,Tr),Tr,_s)}finally{le(c)}}}class RS extends ES{constructor(t,r,o,a,c){super(),this.location=o,this._rootLView=a,this._tNode=c,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new Th(a,void 0,!1),this.componentType=t}setInput(t,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[t])){var c;if(null!==(c=this.previousInputValues)&&void 0!==c||(this.previousInputValues=new Map),this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),r))return;const m=this._rootLView;Ag(m[_n],m,a,t,r),this.previousInputValues.set(t,r),Zf(ds(this._tNode.index,m),1)}}get injector(){return new Uo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function FS(){const e=Ai();rf(qt()[_n],e)}let n0=(()=>{class t{}return t.__NG_ELEMENT_ID__=LS,t})();function LS(){return AC(Ai(),qt())}const VS=n0,EC=class extends VS{constructor(t,r,o){super(),this._lContainer=t,this._hostTNode=r,this._hostLView=o}get element(){return js(this._hostTNode,this._hostLView)}get injector(){return new Uo(this._hostTNode,this._hostLView)}get parentInjector(){const t=cf(this._hostTNode,this._hostLView);if(ym(t)){const r=id(t,this._hostLView),o=rd(t);return new Uo(r[_n].data[o+8],r)}return new Uo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const r=IC(this._lContainer);return null!==r&&r[t]||null}get length(){return this._lContainer.length-co}createEmbeddedView(t,r,o){let a,c;"number"==typeof o?a=o:null!=o&&(a=o.index,c=o.injector);const m=op(this._lContainer,t.ssrId),E=t.createEmbeddedViewImpl(r||{},c,m);return this.insertImpl(E,a,Dd(this._hostTNode,m)),E}createComponent(t,r,o,a,c){var m,E,T;const L=t&&!function xl(e){return"function"==typeof e}(t);let z;if(L)z=r;else{const pn=r||{};z=pn.index,o=pn.injector,a=pn.projectableNodes,c=pn.environmentInjector||pn.ngModuleRef}const ie=L?t:new Fv(Qn(t)),Oe=o||this.parentInjector;if(!c&&null==ie.ngModule){const Wt=(L?Oe:this.parentInjector).get(Ds,null);Wt&&(c=Wt)}const je=Qn(null!==(m=ie.componentType)&&void 0!==m?m:{}),Le=op(this._lContainer,null!==(E=null==je?void 0:je.id)&&void 0!==E?E:null),Ut=null!==(T=null==Le?void 0:Le.firstChild)&&void 0!==T?T:null,rn=ie.create(Oe,a,Ut,c);return this.insertImpl(rn.hostView,z,Dd(this._hostTNode,Le)),rn}insert(t,r){return this.insertImpl(t,r,!0)}insertImpl(t,r,o){const a=t._lView;if(function Fo(e){return es(e[Ni])}(a)){const E=this.indexOf(t);if(-1!==E)this.detach(E);else{const T=a[Ni],L=new EC(T,T[Qi],T[Ni]);L.detach(L.indexOf(t))}}const c=this._adjustIndex(r),m=this._lContainer;return Ih(m,a,c,o),t.attachToViewContainerRef(),As(uI(m),c,t),t}move(t,r){return this.insert(t,r)}indexOf(t){const r=IC(this._lContainer);return null!==r?r.indexOf(t):-1}remove(t){const r=this._adjustIndex(t,-1),o=bo(this._lContainer,r);o&&(Gu(uI(this._lContainer),r),hg(o[_n],o))}detach(t){const r=this._adjustIndex(t,-1),o=bo(this._lContainer,r);return o&&null!=Gu(uI(this._lContainer),r)?new Th(o):null}_adjustIndex(t,r=0){return null==t?this.length+r:t}};function IC(e){return e[8]}function uI(e){return e[8]||(e[8]=[])}function AC(e,t){let r;const o=t[e.index];return es(o)?r=o:(r=Vy(o,t,null,e),t[e.index]=r,Wf(t,r)),CC(r,t,e,o),new EC(r,e,t)}let CC=function DC(e,t,r,o){if(e[Ea])return;let a;a=8&r.type?Zr(o):function US(e,t){const r=e[vr],o=r.createComment(""),a=Do(t,e);return Gl(r,kf(r,a),o,function iv(e,t){return e.nextSibling(t)}(r,a),!1),o}(t,r),e[Ea]=a},cI=()=>!1;class dI{constructor(t){this.queryList=t,this.matches=null}clone(){return new dI(this.queryList)}setDirty(){this.queryList.setDirty()}}class hI{constructor(t=[]){this.queries=t}createEmbeddedView(t){const r=t.queries;if(null!==r){const o=null!==t.contentQueries?t.contentQueries[0]:r.length,a=[];for(let c=0;c<o;c++){const m=r.getByIndex(c);a.push(this.queries[m.indexInDeclarationView].clone())}return new hI(a)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let r=0;r<this.queries.length;r++)null!==vI(t,r).matches&&this.queries[r].setDirty()}}class bC{constructor(t,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof t?function KS(e){return e.split(",").map(t=>t.trim())}(t):t}}class fI{constructor(t=[]){this.queries=t}elementStart(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(t,r)}elementEnd(t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(t)}embeddedTView(t){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,c=this.getByIndex(o).embeddedTView(t,a);c&&(c.indexInDeclarationView=o,null!==r?r.push(c):r=[c])}return null!==r?new fI(r):null}template(t,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(t,r)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class pI{constructor(t,r=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(t,r){this.isApplyingToNode(r)&&this.matchTNode(t,r)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,r){this.elementStart(t,r)}embeddedTView(t,r){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,r),new pI(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=t.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(t,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const c=o[a];this.matchTNodeWithReadOption(t,r,HS(r,c)),this.matchTNodeWithReadOption(t,r,Dp(r,t,c,!1,!1))}else o===Dh?4&r.type&&this.matchTNodeWithReadOption(t,r,-1):this.matchTNodeWithReadOption(t,r,Dp(r,t,o,!1,!1))}matchTNodeWithReadOption(t,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===dh||a===n0||a===Dh&&4&r.type)this.addMatch(r.index,-2);else{const c=Dp(r,t,a,!1,!1);null!==c&&this.addMatch(r.index,c)}else this.addMatch(r.index,o)}}addMatch(t,r){null===this.matches?this.matches=[t,r]:this.matches.push(t,r)}}function HS(e,t){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===t)return r[o+1];return null}function GS(e,t,r,o){return-1===r?function zS(e,t){return 11&e.type?js(e,t):4&e.type?Wa(e,t):null}(t,e):-2===r?function WS(e,t,r){return r===dh?js(t,e):r===Dh?Wa(t,e):r===n0?AC(t,e):void 0}(e,t,o):sd(e,e[_n],r,t)}function wC(e,t,r,o){const a=t[Ba].queries[o];if(null===a.matches){const c=e.data,m=r.matches,E=[];for(let T=0;null!==m&&T<m.length;T+=2){const L=m[T];E.push(L<0?null:GS(t,c[L],m[T+1],r.metadata.read))}a.matches=E}return a.matches}function gI(e,t,r,o){const a=e.queries.getByIndex(r),c=a.matches;if(null!==c){const m=wC(e,t,a,r);for(let E=0;E<c.length;E+=2){const T=c[E];if(T>0)o.push(m[E/2]);else{const L=c[E+1],z=t[-T];for(let ie=co;ie<z.length;ie++){const Oe=z[ie];Oe[Ua]===Oe[Ni]&&gI(Oe[_n],Oe,L,o)}if(null!==z[Ju]){const ie=z[Ju];for(let Oe=0;Oe<ie.length;Oe++){const je=ie[Oe];gI(je[_n],je,L,o)}}}}}return o}function SC(e,t,r){var o;const a=new Vp(!(4&~r));return function $E(e,t,r,o){const a=Tc(t);a.push(r),e.firstCreatePass&&Wl(e).push(o,a.length-1)}(e,t,a,a.destroy),(null!==(o=t[Ba])&&void 0!==o?o:t[Ba]=new hI).queries.push(new dI(a))-1}function PC(e,t,r){null===e.queries&&(e.queries=new fI),e.queries.track(new pI(t,r))}function vI(e,t){return e.queries.getByIndex(t)}function NC(e,t){const r=e[_n],o=vI(r,t);return o.crossesNgTemplate?gI(r,e,t,[]):wC(r,e,o,t)}const OC=new Set;function wa(e){var t,r;OC.has(e)||(OC.add(e),null===(t=performance)||void 0===t||null===(r=t.mark)||void 0===r||r.call(t,"mark_feature_usage",{detail:{feature:e}}))}function kC(e,t){wa("NgSignals");const r=function Q(e){const t=Object.create(Pt);t.value=e;const r=()=>(pe(t),t.value);return r[de]=t,r}(e),o=r[de];return null!=t&&t.equal&&(o.equal=t.equal),r.set=a=>ft(o,a),r.update=a=>function nt(e,t){Xe()||Ot(),ft(e,t(e.value))}(o,a),r.asReadonly=FC.bind(r),r}function FC(){const e=this[de];if(void 0===e.readonlyFn){const t=()=>this();t[de]=e,e.readonlyFn=t}return e.readonlyFn}function LC(e){return function xC(e){return"function"==typeof e&&void 0!==e[de]}(e)&&"function"==typeof e.set}function yI(e){let t=function qC(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;t;){let a;if(cs(e))a=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Dn(903,!1);a=t.\u0275dir}if(a){if(r){o.push(a);const m=e;m.inputs=o0(e.inputs),m.inputTransforms=o0(e.inputTransforms),m.declaredInputs=o0(e.declaredInputs),m.outputs=o0(e.outputs);const E=a.hostBindings;E&&lR(e,E);const T=a.viewQuery,L=a.contentQueries;if(T&&sR(e,T),L&&aR(e,L),iR(e,a),Al(e.outputs,a.outputs),cs(a)&&a.data.animation){const z=e.data;z.animation=(z.animation||[]).concat(a.data.animation)}}const c=a.features;if(c)for(let m=0;m<c.length;m++){const E=c[m];E&&E.ngInherit&&E(e),E===yI&&(r=!1)}}t=Object.getPrototypeOf(t)}!function oR(e){let t=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=t+=a.hostVars,a.hostAttrs=ka(a.hostAttrs,r=ka(r,a.hostAttrs))}}(o)}function iR(e,t){for(const o in t.inputs){if(!t.inputs.hasOwnProperty(o)||e.inputs.hasOwnProperty(o))continue;const a=t.inputs[o];if(void 0!==a&&(e.inputs[o]=a,e.declaredInputs[o]=t.declaredInputs[o],null!==t.inputTransforms)){var r;const c=Array.isArray(a)?a[0]:a;if(!t.inputTransforms.hasOwnProperty(c))continue;null!==(r=e.inputTransforms)&&void 0!==r||(e.inputTransforms={}),e.inputTransforms[c]=t.inputTransforms[c]}}}function o0(e){return e===Cs?{}:e===Yr?[]:e}function sR(e,t){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{t(o,a),r(o,a)}:t}function aR(e,t){const r=e.contentQueries;e.contentQueries=r?(o,a,c)=>{t(o,a,c),r(o,a,c)}:t}function lR(e,t){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{t(o,a),r(o,a)}:t}function ZC(e){const t=e.inputConfig,r={};for(const o in t)if(t.hasOwnProperty(o)){const a=t[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class sp{}class JC{}function pR(e,t){return new EI(e,null!=t?t:null,[])}class EI extends sp{constructor(t,r,o,a=!0){super(),this.ngModuleType=t,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _C(this);const c=hi(t);this._bootstrapComponents=Ct(c.bootstrap),this._r3Injector=T_(t,r,[{provide:sp,useValue:this},{provide:Ov,useValue:this.componentFactoryResolver},...o],yi(t),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class II extends JC{constructor(t){super(),this.moduleType=t}create(t){return new EI(this.moduleType,t,[])}}class eT extends sp{constructor(t){super(),this.componentFactoryResolver=new _C(this),this.instance=null;const r=new Xu([...t.providers,{provide:sp,useValue:this},{provide:Ov,useValue:this.componentFactoryResolver}],t.parent||qu(),t.debugName,new Set(["environment"]));this.injector=r,t.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function AI(e,t,r=null){return new eT({providers:e,parent:t,debugName:r,runEnvironmentInitializers:!0}).injector}function s0(e){return!!CI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function CI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function jo(e,t,r){return!Object.is(e[t],r)&&(e[t]=r,!0)}function Uv(e,t,r,o,a,c,m,E,T,L){const z=r+Wn,ie=t.firstCreatePass?function ER(e,t,r,o,a,c,m,E,T){const L=t.consts,z=ku(t,e,4,m||null,E||null);Hf(t,r,z,la(L,T)),rf(t,z);const ie=z.tView=gs(2,z,o,a,c,t.directiveRegistry,t.pipeRegistry,null,t.schemas,L,null);return null!==t.queries&&(t.queries.template(t,z),ie.queries=t.queries.embeddedTView(z)),z}(z,t,e,o,a,c,m,E,T):t.data[z];ws(ie,!1);const Oe=tT(t,e,ie,r);Cu()&&Ff(t,e,Oe,ie),fs(Oe,e);const je=Vy(Oe,e,Oe,ie);return e[z]=je,Wf(e,je),function TC(e,t,r){return cI(e,t,r)}(je,ie,e),Hd(ie)&&_g(t,e,ie),null!=T&&Id(e,ie,L),ie}function TI(e,t,r,o,a,c,m,E){const T=qt(),L=Nr();return Uv(T,L,e,t,r,o,a,la(L.consts,c),m,E),TI}let tT=function nT(e,t,r,o){return Ta(!0),t[vr].createComment("")};var Vg=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Vg||{});let lT=(()=>{var e;class t{constructor(){this.impl=null}execute(){var o;null===(o=this.impl)||void 0===o||o.execute()}}return(e=t).\u0275prov=fr({token:e,providedIn:"root",factory:()=>new e}),t})();class d0{constructor(){this.ngZone=Cn(Yi),this.scheduler=Cn(xg),this.errorHandler=Cn(jl,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(const r of d0.PHASES)for(const o of this.sequences)if(!o.erroredOrDestroyed&&o.hooks[r])try{o.pipelinedValue=this.ngZone.runOutsideAngular(()=>o.hooks[r](o.pipelinedValue))}catch(a){var t;o.erroredOrDestroyed=!0,null===(t=this.errorHandler)||void 0===t||t.handleError(a)}this.executing=!1;for(const r of this.sequences)r.afterRun(),r.once&&this.sequences.delete(r);for(const r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(t){this.executing?this.deferredRegistrations.add(t):(this.sequences.add(t),this.scheduler.notify(6))}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}}(Fr=d0).PHASES=[Vg.EarlyRead,Vg.Write,Vg.MixedReadWrite,Vg.Read],Fr.\u0275prov=fr({token:Fr,providedIn:"root",factory:()=>new Fr});class TR{constructor(t,r,o,a){this.impl=t,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function h0(e,t){var r;(null==t||!t.injector)&&function Uc(e){if(!Vd())throw new Dn(-203,!1)}();const o=null!==(r=null==t?void 0:t.injector)&&void 0!==r?r:Cn(Ss);return function Qt(e){return"browser"===(null!=e?e:Cn(Ss)).get(fc)}(o)?(wa("NgAfterNextRender"),function uT(e,t,r,o){var a,c;const m=t.get(lT);null!==(a=m.impl)&&void 0!==a||(m.impl=t.get(d0));const E=null!==(c=null==r?void 0:r.phase)&&void 0!==c?c:Vg.MixedReadWrite,T=new TR(m.impl,function bR(e,t){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[t]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,E),o,t.get(lc));return m.impl.register(T),T}(e,o,t,!0)):cT}const cT={destroy(){}};function kI(e,t,r,o){const a=qt();return jo(a,Aa(),t)&&(Nr(),Ga(Ci(),a,e,t,r,o)),kI}function g0(e,t){return e<<17|t<<2}function Nh(e){return e>>17&32767}function FI(e){return 2|e}function up(e){return(131068&e)>>2}function LI(e,t){return-131069&e|t<<2}function VI(e){return 1|e}function FT(e,t,r,o){const a=e[r+1],c=null===t;let m=o?Nh(a):up(a),E=!1;for(;0!==m&&(!1===E||c);){const L=e[m+1];lM(e[m],t)&&(E=!0,e[m+1]=o?VI(L):FI(L)),m=o?Nh(L):up(L)}E&&(e[r+1]=o?FI(a):VI(a))}function lM(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&el(e,t)>=0}function UI(e,t,r){const o=qt();return jo(o,Aa(),t)&&yo(Nr(),Ci(),o,e,t,o[vr],r,!1),UI}function BI(e,t,r,o,a){const m=a?"class":"style";Ag(e,r,t.inputs[m],m,o)}function $I(e,t){return function Bu(e,t,r,o){const a=qt(),c=Nr(),m=function Ca(e){const t=Er.lFrame,r=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,r}(2);c.firstUpdatePass&&function GT(e,t,r,o){const a=e.data;if(null===a[r+1]){const c=a[ho()],m=function zT(e,t){return t>=e.expandoStartIndex}(e,r);(function XT(e,t){return!!(e.flags&(t?8:16))})(c,o)&&null===t&&!m&&(t=!1),t=function vM(e,t,r,o){const a=function j(e){const t=Er.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let c=o?t.residualClasses:t.residualStyles;if(null===a)0===(o?t.classBindings:t.styleBindings)&&(r=Hv(r=jI(null,e,t,r,o),t.attrs,o),c=null);else{const m=t.directiveStylingLast;if(-1===m||e[m]!==a)if(r=jI(a,e,t,r,o),null===c){let T=function _M(e,t,r){const o=r?t.classBindings:t.styleBindings;if(0!==up(o))return e[Nh(o)]}(e,t,o);void 0!==T&&Array.isArray(T)&&(T=jI(null,e,t,T[1],o),T=Hv(T,t.attrs,o),function yM(e,t,r,o){e[Nh(r?t.classBindings:t.styleBindings)]=o}(e,t,o,T))}else c=function EM(e,t,r){let o;const a=t.directiveEnd;for(let c=1+t.directiveStylingLast;c<a;c++)o=Hv(o,e[c].hostAttrs,r);return Hv(o,t.attrs,r)}(e,t,o)}return void 0!==c&&(o?t.residualClasses=c:t.residualStyles=c),r}(a,c,t,o),function sM(e,t,r,o,a,c){let m=c?t.classBindings:t.styleBindings,E=Nh(m),T=up(m);e[o]=r;let z,L=!1;if(Array.isArray(r)?(z=r[1],(null===z||el(r,z)>0)&&(L=!0)):z=r,a)if(0!==T){const Oe=Nh(e[E+1]);e[o+1]=g0(Oe,E),0!==Oe&&(e[Oe+1]=LI(e[Oe+1],o)),e[E+1]=function iM(e,t){return 131071&e|t<<17}(e[E+1],o)}else e[o+1]=g0(E,0),0!==E&&(e[E+1]=LI(e[E+1],o)),E=o;else e[o+1]=g0(T,0),0===E?E=o:e[T+1]=LI(e[T+1],o),T=o;L&&(e[o+1]=FI(e[o+1])),FT(e,z,o,!0),FT(e,z,o,!1),function aM(e,t,r,o,a){const c=a?e.residualClasses:e.residualStyles;null!=c&&"string"==typeof t&&el(c,t)>=0&&(r[o+1]=VI(r[o+1]))}(t,z,e,o,c),m=g0(E,T),c?t.classBindings=m:t.styleBindings=m}(a,c,t,r,m,o)}}(c,e,m,o),t!==wr&&jo(a,m,t)&&function KT(e,t,r,o,a,c,m,E){if(!(3&t.type))return;const T=e.data,L=T[E+1],z=function oM(e){return!(1&~e)}(L)?qT(T,t,r,a,up(L),m):void 0;m0(z)||(m0(c)||function rM(e){return!(2&~e)}(L)&&(c=qT(T,null,r,a,E,m)),function Ty(e,t,r,o,a){if(t)a?e.addClass(r,o):e.removeClass(r,o);else{let c=-1===o.indexOf("-")?void 0:vt.DashCase;null==a?e.removeStyle(r,o,c):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),c|=vt.Important),e.setStyle(r,o,a,c))}}(o,m,ul(ho(),r),a,c))}(c,c.data[ho()],a,a[vr],e,a[m+1]=function TM(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=yi(mc(e)))),e}(t,r),o,m)}(e,t,null,!0),$I}function jI(e,t,r,o,a){let c=null;const m=r.directiveEnd;let E=r.directiveStylingLast;for(-1===E?E=r.directiveStart:E++;E<m&&(c=t[E],o=Hv(o,c.hostAttrs,a),c!==e);)E++;return null!==e&&(r.directiveStylingLast=E),o}function Hv(e,t,r){const o=r?1:2;let a=-1;if(null!==t)for(let c=0;c<t.length;c++){const m=t[c];"number"==typeof m?a=m:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),lo(e,m,!!r||t[++c]))}return void 0===e?null:e}function qT(e,t,r,o,a,c){const m=null===t;let E;for(;a>0;){const T=e[a],L=Array.isArray(T),z=L?T[1]:T,ie=null===z;let Oe=r[a+1];Oe===wr&&(Oe=ie?Yr:void 0);let je=ie?ra(Oe,o):z===o?Oe:void 0;if(L&&!m0(je)&&(je=ra(T,o)),m0(je)&&(E=je,m))return E;const Le=e[a+1];a=m?Nh(Le):up(Le)}if(null!==t){let T=c?t.residualClasses:t.residualStyles;null!=T&&(E=ra(T,o))}return E}function m0(e){return void 0!==e}function _0(e,t,r,o){const a=qt(),c=Nr(),m=Wn+e,E=a[vr],T=c.firstCreatePass?function KM(e,t,r,o,a,c){const m=t.consts,T=ku(t,e,2,o,la(m,a));return Hf(t,r,T,la(m,c)),null!==T.attrs&&t0(T,T.attrs,!1),null!==T.mergedAttrs&&t0(T,T.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,T),T}(m,c,a,t,r,o):c.data[m],L=JT(c,a,T,E,t,e);a[m]=L;const z=Hd(T);return ws(T,!0),dv(E,L,T),!function Fg(e){return!(32&~e.flags)}(T)&&Cu()&&Ff(c,a,L,T),0===function Qd(){return Er.lFrame.elementDepthCount}()&&fs(L,a),function Fl(){Er.lFrame.elementDepthCount++}(),z&&(_g(c,a,T),yh(c,T,a)),null!==o&&Id(a,T),_0}function y0(){let e=Ai();Lo()?ja():(e=e.parent,ws(e,!1));const t=e;(function Yd(e){return Er.skipHydrationRootTNode===e})(t)&&function ef(){Er.skipHydrationRootTNode=null}(),function Zh(){Er.lFrame.elementDepthCount--}();const r=Nr();return r.firstCreatePass&&(rf(r,e),zc(e)&&r.queries.elementEnd(e)),null!=t.classesWithoutHost&&function mm(e){return!!(8&e.flags)}(t)&&BI(r,t,qt(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function vm(e){return!!(16&e.flags)}(t)&&BI(r,t,qt(),t.stylesWithoutHost,!1),y0}function WI(e,t,r,o){return _0(e,t,r,o),y0(),WI}let JT=(e,t,r,o,a,c)=>(Ta(!0),Ac(o,a,function ih(){return Er.lFrame.currentNamespace}()));function E0(e,t,r){const o=qt(),a=Nr(),c=e+Wn,m=a.firstCreatePass?function QM(e,t,r,o,a){const c=t.consts,m=la(c,o),E=ku(t,e,8,"ng-container",m);return null!==m&&t0(E,m,!0),Hf(t,r,E,la(c,a)),null!==t.queries&&t.queries.elementStart(t,E),E}(c,a,o,t,r):a.data[c];ws(m,!0);const E=eD(a,o,m,e);return o[c]=E,Cu()&&Ff(a,o,E,m),fs(E,o),Hd(m)&&(_g(a,o,m),yh(a,m,o)),null!=r&&Id(o,m),E0}function I0(){let e=Ai();const t=Nr();return Lo()?ja():(e=e.parent,ws(e,!1)),t.firstCreatePass&&(rf(t,e),zc(e)&&t.queries.elementEnd(e)),I0}function KI(e,t,r){return E0(e,t,r),I0(),KI}let eD=(e,t,r,o)=>(Ta(!0),ml(t[vr],""));function tD(){return qt()}const cp=void 0;var eP=["en",[["a","p"],["AM","PM"],cp],[["AM","PM"],cp,cp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],cp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],cp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",cp,"{1} 'at' {0}",cp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function JM(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let em={};function qI(e){const t=function tP(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=oD(t);if(r)return r;const o=t.split("-")[0];if(r=oD(o),r)return r;if("en"===o)return eP;throw new Dn(701,!1)}function iD(e){return qI(e)[tm.PluralCase]}function oD(e){return e in em||(em[e]=Wr.ng&&Wr.ng.common&&Wr.ng.common.locales&&Wr.ng.common.locales[e]),em[e]}var tm=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(tm||{});const A0="en-US";let sD=A0,TD=(e,t,r)=>{};function YI(e,t,r,o){const a=qt(),c=Nr(),m=Ai();return ZI(c,a,a[vr],m,e,t,o),YI}function ZI(e,t,r,o,a,c,m){const E=Hd(o),L=e.firstCreatePass&&Wl(e),z=t[Ii],ie=Tc(t);let Oe=!0;if(3&o.type||m){const Ut=Do(o,t),rn=m?m(Ut):Ut,pn=ie.length,Wt=m?Tr=>m(Zr(Tr[o.index])):o.index;let hr=null;if(!m&&E&&(hr=function HP(e,t,r,o){const a=e.cleanup;if(null!=a)for(let c=0;c<a.length-1;c+=2){const m=a[c];if(m===r&&a[c+1]===o){const E=t[aa],T=a[c+2];return E.length>T?E[T]:null}"string"==typeof m&&(c+=2)}return null}(e,t,a,o.index)),null!==hr)(hr.__ngLastListenerFn__||hr).__ngNextListenerFn__=c,hr.__ngLastListenerFn__=c,Oe=!1;else{c=SD(o,t,z,c),TD(Ut,a,c);const Tr=r.listen(rn,a,c);ie.push(c,Tr),L&&L.push(a,Wt,pn,pn+1)}}else c=SD(o,t,z,c);const je=o.outputs;let Le;if(Oe&&null!==je&&(Le=je[a])){const Ut=Le.length;if(Ut)for(let rn=0;rn<Ut;rn+=2){const Gi=t[Le[rn]][Le[rn+1]].subscribe(c),_s=ie.length;ie.push(c,Gi),L&&L.push(a,o.index,_s,-(_s+1))}}}function wD(e,t,r,o){const a=le(null);try{return Us(6,t,r),!1!==r(o)}catch(c){return Ad(e,c),!1}finally{Us(7,t,r),le(a)}}function SD(e,t,r,o){return function a(c){if(c===Function)return o;Zf(e.componentOffset>-1?ds(e.index,t):t,5);let E=wD(t,r,o,c),T=a.__ngNextListenerFn__;for(;T;)E=wD(t,r,T,c)&&E,T=T.__ngNextListenerFn__;return E}}function RD(e=1){return function nh(e){return(Er.lFrame.contextLView=function oc(e,t){for(;e>0;)t=t[fu],e--;return t}(e,Er.lFrame.contextLView))[Ii]}(e)}function zP(e,t){let r=null;const o=function I(e){const t=e.attrs;if(null!=t){const r=t.indexOf(5);if(!(1&r))return t[r+1]}return null}(e);for(let a=0;a<t.length;a++){const c=t[a];if("*"!==c){if(null===o?Nd(e,c,!0):b(o,c))return a}else r=a}return r}function MD(e){const t=qt()[Hi][Qi];if(!t.projection){const o=t.projection=function Pc(e,t){const r=[];for(let o=0;o<e;o++)r.push(t);return r}(e?e.length:1,null),a=o.slice();let c=t.child;for(;null!==c;){if(128!==c.type){const m=e?zP(c,e):0;null!==m&&(a[m]?a[m].projectionNext=c:o[m]=c,a[m]=c)}c=c.next}}}function PD(e,t=0,r,o,a,c){const m=qt(),E=Nr(),T=o?e+1:null;null!==T&&Uv(m,E,T,o,a,c,null,r);const L=ku(E,Wn+e,16,null,r||null);null===L.projection&&(L.projection=t),ja();const ie=!m[us]||$s();null===m[Hi][Qi].projection[L.projection]&&null!==T?function GP(e,t,r){const o=Wn+r,a=t.data[o],c=e[o],m=op(c,a.tView.ssrId);Ih(c,Td(e,a,void 0,{dehydratedView:m}),0,Dd(a,m))}(m,E,T):ie&&32&~L.flags&&function zs(e,t,r){Vf(t[vr],0,t,r,rv(e,r,t),pg(r.parent||t[Qi],r,t))}(E,m,L)}function $D(e,t,r,o){!function MC(e,t,r,o){const a=Nr();if(a.firstCreatePass){const c=Ai();PC(a,new bC(t,r,o),c.index),function qS(e,t){const r=e.contentQueries||(e.contentQueries=[]);t!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,t)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return SC(a,qt(),r)}(e,t,r,o)}function jD(e,t,r){!function RC(e,t,r){const o=Nr();return o.firstCreatePass&&(PC(o,new bC(e,t,r),-1),!(2&~t)&&(o.staticViewQueries=!0)),SC(o,qt(),t)}(e,t,r)}function HD(e){const t=qt(),r=Nr(),o=oe();Ge(o+1);const a=vI(r,o);if(e.dirty&&function hm(e){return!(4&~e[Gn])}(t)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const c=NC(t,o);e.reset(c,N_),e.notifyOnChanges()}return!0}return!1}function zD(){return function mI(e,t){return e[Ba].queries[t].queryList}(qt(),oe())}function eb(e,t=""){const r=qt(),o=Nr(),a=e+Wn,c=o.firstCreatePass?ku(o,a,1,t,null):o.data[a],m=tb(o,r,c,t,e);r[a]=m,Cu()&&Ff(o,r,m,c),ws(c,!1)}let tb=(e,t,r,o,a)=>(Ta(!0),function Ft(e,t){return e.createText(t)}(t[vr],o));function b0(e,t,r){const o=qt(),a=function Gg(e,t,r,o){return jo(e,Aa(),r)?t+ur(r)+o:wr}(o,e,t,r);return a!==wr&&function fi(e,t,r){const o=ul(t,e);!function lt(e,t,r){e.setValue(t,r)}(e[vr],o,r)}(o,ho(),a),b0}function tA(e,t,r){LC(t)&&(t=t());const o=qt();return jo(o,Aa(),t)&&yo(Nr(),Ci(),o,e,t,o[vr],r,!1),tA}function db(e,t){const r=LC(e);return r&&e.set(t),r}function nA(e,t){const r=qt(),o=Nr(),a=Ai();return ZI(o,r,r[vr],a,e,t),nA}function rA(e,t,r,o,a){if(e=Xn(e),Array.isArray(e))for(let c=0;c<e.length;c++)rA(e[c],t,r,o,a);else{const c=Nr(),m=qt(),E=Ai();let T=La(e)?e:Xn(e.provide);const L=Lc(e),z=1048575&E.providerIndexes,ie=E.directiveStart,Oe=E.providerIndexes>>20;if(La(e)||!e.multi){const je=new nd(L,a,_h),Le=oA(T,t,a?z:z+Oe,ie);-1===Le?(df(lh(E,m),c,T),iA(c,e,t.length),t.push(T),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(je),m.push(je)):(r[Le]=je,m[Le]=je)}else{const je=oA(T,t,z+Oe,ie),Le=oA(T,t,z,z+Oe),rn=Le>=0&&r[Le];if(a&&!rn||!a&&!(je>=0&&r[je])){df(lh(E,m),c,T);const pn=function hN(e,t,r,o,a){const c=new nd(e,r,_h);return c.multi=[],c.index=t,c.componentProviders=0,pb(c,a,o&&!r),c}(a?dN:cN,r.length,a,o,L);!a&&rn&&(r[Le].providerFactory=pn),iA(c,e,t.length,0),t.push(T),E.directiveStart++,E.directiveEnd++,a&&(E.providerIndexes+=1048576),r.push(pn),m.push(pn)}else iA(c,e,je>-1?je:Le,pb(r[a?Le:je],L,!a&&o));!a&&o&&rn&&r[Le].componentProviders++}}}function iA(e,t,r,o){const a=La(t),c=function kc(e){return!!e.useClass}(t);if(a||c){const T=(c?Xn(t.useClass):t).prototype.ngOnDestroy;if(T){const L=e.destroyHooks||(e.destroyHooks=[]);if(!a&&t.multi){const z=L.indexOf(r);-1===z?L.push(r,[o,T]):L[z+1].push(o,T)}else L.push(r,T)}}}function pb(e,t,r){return r&&e.componentProviders++,e.multi.push(t)-1}function oA(e,t,r,o){for(let a=r;a<o;a++)if(t[a]===e)return a;return-1}function cN(e,t,r,o){return sA(this.multi,[])}function dN(e,t,r,o){const a=this.multi;let c;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=sd(r,r[_n],this.providerFactory.index,o);c=E.slice(0,m),sA(a,c);for(let T=m;T<E.length;T++)c.push(E[T])}else c=[],sA(a,c);return c}function sA(e,t){for(let r=0;r<e.length;r++)t.push((0,e[r])());return t}function gb(e,t=[]){return r=>{r.providersResolver=(o,a)=>function uN(e,t,r){const o=Nr();if(o.firstCreatePass){const a=cs(e);rA(r,o.data,o.blueprint,a,!0),rA(t,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,t)}}let fN=(()=>{var e;class t{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const a=nl(0,o.type),c=a.length>0?AI([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,c)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return(e=t).\u0275prov=fr({token:e,providedIn:"environment",factory:()=>new e(yr(Ds))}),t})();function mb(e){wa("NgStandalone"),e.getStandaloneInjector=t=>t.get(fN).getOrCreateStandaloneInjector(e)}class Ub{constructor(t){this.full=t;const r=t.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const nO=new Ub("18.2.5");let Bb=(()=>{var e;class t{log(o){console.log(o)}warn(o){console.warn(o)}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();const zb=new Jn(""),Gb=new Jn("");let fA,SO=(()=>{var e;class t{constructor(o,a,c){this._ngZone=o,this.registry=a,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,fA||(function RO(e){fA=e}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Yi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb()}});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let m=-1;a&&a>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==m),o()},a)),this._callbacks.push({doneCb:o,timeoutId:m,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}}return(e=t).\u0275fac=function(o){return new(o||e)(yr(Yi),yr(Wb),yr(Gb))},e.\u0275prov=fr({token:e,factory:e.\u0275fac}),t})(),Wb=(()=>{var e;class t{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){var c,m;return null!==(c=null===(m=fA)||void 0===m?void 0:m.findTestabilityInTree(this,o,a))&&void 0!==c?c:null}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})();function pA(e){return!!e&&"function"==typeof e.then}function Kb(e){return!!e&&"function"==typeof e.subscribe}const qb=new Jn("");let Xb=(()=>{var e;class t{constructor(){var o;this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c}),this.appInits=null!==(o=Cn(qb,{optional:!0}))&&void 0!==o?o:[]}runInitializers(){if(this.initialized)return;const o=[];for(const c of this.appInits){const m=c();if(pA(m))o.push(m);else if(Kb(m)){const E=new Promise((T,L)=>{m.subscribe({complete:T,error:L})});o.push(E)}}const a=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const P0=new Jn("");function Yb(e,t){return Array.isArray(t)?t.reduce(Yb,e):{...e,...t}}let Sc=(()=>{var e;class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Cn(kp),this.afterRenderManager=Cn(lT),this.zonelessEnabled=Cn(Nv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Mn.B,this.afterTick=new Mn.B,this.componentTypes=[],this.components=[],this.isStable=Cn(za).hasPendingTasks.pipe((0,Yt.T)(o=>!o)),this._injector=Cn(Ds)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let o;return new Promise(a=>{o=this.isStable.subscribe({next:c=>{c&&a()}})}).finally(()=>{o.unsubscribe()})}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof pC;if(!this._injector.get(Xb).done)throw!c&&no(o),new Dn(405,!1);let E;E=c?o:this._injector.get(Ov).resolveComponentFactory(o),this.componentTypes.push(E.componentType);const T=function MO(e){return e.isBoundToModule}(E)?void 0:this._injector.get(sp),z=E.create(Ss.NULL,[],a||E.selector,T),ie=z.location.nativeElement,Oe=z.injector.get(zb,null);return null==Oe||Oe.registerApplication(ie),z.onDestroy(()=>{this.detachView(z.hostView),N0(this.components,z),null==Oe||Oe.unregisterApplication(ie)}),this._loadComponent(z),z}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Dn(101,!1);const o=le(null);try{this._runningTick=!0,this.synchronize()}catch(a){this.internalErrorHandler(a)}finally{this._runningTick=!1,le(o),this.afterTick.next()}}synchronize(){let o=null;this._injector.destroyed||(o=this._injector.get(sI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let a=0;for(;0!==this.dirtyFlags&&a++<10;)this.synchronizeOnce(o)}synchronizeOnce(o){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const m=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(m);for(let{_lView:E,notifyErrorHandler:T}of this._views)OO(E,T,m,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else{var a,c;null==o||null===(a=o.begin)||void 0===a||a.call(o),null==o||null===(c=o.end)||void 0===c||c.call(o)}8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:o})=>$a(o))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;N0(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const a=this._injector.get(P0,[]);[...this._bootstrapListeners,...a].forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>N0(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new Dn(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function N0(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}function OO(e,t,r,o){(r||$a(e))&&Tg(e,t,r&&!o?0:1)}class xO{constructor(t,r){this.ngModuleFactory=t,this.componentFactories=r}}let kO=(()=>{var e;class t{compileModuleSync(o){return new II(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),m=Ct(hi(o).declarations).reduce((E,T)=>{const L=Qn(T);return L&&E.push(new Fv(L)),E},[]);return new xO(a,m)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),VO=(()=>{var e;class t{constructor(){this.zone=Cn(Yi),this.changeDetectionScheduler=Cn(xg),this.applicationRef=Cn(Sc)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){var o;null===(o=this._onMicrotaskEmptySubscription)||void 0===o||o.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();function gA({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:r}){var o;return null!==(o=e)&&void 0!==o||(e=()=>new Yi({...mA(),scheduleInRootZone:r})),[{provide:Yi,useFactory:e},{provide:ls,multi:!0,useFactory:()=>{const a=Cn(VO,{optional:!0});return()=>a.initialize()}},{provide:ls,multi:!0,useFactory:()=>{const a=Cn(BO);return()=>{a.initialize()}}},!0===t?{provide:fC,useValue:!0}:[],{provide:oI,useValue:null!=r?r:Np}]}function mA(e){var t,r;return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:null!==(t=null==e?void 0:e.eventCoalescing)&&void 0!==t&&t,shouldCoalesceRunChangeDetection:null!==(r=null==e?void 0:e.runCoalescing)&&void 0!==r&&r}}let BO=(()=>{var e;class t{constructor(){this.subscription=new jt.yU,this.initialized=!1,this.zone=Cn(Yi),this.pendingTasks=Cn(za)}initialize(){if(this.initialized)return;this.initialized=!0;let o=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(o=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Yi.assertNotInAngularZone(),queueMicrotask(()=>{null!==o&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(o),o=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{var a;Yi.assertInAngularZone(),null!==(a=o)&&void 0!==a||(o=this.pendingTasks.add())}))}ngOnDestroy(){this.subscription.unsubscribe()}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})(),e_=(()=>{var e;class t{constructor(){var o,a,c;this.appRef=Cn(Sc),this.taskService=Cn(za),this.ngZone=Cn(Yi),this.zonelessEnabled=Cn(Nv),this.disableScheduling=null!==(o=Cn(fC,{optional:!0}))&&void 0!==o&&o,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new jt.yU,this.angularZoneId=this.zoneIsDefined?null===(a=this.ngZone._inner)||void 0===a?void 0:a.get(gf):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&null!==(c=Cn(oI,{optional:!0}))&&void 0!==c&&c,this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||(this.disableScheduling=!this.zonelessEnabled&&(this.ngZone instanceof xp||!this.zoneIsDefined))}notify(o){if(!this.zonelessEnabled&&5===o)return;switch(o){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const a=this.useMicrotaskScheduler?w_:Op;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>a(()=>this.tick())):this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(gf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const o=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(a){throw this.taskService.remove(o),a}finally{this.cleanup()}this.useMicrotaskScheduler=!0,w_(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(o)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){var o;if(this.runningTick=!1,null===(o=this.cancelScheduledCallback)||void 0===o||o.call(this),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const a=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(a)}}}return(e=t).\u0275fac=function(o){return new(o||e)},e.\u0275prov=fr({token:e,factory:e.\u0275fac,providedIn:"root"}),t})();const _A=new Jn("",{providedIn:"root",factory:()=>Cn(_A,Ir.Optional|Ir.SkipSelf)||function $O(){return typeof $localize<"u"&&$localize.locale||A0}()}),jO=new Jn("",{providedIn:"root",factory:()=>"USD"}),yA=new Jn("");function O0(e){return!!e.platformInjector}let iw=(()=>{var e;class t{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=null==a?void 0:a.scheduleInRootZone,T=[gA({ngZoneFactory:()=>function P_(e="zone.js",t){return"noop"===e?new xp:"zone.js"===e?new Yi(t):e}(null==a?void 0:a.ngZone,{...mA({eventCoalescing:null==a?void 0:a.ngZoneEventCoalescing,runCoalescing:null==a?void 0:a.ngZoneRunCoalescing}),scheduleInRootZone:c}),ignoreChangesOutsideZone:null==a?void 0:a.ignoreChangesOutsideZone}),{provide:xg,useExisting:e_}],L=function gR(e,t,r){return new EI(e,t,r,!1)}(o.moduleType,this.injector,T);return function rw(e){const t=O0(e)?e.r3Injector:e.moduleRef.injector,r=t.get(Yi);return r.run(()=>{O0(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=t.get(jl,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:c=>{o.handleError(c)}})}),O0(e)){const c=()=>t.destroy(),m=e.platformInjector.get(yA);m.add(c),t.onDestroy(()=>{a.unsubscribe(),m.delete(c)})}else e.moduleRef.onDestroy(()=>{N0(e.allPlatformModules,e.moduleRef),a.unsubscribe()});return function NO(e,t,r){try{const o=r();return pA(o)?o.catch(a=>{throw t.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw t.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const c=t.get(Xb);return c.runInitializers(),c.donePromise.then(()=>{if(function oP(e){"string"==typeof e&&(sD=e.toLowerCase().replace(/_/g,"-"))}(t.get(_A,A0)||A0),O0(e)){const E=t.get(Sc);return void 0!==e.rootComponent&&E.bootstrap(e.rootComponent),E}return function KO(e,t){const r=e.injector.get(Sc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new Dn(-403,!1);e.instance.ngDoBootstrap(r)}t.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:L,allPlatformModules:this._modules})}bootstrapModule(o,a=[]){const c=Yb({},a);return function LO(e,t,r){const o=new II(r);return Promise.resolve(o)}(0,0,o).then(m=>this.bootstrapModuleFactory(m,c))}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Dn(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(yA,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(e=t).\u0275fac=function(o){return new(o||e)(yr(Ss))},e.\u0275prov=fr({token:e,factory:e.\u0275fac,providedIn:"platform"}),t})(),Oh=null;const ow=new Jn("");function sw(e,t,r=[]){const o=`Platform: ${t}`,a=new Jn(o);return(c=[])=>{let m=EA();if(!m||m.injector.get(ow,!1)){const E=[...r,...c,{provide:a,useValue:!0}];e?e(E):function qO(e){if(Oh&&!Oh.get(ow,!1))throw new Dn(400,!1);(function Qb(){!function be(e){bn=e}(()=>{throw new Dn(600,!1)})})(),Oh=e;const t=e.get(iw);(function lw(e){const t=e.get(Kp,null);null==t||t.forEach(r=>r())})(e)}(function aw(e=[],t){return Ss.create({name:t,providers:[{provide:Fc,useValue:"platform"},{provide:yA,useValue:new Set([()=>Oh=null])},...e]})}(E,o))}return function XO(){const t=EA();if(!t)throw new Dn(401,!1);return t}()}}function EA(){var e,t;return null!==(e=null===(t=Oh)||void 0===t?void 0:t.get(iw))&&void 0!==e?e:null}function YO(){return!1}let cw=(()=>{class t{}return t.__NG_ELEMENT_ID__=ZO,t})();function ZO(e){return function JO(e,t,r){if(al(e)&&!r){const o=ds(e.index,t);return new Th(o,o)}return 175&e.type?new Th(t[Hi],t):null}(Ai(),qt(),!(16&~e))}class pw{constructor(){}supports(t){return s0(t)}create(t){return new ix(t)}}const rx=(e,t)=>t;class ix{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||rx}forEachItem(t){let r;for(r=this._itHead;null!==r;r=r._next)t(r)}forEachOperation(t){let r=this._itHead,o=this._removalsHead,a=0,c=null;for(;r||o;){const m=!o||r&&r.currentIndex<mw(o,a,c)?r:o,E=mw(m,a,c),T=m.currentIndex;if(m===o)a--,o=o._nextRemoved;else if(r=r._next,null==m.previousIndex)a++;else{c||(c=[]);const L=E-a,z=T-a;if(L!=z){for(let Oe=0;Oe<L;Oe++){const je=Oe<c.length?c[Oe]:c[Oe]=0,Le=je+Oe;z<=Le&&Le<L&&(c[Oe]=je+1)}c[m.previousIndex]=z-L}}E!==T&&t(m,E,T)}}forEachPreviousItem(t){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachMovedItem(t){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}forEachIdentityChange(t){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)t(r)}diff(t){if(null==t&&(t=[]),!s0(t))throw new Dn(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let a,c,m,r=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let E=0;E<this.length;E++)c=t[E],m=this._trackByFn(E,c),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,c,m,E)),Object.is(r.item,c)||this._addIdentityChange(r,c)):(r=this._mismatch(r,c,m,E),o=!0),r=r._next}else a=0,function _R(e,t){if(Array.isArray(e))for(let r=0;r<e.length;r++)t(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)t(o.value)}}(t,E=>{m=this._trackByFn(a,E),null!==r&&Object.is(r.trackById,m)?(o&&(r=this._verifyReinsertion(r,E,m,a)),Object.is(r.item,E)||this._addIdentityChange(r,E)):(r=this._mismatch(r,E,m,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,r,o,a){let c;return null===t?c=this._itTail:(c=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._reinsertAfter(t,c,a)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(t.item,r)||this._addIdentityChange(t,r),this._moveAfter(t,c,a)):t=this._addAfter(new ox(r,o),c,a),t}_verifyReinsertion(t,r,o,a){let c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==c?t=this._reinsertAfter(c,t._prev,a):t.currentIndex!=a&&(t.currentIndex=a,this._addToMoves(t,a)),t}_truncate(t){for(;null!==t;){const r=t._next;this._addToRemovals(this._unlink(t)),t=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const a=t._prevRemoved,c=t._nextRemoved;return null===a?this._removalsHead=c:a._nextRemoved=c,null===c?this._removalsTail=a:c._prevRemoved=a,this._insertAfter(t,r,o),this._addToMoves(t,o),t}_moveAfter(t,r,o){return this._unlink(t),this._insertAfter(t,r,o),this._addToMoves(t,o),t}_addAfter(t,r,o){return this._insertAfter(t,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,r,o){const a=null===r?this._itHead:r._next;return t._next=a,t._prev=r,null===a?this._itTail=t:a._prev=t,null===r?this._itHead=t:r._next=t,null===this._linkedRecords&&(this._linkedRecords=new gw),this._linkedRecords.put(t),t.currentIndex=o,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const r=t._prev,o=t._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,t}_addToMoves(t,r){return t.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gw),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,r){return t.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class ox{constructor(t,r){this.item=t,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class sx{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,t))return o;return null}remove(t){const r=t._prevDup,o=t._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class gw{constructor(){this.map=new Map}put(t){const r=t.trackById;let o=this.map.get(r);o||(o=new sx,this.map.set(r,o)),o.add(t)}get(t,r){const a=this.map.get(t);return a?a.get(t,r):null}remove(t){const r=t.trackById;return this.map.get(r).remove(t)&&this.map.delete(r),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mw(e,t,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+t+a}class vw{constructor(){}supports(t){return t instanceof Map||CI(t)}create(){return new ax}}class ax{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let r;for(r=this._mapHead;null!==r;r=r._next)t(r)}forEachPreviousItem(t){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)t(r)}forEachChangedItem(t){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)t(r)}forEachAddedItem(t){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)t(r)}forEachRemovedItem(t){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)t(r)}diff(t){if(t){if(!(t instanceof Map||CI(t)))throw new Dn(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(t,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const c=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,c)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,r){if(t){const o=t._prev;return r._next=t,r._prev=o,t._prev=r,o&&(o._next=r),t===this._mapHead&&(this._mapHead=r),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(t,r){if(this._records.has(t)){const a=this._records.get(t);this._maybeAddToChanges(a,r);const c=a._prev,m=a._next;return c&&(c._next=m),m&&(m._prev=c),a._next=null,a._prev=null,a}const o=new lx(t);return this._records.set(t,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,r){Object.is(r,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=r,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,r){t instanceof Map?t.forEach(r):Object.keys(t).forEach(o=>r(t[o],o))}}class lx{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _w(){return new DA([new pw])}let DA=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||_w()),deps:[[t,new Rc,new na]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new Dn(901,!1)}}return(e=t).\u0275prov=fr({token:e,providedIn:"root",factory:_w}),t})();function yw(){return new bA([new vw])}let bA=(()=>{var e;class t{constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new t(o)}static extend(o){return{provide:t,useFactory:a=>t.create(o,a||yw()),deps:[[t,new Rc,new na]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new Dn(901,!1)}}return(e=t).\u0275prov=fr({token:e,providedIn:"root",factory:yw}),t})();const dx=sw(null,"core",[]);let hx=(()=>{var e;class t{constructor(o){}}return(e=t).\u0275fac=function(o){return new(o||e)(yr(Sc))},e.\u0275mod=or({type:e}),e.\u0275inj=Co({}),t})();const kw=new Jn("");function Hx(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function Gx(e,t){wa("NgSignals");const r=function $e(e){const t=Object.create(an);t.computation=e;const r=()=>{if(He(t),pe(t),t.value===zt)throw t.error;return t.value};return r[de]=t,r}(e);return null!=t&&t.equal&&(r[de].equal=t.equal),r}function Wx(e){const t=le(null);try{return e()}finally{le(t)}}function Zx(e,t){const r=Qn(e),o=t.elementInjector||qu();return new Fv(r).create(o,t.projectableNodes,t.hostElement,t.environmentInjector)}function Jx(e){const t=Qn(e);if(!t)return null;const r=new Fv(t);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}},1182:(hn,pt,U)=>{"use strict";U.d(pt,{DS:()=>ft,X8:()=>nt,$z:()=>X,UB:()=>re,yy:()=>Ot,ZP:()=>be,AU:()=>Q,CP:()=>bn,gF:()=>Ne});var d=U(9842),J=(U(7955),U(177)),ne=U(3953),de=U(1825),le=U(9253),Se=U(1413),Ve=U(7673),qe=U(1985),Ce=U(8455),pe=U(6365),ke=U(8750),He=U(983),Ue=U(3794),ut=U(941),Ze=U(5558),rt=U(6354),et=U(6129);class st extends Se.B{constructor(Pt=1/0,yt=1/0,Et=et.U){super(),this._bufferSize=Pt,this._windowTime=yt,this._timestampProvider=Et,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=yt===1/0,this._bufferSize=Math.max(1,Pt),this._windowTime=Math.max(1,yt)}next(Pt){const{isStopped:yt,_buffer:Et,_infiniteTimeWindow:dn,_timestampProvider:mt,_windowTime:mn}=this;yt||(Et.push(Pt),!dn&&Et.push(mt.now()+mn)),this._trimBuffer(),super.next(Pt)}_subscribe(Pt){this._throwIfClosed(),this._trimBuffer();const yt=this._innerSubscribe(Pt),{_infiniteTimeWindow:Et,_buffer:dn}=this,mt=dn.slice();for(let mn=0;mn<mt.length&&!Pt.closed;mn+=Et?1:2)Pt.next(mt[mn]);return this._checkFinalizedStatuses(Pt),yt}_trimBuffer(){const{_bufferSize:Pt,_timestampProvider:yt,_buffer:Et,_infiniteTimeWindow:dn}=this,mt=(dn?1:2)*Pt;if(Pt<1/0&&mt<Et.length&&Et.splice(0,Et.length-mt),!dn){const mn=yt.now();let gn=0;for(let Mn=1;Mn<Et.length&&Et[Mn]<=mn;Mn+=2)gn=Mn;gn&&Et.splice(0,gn+1)}}}var ve=U(7707),ge=U(9974);function Je(ze,Pt,...yt){if(!0===Pt)return void ze();if(!1===Pt)return;const Et=new ve.Ms({next:()=>{Et.unsubscribe(),ze()}});return(0,ke.Tg)(Pt(...yt)).subscribe(Et)}function We(ze,Pt,yt){let Et,dn=!1;return ze&&"object"==typeof ze?({bufferSize:Et=1/0,windowTime:Pt=1/0,refCount:dn=!1,scheduler:yt}=ze):Et=null!=ze?ze:1/0,function Ie(ze={}){const{connector:Pt=()=>new Se.B,resetOnError:yt=!0,resetOnComplete:Et=!0,resetOnRefCountZero:dn=!0}=ze;return mt=>{let mn,gn,Mn,jt=0,Yt=!1,Un=!1;const it=()=>{null==gn||gn.unsubscribe(),gn=void 0},Te=()=>{it(),mn=Mn=void 0,Yt=Un=!1},Fe=()=>{const tn=mn;Te(),null==tn||tn.unsubscribe()};return(0,ge.N)((tn,wn)=>{jt++,!Un&&!Yt&&it();const er=Mn=null!=Mn?Mn:Pt();wn.add(()=>{jt--,0===jt&&!Un&&!Yt&&(gn=Je(Fe,dn))}),er.subscribe(wn),!mn&&jt>0&&(mn=new ve.Ms({next:Bn=>er.next(Bn),error:Bn=>{Un=!0,it(),gn=Je(Te,yt,Bn),er.error(Bn)},complete:()=>{Yt=!0,it(),gn=Je(Te,Et),er.complete()}}),(0,ke.Tg)(tn).subscribe(mn))})(mt)}}({connector:()=>new st(Et,Pt,yt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:dn})}var wt=U(1594),$e=U(8071);function Me(ze,Pt){return(0,$e.T)(Pt)?(0,Ze.n)(()=>ze,Pt):(0,Ze.n)(()=>ze)}var Lt=U(6745),zt=U(5964),an=U(7935);const bn=new ne.nKC("angularfire2.auth.use-emulator"),Ot=new ne.nKC("angularfire2.auth.settings"),be=new ne.nKC("angularfire2.auth.tenant-id"),X=new ne.nKC("angularfire2.auth.langugage-code"),Q=new ne.nKC("angularfire2.auth.use-device-language"),re=new ne.nKC("angularfire.auth.persistence"),Ne=(ze,Pt,yt,Et,dn,mt,mn,gn)=>(0,le.BM)(`${ze.name}.auth`,"AngularFireAuth",ze.name,()=>{const Mn=Pt.runOutsideAngular(()=>ze.auth());if(yt&&Mn.useEmulator(...yt),Et&&(Mn.tenantId=Et),Mn.languageCode=dn,mt&&Mn.useDeviceLanguage(),mn)for(const[jt,Yt]of Object.entries(mn))Mn.settings[jt]=Yt;return gn&&Mn.setPersistence(gn),Mn},[yt,Et,dn,mt,mn,gn]);let ft=(()=>{var ze;class Pt{constructor(Et,dn,mt,mn,gn,Mn,jt,Yt,Un,it,Te,Fe){(0,d.A)(this,"authState",void 0),(0,d.A)(this,"idToken",void 0),(0,d.A)(this,"user",void 0),(0,d.A)(this,"idTokenResult",void 0),(0,d.A)(this,"credential",void 0);const tn=new Se.B,wn=(0,Ve.of)(void 0).pipe((0,ut.Q)(gn.outsideAngular),(0,Ze.n)(()=>mn.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,7955)))),(0,rt.T)(()=>(0,le.iB)(Et,mn,dn)),(0,rt.T)(er=>Ne(er,mn,Mn,Yt,Un,it,jt,Te)),We({bufferSize:1,refCount:!1}));if((0,J.Vy)(mt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ve.of)(null);else{wn.pipe((0,wt.$)()).subscribe();const er=wn.pipe((0,Ze.n)(kt=>kt.getRedirectResult().then(sr=>sr,()=>null)),de.U0,We({bufferSize:1,refCount:!1})),Bn=wn.pipe((0,Ze.n)(kt=>new qe.c(sr=>({unsubscribe:mn.runOutsideAngular(()=>kt.onAuthStateChanged(tr=>sr.next(tr),tr=>sr.error(tr),()=>sr.complete()))})))),Sn=wn.pipe((0,Ze.n)(kt=>new qe.c(sr=>({unsubscribe:mn.runOutsideAngular(()=>kt.onIdTokenChanged(tr=>sr.next(tr),tr=>sr.error(tr),()=>sr.complete()))}))));this.authState=er.pipe(Me(Bn),(0,Lt._)(gn.outsideAngular),(0,ut.Q)(gn.insideAngular)),this.user=er.pipe(Me(Sn),(0,Lt._)(gn.outsideAngular),(0,ut.Q)(gn.insideAngular)),this.idToken=this.user.pipe((0,Ze.n)(kt=>kt?(0,Ce.H)(kt.getIdToken()):(0,Ve.of)(null))),this.idTokenResult=this.user.pipe((0,Ze.n)(kt=>kt?(0,Ce.H)(kt.getIdTokenResult()):(0,Ve.of)(null))),this.credential=function Xe(...ze){const Pt=(0,Ue.lI)(ze),yt=(0,Ue.R0)(ze,1/0),Et=ze;return Et.length?1===Et.length?(0,ke.Tg)(Et[0]):(0,pe.U)(yt)((0,Ce.H)(Et,Pt)):He.w}(er,tn,this.authState.pipe((0,zt.p)(kt=>!kt))).pipe((0,rt.T)(kt=>null!=kt&&kt.user?kt:null),(0,Lt._)(gn.outsideAngular),(0,ut.Q)(gn.insideAngular))}return(0,le.Gt)(this,wn,mn,{spy:{apply:(er,Bn,Sn)=>{(er.startsWith("signIn")||er.startsWith("createUser"))&&Sn.then(kt=>tn.next(kt))}}})}}return ze=Pt,(0,d.A)(Pt,"\u0275fac",function(Et){return new(Et||ze)(ne.KVO(le.rx),ne.KVO(le.uP,8),ne.KVO(ne.Agw),ne.KVO(ne.SKi),ne.KVO(de.u0),ne.KVO(bn,8),ne.KVO(Ot,8),ne.KVO(be,8),ne.KVO(X,8),ne.KVO(Q,8),ne.KVO(re,8),ne.KVO(de.Jv,8))}),(0,d.A)(Pt,"\u0275prov",ne.jDH({token:ze,factory:ze.\u0275fac,providedIn:"any"})),Pt})(),nt=(()=>{var ze;class Pt{constructor(){an.A.registerVersion("angularfire",de.xv.full,"auth-compat")}}return ze=Pt,(0,d.A)(Pt,"\u0275fac",function(Et){return new(Et||ze)}),(0,d.A)(Pt,"\u0275mod",ne.$C({type:ze})),(0,d.A)(Pt,"\u0275inj",ne.G2t({providers:[ft]})),Pt})()},8079:(hn,pt,U)=>{"use strict";U.d(pt,{Qe:()=>FE,cM:()=>JA});var d=U(9842),f=U(177),J=U(3953),ne=U(1825),de=U(9253),le=U(1182),Se=U(3236),Ve=U(1985),qe=U(8455),Ce=U(7673),pe=U(9172),ke=U(9974),He=U(4360);function Ue(){return(0,ke.N)((l,n)=>{let i,s=!1;l.subscribe((0,He._)(n,u=>{const p=i;i=u,s&&n.next([p,u]),s=!0}))})}var Me,Lt,Xe=U(6354),ut=U(2816),Ze=U(3294),rt=U(5964),st=(U(7955),U(3345)),ve=U(467),ge=U(7852),Ie=U(1362),Je=U(8041),We=U(1076),wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$e={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(vt,Ke,dt){dt||(dt=0);var At=Array(16);if("string"==typeof Ke)for(var Dt=0;16>Dt;++Dt)At[Dt]=Ke.charCodeAt(dt++)|Ke.charCodeAt(dt++)<<8|Ke.charCodeAt(dt++)<<16|Ke.charCodeAt(dt++)<<24;else for(Dt=0;16>Dt;++Dt)At[Dt]=Ke[dt++]|Ke[dt++]<<8|Ke[dt++]<<16|Ke[dt++]<<24;var Ft=vt.g[3],lt=(Ke=vt.g[0])+(Ft^(dt=vt.g[1])&((Dt=vt.g[2])^Ft))+At[0]+3614090360&4294967295;lt=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=(dt=(Dt=(Ft=(Ke=dt+(lt<<7&4294967295|lt>>>25))+((lt=Ft+(Dt^Ke&(dt^Dt))+At[1]+3905402710&4294967295)<<12&4294967295|lt>>>20))+((lt=Dt+(dt^Ft&(Ke^dt))+At[2]+606105819&4294967295)<<17&4294967295|lt>>>15))+((lt=dt+(Ke^Dt&(Ft^Ke))+At[3]+3250441966&4294967295)<<22&4294967295|lt>>>10))+((lt=Ke+(Ft^dt&(Dt^Ft))+At[4]+4118548399&4294967295)<<7&4294967295|lt>>>25))+((lt=Ft+(Dt^Ke&(dt^Dt))+At[5]+1200080426&4294967295)<<12&4294967295|lt>>>20))+((lt=Dt+(dt^Ft&(Ke^dt))+At[6]+2821735955&4294967295)<<17&4294967295|lt>>>15))+((lt=dt+(Ke^Dt&(Ft^Ke))+At[7]+4249261313&4294967295)<<22&4294967295|lt>>>10))+((lt=Ke+(Ft^dt&(Dt^Ft))+At[8]+1770035416&4294967295)<<7&4294967295|lt>>>25))+((lt=Ft+(Dt^Ke&(dt^Dt))+At[9]+2336552879&4294967295)<<12&4294967295|lt>>>20))+((lt=Dt+(dt^Ft&(Ke^dt))+At[10]+4294925233&4294967295)<<17&4294967295|lt>>>15))+((lt=dt+(Ke^Dt&(Ft^Ke))+At[11]+2304563134&4294967295)<<22&4294967295|lt>>>10))+((lt=Ke+(Ft^dt&(Dt^Ft))+At[12]+1804603682&4294967295)<<7&4294967295|lt>>>25))+((lt=Ft+(Dt^Ke&(dt^Dt))+At[13]+4254626195&4294967295)<<12&4294967295|lt>>>20))+((lt=Dt+(dt^Ft&(Ke^dt))+At[14]+2792965006&4294967295)<<17&4294967295|lt>>>15))+((lt=dt+(Ke^Dt&(Ft^Ke))+At[15]+1236535329&4294967295)<<22&4294967295|lt>>>10))+((lt=Ke+(Dt^Ft&(dt^Dt))+At[1]+4129170786&4294967295)<<5&4294967295|lt>>>27))+((lt=Ft+(dt^Dt&(Ke^dt))+At[6]+3225465664&4294967295)<<9&4294967295|lt>>>23))+((lt=Dt+(Ke^dt&(Ft^Ke))+At[11]+643717713&4294967295)<<14&4294967295|lt>>>18))+((lt=dt+(Ft^Ke&(Dt^Ft))+At[0]+3921069994&4294967295)<<20&4294967295|lt>>>12))+((lt=Ke+(Dt^Ft&(dt^Dt))+At[5]+3593408605&4294967295)<<5&4294967295|lt>>>27))+((lt=Ft+(dt^Dt&(Ke^dt))+At[10]+38016083&4294967295)<<9&4294967295|lt>>>23))+((lt=Dt+(Ke^dt&(Ft^Ke))+At[15]+3634488961&4294967295)<<14&4294967295|lt>>>18))+((lt=dt+(Ft^Ke&(Dt^Ft))+At[4]+3889429448&4294967295)<<20&4294967295|lt>>>12))+((lt=Ke+(Dt^Ft&(dt^Dt))+At[9]+568446438&4294967295)<<5&4294967295|lt>>>27))+((lt=Ft+(dt^Dt&(Ke^dt))+At[14]+3275163606&4294967295)<<9&4294967295|lt>>>23))+((lt=Dt+(Ke^dt&(Ft^Ke))+At[3]+4107603335&4294967295)<<14&4294967295|lt>>>18))+((lt=dt+(Ft^Ke&(Dt^Ft))+At[8]+1163531501&4294967295)<<20&4294967295|lt>>>12))+((lt=Ke+(Dt^Ft&(dt^Dt))+At[13]+2850285829&4294967295)<<5&4294967295|lt>>>27))+((lt=Ft+(dt^Dt&(Ke^dt))+At[2]+4243563512&4294967295)<<9&4294967295|lt>>>23))+((lt=Dt+(Ke^dt&(Ft^Ke))+At[7]+1735328473&4294967295)<<14&4294967295|lt>>>18))+((lt=dt+(Ft^Ke&(Dt^Ft))+At[12]+2368359562&4294967295)<<20&4294967295|lt>>>12))+((lt=Ke+(dt^Dt^Ft)+At[5]+4294588738&4294967295)<<4&4294967295|lt>>>28))+((lt=Ft+(Ke^dt^Dt)+At[8]+2272392833&4294967295)<<11&4294967295|lt>>>21))+((lt=Dt+(Ft^Ke^dt)+At[11]+1839030562&4294967295)<<16&4294967295|lt>>>16))+((lt=dt+(Dt^Ft^Ke)+At[14]+4259657740&4294967295)<<23&4294967295|lt>>>9))+((lt=Ke+(dt^Dt^Ft)+At[1]+2763975236&4294967295)<<4&4294967295|lt>>>28))+((lt=Ft+(Ke^dt^Dt)+At[4]+1272893353&4294967295)<<11&4294967295|lt>>>21))+((lt=Dt+(Ft^Ke^dt)+At[7]+4139469664&4294967295)<<16&4294967295|lt>>>16))+((lt=dt+(Dt^Ft^Ke)+At[10]+3200236656&4294967295)<<23&4294967295|lt>>>9))+((lt=Ke+(dt^Dt^Ft)+At[13]+681279174&4294967295)<<4&4294967295|lt>>>28))+((lt=Ft+(Ke^dt^Dt)+At[0]+3936430074&4294967295)<<11&4294967295|lt>>>21))+((lt=Dt+(Ft^Ke^dt)+At[3]+3572445317&4294967295)<<16&4294967295|lt>>>16))+((lt=dt+(Dt^Ft^Ke)+At[6]+76029189&4294967295)<<23&4294967295|lt>>>9))+((lt=Ke+(dt^Dt^Ft)+At[9]+3654602809&4294967295)<<4&4294967295|lt>>>28))+((lt=Ft+(Ke^dt^Dt)+At[12]+3873151461&4294967295)<<11&4294967295|lt>>>21))+((lt=Dt+(Ft^Ke^dt)+At[15]+530742520&4294967295)<<16&4294967295|lt>>>16))+((lt=dt+(Dt^Ft^Ke)+At[2]+3299628645&4294967295)<<23&4294967295|lt>>>9))+((lt=Ke+(Dt^(dt|~Ft))+At[0]+4096336452&4294967295)<<6&4294967295|lt>>>26))+((lt=Ft+(dt^(Ke|~Dt))+At[7]+1126891415&4294967295)<<10&4294967295|lt>>>22))+((lt=Dt+(Ke^(Ft|~dt))+At[14]+2878612391&4294967295)<<15&4294967295|lt>>>17))+((lt=dt+(Ft^(Dt|~Ke))+At[5]+4237533241&4294967295)<<21&4294967295|lt>>>11))+((lt=Ke+(Dt^(dt|~Ft))+At[12]+1700485571&4294967295)<<6&4294967295|lt>>>26))+((lt=Ft+(dt^(Ke|~Dt))+At[3]+2399980690&4294967295)<<10&4294967295|lt>>>22))+((lt=Dt+(Ke^(Ft|~dt))+At[10]+4293915773&4294967295)<<15&4294967295|lt>>>17))+((lt=dt+(Ft^(Dt|~Ke))+At[1]+2240044497&4294967295)<<21&4294967295|lt>>>11))+((lt=Ke+(Dt^(dt|~Ft))+At[8]+1873313359&4294967295)<<6&4294967295|lt>>>26))+((lt=Ft+(dt^(Ke|~Dt))+At[15]+4264355552&4294967295)<<10&4294967295|lt>>>22))+((lt=Dt+(Ke^(Ft|~dt))+At[6]+2734768916&4294967295)<<15&4294967295|lt>>>17))+((lt=dt+(Ft^(Dt|~Ke))+At[13]+1309151649&4294967295)<<21&4294967295|lt>>>11))+((Ft=(Ke=dt+((lt=Ke+(Dt^(dt|~Ft))+At[4]+4149444226&4294967295)<<6&4294967295|lt>>>26))+((lt=Ft+(dt^(Ke|~Dt))+At[11]+3174756917&4294967295)<<10&4294967295|lt>>>22))^((Dt=Ft+((lt=Dt+(Ke^(Ft|~dt))+At[2]+718787259&4294967295)<<15&4294967295|lt>>>17))|~Ke))+At[9]+3951481745&4294967295,vt.g[0]=vt.g[0]+Ke&4294967295,vt.g[1]=vt.g[1]+(Dt+(lt<<21&4294967295|lt>>>11))&4294967295,vt.g[2]=vt.g[2]+Dt&4294967295,vt.g[3]=vt.g[3]+Ft&4294967295}function _(vt,Ke){this.h=Ke;for(var dt=[],At=!0,Dt=vt.length-1;0<=Dt;Dt--){var Ft=0|vt[Dt];At&&Ft==Ke||(dt[Dt]=Ft,At=!1)}this.g=dt}(function n(vt,Ke){function dt(){}dt.prototype=Ke.prototype,vt.D=Ke.prototype,vt.prototype=new dt,vt.prototype.constructor=vt,vt.C=function(At,Dt,Ft){for(var lt=Array(arguments.length-2),ml=2;ml<arguments.length;ml++)lt[ml-2]=arguments[ml];return Ke.prototype[Dt].apply(At,lt)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(vt,Ke){void 0===Ke&&(Ke=vt.length);for(var dt=Ke-this.blockSize,At=this.B,Dt=this.h,Ft=0;Ft<Ke;){if(0==Dt)for(;Ft<=dt;)u(this,vt,Ft),Ft+=this.blockSize;if("string"==typeof vt){for(;Ft<Ke;)if(At[Dt++]=vt.charCodeAt(Ft++),Dt==this.blockSize){u(this,At),Dt=0;break}}else for(;Ft<Ke;)if(At[Dt++]=vt[Ft++],Dt==this.blockSize){u(this,At),Dt=0;break}}this.h=Dt,this.o+=Ke},s.prototype.v=function(){var vt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);vt[0]=128;for(var Ke=1;Ke<vt.length-8;++Ke)vt[Ke]=0;var dt=8*this.o;for(Ke=vt.length-8;Ke<vt.length;++Ke)vt[Ke]=255&dt,dt/=256;for(this.u(vt),vt=Array(16),Ke=dt=0;4>Ke;++Ke)for(var At=0;32>At;At+=8)vt[dt++]=this.g[Ke]>>>At&255;return vt};var S={};function O(vt){return-128<=vt&&128>vt?function p(vt,Ke){var dt=S;return Object.prototype.hasOwnProperty.call(dt,vt)?dt[vt]:dt[vt]=Ke(vt)}(vt,function(Ke){return new _([0|Ke],0>Ke?-1:0)}):new _([0|vt],0>vt?-1:0)}function G(vt){if(isNaN(vt)||!isFinite(vt))return we;if(0>vt)return un(G(-vt));for(var Ke=[],dt=1,At=0;vt>=dt;At++)Ke[At]=vt/dt|0,dt*=4294967296;return new _(Ke,0)}var we=O(0),Ye=O(1),Ct=O(16777216);function Qt(vt){if(0!=vt.h)return!1;for(var Ke=0;Ke<vt.g.length;Ke++)if(0!=vt.g[Ke])return!1;return!0}function fn(vt){return-1==vt.h}function un(vt){for(var Ke=vt.g.length,dt=[],At=0;At<Ke;At++)dt[At]=~vt.g[At];return new _(dt,~vt.h).add(Ye)}function jn(vt,Ke){return vt.add(un(Ke))}function ir(vt,Ke){for(;(65535&vt[Ke])!=vt[Ke];)vt[Ke+1]+=vt[Ke]>>>16,vt[Ke]&=65535,Ke++}function Yn(vt,Ke){this.g=vt,this.h=Ke}function _r(vt,Ke){if(Qt(Ke))throw Error("division by zero");if(Qt(vt))return new Yn(we,we);if(fn(vt))return Ke=_r(un(vt),Ke),new Yn(un(Ke.g),un(Ke.h));if(fn(Ke))return Ke=_r(vt,un(Ke)),new Yn(un(Ke.g),Ke.h);if(30<vt.g.length){if(fn(vt)||fn(Ke))throw Error("slowDivide_ only works with positive integers.");for(var dt=Ye,At=Ke;0>=At.l(vt);)dt=Jr(dt),At=Jr(At);var Dt=Rr(dt,1),Ft=Rr(At,1);for(At=Rr(At,2),dt=Rr(dt,2);!Qt(At);){var lt=Ft.add(At);0>=lt.l(vt)&&(Dt=Dt.add(dt),Ft=lt),At=Rr(At,1),dt=Rr(dt,1)}return Ke=jn(vt,Dt.j(Ke)),new Yn(Dt,Ke)}for(Dt=we;0<=vt.l(Ke);){for(dt=Math.max(1,Math.floor(vt.m()/Ke.m())),At=48>=(At=Math.ceil(Math.log(dt)/Math.LN2))?1:Math.pow(2,At-48),lt=(Ft=G(dt)).j(Ke);fn(lt)||0<lt.l(vt);)lt=(Ft=G(dt-=At)).j(Ke);Qt(Ft)&&(Ft=Ye),Dt=Dt.add(Ft),vt=jn(vt,lt)}return new Yn(Dt,vt)}function Jr(vt){for(var Ke=vt.g.length+1,dt=[],At=0;At<Ke;At++)dt[At]=vt.i(At)<<1|vt.i(At-1)>>>31;return new _(dt,vt.h)}function Rr(vt,Ke){var dt=Ke>>5;Ke%=32;for(var At=vt.g.length-dt,Dt=[],Ft=0;Ft<At;Ft++)Dt[Ft]=0<Ke?vt.i(Ft+dt)>>>Ke|vt.i(Ft+dt+1)<<32-Ke:vt.i(Ft+dt);return new _(Dt,vt.h)}(l=_.prototype).m=function(){if(fn(this))return-un(this).m();for(var vt=0,Ke=1,dt=0;dt<this.g.length;dt++){var At=this.i(dt);vt+=(0<=At?At:4294967296+At)*Ke,Ke*=4294967296}return vt},l.toString=function(vt){if(2>(vt=vt||10)||36<vt)throw Error("radix out of range: "+vt);if(Qt(this))return"0";if(fn(this))return"-"+un(this).toString(vt);for(var Ke=G(Math.pow(vt,6)),dt=this,At="";;){var Dt=_r(dt,Ke).g,Ft=((0<(dt=jn(dt,Dt.j(Ke))).g.length?dt.g[0]:dt.h)>>>0).toString(vt);if(Qt(dt=Dt))return Ft+At;for(;6>Ft.length;)Ft="0"+Ft;At=Ft+At}},l.i=function(vt){return 0>vt?0:vt<this.g.length?this.g[vt]:this.h},l.l=function(vt){return fn(vt=jn(this,vt))?-1:Qt(vt)?0:1},l.abs=function(){return fn(this)?un(this):this},l.add=function(vt){for(var Ke=Math.max(this.g.length,vt.g.length),dt=[],At=0,Dt=0;Dt<=Ke;Dt++){var Ft=At+(65535&this.i(Dt))+(65535&vt.i(Dt)),lt=(Ft>>>16)+(this.i(Dt)>>>16)+(vt.i(Dt)>>>16);At=lt>>>16,dt[Dt]=(lt&=65535)<<16|(Ft&=65535)}return new _(dt,-2147483648&dt[dt.length-1]?-1:0)},l.j=function(vt){if(Qt(this)||Qt(vt))return we;if(fn(this))return fn(vt)?un(this).j(un(vt)):un(un(this).j(vt));if(fn(vt))return un(this.j(un(vt)));if(0>this.l(Ct)&&0>vt.l(Ct))return G(this.m()*vt.m());for(var Ke=this.g.length+vt.g.length,dt=[],At=0;At<2*Ke;At++)dt[At]=0;for(At=0;At<this.g.length;At++)for(var Dt=0;Dt<vt.g.length;Dt++){var Ft=this.i(At)>>>16,lt=65535&this.i(At),ml=vt.i(Dt)>>>16,Ac=65535&vt.i(Dt);dt[2*At+2*Dt]+=lt*Ac,ir(dt,2*At+2*Dt),dt[2*At+2*Dt+1]+=Ft*Ac,ir(dt,2*At+2*Dt+1),dt[2*At+2*Dt+1]+=lt*ml,ir(dt,2*At+2*Dt+1),dt[2*At+2*Dt+2]+=Ft*ml,ir(dt,2*At+2*Dt+2)}for(At=0;At<Ke;At++)dt[At]=dt[2*At+1]<<16|dt[2*At];for(At=Ke;At<2*Ke;At++)dt[At]=0;return new _(dt,0)},l.A=function(vt){return _r(this,vt).h},l.and=function(vt){for(var Ke=Math.max(this.g.length,vt.g.length),dt=[],At=0;At<Ke;At++)dt[At]=this.i(At)&vt.i(At);return new _(dt,this.h&vt.h)},l.or=function(vt){for(var Ke=Math.max(this.g.length,vt.g.length),dt=[],At=0;At<Ke;At++)dt[At]=this.i(At)|vt.i(At);return new _(dt,this.h|vt.h)},l.xor=function(vt){for(var Ke=Math.max(this.g.length,vt.g.length),dt=[],At=0;At<Ke;At++)dt[At]=this.i(At)^vt.i(At);return new _(dt,this.h^vt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Lt=$e.Md5=s,_.prototype.add=_.prototype.add,_.prototype.multiply=_.prototype.j,_.prototype.modulo=_.prototype.A,_.prototype.compare=_.prototype.l,_.prototype.toNumber=_.prototype.m,_.prototype.toString=_.prototype.toString,_.prototype.getBits=_.prototype.i,_.fromNumber=G,_.fromString=function ce(vt,Ke){if(0==vt.length)throw Error("number format error: empty string");if(2>(Ke=Ke||10)||36<Ke)throw Error("radix out of range: "+Ke);if("-"==vt.charAt(0))return un(ce(vt.substring(1),Ke));if(0<=vt.indexOf("-"))throw Error('number format error: interior "-" character');for(var dt=G(Math.pow(Ke,8)),At=we,Dt=0;Dt<vt.length;Dt+=8){var Ft=Math.min(8,vt.length-Dt),lt=parseInt(vt.substring(Dt,Dt+Ft),Ke);8>Ft?(Ft=G(Math.pow(Ke,Ft)),At=At.j(Ft).add(G(lt))):At=(At=At.j(dt)).add(G(lt))}return At},Me=$e.Integer=_}).apply(typeof wt<"u"?wt:typeof self<"u"?self:typeof window<"u"?window:{});var en,bn,Ot,be,X,Q,re,Ne,ft,zt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},an={};(function(){var l,n="function"==typeof Object.defineProperties?Object.defineProperty:function(v,k,W){return v==Array.prototype||v==Object.prototype||(v[k]=W.value),v},s=function i(v){v=["object"==typeof globalThis&&globalThis,v,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof zt&&zt];for(var k=0;k<v.length;++k){var W=v[k];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}(this);!function u(v,k){if(k)e:{var W=s;v=v.split(".");for(var _e=0;_e<v.length-1;_e++){var Mt=v[_e];if(!(Mt in W))break e;W=W[Mt]}(k=k(_e=W[v=v[v.length-1]]))!=_e&&null!=k&&n(W,v,{configurable:!0,writable:!0,value:k})}}("Array.prototype.values",function(v){return v||function(){return function p(v,k){v instanceof String&&(v+="");var W=0,_e=!1,Mt={next:function(){if(!_e&&W<v.length){var Gt=W++;return{value:k(Gt,v[Gt]),done:!1}}return _e=!0,{done:!0,value:void 0}}};return Mt[Symbol.iterator]=function(){return Mt},Mt}(this,function(k,W){return W})}});var _=_||{},S=this||self;function O(v){var k=typeof v;return"array"==(k="object"!=k?k:v?Array.isArray(v)?"array":k:"null")||"object"==k&&"number"==typeof v.length}function G(v){var k=typeof v;return"object"==k&&null!=v||"function"==k}function ce(v,k,W){return v.call.apply(v.bind,arguments)}function we(v,k,W){if(!v)throw Error();if(2<arguments.length){var _e=Array.prototype.slice.call(arguments,2);return function(){var Mt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Mt,_e),v.apply(k,Mt)}}return function(){return v.apply(k,arguments)}}function Ye(v,k,W){return(Ye=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ce:we).apply(null,arguments)}function Ct(v,k){var W=Array.prototype.slice.call(arguments,1);return function(){var _e=W.slice();return _e.push.apply(_e,arguments),v.apply(this,_e)}}function Qt(v,k){function W(){}W.prototype=k.prototype,v.aa=k.prototype,v.prototype=new W,v.prototype.constructor=v,v.Qb=function(_e,Mt,Gt){for(var Pn=Array(arguments.length-2),Bi=2;Bi<arguments.length;Bi++)Pn[Bi-2]=arguments[Bi];return k.prototype[Mt].apply(_e,Pn)}}function fn(v){const k=v.length;if(0<k){const W=Array(k);for(let _e=0;_e<k;_e++)W[_e]=v[_e];return W}return[]}function un(v,k){for(let W=1;W<arguments.length;W++){const _e=arguments[W];if(O(_e)){const Mt=v.length||0,Gt=_e.length||0;v.length=Mt+Gt;for(let Pn=0;Pn<Gt;Pn++)v[Mt+Pn]=_e[Pn]}else v.push(_e)}}function ir(v){return/^[\s\xa0]*$/.test(v)}function Yn(){var v=S.navigator;return v&&(v=v.userAgent)?v:""}function _r(v){return _r[" "](v),v}_r[" "]=function(){};var Jr=!(-1==Yn().indexOf("Gecko")||-1!=Yn().toLowerCase().indexOf("webkit")&&-1==Yn().indexOf("Edge")||-1!=Yn().indexOf("Trident")||-1!=Yn().indexOf("MSIE")||-1!=Yn().indexOf("Edge"));function Rr(v,k,W){for(const _e in v)k.call(W,v[_e],_e,v)}function Ke(v){const k={};for(const W in v)k[W]=v[W];return k}const dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function At(v,k){let W,_e;for(let Mt=1;Mt<arguments.length;Mt++){for(W in _e=arguments[Mt],_e)v[W]=_e[W];for(let Gt=0;Gt<dt.length;Gt++)W=dt[Gt],Object.prototype.hasOwnProperty.call(_e,W)&&(v[W]=_e[W])}}function Dt(v){var k=1;v=v.split(":");const W=[];for(;0<k&&v.length;)W.push(v.shift()),k--;return v.length&&W.push(v.join(":")),W}function Ft(v){S.setTimeout(()=>{throw v},0)}function lt(){var v=nv;let k=null;return v.g&&(k=v.g,v.g=v.g.next,v.g||(v.h=null),k.next=null),k}var Ac=new class jn{constructor(k,W){this.i=k,this.j=W,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}(()=>new LE,v=>v.reset());class LE{constructor(){this.next=this.g=this.h=null}set(k,W){this.h=k,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let Nf,mh=!1,nv=new class ml{constructor(){this.h=this.g=null}add(k,W){const _e=Ac.get();_e.set(k,W),this.h?this.h.next=_e:this.g=_e,this.h=_e}},Ey=()=>{const v=S.Promise.resolve(void 0);Nf=()=>{v.then(Iy)}};var Iy=()=>{for(var v;v=lt();){try{v.h.call(v.g)}catch(W){Ft(W)}var k=Ac;k.j(v),100>k.h&&(k.h++,v.next=k.g,k.g=v)}mh=!1};function zl(){this.s=this.s,this.C=this.C}function bo(v,k){this.type=v,this.g=this.target=k,this.defaultPrevented=!1}zl.prototype.s=!1,zl.prototype.ma=function(){this.s||(this.s=!0,this.N())},zl.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},bo.prototype.h=function(){this.defaultPrevented=!0};var hg=function(){if(!S.addEventListener||!Object.defineProperty)return!1;var v=!1,k=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const W=()=>{};S.addEventListener("test",W,k),S.removeEventListener("test",W,k)}catch{}return v}();function yd(v,k){if(bo.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v){var W=this.type=v.type,_e=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;if(this.target=v.target||v.srcElement,this.g=k,k=v.relatedTarget){if(Jr){e:{try{_r(k.nodeName);var Mt=!0;break e}catch{}Mt=!1}Mt||(k=null)}}else"mouseover"==W?k=v.fromElement:"mouseout"==W&&(k=v.toElement);this.relatedTarget=k,_e?(this.clientX=void 0!==_e.clientX?_e.clientX:_e.pageX,this.clientY=void 0!==_e.clientY?_e.clientY:_e.pageY,this.screenX=_e.screenX||0,this.screenY=_e.screenY||0):(this.clientX=void 0!==v.clientX?v.clientX:v.pageX,this.clientY=void 0!==v.clientY?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType="string"==typeof v.pointerType?v.pointerType:VE[v.pointerType]||"",this.state=v.state,this.i=v,v.defaultPrevented&&yd.aa.h.call(this)}}Qt(yd,bo);var VE={2:"touch",3:"pen",4:"mouse"};yd.prototype.h=function(){yd.aa.h.call(this);var v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var Of="closure_listenable_"+(1e6*Math.random()|0),rv=0;function Ay(v,k,W,_e,Mt){this.listener=v,this.proxy=null,this.src=k,this.type=W,this.capture=!!_e,this.ha=Mt,this.key=++rv,this.da=this.fa=!1}function Gl(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function xf(v){this.src=v,this.g={},this.h=0}function fg(v,k){var W=k.type;if(W in v.g){var Gt,_e=v.g[W],Mt=Array.prototype.indexOf.call(_e,k,void 0);(Gt=0<=Mt)&&Array.prototype.splice.call(_e,Mt,1),Gt&&(Gl(k),0==v.g[W].length&&(delete v.g[W],v.h--))}}function kf(v,k,W,_e){for(var Mt=0;Mt<v.length;++Mt){var Gt=v[Mt];if(!Gt.da&&Gt.listener==k&&Gt.capture==!!W&&Gt.ha==_e)return Mt}return-1}xf.prototype.add=function(v,k,W,_e,Mt){var Gt=v.toString();(v=this.g[Gt])||(v=this.g[Gt]=[],this.h++);var Pn=kf(v,k,_e,Mt);return-1<Pn?(k=v[Pn],W||(k.fa=!1)):((k=new Ay(k,this.src,Gt,!!_e,Mt)).fa=W,v.push(k)),k};var iv="closure_lm_"+(1e6*Math.random()|0),pg={};function ov(v,k,W,_e,Mt){if(_e&&_e.once)return lv(v,k,W,_e,Mt);if(Array.isArray(k)){for(var Gt=0;Gt<k.length;Gt++)ov(v,k[Gt],W,_e,Mt);return null}return W=Lf(W),v&&v[Of]?v.K(k,W,G(_e)?!!_e.capture:!!_e,Mt):sv(v,k,W,!1,_e,Mt)}function sv(v,k,W,_e,Mt,Gt){if(!k)throw Error("Invalid event type");var Pn=G(Mt)?!!Mt.capture:!!Mt,Bi=Ed(v);if(Bi||(v[iv]=Bi=new xf(v)),(W=Bi.add(k,W,_e,Pn,Gt)).proxy)return W;if(_e=function av(){const k=cv;return function v(W){return k.call(v.src,v.listener,W)}}(),W.proxy=_e,_e.src=v,_e.listener=W,v.addEventListener)hg||(Mt=Pn),void 0===Mt&&(Mt=!1),v.addEventListener(k.toString(),_e,Mt);else if(v.attachEvent)v.attachEvent(uv(k.toString()),_e);else{if(!v.addListener||!v.removeListener)throw Error("addEventListener and attachEvent are unavailable.");v.addListener(_e)}return W}function lv(v,k,W,_e,Mt){if(Array.isArray(k)){for(var Gt=0;Gt<k.length;Gt++)lv(v,k[Gt],W,_e,Mt);return null}return W=Lf(W),v&&v[Of]?v.L(k,W,G(_e)?!!_e.capture:!!_e,Mt):sv(v,k,W,!0,_e,Mt)}function Ff(v,k,W,_e,Mt){if(Array.isArray(k))for(var Gt=0;Gt<k.length;Gt++)Ff(v,k[Gt],W,_e,Mt);else _e=G(_e)?!!_e.capture:!!_e,W=Lf(W),v&&v[Of]?(v=v.i,(k=String(k).toString())in v.g&&-1<(W=kf(Gt=v.g[k],W,_e,Mt))&&(Gl(Gt[W]),Array.prototype.splice.call(Gt,W,1),0==Gt.length&&(delete v.g[k],v.h--))):v&&(v=Ed(v))&&(k=v.g[k.toString()],v=-1,k&&(v=kf(k,W,_e,Mt)),(W=-1<v?k[v]:null)&&xu(W))}function xu(v){if("number"!=typeof v&&v&&!v.da){var k=v.src;if(k&&k[Of])fg(k.i,v);else{var W=v.type,_e=v.proxy;k.removeEventListener?k.removeEventListener(W,_e,v.capture):k.detachEvent?k.detachEvent(uv(W),_e):k.addListener&&k.removeListener&&k.removeListener(_e),(W=Ed(k))?(fg(W,v),0==W.h&&(W.src=null,k[iv]=null)):Gl(v)}}}function uv(v){return v in pg?pg[v]:pg[v]="on"+v}function cv(v,k){if(v.da)v=!0;else{k=new yd(k,this);var W=v.listener,_e=v.ha||v.src;v.fa&&xu(v),v=W.call(_e,k)}return v}function Ed(v){return(v=v[iv])instanceof xf?v:null}var gg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lf(v){return"function"==typeof v?v:(v[gg]||(v[gg]=function(k){return v.handleEvent(k)}),v[gg])}function Bo(){zl.call(this),this.i=new xf(this),this.M=this,this.F=null}function zs(v,k){var W,_e=v.F;if(_e)for(W=[];_e;_e=_e.F)W.push(_e);if(v=v.M,_e=k.type||k,"string"==typeof k)k=new bo(k,v);else if(k instanceof bo)k.target=k.target||v;else{var Mt=k;At(k=new bo(_e,v),Mt)}if(Mt=!0,W)for(var Gt=W.length-1;0<=Gt;Gt--){var Pn=k.g=W[Gt];Mt=Vf(Pn,_e,!0,k)&&Mt}if(Mt=Vf(Pn=k.g=v,_e,!0,k)&&Mt,Mt=Vf(Pn,_e,!1,k)&&Mt,W)for(Gt=0;Gt<W.length;Gt++)Mt=Vf(Pn=k.g=W[Gt],_e,!1,k)&&Mt}function Vf(v,k,W,_e){if(!(k=v.i.g[String(k)]))return!0;k=k.concat();for(var Mt=!0,Gt=0;Gt<k.length;++Gt){var Pn=k[Gt];if(Pn&&!Pn.da&&Pn.capture==W){var Bi=Pn.listener,ts=Pn.ha||Pn.src;Pn.fa&&fg(v.i,Pn),Mt=!1!==Bi.call(ts,_e)&&Mt}}return Mt&&!_e.defaultPrevented}function Cy(v,k,W){if("function"==typeof v)W&&(v=Ye(v,W));else{if(!v||"function"!=typeof v.handleEvent)throw Error("Invalid listener argument");v=Ye(v.handleEvent,v)}return 2147483647<Number(k)?-1:S.setTimeout(v,k||0)}function Ty(v){v.g=Cy(()=>{v.g=null,v.i&&(v.i=!1,Ty(v))},v.l);const k=v.h;v.h=null,v.m.apply(null,k)}Qt(Bo,zl),Bo.prototype[Of]=!0,Bo.prototype.removeEventListener=function(v,k,W,_e){Ff(this,v,k,W,_e)},Bo.prototype.N=function(){if(Bo.aa.N.call(this),this.i){var k,v=this.i;for(k in v.g){for(var W=v.g[k],_e=0;_e<W.length;_e++)Gl(W[_e]);delete v.g[k],v.h--}}this.F=null},Bo.prototype.K=function(v,k,W,_e){return this.i.add(String(v),k,!1,W,_e)},Bo.prototype.L=function(v,k,W,_e){return this.i.add(String(v),k,!0,W,_e)};class UE extends zl{constructor(k,W){super(),this.m=k,this.l=W,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Ty(this)}N(){super.N(),this.g&&(S.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vh(v){zl.call(this),this.h=v,this.g={}}Qt(vh,zl);var dv=[];function wr(v){Rr(v.g,function(k,W){this.g.hasOwnProperty(W)&&xu(k)},v),v.g={}}vh.prototype.N=function(){vh.aa.N.call(this),wr(this)},vh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mg=S.JSON.stringify,Dy=S.JSON.parse,_h=class{stringify(v){return S.JSON.stringify(v,void 0)}parse(v){return S.JSON.parse(v,void 0)}};function vg(){}function by(){}vg.prototype.h=null;var Cc={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ku(){bo.call(this,"d")}function Uf(){bo.call(this,"c")}Qt(ku,bo),Qt(Uf,bo);var vl={},fv=null;function yh(){return fv=fv||new Bo}function _g(v){bo.call(this,vl.La,v)}function Id(v){const k=yh();zs(k,new _g(k))}function pv(v,k){bo.call(this,vl.STAT_EVENT,v),this.stat=k}function gs(v){const k=yh();zs(k,new pv(k,v))}function wy(v,k){bo.call(this,vl.Ma,v),this.size=k}function Bf(v,k){if("function"!=typeof v)throw Error("Fn must not be null and must be a function");return S.setTimeout(function(){v()},k)}function $f(){this.g=!0}function Eh(v,k,W,_e){v.info(function(){return"XMLHTTP TEXT ("+k+"): "+function jE(v,k){if(!v.g)return k;if(!k)return null;try{var W=JSON.parse(k);if(W)for(v=0;v<W.length;v++)if(Array.isArray(W[v])){var _e=W[v];if(!(2>_e.length)){var Mt=_e[1];if(Array.isArray(Mt)&&!(1>Mt.length)){var Gt=Mt[0];if("noop"!=Gt&&"stop"!=Gt&&"close"!=Gt)for(var Pn=1;Pn<Mt.length;Pn++)Mt[Pn]=""}}}return mg(W)}catch{return k}}(v,W)+(_e?" "+_e:"")})}vl.La="serverreachability",Qt(_g,bo),vl.STAT_EVENT="statevent",Qt(pv,bo),vl.Ma="timingevent",Qt(wy,bo),$f.prototype.xa=function(){this.g=!1},$f.prototype.info=function(){};var mv,jf={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function yg(){}function yo(v,k,W,_e){this.j=v,this.i=k,this.l=W,this.R=_e||1,this.U=new vh(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ry}function Ry(){this.i=null,this.g="",this.h=!1}Qt(yg,vg),yg.prototype.g=function(){return new XMLHttpRequest},yg.prototype.i=function(){return{}},mv=new yg;var My={},Py={};function Hf(v,k,W){v.L=1,v.v=Cg(Wl(k)),v.m=W,v.P=!0,vv(v,null)}function vv(v,k){v.F=Date.now(),Eg(v),v.A=Wl(v.v);var W=v.A,_e=v.R;Array.isArray(_e)||(_e=[String(_e)]),jy(W.i,"t",_e),v.C=0,W=v.j.J,v.h=new Ry,v.g=bv(v.j,W?k:null,!v.m),0<v.O&&(v.M=new UE(Ye(v.Y,v,v.g),v.O)),k=v.U,W=v.g,_e=v.ca;var Mt="readystatechange";Array.isArray(Mt)||(Mt&&(dv[0]=Mt.toString()),Mt=dv);for(var Gt=0;Gt<Mt.length;Gt++){var Pn=ov(W,Mt[Gt],_e||k.handleEvent,!1,k.h||k);if(!Pn)break;k.g[Pn.key]=Pn}k=v.H?Ke(v.H):{},v.m?(v.u||(v.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.A,v.u,v.m,k)):(v.u="GET",v.g.ea(v.A,v.u,null,k)),Id(),function Sy(v,k,W,_e,Mt,Gt){v.info(function(){if(v.g)if(Gt)for(var Pn="",Bi=Gt.split("&"),ts=0;ts<Bi.length;ts++){var di=Bi[ts].split("=");if(1<di.length){var $o=di[0];di=di[1];var Ms=$o.split("_");Pn=2<=Ms.length&&"type"==Ms[1]?Pn+($o+"=")+di+"&":Pn+($o+"=redacted&")}}else Pn=null;else Pn=Gt;return"XMLHTTP REQ ("+_e+") [attempt "+Mt+"]: "+k+"\n"+W+"\n"+Pn})}(v.i,v.u,v.A,v.l,v.R,v.m)}function Ny(v){return!!v.g&&"GET"==v.u&&2!=v.L&&v.j.Ca}function HE(v,k){var W=v.C,_e=k.indexOf("\n",W);return-1==_e?Py:(W=Number(k.substring(W,_e)),isNaN(W)?My:(_e+=1)+W>k.length?Py:(k=k.slice(_e,_e+W),v.C=_e+W,k))}function Eg(v){v.S=Date.now()+v.I,_v(v,v.I)}function _v(v,k){if(null!=v.B)throw Error("WatchDog timer not null");v.B=Bf(Ye(v.ba,v),k)}function yv(v){v.B&&(S.clearTimeout(v.B),v.B=null)}function zf(v){0==v.j.G||v.J||bh(v.j,v)}function Fu(v){yv(v);var k=v.M;k&&"function"==typeof k.ma&&k.ma(),v.M=null,wr(v.U),v.g&&(k=v.g,v.g=null,k.abort(),k.ma())}function Ev(v,k){try{var W=v.j;if(0!=W.G&&(W.g==v||Ga(W.h,v)))if(!v.K&&Ga(W.h,v)&&3==W.G){try{var _e=W.Da.g.parse(k)}catch{_e=null}if(Array.isArray(_e)&&3==_e.length){var Mt=_e;if(0==Mt[0]){e:if(!W.u){if(W.g){if(!(W.g.F+3e3<v.F))break e;np(W),Rg(W)}bd(W),gs(18)}}else W.za=Mt[1],0<W.za-W.T&&37500>Mt[2]&&W.F&&0==W.v&&!W.C&&(W.C=Bf(Ye(W.Za,W),6e3));if(1>=ky(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else wd(W,11)}else if((v.K||W.g==v)&&np(W),!ir(k))for(Mt=W.Da.g.parse(k),k=0;k<Mt.length;k++){let di=Mt[k];if(W.T=di[0],di=di[1],2==W.G)if("c"==di[0]){W.K=di[1],W.ia=di[2];const $o=di[3];null!=$o&&(W.la=$o,W.j.info("VER="+W.la));const Ms=di[4];null!=Ms&&(W.Aa=Ms,W.j.info("SVER="+W.Aa));const Sh=di[5];null!=Sh&&"number"==typeof Sh&&0<Sh&&(W.L=_e=1.5*Sh,W.j.info("backChannelRequestTimeoutMs_="+_e)),_e=W;const _l=v.g;if(_l){const Ng=_l.g?_l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ng){var Gt=_e.h;Gt.g||-1==Ng.indexOf("spdy")&&-1==Ng.indexOf("quic")&&-1==Ng.indexOf("h2")||(Gt.j=Gt.l,Gt.g=new Set,Gt.h&&(Gf(Gt,Gt.h),Gt.h=null))}if(_e.D){const Sv=_l.g?_l.g.getResponseHeader("X-HTTP-Session-Id"):null;Sv&&(_e.ya=Sv,fi(_e.I,_e.D,Sv))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-v.F,W.j.info("Handshake RTT: "+W.R+"ms"));var Pn=v;if((_e=W).qa=Dv(_e,_e.J?_e.ia:null,_e.W),Pn.K){Fy(_e.h,Pn);var Bi=Pn,ts=_e.L;ts&&(Bi.I=ts),Bi.B&&(yv(Bi),Eg(Bi)),_e.g=Pn}else Pg(_e);0<W.i.length&&Mg(W)}else"stop"!=di[0]&&"close"!=di[0]||wd(W,7);else 3==W.G&&("stop"==di[0]||"close"==di[0]?"stop"==di[0]?wd(W,7):Cv(W):"noop"!=di[0]&&W.l&&W.l.ta(di),W.v=0)}Id()}catch{}}yo.prototype.ca=function(v){v=v.target;const k=this.M;k&&3==Wa(v)?k.j():this.Y(v)},yo.prototype.Y=function(v){try{if(v==this.g)e:{const Ms=Wa(this.g);var k=this.g.Ba();if(this.g.Z(),!(3>Ms)&&(3!=Ms||this.g&&(this.h.h||this.g.oa()||wg(this.g)))){this.J||4!=Ms||7==k||Id(),yv(this);var W=this.g.Z();this.X=W;t:if(Ny(this)){var _e=wg(this.g);v="";var Mt=_e.length,Gt=4==Wa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Fu(this),zf(this);var Pn="";break t}this.h.i=new S.TextDecoder}for(k=0;k<Mt;k++)this.h.h=!0,v+=this.h.i.decode(_e[k],{stream:!(Gt&&k==Mt-1)});_e.length=0,this.h.g+=v,this.C=0,Pn=this.h.g}else Pn=this.g.oa();if(this.o=200==W,function BE(v,k,W,_e,Mt,Gt,Pn){v.info(function(){return"XMLHTTP RESP ("+_e+") [ attempt "+Mt+"]: "+k+"\n"+W+"\n"+Gt+" "+Pn})}(this.i,this.u,this.A,this.l,this.R,Ms,W),this.o){if(this.T&&!this.K){t:{if(this.g){var Bi,ts=this.g;if((Bi=ts.g?ts.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ir(Bi)){var di=Bi;break t}}di=null}if(!(W=di)){this.o=!1,this.s=3,gs(12),Fu(this),zf(this);break e}Eh(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ev(this,W)}if(this.P){let _l;for(W=!0;!this.J&&this.C<Pn.length;){if(_l=HE(this,Pn),_l==Py){4==Ms&&(this.s=4,gs(14),W=!1),Eh(this.i,this.l,null,"[Incomplete Response]");break}if(_l==My){this.s=4,gs(15),Eh(this.i,this.l,Pn,"[Invalid Chunk]"),W=!1;break}Eh(this.i,this.l,_l,null),Ev(this,_l)}if(Ny(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=Ms||0!=Pn.length||this.h.h||(this.s=1,gs(16),W=!1),this.o=this.o&&W,W){if(0<Pn.length&&!this.W){this.W=!0;var $o=this.j;$o.g==this&&$o.ba&&!$o.M&&($o.j.info("Great, no buffering proxy detected. Bytes received: "+Pn.length),ep($o),$o.M=!0,gs(11))}}else Eh(this.i,this.l,Pn,"[Invalid Chunked Response]"),Fu(this),zf(this)}else Eh(this.i,this.l,Pn,null),Ev(this,Pn);4==Ms&&Fu(this),this.o&&!this.J&&(4==Ms?bh(this.j,this):(this.o=!1,Eg(this)))}else(function QE(v){const k={};v=(v.g&&2<=Wa(v)&&v.g.getAllResponseHeaders()||"").split("\r\n");for(let _e=0;_e<v.length;_e++){if(ir(v[_e]))continue;var W=Dt(v[_e]);const Mt=W[0];if("string"!=typeof(W=W[1]))continue;W=W.trim();const Gt=k[Mt]||[];k[Mt]=Gt,Gt.push(W)}!function vt(v,k){for(const W in v)k.call(void 0,v[W],W,v)}(k,function(_e){return _e.join(", ")})})(this.g),400==W&&0<Pn.indexOf("Unknown SID")?(this.s=3,gs(12)):(this.s=0,gs(13)),Fu(this),zf(this)}}}catch{}},yo.prototype.cancel=function(){this.J=!0,Fu(this)},yo.prototype.ba=function(){this.B=null;const v=Date.now();0<=v-this.S?(function $E(v,k){v.info(function(){return"TIMEOUT: "+k})}(this.i,this.A),2!=this.L&&(Id(),gs(17)),Fu(this),this.s=2,zf(this)):_v(this,this.S-v)};var zE=class{constructor(v,k){this.g=v,this.map=k}};function Oy(v){this.l=v||10,v=S.PerformanceNavigationTiming?0<(v=S.performance.getEntriesByType("navigation")).length&&("hq"==v[0].nextHopProtocol||"h2"==v[0].nextHopProtocol):!!(S.chrome&&S.chrome.loadTimes&&S.chrome.loadTimes()&&S.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xy(v){return!!v.h||!!v.g&&v.g.size>=v.j}function ky(v){return v.h?1:v.g?v.g.size:0}function Ga(v,k){return v.h?v.h==k:!!v.g&&v.g.has(k)}function Gf(v,k){v.g?v.g.add(k):v.h=k}function Fy(v,k){v.h&&v.h==k?v.h=null:v.g&&v.g.has(k)&&v.g.delete(k)}function Ly(v){if(null!=v.h)return v.i.concat(v.h.D);if(null!=v.g&&0!==v.g.size){let k=v.i;for(const W of v.g.values())k=k.concat(W.D);return k}return fn(v.i)}function Wf(v,k){if(v.forEach&&"function"==typeof v.forEach)v.forEach(k,void 0);else if(O(v)||"string"==typeof v)Array.prototype.forEach.call(v,k,void 0);else for(var W=function Uy(v){if(v.na&&"function"==typeof v.na)return v.na();if(!v.V||"function"!=typeof v.V){if(typeof Map<"u"&&v instanceof Map)return Array.from(v.keys());if(!(typeof Set<"u"&&v instanceof Set)){if(O(v)||"string"==typeof v){var k=[];v=v.length;for(var W=0;W<v;W++)k.push(W);return k}k=[],W=0;for(const _e in v)k[W++]=_e;return k}}}(v),_e=function Vy(v){if(v.V&&"function"==typeof v.V)return v.V();if(typeof Map<"u"&&v instanceof Map||typeof Set<"u"&&v instanceof Set)return Array.from(v.values());if("string"==typeof v)return v.split("");if(O(v)){for(var k=[],W=v.length,_e=0;_e<W;_e++)k.push(v[_e]);return k}for(_e in k=[],W=0,v)k[W++]=v[_e];return k}(v),Mt=_e.length,Gt=0;Gt<Mt;Gt++)k.call(void 0,_e[Gt],W&&W[Gt],v)}Oy.prototype.cancel=function(){if(this.i=Ly(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const v of this.g.values())v.cancel();this.g.clear()}};var Ig=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tc(v){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,v instanceof Tc){this.h=v.h,Kf(this,v.j),this.o=v.o,this.g=v.g,Ad(this,v.s),this.l=v.l;var k=v.i,W=new Lu;W.i=k.i,k.g&&(W.g=new Map(k.g),W.h=k.h),Ag(this,W),this.m=v.m}else v&&(k=String(v).match(Ig))?(this.h=!1,Kf(this,k[1]||"",!0),this.o=qf(k[2]||""),this.g=qf(k[3]||"",!0),Ad(this,k[4]),this.l=qf(k[5]||"",!0),Ag(this,k[6]||"",!0),this.m=qf(k[7]||"")):(this.h=!1,this.i=new Lu(null,this.h))}function Wl(v){return new Tc(v)}function Kf(v,k,W){v.j=W?qf(k,!0):k,v.j&&(v.j=v.j.replace(/:$/,""))}function Ad(v,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);v.s=k}else v.s=null}function Ag(v,k,W){k instanceof Lu?(v.i=k,function WE(v,k){k&&!v.j&&(Vu(v),v.i=null,v.g.forEach(function(W,_e){var Mt=_e.toLowerCase();_e!=Mt&&(Av(this,_e),jy(this,Mt,W))},v)),v.j=k}(v.i,v.h)):(W||(k=Cd(k,Ih)),v.i=new Lu(k,v.h))}function fi(v,k,W){v.i.set(k,W)}function Cg(v){return fi(v,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),v}function qf(v,k){return v?k?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function Cd(v,k,W){return"string"==typeof v?(v=encodeURI(v).replace(k,GE),W&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function GE(v){return"%"+((v=v.charCodeAt(0))>>4&15).toString(16)+(15&v).toString(16)}Tc.prototype.toString=function(){var v=[],k=this.j;k&&v.push(Cd(k,Td,!0),":");var W=this.g;return(W||"file"==k)&&(v.push("//"),(k=this.o)&&v.push(Cd(k,Td,!0),"@"),v.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(W=this.s)&&v.push(":",String(W))),(W=this.l)&&(this.g&&"/"!=W.charAt(0)&&v.push("/"),v.push(Cd(W,"/"==W.charAt(0)?Dd:By,!0))),(W=this.i.toString())&&v.push("?",W),(W=this.m)&&v.push("#",Cd(W,Iv)),v.join("")};var Td=/[#\/\?@]/g,By=/[#\?:]/g,Dd=/[#\?]/g,Ih=/[#\?@]/g,Iv=/#/g;function Lu(v,k){this.h=this.g=null,this.i=v||null,this.j=!!k}function Vu(v){v.g||(v.g=new Map,v.h=0,v.i&&function eC(v,k){if(v){v=v.split("&");for(var W=0;W<v.length;W++){var _e=v[W].indexOf("="),Mt=null;if(0<=_e){var Gt=v[W].substring(0,_e);Mt=v[W].substring(_e+1)}else Gt=v[W];k(Gt,Mt?decodeURIComponent(Mt.replace(/\+/g," ")):"")}}}(v.i,function(k,W){v.add(decodeURIComponent(k.replace(/\+/g," ")),W)}))}function Av(v,k){Vu(v),k=Ah(v,k),v.g.has(k)&&(v.i=null,v.h-=v.g.get(k).length,v.g.delete(k))}function $y(v,k){return Vu(v),k=Ah(v,k),v.g.has(k)}function jy(v,k,W){Av(v,k),0<W.length&&(v.i=null,v.g.set(Ah(v,k),fn(W)),v.h+=W.length)}function Ah(v,k){return k=String(k),v.j&&(k=k.toLowerCase()),k}function Uu(v,k,W,_e,Mt){try{Mt&&(Mt.onload=null,Mt.onerror=null,Mt.onabort=null,Mt.ontimeout=null),_e(W)}catch{}}function XE(){this.g=new _h}function Tg(v,k,W){const _e=W||"";try{Wf(v,function(Mt,Gt){let Pn=Mt;G(Mt)&&(Pn=mg(Mt)),k.push(_e+Gt+"="+encodeURIComponent(Pn))})}catch(Mt){throw k.push(_e+"type="+encodeURIComponent("_badmap")),Mt}}function Xf(v){this.l=v.Ub||null,this.j=v.eb||!1}function Qf(v,k){Bo.call(this),this.D=v,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Hy(v){v.j.read().then(v.Pa.bind(v)).catch(v.ga.bind(v))}function Ch(v){v.readyState=4,v.l=null,v.j=null,v.v=null,Yf(v)}function Yf(v){v.onreadystatechange&&v.onreadystatechange.call(v)}function zy(v){let k="";return Rr(v,function(W,_e){k+=_e,k+=":",k+=W,k+="\r\n"}),k}function Dg(v,k,W){e:{for(_e in W){var _e=!1;break e}_e=!0}_e||(W=zy(W),"string"==typeof v?null!=W&&encodeURIComponent(String(W)):fi(v,k,W))}function io(v){Bo.call(this),this.headers=new Map,this.o=v||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=Lu.prototype).add=function(v,k){Vu(this),this.i=null,v=Ah(this,v);var W=this.g.get(v);return W||this.g.set(v,W=[]),W.push(k),this.h+=1,this},l.forEach=function(v,k){Vu(this),this.g.forEach(function(W,_e){W.forEach(function(Mt){v.call(k,Mt,_e,this)},this)},this)},l.na=function(){Vu(this);const v=Array.from(this.g.values()),k=Array.from(this.g.keys()),W=[];for(let _e=0;_e<k.length;_e++){const Mt=v[_e];for(let Gt=0;Gt<Mt.length;Gt++)W.push(k[_e])}return W},l.V=function(v){Vu(this);let k=[];if("string"==typeof v)$y(this,v)&&(k=k.concat(this.g.get(Ah(this,v))));else{v=Array.from(this.g.values());for(let W=0;W<v.length;W++)k=k.concat(v[W])}return k},l.set=function(v,k){return Vu(this),this.i=null,$y(this,v=Ah(this,v))&&(this.h-=this.g.get(v).length),this.g.set(v,[k]),this.h+=1,this},l.get=function(v,k){return v&&0<(v=this.V(v)).length?String(v[0]):k},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],k=Array.from(this.g.keys());for(var W=0;W<k.length;W++){var _e=k[W];const Gt=encodeURIComponent(String(_e)),Pn=this.V(_e);for(_e=0;_e<Pn.length;_e++){var Mt=Gt;""!==Pn[_e]&&(Mt+="="+encodeURIComponent(String(Pn[_e]))),v.push(Mt)}}return this.i=v.join("&")},Qt(Xf,vg),Xf.prototype.g=function(){return new Qf(this.l,this.j)},Xf.prototype.i=function(v){return function(){return v}}({}),Qt(Qf,Bo),(l=Qf.prototype).open=function(v,k){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=v,this.A=k,this.readyState=1,Yf(this)},l.send=function(v){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};v&&(k.body=v),(this.D||S).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ch(this)),this.readyState=0},l.Sa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,Yf(this)),this.g&&(this.readyState=3,Yf(this),this.g)))if("arraybuffer"===this.responseType)v.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof S.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hy(this)}else v.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var k=v.value?v.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!v.done}))&&(this.response=this.responseText+=k)}v.done?Ch(this):Yf(this),3==this.readyState&&Hy(this)}},l.Ra=function(v){this.g&&(this.response=this.responseText=v,Ch(this))},l.Qa=function(v){this.g&&(this.response=v,Ch(this))},l.ga=function(){this.g&&Ch(this)},l.setRequestHeader=function(v,k){this.u.append(v,k)},l.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],k=this.h.entries();for(var W=k.next();!W.done;)v.push((W=W.value)[0]+": "+W[1]),W=k.next();return v.join("\r\n")},Object.defineProperty(Qf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(v){this.m=v?"include":"same-origin"}}),Qt(io,Bo);var Gy=/^https?$/i,Zf=["POST","PUT"];function Th(v,k){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=k,v.m=5,Dh(v),bg(v)}function Dh(v){v.A||(v.A=!0,zs(v,"complete"),zs(v,"error"))}function Wy(v){if(v.h&&typeof _<"u"&&(!v.v[1]||4!=Wa(v)||2!=v.Z()))if(v.u&&4==Wa(v))Cy(v.Ea,0,v);else if(zs(v,"readystatechange"),4==Wa(v)){v.h=!1;try{const Pn=v.Z();e:switch(Pn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var W;if(!(W=k)){var _e;if(_e=0===Pn){var Mt=String(v.D).match(Ig)[1]||null;!Mt&&S.self&&S.self.location&&(Mt=S.self.location.protocol.slice(0,-1)),_e=!Gy.test(Mt?Mt.toLowerCase():"")}W=_e}if(W)zs(v,"complete"),zs(v,"success");else{v.m=6;try{var Gt=2<Wa(v)?v.g.statusText:""}catch{Gt=""}v.l=Gt+" ["+v.Z()+"]",Dh(v)}}finally{bg(v)}}}function bg(v,k){if(v.g){Ky(v);const W=v.g,_e=v.v[0]?()=>{}:null;v.g=null,v.v=null,k||zs(v,"ready");try{W.onreadystatechange=_e}catch{}}}function Ky(v){v.I&&(S.clearTimeout(v.I),v.I=null)}function Wa(v){return v.g?v.g.readyState:0}function wg(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.H){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Sg(v,k,W){return W&&W.internalChannelParams&&W.internalChannelParams[v]||k}function YE(v){this.Aa=0,this.i=[],this.j=new $f,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Sg("failFast",!1,v),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Sg("baseRetryDelayMs",5e3,v),this.cb=Sg("retryDelaySeedMs",1e4,v),this.Wa=Sg("forwardChannelMaxRetries",2,v),this.wa=Sg("forwardChannelRequestTimeoutMs",2e4,v),this.pa=v&&v.xmlHttpFactory||void 0,this.Xa=v&&v.Tb||void 0,this.Ca=v&&v.useFetchStreams||!1,this.L=void 0,this.J=v&&v.supportsCrossDomainXhr||!1,this.K="",this.h=new Oy(v&&v.concurrentRequestLimit),this.Da=new XE,this.P=v&&v.fastHandshake||!1,this.O=v&&v.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=v&&v.Rb||!1,v&&v.xa&&this.j.xa(),v&&v.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&v&&v.detectBufferingProxy||!1,this.ja=void 0,v&&v.longPollingTimeout&&0<v.longPollingTimeout&&(this.ja=v.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Cv(v){if(ZE(v),3==v.G){var k=v.U++,W=Wl(v.I);if(fi(W,"SID",v.K),fi(W,"RID",k),fi(W,"TYPE","terminate"),Jf(v,W),(k=new yo(v,v.j,k)).L=2,k.v=Cg(Wl(W)),W=!1,S.navigator&&S.navigator.sendBeacon)try{W=S.navigator.sendBeacon(k.v.toString(),"")}catch{}!W&&S.Image&&((new Image).src=k.v,W=!0),W||(k.g=bv(k.j,null),k.g.ea(k.v)),k.F=Date.now(),Eg(k)}wh(v)}function Rg(v){v.g&&(ep(v),v.g.cancel(),v.g=null)}function ZE(v){Rg(v),v.u&&(S.clearTimeout(v.u),v.u=null),np(v),v.h.cancel(),v.s&&("number"==typeof v.s&&S.clearTimeout(v.s),v.s=null)}function Mg(v){if(!xy(v.h)&&!v.s){v.s=!0;var k=v.Ga;Nf||Ey(),mh||(Nf(),mh=!0),nv.add(k,v),v.B=0}}function qy(v,k){var W;W=k?k.l:v.U++;const _e=Wl(v.I);fi(_e,"SID",v.K),fi(_e,"RID",W),fi(_e,"AID",v.T),Jf(v,_e),v.m&&v.o&&Dg(_e,v.m,v.o),W=new yo(v,v.j,W,v.B+1),null===v.m&&(W.H=v.o),k&&(v.i=k.D.concat(v.i)),k=Xy(v,W,1e3),W.I=Math.round(.5*v.wa)+Math.round(.5*v.wa*Math.random()),Gf(v.h,W),Hf(W,_e,k)}function Jf(v,k){v.H&&Rr(v.H,function(W,_e){fi(k,_e,W)}),v.l&&Wf({},function(W,_e){fi(k,_e,W)})}function Xy(v,k,W){W=Math.min(v.i.length,W);var _e=v.l?Ye(v.l.Na,v.l,v):null;e:{var Mt=v.i;let Gt=-1;for(;;){const Pn=["count="+W];-1==Gt?0<W?(Gt=Mt[0].g,Pn.push("ofs="+Gt)):Gt=0:Pn.push("ofs="+Gt);let Bi=!0;for(let ts=0;ts<W;ts++){let di=Mt[ts].g;const $o=Mt[ts].map;if(di-=Gt,0>di)Gt=Math.max(0,Mt[ts].g-100),Bi=!1;else try{Tg($o,Pn,"req"+di+"_")}catch{_e&&_e($o)}}if(Bi){_e=Pn.join("&");break e}}}return v=v.i.splice(0,W),k.D=v,_e}function Pg(v){if(!v.g&&!v.u){v.Y=1;var k=v.Fa;Nf||Ey(),mh||(Nf(),mh=!0),nv.add(k,v),v.v=0}}function bd(v){return!(v.g||v.u||3<=v.v||(v.Y++,v.u=Bf(Ye(v.Fa,v),Tv(v,v.v)),v.v++,0))}function ep(v){null!=v.A&&(S.clearTimeout(v.A),v.A=null)}function tp(v){v.g=new yo(v,v.j,"rpc",v.Y),null===v.m&&(v.g.H=v.o),v.g.O=0;var k=Wl(v.qa);fi(k,"RID","rpc"),fi(k,"SID",v.K),fi(k,"AID",v.T),fi(k,"CI",v.F?"0":"1"),!v.F&&v.ja&&fi(k,"TO",v.ja),fi(k,"TYPE","xmlhttp"),Jf(v,k),v.m&&v.o&&Dg(k,v.m,v.o),v.L&&(v.g.I=v.L);var W=v.g;v=v.ia,W.L=1,W.v=Cg(Wl(k)),W.m=null,W.P=!0,vv(W,v)}function np(v){null!=v.C&&(S.clearTimeout(v.C),v.C=null)}function bh(v,k){var W=null;if(v.g==k){np(v),ep(v),v.g=null;var _e=2}else{if(!Ga(v.h,k))return;W=k.D,Fy(v.h,k),_e=1}if(0!=v.G)if(k.o)if(1==_e){W=k.m?k.m.length:0,k=Date.now()-k.F;var Mt=v.B;zs(_e=yh(),new wy(_e,W)),Mg(v)}else Pg(v);else if(3==(Mt=k.s)||0==Mt&&0<k.X||!(1==_e&&function tC(v,k){return!(ky(v.h)>=v.h.j-(v.s?1:0)||(v.s?(v.i=k.D.concat(v.i),0):1==v.G||2==v.G||v.B>=(v.Va?0:v.Wa)||(v.s=Bf(Ye(v.Ga,v,k),Tv(v,v.B)),v.B++,0)))}(v,k)||2==_e&&bd(v)))switch(W&&0<W.length&&(k=v.h,k.i=k.i.concat(W)),Mt){case 1:wd(v,5);break;case 4:wd(v,10);break;case 3:wd(v,6);break;default:wd(v,2)}}function Tv(v,k){let W=v.Ta+Math.floor(Math.random()*v.cb);return v.isActive()||(W*=2),W*k}function wd(v,k){if(v.j.info("Error code "+k),2==k){var W=Ye(v.fb,v),_e=v.Xa;const Mt=!_e;_e=new Tc(_e||"//www.google.com/images/cleardot.gif"),S.location&&"http"==S.location.protocol||Kf(_e,"https"),Cg(_e),Mt?function KE(v,k){const W=new $f;if(S.Image){const _e=new Image;_e.onload=Ct(Uu,W,"TestLoadImage: loaded",!0,k,_e),_e.onerror=Ct(Uu,W,"TestLoadImage: error",!1,k,_e),_e.onabort=Ct(Uu,W,"TestLoadImage: abort",!1,k,_e),_e.ontimeout=Ct(Uu,W,"TestLoadImage: timeout",!1,k,_e),S.setTimeout(function(){_e.ontimeout&&_e.ontimeout()},1e4),_e.src=v}else k(!1)}(_e.toString(),W):function qE(v,k){new $f;const _e=new AbortController,Mt=setTimeout(()=>{_e.abort(),Uu(0,0,!1,k)},1e4);fetch(v,{signal:_e.signal}).then(Gt=>{clearTimeout(Mt),Uu(0,0,!!Gt.ok,k)}).catch(()=>{clearTimeout(Mt),Uu(0,0,!1,k)})}(_e.toString(),W)}else gs(2);v.G=0,v.l&&v.l.sa(k),wh(v),ZE(v)}function wh(v){if(v.G=0,v.ka=[],v.l){const k=Ly(v.h);(0!=k.length||0!=v.i.length)&&(un(v.ka,k),un(v.ka,v.i),v.h.i.length=0,fn(v.i),v.i.length=0),v.l.ra()}}function Dv(v,k,W){var _e=W instanceof Tc?Wl(W):new Tc(W);if(""!=_e.g)k&&(_e.g=k+"."+_e.g),Ad(_e,_e.s);else{var Mt=S.location;_e=Mt.protocol,k=k?k+"."+Mt.hostname:Mt.hostname,Mt=+Mt.port;var Gt=new Tc(null);_e&&Kf(Gt,_e),k&&(Gt.g=k),Mt&&Ad(Gt,Mt),W&&(Gt.l=W),_e=Gt}return k=v.ya,(W=v.D)&&k&&fi(_e,W,k),fi(_e,"VER",v.la),Jf(v,_e),_e}function bv(v,k,W){if(k&&!v.J)throw Error("Can't create secondary domain capable XhrIo object.");return(k=new io(v.Ca&&!v.pa?new Xf({eb:W}):v.pa)).Ha(v.J),k}function wv(){}function rp(){}function ba(v,k){Bo.call(this),this.g=new YE(k),this.l=v,this.h=k&&k.messageUrlParams||null,v=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(v?v["X-WebChannel-Content-Type"]=k.messageContentType:v={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(v?v["X-WebChannel-Client-Profile"]=k.va:v={"X-WebChannel-Client-Profile":k.va}),this.g.S=v,(v=k&&k.Sb)&&!ir(v)&&(this.g.m=v),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!ir(k)&&(this.g.D=k,null!==(v=this.h)&&k in v&&k in(v=this.h)&&delete v[k]),this.j=new Kl(this)}function Qy(v){ku.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var k=v.__sm__;if(k){e:{for(const W in k){v=W;break e}v=void 0}(this.i=v)&&(v=this.i,k=null!==k&&v in k?k[v]:void 0),this.data=k}else this.data=v}function Yy(){Uf.call(this),this.status=1}function Kl(v){this.g=v}(l=io.prototype).Ha=function(v){this.J=v},l.ea=function(v,k,W,_e){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);k=k?k.toUpperCase():"GET",this.D=v,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mv.g(),this.v=function hv(v){return v.h||(v.h=v.i())}(this.o?this.o:mv),this.g.onreadystatechange=Ye(this.Ea,this);try{this.B=!0,this.g.open(k,String(v),!0),this.B=!1}catch(Gt){return void Th(this,Gt)}if(v=W||"",W=new Map(this.headers),_e)if(Object.getPrototypeOf(_e)===Object.prototype)for(var Mt in _e)W.set(Mt,_e[Mt]);else{if("function"!=typeof _e.keys||"function"!=typeof _e.get)throw Error("Unknown input type for opt_headers: "+String(_e));for(const Gt of _e.keys())W.set(Gt,_e.get(Gt))}_e=Array.from(W.keys()).find(Gt=>"content-type"==Gt.toLowerCase()),Mt=S.FormData&&v instanceof S.FormData,!(0<=Array.prototype.indexOf.call(Zf,k,void 0))||_e||Mt||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Gt,Pn]of W)this.g.setRequestHeader(Gt,Pn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ky(this),this.u=!0,this.g.send(v),this.u=!1}catch(Gt){Th(this,Gt)}},l.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=v||7,zs(this,"complete"),zs(this,"abort"),bg(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bg(this,!0)),io.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?Wy(this):this.bb())},l.bb=function(){Wy(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<Wa(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(v){if(this.g){var k=this.g.responseText;return v&&0==k.indexOf(v)&&(k=k.substring(v.length)),Dy(k)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=YE.prototype).la=8,l.G=1,l.connect=function(v,k,W,_e){gs(0),this.W=v,this.H=k||{},W&&void 0!==_e&&(this.H.OSID=W,this.H.OAID=_e),this.F=this.X,this.I=Dv(this,null,this.W),Mg(this)},l.Ga=function(v){if(this.s)if(this.s=null,1==this.G){if(!v){this.U=Math.floor(1e5*Math.random()),v=this.U++;const Mt=new yo(this,this.j,v);let Gt=this.o;if(this.S&&(Gt?(Gt=Ke(Gt),At(Gt,this.S)):Gt=this.S),null!==this.m||this.O||(Mt.H=Gt,Gt=null),this.P)e:{for(var k=0,W=0;W<this.i.length;W++){var _e=this.i[W];if(void 0===(_e="__data__"in _e.map&&"string"==typeof(_e=_e.map.__data__)?_e.length:void 0))break;if(4096<(k+=_e)){k=W;break e}if(4096===k||W===this.i.length-1){k=W+1;break e}}k=1e3}else k=1e3;k=Xy(this,Mt,k),fi(W=Wl(this.I),"RID",v),fi(W,"CVER",22),this.D&&fi(W,"X-HTTP-Session-Id",this.D),Jf(this,W),Gt&&(this.O?k="headers="+encodeURIComponent(String(zy(Gt)))+"&"+k:this.m&&Dg(W,this.m,Gt)),Gf(this.h,Mt),this.Ua&&fi(W,"TYPE","init"),this.P?(fi(W,"$req",k),fi(W,"SID","null"),Mt.T=!0,Hf(Mt,W,null)):Hf(Mt,W,k),this.G=2}}else 3==this.G&&(v?qy(this,v):0==this.i.length||xy(this.h)||qy(this))},l.Fa=function(){if(this.u=null,tp(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var v=2*this.R;this.j.info("BP detection timer enabled: "+v),this.A=Bf(Ye(this.ab,this),v)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gs(10),Rg(this),tp(this))},l.Za=function(){null!=this.C&&(this.C=null,Rg(this),bd(this),gs(19))},l.fb=function(v){v?(this.j.info("Successfully pinged google.com"),gs(2)):(this.j.info("Failed to ping google.com"),gs(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=wv.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},rp.prototype.g=function(v,k){return new ba(v,k)},Qt(ba,Bo),ba.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ba.prototype.close=function(){Cv(this.g)},ba.prototype.o=function(v){var k=this.g;if("string"==typeof v){var W={};W.__data__=v,v=W}else this.u&&((W={}).__data__=mg(v),v=W);k.i.push(new zE(k.Ya++,v)),3==k.G&&Mg(k)},ba.prototype.N=function(){this.g.l=null,delete this.j,Cv(this.g),delete this.g,ba.aa.N.call(this)},Qt(Qy,ku),Qt(Yy,Uf),Qt(Kl,wv),Kl.prototype.ua=function(){zs(this.g,"a")},Kl.prototype.ta=function(v){zs(this.g,new Qy(v))},Kl.prototype.sa=function(v){zs(this.g,new Yy)},Kl.prototype.ra=function(){zs(this.g,"b")},rp.prototype.createWebChannel=rp.prototype.g,ba.prototype.send=ba.prototype.o,ba.prototype.open=ba.prototype.m,ba.prototype.close=ba.prototype.close,ft=an.createWebChannelTransport=function(){return new rp},Ne=an.getStatEventTarget=function(){return yh()},re=an.Event=vl,Q=an.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jf.NO_ERROR=0,jf.TIMEOUT=8,jf.HTTP_ERROR=6,X=an.ErrorCode=jf,gv.COMPLETE="complete",be=an.EventType=gv,by.EventType=Cc,Cc.OPEN="a",Cc.CLOSE="b",Cc.ERROR="c",Cc.MESSAGE="d",Bo.prototype.listen=Bo.prototype.K,Ot=an.WebChannel=by,bn=an.FetchXmlHttpFactory=Xf,io.prototype.listenOnce=io.prototype.L,io.prototype.getLastError=io.prototype.Ka,io.prototype.getLastErrorCode=io.prototype.Ba,io.prototype.getStatus=io.prototype.Z,io.prototype.getResponseJson=io.prototype.Oa,io.prototype.getResponseText=io.prototype.oa,io.prototype.send=io.prototype.ea,io.prototype.setWithCredentials=io.prototype.Ha,en=an.XhrIo=io}).apply(typeof zt<"u"?zt:typeof self<"u"?self:typeof window<"u"?window:{});const nt="@firebase/firestore";class ze{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}ze.UNAUTHENTICATED=new ze(null),ze.GOOGLE_CREDENTIALS=new ze("google-credentials-uid"),ze.FIRST_PARTY=new ze("first-party-uid"),ze.MOCK_USER=new ze("mock-user");let Pt="10.13.2";const yt=new Je.Vy("@firebase/firestore");function Et(){return yt.logLevel}function mt(l,...n){if(yt.logLevel<=Je.$b.DEBUG){const i=n.map(Mn);yt.debug(`Firestore (${Pt}): ${l}`,...i)}}function mn(l,...n){if(yt.logLevel<=Je.$b.ERROR){const i=n.map(Mn);yt.error(`Firestore (${Pt}): ${l}`,...i)}}function gn(l,...n){if(yt.logLevel<=Je.$b.WARN){const i=n.map(Mn);yt.warn(`Firestore (${Pt}): ${l}`,...i)}}function Mn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function jt(l="Unexpected state"){const n=`FIRESTORE (${Pt}) INTERNAL ASSERTION FAILED: `+l;throw mn(n),new Error(n)}function Yt(l,n){l||jt()}function it(l,n){return l}const Te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends We.g{constructor(n,i){super(n,i),this.code=n,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class tn{constructor(){this.promise=new Promise((n,i)=>{this.resolve=n,this.reject=i})}}class wn{constructor(n,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class er{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,i){n.enqueueRetryable(()=>i(ze.UNAUTHENTICATED))}shutdown(){}}class Bn{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,i){this.changeListener=i,n.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Sn{constructor(n){this.t=n,this.currentUser=ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,i){var s=this;let u=this.i;const p=G=>this.i!==u?(u=this.i,i(G)):Promise.resolve();let _=new tn;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new tn,n.enqueueRetryable(()=>p(this.currentUser))};const S=()=>{const G=_;n.enqueueRetryable((0,ve.A)(function*(){yield G.promise,yield p(s.currentUser)}))},O=G=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=G,this.auth.addAuthTokenListener(this.o),S()};this.t.onInit(G=>O(G)),setTimeout(()=>{if(!this.auth){const G=this.t.getImmediate({optional:!0});G?O(G):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new tn)}},0),S()}getToken(){const n=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==n?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Yt("string"==typeof s.accessToken),new wn(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Yt(null===n||"string"==typeof n),new ze(n)}}class kt{constructor(n,i,s){this.l=n,this.h=i,this.P=s,this.type="FirstParty",this.user=ze.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const n=this.T();return n&&this.I.set("Authorization",n),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class sr{constructor(n,i,s){this.l=n,this.h=i,this.P=s}getToken(){return Promise.resolve(new kt(this.l,this.h,this.P))}start(n,i){n.enqueueRetryable(()=>i(ze.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tr{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cr{constructor(n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(n,i){const s=p=>{null!=p.error&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.R;return this.R=p.token,mt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?i(p.token):Promise.resolve()};this.o=p=>{n.enqueueRetryable(()=>s(p))};const u=p=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.A.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.A.getImmediate({optional:!0});p?u(p):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(i=>i?(Yt("string"==typeof i.token),this.R=i.token,new tr(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Br(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class mi{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Br(40);for(let p=0;p<u.length;++p)s.length<20&&u[p]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[p]%62))}return s}}function En(l,n){return l<n?-1:l>n?1:0}function vi(l,n,i){return l.length===n.length&&l.every((s,u)=>i(s,n[u]))}function Kn(l){return l+"\0"}class Nn{constructor(n,i){if(this.seconds=n,this.nanoseconds=i,i<0)throw new Fe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Fe(Te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(n<-62135596800)throw new Fe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new Fe(Te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Nn.fromMillis(Date.now())}static fromDate(n){return Nn.fromMillis(n.getTime())}static fromMillis(n){const i=Math.floor(n/1e3),s=Math.floor(1e6*(n-1e3*i));return new Nn(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?En(this.nanoseconds,n.nanoseconds):En(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rn{constructor(n){this.timestamp=n}static fromTimestamp(n){return new Rn(n)}static min(){return new Rn(new Nn(0,0))}static max(){return new Rn(new Nn(253402300799,999999999))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mr{constructor(n,i,s){void 0===i?i=0:i>n.length&&jt(),void 0===s?s=n.length-i:s>n.length-i&&jt(),this.segments=n,this.offset=i,this.len=s}get length(){return this.len}isEqual(n){return 0===Mr.comparator(this,n)}child(n){const i=this.segments.slice(this.offset,this.limit());return n instanceof Mr?n.forEach(s=>{i.push(s)}):i.push(n),this.construct(i)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==n.get(i))return!1;return!0}forEach(n){for(let i=this.offset,s=this.limit();i<s;i++)n(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,i){const s=Math.min(n.length,i.length);for(let u=0;u<s;u++){const p=n.get(u),_=i.get(u);if(p<_)return-1;if(p>_)return 1}return n.length<i.length?-1:n.length>i.length?1:0}}class Hn extends Mr{construct(n,i,s){return new Hn(n,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const i=[];for(const s of n){if(s.indexOf("//")>=0)throw new Fe(Te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Hn(i)}static emptyPath(){return new Hn([])}}const Si=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends Mr{construct(n,i,s){return new nr(n,i,s)}static isValidIdentifier(n){return Si.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nr(["__name__"])}static fromServerFormat(n){const i=[];let s="",u=0;const p=()=>{if(0===s.length)throw new Fe(Te.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let _=!1;for(;u<n.length;){const S=n[u];if("\\"===S){if(u+1===n.length)throw new Fe(Te.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const O=n[u+1];if("\\"!==O&&"."!==O&&"`"!==O)throw new Fe(Te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);s+=O,u+=2}else"`"===S?(_=!_,u++):"."!==S||_?(s+=S,u++):(p(),u++)}if(p(),_)throw new Fe(Te.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new nr(i)}static emptyPath(){return new nr([])}}class ln{constructor(n){this.path=n}static fromPath(n){return new ln(Hn.fromString(n))}static fromName(n){return new ln(Hn.fromString(n).popFirst(5))}static empty(){return new ln(Hn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===Hn.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,i){return Hn.comparator(n.path,i.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new ln(new Hn(n.slice()))}}class si{constructor(n,i,s,u){this.indexId=n,this.collectionGroup=i,this.fields=s,this.indexState=u}}function St(l){return l.fields.find(n=>2===n.kind)}function at(l){return l.fields.filter(n=>2!==n.kind)}si.UNKNOWN_ID=-1;class Qe{constructor(n,i){this.fieldPath=n,this.kind=i}}class me{constructor(n,i){this.sequenceNumber=n,this.offset=i}static empty(){return new me(0,bt.min())}}function Ee(l,n){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=Rn.fromTimestamp(1e9===s?new Nn(i+1,0):new Nn(i,s));return new bt(u,ln.empty(),n)}function Be(l){return new bt(l.readTime,l.key,-1)}class bt{constructor(n,i,s){this.readTime=n,this.documentKey=i,this.largestBatchId=s}static min(){return new bt(Rn.min(),ln.empty(),-1)}static max(){return new bt(Rn.max(),ln.empty(),-1)}}function ht(l,n){let i=l.readTime.compareTo(n.readTime);return 0!==i?i:(i=ln.comparator(l.documentKey,n.documentKey),0!==i?i:En(l.largestBatchId,n.largestBatchId))}const vn="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class In{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}function lr(l){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,ve.A)(function*(l){if(l.code!==Te.FAILED_PRECONDITION||l.message!==vn)throw l;mt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ot{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(n){return this.next(void 0,n)}next(n,i){return this.callbackAttached&&jt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(n,this.result):new ot((s,u)=>{this.nextCallback=p=>{this.wrapSuccess(n,p).next(s,u)},this.catchCallback=p=>{this.wrapFailure(i,p).next(s,u)}})}toPromise(){return new Promise((n,i)=>{this.next(n,i)})}wrapUserFunction(n){try{const i=n();return i instanceof ot?i:ot.resolve(i)}catch(i){return ot.reject(i)}}wrapSuccess(n,i){return n?this.wrapUserFunction(()=>n(i)):ot.resolve(i)}wrapFailure(n,i){return n?this.wrapUserFunction(()=>n(i)):ot.reject(i)}static resolve(n){return new ot((i,s)=>{i(n)})}static reject(n){return new ot((i,s)=>{s(n)})}static waitFor(n){return new ot((i,s)=>{let u=0,p=0,_=!1;n.forEach(S=>{++u,S.next(()=>{++p,_&&p===u&&i()},O=>s(O))}),_=!0,p===u&&i()})}static or(n){let i=ot.resolve(!1);for(const s of n)i=i.next(u=>u?ot.resolve(u):s());return i}static forEach(n,i){const s=[];return n.forEach((u,p)=>{s.push(i.call(this,u,p))}),this.waitFor(s)}static mapArray(n,i){return new ot((s,u)=>{const p=n.length,_=new Array(p);let S=0;for(let O=0;O<p;O++){const G=O;i(n[G]).next(ce=>{_[G]=ce,++S,S===p&&s(_)},ce=>u(ce))}})}static doWhile(n,i){return new ot((s,u)=>{const p=()=>{!0===n()?i().next(()=>{p()},u):s()};p()})}}class dr{constructor(n,i){this.action=n,this.transaction=i,this.aborted=!1,this.V=new tn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new _i(n,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Oi(s.target.error);this.V.reject(new _i(n,u))}}static open(n,i,s,u){try{return new dr(i,n.transaction(u,s))}catch(p){throw new _i(i,p)}}get m(){return this.V.promise}abort(n){n&&this.V.reject(n),this.aborted||(mt("SimpleDb","Aborting transaction:",n?n.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const n=this.transaction;this.aborted||"function"!=typeof n.commit||n.commit()}store(n){const i=this.transaction.objectStore(n);return new Ri(i)}}class Fn{constructor(n,i,s){this.name=n,this.version=i,this.p=s,12.2===Fn.S((0,We.ZQ)())&&mn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(n){return mt("SimpleDb","Removing database:",n),ai(window.indexedDB.deleteDatabase(n)).toPromise()}static D(){if(!(0,We.zW)())return!1;if(Fn.v())return!0;const n=(0,We.ZQ)(),i=Fn.S(n),s=0<i&&i<10,u=kr(n),p=0<u&&u<4.5;return!(n.indexOf("MSIE ")>0||n.indexOf("Trident/")>0||n.indexOf("Edge/")>0||s||p)}static v(){var n;return typeof process<"u"&&"YES"===(null===(n=process.__PRIVATE_env)||void 0===n?void 0:n.C)}static F(n,i){return n.store(i)}static S(n){const i=n.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(n){var i=this;return(0,ve.A)(function*(){return i.db||(mt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const p=indexedDB.open(i.name,i.version);p.onsuccess=_=>{s(_.target.result)},p.onblocked=()=>{u(new _i(n,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const S=_.target.error;u("VersionError"===S.name?new Fe(Te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===S.name?new Fe(Te.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+S):new _i(n,S))},p.onupgradeneeded=_=>{mt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',_.oldVersion),i.p.O(_.target.result,p.transaction,_.oldVersion,i.version).next(()=>{mt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(n){this.N=n,this.db&&(this.db.onversionchange=i=>n(i))}runTransaction(n,i,s,u){var p=this;return(0,ve.A)(function*(){const _="readonly"===i;let S=0;for(;;){++S;try{p.db=yield p.M(n);const O=dr.open(p.db,n,_?"readonly":"readwrite",s),G=u(O).next(ce=>(O.g(),ce)).catch(ce=>(O.abort(ce),ot.reject(ce))).toPromise();return G.catch(()=>{}),yield O.m,G}catch(O){const G=O,ce="FirebaseError"!==G.name&&S<3;if(mt("SimpleDb","Transaction failed with error:",G.message,"Retrying:",ce),p.close(),!ce)return Promise.reject(G)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function kr(l){const n=l.match(/Android ([\d.]+)/i),i=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Ti{constructor(n){this.B=n,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(n){this.B=n}done(){this.k=!0}$(n){this.q=n}delete(){return ai(this.B.delete())}}class _i extends Fe{constructor(n,i){super(Te.UNAVAILABLE,`IndexedDB transaction '${n}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function zr(l){return"IndexedDbTransactionError"===l.name}class Ri{constructor(n){this.store=n}put(n,i){let s;return void 0!==i?(mt("SimpleDb","PUT",this.store.name,n,i),s=this.store.put(i,n)):(mt("SimpleDb","PUT",this.store.name,"<auto-key>",n),s=this.store.put(n)),ai(s)}add(n){return mt("SimpleDb","ADD",this.store.name,n,n),ai(this.store.add(n))}get(n){return ai(this.store.get(n)).next(i=>(void 0===i&&(i=null),mt("SimpleDb","GET",this.store.name,n,i),i))}delete(n){return mt("SimpleDb","DELETE",this.store.name,n),ai(this.store.delete(n))}count(){return mt("SimpleDb","COUNT",this.store.name),ai(this.store.count())}U(n,i){const s=this.options(n,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const p=u.getAll(s.range);return new ot((_,S)=>{p.onerror=O=>{S(O.target.error)},p.onsuccess=O=>{_(O.target.result)}})}{const p=this.cursor(s),_=[];return this.W(p,(S,O)=>{_.push(O)}).next(()=>_)}}G(n,i){const s=this.store.getAll(n,null===i?void 0:i);return new ot((u,p)=>{s.onerror=_=>{p(_.target.error)},s.onsuccess=_=>{u(_.target.result)}})}j(n,i){mt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(n,i);s.H=!1;const u=this.cursor(s);return this.W(u,(p,_,S)=>S.delete())}J(n,i){let s;i?s=n:(s={},i=n);const u=this.cursor(s);return this.W(u,i)}Y(n){const i=this.cursor({});return new ot((s,u)=>{i.onerror=p=>{const _=Oi(p.target.error);u(_)},i.onsuccess=p=>{const _=p.target.result;_?n(_.primaryKey,_.value).next(S=>{S?_.continue():s()}):s()}})}W(n,i){const s=[];return new ot((u,p)=>{n.onerror=_=>{p(_.target.error)},n.onsuccess=_=>{const S=_.target.result;if(!S)return void u();const O=new Ti(S),G=i(S.primaryKey,S.value,O);if(G instanceof ot){const ce=G.catch(we=>(O.done(),ot.reject(we)));s.push(ce)}O.isDone?u():null===O.K?S.continue():S.continue(O.K)}}).next(()=>ot.waitFor(s))}options(n,i){let s;return void 0!==n&&("string"==typeof n?s=n:i=n),{index:s,range:i}}cursor(n){let i="next";if(n.reverse&&(i="prev"),n.index){const s=this.store.index(n.index);return n.H?s.openKeyCursor(n.range,i):s.openCursor(n.range,i)}return this.store.openCursor(n.range,i)}}function ai(l){return new ot((n,i)=>{l.onsuccess=s=>{n(s.target.result)},l.onerror=s=>{const u=Oi(s.target.error);i(u)}})}let Wi=!1;function Oi(l){const n=Fn.S((0,We.ZQ)());if(n>=12.2&&n<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Wi||(Wi=!0,setTimeout(()=>{throw s},0)),s}}return l}class Nt{constructor(n,i){this.asyncQueue=n,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(n){var i=this;mt("IndexBackfiller",`Scheduled in ${n}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",n,(0,ve.A)(function*(){i.task=null;try{mt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){zr(s)?mt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield lr(s)}yield i.X(6e4)}))}}class ee{constructor(n,i){this.localStore=n,this.persistence=i}ee(n=50){var i=this;return(0,ve.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,n))})()}te(n,i){const s=new Set;let u=i,p=!0;return ot.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(n).next(_=>{if(null!==_&&!s.has(_))return mt("IndexBackfiller",`Processing collection: ${_}`),this.ne(n,_,u).next(S=>{u-=S,s.add(_)});p=!1})).next(()=>i-u)}ne(n,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(n,i).next(u=>this.localStore.localDocuments.getNextDocuments(n,i,u,s).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(n,_).next(()=>this.re(u,p)).next(S=>(mt("IndexBackfiller",`Updating offset: ${S}`),this.localStore.indexManager.updateCollectionGroup(n,i,S))).next(()=>_.size)}))}re(n,i){let s=n;return i.changes.forEach((u,p)=>{const _=Be(p);ht(_,s)>0&&(s=_)}),new bt(s.readTime,s.documentKey,Math.max(i.batchId,n.largestBatchId))}}let q=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function Pe(l){return null==l}function Y(l){return 0===l&&1/l==-1/0}function Z(l){return"number"==typeof l&&Number.isInteger(l)&&!Y(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function ye(l){let n="";for(let i=0;i<l.length;i++)n.length>0&&(n=Bt(n)),n=gt(l.get(i),n);return Bt(n)}function gt(l,n){let i=n;const s=l.length;for(let u=0;u<s;u++){const p=l.charAt(u);switch(p){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=p}}return i}function Bt(l){return l+"\x01\x01"}function on(l){const n=l.length;if(Yt(n>=2),2===n)return Yt("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Hn.emptyPath();const i=n-2,s=[];let u="";for(let p=0;p<n;){const _=l.indexOf("\x01",p);switch((_<0||_>i)&&jt(),l.charAt(_+1)){case"\x01":const S=l.substring(p,_);let O;0===u.length?O=S:(u+=S,O=u,u=""),s.push(O);break;case"\x10":u+=l.substring(p,_),u+="\0";break;case"\x11":u+=l.substring(p,_+1);break;default:jt()}p=_+2}return new Hn(s)}const $n=["userId","batchId"];function On(l,n){return[l,ye(n)]}function pi(l,n,i){return[l,ye(n),i]}const ei={},Zn=["prefixPath","collectionGroup","readTime","documentId"],li=["prefixPath","collectionGroup","documentId"],Mi=["collectionGroup","readTime","prefixPath","documentId"],xi=["canonicalId","targetId"],ti=["targetId","path"],Ji=["path","targetId"],ki=["collectionId","parent"],Pi=["indexId","uid"],wo=["uid","sequenceNumber"],Ps=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Go=["indexId","uid","orderedDocumentKey"],ys=["userId","collectionPath","documentId"],ns=["userId","collectionPath","largestBatchId"],Ns=["userId","collectionGroup","largestBatchId"],So=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fi=[...So,"documentOverlays"],Gs=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ro=Gs,rs=[...Ro,"indexConfiguration","indexState","indexEntries"],ha=rs,Ws=[...rs,"globals"];class is extends In{constructor(n,i){super(),this._e=n,this.currentSequenceNumber=i}}function Gr(l,n){const i=it(l);return Fn.F(i._e,n)}function Ra(l){let n=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n++;return n}function Mo(l,n){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&n(i,l[i])}function Ks(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class qr{constructor(n,i){this.comparator=n,this.root=i||bi.EMPTY}insert(n,i){return new qr(this.comparator,this.root.insert(n,i,this.comparator).copy(null,null,bi.BLACK,null,null))}remove(n){return new qr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,bi.BLACK,null,null))}get(n){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(n,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(n){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(n,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((i,s)=>(n(i,s),!1))}toString(){const n=[];return this.inorderTraversal((i,s)=>(n.push(`${i}:${s}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Po(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Po(this.root,n,this.comparator,!1)}getReverseIterator(){return new Po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Po(this.root,n,this.comparator,!0)}}class Po{constructor(n,i,s,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!n.isEmpty();)if(p=i?s(n.key,i):1,i&&u&&(p*=-1),p<0)n=this.isReverse?n.left:n.right;else{if(0===p){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const i={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class bi{constructor(n,i,s,u,p){this.key=n,this.value=i,this.color=null!=s?s:bi.RED,this.left=null!=u?u:bi.EMPTY,this.right=null!=p?p:bi.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,i,s,u,p){return new bi(null!=n?n:this.key,null!=i?i:this.value,null!=s?s:this.color,null!=u?u:this.left,null!=p?p:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,s){let u=this;const p=s(n,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(n,i,s),null):0===p?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(n,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return bi.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,i){let s,u=this;if(i(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(n,u.key)){if(u.right.isEmpty())return bi.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,bi.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,bi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw jt();const n=this.left.check();if(n!==this.right.check())throw jt();return n+(this.isRed()?0:1)}}bi.EMPTY=null,bi.RED=!0,bi.BLACK=!1,bi.EMPTY=new class{constructor(){this.size=0}get key(){throw jt()}get value(){throw jt()}get color(){throw jt()}get left(){throw jt()}get right(){throw jt()}copy(n,i,s,u,p){return this}insert(n,i,s){return new bi(n,i)}remove(n,i){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dr{constructor(n){this.comparator=n,this.data=new qr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((i,s)=>(n(i),!1))}forEachInRange(n,i){const s=this.data.getIteratorFrom(n[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,n[1])>=0)return;i(u.key)}}forEachWhile(n,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!n(s.getNext().key))return}firstAfterOrEqual(n){const i=this.data.getIteratorFrom(n);return i.hasNext()?i.getNext().key:null}getIterator(){return new Os(this.data.getIterator())}getIteratorFrom(n){return new Os(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let i=this;return i.size<n.size&&(i=n,n=this),n.forEach(s=>{i=i.add(s)}),i}isEqual(n){if(!(n instanceof Dr)||this.size!==n.size)return!1;const i=this.data.getIterator(),s=n.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const n=[];return this.forEach(i=>{n.push(i)}),n}toString(){const n=[];return this.forEach(i=>n.push(i)),"SortedSet("+n.toString()+")"}copy(n){const i=new Dr(this.comparator);return i.data=n,i}}class Os{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function No(l){return l.hasNext()?l.getNext():void 0}class $r{constructor(n){this.fields=n,n.sort(nr.comparator)}static empty(){return new $r([])}unionWith(n){let i=new Dr(nr.comparator);for(const s of this.fields)i=i.add(s);for(const s of n)i=i.add(s);return new $r(i.toArray())}covers(n){for(const i of this.fields)if(i.isPrefixOf(n))return!0;return!1}isEqual(n){return vi(this.fields,n.fields,(i,s)=>i.isEqual(s))}}class R extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ue{constructor(n){this.binaryString=n}static fromBase64String(n){const i=function(u){try{return atob(u)}catch(p){throw typeof DOMException<"u"&&p instanceof DOMException?new R("Invalid base64 string: "+p):p}}(n);return new ue(i)}static fromUint8Array(n){const i=function(u){let p="";for(let _=0;_<u.length;++_)p+=String.fromCharCode(u[_]);return p}(n);return new ue(i)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return En(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}ue.EMPTY_BYTE_STRING=new ue("");const N=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function C(l){if(Yt(!!l),"string"==typeof l){let n=0;const i=N.exec(l);if(Yt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),n=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:n}}return{seconds:F(l.seconds),nanos:F(l.nanos)}}function F(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Ae(l){return"string"==typeof l?ue.fromBase64String(l):ue.fromUint8Array(l)}function xe(l){var n,i;return"server_timestamp"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function tt(l){const n=l.mapValue.fields.__previous_value__;return xe(n)?tt(n):n}function ct(l){const n=C(l.mapValue.fields.__local_write_time__.timestampValue);return new Nn(n.seconds,n.nanos)}class Ht{constructor(n,i,s,u,p,_,S,O,G){this.databaseId=n,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=S,this.longPollingOptions=O,this.useFetchStreams=G}}class Zt{constructor(n,i){this.projectId=n,this.database=i||"(default)"}static empty(){return new Zt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Zt&&n.projectId===this.projectId&&n.database===this.database}}const $t={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Jt={nullValue:"NULL_VALUE"};function cn(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?xe(l)?4:Oo(l)?9007199254740991:fa(l)?10:11:jt()}function yn(l,n){if(l===n)return!0;const i=cn(l);if(i!==cn(n))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return ct(l).isEqual(ct(n));case 3:return function(u,p){if("string"==typeof u.timestampValue&&"string"==typeof p.timestampValue&&u.timestampValue.length===p.timestampValue.length)return u.timestampValue===p.timestampValue;const _=C(u.timestampValue),S=C(p.timestampValue);return _.seconds===S.seconds&&_.nanos===S.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return p=n,Ae(l.bytesValue).isEqual(Ae(p.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(u,p){return F(u.geoPointValue.latitude)===F(p.geoPointValue.latitude)&&F(u.geoPointValue.longitude)===F(p.geoPointValue.longitude)}(l,n);case 2:return function(u,p){if("integerValue"in u&&"integerValue"in p)return F(u.integerValue)===F(p.integerValue);if("doubleValue"in u&&"doubleValue"in p){const _=F(u.doubleValue),S=F(p.doubleValue);return _===S?Y(_)===Y(S):isNaN(_)&&isNaN(S)}return!1}(l,n);case 9:return vi(l.arrayValue.values||[],n.arrayValue.values||[],yn);case 10:case 11:return function(u,p){const _=u.mapValue.fields||{},S=p.mapValue.fields||{};if(Ra(_)!==Ra(S))return!1;for(const O in _)if(_.hasOwnProperty(O)&&(void 0===S[O]||!yn(_[O],S[O])))return!1;return!0}(l,n);default:return jt()}var p}function Ln(l,n){return void 0!==(l.values||[]).find(i=>yn(i,n))}function xn(l,n){if(l===n)return 0;const i=cn(l),s=cn(n);if(i!==s)return En(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return En(l.booleanValue,n.booleanValue);case 2:return function(p,_){const S=F(p.integerValue||p.doubleValue),O=F(_.integerValue||_.doubleValue);return S<O?-1:S>O?1:S===O?0:isNaN(S)?isNaN(O)?0:-1:1}(l,n);case 3:return Or(l.timestampValue,n.timestampValue);case 4:return Or(ct(l),ct(n));case 5:return En(l.stringValue,n.stringValue);case 6:return function(p,_){const S=Ae(p),O=Ae(_);return S.compareTo(O)}(l.bytesValue,n.bytesValue);case 7:return function(p,_){const S=p.split("/"),O=_.split("/");for(let G=0;G<S.length&&G<O.length;G++){const ce=En(S[G],O[G]);if(0!==ce)return ce}return En(S.length,O.length)}(l.referenceValue,n.referenceValue);case 8:return function(p,_){const S=En(F(p.latitude),F(_.latitude));return 0!==S?S:En(F(p.longitude),F(_.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return ni(l.arrayValue,n.arrayValue);case 10:return function(p,_){var S,O,G,ce;const Ct=null===(S=(p.fields||{}).value)||void 0===S?void 0:S.arrayValue,Qt=null===(O=(_.fields||{}).value)||void 0===O?void 0:O.arrayValue,fn=En((null===(G=null==Ct?void 0:Ct.values)||void 0===G?void 0:G.length)||0,(null===(ce=null==Qt?void 0:Qt.values)||void 0===ce?void 0:ce.length)||0);return 0!==fn?fn:ni(Ct,Qt)}(l.mapValue,n.mapValue);case 11:return function(p,_){if(p===$t.mapValue&&_===$t.mapValue)return 0;if(p===$t.mapValue)return 1;if(_===$t.mapValue)return-1;const S=p.fields||{},O=Object.keys(S),G=_.fields||{},ce=Object.keys(G);O.sort(),ce.sort();for(let we=0;we<O.length&&we<ce.length;++we){const Ye=En(O[we],ce[we]);if(0!==Ye)return Ye;const Ct=xn(S[O[we]],G[ce[we]]);if(0!==Ct)return Ct}return En(O.length,ce.length)}(l.mapValue,n.mapValue);default:throw jt()}}function Or(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return En(l,n);const i=C(l),s=C(n),u=En(i.seconds,s.seconds);return 0!==u?u:En(i.nanos,s.nanos)}function ni(l,n){const i=l.values||[],s=n.values||[];for(let u=0;u<i.length&&u<s.length;++u){const p=xn(i[u],s[u]);if(p)return p}return En(i.length,s.length)}function xr(l){return jr(l)}function jr(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=C(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Ae(l.bytesValue).toBase64():"referenceValue"in l?ln.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const p of i.values||[])u?u=!1:s+=",",s+=jr(p);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",p=!0;for(const _ of s)p?p=!1:u+=",",u+=`${_}:${jr(i.fields[_])}`;return u+"}"}(l.mapValue):jt()}function po(l,n){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${n.path.canonicalString()}`}}function Ki(l){return!!l&&"integerValue"in l}function Dn(l){return!!l&&"arrayValue"in l}function Eo(l){return!!l&&"nullValue"in l}function qi(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function qs(l){return!!l&&"mapValue"in l}function fa(l){var n,i;return"__vector__"===(null===(i=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Wo(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return Mo(l.mapValue.fields,(i,s)=>n.mapValue.fields[i]=Wo(s)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)n.arrayValue.values[i]=Wo(l.arrayValue.values[i]);return n}return Object.assign({},l)}function Oo(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const Io={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function oo(l){return"nullValue"in l?Jt:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?po(Zt.empty(),ln.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?fa(l)?Io:{mapValue:{}}:jt()}function Ao(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?po(Zt.empty(),ln.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?Io:"mapValue"in l?fa(l)?{mapValue:{}}:$t:jt()}function go(l,n){const i=xn(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?-1:!l.inclusive&&n.inclusive?1:0}function Ma(l,n){const i=xn(l.value,n.value);return 0!==i?i:l.inclusive&&!n.inclusive?1:!l.inclusive&&n.inclusive?-1:0}class Li{constructor(n){this.value=n}static empty(){return new Li({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let i=this.value;for(let s=0;s<n.length-1;++s)if(i=(i.mapValue.fields||{})[n.get(s)],!qs(i))return null;return i=(i.mapValue.fields||{})[n.lastSegment()],i||null}}set(n,i){this.getFieldsMap(n.popLast())[n.lastSegment()]=Wo(i)}setAll(n){let i=nr.emptyPath(),s={},u=[];n.forEach((_,S)=>{if(!i.isImmediateParentOf(S)){const O=this.getFieldsMap(i);this.applyChanges(O,s,u),s={},u=[],i=S.popLast()}_?s[S.lastSegment()]=Wo(_):u.push(S.lastSegment())});const p=this.getFieldsMap(i);this.applyChanges(p,s,u)}delete(n){const i=this.field(n.popLast());qs(i)&&i.mapValue.fields&&delete i.mapValue.fields[n.lastSegment()]}isEqual(n){return yn(this.value,n.value)}getFieldsMap(n){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<n.length;++s){let u=i.mapValue.fields[n.get(s)];qs(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[n.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(n,i,s){Mo(i,(u,p)=>n[u]=p);for(const u of s)delete n[u]}clone(){return new Li(Wo(this.value))}}function xo(l){const n=[];return Mo(l.fields,(i,s)=>{const u=new nr([i]);if(qs(s)){const p=xo(s.mapValue).fields;if(0===p.length)n.push(u);else for(const _ of p)n.push(u.child(_))}else n.push(u)}),new $r(n)}class ri{constructor(n,i,s,u,p,_,S){this.key=n,this.documentType=i,this.version=s,this.readTime=u,this.createTime=p,this.data=_,this.documentState=S}static newInvalidDocument(n){return new ri(n,0,Rn.min(),Rn.min(),Rn.min(),Li.empty(),0)}static newFoundDocument(n,i,s,u){return new ri(n,1,i,Rn.min(),s,u,0)}static newNoDocument(n,i){return new ri(n,2,i,Rn.min(),Rn.min(),Li.empty(),0)}static newUnknownDocument(n,i){return new ri(n,3,i,Rn.min(),Rn.min(),Li.empty(),2)}convertToFoundDocument(n,i){return!this.createTime.isEqual(Rn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=n),this.version=n,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=Li.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=Li.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rn.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof ri&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wr{constructor(n,i){this.position=n,this.inclusive=i}}function Il(l,n,i){let s=0;for(let u=0;u<l.position.length;u++){const p=n[u],_=l.position[u];if(s=p.field.isKeyField()?ln.comparator(ln.fromName(_.referenceValue),i.key):xn(_,i.data.field(p.field)),"desc"===p.dir&&(s*=-1),0!==s)break}return s}function Es(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!yn(l.position[i],n.position[i]))return!1;return!0}class br{constructor(n,i="asc"){this.field=n,this.dir=i}}function Al(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}class yi{}class qn extends yi{constructor(n,i,s){super(),this.field=n,this.op=i,this.value=s}static create(n,i,s){return n.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(n,i,s):new mo(n,i,s):"array-contains"===i?new Yl(n,s):"in"===i?new Cl(n,s):"not-in"===i?new H(n,s):"array-contains-any"===i?new M(n,s):new qn(n,i,s)}static createKeyFieldInFilter(n,i,s){return"in"===i?new Ql(n,s):new ju(n,s)}matches(n){const i=n.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(xn(i,this.value)):null!==i&&cn(this.value)===cn(i)&&this.matchesComparison(xn(i,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return jt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Lr extends yi{constructor(n,i){super(),this.filters=n,this.op=i,this.ae=null}static create(n,i){return new Lr(n,i)}matches(n){return Pa(this)?void 0===this.filters.find(i=>!i.matches(n)):void 0!==this.filters.find(i=>i.matches(n))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((n,i)=>n.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Pa(l){return"and"===l.op}function xs(l){return"or"===l.op}function Xn(l){return ks(l)&&Pa(l)}function ks(l){for(const n of l.filters)if(n instanceof Lr)return!1;return!0}function so(l){if(l instanceof qn)return l.field.canonicalString()+l.op.toString()+xr(l.value);if(Xn(l))return l.filters.map(n=>so(n)).join(",");{const n=l.filters.map(i=>so(i)).join(",");return`${l.op}(${n})`}}function Xl(l,n){return l instanceof qn?(s=l,(u=n)instanceof qn&&s.op===u.op&&s.field.isEqual(u.field)&&yn(s.value,u.value)):l instanceof Lr?function(s,u){return u instanceof Lr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((p,_,S)=>p&&Xl(_,u.filters[S]),!0)}(l,n):void jt();var s,u}function Na(l,n){const i=l.filters.concat(n);return Lr.create(i,l.op)}function Kr(l){return l instanceof qn?`${(i=l).field.canonicalString()} ${i.op} ${xr(i.value)}`:l instanceof Lr?function(i){return i.op.toString()+" {"+i.getFilters().map(Kr).join(" ,")+"}"}(l):"Filter";var i}class mo extends qn{constructor(n,i,s){super(n,i,s),this.key=ln.fromName(s.referenceValue)}matches(n){const i=ln.comparator(n.key,this.key);return this.matchesComparison(i)}}class Ql extends qn{constructor(n,i){super(n,"in",i),this.keys=Hu(0,i)}matches(n){return this.keys.some(i=>i.isEqual(n.key))}}class ju extends qn{constructor(n,i){super(n,"not-in",i),this.keys=Hu(0,i)}matches(n){return!this.keys.some(i=>i.isEqual(n.key))}}function Hu(l,n){var i;return((null===(i=n.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>ln.fromName(s.referenceValue))}class Yl extends qn{constructor(n,i){super(n,"array-contains",i)}matches(n){const i=n.data.field(this.field);return Dn(i)&&Ln(i.arrayValue,this.value)}}class Cl extends qn{constructor(n,i){super(n,"in",i)}matches(n){const i=n.data.field(this.field);return null!==i&&Ln(this.value.arrayValue,i)}}class H extends qn{constructor(n,i){super(n,"not-in",i)}matches(n){if(Ln(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=n.data.field(this.field);return null!==i&&!Ln(this.value.arrayValue,i)}}class M extends qn{constructor(n,i){super(n,"array-contains-any",i)}matches(n){const i=n.data.field(this.field);return!(!Dn(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Ln(this.value.arrayValue,s))}}class te{constructor(n,i=null,s=[],u=[],p=null,_=null,S=null){this.path=n,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=p,this.startAt=_,this.endAt=S,this.ue=null}}function B(l,n=null,i=[],s=[],u=null,p=null,_=null){return new te(l,n,i,s,u,p,_)}function se(l){const n=it(l);if(null===n.ue){let i=n.path.canonicalString();null!==n.collectionGroup&&(i+="|cg:"+n.collectionGroup),i+="|f:",i+=n.filters.map(s=>so(s)).join(","),i+="|ob:",i+=n.orderBy.map(s=>{return(p=s).field.canonicalString()+p.dir;var p}).join(","),Pe(n.limit)||(i+="|l:",i+=n.limit),n.startAt&&(i+="|lb:",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(s=>xr(s)).join(",")),n.endAt&&(i+="|ub:",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(s=>xr(s)).join(",")),n.ue=i}return n.ue}function nn(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!Al(l.orderBy[i],n.orderBy[i]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!Xl(l.filters[i],n.filters[i]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!Es(l.startAt,n.startAt)&&Es(l.endAt,n.endAt)}function zn(l){return ln.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function ui(l,n){return l.filters.filter(i=>i instanceof qn&&i.field.isEqual(n))}function Vi(l,n,i){let s=Jt,u=!0;for(const p of ui(l,n)){let _=Jt,S=!0;switch(p.op){case"<":case"<=":_=oo(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,S=!1;break;case"!=":case"not-in":_=Jt}go({value:s,inclusive:u},{value:_,inclusive:S})<0&&(s=_,u=S)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(n)){const _=i.position[p];go({value:s,inclusive:u},{value:_,inclusive:i.inclusive})<0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}function eo(l,n,i){let s=$t,u=!0;for(const p of ui(l,n)){let _=$t,S=!0;switch(p.op){case">=":case">":_=Ao(p.value),S=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,S=!1;break;case"!=":case"not-in":_=$t}Ma({value:s,inclusive:u},{value:_,inclusive:S})>0&&(s=_,u=S)}if(null!==i)for(let p=0;p<l.orderBy.length;++p)if(l.orderBy[p].field.isEqual(n)){const _=i.position[p];Ma({value:s,inclusive:u},{value:_,inclusive:i.inclusive})>0&&(s=_,u=i.inclusive);break}return{value:s,inclusive:u}}class fr{constructor(n,i=null,s=[],u=[],p=null,_="F",S=null,O=null){this.path=n,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=p,this.limitType=_,this.startAt=S,this.endAt=O,this.ce=null,this.le=null,this.he=null}}function Xs(l,n,i,s,u,p,_,S){return new fr(l,n,i,s,u,p,_,S)}function Co(l){return new fr(l)}function Qs(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function pa(l){return null!==l.collectionGroup}function Ys(l){const n=it(l);if(null===n.ce){n.ce=[];const i=new Set;for(const p of n.explicitOrderBy)n.ce.push(p),i.add(p.field.canonicalString());const s=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(_){let S=new Dr(nr.comparator);return _.filters.forEach(O=>{O.getFlattenedFilters().forEach(G=>{G.isInequality()&&(S=S.add(G.field))})}),S})(n).forEach(p=>{i.has(p.canonicalString())||p.isKeyField()||n.ce.push(new br(p,s))}),i.has(nr.keyField().canonicalString())||n.ce.push(new br(nr.keyField(),s))}return n.ce}function to(l){const n=it(l);return n.le||(n.le=function Fs(l,n){if("F"===l.limitType)return B(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(u=>new br(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new Wr(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new Wr(l.startAt.position,l.startAt.inclusive):null;return B(l.path,l.collectionGroup,n,l.filters,l.limit,i,s)}}(n,Ys(l))),n.le}function Oa(l,n){const i=l.filters.concat([n]);return new fr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function ma(l,n,i){return new fr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,i,l.startAt,l.endAt)}function xa(l,n){return nn(to(l),to(n))&&l.limitType===n.limitType}function Jn(l){return`${se(to(l))}|lt:${l.limitType}`}function os(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Kr(u)).join(", ")}]`),Pe(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(_=u).field.canonicalString()} (${_.dir})`;var _}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>xr(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>xr(u)).join(",")),`Target(${s})`}(to(l))}; limitType=${l.limitType})`}function Zs(l,n){return n.isFoundDocument()&&function(s,u){const p=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(p):ln.isDocumentKey(s.path)?s.path.isEqual(p):s.path.isImmediateParentOf(p)}(l,n)&&function(s,u){for(const p of Ys(s))if(!p.field.isKeyField()&&null===u.data.field(p.field))return!1;return!0}(l,n)&&function(s,u){for(const p of s.filters)if(!p.matches(u))return!1;return!0}(l,n)&&(u=n,!((s=l).startAt&&!function(_,S,O){const G=Il(_,S,O);return _.inclusive?G<=0:G<0}(s.startAt,Ys(s),u)||s.endAt&&!function(_,S,O){const G=Il(_,S,O);return _.inclusive?G>=0:G>0}(s.endAt,Ys(s),u)));var s,u}function zu(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Xa(l){return(n,i)=>{let s=!1;for(const u of Ys(l)){const p=Sd(u,n,i);if(0!==p)return p;s=s||u.field.isKeyField()}return 0}}function Sd(l,n,i){const s=l.field.isKeyField()?ln.comparator(n.key,i.key):function(p,_,S){const O=_.data.field(p),G=S.data.field(p);return null!==O&&null!==G?xn(O,G):jt()}(l.field,n,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return jt()}}class Ko{constructor(n,i){this.mapKeyFn=n,this.equalsFn=i,this.inner={},this.innerSize=0}get(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0!==s)for(const[u,p]of s)if(this.equalsFn(u,n))return p}has(n){return void 0!==this.get(n)}set(n,i){const s=this.mapKeyFn(n),u=this.inner[s];if(void 0===u)return this.inner[s]=[[n,i]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],n))return void(u[p]=[n,i]);u.push([n,i]),this.innerSize++}delete(n){const i=this.mapKeyFn(n),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],n))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(n){Mo(this.inner,(i,s)=>{for(const[u,p]of s)n(u,p)})}isEmpty(){return Ks(this.inner)}size(){return this.innerSize}}const xh=new qr(ln.comparator);function qo(){return xh}const Tl=new qr(ln.comparator);function Zl(...l){let n=Tl;for(const i of l)n=n.insert(i.key,i);return n}function Qa(l){let n=Tl;return l.forEach((i,s)=>n=n.insert(i,s.overlayedDocument)),n}function fo(){return Js()}function Dl(){return Js()}function Js(){return new Ko(l=>l.toString(),(l,n)=>l.isEqual(n))}const Jl=new qr(ln.comparator),ss=new Dr(ln.comparator);function pr(...l){let n=ss;for(const i of l)n=n.add(i);return n}const eu=new Dr(En);function ur(){return eu}function Vr(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Y(n)?"-0":n}}function Rd(l){return{integerValue:""+l}}function ea(l,n){return Z(n)?Rd(n):Vr(l,n)}class bl{constructor(){this._=void 0}}function tu(l,n,i){return l instanceof Ir?function(u,p){const _={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return p&&xe(p)&&(p=tt(p)),p&&(_.fields.__previous_value__=p),{mapValue:_}}(i,n):l instanceof ko?nu(l,n):l instanceof ii?ru(l,n):function(u,p){const _=Za(u,p),S=D(_)+D(u.Pe);return Ki(_)&&Ki(u.Pe)?Rd(S):Vr(u.serializer,S)}(l,n)}function Ya(l,n,i){return l instanceof ko?nu(l,n):l instanceof ii?ru(l,n):i}function Za(l,n){return l instanceof Ja?Ki(s=n)||(p=s)&&"doubleValue"in p?n:{integerValue:0}:null;var s,p}class Ir extends bl{}class ko extends bl{constructor(n){super(),this.elements=n}}function nu(l,n){const i=$(n);for(const s of l.elements)i.some(u=>yn(u,s))||i.push(s);return{arrayValue:{values:i}}}class ii extends bl{constructor(n){super(),this.elements=n}}function ru(l,n){let i=$(n);for(const s of l.elements)i=i.filter(u=>!yn(u,s));return{arrayValue:{values:i}}}class Ja extends bl{constructor(n,i){super(),this.serializer=n,this.Pe=i}}function D(l){return F(l.integerValue||l.doubleValue)}function $(l){return Dn(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class De{constructor(n,i){this.field=n,this.transform=i}}class he{constructor(n,i){this.version=n,this.transformResults=i}}class Re{constructor(n,i){this.updateTime=n,this.exists=i}static none(){return new Re}static exists(n){return new Re(void 0,n)}static updateTime(n){return new Re(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Vt(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class sn{}function rr(l,n){if(!l.hasLocalMutations||n&&0===n.fields.length)return null;if(null===n)return l.isNoDocument()?new vo(l.key,Re.none()):new Ur(l.key,l.data,Re.none());{const i=l.data,s=Li.empty();let u=new Dr(nr.comparator);for(let p of n.fields)if(!u.has(p)){let _=i.field(p);null===_&&p.length>1&&(p=p.popLast(),_=i.field(p)),null===_?s.delete(p):s.set(p,_),u=u.add(p)}return new Cn(l.key,s,new $r(u.toArray()),Re.none())}}function Sr(l,n,i){l instanceof Ur?function(u,p,_){const S=u.value.clone(),O=Ei(u.fieldTransforms,p,_.transformResults);S.setAll(O),p.convertToFoundDocument(_.version,S).setHasCommittedMutations()}(l,n,i):l instanceof Cn?function(u,p,_){if(!Vt(u.precondition,p))return void p.convertToUnknownDocument(_.version);const S=Ei(u.fieldTransforms,p,_.transformResults),O=p.data;O.setAll(as(u)),O.setAll(S),p.convertToFoundDocument(_.version,O).setHasCommittedMutations()}(l,n,i):n.convertToNoDocument(i.version).setHasCommittedMutations()}function Ar(l,n,i,s){return l instanceof Ur?function(p,_,S,O){if(!Vt(p.precondition,_))return S;const G=p.value.clone(),ce=ao(p.fieldTransforms,O,_);return G.setAll(ce),_.convertToFoundDocument(_.version,G).setHasLocalMutations(),null}(l,n,i,s):l instanceof Cn?function(p,_,S,O){if(!Vt(p.precondition,_))return S;const G=ao(p.fieldTransforms,O,_),ce=_.data;return ce.setAll(as(p)),ce.setAll(G),_.convertToFoundDocument(_.version,ce).setHasLocalMutations(),null===S?null:S.unionWith(p.fieldMask.fields).unionWith(p.fieldTransforms.map(we=>we.field))}(l,n,i,s):(S=i,Vt(l.precondition,_=n)?(_.convertToNoDocument(_.version).setHasLocalMutations(),null):S);var _,S}function gr(l,n){let i=null;for(const s of l.fieldTransforms){const u=n.data.field(s.field),p=Za(s.transform,u||null);null!=p&&(null===i&&(i=Li.empty()),i.set(s.field,p))}return i||null}function yr(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(u=n.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&vi(s,u,(p,_)=>function V(l,n){return l.field.isEqual(n.field)&&(u=n.transform,(s=l.transform)instanceof ko&&u instanceof ko||s instanceof ii&&u instanceof ii?vi(s.elements,u.elements,yn):s instanceof Ja&&u instanceof Ja?yn(s.Pe,u.Pe):s instanceof Ir&&u instanceof Ir);var s,u}(p,_))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var s,u}class Ur extends sn{constructor(n,i,s,u=[]){super(),this.key=n,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Cn extends sn{constructor(n,i,s,u,p=[]){super(),this.key=n,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function as(l){const n=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);n.set(i,s)}}),n}function Ei(l,n,i){const s=new Map;Yt(l.length===i.length);for(let u=0;u<i.length;u++){const p=l[u],_=p.transform,S=n.data.field(p.field);s.set(p.field,Ya(_,S,i[u]))}return s}function ao(l,n,i){const s=new Map;for(const u of l){const p=u.transform,_=i.data.field(u.field);s.set(u.field,tu(p,_,n))}return s}class vo extends sn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xo extends sn{constructor(n,i){super(),this.key=n,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Is{constructor(n,i,s,u){this.batchId=n,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(n,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(n.key)&&Sr(p,n,s[u])}}applyToLocalView(n,i){for(const s of this.baseMutations)s.key.isEqual(n.key)&&(i=Ar(s,n,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(n.key)&&(i=Ar(s,n,i,this.localWriteTime));return i}applyToLocalDocumentSet(n,i){const s=Dl();return this.mutations.forEach(u=>{const p=n.get(u.key),_=p.overlayedDocument;let S=this.applyToLocalView(_,p.mutatedFields);S=i.has(u.key)?null:S;const O=rr(_,S);null!==O&&s.set(u.key,O),_.isValidDocument()||_.convertToNoDocument(Rn.min())}),s}keys(){return this.mutations.reduce((n,i)=>n.add(i.key),pr())}isEqual(n){return this.batchId===n.batchId&&vi(this.mutations,n.mutations,(i,s)=>yr(i,s))&&vi(this.baseMutations,n.baseMutations,(i,s)=>yr(i,s))}}class ta{constructor(n,i,s,u){this.batch=n,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(n,i,s){Yt(n.mutations.length===s.length);let u=function(){return Jl}();const p=n.mutations;for(let _=0;_<p.length;_++)u=u.insert(p[_].key,s[_].version);return new ta(n,i,s,u)}}class na{constructor(n,i){this.largestBatchId=n,this.mutation=i}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rc{constructor(n,i){this.count=n,this.unchangedNames=i}}var $i,Cr;function Mc(l){switch(l){default:return jt();case Te.CANCELLED:case Te.UNKNOWN:case Te.DEADLINE_EXCEEDED:case Te.RESOURCE_EXHAUSTED:case Te.INTERNAL:case Te.UNAVAILABLE:case Te.UNAUTHENTICATED:return!1;case Te.INVALID_ARGUMENT:case Te.NOT_FOUND:case Te.ALREADY_EXISTS:case Te.PERMISSION_DENIED:case Te.FAILED_PRECONDITION:case Te.ABORTED:case Te.OUT_OF_RANGE:case Te.UNIMPLEMENTED:case Te.DATA_LOSS:return!0}}function _o(l){if(void 0===l)return mn("GRPC error has no .code"),Te.UNKNOWN;switch(l){case $i.OK:return Te.OK;case $i.CANCELLED:return Te.CANCELLED;case $i.UNKNOWN:return Te.UNKNOWN;case $i.DEADLINE_EXCEEDED:return Te.DEADLINE_EXCEEDED;case $i.RESOURCE_EXHAUSTED:return Te.RESOURCE_EXHAUSTED;case $i.INTERNAL:return Te.INTERNAL;case $i.UNAVAILABLE:return Te.UNAVAILABLE;case $i.UNAUTHENTICATED:return Te.UNAUTHENTICATED;case $i.INVALID_ARGUMENT:return Te.INVALID_ARGUMENT;case $i.NOT_FOUND:return Te.NOT_FOUND;case $i.ALREADY_EXISTS:return Te.ALREADY_EXISTS;case $i.PERMISSION_DENIED:return Te.PERMISSION_DENIED;case $i.FAILED_PRECONDITION:return Te.FAILED_PRECONDITION;case $i.ABORTED:return Te.ABORTED;case $i.OUT_OF_RANGE:return Te.OUT_OF_RANGE;case $i.UNIMPLEMENTED:return Te.UNIMPLEMENTED;case $i.DATA_LOSS:return Te.DATA_LOSS;default:return jt()}}(Cr=$i||($i={}))[Cr.OK=0]="OK",Cr[Cr.CANCELLED=1]="CANCELLED",Cr[Cr.UNKNOWN=2]="UNKNOWN",Cr[Cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cr[Cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cr[Cr.NOT_FOUND=5]="NOT_FOUND",Cr[Cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cr[Cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cr[Cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cr[Cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cr[Cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cr[Cr.ABORTED=10]="ABORTED",Cr[Cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cr[Cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cr[Cr.INTERNAL=13]="INTERNAL",Cr[Cr.UNAVAILABLE=14]="UNAVAILABLE",Cr[Cr.DATA_LOSS=15]="DATA_LOSS";function As(){return new TextEncoder}const Gu=new Me([4294967295,4294967295],0);function Pc(l){const n=As().encode(l),i=new Lt;return i.update(n),new Uint8Array(i.digest())}function wl(l){const n=new DataView(l.buffer),i=n.getUint32(0,!0),s=n.getUint32(4,!0),u=n.getUint32(8,!0),p=n.getUint32(12,!0);return[new Me([i,s],0),new Me([u,p],0)]}class fp{constructor(n,i,s){if(this.bitmap=n,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Qo(`Invalid padding: ${i}`);if(s<0)throw new Qo(`Invalid hash count: ${s}`);if(n.length>0&&0===this.hashCount)throw new Qo(`Invalid hash count: ${s}`);if(0===n.length&&0!==i)throw new Qo(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*n.length-i,this.Te=Me.fromNumber(this.Ie)}Ee(n,i,s){let u=n.add(i.multiply(Me.fromNumber(s)));return 1===u.compare(Gu)&&(u=new Me([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(0===this.Ie)return!1;const i=Pc(n),[s,u]=wl(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);if(!this.de(_))return!1}return!0}static create(n,i,s){const u=n%8==0?0:8-n%8,p=new Uint8Array(Math.ceil(n/8)),_=new fp(p,u,i);return s.forEach(S=>_.insert(S)),_}insert(n){if(0===this.Ie)return;const i=Pc(n),[s,u]=wl(i);for(let p=0;p<this.hashCount;p++){const _=this.Ee(s,u,p);this.Ae(_)}}Ae(n){const i=Math.floor(n/8);this.bitmap[i]|=1<<n%8}}class Qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class iu{constructor(n,i,s,u,p){this.snapshotVersion=n,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(n,i,s){const u=new Map;return u.set(n,lo.createSynthesizedTargetChangeForCurrentChange(n,i,s)),new iu(Rn.min(),u,new qr(En),qo(),pr())}}class lo{constructor(n,i,s,u,p){this.resumeToken=n,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(n,i,s){return new lo(s,i,pr(),pr(),pr())}}class ra{constructor(n,i,s,u){this.Re=n,this.removedTargetIds=i,this.key=s,this.Ve=u}}class el{constructor(n,i){this.targetId=n,this.me=i}}class uo{constructor(n,i,s=ue.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Wu{constructor(){this.fe=0,this.ge=ls(),this.pe=ue.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(n){n.approximateByteSize()>0&&(this.we=!0,this.pe=n)}ve(){let n=pr(),i=pr(),s=pr();return this.ge.forEach((u,p)=>{switch(p){case 0:n=n.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:jt()}}),new lo(this.pe,this.ye,n,i,s)}Ce(){this.we=!1,this.ge=ls()}Fe(n,i){this.we=!0,this.ge=this.ge.insert(n,i)}Me(n){this.we=!0,this.ge=this.ge.remove(n)}xe(){this.fe+=1}Oe(){this.fe-=1,Yt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Cs{constructor(n){this.Le=n,this.Be=new Map,this.ke=qo(),this.qe=Yr(),this.Qe=new qr(En)}Ke(n){for(const i of n.Re)n.Ve&&n.Ve.isFoundDocument()?this.$e(i,n.Ve):this.Ue(i,n.key,n.Ve);for(const i of n.removedTargetIds)this.Ue(i,n.key,n.Ve)}We(n){this.forEachTarget(n,i=>{const s=this.Ge(i);switch(n.state){case 0:this.ze(i)&&s.De(n.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(n.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(n.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(n.resumeToken));break;default:jt()}})}forEachTarget(n,i){n.targetIds.length>0?n.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(n){const i=n.targetId,s=n.me.count,u=this.Je(i);if(u){const p=u.target;if(zn(p))if(0===s){const _=new ln(p.path);this.Ue(i,_,ri.newNoDocument(_,Rn.min()))}else Yt(1===s);else{const _=this.Ye(i);if(_!==s){const S=this.Ze(n),O=S?this.Xe(S,n,_):1;0!==O&&(this.je(i),this.Qe=this.Qe.insert(i,2===O?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(n){const i=n.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:p=0}=i;let _,S;try{_=Ae(s).toUint8Array()}catch(O){if(O instanceof R)return gn("Decoding the base64 bloom filter in existence filter failed ("+O.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw O}try{S=new fp(_,u,p)}catch(O){return gn(O instanceof Qo?"BloomFilter error: ":"Applying bloom filter failed: ",O),null}return 0===S.Ie?null:S}Xe(n,i,s){return i.me.count===s-this.nt(n,i.targetId)?0:2}nt(n,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(p=>{const _=this.Le.tt(),S=`projects/${_.projectId}/databases/${_.database}/documents/${p.path.canonicalString()}`;n.mightContain(S)||(this.Ue(i,p,null),u++)}),u}rt(n){const i=new Map;this.Be.forEach((p,_)=>{const S=this.Je(_);if(S){if(p.current&&zn(S.target)){const O=new ln(S.target.path);null!==this.ke.get(O)||this.it(_,O)||this.Ue(_,O,ri.newNoDocument(O,n))}p.be&&(i.set(_,p.ve()),p.Ce())}});let s=pr();this.qe.forEach((p,_)=>{let S=!0;_.forEachWhile(O=>{const G=this.Je(O);return!G||"TargetPurposeLimboResolution"===G.purpose||(S=!1,!1)}),S&&(s=s.add(p))}),this.ke.forEach((p,_)=>_.setReadTime(n));const u=new iu(n,i,this.Qe,this.ke,s);return this.ke=qo(),this.qe=Yr(),this.Qe=new qr(En),u}$e(n,i){if(!this.ze(n))return;const s=this.it(n,i.key)?2:0;this.Ge(n).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(n))}Ue(n,i,s){if(!this.ze(n))return;const u=this.Ge(n);this.it(n,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(n)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(n){this.Be.delete(n)}Ye(n){const i=this.Ge(n).ve();return this.Le.getRemoteKeysForTarget(n).size+i.addedDocuments.size-i.removedDocuments.size}xe(n){this.Ge(n).xe()}Ge(n){let i=this.Be.get(n);return i||(i=new Wu,this.Be.set(n,i)),i}st(n){let i=this.qe.get(n);return i||(i=new Dr(En),this.qe=this.qe.insert(n,i)),i}ze(n){const i=null!==this.Je(n);return i||mt("WatchChangeAggregator","Detected inactive target",n),i}Je(n){const i=this.Be.get(n);return i&&i.Se?null:this.Le.ot(n)}je(n){this.Be.set(n,new Wu),this.Le.getRemoteKeysForTarget(n).forEach(i=>{this.Ue(n,i,null)})}it(n,i){return this.Le.getRemoteKeysForTarget(n).has(i)}}function Yr(){return new qr(ln.comparator)}function ls(){return new qr(ln.comparator)}const kh={asc:"ASCENDING",desc:"DESCENDING"},Nc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ou={and:"AND",or:"OR"};class Oc{constructor(n,i){this.databaseId=n,this.useProto3Json=i}}function Yo(l,n){return l.useProto3Json||Pe(n)?n:{value:n}}function Zo(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Sl(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function Rl(l,n){return Zo(l,n.toTimestamp())}function ji(l){return Yt(!!l),Rn.fromTimestamp(function(i){const s=C(i);return new Nn(s.seconds,s.nanos)}(l))}function Ml(l,n){return ka(l,n).canonicalString()}function ka(l,n){const i=(u=l,new Hn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===n?i:i.child(n)}function su(l){const n=Hn.fromString(l);return Yt(no(n)),n}function tl(l,n){return Ml(l.databaseId,n.path)}function Ts(l,n){const i=su(n);if(i.get(1)!==l.databaseId.projectId)throw new Fe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new Fe(Te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new ln(ia(i))}function Ku(l,n){return Ml(l.databaseId,n)}function Fh(l){const n=su(l);return 4===n.length?Hn.emptyPath():ia(n)}function Pd(l){return new Hn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function ia(l){return Yt(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Pl(l,n,i){return{name:tl(l,n),fields:i.value.mapValue.fields}}function Nd(l,n,i){const s=Ts(l,n.name),u=ji(n.updateTime),p=n.createTime?ji(n.createTime):Rn.min(),_=new Li({mapValue:{fields:n.fields}}),S=ri.newFoundDocument(s,u,p,_);return i&&S.setHasCommittedMutations(),i?S.setHasCommittedMutations():S}function P(l,n){let i;if(n instanceof Ur)i={update:Pl(l,n.key,n.value)};else if(n instanceof vo)i={delete:tl(l,n.key)};else if(n instanceof Cn)i={update:Pl(l,n.key,n.data),updateMask:Ui(n.fieldMask)};else{if(!(n instanceof Xo))return jt();i={verify:tl(l,n.key)}}return n.fieldTransforms.length>0&&(i.updateTransforms=n.fieldTransforms.map(s=>function(p,_){const S=_.transform;if(S instanceof Ir)return{fieldPath:_.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(S instanceof ko)return{fieldPath:_.field.canonicalString(),appendMissingElements:{values:S.elements}};if(S instanceof ii)return{fieldPath:_.field.canonicalString(),removeAllFromArray:{values:S.elements}};if(S instanceof Ja)return{fieldPath:_.field.canonicalString(),increment:S.Pe};throw jt()}(0,s))),n.precondition.isNone||(i.currentDocument=void 0!==(p=n.precondition).updateTime?{updateTime:Rl(l,p.updateTime)}:void 0!==p.exists?{exists:p.exists}:jt()),i;var p}function b(l,n){const i=n.currentDocument?void 0!==(p=n.currentDocument).updateTime?Re.updateTime(ji(p.updateTime)):void 0!==p.exists?Re.exists(p.exists):Re.none():Re.none(),s=n.updateTransforms?n.updateTransforms.map(u=>function(_,S){let O=null;"setToServerValue"in S?(Yt("REQUEST_TIME"===S.setToServerValue),O=new Ir):"appendMissingElements"in S?O=new ko(S.appendMissingElements.values||[]):"removeAllFromArray"in S?O=new ii(S.removeAllFromArray.values||[]):"increment"in S?O=new Ja(_,S.increment):jt();const G=nr.fromServerFormat(S.fieldPath);return new De(G,O)}(l,u)):[];var p;if(n.update){const u=Ts(l,n.update.name),p=new Li({mapValue:{fields:n.update.fields}});if(n.updateMask){const _=new $r((n.updateMask.fieldPaths||[]).map(ce=>nr.fromServerFormat(ce)));return new Cn(u,p,_,i,s)}return new Ur(u,p,i,s)}if(n.delete){const u=Ts(l,n.delete);return new vo(u,i)}if(n.verify){const u=Ts(l,n.verify);return new Xo(u,i)}return jt()}function ae(l,n){return{documents:[Ku(l,n.path)]}}function fe(l,n){const i={structuredQuery:{}},s=n.path;let u;null!==n.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Ku(l,u);const p=function(G){if(0!==G.length)return oi(Lr.create(G,"and"))}(n.filters);p&&(i.structuredQuery.where=p);const _=function(G){if(0!==G.length)return G.map(ce=>{return{field:ci((Ye=ce).field),direction:or(Ye.dir)};var Ye})}(n.orderBy);_&&(i.structuredQuery.orderBy=_);const S=Yo(l,n.limit);return null!==S&&(i.structuredQuery.limit=S),n.startAt&&(i.structuredQuery.startAt={before:(G=n.startAt).inclusive,values:G.position}),n.endAt&&(i.structuredQuery.endAt=function(G){return{before:!G.inclusive,values:G.position}}(n.endAt)),{_t:i,parent:u};var G}function Kt(l){let n=Fh(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Yt(1===s);const ce=i.from[0];ce.allDescendants?u=ce.collectionId:n=n.child(ce.collectionId)}let p=[];i.where&&(p=function(we){const Ye=Tn(we);return Ye instanceof Lr&&Xn(Ye)?Ye.getFilters():[Ye]}(i.where));let _=[];i.orderBy&&(_=i.orderBy.map(Ye=>{return new br(Qn((Qt=Ye).field),function(un){switch(un){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Qt.direction));var Qt}));let S=null;i.limit&&(S=function(we){let Ye;return Ye="object"==typeof we?we.value:we,Pe(Ye)?null:Ye}(i.limit));let O=null;var we;i.startAt&&(O=new Wr((we=i.startAt).values||[],!!we.before));let G=null;return i.endAt&&(G=function(we){return new Wr(we.values||[],!we.before)}(i.endAt)),Xs(n,u,_,p,S,"F",O,G)}function Tn(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Qn(i.unaryFilter.field);return qn.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Qn(i.unaryFilter.field);return qn.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const p=Qn(i.unaryFilter.field);return qn.create(p,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const _=Qn(i.unaryFilter.field);return qn.create(_,"!=",{nullValue:"NULL_VALUE"});default:return jt()}}(l):void 0!==l.fieldFilter?qn.create(Qn((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return jt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return Lr.create(i.compositeFilter.filters.map(s=>Tn(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return jt()}}(i.compositeFilter.op))}(l):jt();var i}function or(l){return kh[l]}function Xr(l){return Nc[l]}function mr(l){return ou[l]}function ci(l){return{fieldPath:l.canonicalString()}}function Qn(l){return nr.fromServerFormat(l.fieldPath)}function oi(l){return l instanceof qn?function(i){if("=="===i.op){if(qi(i.value))return{unaryFilter:{field:ci(i.field),op:"IS_NAN"}};if(Eo(i.value))return{unaryFilter:{field:ci(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(qi(i.value))return{unaryFilter:{field:ci(i.field),op:"IS_NOT_NAN"}};if(Eo(i.value))return{unaryFilter:{field:ci(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ci(i.field),op:Xr(i.op),value:i.value}}}(l):l instanceof Lr?function(i){const s=i.getFilters().map(u=>oi(u));return 1===s.length?s[0]:{compositeFilter:{op:mr(i.op),filters:s}}}(l):jt()}function Ui(l){const n=[];return l.fields.forEach(i=>n.push(i.canonicalString())),{fieldPaths:n}}function no(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class hi{constructor(n,i,s,u,p=Rn.min(),_=Rn.min(),S=ue.EMPTY_BYTE_STRING,O=null){this.target=n,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=S,this.expectedCount=O}withSequenceNumber(n){return new hi(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,i){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}class au{constructor(n){this.ct=n}}function lu(l,n){const i=n.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:va(n.readTime),hasCommittedMutations:n.hasCommittedMutations};if(n.isFoundDocument())s.document={name:tl(p=l.ct,(_=n).key),fields:_.data.value.mapValue.fields,updateTime:Zo(p,_.version.toTimestamp()),createTime:Zo(p,_.createTime.toTimestamp())};else if(n.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:Fa(n.version)};else{if(!n.isUnknownDocument())return jt();s.unknownDocument={path:i.path.toArray(),version:Fa(n.version)}}var p,_;return s}function va(l){const n=l.toTimestamp();return[n.seconds,n.nanoseconds]}function Fa(l){const n=l.toTimestamp();return{seconds:n.seconds,nanoseconds:n.nanoseconds}}function oa(l){const n=new Nn(l.seconds,l.nanoseconds);return Rn.fromTimestamp(n)}function uu(l,n){const i=(n.baseMutations||[]).map(p=>b(l.ct,p));for(let p=0;p<n.mutations.length-1;++p)p+1<n.mutations.length&&void 0!==n.mutations[p+1].transform&&(n.mutations[p].updateTransforms=n.mutations[p+1].transform.fieldTransforms,n.mutations.splice(p+1,1),++p);const s=n.mutations.map(p=>b(l.ct,p)),u=Nn.fromMillis(n.localWriteTimeMs);return new Is(n.batchId,u,i,s)}function nl(l){const n=oa(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?oa(l.lastLimboFreeSnapshotVersion):Rn.min();let s;return s=void 0!==l.query.documents?(Yt(1===(p=l.query).documents.length),to(Co(Fh(p.documents[0])))):function(p){return to(Kt(p))}(l.query),new hi(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,n,i,ue.fromBase64String(l.resumeToken));var p}function cu(l,n){const i=Fa(n.snapshotVersion),s=Fa(n.lastLimboFreeSnapshotVersion);let u;u=zn(n.target)?ae(l.ct,n.target):fe(l.ct,n.target)._t;const p=n.resumeToken.toBase64();return{targetId:n.targetId,canonicalId:se(n.target),readTime:i,resumeToken:p,lastListenSequenceNumber:n.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function sa(l){const n=Kt({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?ma(n,n.limit,"L"):n}function Od(l,n){return new na(n.largestBatchId,b(l.ct,n.overlayMutation))}function xd(l,n){const i=n.path.lastSegment();return[l,ye(n.path.popLast()),i]}function pp(l,n,i,s){return{indexId:l,uid:n,sequenceNumber:i,readTime:Fa(s.readTime),documentKey:ye(s.documentKey.path),largestBatchId:s.largestBatchId}}class Lh{getBundleMetadata(n,i){return xc(n).get(i).next(s=>{if(s)return{id:(p=s).bundleId,createTime:oa(p.createTime),version:p.version};var p})}saveBundleMetadata(n,i){return xc(n).put({bundleId:(u=i).id,createTime:Fa(ji(u.createTime)),version:u.version});var u}getNamedQuery(n,i){return kd(n).get(i).next(s=>{if(s)return{name:(p=s).name,query:sa(p.bundledQuery),readTime:oa(p.readTime)};var p})}saveNamedQuery(n,i){return kd(n).put({name:(u=i).name,readTime:Fa(ji(u.readTime)),bundledQuery:u.bundledQuery});var u}}function xc(l){return Gr(l,"bundles")}function kd(l){return Gr(l,"namedQueries")}class La{constructor(n,i){this.serializer=n,this.userId=i}static lt(n,i){return new La(n,i.uid||"")}getOverlay(n,i){return kc(n).get(xd(this.userId,i)).next(s=>s?Od(this.serializer,s):null)}getOverlays(n,i){const s=fo();return ot.forEach(i,u=>this.getOverlay(n,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(n,i,s){const u=[];return s.forEach((p,_)=>{const S=new na(i,_);u.push(this.ht(n,S))}),ot.waitFor(u)}removeOverlaysForBatchId(n,i,s){const u=new Set;i.forEach(_=>u.add(ye(_.getCollectionPath())));const p=[];return u.forEach(_=>{const S=IDBKeyRange.bound([this.userId,_,s],[this.userId,_,s+1],!1,!0);p.push(kc(n).j("collectionPathOverlayIndex",S))}),ot.waitFor(p)}getOverlaysForCollection(n,i,s){const u=fo(),p=ye(i),_=IDBKeyRange.bound([this.userId,p,s],[this.userId,p,Number.POSITIVE_INFINITY],!0);return kc(n).U("collectionPathOverlayIndex",_).next(S=>{for(const O of S){const G=Od(this.serializer,O);u.set(G.getKey(),G)}return u})}getOverlaysForCollectionGroup(n,i,s,u){const p=fo();let _;const S=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return kc(n).J({index:"collectionGroupOverlayIndex",range:S},(O,G,ce)=>{const we=Od(this.serializer,G);p.size()<u||we.largestBatchId===_?(p.set(we.getKey(),we),_=we.largestBatchId):ce.done()}).next(()=>p)}ht(n,i){return kc(n).put(function(u,p,_){const[S,O,G]=xd(p,_.mutation.key);return{userId:p,collectionPath:O,documentId:G,collectionGroup:_.mutation.key.getCollectionGroup(),largestBatchId:_.largestBatchId,overlayMutation:P(u.ct,_.mutation)}}(this.serializer,this.userId,i))}}function kc(l){return Gr(l,"documentOverlays")}class Fc{Pt(n){return Gr(n,"globals")}getSessionToken(n){return this.Pt(n).get("sessionToken").next(i=>{const s=null==i?void 0:i.value;return s?ue.fromUint8Array(s):ue.EMPTY_BYTE_STRING})}setSessionToken(n,i){return this.Pt(n).put({name:"sessionToken",value:i.toUint8Array()})}}class Va{constructor(){}It(n,i){this.Tt(n,i),i.Et()}Tt(n,i){if("nullValue"in n)this.dt(i,5);else if("booleanValue"in n)this.dt(i,10),i.At(n.booleanValue?1:0);else if("integerValue"in n)this.dt(i,15),i.At(F(n.integerValue));else if("doubleValue"in n){const s=F(n.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),Y(s)?i.At(0):i.At(s))}else if("timestampValue"in n){let s=n.timestampValue;this.dt(i,20),"string"==typeof s&&(s=C(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in n)this.Vt(n.stringValue,i),this.ft(i);else if("bytesValue"in n)this.dt(i,30),i.gt(Ae(n.bytesValue)),this.ft(i);else if("referenceValue"in n)this.yt(n.referenceValue,i);else if("geoPointValue"in n){const s=n.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in n?Oo(n)?this.dt(i,Number.MAX_SAFE_INTEGER):fa(n)?this.wt(n.mapValue,i):(this.St(n.mapValue,i),this.ft(i)):"arrayValue"in n?(this.bt(n.arrayValue,i),this.ft(i)):jt()}Vt(n,i){this.dt(i,25),this.Dt(n,i)}Dt(n,i){i.Rt(n)}St(n,i){const s=n.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(n,i){var s,u;const p=n.fields||{};this.dt(i,53);const _="value",S=(null===(u=null===(s=p[_].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(F(S)),this.Vt(_,i),this.Tt(p[_],i)}bt(n,i){const s=n.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(n,i){this.dt(i,37),ln.fromName(n).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(n,i){n.At(i)}ft(n){n.At(2)}}function Vh(l){if(0===l)return 8;let n=0;return!(l>>4)&&(n+=4,l<<=4),!(l>>6)&&(n+=2,l<<=2),!(l>>7)&&(n+=1),n}function Fd(l){const n=64-function(s){let u=0;for(let p=0;p<8;++p){const _=Vh(255&s[p]);if(u+=_,8!==_)break}return u}(l);return Math.ceil(n/8)}Va.vt=new Va;class qu{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(n){const i=n[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(n){for(const i of n){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(n){const i=this.qt(n),s=Fd(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(n){const i=this.qt(n),s=Fd(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(n){this.Qt(n.length),this.buffer.set(n,this.position),this.position+=n.length}zt(){return this.buffer.slice(0,this.position)}qt(n){const i=function(p){const _=new DataView(new ArrayBuffer(8));return _.setFloat64(0,p,!1),new Uint8Array(_.buffer)}(n),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(n){const i=255&n;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(n){const i=255&n;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(n)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(n){this.Qt(1),this.buffer[this.position++]=n}Gt(n){this.Qt(1),this.buffer[this.position++]=~n}Qt(n){const i=n+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Ds{constructor(n){this.jt=n}gt(n){this.jt.Ct(n)}Rt(n){this.jt.Lt(n)}At(n){this.jt.kt(n)}Et(){this.jt.$t()}}class Xu{constructor(n){this.jt=n}gt(n){this.jt.xt(n)}Rt(n){this.jt.Bt(n)}At(n){this.jt.Kt(n)}Et(){this.jt.Wt()}}class _a{constructor(){this.jt=new qu,this.Ht=new Ds(this.jt),this.Jt=new Xu(this.jt)}seed(n){this.jt.seed(n)}Yt(n){return 0===n?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class du{constructor(n,i,s,u){this.indexId=n,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const n=this.directionalValue.length,i=0===n||255===this.directionalValue[n-1]?n+1:n,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==n?s.set([0],this.directionalValue.length):++s[s.length-1],new du(this.indexId,this.documentKey,this.arrayValue,s)}}function Ol(l,n){let i=l.indexId-n.indexId;return 0!==i?i:(i=Lc(l.arrayValue,n.arrayValue),0!==i?i:(i=Lc(l.directionalValue,n.directionalValue),0!==i?i:ln.comparator(l.documentKey,n.documentKey)))}function Lc(l,n){for(let i=0;i<l.length&&i<n.length;++i){const s=l[i]-n[i];if(0!==s)return s}return l.length-n.length}class rl{constructor(n){this.Xt=new Dr((i,s)=>nr.comparator(i.field,s.field)),this.collectionId=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment(),this.en=n.orderBy,this.tn=[];for(const i of n.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(n){if(Yt(n.collectionGroup===this.collectionId),this.nn)return!1;const i=St(n);if(void 0!==i&&!this.sn(i))return!1;const s=at(n);let u=new Set,p=0,_=0;for(;p<s.length&&this.sn(s[p]);++p)u=u.add(s[p].fieldPath.canonicalString());if(p===s.length)return!0;if(this.Xt.size>0){const S=this.Xt.getIterator().getNext();if(!u.has(S.field.canonicalString())){const O=s[p];if(!this.on(S,O)||!this._n(this.en[_++],O))return!1}++p}for(;p<s.length;++p)if(_>=this.en.length||!this._n(this.en[_++],s[p]))return!1;return!0}an(){if(this.nn)return null;let n=new Dr(nr.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new Qe(s.field,2));else{if(n.has(s.field))continue;n=n.add(s.field),i.push(new Qe(s.field,0))}for(const s of this.en)s.field.isKeyField()||n.has(s.field)||(n=n.add(s.field),i.push(new Qe(s.field,"asc"===s.dir?0:1)));return new si(si.UNKNOWN_ID,this.collectionId,i,me.empty())}sn(n){for(const i of this.tn)if(this.on(i,n))return!0;return!1}on(n,i){return!(void 0===n||!n.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===n.op||"array-contains-any"===n.op)}_n(n,i){return!!n.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===n.dir||1===i.kind&&"desc"===n.dir)}}function Ld(l){var n,i;if(Yt(l instanceof qn||l instanceof Lr),l instanceof qn){if(l instanceof Cl){const u=(null===(i=null===(n=l.value.arrayValue)||void 0===n?void 0:n.values)||void 0===i?void 0:i.map(p=>qn.create(l.field,"==",p)))||[];return Lr.create(u,"or")}return l}const s=l.filters.map(u=>Ld(u));return Lr.create(s,l.op)}function im(l){if(0===l.getFilters().length)return[];const n=Vd(Ld(l));return Yt(Uh(n)),Vc(n)||Qu(n)?[n]:n.getFilters()}function Vc(l){return l instanceof qn}function Qu(l){return l instanceof Lr&&Xn(l)}function Uh(l){return Vc(l)||Qu(l)||function(i){if(i instanceof Lr&&xs(i)){for(const s of i.getFilters())if(!Vc(s)&&!Qu(s))return!1;return!0}return!1}(l)}function Vd(l){if(Yt(l instanceof qn||l instanceof Lr),l instanceof qn)return l;if(1===l.filters.length)return Vd(l.filters[0]);const n=l.filters.map(s=>Vd(s));let i=Lr.create(n,l.op);return i=Ud(i),Uh(i)?i:(Yt(i instanceof Lr),Yt(Pa(i)),Yt(i.filters.length>1),i.filters.reduce((s,u)=>Uc(s,u)))}function Uc(l,n){let i;return Yt(l instanceof qn||l instanceof Lr),Yt(n instanceof qn||n instanceof Lr),i=l instanceof qn?n instanceof qn?Lr.create([l,n],"and"):il(l,n):n instanceof qn?il(n,l):function(u,p){if(Yt(u.filters.length>0&&p.filters.length>0),Pa(u)&&Pa(p))return Na(u,p.getFilters());const _=xs(u)?u:p,S=xs(u)?p:u,O=_.filters.map(G=>Uc(G,S));return Lr.create(O,"or")}(l,n),Ud(i)}function il(l,n){if(Pa(n))return Na(n,l.getFilters());{const i=n.filters.map(s=>Uc(l,s));return Lr.create(i,"or")}}function Ud(l){if(Yt(l instanceof qn||l instanceof Lr),l instanceof qn)return l;const n=l.getFilters();if(1===n.length)return Ud(n[0]);if(ks(l))return l;const i=n.map(u=>Ud(u)),s=[];return i.forEach(u=>{u instanceof qn?s.push(u):u instanceof Lr&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:Lr.create(s,l.op)}class om{constructor(){this.un=new Xi}addToCollectionParentIndex(n,i){return this.un.add(i),ot.resolve()}getCollectionParents(n,i){return ot.resolve(this.un.getEntries(i))}addFieldIndex(n,i){return ot.resolve()}deleteFieldIndex(n,i){return ot.resolve()}deleteAllFieldIndexes(n){return ot.resolve()}createTargetIndexes(n,i){return ot.resolve()}getDocumentsMatchingTarget(n,i){return ot.resolve(null)}getIndexType(n,i){return ot.resolve(0)}getFieldIndexes(n,i){return ot.resolve([])}getNextCollectionGroupToUpdate(n){return ot.resolve(null)}getMinOffset(n,i){return ot.resolve(bt.min())}getMinOffsetFromCollectionGroup(n,i){return ot.resolve(bt.min())}updateCollectionGroup(n,i,s){return ot.resolve()}updateIndexEntries(n,i){return ot.resolve()}}class Xi{constructor(){this.index={}}add(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i]||new Dr(Hn.comparator),p=!u.has(s);return this.index[i]=u.add(s),p}has(n){const i=n.lastSegment(),s=n.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(n){return(this.index[n]||new Dr(Hn.comparator)).toArray()}}const Bc=new Uint8Array(0);class sm{constructor(n,i){this.databaseId=i,this.cn=new Xi,this.ln=new Ko(s=>se(s),(s,u)=>nn(s,u)),this.uid=n.uid||""}addToCollectionParentIndex(n,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();n.addOnCommittedListener(()=>{this.cn.add(i)});const p={collectionId:s,parent:ye(u)};return xl(n).put(p)}return ot.resolve()}getCollectionParents(n,i){const s=[],u=IDBKeyRange.bound([i,""],[Kn(i),""],!1,!0);return xl(n).U(u).next(p=>{for(const _ of p){if(_.collectionId!==i)break;s.push(on(_.parent))}return s})}addFieldIndex(n,i){const s=hu(n),u={indexId:(S=i).indexId,collectionGroup:S.collectionGroup,fields:S.fields.map(O=>[O.fieldPath.canonicalString(),O.kind])};var S;delete u.indexId;const p=s.add(u);if(i.indexState){const _=ol(n);return p.next(S=>{_.put(pp(S,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return p.next()}deleteFieldIndex(n,i){const s=hu(n),u=ol(n),p=Yu(n);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(n){const i=hu(n),s=Yu(n),u=ol(n);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(n,i){return ot.forEach(this.hn(i),s=>this.getIndexType(n,s).next(u=>{if(0===u||1===u){const p=new rl(s).an();if(null!=p)return this.addFieldIndex(n,p)}}))}getDocumentsMatchingTarget(n,i){const s=Yu(n);let u=!0;const p=new Map;return ot.forEach(this.hn(i),_=>this.Pn(n,_).next(S=>{u&&(u=!!S),p.set(_,S)})).next(()=>{if(u){let _=pr();const S=[];return ot.forEach(p,(O,G)=>{var Yn;mt("IndexedDbIndexManager",`Using index ${Yn=O,`id=${Yn.indexId}|cg=${Yn.collectionGroup}|f=${Yn.fields.map(_r=>`${_r.fieldPath}:${_r.kind}`).join(",")}`} to execute ${se(i)}`);const ce=function(Yn,_r){const Jr=St(_r);if(void 0===Jr)return null;for(const Rr of ui(Yn,Jr.fieldPath))switch(Rr.op){case"array-contains-any":return Rr.value.arrayValue.values||[];case"array-contains":return[Rr.value]}return null}(G,O),we=function(Yn,_r){const Jr=new Map;for(const Rr of at(_r))for(const vt of ui(Yn,Rr.fieldPath))switch(vt.op){case"==":case"in":Jr.set(Rr.fieldPath.canonicalString(),vt.value);break;case"not-in":case"!=":return Jr.set(Rr.fieldPath.canonicalString(),vt.value),Array.from(Jr.values())}return null}(G,O),Ye=function(Yn,_r){const Jr=[];let Rr=!0;for(const vt of at(_r)){const Ke=0===vt.kind?Vi(Yn,vt.fieldPath,Yn.startAt):eo(Yn,vt.fieldPath,Yn.startAt);Jr.push(Ke.value),Rr&&(Rr=Ke.inclusive)}return new Wr(Jr,Rr)}(G,O),Ct=function(Yn,_r){const Jr=[];let Rr=!0;for(const vt of at(_r)){const Ke=0===vt.kind?eo(Yn,vt.fieldPath,Yn.endAt):Vi(Yn,vt.fieldPath,Yn.endAt);Jr.push(Ke.value),Rr&&(Rr=Ke.inclusive)}return new Wr(Jr,Rr)}(G,O),Qt=this.In(O,G,Ye),fn=this.In(O,G,Ct),un=this.Tn(O,G,we),jn=this.En(O.indexId,ce,Qt,Ye.inclusive,fn,Ct.inclusive,un);return ot.forEach(jn,ir=>s.G(ir,i.limit).next(Yn=>{Yn.forEach(_r=>{const Jr=ln.fromSegments(_r.documentKey);_.has(Jr)||(_=_.add(Jr),S.push(Jr))})}))}).next(()=>S)}return ot.resolve(null)})}hn(n){let i=this.ln.get(n);return i||(i=0===n.filters.length?[n]:im(Lr.create(n.filters,"and")).map(s=>B(n.path,n.collectionGroup,n.orderBy,s.getFilters(),n.limit,n.startAt,n.endAt)),this.ln.set(n,i),i)}En(n,i,s,u,p,_,S){const O=(null!=i?i.length:1)*Math.max(s.length,p.length),G=O/(null!=i?i.length:1),ce=[];for(let we=0;we<O;++we){const Ye=i?this.dn(i[we/G]):Bc,Ct=this.An(n,Ye,s[we%G],u),Qt=this.Rn(n,Ye,p[we%G],_),fn=S.map(un=>this.An(n,Ye,un,!0));ce.push(...this.createRange(Ct,Qt,fn))}return ce}An(n,i,s,u){const p=new du(n,ln.empty(),i,s);return u?p:p.Zt()}Rn(n,i,s,u){const p=new du(n,ln.empty(),i,s);return u?p.Zt():p}Pn(n,i){const s=new rl(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(n,u).next(p=>{let _=null;for(const S of p)s.rn(S)&&(!_||S.fields.length>_.fields.length)&&(_=S);return _})}getIndexType(n,i){let s=2;const u=this.hn(i);return ot.forEach(u,p=>this.Pn(n,p).next(_=>{_?0!==s&&_.fields.length<function(O){let G=new Dr(nr.comparator),ce=!1;for(const we of O.filters)for(const Ye of we.getFlattenedFilters())Ye.field.isKeyField()||("array-contains"===Ye.op||"array-contains-any"===Ye.op?ce=!0:G=G.add(Ye.field));for(const we of O.orderBy)we.field.isKeyField()||(G=G.add(we.field));return G.size+(ce?1:0)}(p)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(n,i){const s=new _a;for(const u of at(n)){const p=i.data.field(u.fieldPath);if(null==p)return null;const _=s.Yt(u.kind);Va.vt.It(p,_)}return s.zt()}dn(n){const i=new _a;return Va.vt.It(n,i.Yt(0)),i.zt()}mn(n,i){const s=new _a;return Va.vt.It(po(this.databaseId,i),s.Yt(function(p){const _=at(p);return 0===_.length?0:_[_.length-1].kind}(n))),s.zt()}Tn(n,i,s){if(null===s)return[];let u=[];u.push(new _a);let p=0;for(const _ of at(n)){const S=s[p++];for(const O of u)if(this.fn(i,_.fieldPath)&&Dn(S))u=this.gn(u,_,S);else{const G=O.Yt(_.kind);Va.vt.It(S,G)}}return this.pn(u)}In(n,i,s){return this.Tn(n,i,s.position)}pn(n){const i=[];for(let s=0;s<n.length;++s)i[s]=n[s].zt();return i}gn(n,i,s){const u=[...n],p=[];for(const _ of s.arrayValue.values||[])for(const S of u){const O=new _a;O.seed(S.zt()),Va.vt.It(_,O.Yt(i.kind)),p.push(O)}return p}fn(n,i){return!!n.filters.find(s=>s instanceof qn&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(n,i){const s=hu(n),u=ol(n);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(p=>{const _=[];return ot.forEach(p,S=>u.get([S.indexId,this.uid]).next(O=>{_.push(function(ce,we){const Ye=we?new me(we.sequenceNumber,new bt(oa(we.readTime),new ln(on(we.documentKey)),we.largestBatchId)):me.empty(),Ct=ce.fields.map(([Qt,fn])=>new Qe(nr.fromServerFormat(Qt),fn));return new si(ce.indexId,ce.collectionGroup,Ct,Ye)}(S,O))})).next(()=>_)})}getNextCollectionGroupToUpdate(n){return this.getFieldIndexes(n).next(i=>0===i.length?null:(i.sort((s,u)=>{const p=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:En(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(n,i,s){const u=hu(n),p=ol(n);return this.yn(n).next(_=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(S=>ot.forEach(S,O=>p.put(pp(O.indexId,this.uid,_,s)))))}updateIndexEntries(n,i){const s=new Map;return ot.forEach(i,(u,p)=>{const _=s.get(u.collectionGroup);return(_?ot.resolve(_):this.getFieldIndexes(n,u.collectionGroup)).next(S=>(s.set(u.collectionGroup,S),ot.forEach(S,O=>this.wn(n,u,O).next(G=>{const ce=this.Sn(p,O);return G.isEqual(ce)?ot.resolve():this.bn(n,p,O,G,ce)}))))})}Dn(n,i,s,u){return Yu(n).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(n,i,s,u){return Yu(n).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(n,i,s){const u=Yu(n);let p=new Dr(Ol);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(_,S)=>{p=p.add(new du(s.indexId,i,S.arrayValue,S.directionalValue))}).next(()=>p)}Sn(n,i){let s=new Dr(Ol);const u=this.Vn(i,n);if(null==u)return s;const p=St(i);if(null!=p){const _=n.data.field(p.fieldPath);if(Dn(_))for(const S of _.arrayValue.values||[])s=s.add(new du(i.indexId,n.key,this.dn(S),u))}else s=s.add(new du(i.indexId,n.key,Bc,u));return s}bn(n,i,s,u,p){mt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const _=[];return function(O,G,ce,we,Ye){const Ct=O.getIterator(),Qt=G.getIterator();let fn=No(Ct),un=No(Qt);for(;fn||un;){let jn=!1,ir=!1;if(fn&&un){const Yn=ce(fn,un);Yn<0?ir=!0:Yn>0&&(jn=!0)}else null!=fn?ir=!0:jn=!0;jn?(we(un),un=No(Qt)):ir?(Ye(fn),fn=No(Ct)):(fn=No(Ct),un=No(Qt))}}(u,p,Ol,S=>{_.push(this.Dn(n,i,s,S))},S=>{_.push(this.vn(n,i,s,S))}),ot.waitFor(_)}yn(n){let i=1;return ol(n).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,p)=>{p.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(n,i,s){s=s.sort((_,S)=>Ol(_,S)).filter((_,S,O)=>!S||0!==Ol(_,O[S-1]));const u=[];u.push(n);for(const _ of s){const S=Ol(_,n),O=Ol(_,i);if(0===S)u[0]=n.Zt();else if(S>0&&O<0)u.push(_),u.push(_.Zt());else if(O>0)break}u.push(i);const p=[];for(let _=0;_<u.length;_+=2){if(this.Cn(u[_],u[_+1]))return[];p.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,Bc,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,Bc,[]]))}return p}Cn(n,i){return Ol(n,i)>0}getMinOffsetFromCollectionGroup(n,i){return this.getFieldIndexes(n,i).next(Bd)}getMinOffset(n,i){return ot.mapArray(this.hn(i),s=>this.Pn(n,s).next(u=>u||jt())).next(Bd)}}function xl(l){return Gr(l,"collectionParents")}function Yu(l){return Gr(l,"indexEntries")}function hu(l){return Gr(l,"indexConfiguration")}function ol(l){return Gr(l,"indexState")}function Bd(l){Yt(0!==l.length);let n=l[0].indexState.offset,i=n.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;ht(u,n)<0&&(n=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new bt(n.readTime,n.documentKey,i)}const Bh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class To{constructor(n,i,s){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(n){return new To(n,To.DEFAULT_COLLECTION_PERCENTILE,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function $d(l,n,i){const s=l.store("mutations"),u=l.store("documentMutations"),p=[],_=IDBKeyRange.only(i.batchId);let S=0;const O=s.J({range:_},(ce,we,Ye)=>(S++,Ye.delete()));p.push(O.next(()=>{Yt(1===S)}));const G=[];for(const ce of i.mutations){const we=pi(n,ce.key.path,i.batchId);p.push(u.delete(we)),G.push(ce.key)}return ot.waitFor(p).next(()=>G)}function kl(l){if(!l)return 0;let n;if(l.document)n=l.document;else if(l.unknownDocument)n=l.unknownDocument;else{if(!l.noDocument)throw jt();n=l.noDocument}return JSON.stringify(n).length}To.DEFAULT_COLLECTION_PERCENTILE=10,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,To.DEFAULT=new To(41943040,To.DEFAULT_COLLECTION_PERCENTILE,To.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),To.DISABLED=new To(-1,0,0);class Di{constructor(n,i,s,u){this.userId=n,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(n,i,s,u){Yt(""!==n.uid);const p=n.isAuthenticated()?n.uid:"";return new Di(p,i,s,u)}checkEmpty(n){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Gn(n).J({index:"userMutationsIndex",range:s},(u,p,_)=>{i=!1,_.done()}).next(()=>i)}addMutationBatch(n,i,s,u){const p=Ni(n),_=Gn(n);return _.add({}).next(S=>{Yt("number"==typeof S);const O=new Is(S,i,s,u),G=function(Ct,Qt,fn){const un=fn.baseMutations.map(ir=>P(Ct.ct,ir)),jn=fn.mutations.map(ir=>P(Ct.ct,ir));return{userId:Qt,batchId:fn.batchId,localWriteTimeMs:fn.localWriteTime.toMillis(),baseMutations:un,mutations:jn}}(this.serializer,this.userId,O),ce=[];let we=new Dr((Ye,Ct)=>En(Ye.canonicalString(),Ct.canonicalString()));for(const Ye of u){const Ct=pi(this.userId,Ye.key.path,S);we=we.add(Ye.key.path.popLast()),ce.push(_.put(G)),ce.push(p.put(Ct,ei))}return we.forEach(Ye=>{ce.push(this.indexManager.addToCollectionParentIndex(n,Ye))}),n.addOnCommittedListener(()=>{this.Fn[S]=O.keys()}),ot.waitFor(ce).next(()=>O)})}lookupMutationBatch(n,i){return Gn(n).get(i).next(s=>s?(Yt(s.userId===this.userId),uu(this.serializer,s)):null)}Mn(n,i){return this.Fn[i]?ot.resolve(this.Fn[i]):this.lookupMutationBatch(n,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(n,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let p=null;return Gn(n).J({index:"userMutationsIndex",range:u},(_,S,O)=>{S.userId===this.userId&&(Yt(S.batchId>=s),p=uu(this.serializer,S)),O.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(n){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return Gn(n).J({index:"userMutationsIndex",range:i,reverse:!0},(u,p,_)=>{s=p.batchId,_.done()}).next(()=>s)}getAllMutationBatches(n){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Gn(n).U("userMutationsIndex",i).next(s=>s.map(u=>uu(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(n,i){const s=On(this.userId,i.path),u=IDBKeyRange.lowerBound(s),p=[];return Ni(n).J({range:u},(_,S,O)=>{const[G,ce,we]=_,Ye=on(ce);if(G===this.userId&&i.path.isEqual(Ye))return Gn(n).get(we).next(Ct=>{if(!Ct)throw jt();Yt(Ct.userId===this.userId),p.push(uu(this.serializer,Ct))});O.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Dr(En);const u=[];return i.forEach(p=>{const _=On(this.userId,p.path),S=IDBKeyRange.lowerBound(_),O=Ni(n).J({range:S},(G,ce,we)=>{const[Ye,Ct,Qt]=G,fn=on(Ct);Ye===this.userId&&p.path.isEqual(fn)?s=s.add(Qt):we.done()});u.push(O)}),ot.waitFor(u).next(()=>this.xn(n,s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1,p=On(this.userId,s),_=IDBKeyRange.lowerBound(p);let S=new Dr(En);return Ni(n).J({range:_},(O,G,ce)=>{const[we,Ye,Ct]=O,Qt=on(Ye);we===this.userId&&s.isPrefixOf(Qt)?Qt.length===u&&(S=S.add(Ct)):ce.done()}).next(()=>this.xn(n,S))}xn(n,i){const s=[],u=[];return i.forEach(p=>{u.push(Gn(n).get(p).next(_=>{if(null===_)throw jt();Yt(_.userId===this.userId),s.push(uu(this.serializer,_))}))}),ot.waitFor(u).next(()=>s)}removeMutationBatch(n,i){return $d(n._e,this.userId,i).next(s=>(n.addOnCommittedListener(()=>{this.On(i.batchId)}),ot.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(n,u))))}On(n){delete this.Fn[n]}performConsistencyCheck(n){return this.checkEmpty(n).next(i=>{if(!i)return ot.resolve();const s=IDBKeyRange.lowerBound(function(_){return[_]}(this.userId)),u=[];return Ni(n).J({range:s},(p,_,S)=>{if(p[0]===this.userId){const O=on(p[1]);u.push(O)}else S.done()}).next(()=>{Yt(0===u.length)})})}containsKey(n,i){return _n(n,this.userId,i)}Nn(n){return bs(n).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function _n(l,n,i){const s=On(n,i.path),u=s[1],p=IDBKeyRange.lowerBound(s);let _=!1;return Ni(l).J({range:p,H:!0},(S,O,G)=>{const[ce,we,Ye]=S;ce===n&&we===u&&(_=!0),G.done()}).next(()=>_)}function Gn(l){return Gr(l,"mutations")}function Ni(l){return Gr(l,"documentMutations")}function bs(l){return Gr(l,"mutationQueues")}class Qi{constructor(n){this.Ln=n}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qi(0)}static kn(){return new Qi(-1)}}class us{constructor(n,i){this.referenceDelegate=n,this.serializer=i}allocateTargetId(n){return this.qn(n).next(i=>{const s=new Qi(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(n,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(n){return this.qn(n).next(i=>Rn.fromTimestamp(new Nn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(n){return this.qn(n).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(n,i,s){return this.qn(n).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(n,u)))}addTargetData(n,i){return this.Kn(n,i).next(()=>this.qn(n).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(n,s))))}updateTargetData(n,i){return this.Kn(n,i)}removeTargetData(n,i){return this.removeMatchingKeysForTargetId(n,i.targetId).next(()=>aa(n).delete(i.targetId)).next(()=>this.qn(n)).next(s=>(Yt(s.targetCount>0),s.targetCount-=1,this.Qn(n,s)))}removeTargets(n,i,s){let u=0;const p=[];return aa(n).J((_,S)=>{const O=nl(S);O.sequenceNumber<=i&&null===s.get(O.targetId)&&(u++,p.push(this.removeTargetData(n,O)))}).next(()=>ot.waitFor(p)).next(()=>u)}forEachTarget(n,i){return aa(n).J((s,u)=>{const p=nl(u);i(p)})}qn(n){return Ii(n).get("targetGlobalKey").next(i=>(Yt(null!==i),i))}Qn(n,i){return Ii(n).put("targetGlobalKey",i)}Kn(n,i){return aa(n).put(cu(this.serializer,i))}$n(n,i){let s=!1;return n.targetId>i.highestTargetId&&(i.highestTargetId=n.targetId,s=!0),n.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n.sequenceNumber,s=!0),s}getTargetCount(n){return this.qn(n).next(i=>i.targetCount)}getTargetData(n,i){const s=se(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let p=null;return aa(n).J({range:u,index:"queryTargetsIndex"},(_,S,O)=>{const G=nl(S);nn(i,G.target)&&(p=G,O.done())}).next(()=>p)}addMatchingKeys(n,i,s){const u=[],p=wi(n);return i.forEach(_=>{const S=ye(_.path);u.push(p.put({targetId:s,path:S})),u.push(this.referenceDelegate.addReference(n,s,_))}),ot.waitFor(u)}removeMatchingKeys(n,i,s){const u=wi(n);return ot.forEach(i,p=>{const _=ye(p.path);return ot.waitFor([u.delete([s,_]),this.referenceDelegate.removeReference(n,s,p)])})}removeMatchingKeysForTargetId(n,i){const s=wi(n),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(n,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=wi(n);let p=pr();return u.J({range:s,H:!0},(_,S,O)=>{const G=on(_[1]),ce=new ln(G);p=p.add(ce)}).next(()=>p)}containsKey(n,i){const s=ye(i.path),u=IDBKeyRange.bound([s],[Kn(s)],!1,!0);let p=0;return wi(n).J({index:"documentTargetsIndex",H:!0,range:u},([_,S],O,G)=>{0!==_&&(p++,G.done())}).next(()=>p>0)}ot(n,i){return aa(n).get(i).next(s=>s?nl(s):null)}}function aa(l){return Gr(l,"targets")}function Ii(l){return Gr(l,"targetGlobal")}function wi(l){return Gr(l,"targetDocuments")}function ya([l,n],[i,s]){const u=En(l,i);return 0===u?En(n,s):u}class vr{constructor(n){this.Un=n,this.buffer=new Dr(ya),this.Wn=0}Gn(){return++this.Wn}zn(n){const i=[n,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();ya(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Zu{constructor(n,i,s){this.garbageCollector=n,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(n){var i=this;mt("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,ve.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){zr(s)?mt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield lr(s)}yield i.Hn(3e5)}))}}class $c{constructor(n,i){this.Jn=n,this.params=i}calculateTargetCount(n,i){return this.Jn.Yn(n).next(s=>Math.floor(i/100*s))}nthSequenceNumber(n,i){if(0===i)return ot.resolve(q.oe);const s=new vr(i);return this.Jn.forEachTarget(n,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(n,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(n,i,s){return this.Jn.removeTargets(n,i,s)}removeOrphanedDocuments(n,i){return this.Jn.removeOrphanedDocuments(n,i)}collect(n,i){return-1===this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(Bh)):this.getCacheSize(n).next(s=>s<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bh):this.Xn(n,i))}getCacheSize(n){return this.Jn.getCacheSize(n)}Xn(n,i){let s,u,p,_,S,O,G;const ce=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(we=>(we>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${we}`),u=this.params.maximumSequenceNumbersToCollect):u=we,_=Date.now(),this.nthSequenceNumber(n,u))).next(we=>(s=we,S=Date.now(),this.removeTargets(n,s,i))).next(we=>(p=we,O=Date.now(),this.removeOrphanedDocuments(n,s))).next(we=>(G=Date.now(),Et()<=Je.$b.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-ce}ms\n\tDetermined least recently used ${u} in `+(S-_)+`ms\n\tRemoved ${p} targets in `+(O-S)+`ms\n\tRemoved ${we} documents in `+(G-O)+`ms\nTotal Duration: ${G-ce}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:we})))}}class Hi{constructor(n,i){this.db=n,this.garbageCollector=function fu(l,n){return new $c(l,n)}(this,i)}Yn(n){const i=this.er(n);return this.db.getTargetCache().getTargetCount(n).next(s=>i.next(u=>s+u))}er(n){let i=0;return this.Zn(n,s=>{i++}).next(()=>i)}forEachTarget(n,i){return this.db.getTargetCache().forEachTarget(n,i)}Zn(n,i){return this.tr(n,(s,u)=>i(u))}addReference(n,i,s){return Ua(n,s)}removeReference(n,i,s){return Ua(n,s)}removeTargets(n,i,s){return this.db.getTargetCache().removeTargets(n,i,s)}markPotentiallyOrphaned(n,i){return Ua(n,i)}nr(n,i){return function(u,p){let _=!1;return bs(u).Y(S=>_n(u,S,p).next(O=>(O&&(_=!0),ot.resolve(!O)))).next(()=>_)}(n,i)}removeOrphanedDocuments(n,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.tr(n,(_,S)=>{if(S<=i){const O=this.nr(n,_).next(G=>{if(!G)return p++,s.getEntry(n,_).next(()=>(s.removeEntry(_,Rn.min()),wi(n).delete([0,ye(_.path)])))});u.push(O)}}).next(()=>ot.waitFor(u)).next(()=>s.apply(n)).next(()=>p)}removeTarget(n,i){const s=i.withSequenceNumber(n.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(n,s)}updateLimboDocument(n,i){return Ua(n,i)}tr(n,i){const s=wi(n);let u,p=q.oe;return s.J({index:"documentTargetsIndex"},([_,S],{path:O,sequenceNumber:G})=>{0===_?(p!==q.oe&&i(new ln(on(u)),p),p=G,u=O):p=q.oe}).next(()=>{p!==q.oe&&i(new ln(on(u)),p)})}getCacheSize(n){return this.db.getRemoteDocumentCache().getSize(n)}}function Ua(l,n){return wi(l).put((u=l.currentSequenceNumber,{targetId:0,path:ye(n.path),sequenceNumber:u}));var u}class pu{constructor(){this.changes=new Ko(n=>n.toString(),(n,i)=>n.isEqual(i)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,i){this.assertNotApplied(),this.changes.set(n,ri.newInvalidDocument(n).setReadTime(i))}getEntry(n,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?ot.resolve(s):this.getFromCache(n,i)}getEntries(n,i){return this.getAllFromCache(n,i)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}class Ba{constructor(n){this.serializer=n}setIndexManager(n){this.indexManager=n}addEntry(n,i,s){return Vs(n).put(s)}removeEntry(n,i,s){return Vs(n).delete(function(p,_){const S=p.path.toArray();return[S.slice(0,S.length-2),S[S.length-2],va(_),S[S.length-1]]}(i,s))}updateMetadata(n,i){return this.getMetadata(n).next(s=>(s.byteSize+=i,this.rr(n,s)))}getEntry(n,i){let s=ri.newInvalidDocument(i);return Vs(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Jo(i))},(u,p)=>{s=this.ir(i,p)}).next(()=>s)}sr(n,i){let s={size:0,document:ri.newInvalidDocument(i)};return Vs(n).J({index:"documentKeyIndex",range:IDBKeyRange.only(Jo(i))},(u,p)=>{s={document:this.ir(i,p),size:kl(p)}}).next(()=>s)}getEntries(n,i){let s=qo();return this._r(n,i,(u,p)=>{const _=this.ir(u,p);s=s.insert(u,_)}).next(()=>s)}ar(n,i){let s=qo(),u=new qr(ln.comparator);return this._r(n,i,(p,_)=>{const S=this.ir(p,_);s=s.insert(p,S),u=u.insert(p,kl(_))}).next(()=>({documents:s,ur:u}))}_r(n,i,s){if(i.isEmpty())return ot.resolve();let u=new Dr(jd);i.forEach(O=>u=u.add(O));const p=IDBKeyRange.bound(Jo(u.first()),Jo(u.last())),_=u.getIterator();let S=_.getNext();return Vs(n).J({index:"documentKeyIndex",range:p},(O,G,ce)=>{const we=ln.fromSegments([...G.prefixPath,G.collectionGroup,G.documentId]);for(;S&&jd(S,we)<0;)s(S,null),S=_.getNext();S&&S.isEqual(we)&&(s(S,G),S=_.hasNext()?_.getNext():null),S?ce.$(Jo(S)):ce.done()}).next(()=>{for(;S;)s(S,null),S=_.hasNext()?_.getNext():null})}getDocumentsMatchingQuery(n,i,s,u,p){const _=i.path,S=[_.popLast().toArray(),_.lastSegment(),va(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],O=[_.popLast().toArray(),_.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vs(n).U(IDBKeyRange.bound(S,O,!0)).next(G=>{null==p||p.incrementDocumentReadCount(G.length);let ce=qo();for(const we of G){const Ye=this.ir(ln.fromSegments(we.prefixPath.concat(we.collectionGroup,we.documentId)),we);Ye.isFoundDocument()&&(Zs(i,Ye)||u.has(Ye.key))&&(ce=ce.insert(Ye.key,Ye))}return ce})}getAllFromCollectionGroup(n,i,s,u){let p=qo();const _=Wn(i,s),S=Wn(i,bt.max());return Vs(n).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,S,!0)},(O,G,ce)=>{const we=this.ir(ln.fromSegments(G.prefixPath.concat(G.collectionGroup,G.documentId)),G);p=p.insert(we.key,we),p.size===u&&ce.done()}).next(()=>p)}newChangeBuffer(n){return new gp(this,!!n&&n.trackRemovals)}getSize(n){return this.getMetadata(n).next(i=>i.byteSize)}getMetadata(n){return sl(n).get("remoteDocumentGlobalKey").next(i=>(Yt(!!i),i))}rr(n,i){return sl(n).put("remoteDocumentGlobalKey",i)}ir(n,i){if(i){const s=function Nl(l,n){let i;if(n.document)i=Nd(l.ct,n.document,!!n.hasCommittedMutations);else if(n.noDocument){const s=ln.fromSegments(n.noDocument.path),u=oa(n.noDocument.readTime);i=ri.newNoDocument(s,u),n.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!n.unknownDocument)return jt();{const s=ln.fromSegments(n.unknownDocument.path),u=oa(n.unknownDocument.version);i=ri.newUnknownDocument(s,u)}}return n.readTime&&i.setReadTime(function(u){const p=new Nn(u[0],u[1]);return Rn.fromTimestamp(p)}(n.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(Rn.min()))return s}return ri.newInvalidDocument(n)}}function gu(l){return new Ba(l)}class gp extends pu{constructor(n,i){super(),this.cr=n,this.trackRemovals=i,this.lr=new Ko(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(n){const i=[];let s=0,u=new Dr((p,_)=>En(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const S=this.lr.get(p);if(i.push(this.cr.removeEntry(n,p,S.readTime)),_.isValidDocument()){const O=lu(this.cr.serializer,_);u=u.add(p.path.popLast());const G=kl(O);s+=G-S.size,i.push(this.cr.addEntry(n,p,O))}else if(s-=S.size,this.trackRemovals){const O=lu(this.cr.serializer,_.convertToNoDocument(Rn.min()));i.push(this.cr.addEntry(n,p,O))}}),u.forEach(p=>{i.push(this.cr.indexManager.addToCollectionParentIndex(n,p))}),i.push(this.cr.updateMetadata(n,s)),ot.waitFor(i)}getFromCache(n,i){return this.cr.sr(n,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(n,i){return this.cr.ar(n,i).next(({documents:s,ur:u})=>(u.forEach((p,_)=>{this.lr.set(p,{size:_,readTime:s.get(p).readTime})}),s))}}function sl(l){return Gr(l,"remoteDocumentGlobal")}function Vs(l){return Gr(l,"remoteDocumentsV14")}function Jo(l){const n=l.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],n[n.length-1]]}function Wn(l,n){const i=n.documentKey.path.toArray();return[l,va(n.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function jd(l,n){const i=l.path.toArray(),s=n.path.toArray();let u=0;for(let p=0;p<i.length-2&&p<s.length-2;++p)if(u=En(i[p],s[p]),u)return u;return u=En(i.length,s.length),u||(u=En(i[i.length-2],s[s.length-2]),u||En(i[i.length-1],s[s.length-1]))}class jc{constructor(n,i){this.overlayedDocument=n,this.mutatedFields=i}}class Ea{constructor(n,i,s,u){this.remoteDocumentCache=n,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(n,i){let s=null;return this.documentOverlayCache.getOverlay(n,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(n,i))).next(u=>(null!==s&&Ar(s.mutation,u,$r.empty(),Nn.now()),u))}getDocuments(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.getLocalViewOfDocuments(n,s,pr()).next(()=>s))}getLocalViewOfDocuments(n,i,s=pr()){const u=fo();return this.populateOverlays(n,u,i).next(()=>this.computeViews(n,i,u,s).next(p=>{let _=Zl();return p.forEach((S,O)=>{_=_.insert(S,O.overlayedDocument)}),_}))}getOverlayedDocuments(n,i){const s=fo();return this.populateOverlays(n,s,i).next(()=>this.computeViews(n,i,s,pr()))}populateOverlays(n,i,s){const u=[];return s.forEach(p=>{i.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(n,u).next(p=>{p.forEach((_,S)=>{i.set(_,S)})})}computeViews(n,i,s,u){let p=qo();const _=Js(),S=Js();return i.forEach((O,G)=>{const ce=s.get(G.key);u.has(G.key)&&(void 0===ce||ce.mutation instanceof Cn)?p=p.insert(G.key,G):void 0!==ce?(_.set(G.key,ce.mutation.getFieldMask()),Ar(ce.mutation,G,ce.mutation.getFieldMask(),Nn.now())):_.set(G.key,$r.empty())}),this.recalculateAndSaveOverlays(n,p).next(O=>(O.forEach((G,ce)=>_.set(G,ce)),i.forEach((G,ce)=>{var we;return S.set(G,new jc(ce,null!==(we=_.get(G))&&void 0!==we?we:null))}),S))}recalculateAndSaveOverlays(n,i){const s=Js();let u=new qr((_,S)=>_-S),p=pr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,i).next(_=>{for(const S of _)S.keys().forEach(O=>{const G=i.get(O);if(null===G)return;let ce=s.get(O)||$r.empty();ce=S.applyToLocalView(G,ce),s.set(O,ce);const we=(u.get(S.batchId)||pr()).add(O);u=u.insert(S.batchId,we)})}).next(()=>{const _=[],S=u.getReverseIterator();for(;S.hasNext();){const O=S.getNext(),G=O.key,ce=O.value,we=Dl();ce.forEach(Ye=>{if(!p.has(Ye)){const Ct=rr(i.get(Ye),s.get(Ye));null!==Ct&&we.set(Ye,Ct),p=p.add(Ye)}}),_.push(this.documentOverlayCache.saveOverlays(n,G,we))}return ot.waitFor(_)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(n,i){return this.remoteDocumentCache.getEntries(n,i).next(s=>this.recalculateAndSaveOverlays(n,s))}getDocumentsMatchingQuery(n,i,s,u){return ln.isDocumentKey((_=i).path)&&null===_.collectionGroup&&0===_.filters.length?this.getDocumentsMatchingDocumentQuery(n,i.path):pa(i)?this.getDocumentsMatchingCollectionGroupQuery(n,i,s,u):this.getDocumentsMatchingCollectionQuery(n,i,s,u);var _}getNextDocuments(n,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,i,s,u).next(p=>{const _=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,i,s.largestBatchId,u-p.size):ot.resolve(fo());let S=-1,O=p;return _.next(G=>ot.forEach(G,(ce,we)=>(S<we.largestBatchId&&(S=we.largestBatchId),p.get(ce)?ot.resolve():this.remoteDocumentCache.getEntry(n,ce).next(Ye=>{O=O.insert(ce,Ye)}))).next(()=>this.populateOverlays(n,G,p)).next(()=>this.computeViews(n,O,G,pr())).next(ce=>({batchId:S,changes:Qa(ce)})))})}getDocumentsMatchingDocumentQuery(n,i){return this.getDocument(n,new ln(i)).next(s=>{let u=Zl();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(n,i,s,u){const p=i.collectionGroup;let _=Zl();return this.indexManager.getCollectionParents(n,p).next(S=>ot.forEach(S,O=>{const G=(we=i,Ye=O.child(p),new fr(Ye,null,we.explicitOrderBy.slice(),we.filters.slice(),we.limit,we.limitType,we.startAt,we.endAt));var we,Ye;return this.getDocumentsMatchingCollectionQuery(n,G,s,u).next(ce=>{ce.forEach((we,Ye)=>{_=_.insert(we,Ye)})})}).next(()=>_))}getDocumentsMatchingCollectionQuery(n,i,s,u){let p;return this.documentOverlayCache.getOverlaysForCollection(n,i.path,s.largestBatchId).next(_=>(p=_,this.remoteDocumentCache.getDocumentsMatchingQuery(n,i,s,p,u))).next(_=>{p.forEach((O,G)=>{const ce=G.getKey();null===_.get(ce)&&(_=_.insert(ce,ri.newInvalidDocument(ce)))});let S=Zl();return _.forEach((O,G)=>{const ce=p.get(O);void 0!==ce&&Ar(ce.mutation,G,$r.empty(),Nn.now()),Zs(i,G)&&(S=S.insert(O,G))}),S})}}class Hc{constructor(n){this.serializer=n,this.hr=new Map,this.Pr=new Map}getBundleMetadata(n,i){return ot.resolve(this.hr.get(i))}saveBundleMetadata(n,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:ji(u.createTime)}),ot.resolve();var u}getNamedQuery(n,i){return ot.resolve(this.Pr.get(i))}saveNamedQuery(n,i){return this.Pr.set(i.name,{name:(u=i).name,query:sa(u.bundledQuery),readTime:ji(u.readTime)}),ot.resolve();var u}}class Ju{constructor(){this.overlays=new qr(ln.comparator),this.Ir=new Map}getOverlay(n,i){return ot.resolve(this.overlays.get(i))}getOverlays(n,i){const s=fo();return ot.forEach(i,u=>this.getOverlay(n,u).next(p=>{null!==p&&s.set(u,p)})).next(()=>s)}saveOverlays(n,i,s){return s.forEach((u,p)=>{this.ht(n,i,p)}),ot.resolve()}removeOverlaysForBatchId(n,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.Ir.delete(s)),ot.resolve()}getOverlaysForCollection(n,i,s){const u=fo(),p=i.length+1,_=new ln(i.child("")),S=this.overlays.getIteratorFrom(_);for(;S.hasNext();){const O=S.getNext().value,G=O.getKey();if(!i.isPrefixOf(G.path))break;G.path.length===p&&O.largestBatchId>s&&u.set(O.getKey(),O)}return ot.resolve(u)}getOverlaysForCollectionGroup(n,i,s,u){let p=new qr((G,ce)=>G-ce);const _=this.overlays.getIterator();for(;_.hasNext();){const G=_.getNext().value;if(G.getKey().getCollectionGroup()===i&&G.largestBatchId>s){let ce=p.get(G.largestBatchId);null===ce&&(ce=fo(),p=p.insert(G.largestBatchId,ce)),ce.set(G.getKey(),G)}}const S=fo(),O=p.getIterator();for(;O.hasNext()&&(O.getNext().value.forEach((G,ce)=>S.set(G,ce)),!(S.size()>=u)););return ot.resolve(S)}ht(n,i,s){const u=this.overlays.get(s.key);if(null!==u){const _=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(s.key,new na(i,s));let p=this.Ir.get(i);void 0===p&&(p=pr(),this.Ir.set(i,p)),this.Ir.set(i,p.add(s.key))}}class co{constructor(){this.sessionToken=ue.EMPTY_BYTE_STRING}getSessionToken(n){return ot.resolve(this.sessionToken)}setSessionToken(n,i){return this.sessionToken=i,ot.resolve()}}class ec{constructor(){this.Tr=new Dr(Qr.Er),this.dr=new Dr(Qr.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(n,i){const s=new Qr(n,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(n,i){n.forEach(s=>this.addReference(s,i))}removeReference(n,i){this.Vr(new Qr(n,i))}mr(n,i){n.forEach(s=>this.removeReference(s,i))}gr(n){const i=new ln(new Hn([])),s=new Qr(i,n),u=new Qr(i,n+1),p=[];return this.dr.forEachInRange([s,u],_=>{this.Vr(_),p.push(_.key)}),p}pr(){this.Tr.forEach(n=>this.Vr(n))}Vr(n){this.Tr=this.Tr.delete(n),this.dr=this.dr.delete(n)}yr(n){const i=new ln(new Hn([])),s=new Qr(i,n),u=new Qr(i,n+1);let p=pr();return this.dr.forEachInRange([s,u],_=>{p=p.add(_.key)}),p}containsKey(n){const i=new Qr(n,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&n.isEqual(s.key)}}class Qr{constructor(n,i){this.key=n,this.wr=i}static Er(n,i){return ln.comparator(n.key,i.key)||En(n.wr,i.wr)}static Ar(n,i){return En(n.wr,i.wr)||ln.comparator(n.key,i.key)}}class es{constructor(n,i){this.indexManager=n,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Dr(Qr.Er)}checkEmpty(n){return ot.resolve(0===this.mutationQueue.length)}addMutationBatch(n,i,s,u){const p=this.Sr;this.Sr++;const _=new Is(p,i,s,u);this.mutationQueue.push(_);for(const S of u)this.br=this.br.add(new Qr(S.key,p)),this.indexManager.addToCollectionParentIndex(n,S.key.path.popLast());return ot.resolve(_)}lookupMutationBatch(n,i){return ot.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(n,i){const u=this.vr(i+1),p=u<0?0:u;return ot.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(n){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,i){const s=new Qr(i,0),u=new Qr(i,Number.POSITIVE_INFINITY),p=[];return this.br.forEachInRange([s,u],_=>{const S=this.Dr(_.wr);p.push(S)}),ot.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(n,i){let s=new Dr(En);return i.forEach(u=>{const p=new Qr(u,0),_=new Qr(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([p,_],S=>{s=s.add(S.wr)})}),ot.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(n,i){const s=i.path,u=s.length+1;let p=s;ln.isDocumentKey(p)||(p=p.child(""));const _=new Qr(new ln(p),0);let S=new Dr(En);return this.br.forEachWhile(O=>{const G=O.key.path;return!!s.isPrefixOf(G)&&(G.length===u&&(S=S.add(O.wr)),!0)},_),ot.resolve(this.Cr(S))}Cr(n){const i=[];return n.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(n,i){Yt(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return ot.forEach(i.mutations,u=>{const p=new Qr(u.key,i.batchId);return s=s.delete(p),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.br=s})}On(n){}containsKey(n,i){const s=new Qr(i,0),u=this.br.firstAfterOrEqual(s);return ot.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(n){return ot.resolve()}Fr(n,i){return this.vr(n)}vr(n){return 0===this.mutationQueue.length?0:n-this.mutationQueue[0].batchId}Dr(n){const i=this.vr(n);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class zc{constructor(n){this.Mr=n,this.docs=new qr(ln.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,i){const s=i.key,u=this.docs.get(s),p=u?u.size:0,_=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(n,s.path.popLast())}removeEntry(n){const i=this.docs.get(n);i&&(this.docs=this.docs.remove(n),this.size-=i.size)}getEntry(n,i){const s=this.docs.get(i);return ot.resolve(s?s.document.mutableCopy():ri.newInvalidDocument(i))}getEntries(n,i){let s=qo();return i.forEach(u=>{const p=this.docs.get(u);s=s.insert(u,p?p.document.mutableCopy():ri.newInvalidDocument(u))}),ot.resolve(s)}getDocumentsMatchingQuery(n,i,s,u){let p=qo();const _=i.path,S=new ln(_.child("")),O=this.docs.getIteratorFrom(S);for(;O.hasNext();){const{key:G,value:{document:ce}}=O.getNext();if(!_.isPrefixOf(G.path))break;G.path.length>_.length+1||ht(Be(ce),s)<=0||(u.has(ce.key)||Zs(i,ce))&&(p=p.insert(ce.key,ce.mutableCopy()))}return ot.resolve(p)}getAllFromCollectionGroup(n,i,s,u){jt()}Or(n,i){return ot.forEach(this.docs,s=>i(s))}newChangeBuffer(n){return new al(this)}getSize(n){return ot.resolve(this.size)}}class al extends pu{constructor(n){super(),this.cr=n}applyChanges(n){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(n,u)):this.cr.removeEntry(s)}),ot.waitFor(i)}getFromCache(n,i){return this.cr.getEntry(n,i)}getAllFromCache(n,i){return this.cr.getEntries(n,i)}}class Hd{constructor(n){this.persistence=n,this.Nr=new Ko(i=>se(i),nn),this.lastRemoteSnapshotVersion=Rn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ec,this.targetCount=0,this.kr=Qi.Bn()}forEachTarget(n,i){return this.Nr.forEach((s,u)=>i(u)),ot.resolve()}getLastRemoteSnapshotVersion(n){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return ot.resolve(this.Lr)}allocateTargetId(n){return this.highestTargetId=this.kr.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(n,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),ot.resolve()}Kn(n){this.Nr.set(n.target,n);const i=n.targetId;i>this.highestTargetId&&(this.kr=new Qi(i),this.highestTargetId=i),n.sequenceNumber>this.Lr&&(this.Lr=n.sequenceNumber)}addTargetData(n,i){return this.Kn(i),this.targetCount+=1,ot.resolve()}updateTargetData(n,i){return this.Kn(i),ot.resolve()}removeTargetData(n,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,ot.resolve()}removeTargets(n,i,s){let u=0;const p=[];return this.Nr.forEach((_,S)=>{S.sequenceNumber<=i&&null===s.get(S.targetId)&&(this.Nr.delete(_),p.push(this.removeMatchingKeysForTargetId(n,S.targetId)),u++)}),ot.waitFor(p).next(()=>u)}getTargetCount(n){return ot.resolve(this.targetCount)}getTargetData(n,i){const s=this.Nr.get(i)||null;return ot.resolve(s)}addMatchingKeys(n,i,s){return this.Br.Rr(i,s),ot.resolve()}removeMatchingKeys(n,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,p=[];return u&&i.forEach(_=>{p.push(u.markPotentiallyOrphaned(n,_))}),ot.waitFor(p)}removeMatchingKeysForTargetId(n,i){return this.Br.gr(i),ot.resolve()}getMatchingKeysForTargetId(n,i){const s=this.Br.yr(i);return ot.resolve(s)}containsKey(n,i){return ot.resolve(this.Br.containsKey(i))}}class cs{constructor(n,i){this.qr={},this.overlays={},this.Qr=new q(0),this.Kr=!1,this.Kr=!0,this.$r=new co,this.referenceDelegate=n(this),this.Ur=new Hd(this),this.indexManager=new om,this.remoteDocumentCache=new zc(s=>this.referenceDelegate.Wr(s)),this.serializer=new au(i),this.Gr=new Hc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let i=this.overlays[n.toKey()];return i||(i=new Ju,this.overlays[n.toKey()]=i),i}getMutationQueue(n,i){let s=this.qr[n.toKey()];return s||(s=new es(i,this.referenceDelegate),this.qr[n.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(n,i,s){mt("MemoryPersistence","Starting transaction:",n);const u=new Gc(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(p=>this.referenceDelegate.jr(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Hr(n,i){return ot.or(Object.values(this.qr).map(s=>()=>s.containsKey(n,i)))}}class Gc extends In{constructor(n){super(),this.currentSequenceNumber=n}}class tc{constructor(n){this.persistence=n,this.Jr=new ec,this.Yr=null}static Zr(n){return new tc(n)}get Xr(){if(this.Yr)return this.Yr;throw jt()}addReference(n,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),ot.resolve()}removeReference(n,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),ot.resolve()}markPotentiallyOrphaned(n,i){return this.Xr.add(i.toString()),ot.resolve()}removeTarget(n,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(n,i.targetId).next(u=>{u.forEach(p=>this.Xr.add(p.toString()))}).next(()=>s.removeTargetData(n,i))}zr(){this.Yr=new Set}jr(n){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.Xr,s=>{const u=ln.fromPath(s);return this.ei(n,u).next(p=>{p||i.removeEntry(u,Rn.min())})}).next(()=>(this.Yr=null,i.apply(n)))}updateLimboDocument(n,i){return this.ei(n,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(n){return 0}ei(n,i){return ot.or([()=>ot.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(n,i),()=>this.persistence.Hr(n,i)])}}class Kc{constructor(n){this.serializer=n}O(n,i,s,u){const p=new dr("createOrUpgrade",i);var O;s<1&&u>=1&&(n.createObjectStore("owner"),(O=n).createObjectStore("mutationQueues",{keyPath:"userId"}),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$n,{unique:!0}),O.createObjectStore("documentMutations"),$h(n),function(O){O.createObjectStore("remoteDocuments")}(n));let _=ot.resolve();return s<3&&u>=3&&(0!==s&&(function(O){O.deleteObjectStore("targetDocuments"),O.deleteObjectStore("targets"),O.deleteObjectStore("targetGlobal")}(n),$h(n)),_=_.next(()=>function(O){const G=O.store("targetGlobal"),ce={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Rn.min().toTimestamp(),targetCount:0};return G.put("targetGlobalKey",ce)}(p))),s<4&&u>=4&&(0!==s&&(_=_.next(()=>function(O,G){return G.store("mutations").U().next(ce=>{O.deleteObjectStore("mutations"),O.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$n,{unique:!0});const we=G.store("mutations"),Ye=ce.map(Ct=>we.put(Ct));return ot.waitFor(Ye)})}(n,p))),_=_.next(()=>{!function(O){O.createObjectStore("clientMetadata",{keyPath:"clientId"})}(n)})),s<5&&u>=5&&(_=_.next(()=>this.ni(p))),s<6&&u>=6&&(_=_.next(()=>(function(O){O.createObjectStore("remoteDocumentGlobal")}(n),this.ri(p)))),s<7&&u>=7&&(_=_.next(()=>this.ii(p))),s<8&&u>=8&&(_=_.next(()=>this.si(n,p))),s<9&&u>=9&&(_=_.next(()=>{!function(O){O.objectStoreNames.contains("remoteDocumentChanges")&&O.deleteObjectStore("remoteDocumentChanges")}(n)})),s<10&&u>=10&&(_=_.next(()=>this.oi(p))),s<11&&u>=11&&(_=_.next(()=>{(function(O){O.createObjectStore("bundles",{keyPath:"bundleId"})})(n),function(O){O.createObjectStore("namedQueries",{keyPath:"name"})}(n)})),s<12&&u>=12&&(_=_.next(()=>{!function(O){const G=O.createObjectStore("documentOverlays",{keyPath:ys});G.createIndex("collectionPathOverlayIndex",ns,{unique:!1}),G.createIndex("collectionGroupOverlayIndex",Ns,{unique:!1})}(n)})),s<13&&u>=13&&(_=_.next(()=>function(O){const G=O.createObjectStore("remoteDocumentsV14",{keyPath:Zn});G.createIndex("documentKeyIndex",li),G.createIndex("collectionGroupIndex",Mi)}(n)).next(()=>this._i(n,p)).next(()=>n.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(_=_.next(()=>this.ai(n,p))),s<15&&u>=15&&(_=_.next(()=>function(O){O.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),O.createObjectStore("indexState",{keyPath:Pi}).createIndex("sequenceNumberIndex",wo,{unique:!1}),O.createObjectStore("indexEntries",{keyPath:Ps}).createIndex("documentKeyIndex",Go,{unique:!1})}(n))),s<16&&u>=16&&(_=_.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(_=_.next(()=>{!function(O){O.createObjectStore("globals",{keyPath:"name"})}(n)})),_}ri(n){let i=0;return n.store("remoteDocuments").J((s,u)=>{i+=kl(u)}).next(()=>{const s={byteSize:i};return n.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(n){const i=n.store("mutationQueues"),s=n.store("mutations");return i.U().next(u=>ot.forEach(u,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",_).next(S=>ot.forEach(S,O=>{Yt(O.userId===p.userId);const G=uu(this.serializer,O);return $d(n,p.userId,G).next(()=>{})}))}))}ii(n){const i=n.store("targetDocuments"),s=n.store("remoteDocuments");return n.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return s.J((_,S)=>{const O=new Hn(_),G=[0,ye(O)];p.push(i.get(G).next(ce=>ce?ot.resolve():i.put({targetId:0,path:ye(O),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>ot.waitFor(p))})}si(n,i){n.createObjectStore("collectionParents",{keyPath:ki});const s=i.store("collectionParents"),u=new Xi,p=_=>{if(u.add(_)){const S=_.lastSegment(),O=_.popLast();return s.put({collectionId:S,parent:ye(O)})}};return i.store("remoteDocuments").J({H:!0},(_,S)=>{const O=new Hn(_);return p(O.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([_,S,O],G)=>{const ce=on(S);return p(ce.popLast())}))}oi(n){const i=n.store("targets");return i.J((s,u)=>{const p=nl(u),_=cu(this.serializer,p);return i.put(_)})}_i(n,i){const s=i.store("remoteDocuments"),u=[];return s.J((p,_)=>{const S=i.store("remoteDocumentsV14"),O=(we=_,we.document?new ln(Hn.fromString(we.document.name).popFirst(5)):we.noDocument?ln.fromSegments(we.noDocument.path):we.unknownDocument?ln.fromSegments(we.unknownDocument.path):jt()).path.toArray(),G={prefixPath:O.slice(0,O.length-2),collectionGroup:O[O.length-2],documentId:O[O.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};var we;u.push(S.put(G))}).next(()=>ot.waitFor(u))}ai(n,i){const s=i.store("mutations"),u=gu(this.serializer),p=new cs(tc.Zr,this.serializer.ct);return s.U().next(_=>{const S=new Map;return _.forEach(O=>{var G;let ce=null!==(G=S.get(O.userId))&&void 0!==G?G:pr();uu(this.serializer,O).keys().forEach(we=>ce=ce.add(we)),S.set(O.userId,ce)}),ot.forEach(S,(O,G)=>{const ce=new ze(G),we=La.lt(this.serializer,ce),Ye=p.getIndexManager(ce),Ct=Di.lt(ce,this.serializer,Ye,p.referenceDelegate);return new Ea(u,Ct,we,Ye).recalculateAndSaveOverlaysForDocumentKeys(new is(i,q.oe),O).next()})})}}function $h(l){l.createObjectStore("targetDocuments",{keyPath:ti}).createIndex("documentTargetsIndex",Ji,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",xi,{unique:!0}),l.createObjectStore("targetGlobal")}const mp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class mu{constructor(n,i,s,u,p,_,S,O,G,ce,we=17){if(this.allowTabSynchronization=n,this.persistenceKey=i,this.clientId=s,this.ui=p,this.window=_,this.document=S,this.ci=G,this.li=ce,this.hi=we,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Ye=>Promise.resolve(),!mu.D())throw new Fe(Te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Hi(this,u),this.Ai=i+"main",this.serializer=new au(O),this.Ri=new Fn(this.Ai,this.hi,new Kc(this.serializer)),this.$r=new Fc,this.Ur=new us(this.referenceDelegate,this.serializer),this.remoteDocumentCache=gu(this.serializer),this.Gr=new Lh,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ce&&mn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(Te.FAILED_PRECONDITION,mp);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",n=>this.Ur.getHighestSequenceNumber(n))}).then(n=>{this.Qr=new q(n,this.ci)}).then(()=>{this.Kr=!0}).catch(n=>(this.Ri&&this.Ri.close(),Promise.reject(n)))}yi(n){var i=this;return this.di=function(){var s=(0,ve.A)(function*(u){if(i.started)return n(u)});return function(u){return s.apply(this,arguments)}}(),n(this.isPrimary)}setDatabaseDeletedListener(n){this.Ri.L(function(){var i=(0,ve.A)(function*(s){null===s.newVersion&&(yield n())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(n){var i=this;this.networkEnabled!==n&&(this.networkEnabled=n,this.ui.enqueueAndForget((0,ve.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",n=>nc(n).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(n).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(n)).next(i=>this.isPrimary&&!i?this.bi(n).next(()=>!1):!!i&&this.Di(n).next(()=>!0))).catch(n=>{if(zr(n))return mt("IndexedDbPersistence","Failed to extend owner lease: ",n),this.isPrimary;if(!this.allowTabSynchronization)throw n;return mt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",n),!1}).then(n=>{this.isPrimary!==n&&this.ui.enqueueRetryable(()=>this.di(n)),this.isPrimary=n})}wi(n){return qc(n).get("owner").next(i=>ot.resolve(this.vi(i)))}Ci(n){return nc(n).delete(this.clientId)}Fi(){var n=this;return(0,ve.A)(function*(){if(n.isPrimary&&!n.Mi(n.Ei,18e5)){n.Ei=Date.now();const i=yield n.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=Gr(s,"clientMetadata");return u.U().next(p=>{const _=n.xi(p,18e5),S=p.filter(O=>-1===_.indexOf(O));return ot.forEach(S,O=>u.delete(O.clientId)).next(()=>S)})}).catch(()=>[]);if(n.Vi)for(const s of i)n.Vi.removeItem(n.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(n){return!!n&&n.ownerId===this.clientId}Si(n){return this.li?ot.resolve(!0):qc(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new Fe(Te.FAILED_PRECONDITION,mp);return!1}}return!(!this.networkEnabled||!this.inForeground)||nc(n).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&mt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var n=this;return(0,ve.A)(function*(){n.Kr=!1,n.Li(),n.Ti&&(n.Ti.cancel(),n.Ti=null),n.Bi(),n.ki(),yield n.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new is(i,q.oe);return n.bi(s).next(()=>n.Ci(s))}),n.Ri.close(),n.qi()})()}xi(n,i){return n.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",n=>nc(n).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(n,i){return Di.lt(n,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(n){return new sm(n,this.serializer.ct.databaseId)}getDocumentOverlayCache(n){return La.lt(this.serializer,n)}getBundleCache(){return this.Gr}runTransaction(n,i,s){mt("IndexedDbPersistence","Starting transaction:",n);const u="readonly"===i?"readonly":"readwrite",p=17===(O=this.hi)?Ws:16===O?ha:15===O?rs:14===O?Ro:13===O?Gs:12===O?Fi:11===O?So:void jt();var O;let _;return this.Ri.runTransaction(n,u,p,S=>(_=new is(S,this.Qr?this.Qr.next():q.oe),"readwrite-primary"===i?this.wi(_).next(O=>!!O||this.Si(_)).next(O=>{if(!O)throw mn(`Failed to obtain primary lease for action '${n}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Fe(Te.FAILED_PRECONDITION,vn);return s(_)}).next(O=>this.Di(_).next(()=>O)):this.Ki(_).next(()=>s(_)))).then(S=>(_.raiseOnCommittedEvent(),S))}Ki(n){return qc(n).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Fe(Te.FAILED_PRECONDITION,mp)})}Di(n){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qc(n).put("owner",i)}static D(){return Fn.D()}bi(n){const i=qc(n);return i.get("owner").next(s=>this.vi(s)?(mt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):ot.resolve())}Mi(n,i){const s=Date.now();return!(n<s-i||n>s&&(mn(`Detected an update time that is in the future: ${n} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var n;"function"==typeof(null===(n=this.window)||void 0===n?void 0:n.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,We.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(n){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(n)));return mt("IndexedDbPersistence",`Client '${n}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return mn("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(n){mn("Failed to set zombie client id.",n)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(n){return`firestore_zombie_${this.persistenceKey}_${n}`}}function qc(l){return Gr(l,"owner")}function nc(l){return Gr(l,"clientMetadata")}function jh(l,n){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+n+"/"+i+"/"}class Hh{constructor(n,i,s,u){this.targetId=n,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(n,i){let s=pr(),u=pr();for(const p of i.docChanges)switch(p.type){case 0:s=s.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Hh(n,i.fromCache,s,u)}}class i_{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}class am{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,We.nr)()?8:kr((0,We.ZQ)())>0?6:4}initialize(n,i){this.Ji=n,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(n,i,s,u){const p={result:null};return this.Yi(n,i).next(_=>{p.result=_}).next(()=>{if(!p.result)return this.Zi(n,i,u,s).next(_=>{p.result=_})}).next(()=>{if(p.result)return;const _=new i_;return this.Xi(n,i,_).next(S=>{if(p.result=S,this.zi)return this.es(n,i,_,S.size)})}).next(()=>p.result)}es(n,i,s,u){return s.documentReadCount<this.ji?(Et()<=Je.$b.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",os(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ot.resolve()):(Et()<=Je.$b.DEBUG&&mt("QueryEngine","Query:",os(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(Et()<=Je.$b.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",os(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,to(i))):ot.resolve())}Yi(n,i){if(Qs(i))return ot.resolve(null);let s=to(i);return this.indexManager.getIndexType(n,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=ma(i,null,"F"),s=to(i)),this.indexManager.getDocumentsMatchingTarget(n,s).next(p=>{const _=pr(...p);return this.Ji.getDocuments(n,_).next(S=>this.indexManager.getMinOffset(n,s).next(O=>{const G=this.ts(i,S);return this.ns(i,G,_,O.readTime)?this.Yi(n,ma(i,null,"F")):this.rs(n,G,i,O)}))})))}Zi(n,i,s,u){return Qs(i)||u.isEqual(Rn.min())?ot.resolve(null):this.Ji.getDocuments(n,s).next(p=>{const _=this.ts(i,p);return this.ns(i,_,s,u)?ot.resolve(null):(Et()<=Je.$b.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),os(i)),this.rs(n,_,i,Ee(u,-1)).next(S=>S))})}ts(n,i){let s=new Dr(Xa(n));return i.forEach((u,p)=>{Zs(n,p)&&(s=s.add(p))}),s}ns(n,i,s,u){if(null===n.limit)return!1;if(s.size!==i.size)return!0;const p="F"===n.limitType?i.last():i.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Xi(n,i,s){return Et()<=Je.$b.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",os(i)),this.Ji.getDocumentsMatchingQuery(n,i,bt.min(),s)}rs(n,i,s,u){return this.Ji.getDocumentsMatchingQuery(n,s,u).next(p=>(i.forEach(_=>{p=p.insert(_.key,_)}),p))}}class o_{constructor(n,i,s,u){this.persistence=n,this.ss=i,this.serializer=u,this.os=new qr(En),this._s=new Ko(p=>se(p),nn),this.us=new Map,this.cs=n.getRemoteDocumentCache(),this.Ur=n.getTargetCache(),this.Gr=n.getBundleCache(),this.ls(s)}ls(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new Ea(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>n.collect(i,this.os))}}function lm(l,n,i,s){return new o_(l,n,i,s)}function um(l,n){return zh.apply(this,arguments)}function zh(){return(zh=(0,ve.A)(function*(l,n){const i=it(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(p=>(u=p,i.ls(n),i.mutationQueue.getAllMutationBatches(s))).next(p=>{const _=[],S=[];let O=pr();for(const G of u){_.push(G.batchId);for(const ce of G.mutations)O=O.add(ce.key)}for(const G of p){S.push(G.batchId);for(const ce of G.mutations)O=O.add(ce.key)}return i.localDocuments.getDocuments(s,O).next(G=>({hs:G,removedBatchIds:_,addedBatchIds:S}))})})})).apply(this,arguments)}function a_(l){const n=it(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",i=>n.Ur.getLastRemoteSnapshotVersion(i))}function ll(l,n,i){let s=pr(),u=pr();return i.forEach(p=>s=s.add(p)),n.getEntries(l,s).next(p=>{let _=qo();return i.forEach((S,O)=>{const G=p.get(S);O.isFoundDocument()!==G.isFoundDocument()&&(u=u.add(S)),O.isNoDocument()&&O.version.isEqual(Rn.min())?(n.removeEntry(S,O.readTime),_=_.insert(S,O)):!G.isValidDocument()||O.version.compareTo(G.version)>0||0===O.version.compareTo(G.version)&&G.hasPendingWrites?(n.addEntry(O),_=_.insert(S,O)):mt("LocalStore","Ignoring outdated watch update for ",S,". Current version:",G.version," Watch version:",O.version)}),{Ps:_,Is:u}})}function l_(l,n){const i=it(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===n&&(n=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,n)))}function Xc(l,n){const i=it(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,n).next(p=>p?(u=p,ot.resolve(u)):i.Ur.allocateTargetId(s).next(_=>(u=new hi(n,_,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(n,s.targetId)),s})}function vu(l,n,i){return _p.apply(this,arguments)}function _p(){return(_p=(0,ve.A)(function*(l,n,i){const s=it(l),u=s.os.get(n),p=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",p,_=>s.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!zr(_))throw _;mt("LocalStore",`Failed to update sequence numbers for target ${n}: ${_}`)}s.os=s.os.remove(n),s._s.delete(u.target)})).apply(this,arguments)}function rc(l,n,i){const s=it(l);let u=Rn.min(),p=pr();return s.persistence.runTransaction("Execute query","readwrite",_=>function(O,G,ce){const we=it(O),Ye=we._s.get(ce);return void 0!==Ye?ot.resolve(we.os.get(Ye)):we.Ur.getTargetData(G,ce)}(s,_,to(n)).next(S=>{if(S)return u=S.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(_,S.targetId).next(O=>{p=O})}).next(()=>s.ss.getDocumentsMatchingQuery(_,n,i?u:Rn.min(),i?p:pr())).next(S=>(Qc(s,zu(n),S),{documents:S,Ts:p})))}function Gh(l,n){const i=it(l),s=it(i.Ur),u=i.os.get(n);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",p=>s.ot(p,n).next(_=>_?_.target:null))}function zd(l,n){const i=it(l),s=i.us.get(n)||Rn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,n,Ee(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(Qc(i,n,u),u))}function Qc(l,n,i){let s=l.us.get(n)||Rn.min();i.forEach((u,p)=>{p.readTime.compareTo(s)>0&&(s=p.readTime)}),l.us.set(n,s)}function Wh(){return(Wh=(0,ve.A)(function*(l,n,i,s){const u=it(l);let p=pr(),_=qo();for(const G of i){const ce=n.Es(G.metadata.name);G.document&&(p=p.add(ce));const we=n.ds(G);we.setReadTime(n.As(G.metadata.readTime)),_=_.insert(ce,we)}const S=u.cs.newChangeBuffer({trackRemovals:!0}),O=yield Xc(u,(ce=s,to(Co(Hn.fromString(`__bundle__/docs/${ce}`)))));var ce;return u.persistence.runTransaction("Apply bundle documents","readwrite",G=>ll(G,S,_).next(ce=>(S.apply(G),ce)).next(ce=>u.Ur.removeMatchingKeysForTargetId(G,O.targetId).next(()=>u.Ur.addMatchingKeys(G,p,O.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(G,ce.Ps,ce.Is)).next(()=>ce.Ps)))})).apply(this,arguments)}function Gd(l,n){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,ve.A)(function*(l,n,i=pr()){const s=yield Xc(l,to(sa(n.bundledQuery))),u=it(l);return u.persistence.runTransaction("Save named query","readwrite",p=>{const _=ji(n.readTime);if(s.snapshotVersion.compareTo(_)>=0)return u.Gr.saveNamedQuery(p,n);const S=s.withResumeToken(ue.EMPTY_BYTE_STRING,_);return u.os=u.os.insert(S.targetId,S),u.Ur.updateTargetData(p,S).next(()=>u.Ur.removeMatchingKeysForTargetId(p,s.targetId)).next(()=>u.Ur.addMatchingKeys(p,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(p,n))})})).apply(this,arguments)}function yp(l,n){return`firestore_clients_${l}_${n}`}function Kd(l,n,i){let s=`firestore_mutations_${l}_${i}`;return n.isAuthenticated()&&(s+=`_${n.uid}`),s}function Kh(l,n){return`firestore_targets_${l}_${n}`}class Us{constructor(n,i,s,u){this.user=n,this.batchId=i,this.state=s,this.error=u}static Rs(n,i,s){const u=JSON.parse(s);let p,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(p=new Fe(u.error.code,u.error.message))),_?new Us(n,i,u.state,p):(mn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class _u{constructor(n,i,s){this.targetId=n,this.state=i,this.error=s}static Rs(n,i){const s=JSON.parse(i);let u,p="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return p&&s.error&&(p="string"==typeof s.error.message&&"string"==typeof s.error.code,p&&(u=new Fe(s.error.code,s.error.message))),p?new _u(n,s.state,u):(mn("SharedClientState",`Failed to parse target state for ID '${n}': ${i}`),null)}Vs(){const n={state:this.state,updateTimeMs:Date.now()};return this.error&&(n.error={code:this.error.code,message:this.error.message}),JSON.stringify(n)}}class yu{constructor(n,i){this.clientId=n,this.activeTargetIds=i}static Rs(n,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,p=ur();for(let _=0;u&&_<s.activeTargetIds.length;++_)u=Z(s.activeTargetIds[_]),p=p.add(s.activeTargetIds[_]);return u?new yu(n,p):(mn("SharedClientState",`Failed to parse client data for instance '${n}': ${i}`),null)}}class Zr{constructor(n,i){this.clientId=n,this.onlineState=i}static Rs(n){const i=JSON.parse(n);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Zr(i.clientId,i.onlineState):(mn("SharedClientState",`Failed to parse online state: ${n}`),null)}}class Yc{constructor(){this.activeTargetIds=ur()}fs(n){this.activeTargetIds=this.activeTargetIds.add(n)}gs(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Vs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class ul{constructor(n,i,s,u,p){this.window=n,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new qr(En),this.started=!1,this.bs=[];const _=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.Ds=yp(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Yc),this.Cs=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(O){return`firestore_bundle_loaded_v2_${O}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(n){return!(!n||!n.localStorage)}start(){var n=this;return(0,ve.A)(function*(){const i=yield n.syncEngine.Qi();for(const u of i){if(u===n.ps)continue;const p=n.getItem(yp(n.persistenceKey,u));if(p){const _=yu.Rs(u,p);_&&(n.Ss=n.Ss.insert(_.clientId,_))}}n.Ns();const s=n.storage.getItem(n.xs);if(s){const u=n.Ls(s);u&&n.Bs(u)}for(const u of n.bs)n.ws(u);n.bs=[],n.window.addEventListener("pagehide",()=>n.shutdown()),n.started=!0})()}writeSequenceNumber(n){this.setItem(this.vs,JSON.stringify(n))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(n){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(n)&&(i=!0)}),i}addPendingMutation(n){this.qs(n,"pending")}updateMutationState(n,i,s){this.qs(n,i,s),this.Qs(n)}addLocalQueryTarget(n,i=!0){let s="not-current";if(this.isActiveQueryTarget(n)){const u=this.storage.getItem(Kh(this.persistenceKey,n));if(u){const p=_u.Rs(n,u);p&&(s=p.state)}}return i&&this.Ks.fs(n),this.Ns(),s}removeLocalQueryTarget(n){this.Ks.gs(n),this.Ns()}isLocalQueryTarget(n){return this.Ks.activeTargetIds.has(n)}clearQueryState(n){this.removeItem(Kh(this.persistenceKey,n))}updateQueryState(n,i,s){this.$s(n,i,s)}handleUserChange(n,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=n,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(n){this.Us(n)}notifyBundleLoaded(n){this.Ws(n)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(n){const i=this.storage.getItem(n);return mt("SharedClientState","READ",n,i),i}setItem(n,i){mt("SharedClientState","SET",n,i),this.storage.setItem(n,i)}removeItem(n){mt("SharedClientState","REMOVE",n),this.storage.removeItem(n)}ws(n){var i=this;const s=n;if(s.storageArea===this.storage){if(mt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void mn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,ve.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(_){let S=q.oe;if(null!=_)try{const O=JSON.parse(_);Yt("number"==typeof O),S=O}catch(O){mn("SharedClientState","Failed to read sequence number from WebStorage",O)}return S}(s.newValue);u!==q.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(p=>i.syncEngine.eo(p)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(n,i,s){const u=new Us(this.currentUser,n,i,s),p=Kd(this.persistenceKey,this.currentUser,n);this.setItem(p,u.Vs())}Qs(n){const i=Kd(this.persistenceKey,this.currentUser,n);this.removeItem(i)}Us(n){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:n}))}$s(n,i,s){const u=Kh(this.persistenceKey,n),p=new _u(n,i,s);this.setItem(u,p.Vs())}Ws(n){const i=JSON.stringify(Array.from(n));this.setItem(this.Os,i)}Gs(n){const i=this.Cs.exec(n);return i?i[1]:null}js(n,i){const s=this.Gs(n);return yu.Rs(s,i)}Hs(n,i){const s=this.Fs.exec(n),u=Number(s[1]);return Us.Rs(new ze(void 0!==s[2]?s[2]:null),u,i)}Ys(n,i){const s=this.Ms.exec(n),u=Number(s[1]);return _u.Rs(u,i)}Ls(n){return Zr.Rs(n)}Xs(n){return JSON.parse(n)}Js(n){var i=this;return(0,ve.A)(function*(){if(n.user.uid===i.currentUser.uid)return i.syncEngine.no(n.batchId,n.state,n.error);mt("SharedClientState",`Ignoring mutation for non-active user ${n.user.uid}`)})()}Zs(n){return this.syncEngine.ro(n.targetId,n.state,n.error)}zs(n,i){const s=i?this.Ss.insert(n,i):this.Ss.remove(n),u=this.ks(this.Ss),p=this.ks(s),_=[],S=[];return p.forEach(O=>{u.has(O)||_.push(O)}),u.forEach(O=>{p.has(O)||S.push(O)}),this.syncEngine.io(_,S).then(()=>{this.Ss=s})}Bs(n){this.Ss.get(n.clientId)&&this.onlineStateHandler(n.onlineState)}ks(n){let i=ur();return n.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class Do{constructor(){this.so=new Yc,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,i,s){}addLocalQueryTarget(n,i=!0){return i&&this.so.fs(n),this.oo[n]||"not-current"}updateQueryState(n,i,s){this.oo[n]=i}removeLocalQueryTarget(n){this.so.gs(n)}isLocalQueryTarget(n){return this.so.activeTargetIds.has(n)}clearQueryState(n){delete this.oo[n]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(n){return this.so.activeTargetIds.has(n)}start(){return this.so=new Yc,Promise.resolve()}handleUserChange(n,i,s){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}class dm{_o(n){}shutdown(){}}class ic{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(n){this.ho.push(n)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){mt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.ho)n(0)}lo(){mt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.ho)n(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Bs=null;function ds(){return null===Bs?Bs=268435456+Math.round(2147483648*Math.random()):Bs++,"0x"+Bs.toString(16)}const hm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qh{constructor(n){this.Io=n.Io,this.To=n.To}Eo(n){this.Ao=n}Ro(n){this.Vo=n}mo(n){this.fo=n}onMessage(n){this.po=n}close(){this.To()}send(n){this.Io(n)}yo(){this.Ao()}wo(){this.Vo()}So(n){this.fo(n)}bo(n){this.po(n)}}const Fo="WebChannelConnection";class la extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),p=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${p}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${p}`}get Fo(){return!1}Mo(i,s,u,p,_){const S=ds(),O=this.xo(i,s.toUriEncodedString());mt("RestConnection",`Sending RPC '${i}' ${S}:`,O,u);const G={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(G,p,_),this.No(i,O,G,u).then(ce=>(mt("RestConnection",`Received RPC '${i}' ${S}: `,ce),ce),ce=>{throw gn("RestConnection",`RPC '${i}' ${S} failed with error: `,ce,"url: ",O,"request:",u),ce})}Lo(i,s,u,p,_,S){return this.Mo(i,s,u,p,_)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+Pt,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((p,_)=>i[_]=p),u&&u.headers.forEach((p,_)=>i[_]=p)}xo(i,s){return`${this.Do}/v1/${s}:${hm[i]}`}terminate(){}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}No(n,i,s,u){const p=ds();return new Promise((_,S)=>{const O=new en;O.setWithCredentials(!0),O.listenOnce(be.COMPLETE,()=>{try{switch(O.getLastErrorCode()){case X.NO_ERROR:const ce=O.getResponseJson();mt(Fo,`XHR for RPC '${n}' ${p} received:`,JSON.stringify(ce)),_(ce);break;case X.TIMEOUT:mt(Fo,`RPC '${n}' ${p} timed out`),S(new Fe(Te.DEADLINE_EXCEEDED,"Request time out"));break;case X.HTTP_ERROR:const we=O.getStatus();if(mt(Fo,`RPC '${n}' ${p} failed with status:`,we,"response text:",O.getResponseText()),we>0){let Ye=O.getResponseJson();Array.isArray(Ye)&&(Ye=Ye[0]);const Ct=null==Ye?void 0:Ye.error;if(Ct&&Ct.status&&Ct.message){const Qt=function(un){const jn=un.toLowerCase().replace(/_/g,"-");return Object.values(Te).indexOf(jn)>=0?jn:Te.UNKNOWN}(Ct.status);S(new Fe(Qt,Ct.message))}else S(new Fe(Te.UNKNOWN,"Server responded with status "+O.getStatus()))}else S(new Fe(Te.UNAVAILABLE,"Connection failed."));break;default:jt()}}finally{mt(Fo,`RPC '${n}' ${p} completed.`)}});const G=JSON.stringify(u);mt(Fo,`RPC '${n}' ${p} sending request:`,u),O.send(i,"POST",G,s,15)})}Bo(n,i,s){const u=ds(),p=[this.Do,"/","google.firestore.v1.Firestore","/",n,"/channel"],_=ft(),S=Ne(),O={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},G=this.longPollingOptions.timeoutSeconds;void 0!==G&&(O.longPollingTimeout=Math.round(1e3*G)),this.useFetchStreams&&(O.xmlHttpFactory=new bn({})),this.Oo(O.initMessageHeaders,i,s),O.encodeInitMessageHeaders=!0;const ce=p.join("");mt(Fo,`Creating RPC '${n}' stream ${u}: ${ce}`,O);const we=_.createWebChannel(ce,O);let Ye=!1,Ct=!1;const Qt=new qh({Io:un=>{Ct?mt(Fo,`Not sending because RPC '${n}' stream ${u} is closed:`,un):(Ye||(mt(Fo,`Opening RPC '${n}' stream ${u} transport.`),we.open(),Ye=!0),mt(Fo,`RPC '${n}' stream ${u} sending:`,un),we.send(un))},To:()=>we.close()}),fn=(un,jn,ir)=>{un.listen(jn,Yn=>{try{ir(Yn)}catch(_r){setTimeout(()=>{throw _r},0)}})};return fn(we,Ot.EventType.OPEN,()=>{Ct||(mt(Fo,`RPC '${n}' stream ${u} transport opened.`),Qt.yo())}),fn(we,Ot.EventType.CLOSE,()=>{Ct||(Ct=!0,mt(Fo,`RPC '${n}' stream ${u} transport closed`),Qt.So())}),fn(we,Ot.EventType.ERROR,un=>{Ct||(Ct=!0,gn(Fo,`RPC '${n}' stream ${u} transport errored:`,un),Qt.So(new Fe(Te.UNAVAILABLE,"The operation could not be completed")))}),fn(we,Ot.EventType.MESSAGE,un=>{var jn;if(!Ct){const ir=un.data[0];Yt(!!ir);const _r=ir.error||(null===(jn=ir[0])||void 0===jn?void 0:jn.error);if(_r){mt(Fo,`RPC '${n}' stream ${u} received error:`,_r);const Jr=_r.status;let Rr=function(dt){const At=$i[dt];if(void 0!==At)return _o(At)}(Jr),vt=_r.message;void 0===Rr&&(Rr=Te.INTERNAL,vt="Unknown error status: "+Jr+" with message "+_r.message),Ct=!0,Qt.So(new Fe(Rr,vt)),we.close()}else mt(Fo,`RPC '${n}' stream ${u} received:`,ir),Qt.bo(ir)}}),fn(S,re.STAT_EVENT,un=>{un.stat===Q.PROXY?mt(Fo,`RPC '${n}' stream ${u} detected buffering proxy`):un.stat===Q.NOPROXY&&mt(Fo,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Qt.wo()},0),Qt}}function Xh(){return typeof window<"u"?window:null}function Zc(){return typeof document<"u"?document:null}function oc(l){return new Oc(l,!0)}class $a{constructor(n,i,s=1e3,u=1.5,p=6e4){this.ui=n,this.timerId=i,this.ko=s,this.qo=u,this.Qo=p,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(n){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&mt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),n())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class qd{constructor(n,i,s,u,p,_,S,O){this.ui=n,this.Ho=s,this.Jo=u,this.connection=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=S,this.listener=O,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $a(n,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var n=this;return(0,ve.A)(function*(){n.n_()&&(yield n.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(n){this.u_(),this.stream.send(n)}__(){var n=this;return(0,ve.A)(function*(){if(n.r_())return n.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(n,i){var s=this;return(0,ve.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==n?s.t_.reset():i&&i.code===Te.RESOURCE_EXHAUSTED?(mn(i.toString()),mn("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===Te.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=n,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const n=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{n(()=>{const u=new Fe(Te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(n,i){const s=this.h_(this.Yo);this.stream=this.T_(n,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var n=this;this.state=5,this.t_.Go((0,ve.A)(function*(){n.state=0,n.start()}))}I_(n){return mt("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}h_(n){return i=>{this.ui.enqueueAndForget(()=>this.Yo===n?i():(mt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Jc extends qd{constructor(n,i,s,u,p,_){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,_),this.serializer=p}T_(n,i){return this.connection.Bo("Listen",n,i)}E_(n){return this.onNext(n)}onNext(n){this.t_.reset();const i=function w(l,n){let i;if("targetChange"in n){const s="NO_CHANGE"===(G=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===G?1:"REMOVE"===G?2:"CURRENT"===G?3:"RESET"===G?4:jt(),u=n.targetChange.targetIds||[],p=function(G,ce){return G.useProto3Json?(Yt(void 0===ce||"string"==typeof ce),ue.fromBase64String(ce||"")):(Yt(void 0===ce||ce instanceof Buffer||ce instanceof Uint8Array),ue.fromUint8Array(ce||new Uint8Array))}(l,n.targetChange.resumeToken),_=n.targetChange.cause,S=_&&function(G){const ce=void 0===G.code?Te.UNKNOWN:_o(G.code);return new Fe(ce,G.message||"")}(_);i=new uo(s,u,p,S||null)}else if("documentChange"in n){const s=n.documentChange,u=Ts(l,s.document.name),p=ji(s.document.updateTime),_=s.document.createTime?ji(s.document.createTime):Rn.min(),S=new Li({mapValue:{fields:s.document.fields}}),O=ri.newFoundDocument(u,p,_,S);i=new ra(s.targetIds||[],s.removedTargetIds||[],O.key,O)}else if("documentDelete"in n){const s=n.documentDelete,u=Ts(l,s.document),p=s.readTime?ji(s.readTime):Rn.min(),_=ri.newNoDocument(u,p);i=new ra([],s.removedTargetIds||[],_.key,_)}else if("documentRemove"in n){const s=n.documentRemove,u=Ts(l,s.document);i=new ra([],s.removedTargetIds||[],u,null)}else{if(!("filter"in n))return jt();{const s=n.filter,{count:u=0,unchangedNames:p}=s,_=new Rc(u,p);i=new el(s.targetId,_)}}var G;return i}(this.serializer,n),s=function(p){if(!("targetChange"in p))return Rn.min();const _=p.targetChange;return _.targetIds&&_.targetIds.length?Rn.min():_.readTime?ji(_.readTime):Rn.min()}(n);return this.listener.d_(i,s)}A_(n){const i={};i.database=Pd(this.serializer),i.addTarget=function(p,_){let S;const O=_.target;if(S=zn(O)?{documents:ae(p,O)}:{query:fe(p,O)._t},S.targetId=_.targetId,_.resumeToken.approximateByteSize()>0){S.resumeToken=Sl(p,_.resumeToken);const G=Yo(p,_.expectedCount);null!==G&&(S.expectedCount=G)}else if(_.snapshotVersion.compareTo(Rn.min())>0){S.readTime=Zo(p,_.snapshotVersion.toTimestamp());const G=Yo(p,_.expectedCount);null!==G&&(S.expectedCount=G)}return S}(this.serializer,n);const s=function Tt(l,n){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return jt()}}(n.purpose);return null==i?null:{"goog-listen-tags":i}}(0,n);s&&(i.labels=s),this.a_(i)}R_(n){const i={};i.database=Pd(this.serializer),i.removeTarget=n,this.a_(i)}}class Xd extends qd{constructor(n,i,s,u,p,_){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,_),this.serializer=p}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(n,i){return this.connection.Bo("Write",n,i)}E_(n){return Yt(!!n.streamToken),this.lastStreamToken=n.streamToken,Yt(!n.writeResults||0===n.writeResults.length),this.listener.f_()}onNext(n){Yt(!!n.streamToken),this.lastStreamToken=n.streamToken,this.t_.reset();const i=function x(l,n){return l&&l.length>0?(Yt(void 0!==n),l.map(i=>function(u,p){let _=ji(u.updateTime?u.updateTime:p);return _.isEqual(Rn.min())&&(_=ji(p)),new he(_,u.transformResults||[])}(i,n))):[]}(n.writeResults,n.commitTime),s=ji(n.commitTime);return this.listener.g_(s,i)}p_(){const n={};n.database=Pd(this.serializer),this.a_(n)}m_(n){const i={streamToken:this.lastStreamToken,writes:n.map(s=>P(this.serializer,s))};this.a_(i)}}class Qh extends class{}{constructor(n,i,s,u){super(),this.authCredentials=n,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Fe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(n,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.connection.Mo(n,ka(i,s),u,p,_)).catch(p=>{throw"FirebaseError"===p.name?(p.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Fe(Te.UNKNOWN,p.toString())})}Lo(n,i,s,u,p){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([_,S])=>this.connection.Lo(n,ka(i,s),u,_,S,p)).catch(_=>{throw"FirebaseError"===_.name?(_.code===Te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),_):new Fe(Te.UNKNOWN,_.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class cl{constructor(n,i){this.asyncQueue=n,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(n){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.C_("Offline")))}set(n){this.x_(),this.S_=0,"Online"===n&&(this.D_=!1),this.C_(n)}C_(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}F_(n){const i=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(mn(i),this.D_=!1):mt("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Er{constructor(n,i,s,u,p){var _=this;this.localStore=n,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=p,this.k_._o(S=>{s.enqueueAndForget((0,ve.A)(function*(){var O;Ll(_)&&(mt("RemoteStore","Restarting streams for network reachability change."),yield(O=(0,ve.A)(function*(ce){const we=it(ce);we.L_.add(4),yield hl(we),we.q_.set("Unknown"),we.L_.delete(4),yield dl(we)}),function G(ce){return O.apply(this,arguments)})(_))}))}),this.q_=new cl(s,u)}}function dl(l){return Eu.apply(this,arguments)}function Eu(){return(Eu=(0,ve.A)(function*(l){if(Ll(l))for(const n of l.B_)yield n(!0)})).apply(this,arguments)}function hl(l){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,ve.A)(function*(l){for(const n of l.B_)yield n(!1)})).apply(this,arguments)}function Qd(l,n){const i=it(l);i.N_.has(n.targetId)||(i.N_.set(n.targetId,n),Yd(i)?$s(i):oe(i).r_()&&Zh(i,n))}function Fl(l,n){const i=it(l),s=oe(i);i.N_.delete(n),s.r_()&&hs(i,n),0===i.N_.size&&(s.r_()?s.o_():Ll(i)&&i.q_.set("Unknown"))}function Zh(l,n){if(l.Q_.xe(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Rn.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(i)}oe(l).A_(n)}function hs(l,n){l.Q_.xe(n),oe(l).R_(n)}function $s(l){l.Q_=new Cs({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),ot:n=>l.N_.get(n)||null,tt:()=>l.datastore.serializer.databaseId}),oe(l).start(),l.q_.v_()}function Yd(l){return Ll(l)&&!oe(l).n_()&&l.N_.size>0}function Ll(l){return 0===it(l).L_.size}function Zd(l){l.Q_=void 0}function Jh(l){return ef.apply(this,arguments)}function ef(){return(ef=(0,ve.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function qt(l){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,ve.A)(function*(l){l.N_.forEach((n,i)=>{Zh(l,n)})})).apply(this,arguments)}function fl(l,n){return ed.apply(this,arguments)}function ed(){return(ed=(0,ve.A)(function*(l,n){Zd(l),Yd(l)?(l.q_.M_(n),$s(l)):l.q_.set("Unknown")})).apply(this,arguments)}function Ai(l,n,i){return Jd.apply(this,arguments)}function Jd(){return Jd=(0,ve.A)(function*(l,n,i){if(l.q_.set("Online"),n instanceof uo&&2===n.state&&n.cause)try{yield(s=(0,ve.A)(function*(p,_){const S=_.cause;for(const O of _.targetIds)p.N_.has(O)&&(yield p.remoteSyncer.rejectListen(O,S),p.N_.delete(O),p.Q_.removeTarget(O))}),function u(p,_){return s.apply(this,arguments)})(l,n)}catch(s){mt("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),s),yield Vl(l,s)}else if(n instanceof ra?l.Q_.Ke(n):n instanceof el?l.Q_.He(n):l.Q_.We(n),!i.isEqual(Rn.min()))try{const s=yield a_(l.localStore);i.compareTo(s)>=0&&(yield function(p,_){const S=p.Q_.rt(_);return S.targetChanges.forEach((O,G)=>{if(O.resumeToken.approximateByteSize()>0){const ce=p.N_.get(G);ce&&p.N_.set(G,ce.withResumeToken(O.resumeToken,_))}}),S.targetMismatches.forEach((O,G)=>{const ce=p.N_.get(O);if(!ce)return;p.N_.set(O,ce.withResumeToken(ue.EMPTY_BYTE_STRING,ce.snapshotVersion)),hs(p,O);const we=new hi(ce.target,O,G,ce.sequenceNumber);Zh(p,we)}),p.remoteSyncer.applyRemoteEvent(S)}(l,i))}catch(s){mt("RemoteStore","Failed to raise snapshot:",s),yield Vl(l,s)}var s}),Jd.apply(this,arguments)}function Vl(l,n,i){return ws.apply(this,arguments)}function ws(){return(ws=(0,ve.A)(function*(l,n,i){if(!zr(n))throw n;l.L_.add(1),yield hl(l),l.q_.set("Offline"),i||(i=()=>a_(l.localStore)),l.asyncQueue.enqueueRetryable((0,ve.A)(function*(){mt("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield dl(l)}))})).apply(this,arguments)}function Lo(l,n){return n().catch(i=>Vl(l,i,n))}function ja(l){return sc.apply(this,arguments)}function sc(){return(sc=(0,ve.A)(function*(l){const n=it(l),i=Ge(n);let s=n.O_.length>0?n.O_[n.O_.length-1].batchId:-1;for(;u_(n);)try{const u=yield l_(n.localStore,s);if(null===u){0===n.O_.length&&i.o_();break}s=u.batchId,Ul(n,u)}catch(u){yield Vl(n,u)}Iu(n)&&eh(n)})).apply(this,arguments)}function u_(l){return Ll(l)&&l.O_.length<10}function Ul(l,n){l.O_.push(n);const i=Ge(l);i.r_()&&i.V_&&i.m_(n.mutations)}function Iu(l){return Ll(l)&&!Ge(l).n_()&&l.O_.length>0}function eh(l){Ge(l).start()}function tf(l){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,ve.A)(function*(l){Ge(l).p_()})).apply(this,arguments)}function Ia(l){return th.apply(this,arguments)}function th(){return(th=(0,ve.A)(function*(l){const n=Ge(l);for(const i of l.O_)n.m_(i.mutations)})).apply(this,arguments)}function Aa(l,n,i){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,ve.A)(function*(l,n,i){const s=l.O_.shift(),u=ta.from(s,n,i);yield Lo(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield ja(l)})).apply(this,arguments)}function fm(l,n){return y.apply(this,arguments)}function y(){return y=(0,ve.A)(function*(l,n){var i;n&&Ge(l).V_&&(yield(i=(0,ve.A)(function*(u,p){if(Mc(S=p.code)&&S!==Te.ABORTED){const _=u.O_.shift();Ge(u).s_(),yield Lo(u,()=>u.remoteSyncer.rejectFailedWrite(_.batchId,p)),yield ja(u)}var S}),function s(u,p){return i.apply(this,arguments)})(l,n)),Iu(l)&&eh(l)}),y.apply(this,arguments)}function h(l,n){return g.apply(this,arguments)}function g(){return(g=(0,ve.A)(function*(l,n){const i=it(l);i.asyncQueue.verifyOperationInProgress(),mt("RemoteStore","RemoteStore received new credentials");const s=Ll(i);i.L_.add(3),yield hl(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(n),i.L_.delete(3),yield dl(i)})).apply(this,arguments)}function A(l,n){return j.apply(this,arguments)}function j(){return(j=(0,ve.A)(function*(l,n){const i=it(l);n?(i.L_.delete(2),yield dl(i)):n||(i.L_.add(2),yield hl(i),i.q_.set("Unknown"))})).apply(this,arguments)}function oe(l){return l.K_||(l.K_=function(i,s,u){const p=it(i);return p.w_(),new Jc(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:Jh.bind(null,l),Ro:qt.bind(null,l),mo:fl.bind(null,l),d_:Ai.bind(null,l)}),l.B_.push(function(){var n=(0,ve.A)(function*(i){i?(l.K_.s_(),Yd(l)?$s(l):l.q_.set("Unknown")):(yield l.K_.stop(),Zd(l))});return function(i){return n.apply(this,arguments)}}())),l.K_}function Ge(l){return l.U_||(l.U_=function(i,s,u){const p=it(i);return p.w_(),new Xd(s,p.connection,p.authCredentials,p.appCheckCredentials,p.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:tf.bind(null,l),mo:fm.bind(null,l),f_:Ia.bind(null,l),g_:Aa.bind(null,l)}),l.B_.push(function(){var n=(0,ve.A)(function*(i){i?(l.U_.s_(),yield ja(l)):(yield l.U_.stop(),l.O_.length>0&&(mt("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return n.apply(this,arguments)}}())),l.U_}class It{constructor(n,i,s,u,p){this.asyncQueue=n,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=p,this.deferred=new tn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,i,s,u,p){const _=Date.now()+s,S=new It(n,i,_,u,p);return S.start(s),S}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(Te.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xt(l,n){if(mn("AsyncQueue",`${n}: ${l}`),zr(l))return new Fe(Te.UNAVAILABLE,`${n}: ${l}`);throw l}class An{constructor(n){this.comparator=n?(i,s)=>n(i,s)||ln.comparator(i.key,s.key):(i,s)=>ln.comparator(i.key,s.key),this.keyedMap=Zl(),this.sortedSet=new qr(this.comparator)}static emptySet(n){return new An(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const i=this.keyedMap.get(n);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((i,s)=>(n(i),!1))}add(n){const i=this.delete(n.key);return i.copy(i.keyedMap.insert(n.key,n),i.sortedSet.insert(n,null))}delete(n){const i=this.get(n);return i?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(i)):this}isEqual(n){if(!(n instanceof An)||this.size!==n.size)return!1;const i=this.sortedSet.getIterator(),s=n.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,p=s.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const n=[];return this.forEach(i=>{n.push(i.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,i){const s=new An;return s.comparator=this.comparator,s.keyedMap=n,s.sortedSet=i,s}}class Vn{constructor(){this.W_=new qr(ln.comparator)}track(n){const i=n.doc.key,s=this.W_.get(i);s?0!==n.type&&3===s.type?this.W_=this.W_.insert(i,n):3===n.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:n.doc}):2===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):2===n.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:n.doc}):1===n.type&&0===s.type?this.W_=this.W_.remove(i):1===n.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===n.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:n.doc}):jt():this.W_=this.W_.insert(i,n)}G_(){const n=[];return this.W_.inorderTraversal((i,s)=>{n.push(s)}),n}}class kn{constructor(n,i,s,u,p,_,S,O,G){this.query=n,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=S,this.excludesMetadataChanges=O,this.hasCachedResults=G}static fromInitialDocuments(n,i,s,u,p){const _=[];return i.forEach(S=>{_.push({type:0,doc:S})}),new kn(n,i,An.emptySet(i),_,s,u,!0,!1,p)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&xa(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const i=this.docChanges,s=n.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class zi{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(n=>n.J_())}}class ua{constructor(){this.queries=Au(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=it(i),p=u.queries;u.queries=Au(),p.forEach((_,S)=>{for(const O of S.j_)O.onError(s)})}(this,new Fe(Te.ABORTED,"Firestore shutting down"))}}function Au(){return new Ko(l=>Jn(l),xa)}function nh(l,n){return ho.apply(this,arguments)}function ho(){return(ho=(0,ve.A)(function*(l,n){const i=it(l);let s=3;const u=n.query;let p=i.queries.get(u);p?!p.H_()&&n.J_()&&(s=2):(p=new zi,s=n.J_()?0:1);try{switch(s){case 0:p.z_=yield i.onListen(u,!0);break;case 1:p.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(_){const S=Xt(_,`Initialization of query '${os(n.query)}' failed`);return void n.onError(S)}i.queries.set(u,p),p.j_.push(n),n.Z_(i.onlineState),p.z_&&n.X_(p.z_)&&rh(i)})).apply(this,arguments)}function Ha(l,n){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,ve.A)(function*(l,n){const i=it(l),s=n.query;let u=3;const p=i.queries.get(s);if(p){const _=p.j_.indexOf(n);_>=0&&(p.j_.splice(_,1),0===p.j_.length?u=n.J_()?0:1:!p.H_()&&n.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function nf(l,n){const i=it(l);let s=!1;for(const u of n){const _=i.queries.get(u.query);if(_){for(const S of _.j_)S.X_(u)&&(s=!0);_.z_=u}}s&&rh(i)}function Ep(l,n,i){const s=it(l),u=s.queries.get(n);if(u)for(const p of u.j_)p.onError(i);s.queries.delete(n)}function rh(l){l.Y_.forEach(n=>{n.next()})}var td,ih;(ih=td||(td={})).ea="default",ih.Cache="cache";class oh{constructor(n,i,s){this.query=n,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(n){if(!this.options.includeMetadataChanges){const s=[];for(const u of n.docChanges)3!==u.type&&s.push(u);n=new kn(n.query,n.docs,n.oldDocs,s,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let i=!1;return this.na?this.ia(n)&&(this.ta.next(n),i=!0):this.sa(n,this.onlineState)&&(this.oa(n),i=!0),this.ra=n,i}onError(n){this.ta.error(n)}Z_(n){this.onlineState=n;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,n)&&(this.oa(this.ra),i=!0),i}sa(n,i){return!n.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!n.docs.isEmpty()||n.hasCachedResults||"Offline"===i)}ia(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(n){n=kn.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.na=!0,this.ta.next(n)}J_(){return this.options.source!==td.Cache}}class Cu{constructor(n,i){this.aa=n,this.byteLength=i}ua(){return"metadata"in this.aa}}class Ta{constructor(n){this.serializer=n}Es(n){return Ts(this.serializer,n)}ds(n){return n.metadata.exists?Nd(this.serializer,n.document,!1):ri.newNoDocument(this.Es(n.metadata.name),this.As(n.metadata.readTime))}As(n){return ji(n)}}class j0{constructor(n,i,s){this.ca=n,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=rf(n)}la(n){this.progress.bytesLoaded+=n.byteLength;let i=this.progress.documentsLoaded;if(n.aa.namedQuery)this.queries.push(n.aa.namedQuery);else if(n.aa.documentMetadata){this.documents.push({metadata:n.aa.documentMetadata}),n.aa.documentMetadata.exists||++i;const s=Hn.fromString(n.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else n.aa.document&&(this.documents[this.documents.length-1].document=n.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(n){const i=new Map,s=new Ta(this.serializer);for(const u of n)if(u.metadata.queries){const p=s.Es(u.metadata.name);for(const _ of u.metadata.queries){const S=(i.get(_)||pr()).add(p);i.set(_,S)}}return i}complete(){var n=this;return(0,ve.A)(function*(){const i=yield function cm(l,n,i,s){return Wh.apply(this,arguments)}(n.localStore,new Ta(n.serializer),n.documents,n.ca.id),s=n.ha(n.documents);for(const u of n.queries)yield Gd(n.localStore,u,s.get(u.name));return n.progress.taskState="Success",{progress:n.progress,Pa:n.collectionGroups,Ia:i}})()}}function rf(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class sf{constructor(n){this.key=n}}class af{constructor(n){this.key=n}}class Ip{constructor(n,i){this.query=n,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pr(),this.mutatedKeys=pr(),this.Aa=Xa(n),this.Ra=new An(this.Aa)}get Va(){return this.Ta}ma(n,i){const s=i?i.fa:new Vn,u=i?i.Ra:this.Ra;let p=i?i.mutatedKeys:this.mutatedKeys,_=u,S=!1;const O="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,G="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((ce,we)=>{const Ye=u.get(ce),Ct=Zs(this.query,we)?we:null,Qt=!!Ye&&this.mutatedKeys.has(Ye.key),fn=!!Ct&&(Ct.hasLocalMutations||this.mutatedKeys.has(Ct.key)&&Ct.hasCommittedMutations);let un=!1;Ye&&Ct?Ye.data.isEqual(Ct.data)?Qt!==fn&&(s.track({type:3,doc:Ct}),un=!0):this.ga(Ye,Ct)||(s.track({type:2,doc:Ct}),un=!0,(O&&this.Aa(Ct,O)>0||G&&this.Aa(Ct,G)<0)&&(S=!0)):!Ye&&Ct?(s.track({type:0,doc:Ct}),un=!0):Ye&&!Ct&&(s.track({type:1,doc:Ye}),un=!0,(O||G)&&(S=!0)),un&&(Ct?(_=_.add(Ct),p=fn?p.add(ce):p.delete(ce)):(_=_.delete(ce),p=p.delete(ce)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const ce="F"===this.query.limitType?_.last():_.first();_=_.delete(ce.key),p=p.delete(ce.key),s.track({type:1,doc:ce})}return{Ra:_,fa:s,ns:S,mutatedKeys:p}}ga(n,i){return n.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(n,i,s,u){const p=this.Ra;this.Ra=n.Ra,this.mutatedKeys=n.mutatedKeys;const _=n.fa.G_();_.sort((ce,we)=>function(Ct,Qt){const fn=un=>{switch(un){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jt()}};return fn(Ct)-fn(Qt)}(ce.type,we.type)||this.Aa(ce.doc,we.doc)),this.pa(s),u=null!=u&&u;const S=i&&!u?this.ya():[],O=0===this.da.size&&this.current&&!u?1:0,G=O!==this.Ea;return this.Ea=O,0!==_.length||G?{snapshot:new kn(this.query,n.Ra,p,_,n.mutatedKeys,0===O,G,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:S}:{wa:S}}Z_(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Vn,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(n){return!this.Ta.has(n)&&!!this.Ra.has(n)&&!this.Ra.get(n).hasLocalMutations}pa(n){n&&(n.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),n.modifiedDocuments.forEach(i=>{}),n.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=n.current)}ya(){if(!this.current)return[];const n=this.da;this.da=pr(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return n.forEach(s=>{this.da.has(s)||i.push(new af(s))}),this.da.forEach(s=>{n.has(s)||i.push(new sf(s))}),i}ba(n){this.Ta=n.Ts,this.da=pr();const i=this.ma(n.documents);return this.applyChanges(i,!0)}Da(){return kn.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class c_{constructor(n,i,s){this.query=n,this.targetId=i,this.view=s}}class d_{constructor(n){this.key=n,this.va=!1}}class H0{constructor(n,i,s,u,p,_){this.localStore=n,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.Ca={},this.Fa=new Ko(S=>Jn(S),xa),this.Ma=new Map,this.xa=new Set,this.Oa=new qr(ln.comparator),this.Na=new Map,this.La=new ec,this.Ba={},this.ka=new Map,this.qa=Qi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function sh(l,n){return nd.apply(this,arguments)}function nd(){return(nd=(0,ve.A)(function*(l,n,i=!0){const s=ad(l);let u;const p=s.Fa.get(n);return p?(s.sharedClientState.addLocalQueryTarget(p.targetId),u=p.view.Da()):u=yield pm(s,n,i,!0),u})).apply(this,arguments)}function z0(l,n){return lf.apply(this,arguments)}function lf(){return(lf=(0,ve.A)(function*(l,n){const i=ad(l);yield pm(i,n,!0,!1)})).apply(this,arguments)}function pm(l,n,i,s){return gm.apply(this,arguments)}function gm(){return(gm=(0,ve.A)(function*(l,n,i,s){const u=yield Xc(l.localStore,to(n)),p=u.targetId,_=l.sharedClientState.addLocalQueryTarget(p,i);let S;return s&&(S=yield mm(l,n,p,"current"===_,u.resumeToken)),l.isPrimaryClient&&i&&Qd(l.remoteStore,u),S})).apply(this,arguments)}function mm(l,n,i,s,u){return vm.apply(this,arguments)}function vm(){return vm=(0,ve.A)(function*(l,n,i,s,u){l.Ka=(we,Ye,Ct)=>{return(Qt=(0,ve.A)(function*(un,jn,ir,Yn){let _r=jn.view.ma(ir);_r.ns&&(_r=yield rc(un.localStore,jn.query,!1).then(({documents:Ke})=>jn.view.ma(Ke,_r)));const Jr=Yn&&Yn.targetChanges.get(jn.targetId),Rr=Yn&&null!=Yn.targetMismatches.get(jn.targetId),vt=jn.view.applyChanges(_r,un.isPrimaryClient,Jr,Rr);return df(un,jn.targetId,vt.wa),vt.snapshot}),function fn(un,jn,ir,Yn){return Qt.apply(this,arguments)})(l,we,Ye,Ct);var Qt};const p=yield rc(l.localStore,n,!0),_=new Ip(n,p.Ts),S=_.ma(p.documents),O=lo.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),G=_.applyChanges(S,l.isPrimaryClient,O);df(l,i,G.wa);const ce=new c_(n,i,_);return l.Fa.set(n,ce),l.Ma.has(i)?l.Ma.get(i).push(n):l.Ma.set(i,[n]),G.snapshot}),vm.apply(this,arguments)}function PA(l,n,i){return h_.apply(this,arguments)}function h_(){return(h_=(0,ve.A)(function*(l,n,i){const s=it(l),u=s.Fa.get(n),p=s.Ma.get(u.targetId);if(p.length>1)return s.Ma.set(u.targetId,p.filter(_=>!xa(_,n))),void s.Fa.delete(n);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield vu(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&Fl(s.remoteStore,u.targetId),od(s,u.targetId)}).catch(lr))):(od(s,u.targetId),yield vu(s.localStore,u.targetId,!0))})).apply(this,arguments)}function _m(l,n){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,ve.A)(function*(l,n){const i=it(l),s=i.Fa.get(n),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Fl(i.remoteStore,s.targetId))})).apply(this,arguments)}function rd(){return(rd=(0,ve.A)(function*(l,n,i){const s=Sp(l);try{const u=yield function(_,S){const O=it(_),G=Nn.now(),ce=S.reduce((Ct,Qt)=>Ct.add(Qt.key),pr());let we,Ye;return O.persistence.runTransaction("Locally write mutations","readwrite",Ct=>{let Qt=qo(),fn=pr();return O.cs.getEntries(Ct,ce).next(un=>{Qt=un,Qt.forEach((jn,ir)=>{ir.isValidDocument()||(fn=fn.add(jn))})}).next(()=>O.localDocuments.getOverlayedDocuments(Ct,Qt)).next(un=>{we=un;const jn=[];for(const ir of S){const Yn=gr(ir,we.get(ir.key).overlayedDocument);null!=Yn&&jn.push(new Cn(ir.key,Yn,xo(Yn.value.mapValue),Re.exists(!0)))}return O.mutationQueue.addMutationBatch(Ct,G,jn,S)}).next(un=>{Ye=un;const jn=un.applyToLocalDocumentSet(we,fn);return O.documentOverlayCache.saveOverlays(Ct,un.batchId,jn)})}).then(()=>({batchId:Ye.batchId,changes:Qa(we)}))}(s.localStore,n);s.sharedClientState.addPendingMutation(u.batchId),function(_,S,O){let G=_.Ba[_.currentUser.toKey()];G||(G=new qr(En)),G=G.insert(S,O),_.Ba[_.currentUser.toKey()]=G}(s,u.batchId,i),yield $l(s,u.changes),yield ja(s.remoteStore)}catch(u){const p=Xt(u,"Failed to persist write");i.reject(p)}})).apply(this,arguments)}function f_(l,n){return id.apply(this,arguments)}function id(){return(id=(0,ve.A)(function*(l,n){const i=it(l);try{const s=yield function vp(l,n){const i=it(l),s=n.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const S=[];n.targetChanges.forEach((ce,we)=>{const Ye=u.get(we);if(!Ye)return;S.push(i.Ur.removeMatchingKeys(p,ce.removedDocuments,we).next(()=>i.Ur.addMatchingKeys(p,ce.addedDocuments,we)));let Ct=Ye.withSequenceNumber(p.currentSequenceNumber);var fn,un,jn;null!==n.targetMismatches.get(we)?Ct=Ct.withResumeToken(ue.EMPTY_BYTE_STRING,Rn.min()).withLastLimboFreeSnapshotVersion(Rn.min()):ce.resumeToken.approximateByteSize()>0&&(Ct=Ct.withResumeToken(ce.resumeToken,s)),u=u.insert(we,Ct),un=Ct,jn=ce,(0===(fn=Ye).resumeToken.approximateByteSize()||un.snapshotVersion.toMicroseconds()-fn.snapshotVersion.toMicroseconds()>=3e8||jn.addedDocuments.size+jn.modifiedDocuments.size+jn.removedDocuments.size>0)&&S.push(i.Ur.updateTargetData(p,Ct))});let O=qo(),G=pr();if(n.documentUpdates.forEach(ce=>{n.resolvedLimboDocuments.has(ce)&&S.push(i.persistence.referenceDelegate.updateLimboDocument(p,ce))}),S.push(ll(p,_,n.documentUpdates).next(ce=>{O=ce.Ps,G=ce.Is})),!s.isEqual(Rn.min())){const ce=i.Ur.getLastRemoteSnapshotVersion(p).next(we=>i.Ur.setTargetsMetadata(p,p.currentSequenceNumber,s));S.push(ce)}return ot.waitFor(S).next(()=>_.apply(p)).next(()=>i.localDocuments.getLocalViewOfDocuments(p,O,G)).next(()=>O)}).then(p=>(i.os=u,p))}(i.localStore,n);n.targetChanges.forEach((u,p)=>{const _=i.Na.get(p);_&&(Yt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.va=!0:u.modifiedDocuments.size>0?Yt(_.va):u.removedDocuments.size>0&&(Yt(_.va),_.va=!1))}),yield $l(i,s,n)}catch(s){yield lr(s)}})).apply(this,arguments)}function p_(l,n,i){const s=it(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((p,_)=>{const S=_.view.Z_(n);S.snapshot&&u.push(S.snapshot)}),function(_,S){const O=it(_);O.onlineState=S;let G=!1;O.queries.forEach((ce,we)=>{for(const Ye of we.j_)Ye.Z_(S)&&(G=!0)}),G&&rh(O)}(s.eventManager,n),u.length&&s.Ca.d_(u),s.onlineState=n,s.isPrimaryClient&&s.sharedClientState.setOnlineState(n)}}function Em(l,n,i){return ah.apply(this,arguments)}function ah(){return(ah=(0,ve.A)(function*(l,n,i){const s=it(l);s.sharedClientState.updateQueryState(n,"rejected",i);const u=s.Na.get(n),p=u&&u.key;if(p){let _=new qr(ln.comparator);_=_.insert(p,ri.newNoDocument(p,Rn.min()));const S=pr().add(p),O=new iu(Rn.min(),new Map,new qr(En),_,S);yield f_(s,O),s.Oa=s.Oa.remove(p),s.Na.delete(n),Cp(s)}else yield vu(s.localStore,n,!1).then(()=>od(s,n,i)).catch(lr)})).apply(this,arguments)}function NA(l,n){return Ap.apply(this,arguments)}function Ap(){return(Ap=(0,ve.A)(function*(l,n){const i=it(l),s=n.batch.batchId;try{const u=yield function s_(l,n){const i=it(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=n.batch.keys(),p=i.cs.newChangeBuffer({trackRemovals:!0});return function(S,O,G,ce){const we=G.batch,Ye=we.keys();let Ct=ot.resolve();return Ye.forEach(Qt=>{Ct=Ct.next(()=>ce.getEntry(O,Qt)).next(fn=>{const un=G.docVersions.get(Qt);Yt(null!==un),fn.version.compareTo(un)<0&&(we.applyToRemoteDocument(fn,G),fn.isValidDocument()&&(fn.setReadTime(G.commitVersion),ce.addEntry(fn)))})}),Ct.next(()=>S.mutationQueue.removeMutationBatch(O,we))}(i,s,n,p).next(()=>p.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,n.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(S){let O=pr();for(let G=0;G<S.mutationResults.length;++G)S.mutationResults[G].transformResults.length>0&&(O=O.add(S.batch.mutations[G].key));return O}(n))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,n);uf(i,s,null),lh(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield $l(i,u)}catch(u){yield lr(u)}})).apply(this,arguments)}function g_(l,n,i){return Im.apply(this,arguments)}function Im(){return(Im=(0,ve.A)(function*(l,n,i){const s=it(l);try{const u=yield function(_,S){const O=it(_);return O.persistence.runTransaction("Reject batch","readwrite-primary",G=>{let ce;return O.mutationQueue.lookupMutationBatch(G,S).next(we=>(Yt(null!==we),ce=we.keys(),O.mutationQueue.removeMutationBatch(G,we))).next(()=>O.mutationQueue.performConsistencyCheck(G)).next(()=>O.documentOverlayCache.removeOverlaysForBatchId(G,ce,S)).next(()=>O.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(G,ce)).next(()=>O.localDocuments.getDocuments(G,ce))})}(s.localStore,n);uf(s,n,i),lh(s,n),s.sharedClientState.updateMutationState(n,"rejected",i),yield $l(s,u)}catch(u){yield lr(u)}})).apply(this,arguments)}function Am(){return(Am=(0,ve.A)(function*(l,n){const i=it(l);Ll(i.remoteStore)||mt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(_){const S=it(_);return S.persistence.runTransaction("Get highest unacknowledged batch id","readonly",O=>S.mutationQueue.getHighestUnacknowledgedBatchId(O))}(i.localStore);if(-1===s)return void n.resolve();const u=i.ka.get(s)||[];u.push(n),i.ka.set(s,u)}catch(s){const u=Xt(s,"Initialization of waitForPendingWrites() operation failed");n.reject(u)}})).apply(this,arguments)}function lh(l,n){(l.ka.get(n)||[]).forEach(i=>{i.resolve()}),l.ka.delete(n)}function uf(l,n,i){const s=it(l);let u=s.Ba[s.currentUser.toKey()];if(u){const p=u.get(n);p&&(i?p.reject(i):p.resolve(),u=u.remove(n)),s.Ba[s.currentUser.toKey()]=u}}function od(l,n,i=null){l.sharedClientState.removeLocalQueryTarget(n);for(const s of l.Ma.get(n))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(n),l.isPrimaryClient&&l.La.gr(n).forEach(s=>{l.La.containsKey(s)||cf(l,s)})}function cf(l,n){l.xa.delete(n.path.canonicalString());const i=l.Oa.get(n);null!==i&&(Fl(l.remoteStore,i),l.Oa=l.Oa.remove(n),l.Na.delete(i),Cp(l))}function df(l,n,i){for(const s of i)s instanceof sf?(l.La.addReference(s.key,n),G0(l,s)):s instanceof af?(mt("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,n),l.La.containsKey(s.key)||cf(l,s.key)):jt()}function G0(l,n){const i=n.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(mt("SyncEngine","New document in limbo: "+i),l.xa.add(s),Cp(l))}function Cp(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const n=l.xa.values().next().value;l.xa.delete(n);const i=new ln(Hn.fromString(n)),s=l.qa.next();l.Na.set(s,new d_(i)),l.Oa=l.Oa.insert(i,s),Qd(l.remoteStore,new hi(to(Co(i.path)),s,"TargetPurposeLimboResolution",q.oe))}}function $l(l,n,i){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,ve.A)(function*(l,n,i){const s=it(l),u=[],p=[],_=[];var S;s.Fa.isEmpty()||(s.Fa.forEach((S,O)=>{_.push(s.Ka(O,n,i).then(G=>{var ce;if((G||i)&&s.isPrimaryClient){const we=G?!G.fromCache:null===(ce=null==i?void 0:i.targetChanges.get(O.targetId))||void 0===ce?void 0:ce.current;s.sharedClientState.updateQueryState(O.targetId,we?"current":"not-current")}if(G){u.push(G);const we=Hh.Wi(O.targetId,G);p.push(we)}}))}),yield Promise.all(_),s.Ca.d_(u),yield(S=(0,ve.A)(function*(G,ce){const we=it(G);try{yield we.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ye=>ot.forEach(ce,Ct=>ot.forEach(Ct.$i,Qt=>we.persistence.referenceDelegate.addReference(Ye,Ct.targetId,Qt)).next(()=>ot.forEach(Ct.Ui,Qt=>we.persistence.referenceDelegate.removeReference(Ye,Ct.targetId,Qt)))))}catch(Ye){if(!zr(Ye))throw Ye;mt("LocalStore","Failed to update sequence numbers: "+Ye)}for(const Ye of ce){const Ct=Ye.targetId;if(!Ye.fromCache){const Qt=we.os.get(Ct),un=Qt.withLastLimboFreeSnapshotVersion(Qt.snapshotVersion);we.os=we.os.insert(Ct,un)}}}),function O(G,ce){return S.apply(this,arguments)})(s.localStore,p))}),Tp.apply(this,arguments)}function m_(l,n){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,ve.A)(function*(l,n){const i=it(l);if(!i.currentUser.isEqual(n)){mt("SyncEngine","User change. New user:",n.toKey());const s=yield um(i.localStore,n);i.currentUser=n,(p=i).ka.forEach(S=>{S.forEach(O=>{O.reject(new Fe(Te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),p.ka.clear(),i.sharedClientState.handleUserChange(n,s.removedBatchIds,s.addedBatchIds),yield $l(i,s.hs)}var p})).apply(this,arguments)}function Dp(l,n){const i=it(l),s=i.Na.get(n);if(s&&s.va)return pr().add(s.key);{let u=pr();const p=i.Ma.get(n);if(!p)return u;for(const _ of p){const S=i.Fa.get(_);u=u.unionWith(S.view.Va)}return u}}function sd(l,n){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,ve.A)(function*(l,n){const i=it(l),s=yield rc(i.localStore,n.query,!0),u=n.view.ba(s);return i.isPrimaryClient&&df(i,n.targetId,u.wa),u})).apply(this,arguments)}function v_(l,n){return bp.apply(this,arguments)}function bp(){return(bp=(0,ve.A)(function*(l,n){const i=it(l);return zd(i.localStore,n).then(s=>$l(i,s))})).apply(this,arguments)}function uh(l,n,i,s){return ac.apply(this,arguments)}function ac(){return(ac=(0,ve.A)(function*(l,n,i,s){const u=it(l),p=yield function(S,O){const G=it(S),ce=it(G.mutationQueue);return G.persistence.runTransaction("Lookup mutation documents","readonly",we=>ce.Mn(we,O).next(Ye=>Ye?G.localDocuments.getDocuments(we,Ye):ot.resolve(null)))}(u.localStore,n);var O;null!==p?("pending"===i?yield ja(u.remoteStore):"acknowledged"===i||"rejected"===i?(uf(u,n,s||null),lh(u,n),O=n,it(it(u.localStore).mutationQueue).On(O)):jt(),yield $l(u,p)):mt("SyncEngine","Cannot apply mutation batch with id: "+n)})).apply(this,arguments)}function Dm(){return(Dm=(0,ve.A)(function*(l,n){const i=it(l);if(ad(i),Sp(i),!0===n&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield bm(i,s.toArray());i.Qa=!0,yield A(i.remoteStore,!0);for(const p of u)Qd(i.remoteStore,p)}else if(!1===n&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((p,_)=>{i.sharedClientState.isLocalQueryTarget(_)?s.push(_):u=u.then(()=>(od(i,_),vu(i.localStore,_,!0))),Fl(i.remoteStore,_)}),yield u,yield bm(i,s),function(_){const S=it(_);S.Na.forEach((O,G)=>{Fl(S.remoteStore,G)}),S.La.pr(),S.Na=new Map,S.Oa=new qr(ln.comparator)}(i),i.Qa=!1,yield A(i.remoteStore,!1)}})).apply(this,arguments)}function bm(l,n,i){return hf.apply(this,arguments)}function hf(){return(hf=(0,ve.A)(function*(l,n,i){const s=it(l),u=[],p=[];for(const _ of n){let S;const O=s.Ma.get(_);if(O&&0!==O.length){S=yield Xc(s.localStore,to(O[0]));for(const G of O){const ce=s.Fa.get(G),we=yield sd(s,ce);we.snapshot&&p.push(we.snapshot)}}else{const G=yield Gh(s.localStore,_);S=yield Xc(s.localStore,G),yield mm(s,__(G),_,!1,S.resumeToken)}u.push(S)}return s.Ca.d_(p),u})).apply(this,arguments)}function __(l){return Xs(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function y_(l){return i=it(l).localStore,it(it(i).persistence).Qi();var i}function wp(l,n,i,s){return wm.apply(this,arguments)}function wm(){return(wm=(0,ve.A)(function*(l,n,i,s){const u=it(l);if(u.Qa)return void mt("SyncEngine","Ignoring unexpected query state notification.");const p=u.Ma.get(n);if(p&&p.length>0)switch(i){case"current":case"not-current":{const _=yield zd(u.localStore,zu(p[0])),S=iu.createSynthesizedRemoteEventForCurrentChange(n,"current"===i,ue.EMPTY_BYTE_STRING);yield $l(u,_,S);break}case"rejected":yield vu(u.localStore,n,!0),od(u,n,s);break;default:jt()}})).apply(this,arguments)}function E_(l,n,i){return ff.apply(this,arguments)}function ff(){return(ff=(0,ve.A)(function*(l,n,i){const s=ad(l);if(s.Qa){for(const u of n){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){mt("SyncEngine","Adding an already active target "+u);continue}const p=yield Gh(s.localStore,u),_=yield Xc(s.localStore,p);yield mm(s,__(p),_.targetId,!1,_.resumeToken),Qd(s.remoteStore,_)}for(const u of i)s.Ma.has(u)&&(yield vu(s.localStore,u,!1).then(()=>{Fl(s.remoteStore,u),od(s,u)}).catch(lr))}})).apply(this,arguments)}function ad(l){const n=it(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=f_.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dp.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Em.bind(null,n),n.Ca.d_=nf.bind(null,n.eventManager),n.Ca.$a=Ep.bind(null,n.eventManager),n}function Sp(l){const n=it(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=NA.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=g_.bind(null,n),n}class ch{constructor(){this.synchronizeTabs=!1}initialize(n){var i=this;return(0,ve.A)(function*(){i.serializer=oc(n.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(n),i.persistence=i.createPersistence(n),yield i.persistence.start(),i.localStore=i.createLocalStore(n),i.gcScheduler=i.createGarbageCollectionScheduler(n,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(n,i.localStore)})()}createGarbageCollectionScheduler(n,i){return null}createIndexBackfillerScheduler(n,i){return null}createLocalStore(n){return lm(this.persistence,new am,n.initialUser,this.serializer)}createPersistence(n){return new cs(tc.Zr,this.serializer)}createSharedClientState(n){return new Do}terminate(){var n=this;return(0,ve.A)(function*(){var i,s;null===(i=n.gcScheduler)||void 0===i||i.stop(),null===(s=n.indexBackfillerScheduler)||void 0===s||s.stop(),n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Rp extends ch{constructor(n,i,s){super(),this.Wa=n,this.cacheSizeBytes=i,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(n){var i=()=>super.initialize,s=this;return(0,ve.A)(function*(){yield i().call(s,n),yield s.Wa.initialize(s,n),yield Sp(s.Wa.syncEngine),yield ja(s.Wa.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(n){return lm(this.persistence,new am,n.initialUser,this.serializer)}createGarbageCollectionScheduler(n,i){return new Zu(this.persistence.referenceDelegate.garbageCollector,n.asyncQueue,i)}createIndexBackfillerScheduler(n,i){const s=new ee(i,this.persistence);return new Nt(n.asyncQueue,s)}createPersistence(n){const i=jh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?To.withCacheSize(this.cacheSizeBytes):To.DEFAULT;return new mu(this.synchronizeTabs,i,n.clientId,s,n.asyncQueue,Xh(),Zc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(n){return new Do}}class I_ extends Rp{constructor(n,i){super(n,i,!1),this.Wa=n,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(n){var i=()=>super.initialize,s=this;return(0,ve.A)(function*(){yield i().call(s,n);const u=s.Wa.syncEngine;s.sharedClientState instanceof ul&&(s.sharedClientState.syncEngine={no:uh.bind(null,u),ro:wp.bind(null,u),io:E_.bind(null,u),Qi:y_.bind(null,u),eo:v_.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var p=(0,ve.A)(function*(_){yield function Uo(l,n){return Dm.apply(this,arguments)}(s.Wa.syncEngine,_),s.gcScheduler&&(_&&!s.gcScheduler.started?s.gcScheduler.start():_||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(_&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():_||s.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}createSharedClientState(n){const i=Xh();if(!ul.D(i))throw new Fe(Te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=jh(n.databaseInfo.databaseId,n.databaseInfo.persistenceKey);return new ul(i,n.asyncQueue,s,n.clientId,n.initialUser)}}class ld{initialize(n,i){var s=this;return(0,ve.A)(function*(){s.localStore||(s.localStore=n.localStore,s.sharedClientState=n.sharedClientState,s.datastore=s.createDatastore(i),s.remoteStore=s.createRemoteStore(i),s.eventManager=s.createEventManager(i),s.syncEngine=s.createSyncEngine(i,!n.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>p_(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=m_.bind(null,s.syncEngine),yield A(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(n){return new ua}createDatastore(n){const i=oc(n.databaseInfo.databaseId),s=new la(n.databaseInfo);return new Qh(n.authCredentials,n.appCheckCredentials,s,i)}createRemoteStore(n){return s=this.localStore,u=this.datastore,p=n.asyncQueue,_=i=>p_(this.syncEngine,i,0),S=ic.D()?new ic:new dm,new Er(s,u,p,_,S);var s,u,p,_,S}createSyncEngine(n,i){return function(u,p,_,S,O,G,ce){const we=new H0(u,p,_,S,O,G);return ce&&(we.Qa=!0),we}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,i)}terminate(){var n=this;return(0,ve.A)(function*(){var i,s,u;yield(u=(0,ve.A)(function*(_){const S=it(_);mt("RemoteStore","RemoteStore shutting down."),S.L_.add(5),yield hl(S),S.k_.shutdown(),S.q_.set("Unknown")}),function p(_){return u.apply(this,arguments)})(n.remoteStore),null===(i=n.datastore)||void 0===i||i.terminate(),null===(s=n.eventManager)||void 0===s||s.terminate()})()}}function A_(l,n=10240){let i=0;return{read:()=>(0,ve.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+n),done:!1};return i+=n,s}return{done:!0}})(),cancel:()=>(0,ve.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class Mp{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.Ga(this.observer.next,n)}error(n){this.observer.error?this.Ga(this.observer.error,n):mn("Uncaught Error in snapshot listener:",n.toString())}za(){this.muted=!0}Ga(n,i){this.muted||setTimeout(()=>{this.muted||n(i)},0)}}class OA{constructor(n,i){this.ja=n,this.serializer=i,this.metadata=new tn,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.aa)}`))},s=>this.metadata.reject(s))}close(){return this.ja.cancel()}getMetadata(){var n=this;return(0,ve.A)(function*(){return n.metadata.promise})()}Ua(){var n=this;return(0,ve.A)(function*(){return yield n.getMetadata(),n.Ja()})()}Ja(){var n=this;return(0,ve.A)(function*(){const i=yield n.Ya();if(null===i)return null;const s=n.Ha.decode(i),u=Number(s);isNaN(u)&&n.Za(`length string (${s}) is not valid number`);const p=yield n.Xa(u);return new Cu(JSON.parse(p),i.length+u)})()}eu(){return this.buffer.findIndex(n=>123===n)}Ya(){var n=this;return(0,ve.A)(function*(){for(;n.eu()<0&&!(yield n.tu()););if(0===n.buffer.length)return null;const i=n.eu();i<0&&n.Za("Reached the end of bundle when a length string is expected.");const s=n.buffer.slice(0,i);return n.buffer=n.buffer.slice(i),s})()}Xa(n){var i=this;return(0,ve.A)(function*(){for(;i.buffer.length<n;)(yield i.tu())&&i.Za("Reached the end of bundle when more is expected.");const s=i.Ha.decode(i.buffer.slice(0,n));return i.buffer=i.buffer.slice(n),s})()}Za(n){throw this.ja.cancel(),new Error(`Invalid bundle format: ${n}`)}tu(){var n=this;return(0,ve.A)(function*(){const i=yield n.ja.read();if(!i.done){const s=new Uint8Array(n.buffer.length+i.value.length);s.set(n.buffer),s.set(i.value,n.buffer.length),n.buffer=s}return i.done})()}}class C_{constructor(n){this.datastore=n,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(n){var i=this;return(0,ve.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Fe(Te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,ve.A)(function*(_,S){const O=it(_),G={documents:S.map(Ct=>tl(O.serializer,Ct))},ce=yield O.Lo("BatchGetDocuments",O.serializer.databaseId,Hn.emptyPath(),G,S.length),we=new Map;ce.forEach(Ct=>{const Qt=function I(l,n){return"found"in n?function(s,u){Yt(!!u.found);const p=Ts(s,u.found.name),_=ji(u.found.updateTime),S=u.found.createTime?ji(u.found.createTime):Rn.min(),O=new Li({mapValue:{fields:u.found.fields}});return ri.newFoundDocument(p,_,S,O)}(l,n):"missing"in n?function(s,u){Yt(!!u.missing),Yt(!!u.readTime);const p=Ts(s,u.missing),_=ji(u.readTime);return ri.newNoDocument(p,_)}(l,n):jt()}(O.serializer,Ct);we.set(Qt.key.toString(),Qt)});const Ye=[];return S.forEach(Ct=>{const Qt=we.get(Ct.toString());Yt(!!Qt),Ye.push(Qt)}),Ye}),function p(_,S){return u.apply(this,arguments)})(i.datastore,n);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(n,i){this.write(i.toMutation(n,this.precondition(n))),this.writtenDocs.add(n.toString())}update(n,i){try{this.write(i.toMutation(n,this.preconditionForUpdate(n)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(n.toString())}delete(n){this.write(new vo(n,this.precondition(n))),this.writtenDocs.add(n.toString())}commit(){var n=this;return(0,ve.A)(function*(){if(n.ensureCommitNotCalled(),n.lastTransactionError)throw n.lastTransactionError;const i=n.readVersions;var s;n.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const p=ln.fromPath(u);n.mutations.push(new Xo(p,n.precondition(p)))}),yield(s=(0,ve.A)(function*(p,_){const S=it(p),O={writes:_.map(G=>P(S.serializer,G))};yield S.Mo("Commit",S.serializer.databaseId,Hn.emptyPath(),O)}),function u(p,_){return s.apply(this,arguments)})(n.datastore,n.mutations),n.committed=!0})()}recordVersion(n){let i;if(n.isFoundDocument())i=n.version;else{if(!n.isNoDocument())throw jt();i=Rn.min()}const s=this.readVersions.get(n.key.toString());if(s){if(!i.isEqual(s))throw new Fe(Te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(n.key.toString(),i)}precondition(n){const i=this.readVersions.get(n.toString());return!this.writtenDocs.has(n.toString())&&i?i.isEqual(Rn.min())?Re.exists(!1):Re.updateTime(i):Re.none()}preconditionForUpdate(n){const i=this.readVersions.get(n.toString());if(!this.writtenDocs.has(n.toString())&&i){if(i.isEqual(Rn.min()))throw new Fe(Te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Re.updateTime(i)}return Re.exists(!0)}write(n){this.ensureCommitNotCalled(),this.mutations.push(n)}ensureCommitNotCalled(){}}class T_{constructor(n,i,s,u,p){this.asyncQueue=n,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=p,this.nu=s.maxAttempts,this.t_=new $a(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var n=this;this.t_.Go((0,ve.A)(function*(){const i=new C_(n.datastore),s=n.su(i);s&&s.then(u=>{n.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{n.deferred.resolve(u)}).catch(p=>{n.ou(p)}))}).catch(u=>{n.ou(u)})}))}su(n){try{const i=this.updateFunction(n);return!Pe(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ou(n){this.nu>0&&this._u(n)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(n)}_u(n){if("FirebaseError"===n.name){const i=n.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Mc(i)}return!1}}class Ss{constructor(n,i,s,u){var p=this;this.authCredentials=n,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=ze.UNAUTHENTICATED,this.clientId=mi.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var _=(0,ve.A)(function*(S){mt("FirestoreClient","Received user=",S.uid),yield p.authCredentialListener(S),p.user=S});return function(S){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(s,_=>(mt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(Te.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const i=new tn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ve.A)(function*(){try{n._onlineComponents&&(yield n._onlineComponents.terminate()),n._offlineComponents&&(yield n._offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=Xt(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Sm(l,n){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,ve.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),mt("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield n.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,ve.A)(function*(p){s.isEqual(p)||(yield um(n.localStore,p),s=p)});return function(p){return u.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}),Rm.apply(this,arguments)}function D_(l,n){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,ve.A)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const i=yield pf(l);mt("FirestoreClient","Initializing OnlineComponentProvider"),yield n.initialize(i,l.configuration),l.setCredentialChangeListener(s=>h(n.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>h(n.remoteStore,u)),l._onlineComponents=n})).apply(this,arguments)}function q0(l){return"FirebaseError"===l.name?l.code===Te.FAILED_PRECONDITION||l.code===Te.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function pf(l){return Np.apply(this,arguments)}function Np(){return(Np=(0,ve.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){mt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sm(l,l._uninitializedComponentsProvider._offline)}catch(n){const i=n;if(!q0(i))throw i;gn("Error using user provided cache. Falling back to memory cache: "+i),yield Sm(l,new ch)}}else mt("FirestoreClient","Using default OfflineComponentProvider"),yield Sm(l,new ch);return l._offlineComponents})).apply(this,arguments)}function lc(l){return Mm.apply(this,arguments)}function Mm(){return(Mm=(0,ve.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(mt("FirestoreClient","Using user provided OnlineComponentProvider"),yield D_(l,l._uninitializedComponentsProvider._online)):(mt("FirestoreClient","Using default OnlineComponentProvider"),yield D_(l,new ld))),l._onlineComponents})).apply(this,arguments)}function b_(l){return pf(l).then(n=>n.persistence)}function za(l){return pf(l).then(n=>n.localStore)}function X0(l){return lc(l).then(n=>n.remoteStore)}function Pm(l){return lc(l).then(n=>n.syncEngine)}function Du(l){return Op.apply(this,arguments)}function Op(){return(Op=(0,ve.A)(function*(l){const n=yield lc(l),i=n.eventManager;return i.onListen=sh.bind(null,n.syncEngine),i.onUnlisten=PA.bind(null,n.syncEngine),i.onFirstRemoteStoreListen=z0.bind(null,n.syncEngine),i.onLastRemoteStoreUnlisten=_m.bind(null,n.syncEngine),i})).apply(this,arguments)}function gf(l,n,i={}){const s=new tn;return l.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return function(p,_,S,O,G){const ce=new Mp({next:Ye=>{_.enqueueAndForget(()=>Ha(p,we));const Ct=Ye.docs.has(S);!Ct&&Ye.fromCache?G.reject(new Fe(Te.UNAVAILABLE,"Failed to get document because the client is offline.")):Ct&&Ye.fromCache&&O&&"server"===O.source?G.reject(new Fe(Te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):G.resolve(Ye)},error:Ye=>G.reject(Ye)}),we=new oh(Co(S.path),ce,{includeMetadataChanges:!0,_a:!0});return nh(p,we)}(yield Du(l),l.asyncQueue,n,i,s)})),s.promise}function Yi(l,n,i={}){const s=new tn;return l.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return function(p,_,S,O,G){const ce=new Mp({next:Ye=>{_.enqueueAndForget(()=>Ha(p,we)),Ye.fromCache&&"server"===O.source?G.reject(new Fe(Te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):G.resolve(Ye)},error:Ye=>G.reject(Ye)}),we=new oh(S,ce,{includeMetadataChanges:!0,_a:!0});return nh(p,we)}(yield Du(l),l.asyncQueue,n,i,s)})),s.promise}function xp(l){const n={};return void 0!==l.timeoutSeconds&&(n.timeoutSeconds=l.timeoutSeconds),n}const M_=new Map;function km(l,n,i){if(!i)throw new Fe(Te.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function Fm(l,n,i,s){if(!0===n&&!0===s)throw new Fe(Te.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function P_(l){if(!ln.isDocumentKey(l))throw new Fe(Te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function jl(l){if(ln.isDocumentKey(l))throw new Fe(Te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function kp(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(s=l).constructor?s.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var s;return"function"==typeof l?"a function":jt()}function Hr(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new Fe(Te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=kp(l);throw new Fe(Te.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${i}`)}}return l}function eE(l,n){if(n<=0)throw new Fe(Te.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${n}.`)}class tE{constructor(n){var i,s;if(void 0===n.host){if(void 0!==n.ssl)throw new Fe(Te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(i=n.ssl)||void 0===i||i;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new Fe(Te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}Fm("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==n.experimentalAutoDetectLongPolling&&!n.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xp(null!==(s=n.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(p){if(void 0!==p.timeoutSeconds){if(isNaN(p.timeoutSeconds))throw new Fe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (must not be NaN)`);if(p.timeoutSeconds<5)throw new Fe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (minimum allowed value is 5)`);if(p.timeoutSeconds>30)throw new Fe(Te.INVALID_ARGUMENT,`invalid long polling timeout: ${p.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===n.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Fp{constructor(n,i,s,u){this._authCredentials=n,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(Te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new Fe(Te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tE(n),void 0!==n.credentials&&(this._authCredentials=function(s){if(!s)return new er;switch(s.type){case"firstParty":return new sr(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Fe(Te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=M_.get(i);s&&(mt("ComponentProvider","Removing Datastore"),M_.delete(i),s.terminate())}(this),Promise.resolve()}}class Rs{constructor(n,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=n}withConverter(n){return new Rs(this.firestore,n,this._query)}}class Zi{constructor(n,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new js(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Zi(this.firestore,n,this._key)}}class js extends Rs{constructor(n,i,s){super(n,i,Co(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Zi(this.firestore,null,new ln(n))}withConverter(n){return new js(this.firestore,n,this._path)}}function dh(l,n,...i){if(l=(0,We.Ku)(l),km("collection","path",n),l instanceof Fp){const s=Hn.fromString(n,...i);return jl(s),new js(l,null,s)}{if(!(l instanceof Zi||l instanceof js))throw new Fe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Hn.fromString(n,...i));return jl(s),new js(l.firestore,null,s)}}function Lp(l,n,...i){if(l=(0,We.Ku)(l),1===arguments.length&&(n=mi.newId()),km("doc","path",n),l instanceof Fp){const s=Hn.fromString(n,...i);return P_(s),new Zi(l,null,new ln(s))}{if(!(l instanceof Zi||l instanceof js))throw new Fe(Te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Hn.fromString(n,...i));return P_(s),new Zi(l.firestore,l instanceof js?l.converter:null,new ln(s))}}function Vp(l,n){return l=(0,We.Ku)(l),n=(0,We.Ku)(n),(l instanceof Zi||l instanceof js)&&(n instanceof Zi||n instanceof js)&&l.firestore===n.firestore&&l.path===n.path&&l.converter===n.converter}function ud(l,n){return l=(0,We.Ku)(l),n=(0,We.Ku)(n),l instanceof Rs&&n instanceof Rs&&l.firestore===n.firestore&&xa(l._query,n._query)&&l.converter===n.converter}class rE{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new $a(this,"async_queue_retry"),this.Eu=()=>{const i=Zc();i&&mt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()};const n=Zc();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.du(),this.Au(n)}enterRestrictedMode(n){if(!this.cu){this.cu=!0,this.Iu=n||!1;const i=Zc();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Eu)}}enqueue(n){if(this.du(),this.cu)return new Promise(()=>{});const i=new tn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(n().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.uu.push(n),this.Ru()))}Ru(){var n=this;return(0,ve.A)(function*(){if(0!==n.uu.length){try{yield n.uu[0](),n.uu.shift(),n.t_.reset()}catch(i){if(!zr(i))throw i;mt("AsyncQueue","Operation failed with retryable error: "+i)}n.uu.length>0&&n.t_.Go(()=>n.Ru())}})()}Au(n){const i=this.au.then(()=>(this.Pu=!0,n().catch(s=>{throw this.hu=s,this.Pu=!1,mn("INTERNAL UNHANDLED ERROR: ",function(_){let S=_.message||"";return _.stack&&(S=_.stack.includes(_.message)?_.stack:_.message+"\n"+_.stack),S}(s)),s}).then(s=>(this.Pu=!1,s))));return this.au=i,i}enqueueAfterDelay(n,i,s){this.du(),this.Tu.indexOf(n)>-1&&(i=0);const u=It.createAndSchedule(this,n,i,s,p=>this.Vu(p));return this.lu.push(u),u}du(){this.hu&&jt()}verifyOperationInProgress(){}mu(){var n=this;return(0,ve.A)(function*(){let i;do{i=n.au,yield i}while(i!==n.au)})()}fu(n){for(const i of this.lu)if(i.timerId===n)return!0;return!1}gu(n){return this.mu().then(()=>{this.lu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.lu)if(i.skipDelay(),"all"!==n&&i.timerId===n)break;return this.mu()})}pu(n){this.Tu.push(n)}Vu(n){const i=this.lu.indexOf(n);this.lu.splice(i,1)}}function mf(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const p of["next","error","complete"])if(p in u&&"function"==typeof u[p])return!0;return!1}(l)}class O_{constructor(){this._progressObserver={},this._taskCompletionResolver=new tn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(n,i,s){this._progressObserver={next:n,error:i,complete:s}}catch(n){return this._taskCompletionResolver.promise.catch(n)}then(n,i){return this._taskCompletionResolver.promise.then(n,i)}_completeWith(n){this._updateProgress(n),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(n)}_failWith(n){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(n),this._taskCompletionResolver.reject(n)}_updateProgress(n){this._lastProgress=n,this._progressObserver.next&&this._progressObserver.next(n)}}class gi extends Fp{constructor(n,i,s,u){super(n,i,s,u),this.type="firestore",this._queue=new rE,this._persistenceKey=(null==u?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||k_(this),this._firestoreClient.terminate()}}function ro(l){return l._firestoreClient||k_(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function k_(l){var n,i,s;const u=l._freezeSettings(),p=(O=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new Ht(l._databaseId,O,l._persistenceKey,(ce=u).host,ce.ssl,ce.experimentalForceLongPolling,ce.experimentalAutoDetectLongPolling,xp(ce.experimentalLongPollingOptions),ce.useFetchStreams));var O,ce;l._firestoreClient=new Ss(l._authCredentials,l._appCheckCredentials,l._queue,p),null!==(i=u.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function Up(l,n,i){const s=new tn;return l.asyncQueue.enqueue((0,ve.A)(function*(){try{yield Sm(l,i),yield D_(l,n),s.resolve()}catch(u){const p=u;if(!q0(p))throw p;gn("Error enabling indexeddb cache. Falling back to memory cache: "+p),s.reject(p)}})).then(()=>s.promise)}function fs(l){if(l._initialized||l._terminated)throw new Fe(Te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class gl{constructor(n){this._byteString=n}static fromBase64String(n){try{return new gl(ue.fromBase64String(n))}catch(i){throw new Fe(Te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(n){return new gl(ue.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class bu{constructor(...n){for(let i=0;i<n.length;++i)if(0===n[i].length)throw new Fe(Te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class cd{constructor(n){this._methodName=n}}class _f{constructor(n,i){if(!isFinite(n)||n<-90||n>90)throw new Fe(Te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(i)||i<-180||i>180)throw new Fe(Te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=n,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return En(this._lat,n._lat)||En(this._long,n._long)}}class Bp{constructor(n){this._values=(n||[]).map(i=>i)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(s,u){if(s.length!==u.length)return!1;for(let p=0;p<s.length;++p)if(s[p]!==u[p])return!1;return!0}(this._values,n._values)}}const U_=/^__.*__$/;class lE{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return null!==this.fieldMask?new Cn(n,this.data,this.fieldMask,i,this.fieldTransforms):new Ur(n,this.data,i,this.fieldTransforms)}}class B_{constructor(n,i,s){this.data=n,this.fieldMask=i,this.fieldTransforms=s}toMutation(n,i){return new Cn(n,this.data,this.fieldMask,i,this.fieldTransforms)}}function $_(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jt()}}class $p{constructor(n,i,s,u,p,_){this.settings=n,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===p&&this.yu(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(n){return new $p(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Su({path:s,Du:!1});return u.vu(n),u}Cu(n){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(n),u=this.Su({path:s,Du:!1});return u.yu(),u}Fu(n){return this.Su({path:void 0,Du:!0})}Mu(n){return If(n,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(n){return void 0!==this.fieldMask.find(i=>n.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>n.isPrefixOf(i.field))}yu(){if(this.path)for(let n=0;n<this.path.length;n++)this.vu(this.path.get(n))}vu(n){if(0===n.length)throw this.Mu("Document fields must not be empty");if($_(this.wu)&&U_.test(n))throw this.Mu('Document fields cannot begin and end with "__"')}}class j_{constructor(n,i,s){this.databaseId=n,this.ignoreUndefinedProperties=i,this.serializer=s||oc(n)}Nu(n,i,s,u=!1){return new $p({wu:n,methodName:i,Ou:s,path:nr.emptyPath(),Du:!1,xu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uc(l){const n=l._freezeSettings(),i=oc(l._databaseId);return new j_(l._databaseId,!!n.ignoreUndefinedProperties,i)}function yf(l,n,i,s,u,p={}){const _=l.Nu(p.merge||p.mergeFields?2:0,n,i,u);zm("Data must be an object, but it was:",_,s);const S=uE(s,_);let O,G;if(p.merge)O=new $r(_.fieldMask),G=_.fieldTransforms;else if(p.mergeFields){const ce=[];for(const we of p.mergeFields){const Ye=Ef(n,we,i);if(!_.contains(Ye))throw new Fe(Te.INVALID_ARGUMENT,`Field '${Ye}' is specified in your field mask but missing from your input data.`);Wp(ce,Ye)||ce.push(Ye)}O=new $r(ce),G=_.fieldTransforms.filter(we=>O.covers(we.field))}else O=null,G=_.fieldTransforms;return new lE(new Li(S),O,G)}class cc extends cd{_toFieldTransform(n){if(2!==n.wu)throw n.Mu(1===n.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof cc}}function Um(l,n,i){return new $p({wu:3,Ou:n.settings.Ou,methodName:l._methodName,Du:i},n.databaseId,n.serializer,n.ignoreUndefinedProperties)}class jp extends cd{_toFieldTransform(n){return new De(n.path,new Ir)}isEqual(n){return n instanceof jp}}class Hp extends cd{constructor(n,i){super(n),this.Lu=i}_toFieldTransform(n){const i=Um(this,n,!0),s=this.Lu.map(p=>dc(p,i)),u=new ko(s);return new De(n.path,u)}isEqual(n){return n instanceof Hp&&(0,We.bD)(this.Lu,n.Lu)}}class zp extends cd{constructor(n,i){super(n),this.Lu=i}_toFieldTransform(n){const i=Um(this,n,!0),s=this.Lu.map(p=>dc(p,i)),u=new ii(s);return new De(n.path,u)}isEqual(n){return n instanceof zp&&(0,We.bD)(this.Lu,n.Lu)}}class Bm extends cd{constructor(n,i){super(n),this.Bu=i}_toFieldTransform(n){const i=new Ja(n.serializer,ea(n.serializer,this.Bu));return new De(n.path,i)}isEqual(n){return n instanceof Bm&&this.Bu===n.Bu}}function $m(l,n,i,s){const u=l.Nu(1,n,i);zm("Data must be an object, but it was:",u,s);const p=[],_=Li.empty();Mo(s,(O,G)=>{const ce=Gp(n,O,i);G=(0,We.Ku)(G);const we=u.Cu(ce);if(G instanceof cc)p.push(ce);else{const Ye=dc(G,we);null!=Ye&&(p.push(ce),_.set(ce,Ye))}});const S=new $r(p);return new B_(_,S,u.fieldTransforms)}function jm(l,n,i,s,u,p){const _=l.Nu(1,n,i),S=[Ef(n,s,i)],O=[u];if(p.length%2!=0)throw new Fe(Te.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ye=0;Ye<p.length;Ye+=2)S.push(Ef(n,p[Ye])),O.push(p[Ye+1]);const G=[],ce=Li.empty();for(let Ye=S.length-1;Ye>=0;--Ye)if(!Wp(G,S[Ye])){const Ct=S[Ye];let Qt=O[Ye];Qt=(0,We.Ku)(Qt);const fn=_.Cu(Ct);if(Qt instanceof cc)G.push(Ct);else{const un=dc(Qt,fn);null!=un&&(G.push(Ct),ce.set(Ct,un))}}const we=new $r(G);return new B_(ce,we,_.fieldTransforms)}function H_(l,n,i,s=!1){return dc(i,l.Nu(s?4:3,n))}function dc(l,n){if(Hm(l=(0,We.Ku)(l)))return zm("Unsupported field value:",n,l),uE(l,n);if(l instanceof cd)return function(s,u){if(!$_(u.wu))throw u.Mu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Mu(`${s._methodName}() is not currently supported inside arrays`);const p=s._toFieldTransform(u);p&&u.fieldTransforms.push(p)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.Du&&4!==n.wu)throw n.Mu("Nested arrays are not supported");return function(s,u){const p=[];let _=0;for(const S of s){let O=dc(S,u.Fu(_));null==O&&(O={nullValue:"NULL_VALUE"}),p.push(O),_++}return{arrayValue:{values:p}}}(l,n)}return function(s,u){if(null===(s=(0,We.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return ea(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const p=Nn.fromDate(s);return{timestampValue:Zo(u.serializer,p)}}if(s instanceof Nn){const p=new Nn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Zo(u.serializer,p)}}if(s instanceof _f)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof gl)return{bytesValue:Sl(u.serializer,s._byteString)};if(s instanceof Zi){const p=u.databaseId,_=s.firestore._databaseId;if(!_.isEqual(p))throw u.Mu(`Document reference is for database ${_.projectId}/${_.database} but should be for database ${p.projectId}/${p.database}`);return{referenceValue:Ml(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Bp)return S=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(O=>{if("number"!=typeof O)throw S.Mu("VectorValues must only contain numeric values.");return Vr(S.serializer,O)})}}}}};var S;throw u.Mu(`Unsupported field value: ${kp(s)}`)}(l,n)}function uE(l,n){const i={};return Ks(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Mo(l,(s,u)=>{const p=dc(u,n.bu(s));null!=p&&(i[s]=p)}),{mapValue:{fields:i}}}function Hm(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Nn||l instanceof _f||l instanceof gl||l instanceof Zi||l instanceof cd||l instanceof Bp)}function zm(l,n,i){if(!Hm(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=kp(i);throw n.Mu("an object"===s?l+" a custom object":l+" "+s)}var u}function Ef(l,n,i){if((n=(0,We.Ku)(n))instanceof bu)return n._internalPath;if("string"==typeof n)return Gp(l,n);throw If("Field path arguments must be of type string or ",l,!1,void 0,i)}const LA=new RegExp("[~\\*/\\[\\]]");function Gp(l,n,i){if(n.search(LA)>=0)throw If(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new bu(...n.split("."))._internalPath}catch{throw If(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function If(l,n,i,s,u){const p=s&&!s.isEmpty(),_=void 0!==u;let S=`Function ${n}() called with invalid data`;i&&(S+=" (via `toFirestore()`)"),S+=". ";let O="";return(p||_)&&(O+=" (found",p&&(O+=` in field ${s}`),_&&(O+=` in document ${u}`),O+=")"),new Fe(Te.INVALID_ARGUMENT,S+l+O)}function Wp(l,n){return l.some(i=>i.isEqual(n))}class Af{constructor(n,i,s,u,p){this._firestore=n,this._userDataWriter=i,this._key=s,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new Zi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new hc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const i=this._document.data.field(dd("DocumentSnapshot.get",n));if(null!==i)return this._userDataWriter.convertValue(i)}}}class hc extends Af{data(){return super.data()}}function dd(l,n){return"string"==typeof n?Gp(l,n):n instanceof bu?n._internalPath:n._delegate._internalPath}function z_(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Fe(Te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class fc extends Kp{}function hd(l,n,...i){let s=[];n instanceof Kp&&s.push(n),s=s.concat(i),function(p){const _=p.filter(O=>O instanceof hh).length,S=p.filter(O=>O instanceof qp).length;if(_>1||_>0&&S>0)throw new Fe(Te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class qp extends fc{constructor(n,i,s){super(),this._field=n,this._op=i,this._value=s,this.type="where"}static _create(n,i,s){return new qp(n,i,s)}_apply(n){const i=this._parse(n);return Df(n._query,i),new Rs(n.firestore,n.converter,Oa(n._query,i))}_parse(n){const i=uc(n.firestore);return function(p,_,S,O,G,ce,we){let Ye;if(G.isKeyField()){if("array-contains"===ce||"array-contains-any"===ce)throw new Fe(Te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ce}' queries on documentId().`);if("in"===ce||"not-in"===ce){fd(we,ce);const Ct=[];for(const Qt of we)Ct.push(ph(O,p,Qt));Ye={arrayValue:{values:Ct}}}else Ye=ph(O,p,we)}else"in"!==ce&&"not-in"!==ce&&"array-contains-any"!==ce||fd(we,ce),Ye=H_(S,"where",we,"in"===ce||"not-in"===ce);return qn.create(G,ce,Ye)}(n._query,0,i,n.firestore._databaseId,this._field,this._op,this._value)}}class hh extends Kp{constructor(n,i){super(),this.type=n,this._queryConstraints=i}static _create(n,i){return new hh(n,i)}_parse(n){const i=this._queryConstraints.map(s=>s._parse(n)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:Lr.create(i,this._getOperator())}_apply(n){const i=this._parse(n);return 0===i.getFilters().length?n:(function(u,p){let _=u;const S=p.getFlattenedFilters();for(const O of S)Df(_,O),_=Oa(_,O)}(n._query,i),new Rs(n.firestore,n.converter,Oa(n._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class G_ extends fc{constructor(n,i){super(),this._field=n,this._direction=i,this.type="orderBy"}static _create(n,i){return new G_(n,i)}_apply(n){const i=function(u,p,_){if(null!==u.startAt)throw new Fe(Te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Fe(Te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new br(p,_)}(n._query,this._field,this._direction);return new Rs(n.firestore,n.converter,function(u,p){const _=u.explicitOrderBy.concat([p]);return new fr(u.path,u.collectionGroup,_,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n._query,i))}}class Qp extends fc{constructor(n,i,s){super(),this.type=n,this._limit=i,this._limitType=s}static _create(n,i,s){return new Qp(n,i,s)}_apply(n){return new Rs(n.firestore,n.converter,ma(n._query,this._limit,this._limitType))}}class wu extends fc{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new wu(n,i,s)}_apply(n){const i=Zp(n,this.type,this._docOrFields,this._inclusive);return new Rs(n.firestore,n.converter,(p=i,new fr((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,p,u.endAt)));var u,p}}class Su extends fc{constructor(n,i,s){super(),this.type=n,this._docOrFields=i,this._inclusive=s}static _create(n,i,s){return new Su(n,i,s)}_apply(n){const i=Zp(n,this.type,this._docOrFields,this._inclusive);return new Rs(n.firestore,n.converter,(p=i,new fr((u=n._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,p)));var u,p}}function Zp(l,n,i,s){if(i[0]=(0,We.Ku)(i[0]),i[0]instanceof Af)return function(p,_,S,O,G){if(!O)throw new Fe(Te.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${S}().`);const ce=[];for(const we of Ys(p))if(we.field.isKeyField())ce.push(po(_,O.key));else{const Ye=O.data.field(we.field);if(xe(Ye))throw new Fe(Te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+we.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ye){const Ct=we.field.canonicalString();throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ct}' (used as the orderBy) does not exist.`)}ce.push(Ye)}return new Wr(ce,G)}(l._query,l.firestore._databaseId,n,i[0]._document,s);{const u=uc(l.firestore);return function(_,S,O,G,ce,we){const Ye=_.explicitOrderBy;if(ce.length>Ye.length)throw new Fe(Te.INVALID_ARGUMENT,`Too many arguments provided to ${G}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ct=[];for(let Qt=0;Qt<ce.length;Qt++){const fn=ce[Qt];if(Ye[Qt].field.isKeyField()){if("string"!=typeof fn)throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${G}(), but got a ${typeof fn}`);if(!pa(_)&&-1!==fn.indexOf("/"))throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${G}() must be a plain document ID, but '${fn}' contains a slash.`);const un=_.path.child(Hn.fromString(fn));if(!ln.isDocumentKey(un))throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${G}() must result in a valid document path, but '${un}' is not because it contains an odd number of segments.`);const jn=new ln(un);Ct.push(po(S,jn))}else{const un=H_(O,G,fn);Ct.push(un)}}return new Wr(Ct,we)}(l._query,l.firestore._databaseId,u,n,i,s)}}function ph(l,n,i){if("string"==typeof(i=(0,We.Ku)(i))){if(""===i)throw new Fe(Te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pa(n)&&-1!==i.indexOf("/"))throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=n.path.child(Hn.fromString(i));if(!ln.isDocumentKey(s))throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return po(l,new ln(s))}if(i instanceof Zi)return po(l,i._key);throw new Fe(Te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kp(i)}.`)}function fd(l,n){if(!Array.isArray(l)||0===l.length)throw new Fe(Te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${n.toString()}' filters.`)}function Df(l,n){const i=function(u,p){for(const _ of u)for(const S of _.getFlattenedFilters())if(p.indexOf(S.op)>=0)return S.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(n.op));if(null!==i)throw new Fe(Te.INVALID_ARGUMENT,i===n.op?`Invalid query. You cannot use more than one '${n.op.toString()}' filter.`:`Invalid query. You cannot use '${n.op.toString()}' filters with '${i.toString()}' filters.`)}class bf{convertValue(n,i="none"){switch(cn(n)){case 0:return null;case 1:return n.booleanValue;case 2:return F(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,i);case 5:return n.stringValue;case 6:return this.convertBytes(Ae(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,i);case 11:return this.convertObject(n.mapValue,i);case 10:return this.convertVectorValue(n.mapValue);default:throw jt()}}convertObject(n,i){return this.convertObjectMap(n.fields,i)}convertObjectMap(n,i="none"){const s={};return Mo(n,(u,p)=>{s[u]=this.convertValue(p,i)}),s}convertVectorValue(n){var i,s,u;const p=null===(u=null===(s=null===(i=n.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(_=>F(_.doubleValue));return new Bp(p)}convertGeoPoint(n){return new _f(F(n.latitude),F(n.longitude))}convertArray(n,i){return(n.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(n,i){switch(i){case"previous":const s=tt(n);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ct(n));default:return null}}convertTimestamp(n){const i=C(n);return new Nn(i.seconds,i.nanos)}convertDocumentKey(n,i){const s=Hn.fromString(n);Yt(no(s));const u=new Zt(s.get(1),s.get(3)),p=new ln(s.popFirst(5));return u.isEqual(i)||mn(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),p}}function pc(l,n,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(n,i):l.toFirestore(n):n,s}class hE extends bf{constructor(n){super(),this.firestore=n}convertBytes(n){return new gl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Zi(this.firestore,null,i)}}class pd{constructor(n,i){this.hasPendingWrites=n,this.fromCache=i}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class Ru extends Af{constructor(n,i,s,u,p,_){super(n,i,s,u,_),this._firestore=n,this._firestoreImpl=n,this.metadata=p}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const i=new Mu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,i={}){if(this._document){const s=this._document.data.field(dd("DocumentSnapshot.get",n));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class Mu extends Ru{data(n={}){return super.data(n)}}class Pu{constructor(n,i,s,u){this._firestore=n,this._userDataWriter=i,this._snapshot=u,this.metadata=new pd(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const n=[];return this.forEach(i=>n.push(i)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,i){this._snapshot.docs.forEach(s=>{n.call(i,new Mu(this._firestore,this._userDataWriter,s.key,s,new pd(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const i=!!n.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Fe(Te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,p){if(u._snapshot.oldDocs.isEmpty()){let _=0;return u._snapshot.docChanges.map(S=>({type:"added",doc:new Mu(u._firestore,u._userDataWriter,S.doc.key,S.doc,new pd(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:_++}))}{let _=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(S=>p||3!==S.type).map(S=>{const O=new Mu(u._firestore,u._userDataWriter,S.doc.key,S.doc,new pd(u._snapshot.mutatedKeys.has(S.doc.key),u._snapshot.fromCache),u.query.converter);let G=-1,ce=-1;return 0!==S.type&&(G=_.indexOf(S.doc.key),_=_.delete(S.doc.key)),1!==S.type&&(_=_.add(S.doc),ce=_.indexOf(S.doc.key)),{type:Km(S.type),doc:O,oldIndex:G,newIndex:ce}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Km(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jt()}}function K_(l,n){return l instanceof Ru&&n instanceof Ru?l._firestore===n._firestore&&l._key.isEqual(n._key)&&(null===l._document?null===n._document:l._document.isEqual(n._document))&&l._converter===n._converter:l instanceof Pu&&n instanceof Pu&&l._firestore===n._firestore&&ud(l.query,n.query)&&l.metadata.isEqual(n.metadata)&&l._snapshot.isEqual(n._snapshot)}class gd extends bf{constructor(n){super(),this.firestore=n}convertBytes(n){return new gl(n)}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return new Zi(this.firestore,null,i)}}function X_(l,n,i){l=Hr(l,Zi);const s=Hr(l.firestore,gi),u=pc(l.converter,n,i);return Nu(s,[yf(uc(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,Re.none())])}function Xm(l,n,i,...s){l=Hr(l,Zi);const u=Hr(l.firestore,gi),p=uc(u);let _;return _="string"==typeof(n=(0,We.Ku)(n))||n instanceof bu?jm(p,"updateDoc",l._key,n,i,s):$m(p,"updateDoc",l._key,n),Nu(u,[_.toMutation(l._key,Re.exists(!0))])}function gc(l,...n){var i,s,u;l=(0,We.Ku)(l);let p={includeMetadataChanges:!1,source:"default"},_=0;"object"!=typeof n[_]||mf(n[_])||(p=n[_],_++);const S={includeMetadataChanges:p.includeMetadataChanges,source:p.source};if(mf(n[_])){const we=n[_];n[_]=null===(i=we.next)||void 0===i?void 0:i.bind(we),n[_+1]=null===(s=we.error)||void 0===s?void 0:s.bind(we),n[_+2]=null===(u=we.complete)||void 0===u?void 0:u.bind(we)}let O,G,ce;if(l instanceof Zi)G=Hr(l.firestore,gi),ce=Co(l._key.path),O={next:we=>{n[_]&&n[_](eg(G,l,we))},error:n[_+1],complete:n[_+2]};else{const we=Hr(l,Rs);G=Hr(we.firestore,gi),ce=we._query;const Ye=new gd(G);O={next:Ct=>{n[_]&&n[_](new Pu(G,Ye,we,Ct))},error:n[_+1],complete:n[_+2]},z_(l._query)}return function(Ye,Ct,Qt,fn){const un=new Mp(fn),jn=new oh(Ct,un,Qt);return Ye.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return nh(yield Du(Ye),jn)})),()=>{un.za(),Ye.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return Ha(yield Du(Ye),jn)}))}}(ro(G),ce,S,O)}function Nu(l,n){return function(s,u){const p=new tn;return s.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return function ym(l,n,i){return rd.apply(this,arguments)}(yield Pm(s),u,p)})),p.promise}(ro(l),n)}function eg(l,n,i){const s=i.docs.get(n._key),u=new gd(l);return new Ru(l,u,n._key,s,new pd(i.hasPendingWrites,i.fromCache),n.converter)}const ty={maxAttempts:5};class Jm{constructor(n,i){this._firestore=n,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=uc(n)}set(n,i,s){this._verifyNotCommitted();const u=Ou(n,this._firestore),p=pc(u.converter,i,s),_=yf(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,s);return this._mutations.push(_.toMutation(u._key,Re.none())),this}update(n,i,s,...u){this._verifyNotCommitted();const p=Ou(n,this._firestore);let _;return _="string"==typeof(i=(0,We.Ku)(i))||i instanceof bu?jm(this._dataReader,"WriteBatch.update",p._key,i,s,u):$m(this._dataReader,"WriteBatch.update",p._key,i),this._mutations.push(_.toMutation(p._key,Re.exists(!0))),this}delete(n){this._verifyNotCommitted();const i=Ou(n,this._firestore);return this._mutations=this._mutations.concat(new vo(i._key,Re.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(Te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ou(l,n){if((l=(0,We.Ku)(l)).firestore!==n)throw new Fe(Te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class yE extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=uc(i)}get(i){const s=Ou(i,this._firestore),u=new hE(this._firestore);return this._transaction.lookup([s._key]).then(p=>{if(!p||1!==p.length)return jt();const _=p[0];if(_.isFoundDocument())return new Af(this._firestore,u,_.key,_,s.converter);if(_.isNoDocument())return new Af(this._firestore,u,s._key,null,s.converter);throw jt()})}set(i,s,u){const p=Ou(i,this._firestore),_=pc(p.converter,s,u),S=yf(this._dataReader,"Transaction.set",p._key,_,null!==p.converter,u);return this._transaction.set(p._key,S),this}update(i,s,u,...p){const _=Ou(i,this._firestore);let S;return S="string"==typeof(s=(0,We.Ku)(s))||s instanceof bu?jm(this._dataReader,"Transaction.update",_._key,s,u,p):$m(this._dataReader,"Transaction.update",_._key,s),this._transaction.update(_._key,S),this}delete(i){const s=Ou(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(n,i){super(n,i),this._firestore=n}get(n){const i=Ou(n,this._firestore),s=new gd(this._firestore);return super.get(n).then(u=>new Ru(this._firestore,s,i._key,u._document,new pd(!1,!1),i.converter))}}function sy(l,n){if(void 0===n)return{merge:!1};if(void 0!==n.mergeFields&&void 0!==n.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return n}function bE(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function sg(){if(!function K(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,i=!0){Pt=ge.SDK_VERSION,(0,ge._registerComponent)(new Ie.uA("firestore",(s,{instanceIdentifier:u,options:p})=>{const _=s.getProvider("app").getImmediate(),S=new gi(new Sn(s.getProvider("auth-internal")),new cr(s.getProvider("app-check-internal")),function(G,ce){if(!Object.prototype.hasOwnProperty.apply(G.options,["projectId"]))throw new Fe(Te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zt(G.options.projectId,ce)}(_,u),_);return p=Object.assign({useFetchStreams:i},p),S._setSettings(p),S},"PUBLIC").setMultipleInstances(!0)),(0,ge.registerVersion)(nt,"4.7.2",n),(0,ge.registerVersion)(nt,"4.7.2","esm2017")}();class md{constructor(n){this._delegate=n}static fromBase64String(n){return sg(),new md(gl.fromBase64String(n))}static fromUint8Array(n){return bE(),new md(gl.fromUint8Array(n))}toBase64(){return sg(),this._delegate.toBase64()}toUint8Array(){return bE(),this._delegate.toUint8Array()}isEqual(n){return this._delegate.isEqual(n._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function ay(l){return function XA(l,n){if("object"!=typeof l||null===l)return!1;const i=l;for(const s of n)if(s in i&&"function"==typeof i[s])return!0;return!1}(l,["next","error","complete"])}class ly{enableIndexedDbPersistence(n,i){return function oE(l,n){fs(l=Hr(l,gi));const i=ro(l);if(i._uninitializedComponentsProvider)throw new Fe(Te.FAILED_PRECONDITION,"SDK cache is already specified.");gn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),u=new ld;return Up(i,u,new Rp(u,s.cacheSizeBytes,null==n?void 0:n.forceOwnership))}(n._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(n){return function F_(l){fs(l=Hr(l,gi));const n=ro(l);if(n._uninitializedComponentsProvider)throw new Fe(Te.FAILED_PRECONDITION,"SDK cache is already specified.");gn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings(),s=new ld;return Up(n,s,new I_(s,i.cacheSizeBytes))}(n._delegate)}clearIndexedDbPersistence(n){return function sE(l){if(l._initialized&&!l._terminated)throw new Fe(Te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const n=new tn;return l._queue.enqueueAndForgetEvenWhileRestricted((0,ve.A)(function*(){try{yield(i=(0,ve.A)(function*(u){if(!Fn.D())return Promise.resolve();const p=u+"main";yield Fn.delete(p)}),function s(u){return i.apply(this,arguments)})(jh(l._databaseId,l._persistenceKey)),n.resolve()}catch(i){n.reject(i)}var i})),n.promise}(n._delegate)}}class uy{constructor(n,i,s){this._delegate=i,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},n instanceof Zt||(this._appCompat=n)}get _databaseId(){return this._delegate._databaseId}settings(n){const i=this._delegate._getSettings();!n.merge&&i.host!==n.host&&gn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),n.merge&&delete(n=Object.assign(Object.assign({},i),n)).merge,this._delegate._setSettings(n)}useEmulator(n,i,s={}){!function nE(l,n,i,s={}){var u;const p=(l=Hr(l,Fp))._getSettings(),_=`${n}:${i}`;if("firestore.googleapis.com"!==p.host&&p.host!==_&&gn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},p),{host:_,ssl:!1})),s.mockUserToken){let S,O;if("string"==typeof s.mockUserToken)S=s.mockUserToken,O=ze.MOCK_USER;else{S=(0,We.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const G=s.mockUserToken.sub||s.mockUserToken.user_id;if(!G)throw new Fe(Te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");O=new ze(G)}l._authCredentials=new Bn(new wn(S,O))}}(this._delegate,n,i,s)}enableNetwork(){return function Lm(l){return function w_(l){return l.asyncQueue.enqueue((0,ve.A)(function*(){const n=yield b_(l),i=yield X0(l);return n.setNetworkEnabled(!0),function(u){const p=it(u);return p.L_.delete(0),dl(p)}(i)}))}(ro(l=Hr(l,gi)))}(this._delegate)}disableNetwork(){return function L_(l){return function xA(l){return l.asyncQueue.enqueue((0,ve.A)(function*(){const n=yield b_(l),i=yield X0(l);return n.setNetworkEnabled(!1),(s=(0,ve.A)(function*(p){const _=it(p);_.L_.add(0),yield hl(_),_.q_.set("Offline")}),function u(p){return s.apply(this,arguments)})(i);var s}))}(ro(l=Hr(l,gi)))}(this._delegate)}enablePersistence(n){let i=!1,s=!1;return n&&(i=!!n.synchronizeTabs,s=!!n.experimentalForceOwningTab,Fm("synchronizeTabs",i,"experimentalForceOwningTab",s)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function ca(l){return function(i){const s=new tn;return i.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return function Bl(l,n){return Am.apply(this,arguments)}(yield Pm(i),s)})),s.promise}(ro(l=Hr(l,gi)))}(this._delegate)}onSnapshotsInSync(n){return function Y_(l,n){return function Om(l,n){const i=new Mp(n);return l.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return u=yield Du(l),p=i,it(u).Y_.add(p),void p.next();var u,p})),()=>{i.za(),l.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return u=yield Du(l),p=i,void it(u).Y_.delete(p);var u,p}))}}(ro(l=Hr(l,gi)),mf(n)?n:{next:n})}(this._delegate,n)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(n){try{return new gh(this,dh(this._delegate,n))}catch(i){throw Hs(i,"collection()","Firestore.collection()")}}doc(n){try{return new Da(this,Lp(this._delegate,n))}catch(i){throw Hs(i,"doc()","Firestore.doc()")}}collectionGroup(n){try{return new ps(this,function N_(l,n){if(l=Hr(l,Fp),km("collectionGroup","collection id",n),n.indexOf("/")>=0)throw new Fe(Te.INVALID_ARGUMENT,`Invalid collection ID '${n}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Rs(l,null,(s=n,new fr(Hn.emptyPath(),s)));var s}(this._delegate,n))}catch(i){throw Hs(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(n){return function EE(l,n,i){l=Hr(l,gi);const s=Object.assign(Object.assign({},ty),i);return function(p){if(p.maxAttempts<1)throw new Fe(Te.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(p,_,S){const O=new tn;return p.asyncQueue.enqueueAndForget((0,ve.A)(function*(){const G=yield function pl(l){return lc(l).then(n=>n.datastore)}(p);new T_(p.asyncQueue,G,S,_,O).ru()})),O.promise}(ro(l),u=>n(new yE(l,u)),s)}(this._delegate,i=>n(new cy(this,i)))}batch(){return ro(this._delegate),new dy(new Jm(this._delegate,n=>Nu(this._delegate,n)))}loadBundle(n){return function kA(l,n){const i=ro(l=Hr(l,gi)),s=new O_;return function Z0(l,n,i,s){const u=function(_,S){let O;return O="string"==typeof _?As().encode(_):_,ce=function(ce){if(ce instanceof Uint8Array)return A_(ce,void 0);if(ce instanceof ArrayBuffer)return A_(new Uint8Array(ce),void 0);if(ce instanceof ReadableStream)return ce.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(O),new OA(ce,S);var ce}(i,oc(n));l.asyncQueue.enqueueAndForget((0,ve.A)(function*(){!function W0(l,n,i){const s=it(l);var u;(u=(0,ve.A)(function*(_,S,O){try{const G=yield S.getMetadata();if(yield function(Qt,fn){const un=it(Qt),jn=ji(fn.createTime);return un.persistence.runTransaction("hasNewerBundle","readonly",ir=>un.Gr.getBundleMetadata(ir,fn.id)).then(ir=>!!ir&&ir.createTime.compareTo(jn)>=0)}(_.localStore,G))return yield S.close(),O._completeWith({taskState:"Success",documentsLoaded:(Qt=G).totalDocuments,bytesLoaded:Qt.totalBytes,totalDocuments:Qt.totalDocuments,totalBytes:Qt.totalBytes}),Promise.resolve(new Set);O._updateProgress(rf(G));const ce=new j0(G,_.localStore,S.serializer);let we=yield S.Ua();for(;we;){const Ct=yield ce.la(we);Ct&&O._updateProgress(Ct),we=yield S.Ua()}const Ye=yield ce.complete();return yield $l(_,Ye.Ia,void 0),yield function(Qt,fn){const un=it(Qt);return un.persistence.runTransaction("Save bundle","readwrite",jn=>un.Gr.saveBundleMetadata(jn,fn))}(_.localStore,G),O._completeWith(Ye.progress),Promise.resolve(Ye.Pa)}catch(G){return gn("SyncEngine",`Loading bundle failed with ${G}`),O._failWith(G),Promise.resolve(new Set)}var Qt}),function p(_,S,O){return u.apply(this,arguments)})(s,n,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield Pm(l),u,s)}))}(i,l._databaseId,n,s),s}(this._delegate,n)}namedQuery(n){return function FA(l,n){return function J0(l,n){return l.asyncQueue.enqueue((0,ve.A)(function*(){return function(s,u){const p=it(s);return p.persistence.runTransaction("Get named query","readonly",_=>p.Gr.getNamedQuery(_,u))}(yield za(l),n)}))}(ro(l=Hr(l,gi)),n).then(i=>i?new Rs(l,null,i.query):null)}(this._delegate,n).then(i=>i?new ps(this,i):null)}}class ag extends bf{constructor(n){super(),this.firestore=n}convertBytes(n){return new md(new gl(n))}convertReference(n){const i=this.convertDocumentKey(n,this.firestore._databaseId);return Da.forKey(i,this.firestore,null)}}class cy{constructor(n,i){this._firestore=n,this._delegate=i,this._userDataWriter=new ag(n)}get(n){const i=vd(n);return this._delegate.get(i).then(s=>new yc(this._firestore,new Ru(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,i.converter)))}set(n,i,s){const u=vd(n);return s?(sy("Transaction.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(n,i,s,...u){const p=vd(n);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(n){const i=vd(n);return this._delegate.delete(i),this}}class dy{constructor(n){this._delegate=n}set(n,i,s){const u=vd(n);return s?(sy("WriteBatch.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(n,i,s,...u){const p=vd(n);return 2===arguments.length?this._delegate.update(p,i):this._delegate.update(p,i,s,...u),this}delete(n){const i=vd(n);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class _c{constructor(n,i,s){this._firestore=n,this._userDataWriter=i,this._delegate=s}fromFirestore(n,i){const s=new Mu(this._firestore._delegate,this._userDataWriter,n._key,n._document,n.metadata,null);return this._delegate.fromFirestore(new Pf(this._firestore,s),null!=i?i:{})}toFirestore(n,i){return i?this._delegate.toFirestore(n,i):this._delegate.toFirestore(n)}static getInstance(n,i){const s=_c.INSTANCES;let u=s.get(n);u||(u=new WeakMap,s.set(n,u));let p=u.get(i);return p||(p=new _c(n,new ag(n),i),u.set(i,p)),p}}_c.INSTANCES=new WeakMap;class Da{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new ag(n)}static forPath(n,i,s){if(n.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${n.canonicalString()} has ${n.length}`);return new Da(i,new Zi(i._delegate,s,new ln(n)))}static forKey(n,i,s){return new Da(i,new Zi(i._delegate,s,n))}get id(){return this._delegate.id}get parent(){return new gh(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(n){try{return new gh(this.firestore,dh(this._delegate,n))}catch(i){throw Hs(i,"collection()","DocumentReference.collection()")}}isEqual(n){return(n=(0,We.Ku)(n))instanceof Zi&&Vp(this._delegate,n)}set(n,i){i=sy("DocumentReference.set",i);try{return i?X_(this._delegate,n,i):X_(this._delegate,n)}catch(s){throw Hs(s,"setDoc()","DocumentReference.set()")}}update(n,i,...s){try{return 1===arguments.length?Xm(this._delegate,n):Xm(this._delegate,n,i,...s)}catch(u){throw Hs(u,"updateDoc()","DocumentReference.update()")}}delete(){return function Qm(l){return Nu(Hr(l.firestore,gi),[new vo(l._key,Re.none())])}(this._delegate)}onSnapshot(...n){const i=hy(n),s=ev(n,u=>new yc(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return gc(this._delegate,i,s)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function wf(l){l=Hr(l,Zi);const n=Hr(l.firestore,gi),i=ro(n),s=new gd(n);return function Nm(l,n){const i=new tn;return l.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return(s=(0,ve.A)(function*(p,_,S){try{const O=yield function(ce,we){const Ye=it(ce);return Ye.persistence.runTransaction("read document","readonly",Ct=>Ye.localDocuments.getDocument(Ct,we))}(p,_);O.isFoundDocument()?S.resolve(O):O.isNoDocument()?S.resolve(null):S.reject(new Fe(Te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(O){const G=Xt(O,`Failed to get document '${_} from cache`);S.reject(G)}}),function u(p,_,S){return s.apply(this,arguments)})(yield za(l),n,i);var s})),i.promise}(i,l._key).then(u=>new Ru(n,s,l._key,u,new pd(null!==u&&u.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===(null==n?void 0:n.source)?function mE(l){l=Hr(l,Zi);const n=Hr(l.firestore,gi);return gf(ro(n),l._key,{source:"server"}).then(i=>eg(n,l,i))}(this._delegate):function BA(l){l=Hr(l,Zi);const n=Hr(l.firestore,gi);return gf(ro(n),l._key).then(i=>eg(n,l,i))}(this._delegate),i.then(s=>new yc(this.firestore,new Ru(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(n){return new Da(this.firestore,this._delegate.withConverter(n?_c.getInstance(this.firestore,n):null))}}function Hs(l,n,i){return l.message=l.message.replace(n,i),l}function hy(l){for(const n of l)if("object"==typeof n&&!ay(n))return n;return{}}function ev(l,n){var i,s;let u;return u=ay(l[0])?l[0]:ay(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:p=>{u.next&&u.next(n(p))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class yc{constructor(n,i){this._firestore=n,this._delegate=i}get ref(){return new Da(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(n){return this._delegate.data(n)}get(n,i){return this._delegate.get(n,i)}isEqual(n){return K_(this._delegate,n._delegate)}}class Pf extends yc{data(n){const i=this._delegate.data(n);return this._delegate._converter||function Un(l){l||jt()}(void 0!==i),i}}class ps{constructor(n,i){this.firestore=n,this._delegate=i,this._userDataWriter=new ag(n)}where(n,i,s){try{return new ps(this.firestore,hd(this._delegate,function cE(l,n,i){const s=n,u=dd("where",l);return qp._create(u,s,i)}(n,i,s)))}catch(u){throw Hs(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(n,i){try{return new ps(this.firestore,hd(this._delegate,function Xp(l,n="asc"){const i=n,s=dd("orderBy",l);return G_._create(s,i)}(n,i)))}catch(s){throw Hs(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(n){try{return new ps(this.firestore,hd(this._delegate,function Gm(l){return eE("limit",l),Qp._create("limit",l,"F")}(n)))}catch(i){throw Hs(i,"limit()","Query.limit()")}}limitToLast(n){try{return new ps(this.firestore,hd(this._delegate,function Wm(l){return eE("limitToLast",l),Qp._create("limitToLast",l,"L")}(n)))}catch(i){throw Hs(i,"limitToLast()","Query.limitToLast()")}}startAt(...n){try{return new ps(this.firestore,hd(this._delegate,function Cf(...l){return wu._create("startAt",l,!0)}(...n)))}catch(i){throw Hs(i,"startAt()","Query.startAt()")}}startAfter(...n){try{return new ps(this.firestore,hd(this._delegate,function Yp(...l){return wu._create("startAfter",l,!1)}(...n)))}catch(i){throw Hs(i,"startAfter()","Query.startAfter()")}}endBefore(...n){try{return new ps(this.firestore,hd(this._delegate,function Tf(...l){return Su._create("endBefore",l,!1)}(...n)))}catch(i){throw Hs(i,"endBefore()","Query.endBefore()")}}endAt(...n){try{return new ps(this.firestore,hd(this._delegate,function fh(...l){return Su._create("endAt",l,!0)}(...n)))}catch(i){throw Hs(i,"endAt()","Query.endAt()")}}isEqual(n){return ud(this._delegate,n._delegate)}get(n){let i;return i="cache"===(null==n?void 0:n.source)?function qm(l){l=Hr(l,Rs);const n=Hr(l.firestore,gi),i=ro(n),s=new gd(n);return function Q0(l,n){const i=new tn;return l.asyncQueue.enqueueAndForget((0,ve.A)(function*(){return(s=(0,ve.A)(function*(p,_,S){try{const O=yield rc(p,_,!0),G=new Ip(_,O.Ts),ce=G.ma(O.documents),we=G.applyChanges(ce,!1);S.resolve(we.snapshot)}catch(O){const G=Xt(O,`Failed to execute query '${_} against cache`);S.reject(G)}}),function u(p,_,S){return s.apply(this,arguments)})(yield za(l),n,i);var s})),i.promise}(i,l._query).then(u=>new Pu(n,s,l,u))}(this._delegate):"server"===(null==n?void 0:n.source)?function q_(l){l=Hr(l,Rs);const n=Hr(l.firestore,gi),i=ro(n),s=new gd(n);return Yi(i,l._query,{source:"server"}).then(u=>new Pu(n,s,l,u))}(this._delegate):function Jp(l){l=Hr(l,Rs);const n=Hr(l.firestore,gi),i=ro(n),s=new gd(n);return z_(l._query),Yi(i,l._query).then(u=>new Pu(n,s,l,u))}(this._delegate),i.then(s=>new Ec(this.firestore,new Pu(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...n){const i=hy(n),s=ev(n,u=>new Ec(this.firestore,new Pu(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return gc(this._delegate,i,s)}withConverter(n){return new ps(this.firestore,this._delegate.withConverter(n?_c.getInstance(this.firestore,n):null))}}class SE{constructor(n,i){this._firestore=n,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Pf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Ec{constructor(n,i){this._firestore=n,this._delegate=i}get query(){return new ps(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(n=>new Pf(this._firestore,n))}docChanges(n){return this._delegate.docChanges(n).map(i=>new SE(this._firestore,i))}forEach(n,i){this._delegate.forEach(s=>{n.call(i,new Pf(this._firestore,s))})}isEqual(n){return K_(this._delegate,n._delegate)}}class gh extends ps{constructor(n,i){super(n,i),this.firestore=n,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const n=this._delegate.parent;return n?new Da(this.firestore,n):null}doc(n){try{return new Da(this.firestore,void 0===n?Lp(this._delegate):Lp(this._delegate,n))}catch(i){throw Hs(i,"doc()","CollectionReference.doc()")}}add(n){return function Q_(l,n){const i=Hr(l.firestore,gi),s=Lp(l),u=pc(l.converter,n);return Nu(i,[yf(uc(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,Re.exists(!1))]).then(()=>s)}(this._delegate,n).then(i=>new Da(this.firestore,i))}isEqual(n){return Vp(this._delegate,n._delegate)}withConverter(n){return new gh(this.firestore,this._delegate.withConverter(n?_c.getInstance(this.firestore,n):null))}}function vd(l){return Hr(l,Zi)}class lg{constructor(...n){this._delegate=new bu(...n)}static documentId(){return new lg(nr.keyField().canonicalString())}isEqual(n){return(n=(0,We.Ku)(n))instanceof bu&&this._delegate._internalPath.isEqual(n._internalPath)}}class Ic{constructor(n){this._delegate=n}static serverTimestamp(){const n=function AE(){return new jp("serverTimestamp")}();return n._methodName="FieldValue.serverTimestamp",new Ic(n)}static delete(){const n=function IE(){return new cc("deleteField")}();return n._methodName="FieldValue.delete",new Ic(n)}static arrayUnion(...n){const i=function CE(...l){return new Hp("arrayUnion",l)}(...n);return i._methodName="FieldValue.arrayUnion",new Ic(i)}static arrayRemove(...n){const i=function mc(...l){return new zp("arrayRemove",l)}(...n);return i._methodName="FieldValue.arrayRemove",new Ic(i)}static increment(n){const i=function Rf(l){return new Bm("increment",l)}(n);return i._methodName="FieldValue.increment",new Ic(i)}isEqual(n){return this._delegate.isEqual(n._delegate)}}const RE={Firestore:uy,GeoPoint:_f,Timestamp:Nn,Blob:md,Transaction:cy,WriteBatch:dy,DocumentReference:Da,DocumentSnapshot:yc,Query:ps,QueryDocumentSnapshot:Pf,QuerySnapshot:Ec,CollectionReference:gh,FieldPath:lg,FieldValue:Ic,setLogLevel:function wE(l){!function dn(l){yt.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};!function PE(l){(function ME(l,n){l.INTERNAL.registerComponent(new Ie.uA("firestore-compat",i=>{const s=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return n(s,u)},"PUBLIC").setServiceProps(Object.assign({},RE)))})(l,(n,i)=>new uy(n,i,new ly)),l.registerVersion("@firebase/firestore-compat","0.3.37")}(st.A);var NE=U(7935);function OE(l,n){return function fy(l,n=Se.E){return new Ve.c(i=>{let s;return null!=n?n.schedule(()=>{s=l.onSnapshot({includeMetadataChanges:!0},i)}):s=l.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=s&&s()}})}(l,n)}function _d(l,n){return OE(l,n).pipe((0,Xe.T)(i=>({payload:i,type:"query"})))}class py{constructor(n,i){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.afs=i}set(n,i){return this.ref.set(n,i)}update(n){return this.ref.update(n)}delete(){return this.ref.delete()}collection(n,i){const s=this.ref.collection(n),{ref:u,query:p}=dg(s,i);return new _y(u,p,this.afs)}snapshotChanges(){return function QA(l,n){return OE(l,n).pipe((0,pe.Z)(void 0),Ue(),(0,Xe.T)(i=>{const[s,u]=i;return u.exists?null!=s&&s.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ne.U0)}valueChanges(n={}){return this.snapshotChanges().pipe((0,Xe.T)(({payload:i})=>n.idField?{...i.data(),[n.idField]:i.id}:i.data()))}get(n){return(0,qe.H)(this.ref.get(n)).pipe(ne.U0)}}function ug(l,n){return _d(l,n).pipe((0,pe.Z)(void 0),Ue(),(0,Xe.T)(i=>{const[s,u]=i,p=u.payload.docChanges(),_=p.map(S=>({type:S.type,payload:S}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((S,O)=>{const G=p.find(we=>we.doc.ref.isEqual(S.ref)),ce=null==s?void 0:s.payload.docs.find(we=>we.ref.isEqual(S.ref));G&&JSON.stringify(G.doc.metadata)===JSON.stringify(S.metadata)||!G&&ce&&JSON.stringify(ce.metadata)===JSON.stringify(S.metadata)||_.push({type:"modified",payload:{oldIndex:O,newIndex:O,type:"modified",doc:S}})}),_}))}function gy(l,n,i){return ug(l,i).pipe((0,ut.S)((s,u)=>function my(l,n,i){return n.forEach(s=>{i.indexOf(s.type)>-1&&(l=function xE(l,n){switch(n.type){case"added":if(!l[n.newIndex]||!l[n.newIndex].doc.ref.isEqual(n.doc.ref))return tv(l,n.newIndex,0,n);break;case"modified":if(null==l[n.oldIndex]||l[n.oldIndex].doc.ref.isEqual(n.doc.ref)){if(n.oldIndex!==n.newIndex){const i=l.slice();return i.splice(n.oldIndex,1),i.splice(n.newIndex,0,n),i}return tv(l,n.newIndex,1,n)}break;case"removed":if(l[n.oldIndex]&&l[n.oldIndex].doc.ref.isEqual(n.doc.ref))return tv(l,n.oldIndex,1)}return l}(l,s))}),l}(s,u.map(p=>p.payload),n),[]),(0,Ze.F)(),(0,Xe.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function tv(l,n,i,...s){const u=l.slice();return u.splice(n,i,...s),u}function vy(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class _y{constructor(n,i,s){(0,d.A)(this,"ref",void 0),(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.ref=n,this.query=i,this.afs=s}stateChanges(n){let i=ug(this.query,this.afs.schedulers.outsideAngular);return n&&n.length>0&&(i=i.pipe((0,Xe.T)(s=>s.filter(u=>n.indexOf(u.type)>-1)))),i.pipe((0,pe.Z)(void 0),Ue(),(0,rt.p)(([s,u])=>u.length>0||!s),(0,Xe.T)(([,s])=>s),ne.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,ut.S)((i,s)=>[...i,...s],[]))}snapshotChanges(n){const i=vy(n);return gy(this.query,i,this.afs.schedulers.outsideAngular).pipe(ne.U0)}valueChanges(n={}){return _d(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.T)(i=>i.payload.docs.map(s=>n.idField?{...s.data(),[n.idField]:s.id}:s.data())),ne.U0)}get(n){return(0,qe.H)(this.query.get(n)).pipe(ne.U0)}add(n){return this.ref.add(n)}doc(n){return new py(this.ref.doc(n),this.afs)}}class kE{constructor(n,i){(0,d.A)(this,"query",void 0),(0,d.A)(this,"afs",void 0),this.query=n,this.afs=i}stateChanges(n){return n&&0!==n.length?ug(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.T)(i=>i.filter(s=>n.indexOf(s.type)>-1)),(0,rt.p)(i=>i.length>0),ne.U0):ug(this.query,this.afs.schedulers.outsideAngular).pipe(ne.U0)}auditTrail(n){return this.stateChanges(n).pipe((0,ut.S)((i,s)=>[...i,...s],[]))}snapshotChanges(n){const i=vy(n);return gy(this.query,i,this.afs.schedulers.outsideAngular).pipe(ne.U0)}valueChanges(n={}){return _d(this.query,this.afs.schedulers.outsideAngular).pipe((0,Xe.T)(s=>s.payload.docs.map(u=>n.idField?{[n.idField]:u.id,...u.data()}:u.data())),ne.U0)}get(n){return(0,qe.H)(this.query.get(n)).pipe(ne.U0)}}const yy=new J.nKC("angularfire2.enableFirestorePersistence"),cg=new J.nKC("angularfire2.firestore.persistenceSettings"),YA=new J.nKC("angularfire2.firestore.settings"),ZA=new J.nKC("angularfire2.firestore.use-emulator");function dg(l,n=i=>i){return{query:n(l),ref:l}}let FE=(()=>{var l;class n{constructor(s,u,p,_,S,O,G,ce,we,Ye,Ct,Qt,fn,un,jn,ir,Yn){(0,d.A)(this,"schedulers",void 0),(0,d.A)(this,"firestore",void 0),(0,d.A)(this,"persistenceEnabled$",void 0),this.schedulers=G;const _r=(0,de.iB)(s,O,u),Jr=we;Ye&&(0,le.gF)(_r,O,Ct,fn,un,jn,Qt,ir),[this.firestore,this.persistenceEnabled$]=(0,de.BM)(`${_r.name}.firestore`,"AngularFirestore",_r.name,()=>{const Rr=O.runOutsideAngular(()=>_r.firestore());if(_&&Rr.settings(_),Jr&&Rr.useEmulator(...Jr),p&&!(0,f.Vy)(S)){const vt=()=>{try{return(0,qe.H)(Rr.enablePersistence(ce||void 0).then(()=>!0,()=>!1))}catch(Ke){return typeof console<"u"&&console.warn(Ke),(0,Ce.of)(!1)}};return[Rr,O.runOutsideAngular(vt)]}return[Rr,(0,Ce.of)(!1)]},[_,Jr,p])}collection(s,u){let p;p="string"==typeof s?this.firestore.collection(s):s;const{ref:_,query:S}=dg(p,u),O=this.schedulers.ngZone.run(()=>_);return new _y(O,S,this)}collectionGroup(s,u){const p=u||(S=>S),_=this.firestore.collectionGroup(s);return new kE(p(_),this)}doc(s){let u;u="string"==typeof s?this.firestore.doc(s):s;const p=this.schedulers.ngZone.run(()=>u);return new py(p,this)}createId(){return this.firestore.collection("_").doc().id}}return l=n,(0,d.A)(n,"\u0275fac",function(s){return new(s||l)(J.KVO(de.rx),J.KVO(de.uP,8),J.KVO(yy,8),J.KVO(YA,8),J.KVO(J.Agw),J.KVO(J.SKi),J.KVO(ne.u0),J.KVO(cg,8),J.KVO(ZA,8),J.KVO(le.DS,8),J.KVO(le.CP,8),J.KVO(le.yy,8),J.KVO(le.ZP,8),J.KVO(le.$z,8),J.KVO(le.AU,8),J.KVO(le.UB,8),J.KVO(ne.Jv,8))}),(0,d.A)(n,"\u0275prov",J.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})),n})(),JA=(()=>{var l;class n{constructor(){NE.A.registerVersion("angularfire",ne.xv.full,"fst-compat")}static enablePersistence(s){return{ngModule:n,providers:[{provide:yy,useValue:!0},{provide:cg,useValue:s}]}}}return l=n,(0,d.A)(n,"\u0275fac",function(s){return new(s||l)}),(0,d.A)(n,"\u0275mod",J.$C({type:l})),(0,d.A)(n,"\u0275inj",J.G2t({providers:[FE]})),n})()},9253:(hn,pt,U)=>{"use strict";U.d(pt,{BM:()=>Xe,Gt:()=>le,bf:()=>Ue,e7:()=>Se,iB:()=>pe,rx:()=>qe,uP:()=>Ce});var d=U(9842),f=U(3953),J=U(1825),ne=U(7935);const de=["ngOnDestroy"],le=(et,st,ve,ge={})=>new Proxy(et,{get:(Ie,Je)=>ve.runOutsideAngular(()=>{var We;if(et[Je])return null!=ge&&null!==(We=ge.spy)&&void 0!==We&&We.get&&ge.spy.get(Je,et[Je]),et[Je];if(de.indexOf(Je)>-1)return()=>{};const wt=st.toPromise().then($e=>{const Me=null==$e?void 0:$e[Je];return"function"==typeof Me?Me.bind($e):null!=Me&&Me.then?Me.then(Lt=>ve.run(()=>Lt)):ve.run(()=>Me)});return new Proxy(()=>{},{get:($e,Me)=>wt[Me],apply:($e,Me,Lt)=>wt.then(zt=>{var an;const en=null==zt?void 0:zt(...Lt);return null!=ge&&null!==(an=ge.spy)&&void 0!==an&&an.apply&&ge.spy.apply(Je,Lt,en),en})})})}),Se=(et,st)=>{st.forEach(ve=>{Object.getOwnPropertyNames(ve.prototype||ve).forEach(ge=>{Object.defineProperty(et.prototype,ge,Object.getOwnPropertyDescriptor(ve.prototype||ve,ge))})})};class Ve{constructor(st){return st}}const qe=new f.nKC("angularfire2.app.options"),Ce=new f.nKC("angularfire2.app.name");function pe(et,st,ve){const Ie="object"==typeof ve&&ve||{};Ie.name=Ie.name||"string"==typeof ve&&ve||"[DEFAULT]";const We=ne.A.apps.filter(wt=>wt&&wt.name===Ie.name)[0]||st.runOutsideAngular(()=>ne.A.initializeApp(et,Ie));try{if(JSON.stringify(et)!==JSON.stringify(We.options)){const wt=!!module.hot;ke("error",`${We.name} Firebase App already initialized with different options${wt?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ve(We)}const ke=(et,...st)=>{(0,f.naY)()&&typeof console<"u"&&console[et](...st)},He={provide:Ve,useFactory:pe,deps:[qe,f.SKi,[new f.Xx1,Ce]]};let Ue=(()=>{var et;class st{static initializeApp(ge,Ie){return{ngModule:st,providers:[{provide:qe,useValue:ge},{provide:Ce,useValue:Ie}]}}constructor(ge){ne.A.registerVersion("angularfire",J.xv.full,"core"),ne.A.registerVersion("angularfire",J.xv.full,"app-compat"),ne.A.registerVersion("angular",f.xvI.full,ge.toString())}}return et=st,(0,d.A)(st,"\u0275fac",function(ge){return new(ge||et)(f.KVO(f.Agw))}),(0,d.A)(st,"\u0275mod",f.$C({type:et})),(0,d.A)(st,"\u0275inj",f.G2t({providers:[He]})),st})();function Xe(et,st,ve,ge,Ie){const[,Je,We]=globalThis.\u0275AngularfireInstanceCache.find(wt=>wt[0]===et)||[];if(Je)return function ut(et,st){try{return et.toString()===st.toString()}catch{return et===st}}(Ie,We)||(rt("error",`${st} was already initialized on the ${ve} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),rt("warn",{is:Ie,was:We})),Je;{const wt=ge();return globalThis.\u0275AngularfireInstanceCache.push([et,wt,Ie]),wt}}const Ze=typeof module<"u"&&!!module.hot,rt=(et,...st)=>{(0,f.naY)()&&typeof console<"u"&&console[et](...st)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1825:(hn,pt,U)=>{"use strict";U.d(pt,{xv:()=>ut,U0:()=>an,u0:()=>We,Jv:()=>st});var d=U(9842),f=U(3953),J=U(7852);(0,J.registerVersion)("firebase","10.13.2","app");var le=U(6780),Ve=U(9687);const Ce=new class qe extends Ve.q{}(class Se extends le.R{constructor(X,Q){super(X,Q),this.scheduler=X,this.work=Q}schedule(X,Q=0){return Q>0?super.schedule(X,Q):(this.delay=Q,this.state=X,this.scheduler.flush(this),this)}execute(X,Q){return Q>0||this.closed?super.execute(X,Q):this._execute(X,Q)}requestAsyncId(X,Q,re=0){return null!=re&&re>0||null==re&&this.delay>0?super.requestAsyncId(X,Q,re):(X.flush(this),0)}});var ke=U(3236),He=U(8141),Ue=U(6745),Xe=U(941);const ut=new f.RxE("ANGULARFIRE2_VERSION");class st{constructor(){return(be=>{const Q=(0,J.getApps)(),re=[];return Q.forEach(Ne=>{Ne.container.getProvider(be).instances.forEach(nt=>{re.includes(nt)||re.push(nt)})}),re})(ve)}}const ve="app-check";function ge(){}class Ie{constructor(X,Q=Ce){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"delegate",void 0),this.zone=X,this.delegate=Q}now(){return this.delegate.now()}schedule(X,Q,re){const Ne=this.zone;return this.delegate.schedule(function(nt){Ne.runGuarded(()=>{X.apply(this,[nt])})},Q,re)}}class Je{constructor(X){(0,d.A)(this,"zone",void 0),(0,d.A)(this,"task",null),this.zone=X}call(X,Q){const re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ge,{},ge,ge)),Q.pipe((0,He.M)({next:re,complete:re,error:re})).subscribe(X).add(re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let We=(()=>{var be;class X{constructor(re){(0,d.A)(this,"ngZone",void 0),(0,d.A)(this,"outsideAngular",void 0),(0,d.A)(this,"insideAngular",void 0),this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new Ie(Zone.current)),this.insideAngular=re.run(()=>new Ie(Zone.current,ke.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return be=X,(0,d.A)(X,"\u0275fac",function(re){return new(re||be)(f.KVO(f.SKi))}),(0,d.A)(X,"\u0275prov",f.jDH({token:be,factory:be.\u0275fac,providedIn:"root"})),X})();function an(be){return function en(be){return function(Q){return(Q=Q.lift(new Je(be.ngZone))).pipe((0,Ue._)(be.outsideAngular),(0,Xe.Q)(be.insideAngular))}}(function wt(){const be=globalThis.\u0275AngularFireScheduler;if(!be)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return be}())(be)}},4341:(hn,pt,U)=>{"use strict";U.d(pt,{YN:()=>Yl,zX:()=>oo,VZ:()=>go,cz:()=>We,kq:()=>ut,vO:()=>tn,BC:()=>Sn,cb:()=>kt,cV:()=>Fi,vS:()=>Dr,X1:()=>Cl,YS:()=>xo,qT:()=>Os});var d=U(3953),f=U(177),J=U(8455),ne=U(1985),de=U(3073),le=U(8750),Se=U(3794),Ve=U(4360),qe=U(6450),Ce=U(8496),ke=U(1413),He=U(6354);let Ue=(()=>{var H;class M{constructor(B,se){this._renderer=B,this._elementRef=se,this.onChange=nn=>{},this.onTouched=()=>{}}setProperty(B,se){this._renderer.setProperty(this._elementRef.nativeElement,B,se)}registerOnTouched(B){this.onTouched=B}registerOnChange(B){this.onChange=B}setDisabledState(B){this.setProperty("disabled",B)}}return(H=M).\u0275fac=function(B){return new(B||H)(d.rXU(d.sFG),d.rXU(d.aKT))},H.\u0275dir=d.FsC({type:H}),M})(),Xe=(()=>{var H;class M extends Ue{}return(H=M).\u0275fac=(()=>{let te;return function(se){return(te||(te=d.xGo(H)))(se||H)}})(),H.\u0275dir=d.FsC({type:H,features:[d.Vt3]}),M})();const ut=new d.nKC(""),et={provide:ut,useExisting:(0,d.Rfq)(()=>ge),multi:!0},ve=new d.nKC("");let ge=(()=>{var H;class M extends Ue{constructor(B,se,nn){super(B,se),this._compositionMode=nn,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function st(){const H=(0,f.QT)()?(0,f.QT)().getUserAgent():"";return/android (\d+)/.test(H.toLowerCase())}())}writeValue(B){this.setProperty("value",null==B?"":B)}_handleInput(B){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(B)}_compositionStart(){this._composing=!0}_compositionEnd(B){this._composing=!1,this._compositionMode&&this.onChange(B)}}return(H=M).\u0275fac=function(B){return new(B||H)(d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(ve,8))},H.\u0275dir=d.FsC({type:H,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(B,se){1&B&&d.bIt("input",function(zn){return se._handleInput(zn.target.value)})("blur",function(){return se.onTouched()})("compositionstart",function(){return se._compositionStart()})("compositionend",function(zn){return se._compositionEnd(zn.target.value)})},features:[d.Jv_([et]),d.Vt3]}),M})();function Ie(H){return null==H||("string"==typeof H||Array.isArray(H))&&0===H.length}const We=new d.nKC(""),wt=new d.nKC("");function an(H){return Ie(H.value)?{required:!0}:null}function Q(H){return null}function re(H){return null!=H}function Ne(H){return(0,d.jNT)(H)?(0,J.H)(H):H}function ft(H){let M={};return H.forEach(te=>{M=null!=te?{...M,...te}:M}),0===Object.keys(M).length?null:M}function nt(H,M){return M.map(te=>te(H))}function Pt(H){return H.map(M=>function ze(H){return!H.validate}(M)?M:te=>M.validate(te))}function Et(H){return null!=H?function yt(H){if(!H)return null;const M=H.filter(re);return 0==M.length?null:function(te){return ft(nt(te,M))}}(Pt(H)):null}function mt(H){return null!=H?function dn(H){if(!H)return null;const M=H.filter(re);return 0==M.length?null:function(te){return function pe(...H){const M=(0,Se.ms)(H),{args:te,keys:B}=(0,de.D)(H),se=new ne.c(nn=>{const{length:zn}=te;if(!zn)return void nn.complete();const ui=new Array(zn);let Vi=zn,eo=zn;for(let fr=0;fr<zn;fr++){let Xs=!1;(0,le.Tg)(te[fr]).subscribe((0,Ve._)(nn,Co=>{Xs||(Xs=!0,eo--),ui[fr]=Co},()=>Vi--,void 0,()=>{(!Vi||!Xs)&&(eo||nn.next(B?(0,Ce.e)(B,ui):ui),nn.complete())}))}});return M?se.pipe((0,qe.I)(M)):se}(nt(te,M).map(Ne)).pipe((0,He.T)(ft))}}(Pt(H)):null}function mn(H,M){return null===H?[M]:Array.isArray(H)?[...H,M]:[H,M]}function jt(H){return H?Array.isArray(H)?H:[H]:[]}function Yt(H,M){return Array.isArray(H)?H.includes(M):H===M}function Un(H,M){const te=jt(M);return jt(H).forEach(se=>{Yt(te,se)||te.push(se)}),te}function it(H,M){return jt(M).filter(te=>!Yt(H,te))}class Te{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(M){this._rawValidators=M||[],this._composedValidatorFn=Et(this._rawValidators)}_setAsyncValidators(M){this._rawAsyncValidators=M||[],this._composedAsyncValidatorFn=mt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(M){this._onDestroyCallbacks.push(M)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(M=>M()),this._onDestroyCallbacks=[]}reset(M=void 0){this.control&&this.control.reset(M)}hasError(M,te){return!!this.control&&this.control.hasError(M,te)}getError(M,te){return this.control?this.control.getError(M,te):null}}class Fe extends Te{get formDirective(){return null}get path(){return null}}class tn extends Te{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wn{constructor(M){this._cd=M}get isTouched(){var M,te,B;return null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||null===(te=M._touched)||void 0===te||te.call(M),!(null===(B=this._cd)||void 0===B||null===(B=B.control)||void 0===B||!B.touched)}get isUntouched(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.untouched)}get isPristine(){var M,te,B;return null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||null===(te=M._pristine)||void 0===te||te.call(M),!(null===(B=this._cd)||void 0===B||null===(B=B.control)||void 0===B||!B.pristine)}get isDirty(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.dirty)}get isValid(){var M,te,B;return null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||null===(te=M._status)||void 0===te||te.call(M),!(null===(B=this._cd)||void 0===B||null===(B=B.control)||void 0===B||!B.valid)}get isInvalid(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.invalid)}get isPending(){var M;return!(null===(M=this._cd)||void 0===M||null===(M=M.control)||void 0===M||!M.pending)}get isSubmitted(){var M,te,B;return null===(M=this._cd)||void 0===M||null===(te=M._submitted)||void 0===te||te.call(M),!(null===(B=this._cd)||void 0===B||!B.submitted)}}let Sn=(()=>{var H;class M extends wn{constructor(B){super(B)}}return(H=M).\u0275fac=function(B){return new(B||H)(d.rXU(tn,2))},H.\u0275dir=d.FsC({type:H,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(B,se){2&B&&d.AVh("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)},features:[d.Vt3]}),M})(),kt=(()=>{var H;class M extends wn{constructor(B){super(B)}}return(H=M).\u0275fac=function(B){return new(B||H)(d.rXU(Fe,10))},H.\u0275dir=d.FsC({type:H,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(B,se){2&B&&d.AVh("ng-untouched",se.isUntouched)("ng-touched",se.isTouched)("ng-pristine",se.isPristine)("ng-dirty",se.isDirty)("ng-valid",se.isValid)("ng-invalid",se.isInvalid)("ng-pending",se.isPending)("ng-submitted",se.isSubmitted)},features:[d.Vt3]}),M})();const at="VALID",xt="INVALID",Qe="PENDING",Rt="DISABLED";class me{}class Ee extends me{constructor(M,te){super(),this.value=M,this.source=te}}class Be extends me{constructor(M,te){super(),this.pristine=M,this.source=te}}class bt extends me{constructor(M,te){super(),this.touched=M,this.source=te}}class ht extends me{constructor(M,te){super(),this.status=M,this.source=te}}function lr(H){return(Fn(H)?H.validators:H)||null}function ot(H,M){return(Fn(M)?M.asyncValidators:H)||null}function Fn(H){return null!=H&&!Array.isArray(H)&&"object"==typeof H}class _i{constructor(M,te){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,d.EWP)(()=>this.statusReactive()),this.statusReactive=(0,d.vPA)(void 0),this._pristine=(0,d.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,d.vPA)(!0),this._touched=(0,d.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,d.vPA)(!1),this._events=new ke.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(M),this._assignAsyncValidators(te)}get validator(){return this._composedValidatorFn}set validator(M){this._rawValidators=this._composedValidatorFn=M}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(M){this._rawAsyncValidators=this._composedAsyncValidatorFn=M}get parent(){return this._parent}get status(){return(0,d.O8t)(this.statusReactive)}set status(M){(0,d.O8t)(()=>this.statusReactive.set(M))}get valid(){return this.status===at}get invalid(){return this.status===xt}get pending(){return this.status==Qe}get disabled(){return this.status===Rt}get enabled(){return this.status!==Rt}get pristine(){return(0,d.O8t)(this.pristineReactive)}set pristine(M){(0,d.O8t)(()=>this.pristineReactive.set(M))}get dirty(){return!this.pristine}get touched(){return(0,d.O8t)(this.touchedReactive)}set touched(M){(0,d.O8t)(()=>this.touchedReactive.set(M))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(M){this._assignValidators(M)}setAsyncValidators(M){this._assignAsyncValidators(M)}addValidators(M){this.setValidators(Un(M,this._rawValidators))}addAsyncValidators(M){this.setAsyncValidators(Un(M,this._rawAsyncValidators))}removeValidators(M){this.setValidators(it(M,this._rawValidators))}removeAsyncValidators(M){this.setAsyncValidators(it(M,this._rawAsyncValidators))}hasValidator(M){return Yt(this._rawValidators,M)}hasAsyncValidator(M){return Yt(this._rawAsyncValidators,M)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(M={}){var te;const B=!1===this.touched;this.touched=!0;const se=null!==(te=M.sourceControl)&&void 0!==te?te:this;this._parent&&!M.onlySelf&&this._parent.markAsTouched({...M,sourceControl:se}),B&&!1!==M.emitEvent&&this._events.next(new bt(!0,se))}markAllAsTouched(M={}){this.markAsTouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:this}),this._forEachChild(te=>te.markAllAsTouched(M))}markAsUntouched(M={}){var te;const B=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const se=null!==(te=M.sourceControl)&&void 0!==te?te:this;this._forEachChild(nn=>{nn.markAsUntouched({onlySelf:!0,emitEvent:M.emitEvent,sourceControl:se})}),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,se),B&&!1!==M.emitEvent&&this._events.next(new bt(!1,se))}markAsDirty(M={}){var te;const B=!0===this.pristine;this.pristine=!1;const se=null!==(te=M.sourceControl)&&void 0!==te?te:this;this._parent&&!M.onlySelf&&this._parent.markAsDirty({...M,sourceControl:se}),B&&!1!==M.emitEvent&&this._events.next(new Be(!1,se))}markAsPristine(M={}){var te;const B=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const se=null!==(te=M.sourceControl)&&void 0!==te?te:this;this._forEachChild(nn=>{nn.markAsPristine({onlySelf:!0,emitEvent:M.emitEvent})}),this._parent&&!M.onlySelf&&this._parent._updatePristine(M,se),B&&!1!==M.emitEvent&&this._events.next(new Be(!0,se))}markAsPending(M={}){var te;this.status=Qe;const B=null!==(te=M.sourceControl)&&void 0!==te?te:this;!1!==M.emitEvent&&(this._events.next(new ht(this.status,B)),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.markAsPending({...M,sourceControl:B})}disable(M={}){var te;const B=this._parentMarkedDirty(M.onlySelf);this.status=Rt,this.errors=null,this._forEachChild(nn=>{nn.disable({...M,onlySelf:!0})}),this._updateValue();const se=null!==(te=M.sourceControl)&&void 0!==te?te:this;!1!==M.emitEvent&&(this._events.next(new Ee(this.value,se)),this._events.next(new ht(this.status,se)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...M,skipPristineCheck:B},this),this._onDisabledChange.forEach(nn=>nn(!0))}enable(M={}){const te=this._parentMarkedDirty(M.onlySelf);this.status=at,this._forEachChild(B=>{B.enable({...M,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent}),this._updateAncestors({...M,skipPristineCheck:te},this),this._onDisabledChange.forEach(B=>B(!1))}_updateAncestors(M,te){this._parent&&!M.onlySelf&&(this._parent.updateValueAndValidity(M),M.skipPristineCheck||this._parent._updatePristine({},te),this._parent._updateTouched({},te))}setParent(M){this._parent=M}getRawValue(){return this.value}updateValueAndValidity(M={}){var te;if(this._setInitialStatus(),this._updateValue(),this.enabled){const se=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===at||this.status===Qe)&&this._runAsyncValidator(se,M.emitEvent)}const B=null!==(te=M.sourceControl)&&void 0!==te?te:this;!1!==M.emitEvent&&(this._events.next(new Ee(this.value,B)),this._events.next(new ht(this.status,B)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!M.onlySelf&&this._parent.updateValueAndValidity({...M,sourceControl:B})}_updateTreeValidity(M={emitEvent:!0}){this._forEachChild(te=>te._updateTreeValidity(M)),this.updateValueAndValidity({onlySelf:!0,emitEvent:M.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Rt:at}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(M,te){if(this.asyncValidator){this.status=Qe,this._hasOwnPendingAsyncValidator={emitEvent:!1!==te};const B=Ne(this.asyncValidator(this));this._asyncValidationSubscription=B.subscribe(se=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(se,{emitEvent:te,shouldHaveEmitted:M})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){var M,te;this._asyncValidationSubscription.unsubscribe();const B=null!==(M=null===(te=this._hasOwnPendingAsyncValidator)||void 0===te?void 0:te.emitEvent)&&void 0!==M&&M;return this._hasOwnPendingAsyncValidator=null,B}return!1}setErrors(M,te={}){this.errors=M,this._updateControlsErrors(!1!==te.emitEvent,this,te.shouldHaveEmitted)}get(M){let te=M;return null==te||(Array.isArray(te)||(te=te.split(".")),0===te.length)?null:te.reduce((B,se)=>B&&B._find(se),this)}getError(M,te){const B=te?this.get(te):this;return B&&B.errors?B.errors[M]:null}hasError(M,te){return!!this.getError(M,te)}get root(){let M=this;for(;M._parent;)M=M._parent;return M}_updateControlsErrors(M,te,B){this.status=this._calculateStatus(),M&&this.statusChanges.emit(this.status),(M||B)&&this._events.next(new ht(this.status,te)),this._parent&&this._parent._updateControlsErrors(M,te,B)}_initObservables(){this.valueChanges=new d.bkB,this.statusChanges=new d.bkB}_calculateStatus(){return this._allControlsDisabled()?Rt:this.errors?xt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Qe)?Qe:this._anyControlsHaveStatus(xt)?xt:at}_anyControlsHaveStatus(M){return this._anyControls(te=>te.status===M)}_anyControlsDirty(){return this._anyControls(M=>M.dirty)}_anyControlsTouched(){return this._anyControls(M=>M.touched)}_updatePristine(M,te){const B=!this._anyControlsDirty(),se=this.pristine!==B;this.pristine=B,this._parent&&!M.onlySelf&&this._parent._updatePristine(M,te),se&&this._events.next(new Be(this.pristine,te))}_updateTouched(M={},te){this.touched=this._anyControlsTouched(),this._events.next(new bt(this.touched,te)),this._parent&&!M.onlySelf&&this._parent._updateTouched(M,te)}_registerOnCollectionChange(M){this._onCollectionChange=M}_setUpdateStrategy(M){Fn(M)&&null!=M.updateOn&&(this._updateOn=M.updateOn)}_parentMarkedDirty(M){return!M&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(M){return null}_assignValidators(M){this._rawValidators=Array.isArray(M)?M.slice():M,this._composedValidatorFn=function Pr(H){return Array.isArray(H)?Et(H):H||null}(this._rawValidators)}_assignAsyncValidators(M){this._rawAsyncValidators=Array.isArray(M)?M.slice():M,this._composedAsyncValidatorFn=function dr(H){return Array.isArray(H)?mt(H):H||null}(this._rawAsyncValidators)}}class zr extends _i{constructor(M,te,B){super(lr(te),ot(B,te)),this.controls=M,this._initObservables(),this._setUpdateStrategy(te),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(M,te){return this.controls[M]?this.controls[M]:(this.controls[M]=te,te.setParent(this),te._registerOnCollectionChange(this._onCollectionChange),te)}addControl(M,te,B={}){this.registerControl(M,te),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}removeControl(M,te={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],this.updateValueAndValidity({emitEvent:te.emitEvent}),this._onCollectionChange()}setControl(M,te,B={}){this.controls[M]&&this.controls[M]._registerOnCollectionChange(()=>{}),delete this.controls[M],te&&this.registerControl(M,te),this.updateValueAndValidity({emitEvent:B.emitEvent}),this._onCollectionChange()}contains(M){return this.controls.hasOwnProperty(M)&&this.controls[M].enabled}setValue(M,te={}){(function Ti(H,M,te){H._forEachChild((B,se)=>{if(void 0===te[se])throw new d.wOt(1002,"")})})(this,0,M),Object.keys(M).forEach(B=>{(function kr(H,M,te){const B=H.controls;if(!(M?Object.keys(B):B).length)throw new d.wOt(1e3,"");if(!B[te])throw new d.wOt(1001,"")})(this,!0,B),this.controls[B].setValue(M[B],{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te)}patchValue(M,te={}){null!=M&&(Object.keys(M).forEach(B=>{const se=this.controls[B];se&&se.patchValue(M[B],{onlySelf:!0,emitEvent:te.emitEvent})}),this.updateValueAndValidity(te))}reset(M={},te={}){this._forEachChild((B,se)=>{B.reset(M?M[se]:null,{onlySelf:!0,emitEvent:te.emitEvent})}),this._updatePristine(te,this),this._updateTouched(te,this),this.updateValueAndValidity(te)}getRawValue(){return this._reduceChildren({},(M,te,B)=>(M[B]=te.getRawValue(),M))}_syncPendingControls(){let M=this._reduceChildren(!1,(te,B)=>!!B._syncPendingControls()||te);return M&&this.updateValueAndValidity({onlySelf:!0}),M}_forEachChild(M){Object.keys(this.controls).forEach(te=>{const B=this.controls[te];B&&M(B,te)})}_setUpControls(){this._forEachChild(M=>{M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(M){for(const[te,B]of Object.entries(this.controls))if(this.contains(te)&&M(B))return!0;return!1}_reduceValue(){return this._reduceChildren({},(te,B,se)=>((B.enabled||this.disabled)&&(te[se]=B.value),te))}_reduceChildren(M,te){let B=M;return this._forEachChild((se,nn)=>{B=te(B,se,nn)}),B}_allControlsDisabled(){for(const M of Object.keys(this.controls))if(this.controls[M].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(M){return this.controls.hasOwnProperty(M)?this.controls[M]:null}}const ee=new d.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>q}),q="always";function Y(H,M,te=q){var B,se;Bt(H,M),M.valueAccessor.writeValue(H.value),(H.disabled||"always"===te)&&(null===(B=(se=M.valueAccessor).setDisabledState)||void 0===B||B.call(se,H.disabled)),function $n(H,M){M.valueAccessor.registerOnChange(te=>{H._pendingValue=te,H._pendingChange=!0,H._pendingDirty=!0,"change"===H.updateOn&&pi(H,M)})}(H,M),function ei(H,M){const te=(B,se)=>{M.valueAccessor.writeValue(B),se&&M.viewToModelUpdate(B)};H.registerOnChange(te),M._registerOnDestroy(()=>{H._unregisterOnChange(te)})}(H,M),function On(H,M){M.valueAccessor.registerOnTouched(()=>{H._pendingTouched=!0,"blur"===H.updateOn&&H._pendingChange&&pi(H,M),"submit"!==H.updateOn&&H.markAsTouched()})}(H,M),function gt(H,M){if(M.valueAccessor.setDisabledState){const te=B=>{M.valueAccessor.setDisabledState(B)};H.registerOnDisabledChange(te),M._registerOnDestroy(()=>{H._unregisterOnDisabledChange(te)})}}(H,M)}function ye(H,M){H.forEach(te=>{te.registerOnValidatorChange&&te.registerOnValidatorChange(M)})}function Bt(H,M){const te=function gn(H){return H._rawValidators}(H);null!==M.validator?H.setValidators(mn(te,M.validator)):"function"==typeof te&&H.setValidators([te]);const B=function Mn(H){return H._rawAsyncValidators}(H);null!==M.asyncValidator?H.setAsyncValidators(mn(B,M.asyncValidator)):"function"==typeof B&&H.setAsyncValidators([B]);const se=()=>H.updateValueAndValidity();ye(M._rawValidators,se),ye(M._rawAsyncValidators,se)}function pi(H,M){H._pendingDirty&&H.markAsDirty(),H.setValue(H._pendingValue,{emitModelToViewChange:!1}),M.viewToModelUpdate(H._pendingValue),H._pendingChange=!1}const Ns={provide:Fe,useExisting:(0,d.Rfq)(()=>Fi)},So=Promise.resolve();let Fi=(()=>{var H;class M extends Fe{get submitted(){return(0,d.O8t)(this.submittedReactive)}constructor(B,se,nn){super(),this.callSetDisabledState=nn,this._submitted=(0,d.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,d.vPA)(!1),this._directives=new Set,this.ngSubmit=new d.bkB,this.form=new zr({},Et(B),mt(se))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(B){So.then(()=>{const se=this._findContainer(B.path);B.control=se.registerControl(B.name,B.control),Y(B.control,B,this.callSetDisabledState),B.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(B)})}getControl(B){return this.form.get(B.path)}removeControl(B){So.then(()=>{const se=this._findContainer(B.path);se&&se.removeControl(B.name),this._directives.delete(B)})}addFormGroup(B){So.then(()=>{const se=this._findContainer(B.path),nn=new zr({});(function Zn(H,M){Bt(H,M)})(nn,B),se.registerControl(B.name,nn),nn.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(B){So.then(()=>{const se=this._findContainer(B.path);se&&se.removeControl(B.name)})}getFormGroup(B){return this.form.get(B.path)}updateModel(B,se){So.then(()=>{this.form.get(B.path).setValue(se)})}setValue(B){this.control.setValue(B)}onSubmit(B){var se;return this.submittedReactive.set(!0),function Ps(H,M){H._syncPendingControls(),M.forEach(te=>{const B=te.control;"submit"===B.updateOn&&B._pendingChange&&(te.viewToModelUpdate(B._pendingValue),B._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(B),"dialog"===(null==B||null===(se=B.target)||void 0===se?void 0:se.method)}onReset(){this.resetForm()}resetForm(B=void 0){this.form.reset(B),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(B){return B.pop(),B.length?this.form.get(B):this.form}}return(H=M).\u0275fac=function(B){return new(B||H)(d.rXU(We,10),d.rXU(wt,10),d.rXU(ee,8))},H.\u0275dir=d.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(B,se){1&B&&d.bIt("submit",function(zn){return se.onSubmit(zn)})("reset",function(){return se.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d.Jv_([Ns]),d.Vt3]}),M})();function Gs(H,M){const te=H.indexOf(M);te>-1&&H.splice(te,1)}function Ro(H){return"object"==typeof H&&null!==H&&2===Object.keys(H).length&&"value"in H&&"disabled"in H}const rs=class extends _i{constructor(M=null,te,B){super(lr(te),ot(B,te)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(M),this._setUpdateStrategy(te),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fn(te)&&(te.nonNullable||te.initialValueIsDefault)&&(this.defaultValue=Ro(M)?M.value:M)}setValue(M,te={}){this.value=this._pendingValue=M,this._onChange.length&&!1!==te.emitModelToViewChange&&this._onChange.forEach(B=>B(this.value,!1!==te.emitViewToModelChange)),this.updateValueAndValidity(te)}patchValue(M,te={}){this.setValue(M,te)}reset(M=this.defaultValue,te={}){this._applyFormState(M),this.markAsPristine(te),this.markAsUntouched(te),this.setValue(this.value,te),this._pendingChange=!1}_updateValue(){}_anyControls(M){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(M){this._onChange.push(M)}_unregisterOnChange(M){Gs(this._onChange,M)}registerOnDisabledChange(M){this._onDisabledChange.push(M)}_unregisterOnDisabledChange(M){Gs(this._onDisabledChange,M)}_forEachChild(M){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(M){Ro(M)?(this.value=this._pendingValue=M.value,M.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=M}},Po={provide:tn,useExisting:(0,d.Rfq)(()=>Dr)},bi=Promise.resolve();let Dr=(()=>{var H;class M extends tn{constructor(B,se,nn,zn,ui,Vi){super(),this._changeDetectorRef=ui,this.callSetDisabledState=Vi,this.control=new rs,this._registered=!1,this.name="",this.update=new d.bkB,this._parent=B,this._setValidators(se),this._setAsyncValidators(nn),this.valueAccessor=function Go(H,M){if(!M)return null;let te,B,se;return Array.isArray(M),M.forEach(nn=>{nn.constructor===ge?te=nn:function wo(H){return Object.getPrototypeOf(H.constructor)===Xe}(nn)?B=nn:se=nn}),se||B||te||null}(0,zn)}ngOnChanges(B){if(this._checkForErrors(),!this._registered||"name"in B){if(this._registered&&(this._checkName(),this.formDirective)){const se=B.name.previousValue;this.formDirective.removeControl({name:se,path:this._getPath(se)})}this._setUpControl()}"isDisabled"in B&&this._updateDisabled(B),function Pi(H,M){if(!H.hasOwnProperty("model"))return!1;const te=H.model;return!!te.isFirstChange()||!Object.is(M,te.currentValue)}(B,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(B){this.viewModel=B,this.update.emit(B)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Y(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(B){bi.then(()=>{var se;this.control.setValue(B,{emitViewToModelChange:!1}),null===(se=this._changeDetectorRef)||void 0===se||se.markForCheck()})}_updateDisabled(B){const se=B.isDisabled.currentValue,nn=0!==se&&(0,d.L39)(se);bi.then(()=>{var zn;nn&&!this.control.disabled?this.control.disable():!nn&&this.control.disabled&&this.control.enable(),null===(zn=this._changeDetectorRef)||void 0===zn||zn.markForCheck()})}_getPath(B){return this._parent?function Pe(H,M){return[...M.path,H]}(B,this._parent):[B]}}return(H=M).\u0275fac=function(B){return new(B||H)(d.rXU(Fe,9),d.rXU(We,10),d.rXU(wt,10),d.rXU(ut,10),d.rXU(d.gRc,8),d.rXU(ee,8))},H.\u0275dir=d.FsC({type:H,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d.Jv_([Po]),d.Vt3,d.OA$]}),M})(),Os=(()=>{var H;class M{}return(H=M).\u0275fac=function(B){return new(B||H)},H.\u0275dir=d.FsC({type:H,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),M})();const Ae=new d.nKC("");function Wo(H){return"number"==typeof H?H:parseFloat(H)}let Oo=(()=>{var H;class M{constructor(){this._validator=Q}ngOnChanges(B){if(this.inputName in B){const se=this.normalizeInput(B[this.inputName].currentValue);this._enabled=this.enabled(se),this._validator=this._enabled?this.createValidator(se):Q,this._onChange&&this._onChange()}}validate(B){return this._validator(B)}registerOnValidatorChange(B){this._onChange=B}enabled(B){return null!=B}}return(H=M).\u0275fac=function(B){return new(B||H)},H.\u0275dir=d.FsC({type:H,features:[d.OA$]}),M})();const Io={provide:We,useExisting:(0,d.Rfq)(()=>oo),multi:!0};let oo=(()=>{var H;class M extends Oo{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=B=>Wo(B),this.createValidator=B=>function zt(H){return M=>{if(Ie(M.value)||Ie(H))return null;const te=parseFloat(M.value);return!isNaN(te)&&te>H?{max:{max:H,actual:M.value}}:null}}(B)}}return(H=M).\u0275fac=(()=>{let te;return function(se){return(te||(te=d.xGo(H)))(se||H)}})(),H.\u0275dir=d.FsC({type:H,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(B,se){2&B&&d.BMQ("max",se._enabled?se.max:null)},inputs:{max:"max"},features:[d.Jv_([Io]),d.Vt3]}),M})();const Ao={provide:We,useExisting:(0,d.Rfq)(()=>go),multi:!0};let go=(()=>{var H;class M extends Oo{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=B=>Wo(B),this.createValidator=B=>function Lt(H){return M=>{if(Ie(M.value)||Ie(H))return null;const te=parseFloat(M.value);return!isNaN(te)&&te<H?{min:{min:H,actual:M.value}}:null}}(B)}}return(H=M).\u0275fac=(()=>{let te;return function(se){return(te||(te=d.xGo(H)))(se||H)}})(),H.\u0275dir=d.FsC({type:H,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(B,se){2&B&&d.BMQ("min",se._enabled?se.min:null)},inputs:{min:"min"},features:[d.Jv_([Ao]),d.Vt3]}),M})();const Ma={provide:We,useExisting:(0,d.Rfq)(()=>xo),multi:!0};let xo=(()=>{var H;class M extends Oo{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.L39,this.createValidator=B=>an}enabled(B){return B}}return(H=M).\u0275fac=(()=>{let te;return function(se){return(te||(te=d.xGo(H)))(se||H)}})(),H.\u0275dir=d.FsC({type:H,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(B,se){2&B&&d.BMQ("required",se._enabled?"":null)},inputs:{required:"required"},features:[d.Jv_([Ma]),d.Vt3]}),M})(),ks=(()=>{var H;class M{}return(H=M).\u0275fac=function(B){return new(B||H)},H.\u0275mod=d.$C({type:H}),H.\u0275inj=d.G2t({}),M})(),Yl=(()=>{var H;class M{static withConfig(B){var se;return{ngModule:M,providers:[{provide:ee,useValue:null!==(se=B.callSetDisabledState)&&void 0!==se?se:q}]}}}return(H=M).\u0275fac=function(B){return new(B||H)},H.\u0275mod=d.$C({type:H}),H.\u0275inj=d.G2t({imports:[ks]}),M})(),Cl=(()=>{var H;class M{static withConfig(B){var se,nn;return{ngModule:M,providers:[{provide:Ae,useValue:null!==(se=B.warnOnNgModelWithFormControl)&&void 0!==se?se:"always"},{provide:ee,useValue:null!==(nn=B.callSetDisabledState)&&void 0!==nn?nn:q}]}}}return(H=M).\u0275fac=function(B){return new(B||H)},H.\u0275mod=d.$C({type:H}),H.\u0275inj=d.G2t({imports:[ks]}),M})()},345:(hn,pt,U)=>{"use strict";U.d(pt,{Bb:()=>jt,hE:()=>it,sG:()=>mt});var d=U(177),f=U(3953);class J extends d.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ne extends J{static makeCurrent(){(0,d.ZD)(new ne)}onAndCancel(at,xt,Qe){return at.addEventListener(xt,Qe),()=>{at.removeEventListener(xt,Qe)}}dispatchEvent(at,xt){at.dispatchEvent(xt)}remove(at){at.remove()}createElement(at,xt){return(xt=xt||this.getDefaultDocument()).createElement(at)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(at){return at.nodeType===Node.ELEMENT_NODE}isShadowRoot(at){return at instanceof DocumentFragment}getGlobalEventTarget(at,xt){return"window"===xt?window:"document"===xt?at:"body"===xt?at.body:null}getBaseHref(at){const xt=function le(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==xt?null:function Se(St){return new URL(St,document.baseURI).pathname}(xt)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(at){return(0,d._b)(document.cookie,at)}}let de=null,qe=(()=>{var St;class at{build(){return new XMLHttpRequest}}return(St=at).\u0275fac=function(Qe){return new(Qe||St)},St.\u0275prov=f.jDH({token:St,factory:St.\u0275fac}),at})();const Ce=new f.nKC("");let pe=(()=>{var St;class at{constructor(Qe,Rt){this._zone=Rt,this._eventNameToPlugin=new Map,Qe.forEach(me=>{me.manager=this}),this._plugins=Qe.slice().reverse()}addEventListener(Qe,Rt,me){return this._findPluginFor(Rt).addEventListener(Qe,Rt,me)}getZone(){return this._zone}_findPluginFor(Qe){let Rt=this._eventNameToPlugin.get(Qe);if(Rt)return Rt;if(Rt=this._plugins.find(Ee=>Ee.supports(Qe)),!Rt)throw new f.wOt(5101,!1);return this._eventNameToPlugin.set(Qe,Rt),Rt}}return(St=at).\u0275fac=function(Qe){return new(Qe||St)(f.KVO(Ce),f.KVO(f.SKi))},St.\u0275prov=f.jDH({token:St,factory:St.\u0275fac}),at})();class ke{constructor(at){this._doc=at}}const He="ng-app-id";let Ue=(()=>{var St;class at{constructor(Qe,Rt,me,Ee={}){this.doc=Qe,this.appId=Rt,this.nonce=me,this.platformId=Ee,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,d.Vy)(Ee),this.resetHostNodes()}addStyles(Qe){for(const Rt of Qe)1===this.changeUsageCount(Rt,1)&&this.onStyleAdded(Rt)}removeStyles(Qe){for(const Rt of Qe)this.changeUsageCount(Rt,-1)<=0&&this.onStyleRemoved(Rt)}ngOnDestroy(){const Qe=this.styleNodesInDOM;Qe&&(Qe.forEach(Rt=>Rt.remove()),Qe.clear());for(const Rt of this.getAllStyles())this.onStyleRemoved(Rt);this.resetHostNodes()}addHost(Qe){this.hostNodes.add(Qe);for(const Rt of this.getAllStyles())this.addStyleToHost(Qe,Rt)}removeHost(Qe){this.hostNodes.delete(Qe)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Qe){for(const Rt of this.hostNodes)this.addStyleToHost(Rt,Qe)}onStyleRemoved(Qe){var Rt;const me=this.styleRef;null===(Rt=me.get(Qe))||void 0===Rt||null===(Rt=Rt.elements)||void 0===Rt||Rt.forEach(Ee=>Ee.remove()),me.delete(Qe)}collectServerRenderedStyles(){var Qe;const Rt=null===(Qe=this.doc.head)||void 0===Qe?void 0:Qe.querySelectorAll(`style[${He}="${this.appId}"]`);if(null!=Rt&&Rt.length){const me=new Map;return Rt.forEach(Ee=>{null!=Ee.textContent&&me.set(Ee.textContent,Ee)}),me}return null}changeUsageCount(Qe,Rt){const me=this.styleRef;if(me.has(Qe)){const Ee=me.get(Qe);return Ee.usage+=Rt,Ee.usage}return me.set(Qe,{usage:Rt,elements:[]}),Rt}getStyleElement(Qe,Rt){const me=this.styleNodesInDOM,Ee=null==me?void 0:me.get(Rt);if((null==Ee?void 0:Ee.parentNode)===Qe)return me.delete(Rt),Ee.removeAttribute(He),Ee;{const Be=this.doc.createElement("style");return this.nonce&&Be.setAttribute("nonce",this.nonce),Be.textContent=Rt,this.platformIsServer&&Be.setAttribute(He,this.appId),Qe.appendChild(Be),Be}}addStyleToHost(Qe,Rt){var me;const Ee=this.getStyleElement(Qe,Rt),Be=this.styleRef,bt=null===(me=Be.get(Rt))||void 0===me?void 0:me.elements;bt?bt.push(Ee):Be.set(Rt,{elements:[Ee],usage:1})}resetHostNodes(){const Qe=this.hostNodes;Qe.clear(),Qe.add(this.doc.head)}}return(St=at).\u0275fac=function(Qe){return new(Qe||St)(f.KVO(d.qQ),f.KVO(f.sZ2),f.KVO(f.BIS,8),f.KVO(f.Agw))},St.\u0275prov=f.jDH({token:St,factory:St.\u0275fac}),at})();const Xe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ut=/%COMP%/g,ve=new f.nKC("",{providedIn:"root",factory:()=>!0});function Je(St,at){return at.map(xt=>xt.replace(ut,St))}let We=(()=>{var St;class at{constructor(Qe,Rt,me,Ee,Be,bt,ht,vn=null){this.eventManager=Qe,this.sharedStylesHost=Rt,this.appId=me,this.removeStylesOnCompDestroy=Ee,this.doc=Be,this.platformId=bt,this.ngZone=ht,this.nonce=vn,this.rendererByCompId=new Map,this.platformIsServer=(0,d.Vy)(bt),this.defaultRenderer=new wt(Qe,Be,ht,this.platformIsServer)}createRenderer(Qe,Rt){if(!Qe||!Rt)return this.defaultRenderer;this.platformIsServer&&Rt.encapsulation===f.gXe.ShadowDom&&(Rt={...Rt,encapsulation:f.gXe.Emulated});const me=this.getOrCreateRenderer(Qe,Rt);return me instanceof en?me.applyToHost(Qe):me instanceof an&&me.applyStyles(),me}getOrCreateRenderer(Qe,Rt){const me=this.rendererByCompId;let Ee=me.get(Rt.id);if(!Ee){const Be=this.doc,bt=this.ngZone,ht=this.eventManager,vn=this.sharedStylesHost,In=this.removeStylesOnCompDestroy,lr=this.platformIsServer;switch(Rt.encapsulation){case f.gXe.Emulated:Ee=new en(ht,vn,Rt,this.appId,In,Be,bt,lr);break;case f.gXe.ShadowDom:return new zt(ht,vn,Qe,Rt,Be,bt,this.nonce,lr);default:Ee=new an(ht,vn,Rt,In,Be,bt,lr)}me.set(Rt.id,Ee)}return Ee}ngOnDestroy(){this.rendererByCompId.clear()}}return(St=at).\u0275fac=function(Qe){return new(Qe||St)(f.KVO(pe),f.KVO(Ue),f.KVO(f.sZ2),f.KVO(ve),f.KVO(d.qQ),f.KVO(f.Agw),f.KVO(f.SKi),f.KVO(f.BIS))},St.\u0275prov=f.jDH({token:St,factory:St.\u0275fac}),at})();class wt{constructor(at,xt,Qe,Rt){this.eventManager=at,this.doc=xt,this.ngZone=Qe,this.platformIsServer=Rt,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(at,xt){return xt?this.doc.createElementNS(Xe[xt]||xt,at):this.doc.createElement(at)}createComment(at){return this.doc.createComment(at)}createText(at){return this.doc.createTextNode(at)}appendChild(at,xt){(Lt(at)?at.content:at).appendChild(xt)}insertBefore(at,xt,Qe){at&&(Lt(at)?at.content:at).insertBefore(xt,Qe)}removeChild(at,xt){xt.remove()}selectRootElement(at,xt){let Qe="string"==typeof at?this.doc.querySelector(at):at;if(!Qe)throw new f.wOt(-5104,!1);return xt||(Qe.textContent=""),Qe}parentNode(at){return at.parentNode}nextSibling(at){return at.nextSibling}setAttribute(at,xt,Qe,Rt){if(Rt){xt=Rt+":"+xt;const me=Xe[Rt];me?at.setAttributeNS(me,xt,Qe):at.setAttribute(xt,Qe)}else at.setAttribute(xt,Qe)}removeAttribute(at,xt,Qe){if(Qe){const Rt=Xe[Qe];Rt?at.removeAttributeNS(Rt,xt):at.removeAttribute(`${Qe}:${xt}`)}else at.removeAttribute(xt)}addClass(at,xt){at.classList.add(xt)}removeClass(at,xt){at.classList.remove(xt)}setStyle(at,xt,Qe,Rt){Rt&(f.czy.DashCase|f.czy.Important)?at.style.setProperty(xt,Qe,Rt&f.czy.Important?"important":""):at.style[xt]=Qe}removeStyle(at,xt,Qe){Qe&f.czy.DashCase?at.style.removeProperty(xt):at.style[xt]=""}setProperty(at,xt,Qe){null!=at&&(at[xt]=Qe)}setValue(at,xt){at.nodeValue=xt}listen(at,xt,Qe){if("string"==typeof at&&!(at=(0,d.QT)().getGlobalEventTarget(this.doc,at)))throw new Error(`Unsupported event target ${at} for event ${xt}`);return this.eventManager.addEventListener(at,xt,this.decoratePreventDefault(Qe))}decoratePreventDefault(at){return xt=>{if("__ngUnwrap__"===xt)return at;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>at(xt)):at(xt))&&xt.preventDefault()}}}function Lt(St){return"TEMPLATE"===St.tagName&&void 0!==St.content}class zt extends wt{constructor(at,xt,Qe,Rt,me,Ee,Be,bt){super(at,me,Ee,bt),this.sharedStylesHost=xt,this.hostEl=Qe,this.shadowRoot=Qe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ht=Je(Rt.id,Rt.styles);for(const vn of ht){const In=document.createElement("style");Be&&In.setAttribute("nonce",Be),In.textContent=vn,this.shadowRoot.appendChild(In)}}nodeOrShadowRoot(at){return at===this.hostEl?this.shadowRoot:at}appendChild(at,xt){return super.appendChild(this.nodeOrShadowRoot(at),xt)}insertBefore(at,xt,Qe){return super.insertBefore(this.nodeOrShadowRoot(at),xt,Qe)}removeChild(at,xt){return super.removeChild(null,xt)}parentNode(at){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(at)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class an extends wt{constructor(at,xt,Qe,Rt,me,Ee,Be,bt){super(at,me,Ee,Be),this.sharedStylesHost=xt,this.removeStylesOnCompDestroy=Rt,this.styles=bt?Je(bt,Qe.styles):Qe.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class en extends an{constructor(at,xt,Qe,Rt,me,Ee,Be,bt){const ht=Rt+"-"+Qe.id;super(at,xt,Qe,me,Ee,Be,bt,ht),this.contentAttr=function ge(St){return"_ngcontent-%COMP%".replace(ut,St)}(ht),this.hostAttr=function Ie(St){return"_nghost-%COMP%".replace(ut,St)}(ht)}applyToHost(at){this.applyStyles(),this.setAttribute(at,this.hostAttr,"")}createElement(at,xt){const Qe=super.createElement(at,xt);return super.setAttribute(Qe,this.contentAttr,""),Qe}}let bn=(()=>{var St;class at extends ke{constructor(Qe){super(Qe)}supports(Qe){return!0}addEventListener(Qe,Rt,me){return Qe.addEventListener(Rt,me,!1),()=>this.removeEventListener(Qe,Rt,me)}removeEventListener(Qe,Rt,me){return Qe.removeEventListener(Rt,me)}}return(St=at).\u0275fac=function(Qe){return new(Qe||St)(f.KVO(d.qQ))},St.\u0275prov=f.jDH({token:St,factory:St.\u0275fac}),at})(),Ot=(()=>{var St;class at extends ke{constructor(Qe){super(Qe),this.delegate=(0,f.WQX)(f.zAP,{optional:!0})}supports(Qe){return!!this.delegate&&this.delegate.supports(Qe)}addEventListener(Qe,Rt,me){return this.delegate.addEventListener(Qe,Rt,me)}removeEventListener(Qe,Rt,me){return this.delegate.removeEventListener(Qe,Rt,me)}}return(St=at).\u0275fac=function(Qe){return new(Qe||St)(f.KVO(d.qQ))},St.\u0275prov=f.jDH({token:St,factory:St.\u0275fac}),at})();const be=["alt","control","meta","shift"],X={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q={alt:St=>St.altKey,control:St=>St.ctrlKey,meta:St=>St.metaKey,shift:St=>St.shiftKey};let re=(()=>{var St;class at extends ke{constructor(Qe){super(Qe)}supports(Qe){return null!=at.parseEventName(Qe)}addEventListener(Qe,Rt,me){const Ee=at.parseEventName(Rt),Be=at.eventCallback(Ee.fullKey,me,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,d.QT)().onAndCancel(Qe,Ee.domEventName,Be))}static parseEventName(Qe){const Rt=Qe.toLowerCase().split("."),me=Rt.shift();if(0===Rt.length||"keydown"!==me&&"keyup"!==me)return null;const Ee=at._normalizeKey(Rt.pop());let Be="",bt=Rt.indexOf("code");if(bt>-1&&(Rt.splice(bt,1),Be="code."),be.forEach(vn=>{const In=Rt.indexOf(vn);In>-1&&(Rt.splice(In,1),Be+=vn+".")}),Be+=Ee,0!=Rt.length||0===Ee.length)return null;const ht={};return ht.domEventName=me,ht.fullKey=Be,ht}static matchEventFullKeyCode(Qe,Rt){let me=X[Qe.key]||Qe.key,Ee="";return Rt.indexOf("code.")>-1&&(me=Qe.code,Ee="code."),!(null==me||!me)&&(me=me.toLowerCase()," "===me?me="space":"."===me&&(me="dot"),be.forEach(Be=>{Be!==me&&(0,Q[Be])(Qe)&&(Ee+=Be+".")}),Ee+=me,Ee===Rt)}static eventCallback(Qe,Rt,me){return Ee=>{at.matchEventFullKeyCode(Ee,Qe)&&me.runGuarded(()=>Rt(Ee))}}static _normalizeKey(Qe){return"esc"===Qe?"escape":Qe}}return(St=at).\u0275fac=function(Qe){return new(Qe||St)(f.KVO(d.qQ))},St.\u0275prov=f.jDH({token:St,factory:St.\u0275fac}),at})();const mt=(0,f.oH4)(f.fpN,"browser",[{provide:f.Agw,useValue:d.AJ},{provide:f.PLl,useValue:function Pt(){ne.makeCurrent()},multi:!0},{provide:d.qQ,useFactory:function Et(){return(0,f.TL$)(document),document},deps:[]}]),mn=new f.nKC(""),gn=[{provide:f.e01,useClass:class Ve{addToWindow(at){f.JZv.getAngularTestability=(Qe,Rt=!0)=>{const me=at.findTestabilityInTree(Qe,Rt);if(null==me)throw new f.wOt(5103,!1);return me},f.JZv.getAllAngularTestabilities=()=>at.getAllTestabilities(),f.JZv.getAllAngularRootElements=()=>at.getAllRootElements(),f.JZv.frameworkStabilizers||(f.JZv.frameworkStabilizers=[]),f.JZv.frameworkStabilizers.push(Qe=>{const Rt=f.JZv.getAllAngularTestabilities();let me=Rt.length;const Ee=function(){me--,0==me&&Qe()};Rt.forEach(Be=>{Be.whenStable(Ee)})})}findTestabilityInTree(at,xt,Qe){if(null==xt)return null;const Rt=at.getTestability(xt);return null!=Rt?Rt:Qe?(0,d.QT)().isShadowRoot(xt)?this.findTestabilityInTree(at,xt.host,!0):this.findTestabilityInTree(at,xt.parentElement,!0):null}},deps:[]},{provide:f.WHO,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]},{provide:f.NYb,useClass:f.NYb,deps:[f.SKi,f.giA,f.e01]}],Mn=[{provide:f.H8p,useValue:"root"},{provide:f.zcH,useFactory:function yt(){return new f.zcH},deps:[]},{provide:Ce,useClass:bn,multi:!0,deps:[d.qQ,f.SKi,f.Agw]},{provide:Ce,useClass:re,multi:!0,deps:[d.qQ]},{provide:Ce,useClass:Ot,multi:!0},We,Ue,pe,{provide:f._9s,useExisting:We},{provide:d.N0,useClass:qe,deps:[]},[]];let jt=(()=>{var St;class at{constructor(Qe){}static withServerTransition(Qe){return{ngModule:at,providers:[{provide:f.sZ2,useValue:Qe.appId}]}}}return(St=at).\u0275fac=function(Qe){return new(Qe||St)(f.KVO(mn,12))},St.\u0275mod=f.$C({type:St}),St.\u0275inj=f.G2t({providers:[...Mn,...gn],imports:[d.MD,f.Hbi]}),at})(),it=(()=>{var St;class at{constructor(Qe){this._doc=Qe}getTitle(){return this._doc.title}setTitle(Qe){this._doc.title=Qe||""}}return(St=at).\u0275fac=function(Qe){return new(Qe||St)(f.KVO(d.qQ))},St.\u0275prov=f.jDH({token:St,factory:St.\u0275fac,providedIn:"root"}),at})()},4964:(hn,pt,U)=>{"use strict";U.d(pt,{nX:()=>$t,Zp:()=>N,Z:()=>Mi,Xk:()=>Et,Kp:()=>Md,b:()=>Vt,Ix:()=>Ei,Wk:()=>Xo,iI:()=>Sl,Sd:()=>Kn});var d=U(3953),f=U(1985),J=U(8071),de=U(8455),le=U(7673),Se=U(4412),Ve=U(4572),qe=U(9350),Ce=U(8793),pe=U(8750);function ke(I){return new f.c(w=>{(0,pe.Tg)(I()).subscribe(w)})}var He=U(1203);function Ue(I,w){const P=(0,J.T)(I)?I:()=>I,b=x=>x.error(P());return new f.c(w?x=>w.schedule(b,0,x):b)}var Xe=U(983),ut=U(8359),Ze=U(9974),rt=U(4360);function et(){return(0,Ze.N)((I,w)=>{let P=null;I._refCount++;const b=(0,rt._)(w,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(P=null);const x=I._connection,ae=P;P=null,x&&(!ae||x===ae)&&x.unsubscribe(),w.unsubscribe()});I.subscribe(b),b.closed||(P=I.connect())})}class st extends f.c{constructor(w,P){super(),this.source=w,this.subjectFactory=P,this._subject=null,this._refCount=0,this._connection=null,(0,Ze.S)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,null==w||w.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new ut.yU;const P=this.getSubject();w.add(this.source.subscribe((0,rt._)(P,void 0,()=>{this._teardown(),P.complete()},b=>{this._teardown(),P.error(b)},()=>this._teardown()))),w.closed&&(this._connection=null,w=ut.yU.EMPTY)}return w}refCount(){return et()(this)}}var ve=U(1413),ge=U(177),Ie=U(6354),Je=U(5558),We=U(6697),wt=U(9172),$e=U(5964),Me=U(1397),Lt=U(1594);function zt(I,w){return(0,J.T)(w)?(0,Me.Z)(I,w,1):(0,Me.Z)(I,1)}var an=U(8141);function en(I){return(0,Ze.N)((w,P)=>{let ae,b=null,x=!1;b=w.subscribe((0,rt._)(P,void 0,void 0,fe=>{ae=(0,pe.Tg)(I(fe,en(I)(w))),b?(b.unsubscribe(),b=null,ae.subscribe(P)):x=!0})),x&&(b.unsubscribe(),b=null,ae.subscribe(P))})}var bn=U(2816),Ot=U(9901);function be(I){return I<=0?()=>Xe.w:(0,Ze.N)((w,P)=>{let b=[];w.subscribe((0,rt._)(P,x=>{b.push(x),I<b.length&&b.shift()},()=>{for(const x of b)P.next(x);P.complete()},void 0,()=>{b=null}))})}var X=U(3774),Q=U(3669);function ft(I){return(0,Ze.N)((w,P)=>{try{w.subscribe(P)}finally{P.add(I)}})}var nt=U(5343),Pt=U(6365),yt=U(345);const Et="primary",dn=Symbol("RouteTitle");class mt{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const P=this.params[w];return Array.isArray(P)?P[0]:P}return null}getAll(w){if(this.has(w)){const P=this.params[w];return Array.isArray(P)?P:[P]}return[]}get keys(){return Object.keys(this.params)}}function mn(I){return new mt(I)}function gn(I,w,P){const b=P.path.split("/");if(b.length>I.length||"full"===P.pathMatch&&(w.hasChildren()||b.length<I.length))return null;const x={};for(let ae=0;ae<b.length;ae++){const fe=b[ae],_t=I[ae];if(":"===fe[0])x[fe.substring(1)]=_t;else if(fe!==_t.path)return null}return{consumed:I.slice(0,b.length),posParams:x}}function jt(I,w){const P=I?Yt(I):void 0,b=w?Yt(w):void 0;if(!P||!b||P.length!=b.length)return!1;let x;for(let ae=0;ae<P.length;ae++)if(x=P[ae],!Un(I[x],w[x]))return!1;return!0}function Yt(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function Un(I,w){if(Array.isArray(I)&&Array.isArray(w)){if(I.length!==w.length)return!1;const P=[...I].sort(),b=[...w].sort();return P.every((x,ae)=>b[ae]===x)}return I===w}function it(I){return I.length>0?I[I.length-1]:null}function Te(I){return function ne(I){return!!I&&(I instanceof f.c||(0,J.T)(I.lift)&&(0,J.T)(I.subscribe))}(I)?I:(0,d.jNT)(I)?(0,de.H)(Promise.resolve(I)):(0,le.of)(I)}const Fe={exact:function Bn(I,w,P){if(!En(I.segments,w.segments)||!tr(I.segments,w.segments,P)||I.numberOfChildren!==w.numberOfChildren)return!1;for(const b in w.children)if(!I.children[b]||!Bn(I.children[b],w.children[b],P))return!1;return!0},subset:kt},tn={exact:function er(I,w){return jt(I,w)},subset:function Sn(I,w){return Object.keys(w).length<=Object.keys(I).length&&Object.keys(w).every(P=>Un(I[P],w[P]))},ignored:()=>!0};function wn(I,w,P){return Fe[P.paths](I.root,w.root,P.matrixParams)&&tn[P.queryParams](I.queryParams,w.queryParams)&&!("exact"===P.fragment&&I.fragment!==w.fragment)}function kt(I,w,P){return sr(I,w,w.segments,P)}function sr(I,w,P,b){if(I.segments.length>P.length){const x=I.segments.slice(0,P.length);return!(!En(x,P)||w.hasChildren()||!tr(x,P,b))}if(I.segments.length===P.length){if(!En(I.segments,P)||!tr(I.segments,P,b))return!1;for(const x in w.children)if(!I.children[x]||!kt(I.children[x],w.children[x],b))return!1;return!0}{const x=P.slice(0,I.segments.length),ae=P.slice(I.segments.length);return!!(En(I.segments,x)&&tr(I.segments,x,b)&&I.children[Et])&&sr(I.children[Et],w,ae,b)}}function tr(I,w,P){return w.every((b,x)=>tn[P](I[x].parameters,b.parameters))}class cr{constructor(w=new ar([],{}),P={},b=null){this.root=w,this.queryParams=P,this.fragment=b}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return Rn.serialize(this)}}class ar{constructor(w,P){this.segments=w,this.children=P,this.parent=null,Object.values(P).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Mr(this)}}class Br{constructor(w,P){this.path=w,this.parameters=P}get parameterMap(){var w;return null!==(w=this._parameterMap)&&void 0!==w||(this._parameterMap=mn(this.parameters)),this._parameterMap}toString(){return xt(this)}}function En(I,w){return I.length===w.length&&I.every((P,b)=>P.path===w[b].path)}let Kn=(()=>{var I;class w{}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:()=>new Nn,providedIn:"root"}),w})();class Nn{parse(w){const P=new Pr(w);return new cr(P.parseRootSegment(),P.parseQueryParams(),P.parseFragment())}serialize(w){const P=`/${Hn(w.root,!0)}`,b=function Rt(I){const w=Object.entries(I).map(([P,b])=>Array.isArray(b)?b.map(x=>`${nr(P)}=${nr(x)}`).join("&"):`${nr(P)}=${nr(b)}`).filter(P=>P);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${P}${b}${"string"==typeof w.fragment?`#${function ln(I){return encodeURI(I)}(w.fragment)}`:""}`}}const Rn=new Nn;function Mr(I){return I.segments.map(w=>xt(w)).join("/")}function Hn(I,w){if(!I.hasChildren())return Mr(I);if(w){const P=I.children[Et]?Hn(I.children[Et],!1):"",b=[];return Object.entries(I.children).forEach(([x,ae])=>{x!==Et&&b.push(`${x}:${Hn(ae,!1)}`)}),b.length>0?`${P}(${b.join("//")})`:P}{const P=function vi(I,w){let P=[];return Object.entries(I.children).forEach(([b,x])=>{b===Et&&(P=P.concat(w(x,b)))}),Object.entries(I.children).forEach(([b,x])=>{b!==Et&&(P=P.concat(w(x,b)))}),P}(I,(b,x)=>x===Et?[Hn(I.children[Et],!1)]:[`${x}:${Hn(b,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Et]?`${Mr(I)}/${P[0]}`:`${Mr(I)}/(${P.join("//")})`}}function Si(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nr(I){return Si(I).replace(/%3B/gi,";")}function si(I){return Si(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function St(I){return decodeURIComponent(I)}function at(I){return St(I.replace(/\+/g,"%20"))}function xt(I){return`${si(I.path)}${function Qe(I){return Object.entries(I).map(([w,P])=>`;${si(w)}=${si(P)}`).join("")}(I.parameters)}`}const me=/^[^\/()?;#]+/;function Ee(I){const w=I.match(me);return w?w[0]:""}const Be=/^[^\/()?;=#]+/,ht=/^[^=?&#]+/,In=/^[^&#]+/;class Pr{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ar([],{}):new ar([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let P={};this.peekStartsWith("/(")&&(this.capture("/"),P=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(w.length>0||Object.keys(P).length>0)&&(b[Et]=new ar(w,P)),b}parseSegment(){const w=Ee(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new d.wOt(4009,!1);return this.capture(w),new Br(St(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const P=function bt(I){const w=I.match(Be);return w?w[0]:""}(this.remaining);if(!P)return;this.capture(P);let b="";if(this.consumeOptional("=")){const x=Ee(this.remaining);x&&(b=x,this.capture(b))}w[St(P)]=St(b)}parseQueryParam(w){const P=function vn(I){const w=I.match(ht);return w?w[0]:""}(this.remaining);if(!P)return;this.capture(P);let b="";if(this.consumeOptional("=")){const fe=function lr(I){const w=I.match(In);return w?w[0]:""}(this.remaining);fe&&(b=fe,this.capture(b))}const x=at(P),ae=at(b);if(w.hasOwnProperty(x)){let fe=w[x];Array.isArray(fe)||(fe=[fe],w[x]=fe),fe.push(ae)}else w[x]=ae}parseParens(w){const P={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Ee(this.remaining),x=this.remaining[b.length];if("/"!==x&&")"!==x&&";"!==x)throw new d.wOt(4010,!1);let ae;b.indexOf(":")>-1?(ae=b.slice(0,b.indexOf(":")),this.capture(ae),this.capture(":")):w&&(ae=Et);const fe=this.parseChildren();P[ae]=1===Object.keys(fe).length?fe[Et]:new ar([],fe),this.consumeOptional("//")}return P}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new d.wOt(4011,!1)}}function ot(I){return I.segments.length>0?new ar([],{[Et]:I}):I}function dr(I){const w={};for(const[b,x]of Object.entries(I.children)){const ae=dr(x);if(b===Et&&0===ae.segments.length&&ae.hasChildren())for(const[fe,_t]of Object.entries(ae.children))w[fe]=_t;else(ae.segments.length>0||ae.hasChildren())&&(w[b]=ae)}return function Fn(I){if(1===I.numberOfChildren&&I.children[Et]){const w=I.children[Et];return new ar(I.segments.concat(w.segments),w.children)}return I}(new ar(I.segments,w))}function kr(I){return I instanceof cr}function _i(I){var w;let P;const ae=ot(function b(fe){const _t={};for(const Tt of fe.children){const Tn=b(Tt);_t[Tt.outlet]=Tn}const Kt=new ar(fe.url,_t);return fe===I&&(P=Kt),Kt}(I.root));return null!==(w=P)&&void 0!==w?w:ae}function zr(I,w,P,b){let x=I;for(;x.parent;)x=x.parent;if(0===w.length)return Wi(x,x,x,P,b);const ae=function ee(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new Nt(!0,0,I);let w=0,P=!1;const b=I.reduce((x,ae,fe)=>{if("object"==typeof ae&&null!=ae){if(ae.outlets){const _t={};return Object.entries(ae.outlets).forEach(([Kt,Tt])=>{_t[Kt]="string"==typeof Tt?Tt.split("/"):Tt}),[...x,{outlets:_t}]}if(ae.segmentPath)return[...x,ae.segmentPath]}return"string"!=typeof ae?[...x,ae]:0===fe?(ae.split("/").forEach((_t,Kt)=>{0==Kt&&"."===_t||(0==Kt&&""===_t?P=!0:".."===_t?w++:""!=_t&&x.push(_t))}),x):[...x,ae]},[]);return new Nt(P,w,b)}(w);if(ae.toRoot())return Wi(x,x,new ar([],{}),P,b);const fe=function Pe(I,w,P){if(I.isAbsolute)return new q(w,!0,0);if(!P)return new q(w,!1,NaN);if(null===P.parent)return new q(P,!0,0);const b=Ri(I.commands[0])?0:1;return function Y(I,w,P){let b=I,x=w,ae=P;for(;ae>x;){if(ae-=x,b=b.parent,!b)throw new d.wOt(4005,!1);x=b.segments.length}return new q(b,!1,x-ae)}(P,P.segments.length-1+b,I.numberOfDoubleDots)}(ae,x,I),_t=fe.processChildren?gt(fe.segmentGroup,fe.index,ae.commands):ye(fe.segmentGroup,fe.index,ae.commands);return Wi(x,fe.segmentGroup,_t,P,b)}function Ri(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function ai(I){return"object"==typeof I&&null!=I&&I.outlets}function Wi(I,w,P,b,x){let fe,ae={};b&&Object.entries(b).forEach(([Kt,Tt])=>{ae[Kt]=Array.isArray(Tt)?Tt.map(Tn=>`${Tn}`):`${Tt}`}),fe=I===w?P:Oi(I,w,P);const _t=ot(dr(fe));return new cr(_t,ae,x)}function Oi(I,w,P){const b={};return Object.entries(I.children).forEach(([x,ae])=>{b[x]=ae===w?P:Oi(ae,w,P)}),new ar(I.segments,b)}class Nt{constructor(w,P,b){if(this.isAbsolute=w,this.numberOfDoubleDots=P,this.commands=b,w&&b.length>0&&Ri(b[0]))throw new d.wOt(4003,!1);const x=b.find(ai);if(x&&x!==it(b))throw new d.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class q{constructor(w,P,b){this.segmentGroup=w,this.processChildren=P,this.index=b}}function ye(I,w,P){var b;if(null!==(b=I)&&void 0!==b||(I=new ar([],{})),0===I.segments.length&&I.hasChildren())return gt(I,w,P);const x=function Bt(I,w,P){let b=0,x=w;const ae={match:!1,pathIndex:0,commandIndex:0};for(;x<I.segments.length;){if(b>=P.length)return ae;const fe=I.segments[x],_t=P[b];if(ai(_t))break;const Kt=`${_t}`,Tt=b<P.length-1?P[b+1]:null;if(x>0&&void 0===Kt)break;if(Kt&&Tt&&"object"==typeof Tt&&void 0===Tt.outlets){if(!pi(Kt,Tt,fe))return ae;b+=2}else{if(!pi(Kt,{},fe))return ae;b++}x++}return{match:!0,pathIndex:x,commandIndex:b}}(I,w,P),ae=P.slice(x.commandIndex);if(x.match&&x.pathIndex<I.segments.length){const fe=new ar(I.segments.slice(0,x.pathIndex),{});return fe.children[Et]=new ar(I.segments.slice(x.pathIndex),I.children),gt(fe,0,ae)}return x.match&&0===ae.length?new ar(I.segments,{}):x.match&&!I.hasChildren()?on(I,w,P):x.match?gt(I,0,ae):on(I,w,P)}function gt(I,w,P){if(0===P.length)return new ar(I.segments,{});{const b=function Z(I){return ai(I[0])?I[0].outlets:{[Et]:I}}(P),x={};if(Object.keys(b).some(ae=>ae!==Et)&&I.children[Et]&&1===I.numberOfChildren&&0===I.children[Et].segments.length){const ae=gt(I.children[Et],w,P);return new ar(I.segments,ae.children)}return Object.entries(b).forEach(([ae,fe])=>{"string"==typeof fe&&(fe=[fe]),null!==fe&&(x[ae]=ye(I.children[ae],w,fe))}),Object.entries(I.children).forEach(([ae,fe])=>{void 0===b[ae]&&(x[ae]=fe)}),new ar(I.segments,x)}}function on(I,w,P){const b=I.segments.slice(0,w);let x=0;for(;x<P.length;){const ae=P[x];if(ai(ae)){const Kt=$n(ae.outlets);return new ar(b,Kt)}if(0===x&&Ri(P[0])){b.push(new Br(I.segments[w].path,On(P[0]))),x++;continue}const fe=ai(ae)?ae.outlets[Et]:`${ae}`,_t=x<P.length-1?P[x+1]:null;fe&&_t&&Ri(_t)?(b.push(new Br(fe,On(_t))),x+=2):(b.push(new Br(fe,{})),x++)}return new ar(b,{})}function $n(I){const w={};return Object.entries(I).forEach(([P,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(w[P]=on(new ar([],{}),0,b))}),w}function On(I){const w={};return Object.entries(I).forEach(([P,b])=>w[P]=`${b}`),w}function pi(I,w,P){return I==P.path&&jt(w,P.parameters)}const ei="imperative";var Zn=function(I){return I[I.NavigationStart=0]="NavigationStart",I[I.NavigationEnd=1]="NavigationEnd",I[I.NavigationCancel=2]="NavigationCancel",I[I.NavigationError=3]="NavigationError",I[I.RoutesRecognized=4]="RoutesRecognized",I[I.ResolveStart=5]="ResolveStart",I[I.ResolveEnd=6]="ResolveEnd",I[I.GuardsCheckStart=7]="GuardsCheckStart",I[I.GuardsCheckEnd=8]="GuardsCheckEnd",I[I.RouteConfigLoadStart=9]="RouteConfigLoadStart",I[I.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",I[I.ChildActivationStart=11]="ChildActivationStart",I[I.ChildActivationEnd=12]="ChildActivationEnd",I[I.ActivationStart=13]="ActivationStart",I[I.ActivationEnd=14]="ActivationEnd",I[I.Scroll=15]="Scroll",I[I.NavigationSkipped=16]="NavigationSkipped",I}(Zn||{});class li{constructor(w,P){this.id=w,this.url=P}}class Mi extends li{constructor(w,P,b="imperative",x=null){super(w,P),this.type=Zn.NavigationStart,this.navigationTrigger=b,this.restoredState=x}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class xi extends li{constructor(w,P,b){super(w,P),this.urlAfterRedirects=b,this.type=Zn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ti=function(I){return I[I.Redirect=0]="Redirect",I[I.SupersededByNewNavigation=1]="SupersededByNewNavigation",I[I.NoDataFromResolver=2]="NoDataFromResolver",I[I.GuardRejected=3]="GuardRejected",I}(ti||{}),Ji=function(I){return I[I.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",I[I.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",I}(Ji||{});class ki extends li{constructor(w,P,b,x){super(w,P),this.reason=b,this.code=x,this.type=Zn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Pi extends li{constructor(w,P,b,x){super(w,P),this.reason=b,this.code=x,this.type=Zn.NavigationSkipped}}class wo extends li{constructor(w,P,b,x){super(w,P),this.error=b,this.target=x,this.type=Zn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ps extends li{constructor(w,P,b,x){super(w,P),this.urlAfterRedirects=b,this.state=x,this.type=Zn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go extends li{constructor(w,P,b,x){super(w,P),this.urlAfterRedirects=b,this.state=x,this.type=Zn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ys extends li{constructor(w,P,b,x,ae){super(w,P),this.urlAfterRedirects=b,this.state=x,this.shouldActivate=ae,this.type=Zn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ns extends li{constructor(w,P,b,x){super(w,P),this.urlAfterRedirects=b,this.state=x,this.type=Zn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ns extends li{constructor(w,P,b,x){super(w,P),this.urlAfterRedirects=b,this.state=x,this.type=Zn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class So{constructor(w){this.route=w,this.type=Zn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fi{constructor(w){this.route=w,this.type=Zn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Gs{constructor(w){this.snapshot=w,this.type=Zn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ro{constructor(w){this.snapshot=w,this.type=Zn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rs{constructor(w){this.snapshot=w,this.type=Zn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ha{constructor(w){this.snapshot=w,this.type=Zn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ws{constructor(w,P,b){this.routerEvent=w,this.position=P,this.anchor=b,this.type=Zn.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class is{}class Gr{constructor(w,P){this.url=w,this.navigationBehaviorOptions=P}}function $r(I){return I.outlet||Et}function K(I){var w;if(!I)return null;if(null!==(w=I.routeConfig)&&void 0!==w&&w._injector)return I.routeConfig._injector;for(let P=I.parent;P;P=P.parent){const b=P.routeConfig;if(null!=b&&b._loadedInjector)return b._loadedInjector;if(null!=b&&b._injector)return b._injector}return null}class ue{get injector(){var w,P;return null!==(w=K(null===(P=this.route)||void 0===P?void 0:P.snapshot))&&void 0!==w?w:this.rootInjector}set injector(w){}constructor(w){this.rootInjector=w,this.outlet=null,this.route=null,this.children=new N(this.rootInjector),this.attachRef=null}}let N=(()=>{var I;class w{constructor(b){this.rootInjector=b,this.contexts=new Map}onChildOutletCreated(b,x){const ae=this.getOrCreateContext(b);ae.outlet=x,this.contexts.set(b,ae)}onChildOutletDestroyed(b){const x=this.getContext(b);x&&(x.outlet=null,x.attachRef=null)}onOutletDeactivated(){const b=this.contexts;return this.contexts=new Map,b}onOutletReAttached(b){this.contexts=b}getOrCreateContext(b){let x=this.getContext(b);return x||(x=new ue(this.rootInjector),this.contexts.set(b,x)),x}getContext(b){return this.contexts.get(b)||null}}return(I=w).\u0275fac=function(b){return new(b||I)(d.KVO(d.uvJ))},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();class C{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const P=this.pathFromRoot(w);return P.length>1?P[P.length-2]:null}children(w){const P=F(w,this._root);return P?P.children.map(b=>b.value):[]}firstChild(w){const P=F(w,this._root);return P&&P.children.length>0?P.children[0].value:null}siblings(w){const P=Ae(w,this._root);return P.length<2?[]:P[P.length-2].children.map(x=>x.value).filter(x=>x!==w)}pathFromRoot(w){return Ae(w,this._root).map(P=>P.value)}}function F(I,w){if(I===w.value)return w;for(const P of w.children){const b=F(I,P);if(b)return b}return null}function Ae(I,w){if(I===w.value)return[w];for(const P of w.children){const b=Ae(I,P);if(b.length)return b.unshift(w),b}return[]}class xe{constructor(w,P){this.value=w,this.children=P}toString(){return`TreeNode(${this.value})`}}function tt(I){const w={};return I&&I.children.forEach(P=>w[P.value.outlet]=P),w}class ct extends C{constructor(w,P){super(w),this.snapshot=P,Ln(this,w)}toString(){return this.snapshot.toString()}}function Ht(I){const w=function Zt(I){const ae=new cn([],{},{},"",{},Et,I,null,{});return new yn("",new xe(ae,[]))}(I),P=new Se.t([new Br("",{})]),b=new Se.t({}),x=new Se.t({}),ae=new Se.t({}),fe=new Se.t(""),_t=new $t(P,b,ae,fe,x,Et,I,w.root);return _t.snapshot=w.root,new ct(new xe(_t,[]),w)}class $t{constructor(w,P,b,x,ae,fe,_t,Kt){var Tt,Tn;this.urlSubject=w,this.paramsSubject=P,this.queryParamsSubject=b,this.fragmentSubject=x,this.dataSubject=ae,this.outlet=fe,this.component=_t,this._futureSnapshot=Kt,this.title=null!==(Tt=null===(Tn=this.dataSubject)||void 0===Tn?void 0:Tn.pipe((0,Ie.T)(or=>or[dn])))&&void 0!==Tt?Tt:(0,le.of)(void 0),this.url=w,this.params=P,this.queryParams=b,this.fragment=x,this.data=ae}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var w;return null!==(w=this._paramMap)&&void 0!==w||(this._paramMap=this.params.pipe((0,Ie.T)(P=>mn(P)))),this._paramMap}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=this.queryParams.pipe((0,Ie.T)(P=>mn(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Jt(I,w,P="emptyOnly"){var b;let x;const{routeConfig:ae}=I;var fe;return x=null===w||"always"!==P&&""!==(null==ae?void 0:ae.path)&&(w.component||null!==(b=w.routeConfig)&&void 0!==b&&b.loadComponent)?{params:{...I.params},data:{...I.data},resolve:{...I.data,...null!==(fe=I._resolvedData)&&void 0!==fe?fe:{}}}:{params:{...w.params,...I.params},data:{...w.data,...I.data},resolve:{...I.data,...w.data,...null==ae?void 0:ae.data,...I._resolvedData}},ae&&xr(ae)&&(x.resolve[dn]=ae.title),x}class cn{get title(){var w;return null===(w=this.data)||void 0===w?void 0:w[dn]}constructor(w,P,b,x,ae,fe,_t,Kt,Tt){this.url=w,this.params=P,this.queryParams=b,this.fragment=x,this.data=ae,this.outlet=fe,this.component=_t,this.routeConfig=Kt,this._resolve=Tt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){var w;return null!==(w=this._paramMap)&&void 0!==w||(this._paramMap=mn(this.params)),this._paramMap}get queryParamMap(){var w;return null!==(w=this._queryParamMap)&&void 0!==w||(this._queryParamMap=mn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yn extends C{constructor(w,P){super(P),this.url=w,Ln(this,P)}toString(){return xn(this._root)}}function Ln(I,w){w.value._routerState=I,w.children.forEach(P=>Ln(I,P))}function xn(I){const w=I.children.length>0?` { ${I.children.map(xn).join(", ")} } `:"";return`${I.value}${w}`}function Or(I){if(I.snapshot){const w=I.snapshot,P=I._futureSnapshot;I.snapshot=P,jt(w.queryParams,P.queryParams)||I.queryParamsSubject.next(P.queryParams),w.fragment!==P.fragment&&I.fragmentSubject.next(P.fragment),jt(w.params,P.params)||I.paramsSubject.next(P.params),function Mn(I,w){if(I.length!==w.length)return!1;for(let P=0;P<I.length;++P)if(!jt(I[P],w[P]))return!1;return!0}(w.url,P.url)||I.urlSubject.next(P.url),jt(w.data,P.data)||I.dataSubject.next(P.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function ni(I,w){const P=jt(I.params,w.params)&&function mi(I,w){return En(I,w)&&I.every((P,b)=>jt(P.parameters,w[b].parameters))}(I.url,w.url);return P&&!(!I.parent!=!w.parent)&&(!I.parent||ni(I.parent,w.parent))}function xr(I){return"string"==typeof I.title||null===I.title}let jr=(()=>{var I;class w{constructor(){this.activated=null,this._activatedRoute=null,this.name=Et,this.activateEvents=new d.bkB,this.deactivateEvents=new d.bkB,this.attachEvents=new d.bkB,this.detachEvents=new d.bkB,this.parentContexts=(0,d.WQX)(N),this.location=(0,d.WQX)(d.c1b),this.changeDetector=(0,d.WQX)(d.gRc),this.inputBinder=(0,d.WQX)(po,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(b){if(b.name){const{firstChange:x,previousValue:ae}=b.name;if(x)return;this.isTrackedInParentContexts(ae)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(ae)),this.initializeOutletWithName()}}ngOnDestroy(){var b;this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),null===(b=this.inputBinder)||void 0===b||b.unsubscribeFromRouteData(this)}isTrackedInParentContexts(b){var x;return(null===(x=this.parentContexts.getContext(b))||void 0===x?void 0:x.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const b=this.parentContexts.getContext(this.name);null!=b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.wOt(4012,!1);this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(b.instance),b}attach(b,x){var ae;this.activated=b,this._activatedRoute=x,this.location.insert(b.hostView),null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(b.instance)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,x){var ae;if(this.isActivated)throw new d.wOt(4013,!1);this._activatedRoute=b;const fe=this.location,Kt=b.snapshot.component,Tt=this.parentContexts.getOrCreateContext(this.name).children,Tn=new Fr(b,Tt,fe.injector);this.activated=fe.createComponent(Kt,{index:fe.length,injector:Tn,environmentInjector:x}),this.changeDetector.markForCheck(),null===(ae=this.inputBinder)||void 0===ae||ae.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275dir=d.FsC({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.OA$]}),w})();class Fr{__ngOutletInjector(w){return new Fr(this.route,this.childContexts,w)}constructor(w,P,b){this.route=w,this.childContexts=P,this.parent=b}get(w,P){return w===$t?this.route:w===N?this.childContexts:this.parent.get(w,P)}}const po=new d.nKC("");let Ki=(()=>{var I;class w{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(b){this.unsubscribeFromRouteData(b),this.subscribeToRouteData(b)}unsubscribeFromRouteData(b){var x;null===(x=this.outletDataSubscriptions.get(b))||void 0===x||x.unsubscribe(),this.outletDataSubscriptions.delete(b)}subscribeToRouteData(b){const{activatedRoute:x}=b,ae=(0,Ve.z)([x.queryParams,x.params,x.data]).pipe((0,Je.n)(([fe,_t,Kt],Tt)=>(Kt={...fe,..._t,...Kt},0===Tt?(0,le.of)(Kt):Promise.resolve(Kt)))).subscribe(fe=>{if(!b.isActivated||!b.activatedComponentRef||b.activatedRoute!==x||null===x.component)return void this.unsubscribeFromRouteData(b);const _t=(0,d.HJs)(x.component);if(_t)for(const{templateName:Kt}of _t.inputs)b.activatedComponentRef.setInput(Kt,fe[Kt]);else this.unsubscribeFromRouteData(b)});this.outletDataSubscriptions.set(b,ae)}}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac}),w})();function Eo(I,w,P){if(P&&I.shouldReuseRoute(w.value,P.value.snapshot)){const b=P.value;b._futureSnapshot=w.value;const x=function qi(I,w,P){return w.children.map(b=>{for(const x of P.children)if(I.shouldReuseRoute(b.value,x.value.snapshot))return Eo(I,b,x);return Eo(I,b)})}(I,w,P);return new xe(b,x)}{if(I.shouldAttach(w.value)){const ae=I.retrieve(w.value);if(null!==ae){const fe=ae.route;return fe.value._futureSnapshot=w.value,fe.children=w.children.map(_t=>Eo(I,_t)),fe}}const b=function qs(I){return new $t(new Se.t(I.url),new Se.t(I.params),new Se.t(I.queryParams),new Se.t(I.fragment),new Se.t(I.data),I.outlet,I.component,I)}(w.value),x=w.children.map(ae=>Eo(I,ae));return new xe(b,x)}}class fa{constructor(w,P){this.redirectTo=w,this.navigationBehaviorOptions=P}}const Wo="ngNavigationCancelingError";function Oo(I,w){const{redirectTo:P,navigationBehaviorOptions:b}=kr(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,x=Io(!1,ti.Redirect);return x.url=P,x.navigationBehaviorOptions=b,x}function Io(I,w){const P=new Error(`NavigationCancelingError: ${I||""}`);return P[Wo]=!0,P.cancellationCode=w,P}function Ao(I){return!!I&&I[Wo]}class Li{constructor(w,P,b,x,ae){this.routeReuseStrategy=w,this.futureState=P,this.currState=b,this.forwardEvent=x,this.inputBindingEnabled=ae}activate(w){const P=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(P,b,w),Or(this.futureState.root),this.activateChildRoutes(P,b,w)}deactivateChildRoutes(w,P,b){const x=tt(P);w.children.forEach(ae=>{const fe=ae.value.outlet;this.deactivateRoutes(ae,x[fe],b),delete x[fe]}),Object.values(x).forEach(ae=>{this.deactivateRouteAndItsChildren(ae,b)})}deactivateRoutes(w,P,b){const x=w.value,ae=P?P.value:null;if(x===ae)if(x.component){const fe=b.getContext(x.outlet);fe&&this.deactivateChildRoutes(w,P,fe.children)}else this.deactivateChildRoutes(w,P,b);else ae&&this.deactivateRouteAndItsChildren(P,b)}deactivateRouteAndItsChildren(w,P){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,P):this.deactivateRouteAndOutlet(w,P)}detachAndStoreRouteSubtree(w,P){const b=P.getContext(w.value.outlet),x=b&&w.value.component?b.children:P,ae=tt(w);for(const fe of Object.values(ae))this.deactivateRouteAndItsChildren(fe,x);if(b&&b.outlet){const fe=b.outlet.detach(),_t=b.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:fe,route:w,contexts:_t})}}deactivateRouteAndOutlet(w,P){const b=P.getContext(w.value.outlet),x=b&&w.value.component?b.children:P,ae=tt(w);for(const fe of Object.values(ae))this.deactivateRouteAndItsChildren(fe,x);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(w,P,b){const x=tt(P);w.children.forEach(ae=>{this.activateRoutes(ae,x[ae.value.outlet],b),this.forwardEvent(new ha(ae.value.snapshot))}),w.children.length&&this.forwardEvent(new Ro(w.value.snapshot))}activateRoutes(w,P,b){const x=w.value,ae=P?P.value:null;if(Or(x),x===ae)if(x.component){const fe=b.getOrCreateContext(x.outlet);this.activateChildRoutes(w,P,fe.children)}else this.activateChildRoutes(w,P,b);else if(x.component){const fe=b.getOrCreateContext(x.outlet);if(this.routeReuseStrategy.shouldAttach(x.snapshot)){const _t=this.routeReuseStrategy.retrieve(x.snapshot);this.routeReuseStrategy.store(x.snapshot,null),fe.children.onOutletReAttached(_t.contexts),fe.attachRef=_t.componentRef,fe.route=_t.route.value,fe.outlet&&fe.outlet.attach(_t.componentRef,_t.route.value),Or(_t.route.value),this.activateChildRoutes(w,null,fe.children)}else fe.attachRef=null,fe.route=x,fe.outlet&&fe.outlet.activateWith(x,fe.injector),this.activateChildRoutes(w,null,fe.children)}else this.activateChildRoutes(w,null,b)}}class xo{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class ri{constructor(w,P){this.component=w,this.route=P}}function Wr(I,w,P){const b=I._root;return br(b,w?w._root:null,P,[b.value])}function Es(I,w){const P=Symbol(),b=w.get(I,P);return b===P?"function"!=typeof I||(0,d.LfX)(I)?w.get(I):I:b}function br(I,w,P,b,x={canDeactivateChecks:[],canActivateChecks:[]}){const ae=tt(w);return I.children.forEach(fe=>{(function Al(I,w,P,b,x={canDeactivateChecks:[],canActivateChecks:[]}){const ae=I.value,fe=w?w.value:null,_t=P?P.getContext(I.value.outlet):null;if(fe&&ae.routeConfig===fe.routeConfig){const Kt=function yi(I,w,P){if("function"==typeof P)return P(I,w);switch(P){case"pathParamsChange":return!En(I.url,w.url);case"pathParamsOrQueryParamsChange":return!En(I.url,w.url)||!jt(I.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ni(I,w)||!jt(I.queryParams,w.queryParams);default:return!ni(I,w)}}(fe,ae,ae.routeConfig.runGuardsAndResolvers);Kt?x.canActivateChecks.push(new xo(b)):(ae.data=fe.data,ae._resolvedData=fe._resolvedData),br(I,w,ae.component?_t?_t.children:null:P,b,x),Kt&&_t&&_t.outlet&&_t.outlet.isActivated&&x.canDeactivateChecks.push(new ri(_t.outlet.component,fe))}else fe&&qn(w,_t,x),x.canActivateChecks.push(new xo(b)),br(I,null,ae.component?_t?_t.children:null:P,b,x)})(fe,ae[fe.value.outlet],P,b.concat([fe.value]),x),delete ae[fe.value.outlet]}),Object.entries(ae).forEach(([fe,_t])=>qn(_t,P.getContext(fe),x)),x}function qn(I,w,P){const b=tt(I),x=I.value;Object.entries(b).forEach(([ae,fe])=>{qn(fe,x.component?w?w.children.getContext(ae):null:w,P)}),P.canDeactivateChecks.push(new ri(x.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,x))}function Lr(I){return"function"==typeof I}function Na(I){return I instanceof qe.G||"EmptyError"===(null==I?void 0:I.name)}const Kr=Symbol("INITIAL_VALUE");function mo(){return(0,Je.n)(I=>(0,Ve.z)(I.map(w=>w.pipe((0,We.s)(1),(0,wt.Z)(Kr)))).pipe((0,Ie.T)(w=>{for(const P of w)if(!0!==P){if(P===Kr)return Kr;if(!1===P||Ql(P))return P}return!0}),(0,$e.p)(w=>w!==Kr),(0,We.s)(1)))}function Ql(I){return kr(I)||I instanceof fa}function nn(I){return(0,He.F)((0,an.M)(w=>{if("boolean"!=typeof w)throw Oo(0,w)}),(0,Ie.T)(w=>!0===w))}class ui{constructor(w){this.segmentGroup=w||null}}class Vi extends Error{constructor(w){super(),this.urlTree=w}}function eo(I){return Ue(new ui(I))}class Qs{constructor(w,P){this.urlSerializer=w,this.urlTree=P}lineralizeSegments(w,P){let b=[],x=P.root;for(;;){if(b=b.concat(x.segments),0===x.numberOfChildren)return(0,le.of)(b);if(x.numberOfChildren>1||!x.children[Et])return Ue(new d.wOt(4e3,!1));x=x.children[Et]}}applyRedirectCommands(w,P,b,x,ae){if("string"!=typeof P){const _t=P,{queryParams:Kt,fragment:Tt,routeConfig:Tn,url:or,outlet:Xr,params:mr,data:ci,title:Qn}=x,oi=(0,d.N4e)(ae,()=>_t({params:mr,data:ci,queryParams:Kt,fragment:Tt,routeConfig:Tn,url:or,outlet:Xr,title:Qn}));if(oi instanceof cr)throw new Vi(oi);P=oi}const fe=this.applyRedirectCreateUrlTree(P,this.urlSerializer.parse(P),w,b);if("/"===P[0])throw new Vi(fe);return fe}applyRedirectCreateUrlTree(w,P,b,x){const ae=this.createSegmentGroup(w,P.root,b,x);return new cr(ae,this.createQueryParams(P.queryParams,this.urlTree.queryParams),P.fragment)}createQueryParams(w,P){const b={};return Object.entries(w).forEach(([x,ae])=>{if("string"==typeof ae&&":"===ae[0]){const _t=ae.substring(1);b[x]=P[_t]}else b[x]=ae}),b}createSegmentGroup(w,P,b,x){const ae=this.createSegments(w,P.segments,b,x);let fe={};return Object.entries(P.children).forEach(([_t,Kt])=>{fe[_t]=this.createSegmentGroup(w,Kt,b,x)}),new ar(ae,fe)}createSegments(w,P,b,x){return P.map(ae=>":"===ae.path[0]?this.findPosParam(w,ae,x):this.findOrReturn(ae,b))}findPosParam(w,P,b){const x=b[P.path.substring(1)];if(!x)throw new d.wOt(4001,!1);return x}findOrReturn(w,P){let b=0;for(const x of P){if(x.path===w.path)return P.splice(b),x;b++}return w}}const pa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ys(I,w,P,b,x){const ae=to(I,w,P);return ae.matched?(b=function Mo(I,w){var P;return I.providers&&!I._injector&&(I._injector=(0,d.Ol2)(I.providers,w,`Route: ${I.path}`)),null!==(P=I._injector)&&void 0!==P?P:w}(w,b),function zn(I,w,P,b){const x=w.canMatch;if(!x||0===x.length)return(0,le.of)(!0);const ae=x.map(fe=>{const _t=Es(fe,I);return Te(function Xl(I){return I&&Lr(I.canMatch)}(_t)?_t.canMatch(w,P):(0,d.N4e)(I,()=>_t(w,P)))});return(0,le.of)(ae).pipe(mo(),nn())}(b,w,P).pipe((0,Ie.T)(fe=>!0===fe?ae:{...pa}))):(0,le.of)(ae)}function to(I,w,P){var b,x;if("**"===w.path)return function ga(I){return{matched:!0,parameters:I.length>0?it(I).parameters:{},consumedSegments:I,remainingSegments:[],positionalParamSegments:{}}}(P);if(""===w.path)return"full"===w.pathMatch&&(I.hasChildren()||P.length>0)?{...pa}:{matched:!0,consumedSegments:[],remainingSegments:P,parameters:{},positionalParamSegments:{}};const fe=(w.matcher||gn)(P,I,w);if(!fe)return{...pa};const _t={};Object.entries(null!==(b=fe.posParams)&&void 0!==b?b:{}).forEach(([Tt,Tn])=>{_t[Tt]=Tn.path});const Kt=fe.consumed.length>0?{..._t,...fe.consumed[fe.consumed.length-1].parameters}:_t;return{matched:!0,consumedSegments:fe.consumed,remainingSegments:P.slice(fe.consumed.length),parameters:Kt,positionalParamSegments:null!==(x=fe.posParams)&&void 0!==x?x:{}}}function Fs(I,w,P,b){return P.length>0&&function xa(I,w,P){return P.some(b=>os(I,w,b)&&$r(b)!==Et)}(I,P,b)?{segmentGroup:new ar(w,ma(b,new ar(P,I.children))),slicedSegments:[]}:0===P.length&&function Jn(I,w,P){return P.some(b=>os(I,w,b))}(I,P,b)?{segmentGroup:new ar(I.segments,Oa(I,P,b,I.children)),slicedSegments:P}:{segmentGroup:new ar(I.segments,I.children),slicedSegments:P}}function Oa(I,w,P,b){const x={};for(const ae of P)if(os(I,w,ae)&&!b[$r(ae)]){const fe=new ar([],{});x[$r(ae)]=fe}return{...b,...x}}function ma(I,w){const P={};P[Et]=w;for(const b of I)if(""===b.path&&$r(b)!==Et){const x=new ar([],{});P[$r(b)]=x}return P}function os(I,w,P){return(!(I.hasChildren()||w.length>0)||"full"!==P.pathMatch)&&""===P.path}class zu{}class Ko{constructor(w,P,b,x,ae,fe,_t){this.injector=w,this.configLoader=P,this.rootComponentType=b,this.config=x,this.urlTree=ae,this.paramsInheritanceStrategy=fe,this.urlSerializer=_t,this.applyRedirects=new Qs(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(w){return new d.wOt(4002,`'${w.segmentGroup}'`)}recognize(){const w=Fs(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(w).pipe((0,Ie.T)(({children:P,rootSnapshot:b})=>{const x=new xe(b,P),ae=new yn("",x),fe=function Ti(I,w,P=null,b=null){return zr(_i(I),w,P,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return fe.queryParams=this.urlTree.queryParams,ae.url=this.urlSerializer.serialize(fe),{state:ae,tree:fe}}))}match(w){const P=new cn([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Et,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,w,Et,P).pipe((0,Ie.T)(b=>({children:b,rootSnapshot:P})),en(b=>{if(b instanceof Vi)return this.urlTree=b.urlTree,this.match(b.urlTree.root);throw b instanceof ui?this.noMatchError(b):b}))}processSegmentGroup(w,P,b,x,ae){return 0===b.segments.length&&b.hasChildren()?this.processChildren(w,P,b,ae):this.processSegment(w,P,b,b.segments,x,!0,ae).pipe((0,Ie.T)(fe=>fe instanceof xe?[fe]:[]))}processChildren(w,P,b,x){const ae=[];for(const fe of Object.keys(b.children))"primary"===fe?ae.unshift(fe):ae.push(fe);return(0,de.H)(ae).pipe(zt(fe=>{const _t=b.children[fe],Kt=function R(I,w){const P=I.filter(b=>$r(b)===w);return P.push(...I.filter(b=>$r(b)!==w)),P}(P,fe);return this.processSegmentGroup(w,Kt,_t,fe,x)}),(0,bn.S)((fe,_t)=>(fe.push(..._t),fe)),(0,Ot.U)(null),function re(I,w){const P=arguments.length>=2;return b=>b.pipe(I?(0,$e.p)((x,ae)=>I(x,ae,b)):Q.D,be(1),P?(0,Ot.U)(w):(0,X.v)(()=>new qe.G))}(),(0,Me.Z)(fe=>{if(null===fe)return eo(b);const _t=Tl(fe);return function xh(I){I.sort((w,P)=>w.value.outlet===Et?-1:P.value.outlet===Et?1:w.value.outlet.localeCompare(P.value.outlet))}(_t),(0,le.of)(_t)}))}processSegment(w,P,b,x,ae,fe,_t){return(0,de.H)(P).pipe(zt(Kt=>{var Tt;return this.processSegmentAgainstRoute(null!==(Tt=Kt._injector)&&void 0!==Tt?Tt:w,P,Kt,b,x,ae,fe,_t).pipe(en(Tn=>{if(Tn instanceof ui)return(0,le.of)(null);throw Tn}))}),(0,Lt.$)(Kt=>!!Kt),en(Kt=>{if(Na(Kt))return function Zs(I,w,P){return 0===w.length&&!I.children[P]}(b,x,ae)?(0,le.of)(new zu):eo(b);throw Kt}))}processSegmentAgainstRoute(w,P,b,x,ae,fe,_t,Kt){return $r(b)===fe||fe!==Et&&os(x,ae,b)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(w,x,b,ae,fe,Kt):this.allowRedirects&&_t?this.expandSegmentAgainstRouteUsingRedirect(w,x,P,b,ae,fe,Kt):eo(x):eo(x)}expandSegmentAgainstRouteUsingRedirect(w,P,b,x,ae,fe,_t){var Kt,Tt;const{matched:Tn,parameters:or,consumedSegments:Xr,positionalParamSegments:mr,remainingSegments:ci}=to(P,x,ae);if(!Tn)return eo(P);"string"==typeof x.redirectTo&&"/"===x.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Qn=new cn(ae,or,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qa(x),$r(x),null!==(Kt=null!==(Tt=x.component)&&void 0!==Tt?Tt:x._loadedComponent)&&void 0!==Kt?Kt:null,x,fo(x)),oi=Jt(Qn,_t,this.paramsInheritanceStrategy);Qn.params=Object.freeze(oi.params),Qn.data=Object.freeze(oi.data);const Ui=this.applyRedirects.applyRedirectCommands(Xr,x.redirectTo,mr,Qn,w);return this.applyRedirects.lineralizeSegments(x,Ui).pipe((0,Me.Z)(no=>this.processSegment(w,b,P,no.concat(ci),fe,!1,_t)))}matchSegmentAgainstRoute(w,P,b,x,ae,fe){const _t=Ys(P,b,x,w);return"**"===b.path&&(P.children={}),_t.pipe((0,Je.n)(Kt=>{var Tt;return Kt.matched?(w=null!==(Tt=b._injector)&&void 0!==Tt?Tt:w,this.getChildConfig(w,b,x).pipe((0,Je.n)(({routes:Tn})=>{var or,Xr,mr;const ci=null!==(or=b._loadedInjector)&&void 0!==or?or:w,{parameters:Qn,consumedSegments:oi,remainingSegments:Ui}=Kt,no=new cn(oi,Qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Qa(b),$r(b),null!==(Xr=null!==(mr=b.component)&&void 0!==mr?mr:b._loadedComponent)&&void 0!==Xr?Xr:null,b,fo(b)),hi=Jt(no,fe,this.paramsInheritanceStrategy);no.params=Object.freeze(hi.params),no.data=Object.freeze(hi.data);const{segmentGroup:au,slicedSegments:Nl}=Fs(P,oi,Ui,Tn);if(0===Nl.length&&au.hasChildren())return this.processChildren(ci,Tn,au,no).pipe((0,Ie.T)(va=>new xe(no,va)));if(0===Tn.length&&0===Nl.length)return(0,le.of)(new xe(no,[]));const lu=$r(b)===ae;return this.processSegment(ci,Tn,au,Nl,lu?Et:ae,!0,no).pipe((0,Ie.T)(va=>new xe(no,va instanceof xe?[va]:[])))}))):eo(P)}))}getChildConfig(w,P,b){return P.children?(0,le.of)({routes:P.children,injector:w}):P.loadChildren?void 0!==P._loadedRoutes?(0,le.of)({routes:P._loadedRoutes,injector:P._loadedInjector}):function se(I,w,P,b){const x=w.canLoad;if(void 0===x||0===x.length)return(0,le.of)(!0);const ae=x.map(fe=>{const _t=Es(fe,I);return Te(function xs(I){return I&&Lr(I.canLoad)}(_t)?_t.canLoad(w,P):(0,d.N4e)(I,()=>_t(w,P)))});return(0,le.of)(ae).pipe(mo(),nn())}(w,P,b).pipe((0,Me.Z)(x=>x?this.configLoader.loadChildren(w,P).pipe((0,an.M)(ae=>{P._loadedRoutes=ae.routes,P._loadedInjector=ae.injector})):function Co(){return Ue(Io(!1,ti.GuardRejected))}())):(0,le.of)({routes:[],injector:w})}}function qo(I){const w=I.value.routeConfig;return w&&""===w.path}function Tl(I){const w=[],P=new Set;for(const b of I){if(!qo(b)){w.push(b);continue}const x=w.find(ae=>b.value.routeConfig===ae.value.routeConfig);void 0!==x?(x.children.push(...b.children),P.add(x)):w.push(b)}for(const b of P){const x=Tl(b.children);w.push(new xe(b.value,x))}return w.filter(b=>!P.has(b))}function Qa(I){return I.data||{}}function fo(I){return I.resolve||{}}function Jl(I){const w=I.children.map(P=>Jl(P)).flat();return[I,...w]}function ur(I){return(0,Je.n)(w=>{const P=I(w);return P?(0,de.H)(P).pipe((0,Ie.T)(()=>w)):(0,le.of)(w)})}let Vr=(()=>{var I;class w{buildTitle(b){let x,ae=b.root;for(;void 0!==ae;){var fe;x=null!==(fe=this.getResolvedTitleForRoute(ae))&&void 0!==fe?fe:x,ae=ae.children.find(_t=>_t.outlet===Et)}return x}getResolvedTitleForRoute(b){return b.data[dn]}}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)(Rd),providedIn:"root"}),w})(),Rd=(()=>{var I;class w extends Vr{constructor(b){super(),this.title=b}updateTitle(b){const x=this.buildTitle(b);void 0!==x&&this.title.setTitle(x)}}return(I=w).\u0275fac=function(b){return new(b||I)(d.KVO(yt.hE))},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();const ea=new d.nKC("",{providedIn:"root",factory:()=>({})});let bl=(()=>{var I;class w{}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275cmp=d.VBU({type:I,selectors:[["ng-component"]],standalone:!0,features:[d.aNF],decls:1,vars:0,template:function(b,x){1&b&&d.nrm(0,"router-outlet")},dependencies:[jr],encapsulation:2}),w})();function tu(I){const w=I.children&&I.children.map(tu),P=w?{...I,children:w}:{...I};return!P.component&&!P.loadComponent&&(w||P.loadChildren)&&P.outlet&&P.outlet!==Et&&(P.component=bl),P}const Ya=new d.nKC("");let Za=(()=>{var I;class w{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.WQX)(d.Ql9)}loadComponent(b){if(this.componentLoaders.get(b))return this.componentLoaders.get(b);if(b._loadedComponent)return(0,le.of)(b._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(b);const x=Te(b.loadComponent()).pipe((0,Ie.T)(nu),(0,an.M)(fe=>{this.onLoadEndListener&&this.onLoadEndListener(b),b._loadedComponent=fe}),ft(()=>{this.componentLoaders.delete(b)})),ae=new st(x,()=>new ve.B).pipe(et());return this.componentLoaders.set(b,ae),ae}loadChildren(b,x){if(this.childrenLoaders.get(x))return this.childrenLoaders.get(x);if(x._loadedRoutes)return(0,le.of)({routes:x._loadedRoutes,injector:x._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(x);const fe=function Ir(I,w,P,b){return Te(I.loadChildren()).pipe((0,Ie.T)(nu),(0,Me.Z)(x=>x instanceof d.Co$||Array.isArray(x)?(0,le.of)(x):(0,de.H)(w.compileModuleAsync(x))),(0,Ie.T)(x=>{b&&b(I);let ae,fe,_t=!1;return Array.isArray(x)?(fe=x,!0):(ae=x.create(P).injector,fe=ae.get(Ya,[],{optional:!0,self:!0}).flat()),{routes:fe.map(tu),injector:ae}}))}(x,this.compiler,b,this.onLoadEndListener).pipe(ft(()=>{this.childrenLoaders.delete(x)})),_t=new st(fe,()=>new ve.B).pipe(et());return this.childrenLoaders.set(x,_t),_t}}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();function nu(I){return function ko(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let ii=(()=>{var I;class w{}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)(ru),providedIn:"root"}),w})(),ru=(()=>{var I;class w{shouldProcessUrl(b){return!0}extract(b){return b}merge(b,x){return b}}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();const Ja=new d.nKC(""),D=new d.nKC("");function $(I,w,P){const b=I.get(D),x=I.get(ge.qQ);return I.get(d.SKi).runOutsideAngular(()=>{if(!x.startViewTransition||b.skipNextTransition)return b.skipNextTransition=!1,new Promise(Tt=>setTimeout(Tt));let ae;const fe=new Promise(Tt=>{ae=Tt}),_t=x.startViewTransition(()=>(ae(),function De(I){return new Promise(w=>{(0,d.mal)({read:()=>setTimeout(w)},{injector:I})})}(I))),{onViewTransitionCreated:Kt}=b;return Kt&&(0,d.N4e)(I,()=>Kt({transition:_t,from:w,to:P})),fe})}const V=new d.nKC("");let he=(()=>{var I;class w{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ve.B,this.transitionAbortSubject=new ve.B,this.configLoader=(0,d.WQX)(Za),this.environmentInjector=(0,d.WQX)(d.uvJ),this.urlSerializer=(0,d.WQX)(Kn),this.rootContexts=(0,d.WQX)(N),this.location=(0,d.WQX)(ge.aZ),this.inputBindingEnabled=null!==(0,d.WQX)(po,{optional:!0}),this.titleStrategy=(0,d.WQX)(Vr),this.options=(0,d.WQX)(ea,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,d.WQX)(ii),this.createViewTransition=(0,d.WQX)(Ja,{optional:!0}),this.navigationErrorHandler=(0,d.WQX)(V,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,le.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=ae=>this.events.next(new Fi(ae)),this.configLoader.onLoadStartListener=ae=>this.events.next(new So(ae))}complete(){var b;null===(b=this.transitions)||void 0===b||b.complete()}handleNavigationRequest(b){var x;const ae=++this.navigationId;null===(x=this.transitions)||void 0===x||x.next({...this.transitions.value,...b,id:ae})}setupNavigations(b,x,ae){return this.transitions=new Se.t({id:0,currentUrlTree:x,currentRawUrl:x,extractedUrl:this.urlHandlingStrategy.extract(x),urlAfterRedirects:this.urlHandlingStrategy.extract(x),rawUrl:x,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ei,restoredState:null,currentSnapshot:ae.snapshot,targetSnapshot:null,currentRouterState:ae,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,$e.p)(fe=>0!==fe.id),(0,Ie.T)(fe=>({...fe,extractedUrl:this.urlHandlingStrategy.extract(fe.rawUrl)})),(0,Je.n)(fe=>{let _t=!1,Kt=!1;return(0,le.of)(fe).pipe((0,Je.n)(Tt=>{var Tn;if(this.navigationId>fe.id)return this.cancelNavigationTransition(fe,"",ti.SupersededByNewNavigation),Xe.w;this.currentTransition=fe,this.currentNavigation={id:Tt.id,initialUrl:Tt.rawUrl,extractedUrl:Tt.extractedUrl,targetBrowserUrl:"string"==typeof Tt.extras.browserUrl?this.urlSerializer.parse(Tt.extras.browserUrl):Tt.extras.browserUrl,trigger:Tt.source,extras:Tt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const or=!b.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),Xr=null!==(Tn=Tt.extras.onSameUrlNavigation)&&void 0!==Tn?Tn:b.onSameUrlNavigation;if(!or&&"reload"!==Xr){const mr="";return this.events.next(new Pi(Tt.id,this.urlSerializer.serialize(Tt.rawUrl),mr,Ji.IgnoredSameUrlNavigation)),Tt.resolve(!1),Xe.w}if(this.urlHandlingStrategy.shouldProcessUrl(Tt.rawUrl))return(0,le.of)(Tt).pipe((0,Je.n)(mr=>{var ci,Qn;const oi=null===(ci=this.transitions)||void 0===ci?void 0:ci.getValue();return this.events.next(new Mi(mr.id,this.urlSerializer.serialize(mr.extractedUrl),mr.source,mr.restoredState)),oi!==(null===(Qn=this.transitions)||void 0===Qn?void 0:Qn.getValue())?Xe.w:Promise.resolve(mr)}),function Dl(I,w,P,b,x,ae){return(0,Me.Z)(fe=>function Xa(I,w,P,b,x,ae,fe="emptyOnly"){return new Ko(I,w,P,b,x,fe,ae).recognize()}(I,w,P,b,fe.extractedUrl,x,ae).pipe((0,Ie.T)(({state:_t,tree:Kt})=>({...fe,targetSnapshot:_t,urlAfterRedirects:Kt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,b.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,an.M)(mr=>{fe.targetSnapshot=mr.targetSnapshot,fe.urlAfterRedirects=mr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:mr.urlAfterRedirects};const ci=new Ps(mr.id,this.urlSerializer.serialize(mr.extractedUrl),this.urlSerializer.serialize(mr.urlAfterRedirects),mr.targetSnapshot);this.events.next(ci)}));if(or&&this.urlHandlingStrategy.shouldProcessUrl(Tt.currentRawUrl)){const{id:mr,extractedUrl:ci,source:Qn,restoredState:oi,extras:Ui}=Tt,no=new Mi(mr,this.urlSerializer.serialize(ci),Qn,oi);this.events.next(no);const hi=Ht(this.rootComponentType).snapshot;return this.currentTransition=fe={...Tt,targetSnapshot:hi,urlAfterRedirects:ci,extras:{...Ui,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=ci,(0,le.of)(fe)}{const mr="";return this.events.next(new Pi(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),mr,Ji.IgnoredByUrlHandlingStrategy)),Tt.resolve(!1),Xe.w}}),(0,an.M)(Tt=>{const Tn=new Go(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects),Tt.targetSnapshot);this.events.next(Tn)}),(0,Ie.T)(Tt=>(this.currentTransition=fe={...Tt,guards:Wr(Tt.targetSnapshot,Tt.currentSnapshot,this.rootContexts)},fe)),function ju(I,w){return(0,Me.Z)(P=>{const{targetSnapshot:b,currentSnapshot:x,guards:{canActivateChecks:ae,canDeactivateChecks:fe}}=P;return 0===fe.length&&0===ae.length?(0,le.of)({...P,guardsResult:!0}):function Hu(I,w,P,b){return(0,de.H)(I).pipe((0,Me.Z)(x=>function B(I,w,P,b,x){const ae=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!ae||0===ae.length)return(0,le.of)(!0);const fe=ae.map(_t=>{var Kt;const Tt=null!==(Kt=K(w))&&void 0!==Kt?Kt:x,Tn=Es(_t,Tt);return Te(function so(I){return I&&Lr(I.canDeactivate)}(Tn)?Tn.canDeactivate(I,w,P,b):(0,d.N4e)(Tt,()=>Tn(I,w,P,b))).pipe((0,Lt.$)())});return(0,le.of)(fe).pipe(mo())}(x.component,x.route,P,w,b)),(0,Lt.$)(x=>!0!==x,!0))}(fe,b,x,I).pipe((0,Me.Z)(_t=>_t&&function Pa(I){return"boolean"==typeof I}(_t)?function Yl(I,w,P,b){return(0,de.H)(w).pipe(zt(x=>(0,Ce.x)(function H(I,w){return null!==I&&w&&w(new Gs(I)),(0,le.of)(!0)}(x.route.parent,b),function Cl(I,w){return null!==I&&w&&w(new rs(I)),(0,le.of)(!0)}(x.route,b),function te(I,w,P){const b=w[w.length-1],ae=w.slice(0,w.length-1).reverse().map(fe=>function Il(I){const w=I.routeConfig?I.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:I,guards:w}:null}(fe)).filter(fe=>null!==fe).map(fe=>ke(()=>{const _t=fe.guards.map(Kt=>{var Tt;const Tn=null!==(Tt=K(fe.node))&&void 0!==Tt?Tt:P,or=Es(Kt,Tn);return Te(function ks(I){return I&&Lr(I.canActivateChild)}(or)?or.canActivateChild(b,I):(0,d.N4e)(Tn,()=>or(b,I))).pipe((0,Lt.$)())});return(0,le.of)(_t).pipe(mo())}));return(0,le.of)(ae).pipe(mo())}(I,x.path,P),function M(I,w,P){const b=w.routeConfig?w.routeConfig.canActivate:null;if(!b||0===b.length)return(0,le.of)(!0);const x=b.map(ae=>ke(()=>{var fe;const _t=null!==(fe=K(w))&&void 0!==fe?fe:P,Kt=Es(ae,_t);return Te(function Xn(I){return I&&Lr(I.canActivate)}(Kt)?Kt.canActivate(w,I):(0,d.N4e)(_t,()=>Kt(w,I))).pipe((0,Lt.$)())}));return(0,le.of)(x).pipe(mo())}(I,x.route,P))),(0,Lt.$)(x=>!0!==x,!0))}(b,ae,I,w):(0,le.of)(_t)),(0,Ie.T)(_t=>({...P,guardsResult:_t})))})}(this.environmentInjector,Tt=>this.events.next(Tt)),(0,an.M)(Tt=>{if(fe.guardsResult=Tt.guardsResult,Tt.guardsResult&&"boolean"!=typeof Tt.guardsResult)throw Oo(0,Tt.guardsResult);const Tn=new ys(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects),Tt.targetSnapshot,!!Tt.guardsResult);this.events.next(Tn)}),(0,$e.p)(Tt=>!!Tt.guardsResult||(this.cancelNavigationTransition(Tt,"",ti.GuardRejected),!1)),ur(Tt=>{if(Tt.guards.canActivateChecks.length)return(0,le.of)(Tt).pipe((0,an.M)(Tn=>{const or=new ns(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(or)}),(0,Je.n)(Tn=>{let or=!1;return(0,le.of)(Tn).pipe(function Js(I,w){return(0,Me.Z)(P=>{const{targetSnapshot:b,guards:{canActivateChecks:x}}=P;if(!x.length)return(0,le.of)(P);const ae=new Set(x.map(Kt=>Kt.route)),fe=new Set;for(const Kt of ae)if(!fe.has(Kt))for(const Tt of Jl(Kt))fe.add(Tt);let _t=0;return(0,de.H)(fe).pipe(zt(Kt=>ae.has(Kt)?function ss(I,w,P,b){const x=I.routeConfig,ae=I._resolve;return void 0!==(null==x?void 0:x.title)&&!xr(x)&&(ae[dn]=x.title),function pr(I,w,P,b){const x=Yt(I);if(0===x.length)return(0,le.of)({});const ae={};return(0,de.H)(x).pipe((0,Me.Z)(fe=>function eu(I,w,P,b){var x;const ae=null!==(x=K(w))&&void 0!==x?x:b,fe=Es(I,ae);return Te(fe.resolve?fe.resolve(w,P):(0,d.N4e)(ae,()=>fe(w,P)))}(I[fe],w,P,b).pipe((0,Lt.$)(),(0,an.M)(_t=>{if(_t instanceof fa)throw Oo(new Nn,_t);ae[fe]=_t}))),be(1),function Ne(I){return(0,Ie.T)(()=>I)}(ae),en(fe=>Na(fe)?Xe.w:Ue(fe)))}(ae,I,w,b).pipe((0,Ie.T)(fe=>(I._resolvedData=fe,I.data=Jt(I,I.parent,P).resolve,null)))}(Kt,b,I,w):(Kt.data=Jt(Kt,Kt.parent,I).resolve,(0,le.of)(void 0))),(0,an.M)(()=>_t++),be(1),(0,Me.Z)(Kt=>_t===fe.size?(0,le.of)(P):Xe.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,an.M)({next:()=>or=!0,complete:()=>{or||this.cancelNavigationTransition(Tn,"",ti.NoDataFromResolver)}}))}),(0,an.M)(Tn=>{const or=new Ns(Tn.id,this.urlSerializer.serialize(Tn.extractedUrl),this.urlSerializer.serialize(Tn.urlAfterRedirects),Tn.targetSnapshot);this.events.next(or)}))}),ur(Tt=>{const Tn=or=>{var Xr;const mr=[];null!==(Xr=or.routeConfig)&&void 0!==Xr&&Xr.loadComponent&&!or.routeConfig._loadedComponent&&mr.push(this.configLoader.loadComponent(or.routeConfig).pipe((0,an.M)(ci=>{or.component=ci}),(0,Ie.T)(()=>{})));for(const ci of or.children)mr.push(...Tn(ci));return mr};return(0,Ve.z)(Tn(Tt.targetSnapshot.root)).pipe((0,Ot.U)(null),(0,We.s)(1))}),ur(()=>this.afterPreactivation()),(0,Je.n)(()=>{var Tt;const{currentSnapshot:Tn,targetSnapshot:or}=fe,Xr=null===(Tt=this.createViewTransition)||void 0===Tt?void 0:Tt.call(this,this.environmentInjector,Tn.root,or.root);return Xr?(0,de.H)(Xr).pipe((0,Ie.T)(()=>fe)):(0,le.of)(fe)}),(0,Ie.T)(Tt=>{const Tn=function Dn(I,w,P){const b=Eo(I,w._root,P?P._root:void 0);return new ct(b,w)}(b.routeReuseStrategy,Tt.targetSnapshot,Tt.currentRouterState);return this.currentTransition=fe={...Tt,targetRouterState:Tn},this.currentNavigation.targetRouterState=Tn,fe}),(0,an.M)(()=>{this.events.next(new is)}),((I,w,P,b)=>(0,Ie.T)(x=>(new Li(w,x.targetRouterState,x.currentRouterState,P,b).activate(I),x)))(this.rootContexts,b.routeReuseStrategy,Tt=>this.events.next(Tt),this.inputBindingEnabled),(0,We.s)(1),(0,an.M)({next:Tt=>{var Tn;_t=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new xi(Tt.id,this.urlSerializer.serialize(Tt.extractedUrl),this.urlSerializer.serialize(Tt.urlAfterRedirects))),null===(Tn=this.titleStrategy)||void 0===Tn||Tn.updateTitle(Tt.targetRouterState.snapshot),Tt.resolve(!0)},complete:()=>{_t=!0}}),function ze(I){return(0,Ze.N)((w,P)=>{(0,pe.Tg)(I).subscribe((0,rt._)(P,()=>P.complete(),nt.l)),!P.closed&&w.subscribe(P)})}(this.transitionAbortSubject.pipe((0,an.M)(Tt=>{throw Tt}))),ft(()=>{var Tt;!_t&&!Kt&&this.cancelNavigationTransition(fe,"",ti.SupersededByNewNavigation),(null===(Tt=this.currentTransition)||void 0===Tt?void 0:Tt.id)===fe.id&&(this.currentNavigation=null,this.currentTransition=null)}),en(Tt=>{if(Kt=!0,Ao(Tt))this.events.next(new ki(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Tt.message,Tt.cancellationCode)),function oo(I){return Ao(I)&&kr(I.url)}(Tt)?this.events.next(new Gr(Tt.url,Tt.navigationBehaviorOptions)):fe.resolve(!1);else{var Tn;const or=new wo(fe.id,this.urlSerializer.serialize(fe.extractedUrl),Tt,null!==(Tn=fe.targetSnapshot)&&void 0!==Tn?Tn:void 0);try{const Xr=(0,d.N4e)(this.environmentInjector,()=>{var mr;return null===(mr=this.navigationErrorHandler)||void 0===mr?void 0:mr.call(this,or)});if(Xr instanceof fa){const{message:mr,cancellationCode:ci}=Oo(0,Xr);this.events.next(new ki(fe.id,this.urlSerializer.serialize(fe.extractedUrl),mr,ci)),this.events.next(new Gr(Xr.redirectTo,Xr.navigationBehaviorOptions))}else{this.events.next(or);const mr=b.errorHandler(Tt);fe.resolve(!!mr)}}catch(Xr){this.options.resolveNavigationPromiseOnError?fe.resolve(!1):fe.reject(Xr)}}return Xe.w}))}))}cancelNavigationTransition(b,x,ae){const fe=new ki(b.id,this.urlSerializer.serialize(b.extractedUrl),x,ae);this.events.next(fe),b.resolve(!1)}isUpdatingInternalState(){var b,x;return(null===(b=this.currentTransition)||void 0===b?void 0:b.extractedUrl.toString())!==(null===(x=this.currentTransition)||void 0===x?void 0:x.currentUrlTree.toString())}isUpdatedBrowserUrl(){var b,x,ae,fe;const _t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),Kt=null!==(b=null===(x=this.currentNavigation)||void 0===x?void 0:x.targetBrowserUrl)&&void 0!==b?b:null===(ae=this.currentNavigation)||void 0===ae?void 0:ae.extractedUrl;return _t.toString()!==(null==Kt?void 0:Kt.toString())&&!(null!==(fe=this.currentNavigation)&&void 0!==fe&&fe.extras.skipLocationChange)}}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();function Re(I){return I!==ei}let Vt=(()=>{var I;class w{}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)(rr),providedIn:"root"}),w})();class sn{shouldDetach(w){return!1}store(w,P){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,P){return w.routeConfig===P.routeConfig}}let rr=(()=>{var I;class w extends sn{}return(I=w).\u0275fac=(()=>{let P;return function(x){return(P||(P=d.xGo(I)))(x||I)}})(),I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})(),Sr=(()=>{var I;class w{}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:()=>(0,d.WQX)(Ar),providedIn:"root"}),w})(),Ar=(()=>{var I;class w extends Sr{constructor(){super(...arguments),this.location=(0,d.WQX)(ge.aZ),this.urlSerializer=(0,d.WQX)(Kn),this.options=(0,d.WQX)(ea,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,d.WQX)(ii),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new cr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ht(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){var b,x;return"computed"!==this.canceledNavigationResolution?this.currentPageId:null!==(b=null===(x=this.restoredState())||void 0===x?void 0:x.\u0275routerPageId)&&void 0!==b?b:this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(b){return this.location.subscribe(x=>{"popstate"===x.type&&b(x.url,x.state)})}handleRouterEvent(b,x){if(b instanceof Mi)this.stateMemento=this.createStateMemento();else if(b instanceof Pi)this.rawUrlTree=x.initialUrl;else if(b instanceof Ps){if("eager"===this.urlUpdateStrategy&&!x.extras.skipLocationChange){var ae;const _t=this.urlHandlingStrategy.merge(x.finalUrl,x.initialUrl);this.setBrowserUrl(null!==(ae=x.targetBrowserUrl)&&void 0!==ae?ae:_t,x)}}else if(b instanceof is){var fe;this.currentUrlTree=x.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(x.finalUrl,x.initialUrl),this.routerState=x.targetRouterState,"deferred"!==this.urlUpdateStrategy||x.extras.skipLocationChange||this.setBrowserUrl(null!==(fe=x.targetBrowserUrl)&&void 0!==fe?fe:this.rawUrlTree,x)}else b instanceof ki&&(b.code===ti.GuardRejected||b.code===ti.NoDataFromResolver)?this.restoreHistory(x):b instanceof wo?this.restoreHistory(x,!0):b instanceof xi&&(this.lastSuccessfulId=b.id,this.currentPageId=this.browserPageId)}setBrowserUrl(b,x){const ae=b instanceof cr?this.urlSerializer.serialize(b):b;if(this.location.isCurrentPathEqualTo(ae)||x.extras.replaceUrl){const _t={...x.extras.state,...this.generateNgRouterState(x.id,this.browserPageId)};this.location.replaceState(ae,"",_t)}else{const fe={...x.extras.state,...this.generateNgRouterState(x.id,this.browserPageId+1)};this.location.go(ae,"",fe)}}restoreHistory(b,x=!1){if("computed"===this.canceledNavigationResolution){const fe=this.currentPageId-this.browserPageId;0!==fe?this.location.historyGo(fe):this.currentUrlTree===b.finalUrl&&0===fe&&(this.resetState(b),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(x&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){var x;this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,null!==(x=b.finalUrl)&&void 0!==x?x:this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(b,x){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:x}:{navigationId:b}}}return(I=w).\u0275fac=(()=>{let P;return function(x){return(P||(P=d.xGo(I)))(x||I)}})(),I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();var gr=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(gr||{});function yr(I,w){I.events.pipe((0,$e.p)(P=>P instanceof xi||P instanceof ki||P instanceof wo||P instanceof Pi),(0,Ie.T)(P=>P instanceof xi||P instanceof Pi?gr.COMPLETE:P instanceof ki&&(P.code===ti.Redirect||P.code===ti.SupersededByNewNavigation)?gr.REDIRECTING:gr.FAILED),(0,$e.p)(P=>P!==gr.REDIRECTING),(0,We.s)(1)).subscribe(()=>{w()})}function Ur(I){throw I}const Cn={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},as={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ei=(()=>{var I;class w{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){var b,x;this.disposed=!1,this.console=(0,d.WQX)(d.H3F),this.stateManager=(0,d.WQX)(Sr),this.options=(0,d.WQX)(ea,{optional:!0})||{},this.pendingTasks=(0,d.WQX)(d.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,d.WQX)(he),this.urlSerializer=(0,d.WQX)(Kn),this.location=(0,d.WQX)(ge.aZ),this.urlHandlingStrategy=(0,d.WQX)(ii),this._events=new ve.B,this.errorHandler=this.options.errorHandler||Ur,this.navigated=!1,this.routeReuseStrategy=(0,d.WQX)(Vt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=null!==(b=null===(x=(0,d.WQX)(Ya,{optional:!0}))||void 0===x?void 0:x.flat())&&void 0!==b?b:[],this.componentInputBindingEnabled=!!(0,d.WQX)(po,{optional:!0}),this.eventsSubscription=new ut.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:ae=>{this.console.warn(ae)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const b=this.navigationTransitions.events.subscribe(x=>{try{const ae=this.navigationTransitions.currentTransition,fe=this.navigationTransitions.currentNavigation;if(null!==ae&&null!==fe)if(this.stateManager.handleRouterEvent(x,fe),x instanceof ki&&x.code!==ti.Redirect&&x.code!==ti.SupersededByNewNavigation)this.navigated=!0;else if(x instanceof xi)this.navigated=!0;else if(x instanceof Gr){const _t=x.navigationBehaviorOptions,Kt=this.urlHandlingStrategy.merge(x.url,ae.currentRawUrl),Tt={browserUrl:ae.extras.browserUrl,info:ae.extras.info,skipLocationChange:ae.extras.skipLocationChange,replaceUrl:ae.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Re(ae.source),..._t};this.scheduleNavigation(Kt,ei,null,Tt,{resolve:ae.resolve,reject:ae.reject,promise:ae.promise})}(function vo(I){return!(I instanceof is||I instanceof Gr)})(x)&&this._events.next(x)}catch(ae){this.navigationTransitions.transitionAbortSubject.next(ae)}});this.eventsSubscription.add(b)}resetRootComponentType(b){this.routerState.root.component=b,this.navigationTransitions.rootComponentType=b}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ei,this.stateManager.restoredState())}setUpLocationChangeListener(){var b;null!==(b=this.nonRouterCurrentEntryChangeSubscription)&&void 0!==b||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((x,ae)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(x,"popstate",ae)},0)}))}navigateToSyncWithBrowser(b,x,ae){const fe={replaceUrl:!0},_t=null!=ae&&ae.navigationId?ae:null;if(ae){const Tt={...ae};delete Tt.navigationId,delete Tt.\u0275routerPageId,0!==Object.keys(Tt).length&&(fe.state=Tt)}const Kt=this.parseUrl(b);this.scheduleNavigation(Kt,x,_t,fe)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(b){this.config=b.map(tu),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(b,x={}){const{relativeTo:ae,queryParams:fe,fragment:_t,queryParamsHandling:Kt,preserveFragment:Tt}=x,Tn=Tt?this.currentUrlTree.fragment:_t;let Xr,or=null;switch(null!=Kt?Kt:this.options.defaultQueryParamsHandling){case"merge":or={...this.currentUrlTree.queryParams,...fe};break;case"preserve":or=this.currentUrlTree.queryParams;break;default:or=fe||null}null!==or&&(or=this.removeEmptyProps(or));try{Xr=_i(ae?ae.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof b[0]||"/"!==b[0][0])&&(b=[]),Xr=this.currentUrlTree.root}return zr(Xr,b,or,null!=Tn?Tn:null)}navigateByUrl(b,x={skipLocationChange:!1}){const ae=kr(b)?b:this.parseUrl(b),fe=this.urlHandlingStrategy.merge(ae,this.rawUrlTree);return this.scheduleNavigation(fe,ei,null,x)}navigate(b,x={skipLocationChange:!1}){return function ao(I){for(let w=0;w<I.length;w++)if(null==I[w])throw new d.wOt(4008,!1)}(b),this.navigateByUrl(this.createUrlTree(b,x),x)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){try{return this.urlSerializer.parse(b)}catch{return this.urlSerializer.parse("/")}}isActive(b,x){let ae;if(ae=!0===x?{...Cn}:!1===x?{...as}:x,kr(b))return wn(this.currentUrlTree,b,ae);const fe=this.parseUrl(b);return wn(this.currentUrlTree,fe,ae)}removeEmptyProps(b){return Object.entries(b).reduce((x,[ae,fe])=>(null!=fe&&(x[ae]=fe),x),{})}scheduleNavigation(b,x,ae,fe,_t){if(this.disposed)return Promise.resolve(!1);let Kt,Tt,Tn;_t?(Kt=_t.resolve,Tt=_t.reject,Tn=_t.promise):Tn=new Promise((Xr,mr)=>{Kt=Xr,Tt=mr});const or=this.pendingTasks.add();return yr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(or))}),this.navigationTransitions.handleNavigationRequest({source:x,restoredState:ae,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:b,extras:fe,resolve:Kt,reject:Tt,promise:Tn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Tn.catch(Xr=>Promise.reject(Xr))}}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})(),Xo=(()=>{var I;class w{constructor(b,x,ae,fe,_t,Kt){var Tt;this.router=b,this.route=x,this.tabIndexAttribute=ae,this.renderer=fe,this.el=_t,this.locationStrategy=Kt,this.href=null,this.onChanges=new ve.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const Tn=null===(Tt=_t.nativeElement.tagName)||void 0===Tt?void 0:Tt.toLowerCase();this.isAnchorElement="a"===Tn||"area"===Tn,this.isAnchorElement?this.subscription=b.events.subscribe(or=>{or instanceof xi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(b){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",b)}ngOnChanges(b){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(b){null==b?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=kr(b)||Array.isArray(b)?b:[b],this.setTabIndexIfNotOnNativeEl("0"))}onClick(b,x,ae,fe,_t){const Kt=this.urlTree;return!!(null===Kt||this.isAnchorElement&&(0!==b||x||ae||fe||_t||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Kt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){var b;null===(b=this.subscription)||void 0===b||b.unsubscribe()}updateHref(){var b;const x=this.urlTree;this.href=null!==x&&this.locationStrategy?null===(b=this.locationStrategy)||void 0===b?void 0:b.prepareExternalUrl(this.router.serializeUrl(x)):null;const ae=null===this.href?null:(0,d.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",ae)}applyAttributeValue(b,x){const ae=this.renderer,fe=this.el.nativeElement;null!==x?ae.setAttribute(fe,b,x):ae.removeAttribute(fe,b)}get urlTree(){return null===this.routerLinkInput?null:kr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(I=w).\u0275fac=function(b){return new(b||I)(d.rXU(Ei),d.rXU($t),d.kS0("tabindex"),d.rXU(d.sFG),d.rXU(d.aKT),d.rXU(ge.hb))},I.\u0275dir=d.FsC({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,x){1&b&&d.bIt("click",function(fe){return x.onClick(fe.button,fe.ctrlKey,fe.shiftKey,fe.altKey,fe.metaKey)}),2&b&&d.BMQ("target",x.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",d.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",d.L39],replaceUrl:[2,"replaceUrl","replaceUrl",d.L39],routerLink:"routerLink"},standalone:!0,features:[d.GFd,d.OA$]}),w})();class na{}let Md=(()=>{var I;class w{preload(b,x){return x().pipe(en(()=>(0,le.of)(null)))}}return(I=w).\u0275fac=function(b){return new(b||I)},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})(),$i=(()=>{var I;class w{constructor(b,x,ae,fe,_t){this.router=b,this.injector=ae,this.preloadingStrategy=fe,this.loader=_t}setUpPreloading(){this.subscription=this.router.events.pipe((0,$e.p)(b=>b instanceof xi),zt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,x){const ae=[];for(const Tt of x){var fe,_t;Tt.providers&&!Tt._injector&&(Tt._injector=(0,d.Ol2)(Tt.providers,b,`Route: ${Tt.path}`));const Tn=null!==(fe=Tt._injector)&&void 0!==fe?fe:b,or=null!==(_t=Tt._loadedInjector)&&void 0!==_t?_t:Tn;var Kt;(Tt.loadChildren&&!Tt._loadedRoutes&&void 0===Tt.canLoad||Tt.loadComponent&&!Tt._loadedComponent)&&ae.push(this.preloadConfig(Tn,Tt)),(Tt.children||Tt._loadedRoutes)&&ae.push(this.processRoutes(or,null!==(Kt=Tt.children)&&void 0!==Kt?Kt:Tt._loadedRoutes))}return(0,de.H)(ae).pipe((0,Pt.U)())}preloadConfig(b,x){return this.preloadingStrategy.preload(x,()=>{let ae;ae=x.loadChildren&&void 0===x.canLoad?this.loader.loadChildren(b,x):(0,le.of)(null);const fe=ae.pipe((0,Me.Z)(_t=>{var Kt;return null===_t?(0,le.of)(void 0):(x._loadedRoutes=_t.routes,x._loadedInjector=_t.injector,this.processRoutes(null!==(Kt=_t.injector)&&void 0!==Kt?Kt:b,_t.routes))}));if(x.loadComponent&&!x._loadedComponent){const _t=this.loader.loadComponent(x);return(0,de.H)([fe,_t]).pipe((0,Pt.U)())}return fe})}}return(I=w).\u0275fac=function(b){return new(b||I)(d.KVO(Ei),d.KVO(d.Ql9),d.KVO(d.uvJ),d.KVO(na),d.KVO(Za))},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac,providedIn:"root"}),w})();const Cr=new d.nKC("");let Mc=(()=>{var I;class w{constructor(b,x,ae,fe,_t={}){this.urlSerializer=b,this.transitions=x,this.viewportScroller=ae,this.zone=fe,this.options=_t,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},_t.scrollPositionRestoration||(_t.scrollPositionRestoration="disabled"),_t.anchorScrolling||(_t.anchorScrolling="disabled")}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Mi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof xi?(this.lastId=b.id,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.urlAfterRedirects).fragment)):b instanceof Pi&&b.code===Ji.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(b,this.urlSerializer.parse(b.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(b=>{b instanceof Ws&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,x){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Ws(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,x))})},0)})}ngOnDestroy(){var b,x;null===(b=this.routerEventsSubscription)||void 0===b||b.unsubscribe(),null===(x=this.scrollEventsSubscription)||void 0===x||x.unsubscribe()}}return(I=w).\u0275fac=function(b){d.QTQ()},I.\u0275prov=d.jDH({token:I,factory:I.\u0275fac}),w})();function As(I,w){return{\u0275kind:I,\u0275providers:w}}function Qo(){const I=(0,d.WQX)(d.zZn);return w=>{var P,b;const x=I.get(d.o8S);if(w!==x.components[0])return;const ae=I.get(Ei),fe=I.get(iu);1===I.get(lo)&&ae.initialNavigation(),null===(P=I.get(Wu,null,d.$GK.Optional))||void 0===P||P.setUpPreloading(),null===(b=I.get(Cr,null,d.$GK.Optional))||void 0===b||b.init(),ae.resetRootComponentType(x.componentTypes[0]),fe.closed||(fe.next(),fe.complete(),fe.unsubscribe())}}const iu=new d.nKC("",{factory:()=>new ve.B}),lo=new d.nKC("",{providedIn:"root",factory:()=>1}),Wu=new d.nKC("");function Cs(I){return As(0,[{provide:Wu,useExisting:$i},{provide:na,useExisting:I}])}function ou(I){return As(9,[{provide:Ja,useValue:$},{provide:D,useValue:{skipNextTransition:!(null==I||!I.skipInitialTransition),...I}}])}const Yo=new d.nKC("ROUTER_FORROOT_GUARD"),Zo=[ge.aZ,{provide:Kn,useClass:Nn},Ei,N,{provide:$t,useFactory:function Ls(I){return I.routerState.root},deps:[Ei]},Za,[]];let Sl=(()=>{var I;class w{constructor(b){}static forRoot(b,x){return{ngModule:w,providers:[Zo,[],{provide:Ya,multi:!0,useValue:b},{provide:Yo,useFactory:ka,deps:[[Ei,new d.Xx1,new d.kdw]]},{provide:ea,useValue:x||{}},null!=x&&x.useHash?{provide:ge.hb,useClass:ge.fw}:{provide:ge.hb,useClass:ge.Sm},{provide:Cr,useFactory:()=>{const I=(0,d.WQX)(ge.Xr),w=(0,d.WQX)(d.SKi),P=(0,d.WQX)(ea),b=(0,d.WQX)(he),x=(0,d.WQX)(Kn);return P.scrollOffset&&I.setOffset(P.scrollOffset),new Mc(x,b,I,w,P)}},null!=x&&x.preloadingStrategy?Cs(x.preloadingStrategy).\u0275providers:[],null!=x&&x.initialNavigation?su(x):[],null!=x&&x.bindToComponentInputs?As(8,[Ki,{provide:po,useExisting:Ki}]).\u0275providers:[],null!=x&&x.enableViewTransitions?ou().\u0275providers:[],[{provide:tl,useFactory:Qo},{provide:d.iLQ,multi:!0,useExisting:tl}]]}}static forChild(b){return{ngModule:w,providers:[{provide:Ya,multi:!0,useValue:b}]}}}return(I=w).\u0275fac=function(b){return new(b||I)(d.KVO(Yo,8))},I.\u0275mod=d.$C({type:I}),I.\u0275inj=d.G2t({}),w})();function ka(I){return"guarded"}function su(I){return["disabled"===I.initialNavigation?As(3,[{provide:d.hnV,multi:!0,useFactory:()=>{const w=(0,d.WQX)(Ei);return()=>{w.setUpLocationChangeListener()}}},{provide:lo,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?As(2,[{provide:lo,useValue:0},{provide:d.hnV,multi:!0,deps:[d.zZn],useFactory:w=>{const P=w.get(ge.hj,Promise.resolve());return()=>P.then(()=>new Promise(b=>{const x=w.get(Ei),ae=w.get(iu);yr(x,()=>{b(!0)}),w.get(he).afterPreactivation=()=>(b(!0),ae.closed?(0,le.of)(void 0):ae),x.initialNavigation()}))}}]).\u0275providers:[]]}const tl=new d.nKC("")},3345:(hn,pt,U)=>{"use strict";U.d(pt,{A:()=>Xe});var d=U(1076),f=U(1362),J=U(7852),ne=U(8041);class de{constructor(Ze,rt){this._delegate=Ze,this.firebase=rt,(0,J._addComponent)(Ze,new f.uA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(Ze,rt=J._DEFAULT_ENTRY_NAME){var et;this._delegate.checkDestroyed();const st=this._delegate.container.getProvider(Ze);return!st.isInitialized()&&"EXPLICIT"===(null===(et=st.getComponent())||void 0===et?void 0:et.instantiationMode)&&st.initialize(),st.getImmediate({identifier:rt})}_removeServiceInstance(Ze,rt=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(rt)}_addComponent(Ze){(0,J._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,J._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Se=new d.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Ce=function qe(){const ut=function Ve(ut){const Ze={},rt={__esModule:!0,initializeApp:function ve(We,wt={}){const $e=J.initializeApp(We,wt);if((0,d.gR)(Ze,$e.name))return Ze[$e.name];const Me=new ut($e,rt);return Ze[$e.name]=Me,Me},app:st,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function Ie(We){const wt=We.name,$e=wt.replace("-compat","");if(J._registerComponent(We)&&"PUBLIC"===We.type){const Me=(Lt=st())=>{if("function"!=typeof Lt[$e])throw Se.create("invalid-app-argument",{appName:wt});return Lt[$e]()};void 0!==We.serviceProps&&(0,d.zw)(Me,We.serviceProps),rt[$e]=Me,ut.prototype[$e]=function(...Lt){return this._getService.bind(this,wt).apply(this,We.multipleInstances?Lt:[])}}return"PUBLIC"===We.type?rt[$e]:null},removeApp:function et(We){delete Ze[We]},useAsService:function Je(We,wt){return"serverAuth"===wt?null:wt},modularAPIs:J}};function st(We){if(!(0,d.gR)(Ze,We=We||J._DEFAULT_ENTRY_NAME))throw Se.create("no-app",{appName:We});return Ze[We]}return rt.default=rt,Object.defineProperty(rt,"apps",{get:function ge(){return Object.keys(Ze).map(We=>Ze[We])}}),st.App=ut,rt}(de);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:qe,extendNamespace:function Ze(rt){(0,d.zw)(ut,rt)},createSubscribe:d.tD,ErrorFactory:d.FA,deepExtend:d.zw}),ut}(),pe=new ne.Vy("@firebase/app-compat");try{const ut=(0,d.mS)();if(void 0!==ut.firebase){pe.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Ze=ut.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&pe.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Xe=Ce;!function Ue(ut){(0,J.registerVersion)("@firebase/app-compat","0.2.41",ut)}()},7852:(hn,pt,U)=>{"use strict";U.r(pt),U.d(pt,{FirebaseError:()=>ne.g,SDK_VERSION:()=>nr,_DEFAULT_ENTRY_NAME:()=>Bn,_addComponent:()=>cr,_addOrOverwriteComponent:()=>ar,_apps:()=>kt,_clearComponents:()=>Nn,_components:()=>tr,_getProvider:()=>mi,_isFirebaseApp:()=>vi,_isFirebaseServerApp:()=>Kn,_registerComponent:()=>Br,_removeServiceInstance:()=>En,_serverApps:()=>sr,deleteApp:()=>xt,getApp:()=>St,getApps:()=>at,initializeApp:()=>ln,initializeServerApp:()=>si,onLog:()=>me,registerVersion:()=>Rt,setLogLevel:()=>Ee});var d=U(467),f=U(1362),J=U(8041),ne=U(1076);const de=(Nt,ee)=>ee.some(q=>Nt instanceof q);let le,Se;const Ce=new WeakMap,pe=new WeakMap,ke=new WeakMap,He=new WeakMap,Ue=new WeakMap;let Ze={get(Nt,ee,q){if(Nt instanceof IDBTransaction){if("done"===ee)return pe.get(Nt);if("objectStoreNames"===ee)return Nt.objectStoreNames||ke.get(Nt);if("store"===ee)return q.objectStoreNames[1]?void 0:q.objectStore(q.objectStoreNames[0])}return ve(Nt[ee])},set:(Nt,ee,q)=>(Nt[ee]=q,!0),has:(Nt,ee)=>Nt instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in Nt};function st(Nt){return"function"==typeof Nt?function et(Nt){return Nt!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function qe(){return Se||(Se=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Nt)?function(...ee){return Nt.apply(ge(this),ee),ve(Ce.get(this))}:function(...ee){return ve(Nt.apply(ge(this),ee))}:function(ee,...q){const Pe=Nt.call(ge(this),ee,...q);return ke.set(Pe,ee.sort?ee.sort():[ee]),ve(Pe)}}(Nt):(Nt instanceof IDBTransaction&&function ut(Nt){if(pe.has(Nt))return;const ee=new Promise((q,Pe)=>{const Y=()=>{Nt.removeEventListener("complete",Z),Nt.removeEventListener("error",ye),Nt.removeEventListener("abort",ye)},Z=()=>{q(),Y()},ye=()=>{Pe(Nt.error||new DOMException("AbortError","AbortError")),Y()};Nt.addEventListener("complete",Z),Nt.addEventListener("error",ye),Nt.addEventListener("abort",ye)});pe.set(Nt,ee)}(Nt),de(Nt,function Ve(){return le||(le=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Nt,Ze):Nt)}function ve(Nt){if(Nt instanceof IDBRequest)return function Xe(Nt){const ee=new Promise((q,Pe)=>{const Y=()=>{Nt.removeEventListener("success",Z),Nt.removeEventListener("error",ye)},Z=()=>{q(ve(Nt.result)),Y()},ye=()=>{Pe(Nt.error),Y()};Nt.addEventListener("success",Z),Nt.addEventListener("error",ye)});return ee.then(q=>{q instanceof IDBCursor&&Ce.set(q,Nt)}).catch(()=>{}),Ue.set(ee,Nt),ee}(Nt);if(He.has(Nt))return He.get(Nt);const ee=st(Nt);return ee!==Nt&&(He.set(Nt,ee),Ue.set(ee,Nt)),ee}const ge=Nt=>Ue.get(Nt),We=["get","getKey","getAll","getAllKeys","count"],wt=["put","add","delete","clear"],$e=new Map;function Me(Nt,ee){if(!(Nt instanceof IDBDatabase)||ee in Nt||"string"!=typeof ee)return;if($e.get(ee))return $e.get(ee);const q=ee.replace(/FromIndex$/,""),Pe=ee!==q,Y=wt.includes(q);if(!(q in(Pe?IDBIndex:IDBObjectStore).prototype)||!Y&&!We.includes(q))return;const Z=function(){var ye=(0,d.A)(function*(gt,...Bt){const on=this.transaction(gt,Y?"readwrite":"readonly");let $n=on.store;return Pe&&($n=$n.index(Bt.shift())),(yield Promise.all([$n[q](...Bt),Y&&on.done]))[0]});return function(Bt){return ye.apply(this,arguments)}}();return $e.set(ee,Z),Z}!function rt(Nt){Ze=Nt(Ze)}(Nt=>({...Nt,get:(ee,q,Pe)=>Me(ee,q)||Nt.get(ee,q,Pe),has:(ee,q)=>!!Me(ee,q)||Nt.has(ee,q)}));class Lt{constructor(ee){this.container=ee}getPlatformInfoString(){return this.container.getProviders().map(q=>{if(function zt(Nt){const ee=Nt.getComponent();return"VERSION"===(null==ee?void 0:ee.type)}(q)){const Pe=q.getImmediate();return`${Pe.library}/${Pe.version}`}return null}).filter(q=>q).join(" ")}}const an="@firebase/app",en="0.10.11",bn=new J.Vy("@firebase/app"),Ot="@firebase/app-compat",be="@firebase/analytics-compat",X="@firebase/analytics",Q="@firebase/app-check-compat",re="@firebase/app-check",Ne="@firebase/auth",ft="@firebase/auth-compat",nt="@firebase/database",ze="@firebase/database-compat",Pt="@firebase/functions",yt="@firebase/functions-compat",Et="@firebase/installations",dn="@firebase/installations-compat",mt="@firebase/messaging",mn="@firebase/messaging-compat",gn="@firebase/performance",Mn="@firebase/performance-compat",jt="@firebase/remote-config",Yt="@firebase/remote-config-compat",Un="@firebase/storage",it="@firebase/storage-compat",Te="@firebase/firestore",Fe="@firebase/vertexai-preview",tn="@firebase/firestore-compat",wn="firebase",Bn="[DEFAULT]",Sn={[an]:"fire-core",[Ot]:"fire-core-compat",[X]:"fire-analytics",[be]:"fire-analytics-compat",[re]:"fire-app-check",[Q]:"fire-app-check-compat",[Ne]:"fire-auth",[ft]:"fire-auth-compat",[nt]:"fire-rtdb",[ze]:"fire-rtdb-compat",[Pt]:"fire-fn",[yt]:"fire-fn-compat",[Et]:"fire-iid",[dn]:"fire-iid-compat",[mt]:"fire-fcm",[mn]:"fire-fcm-compat",[gn]:"fire-perf",[Mn]:"fire-perf-compat",[jt]:"fire-rc",[Yt]:"fire-rc-compat",[Un]:"fire-gcs",[it]:"fire-gcs-compat",[Te]:"fire-fst",[tn]:"fire-fst-compat",[Fe]:"fire-vertex","fire-js":"fire-js",[wn]:"fire-js-all"},kt=new Map,sr=new Map,tr=new Map;function cr(Nt,ee){try{Nt.container.addComponent(ee)}catch(q){bn.debug(`Component ${ee.name} failed to register with FirebaseApp ${Nt.name}`,q)}}function ar(Nt,ee){Nt.container.addOrOverwriteComponent(ee)}function Br(Nt){const ee=Nt.name;if(tr.has(ee))return bn.debug(`There were multiple attempts to register component ${ee}.`),!1;tr.set(ee,Nt);for(const q of kt.values())cr(q,Nt);for(const q of sr.values())cr(q,Nt);return!0}function mi(Nt,ee){const q=Nt.container.getProvider("heartbeat").getImmediate({optional:!0});return q&&q.triggerHeartbeat(),Nt.container.getProvider(ee)}function En(Nt,ee,q=Bn){mi(Nt,ee).clearInstance(q)}function vi(Nt){return void 0!==Nt.options}function Kn(Nt){return void 0!==Nt.settings}function Nn(){tr.clear()}const Mr=new ne.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Hn{constructor(ee,q,Pe){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},q),this._name=q.name,this._automaticDataCollectionEnabled=q.automaticDataCollectionEnabled,this._container=Pe,this.container.addComponent(new f.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}class Si extends Hn{constructor(ee,q,Pe,Y){const Z=void 0!==q.automaticDataCollectionEnabled&&q.automaticDataCollectionEnabled,ye={name:Pe,automaticDataCollectionEnabled:Z};super(void 0!==ee.apiKey?ee:ee.options,ye,Y),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Z},q),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,q.releaseOnDeref=void 0,Rt(an,en,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(ee){this.isDeleted||(this._refCount++,void 0!==ee&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(ee,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){xt(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Mr.create("server-app-deleted")}}const nr="10.13.2";function ln(Nt,ee={}){let q=Nt;"object"!=typeof ee&&(ee={name:ee});const Pe=Object.assign({name:Bn,automaticDataCollectionEnabled:!1},ee),Y=Pe.name;if("string"!=typeof Y||!Y)throw Mr.create("bad-app-name",{appName:String(Y)});if(q||(q=(0,ne.T9)()),!q)throw Mr.create("no-options");const Z=kt.get(Y);if(Z){if((0,ne.bD)(q,Z.options)&&(0,ne.bD)(Pe,Z.config))return Z;throw Mr.create("duplicate-app",{appName:Y})}const ye=new f.h1(Y);for(const Bt of tr.values())ye.addComponent(Bt);const gt=new Hn(q,Pe,ye);return kt.set(Y,gt),gt}function si(Nt,ee){if((0,ne.Bd)()&&!(0,ne.p7)())throw Mr.create("invalid-server-app-environment");let q;void 0===ee.automaticDataCollectionEnabled&&(ee.automaticDataCollectionEnabled=!1),q=vi(Nt)?Nt.options:Nt;const Pe=Object.assign(Object.assign({},ee),q);if(void 0!==Pe.releaseOnDeref&&delete Pe.releaseOnDeref,void 0!==ee.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Mr.create("finalization-registry-not-supported",{});const Z=""+(on=JSON.stringify(Pe),[...on].reduce(($n,On)=>Math.imul(31,$n)+On.charCodeAt(0)|0,0)),ye=sr.get(Z);var on;if(ye)return ye.incRefCount(ee.releaseOnDeref),ye;const gt=new f.h1(Z);for(const on of tr.values())gt.addComponent(on);const Bt=new Si(q,ee,Z,gt);return sr.set(Z,Bt),Bt}function St(Nt=Bn){const ee=kt.get(Nt);if(!ee&&Nt===Bn&&(0,ne.T9)())return ln();if(!ee)throw Mr.create("no-app",{appName:Nt});return ee}function at(){return Array.from(kt.values())}function xt(Nt){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,d.A)(function*(Nt){let ee=!1;const q=Nt.name;kt.has(q)?(ee=!0,kt.delete(q)):sr.has(q)&&Nt.decRefCount()<=0&&(sr.delete(q),ee=!0),ee&&(yield Promise.all(Nt.container.getProviders().map(Pe=>Pe.delete())),Nt.isDeleted=!0)})).apply(this,arguments)}function Rt(Nt,ee,q){var Pe;let Y=null!==(Pe=Sn[Nt])&&void 0!==Pe?Pe:Nt;q&&(Y+=`-${q}`);const Z=Y.match(/\s|\//),ye=ee.match(/\s|\//);if(Z||ye){const gt=[`Unable to register library "${Y}" with version "${ee}":`];return Z&&gt.push(`library name "${Y}" contains illegal characters (whitespace or "/")`),Z&&ye&&gt.push("and"),ye&&gt.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void bn.warn(gt.join(" "))}Br(new f.uA(`${Y}-version`,()=>({library:Y,version:ee}),"VERSION"))}function me(Nt,ee){if(null!==Nt&&"function"!=typeof Nt)throw Mr.create("invalid-log-argument");(0,J.Ey)(Nt,ee)}function Ee(Nt){(0,J.He)(Nt)}const Be="firebase-heartbeat-database",bt=1,ht="firebase-heartbeat-store";let vn=null;function In(){return vn||(vn=function Ie(Nt,ee,{blocked:q,upgrade:Pe,blocking:Y,terminated:Z}={}){const ye=indexedDB.open(Nt,ee),gt=ve(ye);return Pe&&ye.addEventListener("upgradeneeded",Bt=>{Pe(ve(ye.result),Bt.oldVersion,Bt.newVersion,ve(ye.transaction),Bt)}),q&&ye.addEventListener("blocked",Bt=>q(Bt.oldVersion,Bt.newVersion,Bt)),gt.then(Bt=>{Z&&Bt.addEventListener("close",()=>Z()),Y&&Bt.addEventListener("versionchange",on=>Y(on.oldVersion,on.newVersion,on))}).catch(()=>{}),gt}(Be,bt,{upgrade:(Nt,ee)=>{if(0===ee)try{Nt.createObjectStore(ht)}catch(q){console.warn(q)}}}).catch(Nt=>{throw Mr.create("idb-open",{originalErrorMessage:Nt.message})})),vn}function Pr(){return(Pr=(0,d.A)(function*(Nt){try{const q=(yield In()).transaction(ht),Pe=yield q.objectStore(ht).get(Fn(Nt));return yield q.done,Pe}catch(ee){if(ee instanceof ne.g)bn.warn(ee.message);else{const q=Mr.create("idb-get",{originalErrorMessage:null==ee?void 0:ee.message});bn.warn(q.message)}}})).apply(this,arguments)}function ot(Nt,ee){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.A)(function*(Nt,ee){try{const Pe=(yield In()).transaction(ht,"readwrite");yield Pe.objectStore(ht).put(ee,Fn(Nt)),yield Pe.done}catch(q){if(q instanceof ne.g)bn.warn(q.message);else{const Pe=Mr.create("idb-set",{originalErrorMessage:null==q?void 0:q.message});bn.warn(Pe.message)}}})).apply(this,arguments)}function Fn(Nt){return`${Nt.name}!${Nt.options.appId}`}class _i{constructor(ee){this.container=ee,this._heartbeatsCache=null;const q=this.container.getProvider("app").getImmediate();this._storage=new ai(q),this._heartbeatsCachePromise=this._storage.read().then(Pe=>(this._heartbeatsCache=Pe,Pe))}triggerHeartbeat(){var ee=this;return(0,d.A)(function*(){var q,Pe;try{const Z=ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ye=zr();return null==(null===(q=ee._heartbeatsCache)||void 0===q?void 0:q.heartbeats)&&(ee._heartbeatsCache=yield ee._heartbeatsCachePromise,null==(null===(Pe=ee._heartbeatsCache)||void 0===Pe?void 0:Pe.heartbeats))||ee._heartbeatsCache.lastSentHeartbeatDate===ye||ee._heartbeatsCache.heartbeats.some(gt=>gt.date===ye)?void 0:(ee._heartbeatsCache.heartbeats.push({date:ye,agent:Z}),ee._heartbeatsCache.heartbeats=ee._heartbeatsCache.heartbeats.filter(gt=>{const Bt=new Date(gt.date).valueOf();return Date.now()-Bt<=2592e6}),ee._storage.overwrite(ee._heartbeatsCache))}catch(Y){bn.warn(Y)}})()}getHeartbeatsHeader(){var ee=this;return(0,d.A)(function*(){var q;try{if(null===ee._heartbeatsCache&&(yield ee._heartbeatsCachePromise),null==(null===(q=ee._heartbeatsCache)||void 0===q?void 0:q.heartbeats)||0===ee._heartbeatsCache.heartbeats.length)return"";const Pe=zr(),{heartbeatsToSend:Y,unsentEntries:Z}=function Ri(Nt,ee=1024){const q=[];let Pe=Nt.slice();for(const Y of Nt){const Z=q.find(ye=>ye.agent===Y.agent);if(Z){if(Z.dates.push(Y.date),Wi(q)>ee){Z.dates.pop();break}}else if(q.push({agent:Y.agent,dates:[Y.date]}),Wi(q)>ee){q.pop();break}Pe=Pe.slice(1)}return{heartbeatsToSend:q,unsentEntries:Pe}}(ee._heartbeatsCache.heartbeats),ye=(0,ne.Uj)(JSON.stringify({version:2,heartbeats:Y}));return ee._heartbeatsCache.lastSentHeartbeatDate=Pe,Z.length>0?(ee._heartbeatsCache.heartbeats=Z,yield ee._storage.overwrite(ee._heartbeatsCache)):(ee._heartbeatsCache.heartbeats=[],ee._storage.overwrite(ee._heartbeatsCache)),ye}catch(Pe){return bn.warn(Pe),""}})()}}function zr(){return(new Date).toISOString().substring(0,10)}class ai{constructor(ee){this.app=ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.A)(function*(){return!!(0,ne.zW)()&&(0,ne.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ee=this;return(0,d.A)(function*(){if(yield ee._canUseIndexedDBPromise){const Pe=yield function lr(Nt){return Pr.apply(this,arguments)}(ee.app);return null!=Pe&&Pe.heartbeats?Pe:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(ee){var q=this;return(0,d.A)(function*(){var Pe;if(yield q._canUseIndexedDBPromise){const Z=yield q.read();return ot(q.app,{lastSentHeartbeatDate:null!==(Pe=ee.lastSentHeartbeatDate)&&void 0!==Pe?Pe:Z.lastSentHeartbeatDate,heartbeats:ee.heartbeats})}})()}add(ee){var q=this;return(0,d.A)(function*(){var Pe;if(yield q._canUseIndexedDBPromise){const Z=yield q.read();return ot(q.app,{lastSentHeartbeatDate:null!==(Pe=ee.lastSentHeartbeatDate)&&void 0!==Pe?Pe:Z.lastSentHeartbeatDate,heartbeats:[...Z.heartbeats,...ee.heartbeats]})}})()}}function Wi(Nt){return(0,ne.Uj)(JSON.stringify({version:2,heartbeats:Nt})).length}!function Oi(Nt){Br(new f.uA("platform-logger",ee=>new Lt(ee),"PRIVATE")),Br(new f.uA("heartbeat",ee=>new _i(ee),"PRIVATE")),Rt(an,en,Nt),Rt(an,en,"esm2017"),Rt("fire-js","")}("")},1362:(hn,pt,U)=>{"use strict";U.d(pt,{h1:()=>Ve,uA:()=>J});var d=U(467),f=U(1076);class J{constructor(Ce,pe,ke){this.name=Ce,this.instanceFactory=pe,this.type=ke,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Ce){return this.instantiationMode=Ce,this}setMultipleInstances(Ce){return this.multipleInstances=Ce,this}setServiceProps(Ce){return this.serviceProps=Ce,this}setInstanceCreatedCallback(Ce){return this.onInstanceCreated=Ce,this}}const ne="[DEFAULT]";class de{constructor(Ce,pe){this.name=Ce,this.container=pe,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Ce){const pe=this.normalizeInstanceIdentifier(Ce);if(!this.instancesDeferred.has(pe)){const ke=new f.cY;if(this.instancesDeferred.set(pe,ke),this.isInitialized(pe)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:pe});He&&ke.resolve(He)}catch{}}return this.instancesDeferred.get(pe).promise}getImmediate(Ce){var pe;const ke=this.normalizeInstanceIdentifier(null==Ce?void 0:Ce.identifier),He=null!==(pe=null==Ce?void 0:Ce.optional)&&void 0!==pe&&pe;if(!this.isInitialized(ke)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ke})}catch(Ue){if(He)return null;throw Ue}}getComponent(){return this.component}setComponent(Ce){if(Ce.name!==this.name)throw Error(`Mismatching Component ${Ce.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Ce,this.shouldAutoInitialize()){if(function Se(qe){return"EAGER"===qe.instantiationMode}(Ce))try{this.getOrInitializeService({instanceIdentifier:ne})}catch{}for(const[pe,ke]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(pe);try{const Ue=this.getOrInitializeService({instanceIdentifier:He});ke.resolve(Ue)}catch{}}}}clearInstance(Ce=ne){this.instancesDeferred.delete(Ce),this.instancesOptions.delete(Ce),this.instances.delete(Ce)}delete(){var Ce=this;return(0,d.A)(function*(){const pe=Array.from(Ce.instances.values());yield Promise.all([...pe.filter(ke=>"INTERNAL"in ke).map(ke=>ke.INTERNAL.delete()),...pe.filter(ke=>"_delete"in ke).map(ke=>ke._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Ce=ne){return this.instances.has(Ce)}getOptions(Ce=ne){return this.instancesOptions.get(Ce)||{}}initialize(Ce={}){const{options:pe={}}=Ce,ke=this.normalizeInstanceIdentifier(Ce.instanceIdentifier);if(this.isInitialized(ke))throw Error(`${this.name}(${ke}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:ke,options:pe});for(const[Ue,Xe]of this.instancesDeferred.entries())ke===this.normalizeInstanceIdentifier(Ue)&&Xe.resolve(He);return He}onInit(Ce,pe){var ke;const He=this.normalizeInstanceIdentifier(pe),Ue=null!==(ke=this.onInitCallbacks.get(He))&&void 0!==ke?ke:new Set;Ue.add(Ce),this.onInitCallbacks.set(He,Ue);const Xe=this.instances.get(He);return Xe&&Ce(Xe,He),()=>{Ue.delete(Ce)}}invokeOnInitCallbacks(Ce,pe){const ke=this.onInitCallbacks.get(pe);if(ke)for(const He of ke)try{He(Ce,pe)}catch{}}getOrInitializeService({instanceIdentifier:Ce,options:pe={}}){let ke=this.instances.get(Ce);if(!ke&&this.component&&(ke=this.component.instanceFactory(this.container,{instanceIdentifier:(qe=Ce,qe===ne?void 0:qe),options:pe}),this.instances.set(Ce,ke),this.instancesOptions.set(Ce,pe),this.invokeOnInitCallbacks(ke,Ce),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Ce,ke)}catch{}var qe;return ke||null}normalizeInstanceIdentifier(Ce=ne){return this.component?this.component.multipleInstances?Ce:ne:Ce}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ve{constructor(Ce){this.name=Ce,this.providers=new Map}addComponent(Ce){const pe=this.getProvider(Ce.name);if(pe.isComponentSet())throw new Error(`Component ${Ce.name} has already been registered with ${this.name}`);pe.setComponent(Ce)}addOrOverwriteComponent(Ce){this.getProvider(Ce.name).isComponentSet()&&this.providers.delete(Ce.name),this.addComponent(Ce)}getProvider(Ce){if(this.providers.has(Ce))return this.providers.get(Ce);const pe=new de(Ce,this);return this.providers.set(Ce,pe),pe}getProviders(){return Array.from(this.providers.values())}}},8041:(hn,pt,U)=>{"use strict";U.d(pt,{$b:()=>f,Ey:()=>qe,He:()=>Ve,Vy:()=>Se});const d=[];var f=function(Ce){return Ce[Ce.DEBUG=0]="DEBUG",Ce[Ce.VERBOSE=1]="VERBOSE",Ce[Ce.INFO=2]="INFO",Ce[Ce.WARN=3]="WARN",Ce[Ce.ERROR=4]="ERROR",Ce[Ce.SILENT=5]="SILENT",Ce}(f||{});const J={debug:f.DEBUG,verbose:f.VERBOSE,info:f.INFO,warn:f.WARN,error:f.ERROR,silent:f.SILENT},ne=f.INFO,de={[f.DEBUG]:"log",[f.VERBOSE]:"log",[f.INFO]:"info",[f.WARN]:"warn",[f.ERROR]:"error"},le=(Ce,pe,...ke)=>{if(pe<Ce.logLevel)return;const He=(new Date).toISOString(),Ue=de[pe];if(!Ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${pe})`);console[Ue](`[${He}]  ${Ce.name}:`,...ke)};class Se{constructor(pe){this.name=pe,this._logLevel=ne,this._logHandler=le,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(pe){if(!(pe in f))throw new TypeError(`Invalid value "${pe}" assigned to \`logLevel\``);this._logLevel=pe}setLogLevel(pe){this._logLevel="string"==typeof pe?J[pe]:pe}get logHandler(){return this._logHandler}set logHandler(pe){if("function"!=typeof pe)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=pe}get userLogHandler(){return this._userLogHandler}set userLogHandler(pe){this._userLogHandler=pe}debug(...pe){this._userLogHandler&&this._userLogHandler(this,f.DEBUG,...pe),this._logHandler(this,f.DEBUG,...pe)}log(...pe){this._userLogHandler&&this._userLogHandler(this,f.VERBOSE,...pe),this._logHandler(this,f.VERBOSE,...pe)}info(...pe){this._userLogHandler&&this._userLogHandler(this,f.INFO,...pe),this._logHandler(this,f.INFO,...pe)}warn(...pe){this._userLogHandler&&this._userLogHandler(this,f.WARN,...pe),this._logHandler(this,f.WARN,...pe)}error(...pe){this._userLogHandler&&this._userLogHandler(this,f.ERROR,...pe),this._logHandler(this,f.ERROR,...pe)}}function Ve(Ce){d.forEach(pe=>{pe.setLogLevel(Ce)})}function qe(Ce,pe){for(const ke of d){let He=null;pe&&pe.level&&(He=J[pe.level]),ke.userLogHandler=null===Ce?null:(Ue,Xe,...ut)=>{const Ze=ut.map(rt=>{if(null==rt)return null;if("string"==typeof rt)return rt;if("number"==typeof rt||"boolean"==typeof rt)return rt.toString();if(rt instanceof Error)return rt.message;try{return JSON.stringify(rt)}catch{return null}}).filter(rt=>rt).join(" ");Xe>=(null!=He?He:Ue.logLevel)&&Ce({level:f[Xe].toLowerCase(),message:Ze,args:ut,type:Ue.name})}}}},2872:(hn,pt,U)=>{"use strict";U.d(pt,{Yq:()=>it,TS:()=>Mn,sR:()=>jt,el:()=>In,Sb:()=>Kn,QE:()=>Fn,CF:()=>mi,Rg:()=>Rt,p4:()=>kr,jM:()=>Oi,q9:()=>dn,Kb:()=>Nt,CE:()=>lr,pF:()=>Pr,fL:()=>_i,YV:()=>bt,er:()=>Ti,z3:()=>zr});var d=U(467),f=U(9842),J=U(3953),ne=U(4964),de=U(177),le=U(5531),Se=U(4442);var Lt=U(1413),zt=U(3726),an=U(4412),en=U(4572),bn=U(7673),Ot=U(1635),be=U(5964),X=U(5558),Q=U(3294),re=U(4341);const Ne=["tabsInner"];let Pt=(()=>{var ee;class q{constructor(Y,Z){(0,f.A)(this,"doc",void 0),(0,f.A)(this,"_readyPromise",void 0),(0,f.A)(this,"win",void 0),(0,f.A)(this,"backButton",new Lt.B),(0,f.A)(this,"keyboardDidShow",new Lt.B),(0,f.A)(this,"keyboardDidHide",new Lt.B),(0,f.A)(this,"pause",new Lt.B),(0,f.A)(this,"resume",new Lt.B),(0,f.A)(this,"resize",new Lt.B),this.doc=Y,Z.run(()=>{var ye;let gt;this.win=Y.defaultView,this.backButton.subscribeWithPriority=function(Bt,on){return this.subscribe($n=>$n.register(Bt,On=>Z.run(()=>on(On))))},Et(this.pause,Y,"pause",Z),Et(this.resume,Y,"resume",Z),Et(this.backButton,Y,"ionBackButton",Z),Et(this.resize,this.win,"resize",Z),Et(this.keyboardDidShow,this.win,"ionKeyboardDidShow",Z),Et(this.keyboardDidHide,this.win,"ionKeyboardDidHide",Z),this._readyPromise=new Promise(Bt=>{gt=Bt}),null!==(ye=this.win)&&void 0!==ye&&ye.cordova?Y.addEventListener("deviceready",()=>{gt("cordova")},{once:!0}):gt("dom")})}is(Y){return(0,le.a)(this.win,Y)}platforms(){return(0,le.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(Y){return yt(this.win.location.href,Y)}isLandscape(){return!this.isPortrait()}isPortrait(){var Y,Z;return null===(Y=(Z=this.win).matchMedia)||void 0===Y?void 0:Y.call(Z,"(orientation: portrait)").matches}testUserAgent(Y){const Z=this.win.navigator;return!!(null!=Z&&Z.userAgent&&Z.userAgent.indexOf(Y)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return ee=q,(0,f.A)(q,"\u0275fac",function(Y){return new(Y||ee)(J.KVO(de.qQ),J.KVO(J.SKi))}),(0,f.A)(q,"\u0275prov",J.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})),q})();const yt=(ee,q)=>{q=q.replace(/[[\]\\]/g,"\\$&");const Y=new RegExp("[\\?&]"+q+"=([^&#]*)").exec(ee);return Y?decodeURIComponent(Y[1].replace(/\+/g," ")):null},Et=(ee,q,Pe,Y)=>{q&&q.addEventListener(Pe,Z=>{Y.run(()=>{ee.next(null!=Z?Z.detail:void 0)})})};let dn=(()=>{var ee;class q{constructor(Y,Z,ye,gt){(0,f.A)(this,"location",void 0),(0,f.A)(this,"serializer",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"topOutlet",void 0),(0,f.A)(this,"direction",mn),(0,f.A)(this,"animated",gn),(0,f.A)(this,"animationBuilder",void 0),(0,f.A)(this,"guessDirection","forward"),(0,f.A)(this,"guessAnimation",void 0),(0,f.A)(this,"lastNavId",-1),this.location=Z,this.serializer=ye,this.router=gt,gt&&gt.events.subscribe(Bt=>{if(Bt instanceof ne.Z){const on=Bt.restoredState?Bt.restoredState.navigationId:Bt.id;this.guessDirection=this.guessAnimation=on<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?Bt.id:on}}),Y.backButton.subscribeWithPriority(0,Bt=>{this.pop(),Bt()})}navigateForward(Y,Z={}){return this.setDirection("forward",Z.animated,Z.animationDirection,Z.animation),this.navigate(Y,Z)}navigateBack(Y,Z={}){return this.setDirection("back",Z.animated,Z.animationDirection,Z.animation),this.navigate(Y,Z)}navigateRoot(Y,Z={}){return this.setDirection("root",Z.animated,Z.animationDirection,Z.animation),this.navigate(Y,Z)}back(Y={animated:!0,animationDirection:"back"}){return this.setDirection("back",Y.animated,Y.animationDirection,Y.animation),this.location.back()}pop(){var Y=this;return(0,d.A)(function*(){let Z=Y.topOutlet;for(;Z;){if(yield Z.pop())return!0;Z=Z.parentOutlet}return!1})()}setDirection(Y,Z,ye,gt){this.direction=Y,this.animated=mt(Y,Z,ye),this.animationBuilder=gt}setTopOutlet(Y){this.topOutlet=Y}consumeTransition(){let Z,Y="root";const ye=this.animationBuilder;return"auto"===this.direction?(Y=this.guessDirection,Z=this.guessAnimation):(Z=this.animated,Y=this.direction),this.direction=mn,this.animated=gn,this.animationBuilder=void 0,{direction:Y,animation:Z,animationBuilder:ye}}navigate(Y,Z){if(Array.isArray(Y))return this.router.navigate(Y,Z);{const ye=this.serializer.parse(Y.toString());return void 0!==Z.queryParams&&(ye.queryParams={...Z.queryParams}),void 0!==Z.fragment&&(ye.fragment=Z.fragment),this.router.navigateByUrl(ye,Z)}}}return ee=q,(0,f.A)(q,"\u0275fac",function(Y){return new(Y||ee)(J.KVO(Pt),J.KVO(de.aZ),J.KVO(ne.Sd),J.KVO(ne.Ix,8))}),(0,f.A)(q,"\u0275prov",J.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})),q})();const mt=(ee,q,Pe)=>{if(!1!==q){if(void 0!==Pe)return Pe;if("forward"===ee||"back"===ee)return ee;if("root"===ee&&!0===q)return"forward"}},mn="auto",gn=void 0;let Mn=(()=>{var ee;class q{get(Y,Z){const ye=Yt();return ye?ye.get(Y,Z):null}getBoolean(Y,Z){const ye=Yt();return!!ye&&ye.getBoolean(Y,Z)}getNumber(Y,Z){const ye=Yt();return ye?ye.getNumber(Y,Z):0}}return ee=q,(0,f.A)(q,"\u0275fac",function(Y){return new(Y||ee)}),(0,f.A)(q,"\u0275prov",J.jDH({token:ee,factory:ee.\u0275fac,providedIn:"root"})),q})();const jt=new J.nKC("USERCONFIG"),Yt=()=>{if(typeof window<"u"){const ee=window.Ionic;if(null!=ee&&ee.config)return ee.config}return null};class Un{constructor(q={}){(0,f.A)(this,"data",void 0),this.data=q,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(q){return this.data[q]}}let it=(()=>{var ee;class q{constructor(){(0,f.A)(this,"zone",(0,J.WQX)(J.SKi)),(0,f.A)(this,"applicationRef",(0,J.WQX)(J.o8S)),(0,f.A)(this,"config",(0,J.WQX)(jt))}create(Y,Z,ye){var gt;return new Te(Y,Z,this.applicationRef,this.zone,ye,null!==(gt=this.config.useSetInputAPI)&&void 0!==gt&&gt)}}return ee=q,(0,f.A)(q,"\u0275fac",function(Y){return new(Y||ee)}),(0,f.A)(q,"\u0275prov",J.jDH({token:ee,factory:ee.\u0275fac})),q})();class Te{constructor(q,Pe,Y,Z,ye,gt){(0,f.A)(this,"environmentInjector",void 0),(0,f.A)(this,"injector",void 0),(0,f.A)(this,"applicationRef",void 0),(0,f.A)(this,"zone",void 0),(0,f.A)(this,"elementReferenceKey",void 0),(0,f.A)(this,"enableSignalsSupport",void 0),(0,f.A)(this,"elRefMap",new WeakMap),(0,f.A)(this,"elEventsMap",new WeakMap),this.environmentInjector=q,this.injector=Pe,this.applicationRef=Y,this.zone=Z,this.elementReferenceKey=ye,this.enableSignalsSupport=gt}attachViewToDom(q,Pe,Y,Z){return this.zone.run(()=>new Promise(ye=>{const gt={...Y};void 0!==this.elementReferenceKey&&(gt[this.elementReferenceKey]=q),ye(Fe(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,q,Pe,gt,Z,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(q,Pe){return this.zone.run(()=>new Promise(Y=>{const Z=this.elRefMap.get(Pe);if(Z){Z.destroy(),this.elRefMap.delete(Pe);const ye=this.elEventsMap.get(Pe);ye&&(ye(),this.elEventsMap.delete(Pe))}Y()}))}}const Fe=(ee,q,Pe,Y,Z,ye,gt,Bt,on,$n,On,pi)=>{const ei=J.zZn.create({providers:Bn(on),parent:Pe}),Zn=(0,J.a0P)(Bt,{environmentInjector:q,elementInjector:ei}),li=Zn.instance,Mi=Zn.location.nativeElement;if(on)if(On&&void 0!==li[On]&&console.error(`[Ionic Error]: ${On} is a reserved property when using ${gt.tagName.toLowerCase()}. Rename or remove the "${On}" property from ${Bt.name}.`),!0===pi&&void 0!==Zn.setInput){const{modal:ti,popover:Ji,...ki}=on;for(const Pi in ki)Zn.setInput(Pi,ki[Pi]);void 0!==ti&&Object.assign(li,{modal:ti}),void 0!==Ji&&Object.assign(li,{popover:Ji})}else Object.assign(li,on);if($n)for(const ti of $n)Mi.classList.add(ti);const xi=wn(ee,li,Mi);return gt.appendChild(Mi),Y.attachView(Zn.hostView),Z.set(Mi,Zn),ye.set(Mi,xi),Mi},tn=[Se.L,Se.a,Se.b,Se.c,Se.d],wn=(ee,q,Pe)=>ee.run(()=>{const Y=tn.filter(Z=>"function"==typeof q[Z]).map(Z=>{const ye=gt=>q[Z](gt.detail);return Pe.addEventListener(Z,ye),()=>Pe.removeEventListener(Z,ye)});return()=>Y.forEach(Z=>Z())}),er=new J.nKC("NavParamsToken"),Bn=ee=>[{provide:er,useValue:ee},{provide:Un,useFactory:Sn,deps:[er]}],Sn=ee=>new Un(ee),kt=(ee,q)=>{const Pe=ee.prototype;q.forEach(Y=>{Object.defineProperty(Pe,Y,{get(){return this.el[Y]},set(Z){this.z.runOutsideAngular(()=>this.el[Y]=Z)}})})},sr=(ee,q)=>{const Pe=ee.prototype;q.forEach(Y=>{Pe[Y]=function(){const Z=arguments;return this.z.runOutsideAngular(()=>this.el[Y].apply(this.el,Z))}})},tr=(ee,q,Pe)=>{Pe.forEach(Y=>ee[Y]=(0,zt.R)(q,Y))};function cr(ee){return function(Pe){const{defineCustomElementFn:Y,inputs:Z,methods:ye}=ee;return void 0!==Y&&Y(),Z&&kt(Pe,Z),ye&&sr(Pe,ye),Pe}}const ar=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Br=["present","dismiss","onDidDismiss","onWillDismiss"];let mi=(()=>{var ee;let q=((0,f.A)(ee=class{constructor(Y,Z,ye){(0,f.A)(this,"z",void 0),(0,f.A)(this,"template",void 0),(0,f.A)(this,"isCmpOpen",!1),(0,f.A)(this,"el",void 0),this.z=ye,this.el=Z.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Y.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Y.detectChanges()}),tr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Y){return new(Y||ee)(J.rXU(J.gRc),J.rXU(J.aKT),J.rXU(J.SKi))}),(0,f.A)(ee,"\u0275dir",J.FsC({type:ee,selectors:[["ion-popover"]],contentQueries:function(Y,Z,ye){if(1&Y&&J.wni(ye,J.C4Q,5),2&Y){let gt;J.mGM(gt=J.lsd())&&(Z.template=gt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})),ee);return q=(0,Ot.Cg)([cr({inputs:ar,methods:Br})],q),q})();const En=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],vi=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Kn=(()=>{var ee;let q=((0,f.A)(ee=class{constructor(Y,Z,ye){(0,f.A)(this,"z",void 0),(0,f.A)(this,"template",void 0),(0,f.A)(this,"isCmpOpen",!1),(0,f.A)(this,"el",void 0),this.z=ye,this.el=Z.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,Y.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,Y.detectChanges()}),tr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}},"\u0275fac",function(Y){return new(Y||ee)(J.rXU(J.gRc),J.rXU(J.aKT),J.rXU(J.SKi))}),(0,f.A)(ee,"\u0275dir",J.FsC({type:ee,selectors:[["ion-modal"]],contentQueries:function(Y,Z,ye){if(1&Y&&J.wni(ye,J.C4Q,5),2&Y){let gt;J.mGM(gt=J.lsd())&&(Z.template=gt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})),ee);return q=(0,Ot.Cg)([cr({inputs:En,methods:vi})],q),q})();const Rn=(ee,q)=>((ee=ee.filter(Pe=>Pe.stackId!==q.stackId)).push(q),ee),Si=(ee,q)=>{const Pe=ee.createUrlTree(["."],{relativeTo:q});return ee.serializeUrl(Pe)},nr=(ee,q)=>!q||ee.stackId!==q.stackId,ln=(ee,q)=>{if(!ee)return;const Pe=si(q);for(let Y=0;Y<Pe.length;Y++){if(Y>=ee.length)return Pe[Y];if(Pe[Y]!==ee[Y])return}},si=ee=>ee.split("/").map(q=>q.trim()).filter(q=>""!==q),St=ee=>{ee&&(ee.ref.destroy(),ee.unlistenEvents())};class at{constructor(q,Pe,Y,Z,ye,gt){(0,f.A)(this,"containerEl",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"zone",void 0),(0,f.A)(this,"location",void 0),(0,f.A)(this,"views",[]),(0,f.A)(this,"runningTask",void 0),(0,f.A)(this,"skipTransition",!1),(0,f.A)(this,"tabsPrefix",void 0),(0,f.A)(this,"activeView",void 0),(0,f.A)(this,"nextId",0),this.containerEl=Pe,this.router=Y,this.navCtrl=Z,this.zone=ye,this.location=gt,this.tabsPrefix=void 0!==q?si(q):void 0}createView(q,Pe){var Y;const Z=Si(this.router,Pe),ye=null==q||null===(Y=q.location)||void 0===Y?void 0:Y.nativeElement,gt=wn(this.zone,q.instance,ye);return{id:this.nextId++,stackId:ln(this.tabsPrefix,Z),unlistenEvents:gt,element:ye,ref:q,url:Z}}getExistingView(q){const Pe=Si(this.router,q),Y=this.views.find(Z=>Z.url===Pe);return Y&&Y.ref.changeDetectorRef.reattach(),Y}setActive(q){var Pe,Y;const Z=this.navCtrl.consumeTransition();let{direction:ye,animation:gt,animationBuilder:Bt}=Z;const on=this.activeView,$n=nr(q,on);$n&&(ye="back",gt=void 0);const On=this.views.slice();let pi;const ei=this.router;ei.getCurrentNavigation?pi=ei.getCurrentNavigation():null!==(Pe=ei.navigations)&&void 0!==Pe&&Pe.value&&(pi=ei.navigations.value),null!==(Y=pi)&&void 0!==Y&&null!==(Y=Y.extras)&&void 0!==Y&&Y.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Zn=this.views.includes(q),li=this.insertView(q,ye);Zn||q.ref.changeDetectorRef.detectChanges();const Mi=q.animationBuilder;return void 0===Bt&&"back"===ye&&!$n&&void 0!==Mi&&(Bt=Mi),on&&(on.animationBuilder=Bt),this.zone.runOutsideAngular(()=>this.wait(()=>(on&&on.ref.changeDetectorRef.detach(),q.ref.changeDetectorRef.reattach(),this.transition(q,on,gt,this.canGoBack(1),!1,Bt).then(()=>xt(q,li,On,this.location,this.zone)).then(()=>({enteringView:q,direction:ye,animation:gt,tabSwitch:$n})))))}canGoBack(q,Pe=this.getActiveStackId()){return this.getStack(Pe).length>q}pop(q,Pe=this.getActiveStackId()){return this.zone.run(()=>{const Y=this.getStack(Pe);if(Y.length<=q)return Promise.resolve(!1);const Z=Y[Y.length-q-1];let ye=Z.url;const gt=Z.savedData;if(gt){var Bt;const $n=gt.get("primary");null!=$n&&null!==(Bt=$n.route)&&void 0!==Bt&&null!==(Bt=Bt._routerState)&&void 0!==Bt&&Bt.snapshot.url&&(ye=$n.route._routerState.snapshot.url)}const{animationBuilder:on}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(ye,{...Z.savedExtras,animation:on}).then(()=>!0)})}startBackTransition(){const q=this.activeView;if(q){const Pe=this.getStack(q.stackId),Y=Pe[Pe.length-2],Z=Y.animationBuilder;return this.wait(()=>this.transition(Y,q,"back",this.canGoBack(2),!0,Z))}return Promise.resolve()}endBackTransition(q){q?(this.skipTransition=!0,this.pop(1)):this.activeView&&Qe(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(q){const Pe=this.getStack(q);return Pe.length>0?Pe[Pe.length-1]:void 0}getRootUrl(q){const Pe=this.getStack(q);return Pe.length>0?Pe[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(St),this.activeView=void 0,this.views=[]}getStack(q){return this.views.filter(Pe=>Pe.stackId===q)}insertView(q,Pe){return this.activeView=q,this.views=((ee,q,Pe)=>"root"===Pe?Rn(ee,q):"forward"===Pe?((ee,q)=>(ee.indexOf(q)>=0?ee=ee.filter(Y=>Y.stackId!==q.stackId||Y.id<=q.id):ee.push(q),ee))(ee,q):((ee,q)=>ee.indexOf(q)>=0?ee.filter(Y=>Y.stackId!==q.stackId||Y.id<=q.id):Rn(ee,q))(ee,q))(this.views,q,Pe),this.views.slice()}transition(q,Pe,Y,Z,ye,gt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(Pe===q)return Promise.resolve(!1);const Bt=q?q.element:void 0,on=Pe?Pe.element:void 0,$n=this.containerEl;return Bt&&Bt!==on&&(Bt.classList.add("ion-page"),Bt.classList.add("ion-page-invisible"),$n.commit)?$n.commit(Bt,on,{duration:void 0===Y?0:void 0,direction:Y,showGoBack:Z,progressAnimation:ye,animationBuilder:gt}):Promise.resolve(!1)}wait(q){var Pe=this;return(0,d.A)(function*(){void 0!==Pe.runningTask&&(yield Pe.runningTask,Pe.runningTask=void 0);const Y=Pe.runningTask=q();return Y.finally(()=>Pe.runningTask=void 0),Y})()}}const xt=(ee,q,Pe,Y,Z)=>"function"==typeof requestAnimationFrame?new Promise(ye=>{requestAnimationFrame(()=>{Qe(ee,q,Pe,Y,Z),ye()})}):Promise.resolve(),Qe=(ee,q,Pe,Y,Z)=>{Z.run(()=>Pe.filter(ye=>!q.includes(ye)).forEach(St)),q.forEach(ye=>{const Bt=Y.path().split("?")[0].split("#")[0];if(ye!==ee&&ye.url!==Bt){const on=ye.element;on.setAttribute("aria-hidden","true"),on.classList.add("ion-page-hidden"),ye.ref.changeDetectorRef.detach()}})};let Rt=(()=>{var ee;class q{get activatedComponentRef(){return this.activated}set animation(Y){this.nativeEl.animation=Y}set animated(Y){this.nativeEl.animated=Y}set swipeGesture(Y){this._swipeGesture=Y,this.nativeEl.swipeHandler=Y?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:Z=>this.stackCtrl.endBackTransition(Z)}:void 0}constructor(Y,Z,ye,gt,Bt,on,$n,On){(0,f.A)(this,"parentOutlet",void 0),(0,f.A)(this,"nativeEl",void 0),(0,f.A)(this,"activatedView",null),(0,f.A)(this,"tabsPrefix",void 0),(0,f.A)(this,"_swipeGesture",void 0),(0,f.A)(this,"stackCtrl",void 0),(0,f.A)(this,"proxyMap",new WeakMap),(0,f.A)(this,"currentActivatedRoute$",new an.t(null)),(0,f.A)(this,"activated",null),(0,f.A)(this,"_activatedRoute",null),(0,f.A)(this,"name",ne.Xk),(0,f.A)(this,"stackWillChange",new J.bkB),(0,f.A)(this,"stackDidChange",new J.bkB),(0,f.A)(this,"activateEvents",new J.bkB),(0,f.A)(this,"deactivateEvents",new J.bkB),(0,f.A)(this,"parentContexts",(0,J.WQX)(ne.Zp)),(0,f.A)(this,"location",(0,J.WQX)(J.c1b)),(0,f.A)(this,"environmentInjector",(0,J.WQX)(J.uvJ)),(0,f.A)(this,"inputBinder",(0,J.WQX)(Ee,{optional:!0})),(0,f.A)(this,"supportsBindingToComponentInputs",!0),(0,f.A)(this,"config",(0,J.WQX)(Mn)),(0,f.A)(this,"navCtrl",(0,J.WQX)(dn)),this.parentOutlet=On,this.nativeEl=gt.nativeElement,this.name=Y||ne.Xk,this.tabsPrefix="true"===Z?Si(Bt,$n):void 0,this.stackCtrl=new at(this.tabsPrefix,this.nativeEl,Bt,this.navCtrl,on,ye),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){var Y;this.stackCtrl.destroy(),null===(Y=this.inputBinder)||void 0===Y||Y.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const Y=this.getContext();null!=Y&&Y.route&&this.activateWith(Y.route,Y.injector)}new Promise(Y=>((ee,q)=>{ee.componentOnReady?ee.componentOnReady().then(Pe=>q(Pe)):(ee=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(ee):setTimeout(ee)})(()=>q(ee))})(this.nativeEl,Y)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(Y,Z){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const Z=this.getContext();this.activatedView.savedData=new Map(Z.children.contexts);const ye=this.activatedView.savedData.get("primary");if(ye&&Z.route&&(ye.route={...Z.route}),this.activatedView.savedExtras={},Z.route){const gt=Z.route.snapshot;this.activatedView.savedExtras.queryParams=gt.queryParams,this.activatedView.savedExtras.fragment=gt.fragment}}const Y=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(Y)}}activateWith(Y,Z){var ye;if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=Y;let gt,Bt=this.stackCtrl.getExistingView(Y);if(Bt){gt=this.activated=Bt.ref;const On=Bt.savedData;On&&(this.getContext().children.contexts=On),this.updateActivatedRouteProxy(gt.instance,Y)}else{var on;const On=Y._futureSnapshot,pi=this.parentContexts.getOrCreateContext(this.name).children,ei=new an.t(null),Zn=this.createActivatedRouteProxy(ei,Y),li=new me(Zn,pi,this.location.injector),Mi=null!==(on=On.routeConfig.component)&&void 0!==on?on:On.component;gt=this.activated=this.outletContent.createComponent(Mi,{index:this.outletContent.length,injector:li,environmentInjector:null!=Z?Z:this.environmentInjector}),ei.next(gt.instance),Bt=this.stackCtrl.createView(this.activated,Y),this.proxyMap.set(gt.instance,Zn),this.currentActivatedRoute$.next({component:gt.instance,activatedRoute:Y})}null===(ye=this.inputBinder)||void 0===ye||ye.bindActivatedRouteToOutletComponent(this),this.activatedView=Bt,this.navCtrl.setTopOutlet(this);const $n=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Bt,tabSwitch:nr(Bt,$n)}),this.stackCtrl.setActive(Bt).then(On=>{this.activateEvents.emit(gt.instance),this.stackDidChange.emit(On)})}canGoBack(Y=1,Z){return this.stackCtrl.canGoBack(Y,Z)}pop(Y=1,Z){return this.stackCtrl.pop(Y,Z)}getLastUrl(Y){const Z=this.stackCtrl.getLastUrl(Y);return Z?Z.url:void 0}getLastRouteView(Y){return this.stackCtrl.getLastUrl(Y)}getRootView(Y){return this.stackCtrl.getRootUrl(Y)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(Y,Z){const ye=new ne.nX;return ye._futureSnapshot=Z._futureSnapshot,ye._routerState=Z._routerState,ye.snapshot=Z.snapshot,ye.outlet=Z.outlet,ye.component=Z.component,ye._paramMap=this.proxyObservable(Y,"paramMap"),ye._queryParamMap=this.proxyObservable(Y,"queryParamMap"),ye.url=this.proxyObservable(Y,"url"),ye.params=this.proxyObservable(Y,"params"),ye.queryParams=this.proxyObservable(Y,"queryParams"),ye.fragment=this.proxyObservable(Y,"fragment"),ye.data=this.proxyObservable(Y,"data"),ye}proxyObservable(Y,Z){return Y.pipe((0,be.p)(ye=>!!ye),(0,X.n)(ye=>this.currentActivatedRoute$.pipe((0,be.p)(gt=>null!==gt&&gt.component===ye),(0,X.n)(gt=>gt&&gt.activatedRoute[Z]),(0,Q.F)())))}updateActivatedRouteProxy(Y,Z){const ye=this.proxyMap.get(Y);if(!ye)throw new Error("Could not find activated route proxy for view");ye._futureSnapshot=Z._futureSnapshot,ye._routerState=Z._routerState,ye.snapshot=Z.snapshot,ye.outlet=Z.outlet,ye.component=Z.component,this.currentActivatedRoute$.next({component:Y,activatedRoute:Z})}}return ee=q,(0,f.A)(q,"\u0275fac",function(Y){return new(Y||ee)(J.kS0("name"),J.kS0("tabs"),J.rXU(de.aZ),J.rXU(J.aKT),J.rXU(ne.Ix),J.rXU(J.SKi),J.rXU(ne.nX),J.rXU(ee,12))}),(0,f.A)(q,"\u0275dir",J.FsC({type:ee,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})),q})();class me{constructor(q,Pe,Y){(0,f.A)(this,"route",void 0),(0,f.A)(this,"childContexts",void 0),(0,f.A)(this,"parent",void 0),this.route=q,this.childContexts=Pe,this.parent=Y}get(q,Pe){return q===ne.nX?this.route:q===ne.Zp?this.childContexts:this.parent.get(q,Pe)}}const Ee=new J.nKC("");let Be=(()=>{var ee;class q{constructor(){(0,f.A)(this,"outletDataSubscriptions",new Map)}bindActivatedRouteToOutletComponent(Y){this.unsubscribeFromRouteData(Y),this.subscribeToRouteData(Y)}unsubscribeFromRouteData(Y){var Z;null===(Z=this.outletDataSubscriptions.get(Y))||void 0===Z||Z.unsubscribe(),this.outletDataSubscriptions.delete(Y)}subscribeToRouteData(Y){const{activatedRoute:Z}=Y,ye=(0,en.z)([Z.queryParams,Z.params,Z.data]).pipe((0,X.n)(([gt,Bt,on],$n)=>(on={...gt,...Bt,...on},0===$n?(0,bn.of)(on):Promise.resolve(on)))).subscribe(gt=>{if(!Y.isActivated||!Y.activatedComponentRef||Y.activatedRoute!==Z||null===Z.component)return void this.unsubscribeFromRouteData(Y);const Bt=(0,J.HJs)(Z.component);if(Bt)for(const{templateName:on}of Bt.inputs)Y.activatedComponentRef.setInput(on,gt[on]);else this.unsubscribeFromRouteData(Y)});this.outletDataSubscriptions.set(Y,ye)}}return ee=q,(0,f.A)(q,"\u0275fac",function(Y){return new(Y||ee)}),(0,f.A)(q,"\u0275prov",J.jDH({token:ee,factory:ee.\u0275fac})),q})();const bt=()=>({provide:Ee,useFactory:ht,deps:[ne.Ix]});function ht(ee){return null!=ee&&ee.componentInputBindingEnabled?new Be:null}const vn=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let In=(()=>{var ee;let q=((0,f.A)(ee=class{constructor(Y,Z,ye,gt,Bt,on){(0,f.A)(this,"routerOutlet",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"config",void 0),(0,f.A)(this,"r",void 0),(0,f.A)(this,"z",void 0),(0,f.A)(this,"el",void 0),this.routerOutlet=Y,this.navCtrl=Z,this.config=ye,this.r=gt,this.z=Bt,on.detach(),this.el=this.r.nativeElement}onClick(Y){var Z;const ye=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(Z=this.routerOutlet)&&void 0!==Z&&Z.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),Y.preventDefault()):null!=ye&&(this.navCtrl.navigateBack(ye,{animation:this.routerAnimation}),Y.preventDefault())}},"\u0275fac",function(Y){return new(Y||ee)(J.rXU(Rt,8),J.rXU(dn),J.rXU(Mn),J.rXU(J.aKT),J.rXU(J.SKi),J.rXU(J.gRc))}),(0,f.A)(ee,"\u0275dir",J.FsC({type:ee,hostBindings:function(Y,Z){1&Y&&J.bIt("click",function(gt){return Z.onClick(gt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})),ee);return q=(0,Ot.Cg)([cr({inputs:vn})],q),q})(),lr=(()=>{var ee;class q{constructor(Y,Z,ye,gt,Bt){(0,f.A)(this,"locationStrategy",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"routerLink",void 0),(0,f.A)(this,"routerDirection","forward"),(0,f.A)(this,"routerAnimation",void 0),this.locationStrategy=Y,this.navCtrl=Z,this.elementRef=ye,this.router=gt,this.routerLink=Bt}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const Z=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(Z.tagName)&&"0"===Z.getAttribute("tabindex")&&Z.removeAttribute("tabindex")}updateTargetUrlAndHref(){var Y;if(null!==(Y=this.routerLink)&&void 0!==Y&&Y.urlTree){const Z=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Z}}onClick(Y){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),Y.preventDefault()}}return ee=q,(0,f.A)(q,"\u0275fac",function(Y){return new(Y||ee)(J.rXU(de.hb),J.rXU(dn),J.rXU(J.aKT),J.rXU(ne.Ix),J.rXU(ne.Wk,8))}),(0,f.A)(q,"\u0275dir",J.FsC({type:ee,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(Y,Z){1&Y&&J.bIt("click",function(gt){return Z.onClick(gt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[J.OA$]})),q})(),Pr=(()=>{var ee;class q{constructor(Y,Z,ye,gt,Bt){(0,f.A)(this,"locationStrategy",void 0),(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"router",void 0),(0,f.A)(this,"routerLink",void 0),(0,f.A)(this,"routerDirection","forward"),(0,f.A)(this,"routerAnimation",void 0),this.locationStrategy=Y,this.navCtrl=Z,this.elementRef=ye,this.router=gt,this.routerLink=Bt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var Y;if(null!==(Y=this.routerLink)&&void 0!==Y&&Y.urlTree){const Z=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=Z}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}}return ee=q,(0,f.A)(q,"\u0275fac",function(Y){return new(Y||ee)(J.rXU(de.hb),J.rXU(dn),J.rXU(J.aKT),J.rXU(ne.Ix),J.rXU(ne.Wk,8))}),(0,f.A)(q,"\u0275dir",J.FsC({type:ee,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(Y,Z){1&Y&&J.bIt("click",function(){return Z.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[J.OA$]})),q})();const ot=["animated","animation","root","rootParams","swipeGesture"],dr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let Fn=(()=>{var ee;let q=((0,f.A)(ee=class{constructor(Y,Z,ye,gt,Bt,on){(0,f.A)(this,"z",void 0),(0,f.A)(this,"el",void 0),this.z=Bt,on.detach(),this.el=Y.nativeElement,Y.nativeElement.delegate=gt.create(Z,ye),tr(this,this.el,["ionNavDidChange","ionNavWillChange"])}},"\u0275fac",function(Y){return new(Y||ee)(J.rXU(J.aKT),J.rXU(J.uvJ),J.rXU(J.zZn),J.rXU(it),J.rXU(J.SKi),J.rXU(J.gRc))}),(0,f.A)(ee,"\u0275dir",J.FsC({type:ee,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})),ee);return q=(0,Ot.Cg)([cr({inputs:ot,methods:dr})],q),q})(),kr=(()=>{var ee;class q{constructor(Y){(0,f.A)(this,"navCtrl",void 0),(0,f.A)(this,"tabsInner",void 0),(0,f.A)(this,"ionTabsWillChange",new J.bkB),(0,f.A)(this,"ionTabsDidChange",new J.bkB),(0,f.A)(this,"tabBarSlot","bottom"),(0,f.A)(this,"hasTab",!1),(0,f.A)(this,"selectedTab",void 0),(0,f.A)(this,"leavingTab",void 0),this.navCtrl=Y}ngAfterViewInit(){const Y=this.tabs.length>0?this.tabs.first:void 0;Y&&(this.hasTab=!0,this.setActiveTab(Y.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:Y,tabSwitch:Z}){const ye=Y.stackId;Z&&void 0!==ye&&this.ionTabsWillChange.emit({tab:ye})}onStackDidChange({enteringView:Y,tabSwitch:Z}){const ye=Y.stackId;Z&&void 0!==ye&&(this.tabBar&&(this.tabBar.selectedTab=ye),this.ionTabsDidChange.emit({tab:ye}))}select(Y){const Z="string"==typeof Y,ye=Z?Y:Y.detail.tab;if(this.hasTab)return this.setActiveTab(ye),void this.tabSwitch();const gt=this.outlet.getActiveStackId()===ye,Bt=`${this.outlet.tabsPrefix}/${ye}`;if(Z||Y.stopPropagation(),gt){const on=this.outlet.getActiveStackId(),$n=this.outlet.getLastRouteView(on);if((null==$n?void 0:$n.url)===Bt)return;const On=this.outlet.getRootView(ye);return this.navCtrl.navigateRoot(Bt,{...On&&Bt===On.url&&On.savedExtras,animated:!0,animationDirection:"back"})}{const on=this.outlet.getLastRouteView(ye);return this.navCtrl.navigateRoot((null==on?void 0:on.url)||Bt,{...null==on?void 0:on.savedExtras,animated:!0,animationDirection:"back"})}}setActiveTab(Y){const ye=this.tabs.find(gt=>gt.tab===Y);ye?(this.leavingTab=this.selectedTab,this.selectedTab=ye,this.ionTabsWillChange.emit({tab:Y}),ye.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${Y}" does not exist`)}tabSwitch(){const{selectedTab:Y,leavingTab:Z}=this;this.tabBar&&Y&&(this.tabBar.selectedTab=Y.tab),(null==Z?void 0:Z.tab)!==(null==Y?void 0:Y.tab)&&null!=Z&&Z.el&&(Z.el.active=!1),Y&&this.ionTabsDidChange.emit({tab:Y.tab})}getSelected(){var Y;return this.hasTab?null===(Y=this.selectedTab)||void 0===Y?void 0:Y.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(Y=>{const Z=Y.el.getAttribute("slot");Z!==this.tabBarSlot&&(this.tabBarSlot=Z,this.relocateTabBar())})}relocateTabBar(){const Y=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(Y):this.tabsInner.nativeElement.after(Y)}}return ee=q,(0,f.A)(q,"\u0275fac",function(Y){return new(Y||ee)(J.rXU(dn))}),(0,f.A)(q,"\u0275dir",J.FsC({type:ee,selectors:[["ion-tabs"]],viewQuery:function(Y,Z){if(1&Y&&J.GBs(Ne,7,J.aKT),2&Y){let ye;J.mGM(ye=J.lsd())&&(Z.tabsInner=ye.first)}},hostBindings:function(Y,Z){1&Y&&J.bIt("ionTabButtonClick",function(gt){return Z.select(gt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})),q})();const Ti=ee=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ee):"function"==typeof requestAnimationFrame?requestAnimationFrame(ee):setTimeout(ee);let _i=(()=>{var ee;class q{constructor(Y,Z){(0,f.A)(this,"injector",void 0),(0,f.A)(this,"elementRef",void 0),(0,f.A)(this,"onChange",()=>{}),(0,f.A)(this,"onTouched",()=>{}),(0,f.A)(this,"lastValue",void 0),(0,f.A)(this,"statusChanges",void 0),this.injector=Y,this.elementRef=Z}writeValue(Y){this.elementRef.nativeElement.value=this.lastValue=Y,zr(this.elementRef)}handleValueChange(Y,Z){Y===this.elementRef.nativeElement&&(Z!==this.lastValue&&(this.lastValue=Z,this.onChange(Z)),zr(this.elementRef))}_handleBlurEvent(Y){Y===this.elementRef.nativeElement&&(this.onTouched(),zr(this.elementRef))}registerOnChange(Y){this.onChange=Y}registerOnTouched(Y){this.onTouched=Y}setDisabledState(Y){this.elementRef.nativeElement.disabled=Y}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let Y;try{Y=this.injector.get(re.vO)}catch{}if(!Y)return;Y.statusChanges&&(this.statusChanges=Y.statusChanges.subscribe(()=>zr(this.elementRef)));const Z=Y.control;Z&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(gt=>{if(typeof Z[gt]<"u"){const Bt=Z[gt].bind(Z);Z[gt]=(...on)=>{Bt(...on),zr(this.elementRef)}}})}}return ee=q,(0,f.A)(q,"\u0275fac",function(Y){return new(Y||ee)(J.rXU(J.zZn),J.rXU(J.aKT))}),(0,f.A)(q,"\u0275dir",J.FsC({type:ee,hostBindings:function(Y,Z){1&Y&&J.bIt("ionBlur",function(gt){return Z._handleBlurEvent(gt.target)})}})),q})();const zr=ee=>{Ti(()=>{const q=ee.nativeElement,Pe=null!=q.value&&q.value.toString().length>0,Y=Ri(q);ai(q,Y);const Z=q.closest("ion-item");Z&&ai(Z,Pe?[...Y,"item-has-value"]:Y)})},Ri=ee=>{const q=ee.classList,Pe=[];for(let Y=0;Y<q.length;Y++){const Z=q.item(Y);null!==Z&&Wi(Z,"ng-")&&Pe.push(`ion-${Z.substring(3)}`)}return Pe},ai=(ee,q)=>{const Pe=ee.classList;Pe.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),Pe.add(...q)},Wi=(ee,q)=>ee.substring(0,q.length)===q;class Oi{shouldDetach(q){return!1}shouldAttach(q){return!1}store(q,Pe){}retrieve(q){return null}shouldReuseRoute(q,Pe){if(q.routeConfig!==Pe.routeConfig)return!1;const Y=q.params,Z=Pe.params,ye=Object.keys(Y),gt=Object.keys(Z);if(ye.length!==gt.length)return!1;for(const Bt of ye)if(Z[Bt]!==Y[Bt])return!1;return!0}}class Nt{constructor(q){(0,f.A)(this,"ctrl",void 0),this.ctrl=q}create(q){return this.ctrl.create(q||{})}dismiss(q,Pe,Y){return this.ctrl.dismiss(q,Pe,Y)}getTop(){return this.ctrl.getTop()}}},4742:(hn,pt,U)=>{"use strict";U.d(pt,{U1:()=>gn,In:()=>Yt,Jm:()=>Te,b_:()=>tn,I9:()=>wn,ME:()=>er,tN:()=>Sn,hU:()=>tr,W9:()=>cr,eU:()=>Rn,$w:()=>ln,uz:()=>St,Dg:()=>at,he:()=>Ee,FH:()=>_i,Rg:()=>wo,ln:()=>Pe,BC:()=>ti,ai:()=>Pi,bv:()=>$r,su:()=>Q,Gw:()=>Ne});var d=U(9842),f=U(3953),J=U(4341),ne=U(2872),de=U(1635),le=U(3726),Se=U(177),Ve=U(4964),Ue=(U(9986),U(3604),U(5022),U(3615),U(8607),U(9483)),Xe=U(464),Ze=(U(9568),U(9440)),et=(U(8476),U(4261));U(1970),U(7192);var Je=U(467);const We=Ue.i,wt=function(){var R=(0,Je.A)(function*(K,ue){if(!(typeof window>"u"))return yield We(),(0,et.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),ue)});return function(ue,N){return R.apply(this,arguments)}}(),$e=["*"],Me=["outletContent"];let Q=(()=>{var R;class K extends ne.fL{constructor(N,C){super(N,C),(0,d.A)(this,"el",void 0),this.el=C}handleInputEvent(N){this.handleValueChange(N,N.value)}registerOnChange(N){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?C=>{N(""===C?null:parseFloat(C))}:N)}}return R=K,(0,d.A)(K,"\u0275fac",function(N){return new(N||R)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,d.A)(K,"\u0275dir",f.FsC({type:R,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(N,C){1&N&&f.bIt("ionInput",function(Ae){return C.handleInputEvent(Ae.target)})},features:[f.Jv_([{provide:J.kq,useExisting:R,multi:!0}]),f.Vt3]})),K})(),Ne=(()=>{var R;class K extends ne.fL{constructor(N,C){super(N,C)}_handleInputEvent(N){this.handleValueChange(N,N.value)}}return R=K,(0,d.A)(K,"\u0275fac",function(N){return new(N||R)(f.rXU(f.zZn),f.rXU(f.aKT))}),(0,d.A)(K,"\u0275dir",f.FsC({type:R,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(N,C){1&N&&f.bIt("ionInput",function(Ae){return C._handleInputEvent(Ae.target)})},features:[f.Jv_([{provide:J.kq,useExisting:R,multi:!0}]),f.Vt3]})),K})();const ft=(R,K)=>{const ue=R.prototype;K.forEach(N=>{Object.defineProperty(ue,N,{get(){return this.el[N]},set(C){this.z.runOutsideAngular(()=>this.el[N]=C)},configurable:!0})})},nt=(R,K)=>{const ue=R.prototype;K.forEach(N=>{ue[N]=function(){const C=arguments;return this.z.runOutsideAngular(()=>this.el[N].apply(this.el,C))}})},ze=(R,K,ue)=>{ue.forEach(N=>R[N]=(0,le.R)(K,N))};function yt(R){return function(ue){const{defineCustomElementFn:N,inputs:C,methods:F}=R;return void 0!==N&&N(),C&&ft(ue,C),F&&nt(ue,F),ue}}let gn=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-app"]],ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({})],K),K})(),Yt=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["color","mode"]})],K),K})(),Te=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement,ze(this,this.el,["ionFocus","ionBlur"])}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],K),K})(),tn=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],K),K})(),wn=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["mode"]})],K),K})(),er=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["color","mode","translucent"]})],K),K})(),Sn=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["color","mode"]})],K),K})(),tr=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],K),K})(),cr=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement,ze(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],K),K})(),Rn=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["collapse","mode","translucent"]})],K),K})(),ln=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement,ze(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],K),K})(),St=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],K),K})(),at=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["color","mode","sticky"]})],K),K})(),Ee=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["color","mode","position"]})],K),K})(),_i=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["buffer","color","mode","reversed","type","value"]})],K),K})(),Pe=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-row"]],ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({})],K),K})(),ti=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["color","size"]})],K),K})(),Pi=(()=>{var R;let K=((0,d.A)(R=class{constructor(N,C,F){(0,d.A)(this,"z",void 0),(0,d.A)(this,"el",void 0),this.z=F,N.detach(),this.el=C.nativeElement}},"\u0275fac",function(N){return new(N||R)(f.rXU(f.gRc),f.rXU(f.aKT),f.rXU(f.SKi))}),(0,d.A)(R,"\u0275cmp",f.VBU({type:R,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:$e,decls:1,vars:0,template:function(N,C){1&N&&(f.NAR(),f.SdG(0))},encapsulation:2,changeDetection:0})),R);return K=(0,de.Cg)([yt({inputs:["color","mode"]})],K),K})(),wo=(()=>{var R;class K extends ne.Rg{constructor(N,C,F,Ae,xe,tt,ct,Ht){super(N,C,F,Ae,xe,tt,ct,Ht),(0,d.A)(this,"parentOutlet",void 0),(0,d.A)(this,"outletContent",void 0),this.parentOutlet=Ht}}return R=K,(0,d.A)(K,"\u0275fac",function(N){return new(N||R)(f.kS0("name"),f.kS0("tabs"),f.rXU(Se.aZ),f.rXU(f.aKT),f.rXU(Ve.Ix),f.rXU(f.SKi),f.rXU(Ve.nX),f.rXU(R,12))}),(0,d.A)(K,"\u0275cmp",f.VBU({type:R,selectors:[["ion-router-outlet"]],viewQuery:function(N,C){if(1&N&&f.GBs(Me,7,f.c1b),2&N){let F;f.mGM(F=f.lsd())&&(C.outletContent=F.first)}},features:[f.Vt3],ngContentSelectors:$e,decls:3,vars:0,consts:[["outletContent",""]],template:function(N,C){1&N&&(f.NAR(),f.qex(0,null,0),f.SdG(2),f.bVm())},encapsulation:2})),K})();const Gs={provide:J.cz,useExisting:(0,f.Rfq)(()=>Ro),multi:!0};let Ro=(()=>{var R;class K extends J.zX{}return R=K,(0,d.A)(K,"\u0275fac",(()=>{let ue;return function(C){return(ue||(ue=f.xGo(R)))(C||R)}})()),(0,d.A)(K,"\u0275dir",f.FsC({type:R,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(N,C){2&N&&f.BMQ("max",C._enabled?C.max:null)},features:[f.Jv_([Gs]),f.Vt3]})),K})();const rs={provide:J.cz,useExisting:(0,f.Rfq)(()=>ha),multi:!0};let ha=(()=>{var R;class K extends J.VZ{}return R=K,(0,d.A)(K,"\u0275fac",(()=>{let ue;return function(C){return(ue||(ue=f.xGo(R)))(C||R)}})()),(0,d.A)(K,"\u0275dir",f.FsC({type:R,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(N,C){2&N&&f.BMQ("min",C._enabled?C.min:null)},features:[f.Jv_([rs]),f.Vt3]})),K})(),Ks=(()=>{var R;class K extends ne.Kb{constructor(){super(Ze.m),(0,d.A)(this,"angularDelegate",(0,f.WQX)(ne.Yq)),(0,d.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,d.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(N){return super.create({...N,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return R=K,(0,d.A)(K,"\u0275fac",function(N){return new(N||R)}),(0,d.A)(K,"\u0275prov",f.jDH({token:R,factory:R.\u0275fac})),K})();class Po extends ne.Kb{constructor(){super(Ze.c),(0,d.A)(this,"angularDelegate",(0,f.WQX)(ne.Yq)),(0,d.A)(this,"injector",(0,f.WQX)(f.zZn)),(0,d.A)(this,"environmentInjector",(0,f.WQX)(f.uvJ))}create(K){return super.create({...K,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Dr=(R,K,ue)=>()=>{const N=K.defaultView;if(N&&typeof window<"u"){(0,Xe.s)({...R,_zoneGate:F=>ue.run(F)});const C="__zone_symbol__addEventListener"in K.body?"__zone_symbol__addEventListener":"addEventListener";return function Ie(){var R=[];if(typeof window<"u"){var K=window;(!K.customElements||K.Element&&(!K.Element.prototype.closest||!K.Element.prototype.matches||!K.Element.prototype.remove||!K.Element.prototype.getRootNode))&&R.push(U.e(7278).then(U.t.bind(U,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||K.NodeList&&!K.NodeList.prototype.forEach||!K.fetch||!function(){try{var N=new URL("b","http://a");return N.pathname="c%20d","http://a/c%20d"===N.href&&N.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&R.push(U.e(9329).then(U.t.bind(U,7783,23)))}return Promise.all(R)}().then(()=>wt(N,{exclude:["ion-tabs"],syncQueue:!0,raf:ne.er,jmp:F=>ue.runOutsideAngular(F),ael(F,Ae,xe,tt){F[C](Ae,xe,tt)},rel(F,Ae,xe,tt){F.removeEventListener(Ae,xe,tt)}}))}};let $r=(()=>{var R;class K{static forRoot(N={}){return{ngModule:K,providers:[{provide:ne.sR,useValue:N},{provide:f.hnV,useFactory:Dr,multi:!0,deps:[ne.sR,Se.qQ,f.SKi]},ne.Yq,(0,ne.YV)()]}}}return R=K,(0,d.A)(K,"\u0275fac",function(N){return new(N||R)}),(0,d.A)(K,"\u0275mod",f.$C({type:R})),(0,d.A)(K,"\u0275inj",f.G2t({providers:[Ks,Po],imports:[Se.MD]})),K})()},7935:(hn,pt,U)=>{"use strict";U.d(pt,{A:()=>d.A});var d=U(3345);d.A.registerVersion("firebase","10.13.2","app-compat")},7955:(hn,pt,U)=>{"use strict";var d=U(467),f=U(3345),J=U(7852),ne=U(1076),de=U(8041),le=U(1635),Se=U(1362);const qe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Xe=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ut=function Ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new ne.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new de.Vy("@firebase/auth");function ve(y,...h){et.logLevel<=de.$b.ERROR&&et.error(`Auth (${J.SDK_VERSION}): ${y}`,...h)}function ge(y,...h){throw $e(y,...h)}function Ie(y,...h){return $e(y,...h)}function Je(y,h,g){const A=Object.assign(Object.assign({},ut()),{[h]:g});return new ne.FA("auth","Firebase",A).create(h,{appName:y.name})}function We(y){return Je(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wt(y,h,g){if(!(h instanceof g))throw g.name!==h.constructor.name&&ge(y,"argument-error"),Je(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function $e(y,...h){if("string"!=typeof y){const g=h[0],A=[...h.slice(1)];return A[0]&&(A[0].appName=y.name),y._errorFactory.create(g,...A)}return Ze.create(y,...h)}function Me(y,h,...g){if(!y)throw $e(h,...g)}function Lt(y){const h="INTERNAL ASSERTION FAILED: "+y;throw ve(h),new Error(h)}function zt(y,h){y||Lt(h)}function an(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function en(){return"http:"===bn()||"https:"===bn()}function bn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class X{constructor(h,g){this.shortDelay=h,this.longDelay=g,zt(g>h,"Short delay should be less than long delay!"),this.isMobile=(0,ne.jZ)()||(0,ne.lV)()}get(){return function Ot(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(en()||(0,ne.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Q(y,h){zt(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return h?`${g}${h.startsWith("/")?h.slice(1):h}`:g}class re{static initialize(h,g,A){this.fetchImpl=h,g&&(this.headersImpl=g),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Lt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Lt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Lt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ne={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ft=new X(3e4,6e4);function nt(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function ze(y,h,g,A){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,d.A)(function*(y,h,g,A,j={}){return yt(y,j,(0,d.A)(function*(){let oe={},Ge={};A&&("GET"===h?Ge=A:oe={body:JSON.stringify(A)});const It=(0,ne.Am)(Object.assign({key:y.config.apiKey},Ge)).slice(1),Xt=yield y._getAdditionalHeaders();Xt["Content-Type"]="application/json",y.languageCode&&(Xt["X-Firebase-Locale"]=y.languageCode);const An=Object.assign({method:h,headers:Xt},oe);return(0,ne.c1)()||(An.referrerPolicy="no-referrer"),re.fetch()(mn(y,y.config.apiHost,g,It),An)}))})).apply(this,arguments)}function yt(y,h,g){return Et.apply(this,arguments)}function Et(){return(Et=(0,d.A)(function*(y,h,g){y._canInitEmulator=!1;const A=Object.assign(Object.assign({},Ne),h);try{const j=new Mn(y),oe=yield Promise.race([g(),j.promise]);j.clearNetworkTimeout();const Ge=yield oe.json();if("needConfirmation"in Ge)throw jt(y,"account-exists-with-different-credential",Ge);if(oe.ok&&!("errorMessage"in Ge))return Ge;{const It=oe.ok?Ge.errorMessage:Ge.error.message,[Xt,An]=It.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Xt)throw jt(y,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===Xt)throw jt(y,"email-already-in-use",Ge);if("USER_DISABLED"===Xt)throw jt(y,"user-disabled",Ge);const Vn=A[Xt]||Xt.toLowerCase().replace(/[_\s]+/g,"-");if(An)throw Je(y,Vn,An);ge(y,Vn)}}catch(j){if(j instanceof ne.g)throw j;ge(y,"network-request-failed",{message:String(j)})}})).apply(this,arguments)}function dn(y,h,g,A){return mt.apply(this,arguments)}function mt(){return(mt=(0,d.A)(function*(y,h,g,A,j={}){const oe=yield ze(y,h,g,A,j);return"mfaPendingCredential"in oe&&ge(y,"multi-factor-auth-required",{_serverResponse:oe}),oe})).apply(this,arguments)}function mn(y,h,g,A){const j=`${h}${g}?${A}`;return y.config.emulator?Q(y.config,j):`${y.config.apiScheme}://${j}`}function gn(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Mn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((g,A)=>{this.timer=setTimeout(()=>A(Ie(this.auth,"network-request-failed")),ft.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jt(y,h,g){const A={appName:y.name};g.email&&(A.email=g.email),g.phoneNumber&&(A.phoneNumber=g.phoneNumber);const j=Ie(y,h,A);return j.customData._tokenResponse=g,j}function Yt(y){return void 0!==y&&void 0!==y.getResponse}function Un(y){return void 0!==y&&void 0!==y.enterprise}class it{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const g of this.recaptchaEnforcementState)if(g.provider&&g.provider===h)return gn(g.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function Fe(){return(Fe=(0,d.A)(function*(y){return(yield ze(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function tn(y,h){return wn.apply(this,arguments)}function wn(){return(wn=(0,d.A)(function*(y,h){return ze(y,"GET","/v2/recaptchaConfig",nt(y,h))})).apply(this,arguments)}function Bn(){return(Bn=(0,d.A)(function*(y,h){return ze(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function kt(){return(kt=(0,d.A)(function*(y,h){return ze(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function sr(y,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,d.A)(function*(y,h){return ze(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function cr(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function mi(){return(mi=(0,d.A)(function*(y,h=!1){const g=(0,ne.Ku)(y),A=yield g.getIdToken(h),j=vi(A);Me(j&&j.exp&&j.auth_time&&j.iat,g.auth,"internal-error");const oe="object"==typeof j.firebase?j.firebase:void 0,Ge=null==oe?void 0:oe.sign_in_provider;return{claims:j,token:A,authTime:cr(En(j.auth_time)),issuedAtTime:cr(En(j.iat)),expirationTime:cr(En(j.exp)),signInProvider:Ge||null,signInSecondFactor:(null==oe?void 0:oe.sign_in_second_factor)||null}})).apply(this,arguments)}function En(y){return 1e3*Number(y)}function vi(y){const[h,g,A]=y.split(".");if(void 0===h||void 0===g||void 0===A)return ve("JWT malformed, contained fewer than 3 sections"),null;try{const j=(0,ne.u)(g);return j?JSON.parse(j):(ve("Failed to decode base64 JWT payload"),null)}catch(j){return ve("Caught error parsing JWT payload as JSON",null==j?void 0:j.toString()),null}}function Kn(y){const h=vi(y);return Me(h,"internal-error"),Me(typeof h.exp<"u","internal-error"),Me(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function Nn(y,h){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,d.A)(function*(y,h,g=!1){if(g)return h;try{return yield h}catch(A){throw A instanceof ne.g&&function Mr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(A)&&y.auth.currentUser===y&&(yield y.auth.signOut()),A}})).apply(this,arguments)}class Hn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var g;if(h){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const j=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(h=!1){var g=this;if(!this.isRunning)return;const A=this.getInterval(h);this.timerId=setTimeout((0,d.A)(function*(){yield g.iteration()}),A)}iteration(){var h=this;return(0,d.A)(function*(){try{yield h.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===(null==g?void 0:g.code)&&h.schedule(!0))}h.schedule()})()}}class Si{constructor(h,g){this.createdAt=h,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=cr(this.lastLoginAt),this.creationTime=cr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nr(y){return ln.apply(this,arguments)}function ln(){return(ln=(0,d.A)(function*(y){var h;const g=y.auth,A=yield y.getIdToken(),j=yield Nn(y,sr(g,{idToken:A}));Me(null==j?void 0:j.users.length,g,"internal-error");const oe=j.users[0];y._notifyReloadListener(oe);const Ge=null!==(h=oe.providerUserInfo)&&void 0!==h&&h.length?xt(oe.providerUserInfo):[],It=function at(y,h){return[...y.filter(A=>!h.some(j=>j.providerId===A.providerId)),...h]}(y.providerData,Ge),Vn=!!y.isAnonymous&&!(y.email&&oe.passwordHash||null!=It&&It.length),kn={uid:oe.localId,displayName:oe.displayName||null,photoURL:oe.photoUrl||null,email:oe.email||null,emailVerified:oe.emailVerified||!1,phoneNumber:oe.phoneNumber||null,tenantId:oe.tenantId||null,providerData:It,metadata:new Si(oe.createdAt,oe.lastLoginAt),isAnonymous:Vn};Object.assign(y,kn)})).apply(this,arguments)}function St(){return(St=(0,d.A)(function*(y){const h=(0,ne.Ku)(y);yield nr(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function xt(y){return y.map(h=>{var{providerId:g}=h,A=(0,le.Tt)(h,["providerId"]);return{providerId:g,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Rt(){return(Rt=(0,d.A)(function*(y,h){const g=yield yt(y,{},(0,d.A)(function*(){const A=(0,ne.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:j,apiKey:oe}=y.config,Ge=mn(y,j,"/v1/token",`key=${oe}`),It=yield y._getAdditionalHeaders();return It["Content-Type"]="application/x-www-form-urlencoded",re.fetch()(Ge,{method:"POST",headers:It,body:A})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}function Ee(){return(Ee=(0,d.A)(function*(y,h){return ze(y,"POST","/v2/accounts:revokeToken",nt(y,h))})).apply(this,arguments)}class Be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Me(h.idToken,"internal-error"),Me(typeof h.idToken<"u","internal-error"),Me(typeof h.refreshToken<"u","internal-error");const g="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):Kn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,g)}updateFromIdToken(h){Me(0!==h.length,"internal-error");const g=Kn(h);this.updateTokensAndExpiration(h,null,g)}getToken(h,g=!1){var A=this;return(0,d.A)(function*(){return g||!A.accessToken||A.isExpired?(Me(A.refreshToken,h,"user-token-expired"),A.refreshToken?(yield A.refresh(h,A.refreshToken),A.accessToken):null):A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,g){var A=this;return(0,d.A)(function*(){const{accessToken:j,refreshToken:oe,expiresIn:Ge}=yield function Qe(y,h){return Rt.apply(this,arguments)}(h,g);A.updateTokensAndExpiration(j,oe,Number(Ge))})()}updateTokensAndExpiration(h,g,A){this.refreshToken=g||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(h,g){const{refreshToken:A,accessToken:j,expirationTime:oe}=g,Ge=new Be;return A&&(Me("string"==typeof A,"internal-error",{appName:h}),Ge.refreshToken=A),j&&(Me("string"==typeof j,"internal-error",{appName:h}),Ge.accessToken=j),oe&&(Me("number"==typeof oe,"internal-error",{appName:h}),Ge.expirationTime=oe),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Be,this.toJSON())}_performRefresh(){return Lt("not implemented")}}function bt(y,h){Me("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class ht{constructor(h){var{uid:g,auth:A,stsTokenManager:j}=h,oe=(0,le.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=A,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=oe.displayName||null,this.email=oe.email||null,this.emailVerified=oe.emailVerified||!1,this.phoneNumber=oe.phoneNumber||null,this.photoURL=oe.photoURL||null,this.isAnonymous=oe.isAnonymous||!1,this.tenantId=oe.tenantId||null,this.providerData=oe.providerData?[...oe.providerData]:[],this.metadata=new Si(oe.createdAt||void 0,oe.lastLoginAt||void 0)}getIdToken(h){var g=this;return(0,d.A)(function*(){const A=yield Nn(g,g.stsTokenManager.getToken(g.auth,h));return Me(A,g.auth,"internal-error"),g.accessToken!==A&&(g.accessToken=A,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),A})()}getIdTokenResult(h){return function Br(y){return mi.apply(this,arguments)}(this,h)}reload(){return function si(y){return St.apply(this,arguments)}(this)}_assign(h){this!==h&&(Me(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(g=>Object.assign({},g)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const g=new ht(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(h){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,g=!1){var A=this;return(0,d.A)(function*(){let j=!1;h.idToken&&h.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(h),j=!0),g&&(yield nr(A)),yield A.auth._persistUserIfCurrent(A),j&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var h=this;return(0,d.A)(function*(){if((0,J._isFirebaseServerApp)(h.auth.app))return Promise.reject(We(h.auth));const g=yield h.getIdToken();return yield Nn(h,function er(y,h){return Bn.apply(this,arguments)}(h.auth,{idToken:g})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,g){var A,j,oe,Ge,It,Xt,An,Vn;const kn=null!==(A=g.displayName)&&void 0!==A?A:void 0,zi=null!==(j=g.email)&&void 0!==j?j:void 0,ua=null!==(oe=g.phoneNumber)&&void 0!==oe?oe:void 0,Au=null!==(Ge=g.photoURL)&&void 0!==Ge?Ge:void 0,nh=null!==(It=g.tenantId)&&void 0!==It?It:void 0,ho=null!==(Xt=g._redirectEventId)&&void 0!==Xt?Xt:void 0,Ha=null!==(An=g.createdAt)&&void 0!==An?An:void 0,Ci=null!==(Vn=g.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:nf,emailVerified:Ep,isAnonymous:rh,providerData:td,stsTokenManager:ih}=g;Me(nf&&ih,h,"internal-error");const oh=Be.fromJSON(this.name,ih);Me("string"==typeof nf,h,"internal-error"),bt(kn,h.name),bt(zi,h.name),Me("boolean"==typeof Ep,h,"internal-error"),Me("boolean"==typeof rh,h,"internal-error"),bt(ua,h.name),bt(Au,h.name),bt(nh,h.name),bt(ho,h.name),bt(Ha,h.name),bt(Ci,h.name);const Cu=new ht({uid:nf,auth:h,email:zi,emailVerified:Ep,displayName:kn,isAnonymous:rh,photoURL:Au,phoneNumber:ua,tenantId:nh,stsTokenManager:oh,createdAt:Ha,lastLoginAt:Ci});return td&&Array.isArray(td)&&(Cu.providerData=td.map(Ta=>Object.assign({},Ta))),ho&&(Cu._redirectEventId=ho),Cu}static _fromIdTokenResponse(h,g,A=!1){return(0,d.A)(function*(){const j=new Be;j.updateFromServerResponse(g);const oe=new ht({uid:g.localId,auth:h,stsTokenManager:j,isAnonymous:A});return yield nr(oe),oe})()}static _fromGetAccountInfoResponse(h,g,A){return(0,d.A)(function*(){const j=g.users[0];Me(void 0!==j.localId,"internal-error");const oe=void 0!==j.providerUserInfo?xt(j.providerUserInfo):[],Ge=!(j.email&&j.passwordHash||null!=oe&&oe.length),It=new Be;It.updateFromIdToken(A);const Xt=new ht({uid:j.localId,auth:h,stsTokenManager:It,isAnonymous:Ge}),An={uid:j.localId,displayName:j.displayName||null,photoURL:j.photoUrl||null,email:j.email||null,emailVerified:j.emailVerified||!1,phoneNumber:j.phoneNumber||null,tenantId:j.tenantId||null,providerData:oe,metadata:new Si(j.createdAt,j.lastLoginAt),isAnonymous:!(j.email&&j.passwordHash||null!=oe&&oe.length)};return Object.assign(Xt,An),Xt})()}}const vn=new Map;function In(y){zt(y instanceof Function,"Expected a class definition");let h=vn.get(y);return h?(zt(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,vn.set(y,h),h)}const Pr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.A)(function*(){return!0})()}_set(g,A){var j=this;return(0,d.A)(function*(){j.storage[g]=A})()}_get(g){var A=this;return(0,d.A)(function*(){const j=A.storage[g];return void 0===j?null:j})()}_remove(g){var A=this;return(0,d.A)(function*(){delete A.storage[g]})()}_addListener(g,A){}_removeListener(g,A){}}return y.type="NONE",y})();function ot(y,h,g){return`firebase:${y}:${h}:${g}`}class dr{constructor(h,g,A){this.persistence=h,this.auth=g,this.userKey=A;const{config:j,name:oe}=this.auth;this.fullUserKey=ot(this.userKey,j.apiKey,oe),this.fullPersistenceKey=ot("persistence",j.apiKey,oe),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,d.A)(function*(){const g=yield h.persistence._get(h.fullUserKey);return g?ht._fromJSON(h.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var g=this;return(0,d.A)(function*(){if(g.persistence===h)return;const A=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=h,A?g.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,g,A="authUser"){return(0,d.A)(function*(){if(!g.length)return new dr(In(Pr),h,A);const j=(yield Promise.all(g.map(function(){var An=(0,d.A)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return An.apply(this,arguments)}}()))).filter(An=>An);let oe=j[0]||In(Pr);const Ge=ot(A,h.config.apiKey,h.name);let It=null;for(const An of g)try{const Vn=yield An._get(Ge);if(Vn){const kn=ht._fromJSON(h,Vn);An!==oe&&(It=kn),oe=An;break}}catch{}const Xt=j.filter(An=>An._shouldAllowMigration);return oe._shouldAllowMigration&&Xt.length?(oe=Xt[0],It&&(yield oe._set(Ge,It.toJSON())),yield Promise.all(g.map(function(){var An=(0,d.A)(function*(Vn){if(Vn!==oe)try{yield Vn._remove(Ge)}catch{}});return function(Vn){return An.apply(this,arguments)}}())),new dr(oe,h,A)):new dr(oe,h,A)})()}}function Fn(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(zr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(kr(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(ai(h))return"Blackberry";if(Wi(h))return"Webos";if(Ti(h))return"Safari";if((h.includes("chrome/")||_i(h))&&!h.includes("edge/"))return"Chrome";if(Ri(h))return"Android";{const A=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==A?void 0:A.length))return A[1]}return"Other"}function kr(y=(0,ne.ZQ)()){return/firefox\//i.test(y)}function Ti(y=(0,ne.ZQ)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function _i(y=(0,ne.ZQ)()){return/crios\//i.test(y)}function zr(y=(0,ne.ZQ)()){return/iemobile/i.test(y)}function Ri(y=(0,ne.ZQ)()){return/android/i.test(y)}function ai(y=(0,ne.ZQ)()){return/blackberry/i.test(y)}function Wi(y=(0,ne.ZQ)()){return/webos/i.test(y)}function Oi(y=(0,ne.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Pe(y=(0,ne.ZQ)()){return Oi(y)||Ri(y)||Wi(y)||ai(y)||/windows phone/i.test(y)||zr(y)}function Y(y,h=[]){let g;switch(y){case"Browser":g=Fn((0,ne.ZQ)());break;case"Worker":g=`${Fn((0,ne.ZQ)())}-${y}`;break;default:g=y}const A=h.length?h.join(","):"FirebaseCore-web";return`${g}/JsCore/${J.SDK_VERSION}/${A}`}class Z{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,g){const A=oe=>new Promise((Ge,It)=>{try{Ge(h(oe))}catch(Xt){It(Xt)}});A.onAbort=g,this.queue.push(A);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(h){var g=this;return(0,d.A)(function*(){if(g.auth.currentUser===h)return;const A=[];try{for(const j of g.queue)yield j(h),j.onAbort&&A.push(j.onAbort)}catch(j){A.reverse();for(const oe of A)try{oe()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null==j?void 0:j.message})}})()}}function gt(){return(gt=(0,d.A)(function*(y,h={}){return ze(y,"GET","/v2/passwordPolicy",nt(y,h))})).apply(this,arguments)}class on{constructor(h){var g,A,j,oe;const Ge=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(g=Ge.minPasswordLength)&&void 0!==g?g:6,Ge.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=Ge.maxPasswordLength),void 0!==Ge.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=Ge.containsLowercaseCharacter),void 0!==Ge.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=Ge.containsUppercaseCharacter),void 0!==Ge.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=Ge.containsNumericCharacter),void 0!==Ge.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=Ge.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(j=null===(A=h.allowedNonAlphanumericCharacters)||void 0===A?void 0:A.join(""))&&void 0!==j?j:"",this.forceUpgradeOnSignin=null!==(oe=h.forceUpgradeOnSignin)&&void 0!==oe&&oe,this.schemaVersion=h.schemaVersion}validatePassword(h){var g,A,j,oe,Ge,It;const Xt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Xt),this.validatePasswordCharacterOptions(h,Xt),Xt.isValid&&(Xt.isValid=null===(g=Xt.meetsMinPasswordLength)||void 0===g||g),Xt.isValid&&(Xt.isValid=null===(A=Xt.meetsMaxPasswordLength)||void 0===A||A),Xt.isValid&&(Xt.isValid=null===(j=Xt.containsLowercaseLetter)||void 0===j||j),Xt.isValid&&(Xt.isValid=null===(oe=Xt.containsUppercaseLetter)||void 0===oe||oe),Xt.isValid&&(Xt.isValid=null===(Ge=Xt.containsNumericCharacter)||void 0===Ge||Ge),Xt.isValid&&(Xt.isValid=null===(It=Xt.containsNonAlphanumericCharacter)||void 0===It||It),Xt}validatePasswordLengthOptions(h,g){const A=this.customStrengthOptions.minPasswordLength,j=this.customStrengthOptions.maxPasswordLength;A&&(g.meetsMinPasswordLength=h.length>=A),j&&(g.meetsMaxPasswordLength=h.length<=j)}validatePasswordCharacterOptions(h,g){let A;this.updatePasswordCharacterOptionsStatuses(g,!1,!1,!1,!1);for(let j=0;j<h.length;j++)A=h.charAt(j),this.updatePasswordCharacterOptionsStatuses(g,A>="a"&&A<="z",A>="A"&&A<="Z",A>="0"&&A<="9",this.allowedNonAlphanumericCharacters.includes(A))}updatePasswordCharacterOptionsStatuses(h,g,A,j,oe){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=g)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=A)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=j)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=oe))}}class $n{constructor(h,g,A,j){this.app=h,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=A,this.config=j,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pi(this),this.idTokenSubscription=new pi(this),this.beforeStateQueue=new Z(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=j.sdkClientVersion}_initializeWithPersistence(h,g){var A=this;return g&&(this._popupRedirectResolver=In(g)),this._initializationPromise=this.queue((0,d.A)(function*(){var j,oe;if(!A._deleted&&(A.persistenceManager=yield dr.create(A,h),!A._deleted)){if(null!==(j=A._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(g),A.lastNotifiedUid=(null===(oe=A.currentUser)||void 0===oe?void 0:oe.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,d.A)(function*(){if(h._deleted)return;const g=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||g){if(h.currentUser&&g&&h.currentUser.uid===g.uid)return h._currentUser._assign(g),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(g,!0)}})()}initializeCurrentUserFromIdToken(h){var g=this;return(0,d.A)(function*(){try{const A=yield sr(g,{idToken:h}),j=yield ht._fromGetAccountInfoResponse(g,A,h);yield g.directlySetCurrentUser(j)}catch(A){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",A),yield g.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var g=this;return(0,d.A)(function*(){var A;if((0,J._isFirebaseServerApp)(g.app)){const It=g.app.settings.authIdToken;return It?new Promise(Xt=>{setTimeout(()=>g.initializeCurrentUserFromIdToken(It).then(Xt,Xt))}):g.directlySetCurrentUser(null)}const j=yield g.assertedPersistence.getCurrentUser();let oe=j,Ge=!1;if(h&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const It=null===(A=g.redirectUser)||void 0===A?void 0:A._redirectEventId,Xt=null==oe?void 0:oe._redirectEventId,An=yield g.tryRedirectSignIn(h);(!It||It===Xt)&&null!=An&&An.user&&(oe=An.user,Ge=!0)}if(!oe)return g.directlySetCurrentUser(null);if(!oe._redirectEventId){if(Ge)try{yield g.beforeStateQueue.runMiddleware(oe)}catch(It){oe=j,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(It))}return oe?g.reloadAndSetCurrentUserOrClear(oe):g.directlySetCurrentUser(null)}return Me(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===oe._redirectEventId?g.directlySetCurrentUser(oe):g.reloadAndSetCurrentUserOrClear(oe)})()}tryRedirectSignIn(h){var g=this;return(0,d.A)(function*(){let A=null;try{A=yield g._popupRedirectResolver._completeRedirectFn(g,h,!0)}catch{yield g._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(h){var g=this;return(0,d.A)(function*(){try{yield nr(h)}catch(A){if("auth/network-request-failed"!==(null==A?void 0:A.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function be(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,d.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var g=this;return(0,d.A)(function*(){if((0,J._isFirebaseServerApp)(g.app))return Promise.reject(We(g));const A=h?(0,ne.Ku)(h):null;return A&&Me(A.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(A&&A._clone(g))})()}_updateCurrentUser(h,g=!1){var A=this;return(0,d.A)(function*(){if(!A._deleted)return h&&Me(A.tenantId===h.tenantId,A,"tenant-id-mismatch"),g||(yield A.beforeStateQueue.runMiddleware(h)),A.queue((0,d.A)(function*(){yield A.directlySetCurrentUser(h),A.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,d.A)(function*(){return(0,J._isFirebaseServerApp)(h.app)?Promise.reject(We(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var g=this;return(0,J._isFirebaseServerApp)(this.app)?Promise.reject(We(this)):this.queue((0,d.A)(function*(){yield g.assertedPersistence.setPersistence(In(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var g=this;return(0,d.A)(function*(){g._getPasswordPolicyInternal()||(yield g._updatePasswordPolicy());const A=g._getPasswordPolicyInternal();return A.schemaVersion!==g.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(g._errorFactory.create("unsupported-password-policy-schema-version",{})):A.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,d.A)(function*(){const g=yield function ye(y){return gt.apply(this,arguments)}(h),A=new on(g);null===h.tenantId?h._projectPasswordPolicy=A:h._tenantPasswordPolicies[h.tenantId]=A})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new ne.FA("auth","Firebase",h())}onAuthStateChanged(h,g,A){return this.registerStateListener(this.authStateSubscription,h,g,A)}beforeAuthStateChanged(h,g){return this.beforeStateQueue.pushCallback(h,g)}onIdTokenChanged(h,g,A){return this.registerStateListener(this.idTokenSubscription,h,g,A)}authStateReady(){return new Promise((h,g)=>{if(this.currentUser)h();else{const A=this.onAuthStateChanged(()=>{A(),h()},g)}})}revokeAccessToken(h){var g=this;return(0,d.A)(function*(){if(g.currentUser){const A=yield g.currentUser.getIdToken(),j={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:A};null!=g.tenantId&&(j.tenantId=g.tenantId),yield function me(y,h){return Ee.apply(this,arguments)}(g,j)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,g){var A=this;return(0,d.A)(function*(){const j=yield A.getOrInitRedirectPersistenceManager(g);return null===h?j.removeCurrentUser():j.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var g=this;return(0,d.A)(function*(){if(!g.redirectPersistenceManager){const A=h&&In(h)||g._popupRedirectResolver;Me(A,g,"argument-error"),g.redirectPersistenceManager=yield dr.create(g,[In(A._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(h){var g=this;return(0,d.A)(function*(){var A,j;return g._isInitialized&&(yield g.queue((0,d.A)(function*(){}))),(null===(A=g._currentUser)||void 0===A?void 0:A._redirectEventId)===h?g._currentUser:(null===(j=g.redirectUser)||void 0===j?void 0:j._redirectEventId)===h?g.redirectUser:null})()}_persistUserIfCurrent(h){var g=this;return(0,d.A)(function*(){if(h===g.currentUser)return g.queue((0,d.A)(function*(){return g.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(g=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,g,A,j){if(this._deleted)return()=>{};const oe="function"==typeof g?g:g.next.bind(g);let Ge=!1;const It=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(It,this,"internal-error"),It.then(()=>{Ge||oe(this.currentUser)}),"function"==typeof g){const Xt=h.addObserver(g,A,j);return()=>{Ge=!0,Xt()}}{const Xt=h.addObserver(g);return()=>{Ge=!0,Xt()}}}directlySetCurrentUser(h){var g=this;return(0,d.A)(function*(){g.currentUser&&g.currentUser!==h&&g._currentUser._stopProactiveRefresh(),h&&g.isProactiveRefreshEnabled&&h._startProactiveRefresh(),g.currentUser=h,h?yield g.assertedPersistence.setCurrentUser(h):yield g.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Y(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,d.A)(function*(){var g;const A={"X-Client-Version":h.clientVersion};h.app.options.appId&&(A["X-Firebase-gmpid"]=h.app.options.appId);const j=yield null===(g=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();j&&(A["X-Firebase-Client"]=j);const oe=yield h._getAppCheckToken();return oe&&(A["X-Firebase-AppCheck"]=oe),A})()}_getAppCheckToken(){var h=this;return(0,d.A)(function*(){var g;const A=yield null===(g=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return null!=A&&A.error&&function st(y,...h){et.logLevel<=de.$b.WARN&&et.warn(`Auth (${J.SDK_VERSION}): ${y}`,...h)}(`Error while retrieving App Check token: ${A.error}`),null==A?void 0:A.token})()}}function On(y){return(0,ne.Ku)(y)}class pi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,ne.tD)(g=>this.observer=g)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ei={loadJS:()=>(0,d.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function li(y){return ei.loadJS(y)}function Ji(y){return`__${y}${Math.floor(1e6*Math.random())}`}class wo{constructor(h){this.type="recaptcha-enterprise",this.auth=On(h)}verify(h="verify",g=!1){var A=this;return(0,d.A)(function*(){function oe(){return oe=(0,d.A)(function*(It){if(!g){if(null==It.tenantId&&null!=It._agentRecaptchaConfig)return It._agentRecaptchaConfig.siteKey;if(null!=It.tenantId&&void 0!==It._tenantRecaptchaConfigs[It.tenantId])return It._tenantRecaptchaConfigs[It.tenantId].siteKey}return new Promise(function(){var Xt=(0,d.A)(function*(An,Vn){tn(It,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(kn=>{if(void 0!==kn.recaptchaKey){const zi=new it(kn);return null==It.tenantId?It._agentRecaptchaConfig=zi:It._tenantRecaptchaConfigs[It.tenantId]=zi,An(zi.siteKey)}Vn(new Error("recaptcha Enterprise site key undefined"))}).catch(kn=>{Vn(kn)})});return function(An,Vn){return Xt.apply(this,arguments)}}())}),oe.apply(this,arguments)}function Ge(It,Xt,An){const Vn=window.grecaptcha;Un(Vn)?Vn.enterprise.ready(()=>{Vn.enterprise.execute(It,{action:h}).then(kn=>{Xt(kn)}).catch(()=>{Xt("NO_RECAPTCHA")})}):An(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((It,Xt)=>{(function j(It){return oe.apply(this,arguments)})(A.auth).then(An=>{if(!g&&Un(window.grecaptcha))Ge(An,It,Xt);else{if(typeof window>"u")return void Xt(new Error("RecaptchaVerifier is only supported in browser"));let Vn=function xi(){return ei.recaptchaEnterpriseScript}();0!==Vn.length&&(Vn+=An),li(Vn).then(()=>{Ge(An,It,Xt)}).catch(kn=>{Xt(kn)})}}).catch(An=>{Xt(An)})})})()}}function Ps(y,h,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,d.A)(function*(y,h,g,A=!1){const j=new wo(y);let oe;try{oe=yield j.verify(g)}catch{oe=yield j.verify(g,!0)}const Ge=Object.assign({},h);return Object.assign(Ge,A?{captchaResp:oe}:{captchaResponse:oe}),Object.assign(Ge,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Ge,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Ge})).apply(this,arguments)}function ys(y,h,g,A){return ns.apply(this,arguments)}function ns(){return ns=(0,d.A)(function*(y,h,g,A){var j;if(null!==(j=y._getRecaptchaConfig())&&void 0!==j&&j.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const oe=yield Ps(y,h,g,"getOobCode"===g);return A(y,oe)}return A(y,h).catch(function(){var oe=(0,d.A)(function*(Ge){if("auth/missing-recaptcha-token"===Ge.code){console.log(`${g} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const It=yield Ps(y,h,g,"getOobCode"===g);return A(y,It)}return Promise.reject(Ge)});return function(Ge){return oe.apply(this,arguments)}}())}),ns.apply(this,arguments)}function rs(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function Ws(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class Gr{constructor(h,g){this.providerId=h,this.signInMethod=g}toJSON(){return Lt("not implemented")}_getIdTokenResponse(h){return Lt("not implemented")}_linkToIdToken(h,g){return Lt("not implemented")}_getReauthenticationResolver(h){return Lt("not implemented")}}function Ra(y,h){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,d.A)(function*(y,h){return ze(y,"POST","/v1/accounts:resetPassword",nt(y,h))})).apply(this,arguments)}function Ks(){return(Ks=(0,d.A)(function*(y,h){return ze(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function qr(y,h){return Po.apply(this,arguments)}function Po(){return(Po=(0,d.A)(function*(y,h){return ze(y,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Dr(){return(Dr=(0,d.A)(function*(y,h){return ze(y,"POST","/v1/accounts:update",nt(y,h))})).apply(this,arguments)}function Os(y,h){return No.apply(this,arguments)}function No(){return(No=(0,d.A)(function*(y,h){return dn(y,"POST","/v1/accounts:signInWithPassword",nt(y,h))})).apply(this,arguments)}function $r(y,h){return R.apply(this,arguments)}function R(){return(R=(0,d.A)(function*(y,h){return ze(y,"POST","/v1/accounts:sendOobCode",nt(y,h))})).apply(this,arguments)}function ue(){return(ue=(0,d.A)(function*(y,h){return $r(y,h)})).apply(this,arguments)}function N(y,h){return C.apply(this,arguments)}function C(){return(C=(0,d.A)(function*(y,h){return $r(y,h)})).apply(this,arguments)}function F(y,h){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,d.A)(function*(y,h){return $r(y,h)})).apply(this,arguments)}function tt(){return(tt=(0,d.A)(function*(y,h){return $r(y,h)})).apply(this,arguments)}function Ht(){return(Ht=(0,d.A)(function*(y,h){return dn(y,"POST","/v1/accounts:signInWithEmailLink",nt(y,h))})).apply(this,arguments)}function $t(){return($t=(0,d.A)(function*(y,h){return dn(y,"POST","/v1/accounts:signInWithEmailLink",nt(y,h))})).apply(this,arguments)}class Jt extends Gr{constructor(h,g,A,j=null){super("password",A),this._email=h,this._password=g,this._tenantId=j}static _fromEmailAndPassword(h,g){return new Jt(h,g,"password")}static _fromEmailAndCode(h,g,A=null){return new Jt(h,g,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h;if(null!=g&&g.email&&null!=g&&g.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(h){var g=this;return(0,d.A)(function*(){switch(g.signInMethod){case"password":return ys(h,{returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Os);case"emailLink":return function ct(y,h){return Ht.apply(this,arguments)}(h,{email:g._email,oobCode:g._password});default:ge(h,"internal-error")}})()}_linkToIdToken(h,g){var A=this;return(0,d.A)(function*(){switch(A.signInMethod){case"password":return ys(h,{idToken:g,returnSecureToken:!0,email:A._email,password:A._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qr);case"emailLink":return function Zt(y,h){return $t.apply(this,arguments)}(h,{idToken:g,email:A._email,oobCode:A._password});default:ge(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function cn(y,h){return yn.apply(this,arguments)}function yn(){return(yn=(0,d.A)(function*(y,h){return dn(y,"POST","/v1/accounts:signInWithIdp",nt(y,h))})).apply(this,arguments)}class xn extends Gr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const g=new xn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(g.idToken=h.idToken),h.accessToken&&(g.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(g.nonce=h.nonce),h.pendingToken&&(g.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(g.accessToken=h.oauthToken,g.secret=h.oauthTokenSecret):ge("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:j}=g,oe=(0,le.Tt)(g,["providerId","signInMethod"]);if(!A||!j)return null;const Ge=new xn(A,j);return Ge.idToken=oe.idToken||void 0,Ge.accessToken=oe.accessToken||void 0,Ge.secret=oe.secret,Ge.nonce=oe.nonce,Ge.pendingToken=oe.pendingToken||null,Ge}_getIdTokenResponse(h){return cn(h,this.buildRequest())}_linkToIdToken(h,g){const A=this.buildRequest();return A.idToken=g,cn(h,A)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,cn(h,g)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),h.postBody=(0,ne.Am)(g)}return h}}function ni(){return(ni=(0,d.A)(function*(y,h){return ze(y,"POST","/v1/accounts:sendVerificationCode",nt(y,h))})).apply(this,arguments)}function jr(){return(jr=(0,d.A)(function*(y,h){return dn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,h))})).apply(this,arguments)}function po(){return(po=(0,d.A)(function*(y,h){const g=yield dn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,h));if(g.temporaryProof)throw jt(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Ki={USER_NOT_FOUND:"user-not-found"};function Eo(){return(Eo=(0,d.A)(function*(y,h){return dn(y,"POST","/v1/accounts:signInWithPhoneNumber",nt(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Ki)})).apply(this,arguments)}class qi extends Gr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,g){return new qi({verificationId:h,verificationCode:g})}static _fromTokenResponse(h,g){return new qi({phoneNumber:h,temporaryProof:g})}_getIdTokenResponse(h){return function xr(y,h){return jr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,g){return function Fr(y,h){return po.apply(this,arguments)}(h,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Dn(y,h){return Eo.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:g,verificationId:A,verificationCode:j}=this.params;return h&&g?{temporaryProof:h,phoneNumber:g}:{sessionInfo:A,code:j}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:g,verificationCode:A,phoneNumber:j,temporaryProof:oe}=h;return A||g||j||oe?new qi({verificationId:g,verificationCode:A,phoneNumber:j,temporaryProof:oe}):null}}class Wo{constructor(h){var g,A,j,oe,Ge,It;const Xt=(0,ne.I9)((0,ne.hp)(h)),An=null!==(g=Xt.apiKey)&&void 0!==g?g:null,Vn=null!==(A=Xt.oobCode)&&void 0!==A?A:null,kn=function qs(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Xt.mode)&&void 0!==j?j:null);Me(An&&Vn&&kn,"argument-error"),this.apiKey=An,this.operation=kn,this.code=Vn,this.continueUrl=null!==(oe=Xt.continueUrl)&&void 0!==oe?oe:null,this.languageCode=null!==(Ge=Xt.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(It=Xt.tenantId)&&void 0!==It?It:null}static parseLink(h){const g=function fa(y){const h=(0,ne.I9)((0,ne.hp)(y)).link,g=h?(0,ne.I9)((0,ne.hp)(h)).deep_link_id:null,A=(0,ne.I9)((0,ne.hp)(y)).deep_link_id;return(A?(0,ne.I9)((0,ne.hp)(A)).link:null)||A||g||h||y}(h);try{return new Wo(g)}catch{return null}}}let Io=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,A){return Jt._fromEmailAndPassword(g,A)}static credentialWithLink(g,A){const j=Wo.parseLink(A);return Me(j,"argument-error"),Jt._fromEmailAndCode(g,j.code,j.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class oo{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ao extends oo{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class go extends Ao{static credentialFromJSON(h){const g="string"==typeof h?JSON.parse(h):h;return Me("providerId"in g&&"signInMethod"in g,"argument-error"),xn._fromParams(g)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Me(h.idToken||h.accessToken,"argument-error"),xn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return go.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return go.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:g,oauthAccessToken:A,oauthTokenSecret:j,pendingToken:oe,nonce:Ge,providerId:It}=h;if(!A&&!j&&!g&&!oe||!It)return null;try{return new go(It)._credential({idToken:g,accessToken:A,nonce:Ge,pendingToken:oe})}catch{return null}}}let Ma=(()=>{class y extends Ao{constructor(){super("facebook.com")}static credential(g){return xn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Li=(()=>{class y extends Ao{constructor(){super("google.com"),this.addScope("profile")}static credential(g,A){return xn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:A})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:A,oauthAccessToken:j}=g;if(!A&&!j)return null;try{return y.credential(A,j)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),xo=(()=>{class y extends Ao{constructor(){super("github.com")}static credential(g){return xn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Wr extends Gr{constructor(h,g){super(h,h),this.pendingToken=g}_getIdTokenResponse(h){return cn(h,this.buildRequest())}_linkToIdToken(h,g){const A=this.buildRequest();return A.idToken=g,cn(h,A)}_getReauthenticationResolver(h){const g=this.buildRequest();return g.autoCreate=!1,cn(h,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const g="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:j,pendingToken:oe}=g;return A&&j&&oe&&A===j?new Wr(A,oe):null}static _create(h,g){return new Wr(h,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Es extends oo{constructor(h){Me(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Es.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Es.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const g=Wr.fromJSON(h);return Me(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:g,providerId:A}=h;if(!g||!A)return null;try{return Wr._create(A,g)}catch{return null}}}let br=(()=>{class y extends Ao{constructor(){super("twitter.com")}static credential(g,A){return xn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:A})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:A,oauthTokenSecret:j}=g;if(!A||!j)return null;try{return y.credential(A,j)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Al(y,h){return yi.apply(this,arguments)}function yi(){return(yi=(0,d.A)(function*(y,h){return dn(y,"POST","/v1/accounts:signUp",nt(y,h))})).apply(this,arguments)}class qn{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,g,A,j=!1){return(0,d.A)(function*(){const oe=yield ht._fromIdTokenResponse(h,A,j),Ge=Lr(A);return new qn({user:oe,providerId:Ge,_tokenResponse:A,operationType:g})})()}static _forOperation(h,g,A){return(0,d.A)(function*(){yield h._updateTokensIfNecessary(A,!0);const j=Lr(A);return new qn({user:h,providerId:j,_tokenResponse:A,operationType:g})})()}}function Lr(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function xs(){return(xs=(0,d.A)(function*(y){var h;if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(We(y));const g=On(y);if(yield g._initializationPromise,null!==(h=g.currentUser)&&void 0!==h&&h.isAnonymous)return new qn({user:g.currentUser,providerId:null,operationType:"signIn"});const A=yield Al(g,{returnSecureToken:!0}),j=yield qn._fromIdTokenResponse(g,"signIn",A,!0);return yield g._updateCurrentUser(j.user),j})).apply(this,arguments)}class Xn extends ne.g{constructor(h,g,A,j){var oe;super(g.code,g.message),this.operationType=A,this.user=j,Object.setPrototypeOf(this,Xn.prototype),this.customData={appName:h.name,tenantId:null!==(oe=h.tenantId)&&void 0!==oe?oe:void 0,_serverResponse:g.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(h,g,A,j){return new Xn(h,g,A,j)}}function ks(y,h,g,A){return("reauthenticate"===h?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(oe=>{throw"auth/multi-factor-auth-required"===oe.code?Xn._fromErrorAndOperation(y,oe,h,A):oe})}function so(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Na(){return Na=(0,d.A)(function*(y,h){const g=(0,ne.Ku)(y);yield Ql(!0,g,h);const{providerUserInfo:A}=yield function Sn(y,h){return kt.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[h]}),j=so(A||[]);return g.providerData=g.providerData.filter(oe=>j.has(oe.providerId)),j.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),Na.apply(this,arguments)}function Kr(y,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,d.A)(function*(y,h,g=!1){const A=yield Nn(y,h._linkToIdToken(y.auth,yield y.getIdToken()),g);return qn._forOperation(y,"link",A)})).apply(this,arguments)}function Ql(y,h,g){return ju.apply(this,arguments)}function ju(){return(ju=(0,d.A)(function*(y,h,g){yield nr(h);const j=!1===y?"provider-already-linked":"no-such-provider";Me(so(h.providerData).has(g)===y,h.auth,j)})).apply(this,arguments)}function Hu(y,h){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,d.A)(function*(y,h,g=!1){const{auth:A}=y;if((0,J._isFirebaseServerApp)(A.app))return Promise.reject(We(A));const j="reauthenticate";try{const oe=yield Nn(y,ks(A,j,h,y),g);Me(oe.idToken,A,"internal-error");const Ge=vi(oe.idToken);Me(Ge,A,"internal-error");const{sub:It}=Ge;return Me(y.uid===It,A,"user-mismatch"),qn._forOperation(y,j,oe)}catch(oe){throw"auth/user-not-found"===(null==oe?void 0:oe.code)&&ge(A,"user-mismatch"),oe}})).apply(this,arguments)}function Cl(y,h){return H.apply(this,arguments)}function H(){return(H=(0,d.A)(function*(y,h,g=!1){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(We(y));const A="signIn",j=yield ks(y,A,h),oe=yield qn._fromIdTokenResponse(y,A,j);return g||(yield y._updateCurrentUser(oe.user)),oe})).apply(this,arguments)}function M(y,h){return te.apply(this,arguments)}function te(){return(te=(0,d.A)(function*(y,h){return Cl(On(y),h)})).apply(this,arguments)}function B(y,h){return se.apply(this,arguments)}function se(){return(se=(0,d.A)(function*(y,h){const g=(0,ne.Ku)(y);return yield Ql(!1,g,h.providerId),Kr(g,h)})).apply(this,arguments)}function nn(y,h){return zn.apply(this,arguments)}function zn(){return(zn=(0,d.A)(function*(y,h){return Hu((0,ne.Ku)(y),h)})).apply(this,arguments)}function Vi(){return(Vi=(0,d.A)(function*(y,h){return dn(y,"POST","/v1/accounts:signInWithCustomToken",nt(y,h))})).apply(this,arguments)}function fr(){return fr=(0,d.A)(function*(y,h){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(We(y));const g=On(y),A=yield function ui(y,h){return Vi.apply(this,arguments)}(g,{token:h,returnSecureToken:!0}),j=yield qn._fromIdTokenResponse(g,"signIn",A);return yield g._updateCurrentUser(j.user),j}),fr.apply(this,arguments)}class Xs{constructor(h,g){this.factorId=h,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(h,g){return"phoneInfo"in g?Co._fromServerResponse(h,g):"totpInfo"in g?Qs._fromServerResponse(h,g):ge(h,"internal-error")}}class Co extends Xs{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,g){return new Co(g)}}class Qs extends Xs{constructor(h){super("totp",h)}static _fromServerResponse(h,g){return new Qs(g)}}function pa(y,h,g){var A;Me((null===(A=g.url)||void 0===A?void 0:A.length)>0,y,"invalid-continue-uri"),Me(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=g.url,h.dynamicLinkDomain=g.dynamicLinkDomain,h.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(Me(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=g.iOS.bundleId),g.android&&(Me(g.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=g.android.installApp,h.androidMinimumVersionCode=g.android.minimumVersion,h.androidPackageName=g.android.packageName)}function Ys(y){return to.apply(this,arguments)}function to(){return(to=(0,d.A)(function*(y){const h=On(y);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function Fs(){return(Fs=(0,d.A)(function*(y,h,g){const A=On(y),j={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};g&&pa(A,j,g),yield ys(A,j,"getOobCode",N)})).apply(this,arguments)}function ma(){return ma=(0,d.A)(function*(y,h,g){yield Ra((0,ne.Ku)(y),{oobCode:h,newPassword:g}).catch(function(){var A=(0,d.A)(function*(j){throw"auth/password-does-not-meet-requirements"===j.code&&Ys(y),j});return function(j){return A.apply(this,arguments)}}())}),ma.apply(this,arguments)}function Jn(){return Jn=(0,d.A)(function*(y,h){yield function bi(y,h){return Dr.apply(this,arguments)}((0,ne.Ku)(y),{oobCode:h})}),Jn.apply(this,arguments)}function os(y,h){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,d.A)(function*(y,h){const g=(0,ne.Ku)(y),A=yield Ra(g,{oobCode:h}),j=A.requestType;switch(Me(j,g,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Me(A.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Me(A.mfaInfo,g,"internal-error");default:Me(A.email,g,"internal-error")}let oe=null;return A.mfaInfo&&(oe=Xs._fromServerResponse(On(g),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:oe},operation:j}})).apply(this,arguments)}function Xa(){return(Xa=(0,d.A)(function*(y,h){const{data:g}=yield os((0,ne.Ku)(y),h);return g.email})).apply(this,arguments)}function Ko(){return(Ko=(0,d.A)(function*(y,h,g){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(We(y));const A=On(y),Ge=yield ys(A,{returnSecureToken:!0,email:h,password:g,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Al).catch(Xt=>{throw"auth/password-does-not-meet-requirements"===Xt.code&&Ys(y),Xt}),It=yield qn._fromIdTokenResponse(A,"signIn",Ge);return yield A._updateCurrentUser(It.user),It})).apply(this,arguments)}function Tl(){return(Tl=(0,d.A)(function*(y,h,g){const A=On(y),j={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function oe(Ge,It){Me(It.handleCodeInApp,A,"argument-error"),It&&pa(A,Ge,It)})(j,g),yield ys(A,j,"getOobCode",F)})).apply(this,arguments)}function fo(){return(fo=(0,d.A)(function*(y,h,g){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(We(y));const A=(0,ne.Ku)(y),j=Io.credentialWithLink(h,g||an());return Me(j._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),M(A,j)})).apply(this,arguments)}function Js(){return(Js=(0,d.A)(function*(y,h){return ze(y,"POST","/v1/accounts:createAuthUri",nt(y,h))})).apply(this,arguments)}function ss(){return ss=(0,d.A)(function*(y,h){const A={identifier:h,continueUri:en()?an():"http://localhost"},{signinMethods:j}=yield function Dl(y,h){return Js.apply(this,arguments)}((0,ne.Ku)(y),A);return j||[]}),ss.apply(this,arguments)}function eu(){return eu=(0,d.A)(function*(y,h){const g=(0,ne.Ku)(y),j={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&pa(g.auth,j,h);const{email:oe}=yield function K(y,h){return ue.apply(this,arguments)}(g.auth,j);oe!==y.email&&(yield y.reload())}),eu.apply(this,arguments)}function Vr(){return Vr=(0,d.A)(function*(y,h,g){const A=(0,ne.Ku)(y),oe={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};g&&pa(A.auth,oe,g);const{email:Ge}=yield function xe(y,h){return tt.apply(this,arguments)}(A.auth,oe);Ge!==y.email&&(yield y.reload())}),Vr.apply(this,arguments)}function ea(){return(ea=(0,d.A)(function*(y,h){return ze(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function tu(){return tu=(0,d.A)(function*(y,{displayName:h,photoURL:g}){if(void 0===h&&void 0===g)return;const A=(0,ne.Ku)(y),oe={idToken:yield A.getIdToken(),displayName:h,photoUrl:g,returnSecureToken:!0},Ge=yield Nn(A,function Rd(y,h){return ea.apply(this,arguments)}(A.auth,oe));A.displayName=Ge.displayName||null,A.photoURL=Ge.photoUrl||null;const It=A.providerData.find(({providerId:Xt})=>"password"===Xt);It&&(It.displayName=A.displayName,It.photoURL=A.photoURL),yield A._updateTokensIfNecessary(Ge)}),tu.apply(this,arguments)}function Ir(y,h,g){return ko.apply(this,arguments)}function ko(){return ko=(0,d.A)(function*(y,h,g){const{auth:A}=y,oe={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(oe.email=h),g&&(oe.password=g);const Ge=yield Nn(y,function qa(y,h){return Ks.apply(this,arguments)}(A,oe));yield y._updateTokensIfNecessary(Ge,!0)}),ko.apply(this,arguments)}class ii{constructor(h,g,A={}){this.isNewUser=h,this.providerId=g,this.profile=A}}class ru extends ii{constructor(h,g,A,j){super(h,g,A),this.username=j}}class Ja extends ii{constructor(h,g){super(h,"facebook.com",g)}}class D extends ru{constructor(h,g){super(h,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class $ extends ii{constructor(h,g){super(h,"google.com",g)}}class De extends ru{constructor(h,g,A){super(h,"twitter.com",g,A)}}function V(y){const{user:h,_tokenResponse:g}=y;return h.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function nu(y){var h,g;if(!y)return null;const{providerId:A}=y,j=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},oe=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!A&&null!=y&&y.idToken){const Ge=null===(g=null===(h=vi(y.idToken))||void 0===h?void 0:h.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ge)return new ii(oe,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!A)return null;switch(A){case"facebook.com":return new Ja(oe,j);case"github.com":return new D(oe,j);case"google.com":return new $(oe,j);case"twitter.com":return new De(oe,j,y.screenName||null);case"custom":case"anonymous":return new ii(oe,null);default:return new ii(oe,A,j)}}(g)}class ao{constructor(h,g,A){this.type=h,this.credential=g,this.user=A}static _fromIdtoken(h,g){return new ao("enroll",h,g)}static _fromMfaPendingCredential(h){return new ao("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var g,A;if(null!=h&&h.multiFactorSession){if(null!==(g=h.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ao._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(A=h.multiFactorSession)&&void 0!==A&&A.idToken)return ao._fromIdtoken(h.multiFactorSession.idToken)}return null}}class vo{constructor(h,g,A){this.session=h,this.hints=g,this.signInResolver=A}static _fromError(h,g){const A=On(h),j=g.customData._serverResponse,oe=(j.mfaInfo||[]).map(It=>Xs._fromServerResponse(A,It));Me(j.mfaPendingCredential,A,"internal-error");const Ge=ao._fromMfaPendingCredential(j.mfaPendingCredential);return new vo(Ge,oe,function(){var It=(0,d.A)(function*(Xt){const An=yield Xt._process(A,Ge);delete j.mfaInfo,delete j.mfaPendingCredential;const Vn=Object.assign(Object.assign({},j),{idToken:An.idToken,refreshToken:An.refreshToken});switch(g.operationType){case"signIn":const kn=yield qn._fromIdTokenResponse(A,g.operationType,Vn);return yield A._updateCurrentUser(kn.user),kn;case"reauthenticate":return Me(g.user,A,"internal-error"),qn._forOperation(g.user,g.operationType,Vn);default:ge(A,"internal-error")}});return function(Xt){return It.apply(this,arguments)}}())}resolveSignIn(h){var g=this;return(0,d.A)(function*(){return g.signInResolver(h)})()}}class $i{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(A=>Xs._fromServerResponse(h.auth,A)))})}static _fromUser(h){return new $i(h)}getSession(){var h=this;return(0,d.A)(function*(){return ao._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,g){var A=this;return(0,d.A)(function*(){const j=h,oe=yield A.getSession(),Ge=yield Nn(A.user,j._process(A.user.auth,oe,g));return yield A.user._updateTokensIfNecessary(Ge),A.user.reload()})()}unenroll(h){var g=this;return(0,d.A)(function*(){const A="string"==typeof h?h:h.uid,j=yield g.user.getIdToken();try{const oe=yield Nn(g.user,function Rc(y,h){return ze(y,"POST","/v2/accounts/mfaEnrollment:withdraw",nt(y,h))}(g.user.auth,{idToken:j,mfaEnrollmentId:A}));g.enrolledFactors=g.enrolledFactors.filter(({uid:Ge})=>Ge!==A),yield g.user._updateTokensIfNecessary(oe),yield g.user.reload()}catch(oe){throw oe}})()}}const Cr=new WeakMap,_o="__sak";class Ls{constructor(h,g){this.storageRetriever=h,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(_o,"1"),this.storage.removeItem(_o),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,g){return this.storage.setItem(h,JSON.stringify(g)),Promise.resolve()}_get(h){const g=this.storage.getItem(h);return Promise.resolve(g?JSON.parse(g):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const wl=(()=>{class y extends Ls{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,A)=>this.onStorageEvent(g,A),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pe(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const A of Object.keys(this.listeners)){const j=this.storage.getItem(A),oe=this.localCache[A];j!==oe&&g(A,oe,j)}}onStorageEvent(g,A=!1){if(!g.key)return void this.forAllChangedKeys((It,Xt,An)=>{this.notifyListeners(It,An)});const j=g.key;A?this.detachListener():this.stopPolling();const oe=()=>{const It=this.storage.getItem(j);!A&&this.localCache[j]===It||this.notifyListeners(j,It)},Ge=this.storage.getItem(j);!function q(){return(0,ne.lT)()&&10===document.documentMode}()||Ge===g.newValue||g.newValue===g.oldValue?oe():setTimeout(oe,10)}notifyListeners(g,A){this.localCache[g]=A;const j=this.listeners[g];if(j)for(const oe of Array.from(j))oe(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,A,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:A,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,A){var j=()=>super._set,oe=this;return(0,d.A)(function*(){yield j().call(oe,g,A),oe.localCache[g]=JSON.stringify(A)})()}_get(g){var A=()=>super._get,j=this;return(0,d.A)(function*(){const oe=yield A().call(j,g);return j.localCache[g]=JSON.stringify(oe),oe})()}_remove(g){var A=()=>super._remove,j=this;return(0,d.A)(function*(){yield A().call(j,g),delete j.localCache[g]})()}}return y.type="LOCAL",y})(),Qo=(()=>{class y extends Ls{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,A){}_removeListener(g,A){}}return y.type="SESSION",y})();let lo=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const A=this.receivers.find(oe=>oe.isListeningto(g));if(A)return A;const j=new y(g);return this.receivers.push(j),j}isListeningto(g){return this.eventTarget===g}handleEvent(g){var A=this;return(0,d.A)(function*(){const j=g,{eventId:oe,eventType:Ge,data:It}=j.data,Xt=A.handlersMap[Ge];if(null==Xt||!Xt.size)return;j.ports[0].postMessage({status:"ack",eventId:oe,eventType:Ge});const An=Array.from(Xt).map(function(){var kn=(0,d.A)(function*(zi){return zi(j.origin,It)});return function(zi){return kn.apply(this,arguments)}}()),Vn=yield function iu(y){return Promise.all(y.map(function(){var h=(0,d.A)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(A){return{fulfilled:!1,reason:A}}});return function(g){return h.apply(this,arguments)}}()))}(An);j.ports[0].postMessage({status:"done",eventId:oe,eventType:Ge,response:Vn})})()}_subscribe(g,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(A)}_unsubscribe(g,A){this.handlersMap[g]&&A&&this.handlersMap[g].delete(A),(!A||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function ra(y="",h=10){let g="";for(let A=0;A<h;A++)g+=Math.floor(10*Math.random());return y+g}class el{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,g,A=50){var j=this;return(0,d.A)(function*(){const oe=typeof MessageChannel<"u"?new MessageChannel:null;if(!oe)throw new Error("connection_unavailable");let Ge,It;return new Promise((Xt,An)=>{const Vn=ra("",20);oe.port1.start();const kn=setTimeout(()=>{An(new Error("unsupported_event"))},A);It={messageChannel:oe,onMessage(zi){const ua=zi;if(ua.data.eventId===Vn)switch(ua.data.status){case"ack":clearTimeout(kn),Ge=setTimeout(()=>{An(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),Xt(ua.data.response);break;default:clearTimeout(kn),clearTimeout(Ge),An(new Error("invalid_response"))}}},j.handlers.add(It),oe.port1.addEventListener("message",It.onMessage),j.target.postMessage({eventType:h,eventId:Vn,data:g},[oe.port2])}).finally(()=>{It&&j.removeMessageHandler(It)})})()}}function uo(){return window}function Cs(){return typeof uo().WorkerGlobalScope<"u"&&"function"==typeof uo().importScripts}function ls(){return(ls=(0,d.A)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ou="firebaseLocalStorageDb",Yo="firebaseLocalStorage",Zo="fbase_key";class Sl{constructor(h){this.request=h}toPromise(){return new Promise((h,g)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Rl(y,h){return y.transaction([Yo],h?"readwrite":"readonly").objectStore(Yo)}function Ml(){const y=indexedDB.open(ou,1);return new Promise((h,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const A=y.result;try{A.createObjectStore(Yo,{keyPath:Zo})}catch(j){g(j)}}),y.addEventListener("success",(0,d.A)(function*(){const A=y.result;A.objectStoreNames.contains(Yo)?h(A):(A.close(),yield function ji(){const y=indexedDB.deleteDatabase(ou);return new Sl(y).toPromise()}(),h(yield Ml()))}))})}function ka(y,h,g){return su.apply(this,arguments)}function su(){return(su=(0,d.A)(function*(y,h,g){const A=Rl(y,!0).put({[Zo]:h,value:g});return new Sl(A).toPromise()})).apply(this,arguments)}function Ts(){return(Ts=(0,d.A)(function*(y,h){const g=Rl(y,!1).get(h),A=yield new Sl(g).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function Ku(y,h){const g=Rl(y,!0).delete(h);return new Sl(g).toPromise()}const Pl=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,d.A)(function*(){return g.db||(g.db=yield Ml()),g.db})()}_withRetries(g){var A=this;return(0,d.A)(function*(){let j=0;for(;;)try{const oe=yield A._openDb();return yield g(oe)}catch(oe){if(j++>3)throw oe;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,d.A)(function*(){return Cs()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,d.A)(function*(){g.receiver=lo._getInstance(function Nc(){return Cs()?self:null}()),g.receiver._subscribe("keyChanged",function(){var A=(0,d.A)(function*(j,oe){return{keyProcessed:(yield g._poll()).includes(oe.key)}});return function(j,oe){return A.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var A=(0,d.A)(function*(j,oe){return["keyChanged"]});return function(j,oe){return A.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,d.A)(function*(){var A,j;if(g.activeServiceWorker=yield function Yr(){return ls.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new el(g.activeServiceWorker);const oe=yield g.sender._send("ping",{},800);oe&&null!==(A=oe[0])&&void 0!==A&&A.fulfilled&&null!==(j=oe[0])&&void 0!==j&&j.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var A=this;return(0,d.A)(function*(){if(A.sender&&A.activeServiceWorker&&function kh(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:g},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.A)(function*(){try{if(!indexedDB)return!1;const g=yield Ml();return yield ka(g,_o,"1"),yield Ku(g,_o),!0}catch{}return!1})()}_withPendingWrite(g){var A=this;return(0,d.A)(function*(){A.pendingWrites++;try{yield g()}finally{A.pendingWrites--}})()}_set(g,A){var j=this;return(0,d.A)(function*(){return j._withPendingWrite((0,d.A)(function*(){return yield j._withRetries(oe=>ka(oe,g,A)),j.localCache[g]=A,j.notifyServiceWorker(g)}))})()}_get(g){var A=this;return(0,d.A)(function*(){const j=yield A._withRetries(oe=>function tl(y,h){return Ts.apply(this,arguments)}(oe,g));return A.localCache[g]=j,j})()}_remove(g){var A=this;return(0,d.A)(function*(){return A._withPendingWrite((0,d.A)(function*(){return yield A._withRetries(j=>Ku(j,g)),delete A.localCache[g],A.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,d.A)(function*(){const A=yield g._withRetries(Ge=>{const It=Rl(Ge,!1).getAll();return new Sl(It).toPromise()});if(!A)return[];if(0!==g.pendingWrites)return[];const j=[],oe=new Set;if(0!==A.length)for(const{fbase_key:Ge,value:It}of A)oe.add(Ge),JSON.stringify(g.localCache[Ge])!==JSON.stringify(It)&&(g.notifyListeners(Ge,It),j.push(Ge));for(const Ge of Object.keys(g.localCache))g.localCache[Ge]&&!oe.has(Ge)&&(g.notifyListeners(Ge,null),j.push(Ge));return j})()}notifyListeners(g,A){this.localCache[g]=A;const j=this.listeners[g];if(j)for(const oe of Array.from(j))oe(A)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,d.A)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(A)}_removeListener(g,A){this.listeners[g]&&(this.listeners[g].delete(A),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),x=1e12;class ae{constructor(h){this.auth=h,this.counter=x,this._widgets=new Map}render(h,g){const A=this.counter;return this._widgets.set(A,new fe(h,this.auth.name,g||{})),this.counter++,A}reset(h){var g;const A=h||x;null===(g=this._widgets.get(A))||void 0===g||g.delete(),this._widgets.delete(A)}getResponse(h){var g;return(null===(g=this._widgets.get(h||x))||void 0===g?void 0:g.getResponse())||""}execute(h){var g=this;return(0,d.A)(function*(){var A;return null===(A=g._widgets.get(h||x))||void 0===A||A.execute(),""})()}}class fe{constructor(h,g,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof h?document.getElementById(h):h;Me(j,"argument-error",{appName:g}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _t(y){const h=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<y;A++)h.push(g.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":g}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Kt=Ji("rcb"),Tt=new X(3e4,6e4);class Tn{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=uo().grecaptcha)||void 0===h||!h.render)}load(h,g=""){return Me(function or(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),h,"argument-error"),this.shouldResolveImmediately(g)&&Yt(uo().grecaptcha)?Promise.resolve(uo().grecaptcha):new Promise((A,j)=>{const oe=uo().setTimeout(()=>{j(Ie(h,"network-request-failed"))},Tt.get());uo()[Kt]=()=>{uo().clearTimeout(oe),delete uo()[Kt];const It=uo().grecaptcha;if(!It||!Yt(It))return void j(Ie(h,"internal-error"));const Xt=It.render;It.render=(An,Vn)=>{const kn=Xt(An,Vn);return this.counter++,kn},this.hostLanguage=g,A(It)},li(`${function Mi(){return ei.recaptchaV2Script}()}?${(0,ne.Am)({onload:Kt,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(oe),j(Ie(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var g;return!(null===(g=uo().grecaptcha)||void 0===g||!g.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xr{load(h){return(0,d.A)(function*(){return new ae(h)})()}clearedOneInstance(){}}const mr="recaptcha",ci={theme:"light",type:"image"};class Qn{constructor(h,g,A=Object.assign({},ci)){this.parameters=A,this.type=mr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=On(h),this.isInvisible="invisible"===this.parameters.size,Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof g?document.getElementById(g):g;Me(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xr:new Tn,this.validateStartingState()}verify(){var h=this;return(0,d.A)(function*(){h.assertNotDestroyed();const g=yield h.render(),A=h.getAssertedRecaptcha();return A.getResponse(g)||new Promise(oe=>{const Ge=It=>{It&&(h.tokenChangeListeners.delete(Ge),oe(It))};h.tokenChangeListeners.add(Ge),h.isInvisible&&A.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Me(!this.parameters.sitekey,this.auth,"argument-error"),Me(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Me(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return g=>{if(this.tokenChangeListeners.forEach(A=>A(g)),"function"==typeof h)h(g);else if("string"==typeof h){const A=uo()[h];"function"==typeof A&&A(g)}}}assertNotDestroyed(){Me(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,d.A)(function*(){if(yield h.init(),!h.widgetId){let g=h.container;if(!h.isInvisible){const A=document.createElement("div");g.appendChild(A),g=A}h.widgetId=h.getAssertedRecaptcha().render(g,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,d.A)(function*(){Me(en()&&!Cs(),h.auth,"internal-error"),yield function oi(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const g=yield function Te(y){return Fe.apply(this,arguments)}(h.auth);Me(g,h.auth,"internal-error"),h.parameters.sitekey=g})()}getAssertedRecaptcha(){return Me(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ui{constructor(h,g){this.verificationId=h,this.onConfirmation=g}confirm(h){const g=qi._fromVerification(this.verificationId,h);return this.onConfirmation(g)}}function hi(){return(hi=(0,d.A)(function*(y,h,g){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(We(y));const A=On(y),j=yield Fa(A,h,(0,ne.Ku)(g));return new Ui(j,oe=>M(A,oe))})).apply(this,arguments)}function Nl(){return(Nl=(0,d.A)(function*(y,h,g){const A=(0,ne.Ku)(y);yield Ql(!1,A,"phone");const j=yield Fa(A.auth,h,(0,ne.Ku)(g));return new Ui(j,oe=>B(A,oe))})).apply(this,arguments)}function va(){return(va=(0,d.A)(function*(y,h,g){const A=(0,ne.Ku)(y);if((0,J._isFirebaseServerApp)(A.auth.app))return Promise.reject(We(A.auth));const j=yield Fa(A.auth,h,(0,ne.Ku)(g));return new Ui(j,oe=>nn(A,oe))})).apply(this,arguments)}function Fa(y,h,g){return oa.apply(this,arguments)}function oa(){return oa=(0,d.A)(function*(y,h,g){var A;const j=yield g.verify();try{let oe;if(Me("string"==typeof j,y,"argument-error"),Me(g.type===mr,y,"argument-error"),oe="string"==typeof h?{phoneNumber:h}:h,"session"in oe){const Ge=oe.session;if("phoneNumber"in oe)return Me("enroll"===Ge.type,y,"internal-error"),(yield function Is(y,h){return ze(y,"POST","/v2/accounts/mfaEnrollment:start",nt(y,h))}(y,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:oe.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{Me("signin"===Ge.type,y,"internal-error");const It=(null===(A=oe.multiFactorHint)||void 0===A?void 0:A.uid)||oe.multiFactorUid;return Me(It,y,"missing-multi-factor-info"),(yield function Nd(y,h){return ze(y,"POST","/v2/accounts/mfaSignIn:start",nt(y,h))}(y,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:It,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield function Or(y,h){return ni.apply(this,arguments)}(y,{phoneNumber:oe.phoneNumber,recaptchaToken:j});return Ge}}finally{g._reset()}}),oa.apply(this,arguments)}function nl(){return(nl=(0,d.A)(function*(y,h){const g=(0,ne.Ku)(y);if((0,J._isFirebaseServerApp)(g.auth.app))return Promise.reject(We(g.auth));yield Kr(g,h)})).apply(this,arguments)}let cu=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=On(g)}verifyPhoneNumber(g,A){return Fa(this.auth,g,(0,ne.Ku)(A))}static credential(g,A){return qi._fromVerification(g,A)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:A,temporaryProof:j}=g;return A&&j?qi._fromTokenResponse(A,j):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function sa(y,h){return h?In(h):(Me(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Od extends Gr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return cn(h,this._buildIdpRequest())}_linkToIdToken(h,g){return cn(h,this._buildIdpRequest(g))}_getReauthenticationResolver(h){return cn(h,this._buildIdpRequest())}_buildIdpRequest(h){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(g.idToken=h),g}}function xd(y){return Cl(y.auth,new Od(y),y.bypassAuthState)}function pp(y){const{auth:h,user:g}=y;return Me(g,h,"internal-error"),Hu(g,new Od(y),y.bypassAuthState)}function Lh(y){return xc.apply(this,arguments)}function xc(){return(xc=(0,d.A)(function*(y){const{auth:h,user:g}=y;return Me(g,h,"internal-error"),Kr(g,new Od(y),y.bypassAuthState)})).apply(this,arguments)}class kd{constructor(h,g,A,j,oe=!1){this.auth=h,this.resolver=A,this.user=j,this.bypassAuthState=oe,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var h=this;return new Promise(function(){var g=(0,d.A)(function*(A,j){h.pendingPromise={resolve:A,reject:j};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(oe){h.reject(oe)}});return function(A,j){return g.apply(this,arguments)}}())}onAuthEvent(h){var g=this;return(0,d.A)(function*(){const{urlResponse:A,sessionId:j,postBody:oe,tenantId:Ge,error:It,type:Xt}=h;if(It)return void g.reject(It);const An={auth:g.auth,requestUri:A,sessionId:j,tenantId:Ge||void 0,postBody:oe||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Xt)(An))}catch(Vn){g.reject(Vn)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return xd;case"linkViaPopup":case"linkViaRedirect":return Lh;case"reauthViaPopup":case"reauthViaRedirect":return pp;default:ge(this.auth,"internal-error")}}resolve(h){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const La=new X(2e3,1e4);function Fc(){return(Fc=(0,d.A)(function*(y,h,g){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(Ie(y,"operation-not-supported-in-this-environment"));const A=On(y);wt(y,h,oo);const j=sa(A,g);return new Ds(A,"signInViaPopup",h,j).executeNotNull()})).apply(this,arguments)}function Vh(){return(Vh=(0,d.A)(function*(y,h,g){const A=(0,ne.Ku)(y);if((0,J._isFirebaseServerApp)(A.auth.app))return Promise.reject(Ie(A.auth,"operation-not-supported-in-this-environment"));wt(A.auth,h,oo);const j=sa(A.auth,g);return new Ds(A.auth,"reauthViaPopup",h,j,A).executeNotNull()})).apply(this,arguments)}function qu(){return(qu=(0,d.A)(function*(y,h,g){const A=(0,ne.Ku)(y);wt(A.auth,h,oo);const j=sa(A.auth,g);return new Ds(A.auth,"linkViaPopup",h,j,A).executeNotNull()})).apply(this,arguments)}let Ds=(()=>{class y extends kd{constructor(g,A,j,oe,Ge){super(g,A,oe,Ge),this.provider=j,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,d.A)(function*(){const A=yield g.execute();return Me(A,g.auth,"internal-error"),A})()}onExecution(){var g=this;return(0,d.A)(function*(){zt(1===g.filter.length,"Popup operations only handle one event");const A=ra();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],A),g.authWindow.associatedEvent=A,g.resolver._originValidation(g.auth).catch(j=>{g.reject(j)}),g.resolver._isIframeWebStorageSupported(g.auth,j=>{j||g.reject(Ie(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ie(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var A,j;this.pollId=null!==(j=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ie(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,La.get())};g()}}return y.currentPopupAction=null,y})();const Xu="pendingRedirect",_a=new Map;class du extends kd{constructor(h,g,A=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,A),this.eventId=null}execute(){var h=()=>super.execute,g=this;return(0,d.A)(function*(){let A=_a.get(g.auth._key());if(!A){try{const oe=(yield function Ol(y,h){return Lc.apply(this,arguments)}(g.resolver,g.auth))?yield h().call(g):null;A=()=>Promise.resolve(oe)}catch(j){A=()=>Promise.reject(j)}_a.set(g.auth._key(),A)}return g.bypassAuthState||_a.set(g.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(h){var g=()=>super.onAuthEvent,A=this;return(0,d.A)(function*(){if("signInViaRedirect"===h.type)return g().call(A,h);if("unknown"!==h.type){if(h.eventId){const j=yield A.auth._redirectUserForId(h.eventId);if(j)return A.user=j,g().call(A,h);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,d.A)(function*(){})()}cleanUp(){}}function Lc(){return(Lc=(0,d.A)(function*(y,h){const g=Uh(h),A=Qu(y);if(!(yield A._isAvailable()))return!1;const j="true"===(yield A._get(g));return yield A._remove(g),j})).apply(this,arguments)}function rl(y,h){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,d.A)(function*(y,h){return Qu(y)._set(Uh(h),"true")})).apply(this,arguments)}function Vc(y,h){_a.set(y._key(),h)}function Qu(y){return In(y._redirectPersistence)}function Uh(y){return ot(Xu,y.config.apiKey,y.name)}function Vd(y,h,g){return function Uc(y,h,g){return il.apply(this,arguments)}(y,h,g)}function il(){return(il=(0,d.A)(function*(y,h,g){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(We(y));const A=On(y);wt(y,h,oo),yield A._initializationPromise;const j=sa(A,g);return yield rl(j,A),j._openRedirect(A,h,"signInViaRedirect")})).apply(this,arguments)}function Ud(y,h,g){return function om(y,h,g){return Xi.apply(this,arguments)}(y,h,g)}function Xi(){return(Xi=(0,d.A)(function*(y,h,g){const A=(0,ne.Ku)(y);if(wt(A.auth,h,oo),(0,J._isFirebaseServerApp)(A.auth.app))return Promise.reject(We(A.auth));yield A.auth._initializationPromise;const j=sa(A.auth,g);yield rl(j,A.auth);const oe=yield Bh(A);return j._openRedirect(A.auth,h,"reauthViaRedirect",oe)})).apply(this,arguments)}function Bc(y,h,g){return function sm(y,h,g){return xl.apply(this,arguments)}(y,h,g)}function xl(){return(xl=(0,d.A)(function*(y,h,g){const A=(0,ne.Ku)(y);wt(A.auth,h,oo),yield A.auth._initializationPromise;const j=sa(A.auth,g);yield Ql(!1,A,h.providerId),yield rl(j,A.auth);const oe=yield Bh(A);return j._openRedirect(A.auth,h,"linkViaRedirect",oe)})).apply(this,arguments)}function hu(){return(hu=(0,d.A)(function*(y,h){return yield On(y)._initializationPromise,ol(y,h,!1)})).apply(this,arguments)}function ol(y,h){return Bd.apply(this,arguments)}function Bd(){return(Bd=(0,d.A)(function*(y,h,g=!1){if((0,J._isFirebaseServerApp)(y.app))return Promise.reject(We(y));const A=On(y),j=sa(A,h),Ge=yield new du(A,j,g).execute();return Ge&&!g&&(delete Ge.user._redirectEventId,yield A._persistUserIfCurrent(Ge.user),yield A._setRedirectUser(null,h)),Ge})).apply(this,arguments)}function Bh(y){return To.apply(this,arguments)}function To(){return(To=(0,d.A)(function*(y){const h=ra(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class kl{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let g=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(h,A)&&(g=!0,this.sendToConsumer(h,A),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Gn(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _n(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=h,g=!0)),g}sendToConsumer(h,g){var A;if(h.error&&!_n(h)){const j=(null===(A=h.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";g.onError(Ie(this.auth,j))}else g.onAuthEvent(h)}isEventForConsumer(h,g){const A=null===g.eventId||!!h.eventId&&h.eventId===g.eventId;return g.filter.includes(h.type)&&A}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Di(h))}saveEventToCache(h){this.cachedEventUids.add(Di(h)),this.lastProcessedEventTime=Date.now()}}function Di(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function _n({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===(null==h?void 0:h.code)}function Ni(y){return bs.apply(this,arguments)}function bs(){return(bs=(0,d.A)(function*(y,h={}){return ze(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Qi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,us=/^https?/;function Ii(){return(Ii=(0,d.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Ni(y);for(const g of h)try{if(wi(g))return}catch{}ge(y,"unauthorized-domain")})).apply(this,arguments)}function wi(y){const h=an(),{protocol:g,hostname:A}=new URL(h);if(y.startsWith("chrome-extension://")){const Ge=new URL(y);return""===Ge.hostname&&""===A?"chrome-extension:"===g&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===g&&Ge.hostname===A}if(!us.test(g))return!1;if(Qi.test(y))return A===y;const j=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(A)}const ya=new X(3e4,6e4);function vr(){const y=uo().___jsl;if(null!=y&&y.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let $c=null;const Hi=new X(5e3,15e3),Ua="__/auth/iframe",pu="emulator/auth/iframe",Ba={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gp(y){const h=y.config;Me(h.authDomain,y,"auth-domain-config-required");const g=h.emulator?Q(h,pu):`https://${y.config.authDomain}/${Ua}`,A={apiKey:h.apiKey,appName:y.name,v:J.SDK_VERSION},j=gu.get(y.config.apiHost);j&&(A.eid=j);const oe=y._getFrameworks();return oe.length&&(A.fw=oe.join(",")),`${g}?${(0,ne.Am)(A).slice(1)}`}function Vs(){return Vs=(0,d.A)(function*(y){const h=yield function fu(y){return $c=$c||function Zu(y){return new Promise((h,g)=>{var A,j,oe;function Ge(){vr(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{vr(),g(Ie(y,"network-request-failed"))},timeout:ya.get()})}if(null!==(j=null===(A=uo().gapi)||void 0===A?void 0:A.iframes)&&void 0!==j&&j.Iframe)h(gapi.iframes.getContext());else{if(null===(oe=uo().gapi)||void 0===oe||!oe.load){const It=Ji("iframefcb");return uo()[It]=()=>{gapi.load?Ge():g(Ie(y,"network-request-failed"))},li(`${function ti(){return ei.gapiScript}()}?onload=${It}`).catch(Xt=>g(Xt))}Ge()}}).catch(h=>{throw $c=null,h})}(y),$c}(y),g=uo().gapi;return Me(g,y,"internal-error"),h.open({where:document.body,url:gp(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ba,dontclear:!0},A=>new Promise(function(){var j=(0,d.A)(function*(oe,Ge){yield A.restyle({setHideOnLeave:!1});const It=Ie(y,"network-request-failed"),Xt=uo().setTimeout(()=>{Ge(It)},Hi.get());function An(){uo().clearTimeout(Xt),oe(A)}A.ping(An).then(An,()=>{Ge(It)})});return function(oe,Ge){return j.apply(this,arguments)}}()))}),Vs.apply(this,arguments)}const Jo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Hc{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ec="__/auth/handler",Qr="emulator/auth/handler",es=encodeURIComponent("fac");function zc(y,h,g,A,j,oe){return al.apply(this,arguments)}function al(){return(al=(0,d.A)(function*(y,h,g,A,j,oe){Me(y.config.authDomain,y,"auth-domain-config-required"),Me(y.config.apiKey,y,"invalid-api-key");const Ge={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:A,v:J.SDK_VERSION,eventId:j};if(h instanceof oo){h.setDefaultLanguage(y.languageCode),Ge.providerId=h.providerId||"",(0,ne.Im)(h.getCustomParameters())||(Ge.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Vn,kn]of Object.entries(oe||{}))Ge[Vn]=kn}if(h instanceof Ao){const Vn=h.getScopes().filter(kn=>""!==kn);Vn.length>0&&(Ge.scopes=Vn.join(","))}y.tenantId&&(Ge.tid=y.tenantId);const It=Ge;for(const Vn of Object.keys(It))void 0===It[Vn]&&delete It[Vn];const Xt=yield y._getAppCheckToken(),An=Xt?`#${es}=${encodeURIComponent(Xt)}`:"";return`${function Hd({config:y}){return y.emulator?Q(y,Qr):`https://${y.authDomain}/${ec}`}(y)}?${(0,ne.Am)(It).slice(1)}${An}`})).apply(this,arguments)}const cs="webStorageSupport",tc=class Gc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qo,this._completeRedirectFn=ol,this._overrideRedirectResult=Vc}_openPopup(h,g,A,j){var oe=this;return(0,d.A)(function*(){var Ge;zt(null===(Ge=oe.eventManagers[h._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const It=yield zc(h,g,A,an(),j);return function Ju(y,h,g,A=500,j=600){const oe=Math.max((window.screen.availHeight-j)/2,0).toString(),Ge=Math.max((window.screen.availWidth-A)/2,0).toString();let It="";const Xt=Object.assign(Object.assign({},Jo),{width:A.toString(),height:j.toString(),top:oe,left:Ge}),An=(0,ne.ZQ)().toLowerCase();g&&(It=_i(An)?"_blank":g),kr(An)&&(h=h||"http://localhost",Xt.scrollbars="yes");const Vn=Object.entries(Xt).reduce((zi,[ua,Au])=>`${zi}${ua}=${Au},`,"");if(function ee(y=(0,ne.ZQ)()){var h;return Oi(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(An)&&"_self"!==It)return function co(y,h){const g=document.createElement("a");g.href=y,g.target=h;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(A)}(h||"",It),new Hc(null);const kn=window.open(h||"",It,Vn);Me(kn,y,"popup-blocked");try{kn.focus()}catch{}return new Hc(kn)}(h,It,ra())})()}_openRedirect(h,g,A,j){var oe=this;return(0,d.A)(function*(){return yield oe._originValidation(h),function Wu(y){uo().location.href=y}(yield zc(h,g,A,an(),j)),new Promise(()=>{})})()}_initialize(h){const g=h._key();if(this.eventManagers[g]){const{manager:j,promise:oe}=this.eventManagers[g];return j?Promise.resolve(j):(zt(oe,"If manager is not set, promise should be"),oe)}const A=this.initAndGetManager(h);return this.eventManagers[g]={promise:A},A.catch(()=>{delete this.eventManagers[g]}),A}initAndGetManager(h){var g=this;return(0,d.A)(function*(){const A=yield function sl(y){return Vs.apply(this,arguments)}(h),j=new kl(h);return A.register("authEvent",oe=>(Me(null==oe?void 0:oe.authEvent,h,"invalid-auth-event"),{status:j.onEvent(oe.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[h._key()]={manager:j},g.iframes[h._key()]=A,j})()}_isIframeWebStorageSupported(h,g){this.iframes[h._key()].send(cs,{type:cs},j=>{var oe;const Ge=null===(oe=null==j?void 0:j[0])||void 0===oe?void 0:oe[cs];void 0!==Ge&&g(!!Ge),ge(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function aa(y){return Ii.apply(this,arguments)}(h)),this.originValidationPromises[g]}get _shouldInitProactively(){return Pe()||Ti()||Oi()}};class Wc{constructor(h){this.factorId=h}_process(h,g,A){switch(g.type){case"enroll":return this._finalizeEnroll(h,g.credential,A);case"signin":return this._finalizeSignIn(h,g.credential);default:return Lt("unexpected MultiFactorSessionType")}}}class Kc extends Wc{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Kc(h)}_finalizeEnroll(h,g,A){return function ta(y,h){return ze(y,"POST","/v2/accounts/mfaEnrollment:finalize",nt(y,h))}(h,{idToken:g,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,g){return function I(y,h){return ze(y,"POST","/v2/accounts/mfaSignIn:finalize",nt(y,h))}(h,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $h=(()=>{class y{constructor(){}static assertion(g){return Kc._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var jh="@firebase/auth";class i_{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var g=this;return(0,d.A)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const g=this.auth.onIdTokenChanged(A=>{h((null==A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,g),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const g=this.internalListeners.get(h);g&&(this.internalListeners.delete(h),g(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ll(){return window}(0,ne.XA)("authIdTokenMaxAge"),function Zn(y){ei=y}({loadJS:y=>new Promise((h,g)=>{const A=document.createElement("script");A.setAttribute("src",y),A.onload=h,A.onerror=j=>{const oe=Ie("internal-error");oe.customData=j,g(oe)},A.type="text/javascript",A.charset="UTF-8",function vp(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(A)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function o_(y){(0,J._registerComponent)(new Se.uA("auth",(h,{options:g})=>{const A=h.getProvider("app").getImmediate(),j=h.getProvider("heartbeat"),oe=h.getProvider("app-check-internal"),{apiKey:Ge,authDomain:It}=A.options;Me(Ge&&!Ge.includes(":"),"invalid-api-key",{appName:A.name});const Xt={apiKey:Ge,authDomain:It,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y(y)},An=new $n(A,j,oe,Xt);return function Gs(y,h){const g=(null==h?void 0:h.persistence)||[],A=(Array.isArray(g)?g:[g]).map(In);null!=h&&h.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(A,null==h?void 0:h.popupRedirectResolver)}(An,g),An},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,g,A)=>{h.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new Se.uA("auth-internal",h=>{const g=On(h.getProvider("auth").getImmediate());return new i_(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(jh,"1.7.9",function am(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,J.registerVersion)(jh,"1.7.9","esm2017")}("Browser");function vu(){return vu=(0,d.A)(function*(y,h,g){var A;const{BuildInfo:j}=ll();zt(h.sessionId,"AuthEvent did not contain a session ID");const oe=yield function Wh(y){return Gd.apply(this,arguments)}(h.sessionId),Ge={};return Oi()?Ge.ibi=j.packageName:Ri()?Ge.apn=j.packageName:ge(y,"operation-not-supported-in-this-environment"),j.displayName&&(Ge.appDisplayName=j.displayName),Ge.sessionId=oe,zc(y,g,h.type,void 0,null!==(A=h.eventId)&&void 0!==A?A:void 0,Ge)}),vu.apply(this,arguments)}function rc(){return(rc=(0,d.A)(function*(y){const{BuildInfo:h}=ll(),g={};Oi()?g.iosBundleId=h.packageName:Ri()?g.androidPackageName=h.packageName:ge(y,"operation-not-supported-in-this-environment"),yield Ni(y,g)})).apply(this,arguments)}function Qc(){return(Qc=(0,d.A)(function*(y,h,g){const{cordova:A}=ll();let j=()=>{};try{yield new Promise((oe,Ge)=>{let It=null;function Xt(){var kn;oe();const zi=null===(kn=A.plugins.browsertab)||void 0===kn?void 0:kn.close;"function"==typeof zi&&zi(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function An(){It||(It=window.setTimeout(()=>{Ge(Ie(y,"redirect-cancelled-by-user"))},2e3))}function Vn(){"visible"===(null==document?void 0:document.visibilityState)&&An()}h.addPassiveListener(Xt),document.addEventListener("resume",An,!1),Ri()&&document.addEventListener("visibilitychange",Vn,!1),j=()=>{h.removePassiveListener(Xt),document.removeEventListener("resume",An,!1),document.removeEventListener("visibilitychange",Vn,!1),It&&window.clearTimeout(It)}})}finally{j()}})).apply(this,arguments)}function Gd(){return(Gd=(0,d.A)(function*(y){const h=function Wd(y){if(zt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),g=new Uint8Array(h);for(let A=0;A<y.length;A++)g[A]=y.charCodeAt(A);return g}(y),g=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(g)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Kd extends kl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(g=>g(h)),super.onEvent(h)}initialized(){var h=this;return(0,d.A)(function*(){yield h.initPromise})()}}function _u(y){return yu.apply(this,arguments)}function yu(){return(yu=(0,d.A)(function*(y){const h=yield ul()._get(Do(y));return h&&(yield ul()._remove(Do(y))),h})).apply(this,arguments)}function Yc(){const y=[];for(let g=0;g<20;g++){const A=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(A))}return y.join("")}function ul(){return In(wl)}function Do(y){return ot("authEvent",y.config.apiKey,y.name)}function Bs(y){if(null==y||!y.includes("?"))return{};const[h,...g]=y.split("?");return(0,ne.I9)(g.join("?"))}const qh=class hm{constructor(){this._redirectPersistence=Qo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ol,this._overrideRedirectResult=Vc}_initialize(h){var g=this;return(0,d.A)(function*(){const A=h._key();let j=g.eventManagers.get(A);return j||(j=new Kd(h),g.eventManagers.set(A,j),g.attachCallbackListeners(h,j)),j})()}_openPopup(h){ge(h,"operation-not-supported-in-this-environment")}_openRedirect(h,g,A,j){var oe=this;return(0,d.A)(function*(){!function cm(y){var h,g,A,j,oe,Ge,It,Xt,An,Vn;const kn=ll();Me("function"==typeof(null===(h=null==kn?void 0:kn.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Me(typeof(null===(g=null==kn?void 0:kn.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Me("function"==typeof(null===(oe=null===(j=null===(A=null==kn?void 0:kn.cordova)||void 0===A?void 0:A.plugins)||void 0===j?void 0:j.browsertab)||void 0===oe?void 0:oe.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(Xt=null===(It=null===(Ge=null==kn?void 0:kn.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===It?void 0:It.browsertab)||void 0===Xt?void 0:Xt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Me("function"==typeof(null===(Vn=null===(An=null==kn?void 0:kn.cordova)||void 0===An?void 0:An.InAppBrowser)||void 0===Vn?void 0:Vn.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Ge=yield oe._initialize(h);yield Ge.initialized(),Ge.resetRedirect(),function im(){_a.clear()}(),yield oe._originValidation(h);const It=function Kh(y,h,g=null){return{type:h,eventId:g,urlResponse:null,sessionId:Yc(),postBody:null,tenantId:y.tenantId,error:Ie(y,"no-auth-event")}}(h,A,j);yield function Us(y,h){return ul()._set(Do(y),h)}(h,It);const Xt=yield function Xc(y,h,g){return vu.apply(this,arguments)}(h,It,g),An=yield function Gh(y){const{cordova:h}=ll();return new Promise(g=>{h.plugins.browsertab.isAvailable(A=>{let j=null;A?h.plugins.browsertab.openUrl(y):j=h.InAppBrowser.open(y,function Nt(y=(0,ne.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(j)})})}(Xt);return function zd(y,h,g){return Qc.apply(this,arguments)}(h,Ge,An)})()}_isIframeWebStorageSupported(h,g){throw new Error("Method not implemented.")}_originValidation(h){const g=h._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function _p(y){return rc.apply(this,arguments)}(h)),this.originValidationPromises[g]}attachCallbackListeners(h,g){const{universalLinks:A,handleOpenURL:j,BuildInfo:oe}=ll(),Ge=setTimeout((0,d.A)(function*(){yield _u(h),g.onEvent(Fo())}),500),It=function(){var Vn=(0,d.A)(function*(kn){clearTimeout(Ge);const zi=yield _u(h);let ua=null;zi&&null!=kn&&kn.url&&(ua=function Zr(y,h){var g,A;const j=function ic(y){const h=Bs(y),g=h.link?decodeURIComponent(h.link):void 0,A=Bs(g).link,j=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Bs(j).link||j||A||g||y}(h);if(j.includes("/__/auth/callback")){const oe=Bs(j),Ge=oe.firebaseError?function dm(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(oe.firebaseError)):null,It=null===(A=null===(g=null==Ge?void 0:Ge.code)||void 0===g?void 0:g.split("auth/"))||void 0===A?void 0:A[1],Xt=It?Ie(It):null;return Xt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Xt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:j,postBody:null}}return null}(zi,kn.url)),g.onEvent(ua||Fo())});return function(zi){return Vn.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,It);const Xt=j,An=`${oe.packageName.toLowerCase()}://`;ll().handleOpenURL=function(){var Vn=(0,d.A)(function*(kn){if(kn.toLowerCase().startsWith(An)&&It({url:kn}),"function"==typeof Xt)try{Xt(kn)}catch(zi){console.error(zi)}});return function(kn){return Vn.apply(this,arguments)}}()}};function Fo(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ie("no-auth-event")}}function $a(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Jc(y=(0,ne.ZQ)()){return!("file:"!==$a()&&"ionic:"!==$a()&&"capacitor:"!==$a()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function dl(){try{const y=self.localStorage,h=ra();if(y)return y.setItem(h,"1"),y.removeItem(h),!function Er(y=(0,ne.ZQ)()){return function Qh(){return(0,ne.lT)()&&11===(null==document?void 0:document.documentMode)}()||function cl(y=(0,ne.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,ne.zW)()}catch{return Eu()&&(0,ne.zW)()}return!1}function Eu(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function hl(){return(function qd(){return"http:"===$a()||"https:"===$a()}()||(0,ne.sr)()||Jc())&&!function Xd(){return(0,ne.lV)()||(0,ne.Ll)()}()&&dl()&&!Eu()}function Yh(){return Jc()&&typeof document<"u"}function Fl(){return(Fl=(0,d.A)(function*(){return!!Yh()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const hs={LOCAL:"local",NONE:"none",SESSION:"session"},$s=Me,Yd="persistence";function Zd(y){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,d.A)(function*(y){yield y._initializationPromise;const h=qt(),g=ot(Yd,y.config.apiKey,y.name);h&&h.setItem(g,y._getPersistence())})).apply(this,arguments)}function qt(){var y;try{return(null===(y=function Zh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Nr=Me;class fl{constructor(){this.browserResolver=In(tc),this.cordovaResolver=In(qh),this.underlyingResolver=null,this._redirectPersistence=Qo,this._completeRedirectFn=ol,this._overrideRedirectResult=Vc}_initialize(h){var g=this;return(0,d.A)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,g,A,j){var oe=this;return(0,d.A)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openPopup(h,g,A,j)})()}_openRedirect(h,g,A,j){var oe=this;return(0,d.A)(function*(){return yield oe.selectUnderlyingResolver(),oe.assertedUnderlyingResolver._openRedirect(h,g,A,j)})()}_isIframeWebStorageSupported(h,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,g)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Yh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nr(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,d.A)(function*(){if(h.underlyingResolver)return;const g=yield function Qd(){return Fl.apply(this,arguments)}();h.underlyingResolver=g?h.cordovaResolver:h.browserResolver})()}}function ed(y){return y.unwrap()}function Jd(y){return ws(y)}function ws(y){const{_tokenResponse:h}=y instanceof ne.g?y.customData:y;if(!h)return null;if(!(y instanceof ne.g)&&"temporaryProof"in h&&"phoneNumber"in h)return cu.credentialFromResult(y);const g=h.providerId;if(!g||g===qe.PASSWORD)return null;let A;switch(g){case qe.GOOGLE:A=Li;break;case qe.FACEBOOK:A=Ma;break;case qe.GITHUB:A=xo;break;case qe.TWITTER:A=br;break;default:const{oauthIdToken:j,oauthAccessToken:oe,oauthTokenSecret:Ge,pendingToken:It,nonce:Xt}=h;return oe||Ge||j||It?It?g.startsWith("saml.")?Wr._create(g,It):xn._fromParams({providerId:g,signInMethod:g,pendingToken:It,idToken:j,accessToken:oe}):new go(g).credential({idToken:j,accessToken:oe,rawNonce:Xt}):null}return y instanceof ne.g?A.credentialFromError(y):A.credentialFromResult(y)}function Lo(y,h){return h.catch(g=>{throw g instanceof ne.g&&function Vl(y,h){var g;const A=null===(g=h.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null==h?void 0:h.code))h.resolver=new u_(y,function Xo(y,h){var g;const A=(0,ne.Ku)(y),j=h;return Me(h.customData.operationType,A,"argument-error"),Me(null===(g=j.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,A,"argument-error"),vo._fromError(A,j)}(y,h));else if(A){const j=ws(h),oe=h;j&&(oe.credential=j,oe.tenantId=A.tenantId||void 0,oe.email=A.email||void 0,oe.phoneNumber=A.phoneNumber||void 0)}}(y,g),g}).then(g=>{const j=g.user;return{operationType:g.operationType,credential:Jd(g),additionalUserInfo:V(g),user:Ul.getOrCreate(j)}})}function ja(y,h){return sc.apply(this,arguments)}function sc(){return(sc=(0,d.A)(function*(y,h){const g=yield h;return{verificationId:g.verificationId,confirm:A=>Lo(y,g.confirm(A))}})).apply(this,arguments)}class u_{constructor(h,g){this.resolver=g,this.auth=function Ai(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Lo(ed(this.auth),this.resolver.resolveSignIn(h))}}class Ul{constructor(h){this._delegate=h,this.multiFactor=function Mc(y){const h=(0,ne.Ku)(y);return Cr.has(h)||Cr.set(h,$i._fromUser(h)),Cr.get(h)}(h)}static getOrCreate(h){return Ul.USER_MAP.has(h)||Ul.USER_MAP.set(h,new Ul(h)),Ul.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var g=this;return(0,d.A)(function*(){return Lo(g.auth,B(g._delegate,h))})()}linkWithPhoneNumber(h,g){var A=this;return(0,d.A)(function*(){return ja(A.auth,function au(y,h,g){return Nl.apply(this,arguments)}(A._delegate,h,g))})()}linkWithPopup(h){var g=this;return(0,d.A)(function*(){return Lo(g.auth,function Fd(y,h,g){return qu.apply(this,arguments)}(g._delegate,h,fl))})()}linkWithRedirect(h){var g=this;return(0,d.A)(function*(){return yield Zd(On(g.auth)),Bc(g._delegate,h,fl)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var g=this;return(0,d.A)(function*(){return Lo(g.auth,nn(g._delegate,h))})()}reauthenticateWithPhoneNumber(h,g){return ja(this.auth,function lu(y,h,g){return va.apply(this,arguments)}(this._delegate,h,g))}reauthenticateWithPopup(h){return Lo(this.auth,function Va(y,h,g){return Vh.apply(this,arguments)}(this._delegate,h,fl))}reauthenticateWithRedirect(h){var g=this;return(0,d.A)(function*(){return yield Zd(On(g.auth)),Ud(g._delegate,h,fl)})()}sendEmailVerification(h){return function pr(y,h){return eu.apply(this,arguments)}(this._delegate,h)}unlink(h){var g=this;return(0,d.A)(function*(){return yield function Xl(y,h){return Na.apply(this,arguments)}(g._delegate,h),g})()}updateEmail(h){return function Ya(y,h){const g=(0,ne.Ku)(y);return(0,J._isFirebaseServerApp)(g.auth.app)?Promise.reject(We(g.auth)):Ir(g,h,null)}(this._delegate,h)}updatePassword(h){return function Za(y,h){return Ir((0,ne.Ku)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function uu(y,h){return nl.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function bl(y,h){return tu.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,g){return function ur(y,h,g){return Vr.apply(this,arguments)}(this._delegate,h,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ul.USER_MAP=new WeakMap;const Iu=Me;let eh=(()=>{class y{constructor(g,A){if(this.app=g,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=g.options;Iu(j,"invalid-api-key",{appName:g.name}),Iu(j,"invalid-api-key",{appName:g.name});const oe=typeof window<"u"?fl:void 0;this._delegate=A.initialize({options:{persistence:Vo(j,g.name),popupRedirectResolver:oe}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ul.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,A){!function Ro(y,h,g){const A=On(y);Me(A._canInitEmulator,A,"emulator-config-failed"),Me(/^https?:\/\//.test(h),A,"invalid-emulator-scheme");const j=!(null==g||!g.disableWarnings),oe=rs(h),{host:Ge,port:It}=function ha(y){const h=rs(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!g)return{host:"",port:null};const A=g[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(A);if(j){const oe=j[1];return{host:oe,port:Ws(A.substr(oe.length+1))}}{const[oe,Ge]=A.split(":");return{host:oe,port:Ws(Ge)}}}(h);A.config.emulator={url:`${oe}//${Ge}${null===It?"":`:${It}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:Ge,port:It,protocol:oe.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function is(){function y(){const h=document.createElement("p"),g=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,A)}applyActionCode(g){return function xa(y,h){return Jn.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return os(this._delegate,g)}confirmPasswordReset(g,A){return function Oa(y,h,g){return ma.apply(this,arguments)}(this._delegate,g,A)}createUserWithEmailAndPassword(g,A){var j=this;return(0,d.A)(function*(){return Lo(j._delegate,function Sd(y,h,g){return Ko.apply(this,arguments)}(j._delegate,g,A))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Jl(y,h){return ss.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Zl(y,h){const g=Wo.parseLink(h);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,d.A)(function*(){Iu(hl(),g._delegate,"operation-not-supported-in-this-environment");const A=yield function Yu(y,h){return hu.apply(this,arguments)}(g._delegate,fl);return A?Lo(g._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function la(y,h){On(y)._logFramework(h)}(this._delegate,g)}onAuthStateChanged(g,A,j){const{next:oe,error:Ge,complete:It}=tf(g,A,j);return this._delegate.onAuthStateChanged(oe,Ge,It)}onIdTokenChanged(g,A,j){const{next:oe,error:Ge,complete:It}=tf(g,A,j);return this._delegate.onIdTokenChanged(oe,Ge,It)}sendSignInLinkToEmail(g,A){return function qo(y,h,g){return Tl.apply(this,arguments)}(this._delegate,g,A)}sendPasswordResetEmail(g,A){return function ga(y,h,g){return Fs.apply(this,arguments)}(this._delegate,g,A||void 0)}setPersistence(g){var A=this;return(0,d.A)(function*(){let j;switch(function Ll(y,h){$s(Object.values(hs).includes(h),y,"invalid-persistence-type"),(0,ne.lV)()?$s(h!==hs.SESSION,y,"unsupported-persistence-type"):(0,ne.Ll)()?$s(h===hs.NONE,y,"unsupported-persistence-type"):Eu()?$s(h===hs.NONE||h===hs.LOCAL&&(0,ne.zW)(),y,"unsupported-persistence-type"):$s(h===hs.NONE||dl(),y,"unsupported-persistence-type")}(A._delegate,g),g){case hs.SESSION:j=Qo;break;case hs.LOCAL:j=(yield In(Pl)._isAvailable())?Pl:wl;break;case hs.NONE:j=Pr;break;default:return ge("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Lo(this._delegate,function Pa(y){return xs.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Lo(this._delegate,M(this._delegate,g))}signInWithCustomToken(g){return Lo(this._delegate,function eo(y,h){return fr.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,A){return Lo(this._delegate,function xh(y,h,g){return(0,J._isFirebaseServerApp)(y.app)?Promise.reject(We(y)):M((0,ne.Ku)(y),Io.credential(h,g)).catch(function(){var A=(0,d.A)(function*(j){throw"auth/password-does-not-meet-requirements"===j.code&&Ys(y),j});return function(j){return A.apply(this,arguments)}}())}(this._delegate,g,A))}signInWithEmailLink(g,A){return Lo(this._delegate,function Qa(y,h,g){return fo.apply(this,arguments)}(this._delegate,g,A))}signInWithPhoneNumber(g,A){return ja(this._delegate,function no(y,h,g){return hi.apply(this,arguments)}(this._delegate,g,A))}signInWithPopup(g){var A=this;return(0,d.A)(function*(){return Iu(hl(),A._delegate,"operation-not-supported-in-this-environment"),Lo(A._delegate,function kc(y,h,g){return Fc.apply(this,arguments)}(A._delegate,g,fl))})()}signInWithRedirect(g){var A=this;return(0,d.A)(function*(){return Iu(hl(),A._delegate,"operation-not-supported-in-this-environment"),yield Zd(A._delegate),Vd(A._delegate,g,fl)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function zu(y,h){return Xa.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=hs,y})();function tf(y,h,g){let A=y;"function"!=typeof y&&({next:A,error:h,complete:g}=y);const j=A;return{next:Ge=>j(Ge&&Ul.getOrCreate(Ge)),error:h,complete:g}}function Vo(y,h){const g=function ef(y,h){const g=qt();if(!g)return[];const A=ot(Yd,y,h);switch(g.getItem(A)){case hs.NONE:return[Pr];case hs.LOCAL:return[Pl,Qo];case hs.SESSION:return[Qo];default:return[]}}(y,h);if(typeof self<"u"&&!g.includes(Pl)&&g.push(Pl),typeof window<"u")for(const A of[wl,Qo])g.includes(A)||g.push(A);return g.includes(Pr)||g.push(Pr),g}class Ia{constructor(){this.providerId="phone",this._delegate=new cu(ed(f.A.auth()))}static credential(h,g){return cu.credential(h,g)}verifyPhoneNumber(h,g){return this._delegate.verifyPhoneNumber(h,g)}unwrap(){return this._delegate}}Ia.PHONE_SIGN_IN_METHOD=cu.PHONE_SIGN_IN_METHOD,Ia.PROVIDER_ID=cu.PROVIDER_ID;const th=Me;class Aa{constructor(h,g,A=f.A.app()){var j;th(null===(j=A.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new Qn(A.auth(),h,g),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function fm(y){y.INTERNAL.registerComponent(new Se.uA("auth-compat",h=>{const g=h.getProvider("app-compat").getImmediate(),A=h.getProvider("auth");return new eh(g,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Io,FacebookAuthProvider:Ma,GithubAuthProvider:xo,GoogleAuthProvider:Li,OAuthProvider:go,SAMLAuthProvider:Es,PhoneAuthProvider:Ia,PhoneMultiFactorGenerator:$h,RecaptchaVerifier:Aa,TwitterAuthProvider:br,Auth:eh,AuthCredential:Gr,Error:ne.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.14")}(f.A)},467:(hn,pt,U)=>{"use strict";function d(J,ne,de,le,Se,Ve,qe){try{var Ce=J[Ve](qe),pe=Ce.value}catch(ke){return void de(ke)}Ce.done?ne(pe):Promise.resolve(pe).then(le,Se)}function f(J){return function(){var ne=this,de=arguments;return new Promise(function(le,Se){var Ve=J.apply(ne,de);function qe(pe){d(Ve,le,Se,qe,Ce,"next",pe)}function Ce(pe){d(Ve,le,Se,qe,Ce,"throw",pe)}qe(void 0)})}}U.d(pt,{A:()=>f})},9842:(hn,pt,U)=>{"use strict";function d(de){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(le){return typeof le}:function(le){return le&&"function"==typeof Symbol&&le.constructor===Symbol&&le!==Symbol.prototype?"symbol":typeof le})(de)}function ne(de,le,Se){return(le=function J(de){var le=function f(de,le){if("object"!=d(de)||!de)return de;var Se=de[Symbol.toPrimitive];if(void 0!==Se){var Ve=Se.call(de,le||"default");if("object"!=d(Ve))return Ve;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===le?String:Number)(de)}(de,"string");return"symbol"==d(le)?le:le+""}(le))in de?Object.defineProperty(de,le,{value:Se,enumerable:!0,configurable:!0,writable:!0}):de[le]=Se,de}U.d(pt,{A:()=>ne})},1635:(hn,pt,U)=>{"use strict";function ne(X,Q){var re={};for(var Ne in X)Object.prototype.hasOwnProperty.call(X,Ne)&&Q.indexOf(Ne)<0&&(re[Ne]=X[Ne]);if(null!=X&&"function"==typeof Object.getOwnPropertySymbols){var ft=0;for(Ne=Object.getOwnPropertySymbols(X);ft<Ne.length;ft++)Q.indexOf(Ne[ft])<0&&Object.prototype.propertyIsEnumerable.call(X,Ne[ft])&&(re[Ne[ft]]=X[Ne[ft]])}return re}function de(X,Q,re,Ne){var ze,ft=arguments.length,nt=ft<3?Q:null===Ne?Ne=Object.getOwnPropertyDescriptor(Q,re):Ne;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)nt=Reflect.decorate(X,Q,re,Ne);else for(var Pt=X.length-1;Pt>=0;Pt--)(ze=X[Pt])&&(nt=(ft<3?ze(nt):ft>3?ze(Q,re,nt):ze(Q,re))||nt);return ft>3&&nt&&Object.defineProperty(Q,re,nt),nt}function ke(X,Q,re,Ne){return new(re||(re=Promise))(function(nt,ze){function Pt(dn){try{Et(Ne.next(dn))}catch(mt){ze(mt)}}function yt(dn){try{Et(Ne.throw(dn))}catch(mt){ze(mt)}}function Et(dn){dn.done?nt(dn.value):function ft(nt){return nt instanceof re?nt:new re(function(ze){ze(nt)})}(dn.value).then(Pt,yt)}Et((Ne=Ne.apply(X,Q||[])).next())})}function ve(X){return this instanceof ve?(this.v=X,this):new ve(X)}function ge(X,Q,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ft,Ne=re.apply(X,Q||[]),nt=[];return ft=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),Pt("next"),Pt("throw"),Pt("return",function ze(gn){return function(Mn){return Promise.resolve(Mn).then(gn,mt)}}),ft[Symbol.asyncIterator]=function(){return this},ft;function Pt(gn,Mn){Ne[gn]&&(ft[gn]=function(jt){return new Promise(function(Yt,Un){nt.push([gn,jt,Yt,Un])>1||yt(gn,jt)})},Mn&&(ft[gn]=Mn(ft[gn])))}function yt(gn,Mn){try{!function Et(gn){gn.value instanceof ve?Promise.resolve(gn.value.v).then(dn,mt):mn(nt[0][2],gn)}(Ne[gn](Mn))}catch(jt){mn(nt[0][3],jt)}}function dn(gn){yt("next",gn)}function mt(gn){yt("throw",gn)}function mn(gn,Mn){gn(Mn),nt.shift(),nt.length&&yt(nt[0][0],nt[0][1])}}function Je(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,Q=X[Symbol.asyncIterator];return Q?Q.call(X):(X=function ut(X){var Q="function"==typeof Symbol&&Symbol.iterator,re=Q&&X[Q],Ne=0;if(re)return re.call(X);if(X&&"number"==typeof X.length)return{next:function(){return X&&Ne>=X.length&&(X=void 0),{value:X&&X[Ne++],done:!X}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(X),re={},Ne("next"),Ne("throw"),Ne("return"),re[Symbol.asyncIterator]=function(){return this},re);function Ne(nt){re[nt]=X[nt]&&function(ze){return new Promise(function(Pt,yt){!function ft(nt,ze,Pt,yt){Promise.resolve(yt).then(function(Et){nt({value:Et,done:Pt})},ze)}(Pt,yt,(ze=X[nt](ze)).done,ze.value)})}}}U.d(pt,{AQ:()=>ge,Cg:()=>de,N3:()=>ve,Tt:()=>ne,sH:()=>ke,xN:()=>Je}),"function"==typeof SuppressedError&&SuppressedError}},hn=>{hn(hn.s=2111)}]);