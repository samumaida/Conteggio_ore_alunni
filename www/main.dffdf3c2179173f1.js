(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(St,Ke,b)=>{"use strict";b.d(Ke,{Am:()=>Sn,Bd:()=>Ie,FA:()=>We,Fy:()=>Se,I9:()=>mn,Im:()=>ze,Ku:()=>$t,Ll:()=>Ye,T9:()=>we,Uj:()=>de,XA:()=>ce,ZQ:()=>Le,bD:()=>Zt,c1:()=>ht,cY:()=>oe,eX:()=>Ce,g:()=>ft,gR:()=>Bt,hp:()=>Ut,jZ:()=>Re,lT:()=>it,lV:()=>xt,mS:()=>le,nr:()=>j,p7:()=>rt,sr:()=>Et,tD:()=>dr,u:()=>ie,zW:()=>Z,zw:()=>ue});const B=function(Be){const Ue=[];let Qe=0;for(let Rt=0;Rt<Be.length;Rt++){let yt=Be.charCodeAt(Rt);yt<128?Ue[Qe++]=yt:yt<2048?(Ue[Qe++]=yt>>6|192,Ue[Qe++]=63&yt|128):55296==(64512&yt)&&Rt+1<Be.length&&56320==(64512&Be.charCodeAt(Rt+1))?(yt=65536+((1023&yt)<<10)+(1023&Be.charCodeAt(++Rt)),Ue[Qe++]=yt>>18|240,Ue[Qe++]=yt>>12&63|128,Ue[Qe++]=yt>>6&63|128,Ue[Qe++]=63&yt|128):(Ue[Qe++]=yt>>12|224,Ue[Qe++]=yt>>6&63|128,Ue[Qe++]=63&yt|128)}return Ue},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Be,Ue){if(!Array.isArray(Be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Qe=Ue?this.byteToCharMapWebSafe_:this.byteToCharMap_,Rt=[];for(let yt=0;yt<Be.length;yt+=3){const _n=Be[yt],pn=yt+1<Be.length,Dr=pn?Be[yt+1]:0,pt=yt+2<Be.length,nr=pt?Be[yt+2]:0;let Rr=(15&Dr)<<2|nr>>6,Yr=63&nr;pt||(Yr=64,pn||(Rr=64)),Rt.push(Qe[_n>>2],Qe[(3&_n)<<4|Dr>>4],Qe[Rr],Qe[Yr])}return Rt.join("")},encodeString(Be,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?btoa(Be):this.encodeByteArray(B(Be),Ue)},decodeString(Be,Ue){return this.HAS_NATIVE_SUPPORT&&!Ue?atob(Be):function(Be){const Ue=[];let Qe=0,Rt=0;for(;Qe<Be.length;){const yt=Be[Qe++];if(yt<128)Ue[Rt++]=String.fromCharCode(yt);else if(yt>191&&yt<224){const _n=Be[Qe++];Ue[Rt++]=String.fromCharCode((31&yt)<<6|63&_n)}else if(yt>239&&yt<365){const pt=((7&yt)<<18|(63&Be[Qe++])<<12|(63&Be[Qe++])<<6|63&Be[Qe++])-65536;Ue[Rt++]=String.fromCharCode(55296+(pt>>10)),Ue[Rt++]=String.fromCharCode(56320+(1023&pt))}else{const _n=Be[Qe++],pn=Be[Qe++];Ue[Rt++]=String.fromCharCode((15&yt)<<12|(63&_n)<<6|63&pn)}}return Ue.join("")}(this.decodeStringToByteArray(Be,Ue))},decodeStringToByteArray(Be,Ue){this.init_();const Qe=Ue?this.charToByteMapWebSafe_:this.charToByteMap_,Rt=[];for(let yt=0;yt<Be.length;){const _n=Qe[Be.charAt(yt++)],Dr=yt<Be.length?Qe[Be.charAt(yt)]:0;++yt;const nr=yt<Be.length?Qe[Be.charAt(yt)]:64;++yt;const $n=yt<Be.length?Qe[Be.charAt(yt)]:64;if(++yt,null==_n||null==Dr||null==nr||null==$n)throw new ge;Rt.push(_n<<2|Dr>>4),64!==nr&&(Rt.push(Dr<<4&240|nr>>2),64!==$n&&Rt.push(nr<<6&192|$n))}return Rt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Be=0;Be<this.ENCODED_VALS.length;Be++)this.byteToCharMap_[Be]=this.ENCODED_VALS.charAt(Be),this.charToByteMap_[this.byteToCharMap_[Be]]=Be,this.byteToCharMapWebSafe_[Be]=this.ENCODED_VALS_WEBSAFE.charAt(Be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Be]]=Be,Be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Be)]=Be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Be)]=Be)}}};class ge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const de=function(Be){return function(Be){const Ue=B(Be);return ne.encodeByteArray(Ue,!0)}(Be).replace(/\./g,"")},ie=function(Be){try{return ne.decodeString(Be,!0)}catch(Ue){console.error("base64Decode failed: ",Ue)}return null};function ue(Be,Ue){if(!(Ue instanceof Object))return Ue;switch(Ue.constructor){case Date:return new Date(Ue.getTime());case Object:void 0===Be&&(Be={});break;case Array:Be=[];break;default:return Ue}for(const Qe in Ue)!Ue.hasOwnProperty(Qe)||!z(Qe)||(Be[Qe]=ue(Be[Qe],Ue[Qe]));return Be}function z(Be){return"__proto__"!==Be}function le(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const q=()=>{try{return le().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Be=process.env.__FIREBASE_DEFAULTS__;return Be?JSON.parse(Be):void 0})()||(()=>{if(typeof document>"u")return;let Be;try{Be=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Ue=Be&&ie(Be[1]);return Ue&&JSON.parse(Ue)})()}catch(Be){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Be}`)}},we=()=>{var Be;return null===(Be=q())||void 0===Be?void 0:Be.config},ce=Be=>{var Ue;return null===(Ue=q())||void 0===Ue?void 0:Ue[`_${Be}`]};class oe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ue,Qe)=>{this.resolve=Ue,this.reject=Qe})}wrapCallback(Ue){return(Qe,Rt)=>{Qe?this.reject(Qe):this.resolve(Rt),"function"==typeof Ue&&(this.promise.catch(()=>{}),1===Ue.length?Ue(Qe):Ue(Qe,Rt))}}}function Se(Be,Ue){if(Be.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Rt=Ue||"demo-project",yt=Be.iat||0,_n=Be.sub||Be.user_id;if(!_n)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const pn=Object.assign({iss:`https://securetoken.google.com/${Rt}`,aud:Rt,iat:yt,exp:yt+3600,auth_time:yt,sub:_n,user_id:_n,firebase:{sign_in_provider:"custom",identities:{}}},Be);return[de(JSON.stringify({alg:"none",type:"JWT"})),de(JSON.stringify(pn)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Re(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function Ye(){var Be;const Ue=null===(Be=q())||void 0===Be?void 0:Be.forceEnvironment;if("node"===Ue)return!0;if("browser"===Ue)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ie(){return typeof window<"u"||rt()}function rt(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ht(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function Et(){const Be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Be&&void 0!==Be.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){const Be=Le();return Be.indexOf("MSIE ")>=0||Be.indexOf("Trident/")>=0}function j(){return!Ye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Z(){try{return"object"==typeof indexedDB}catch{return!1}}function Ce(){return new Promise((Be,Ue)=>{try{let Qe=!0;const Rt="validate-browser-context-for-indexeddb-analytics-module",yt=self.indexedDB.open(Rt);yt.onsuccess=()=>{yt.result.close(),Qe||self.indexedDB.deleteDatabase(Rt),Be(!0)},yt.onupgradeneeded=()=>{Qe=!1},yt.onerror=()=>{var _n;Ue((null===(_n=yt.error)||void 0===_n?void 0:_n.message)||"")}}catch(Qe){Ue(Qe)}})}class ft extends Error{constructor(Ue,Qe,Rt){super(Qe),this.code=Ue,this.customData=Rt,this.name="FirebaseError",Object.setPrototypeOf(this,ft.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,We.prototype.create)}}class We{constructor(Ue,Qe,Rt){this.service=Ue,this.serviceName=Qe,this.errors=Rt}create(Ue,...Qe){const Rt=Qe[0]||{},yt=`${this.service}/${Ue}`,_n=this.errors[Ue],pn=_n?function en(Be,Ue){return Be.replace(Ot,(Qe,Rt)=>{const yt=Ue[Rt];return null!=yt?String(yt):`<${Rt}?>`})}(_n,Rt):"Error";return new ft(yt,`${this.serviceName}: ${pn} (${yt}).`,Rt)}}const Ot=/\{\$([^}]+)}/g;function Bt(Be,Ue){return Object.prototype.hasOwnProperty.call(Be,Ue)}function ze(Be){for(const Ue in Be)if(Object.prototype.hasOwnProperty.call(Be,Ue))return!1;return!0}function Zt(Be,Ue){if(Be===Ue)return!0;const Qe=Object.keys(Be),Rt=Object.keys(Ue);for(const yt of Qe){if(!Rt.includes(yt))return!1;const _n=Be[yt],pn=Ue[yt];if(In(_n)&&In(pn)){if(!Zt(_n,pn))return!1}else if(_n!==pn)return!1}for(const yt of Rt)if(!Qe.includes(yt))return!1;return!0}function In(Be){return null!==Be&&"object"==typeof Be}function Sn(Be){const Ue=[];for(const[Qe,Rt]of Object.entries(Be))Array.isArray(Rt)?Rt.forEach(yt=>{Ue.push(encodeURIComponent(Qe)+"="+encodeURIComponent(yt))}):Ue.push(encodeURIComponent(Qe)+"="+encodeURIComponent(Rt));return Ue.length?"&"+Ue.join("&"):""}function mn(Be){const Ue={};return Be.replace(/^\?/,"").split("&").forEach(Rt=>{if(Rt){const[yt,_n]=Rt.split("=");Ue[decodeURIComponent(yt)]=decodeURIComponent(_n)}}),Ue}function Ut(Be){const Ue=Be.indexOf("?");if(!Ue)return"";const Qe=Be.indexOf("#",Ue);return Be.substring(Ue,Qe>0?Qe:void 0)}function dr(Be,Ue){const Qe=new hr(Be,Ue);return Qe.subscribe.bind(Qe)}class hr{constructor(Ue,Qe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Qe,this.task.then(()=>{Ue(this)}).catch(Rt=>{this.error(Rt)})}next(Ue){this.forEachObserver(Qe=>{Qe.next(Ue)})}error(Ue){this.forEachObserver(Qe=>{Qe.error(Ue)}),this.close(Ue)}complete(){this.forEachObserver(Ue=>{Ue.complete()}),this.close()}subscribe(Ue,Qe,Rt){let yt;if(void 0===Ue&&void 0===Qe&&void 0===Rt)throw new Error("Missing Observer.");yt=function Er(Be,Ue){if("object"!=typeof Be||null===Be)return!1;for(const Qe of Ue)if(Qe in Be&&"function"==typeof Be[Qe])return!0;return!1}(Ue,["next","error","complete"])?Ue:{next:Ue,error:Qe,complete:Rt},void 0===yt.next&&(yt.next=Mn),void 0===yt.error&&(yt.error=Mn),void 0===yt.complete&&(yt.complete=Mn);const _n=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?yt.error(this.finalError):yt.complete()}catch{}}),this.observers.push(yt),_n}unsubscribeOne(Ue){void 0===this.observers||void 0===this.observers[Ue]||(delete this.observers[Ue],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ue){if(!this.finalized)for(let Qe=0;Qe<this.observers.length;Qe++)this.sendOne(Qe,Ue)}sendOne(Ue,Qe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ue])try{Qe(this.observers[Ue])}catch(Rt){typeof console<"u"&&console.error&&console.error(Rt)}})}close(Ue){this.finalized||(this.finalized=!0,void 0!==Ue&&(this.finalError=Ue),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Mn(){}function $t(Be){return Be&&Be._delegate?Be._delegate:Be}},4442:(St,Ke,b)=>{"use strict";b.d(Ke,{L:()=>ae,a:()=>ne,b:()=>ge,c:()=>G,d:()=>de,g:()=>it}),b(5531);const ae="ionViewWillEnter",ne="ionViewDidEnter",ge="ionViewWillLeave",G="ionViewDidLeave",de="ionViewWillUnload",it=Me=>Me.classList.contains("ion-page")?Me:Me.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||Me},5531:(St,Ke,b)=>{"use strict";b.d(Ke,{a:()=>ie,c:()=>x,g:()=>de});class a{constructor(){this.m=new Map}reset(Me){this.m=new Map(Object.entries(Me))}get(Me,V){const j=this.m.get(Me);return void 0!==j?j:V}getBoolean(Me,V=!1){const j=this.m.get(Me);return void 0===j?V:"string"==typeof j?"true"===j:!!j}getNumber(Me,V){const j=parseFloat(this.m.get(Me));return isNaN(j)?void 0!==V?V:NaN:j}set(Me,V){this.m.set(Me,V)}}const x=new a,de=it=>F(it),ie=(it,Me)=>("string"==typeof it&&(Me=it,it=void 0),de(it).includes(Me)),F=(it=window)=>{if(typeof it>"u")return[];it.Ionic=it.Ionic||{};let Me=it.Ionic.platforms;return null==Me&&(Me=it.Ionic.platforms=ue(it),Me.forEach(V=>it.document.documentElement.classList.add(`plt-${V}`))),Me},ue=it=>{const Me=x.get("platform");return Object.keys(ht).filter(V=>{const j=Me?.[V];return"function"==typeof j?j(it):ht[V](it)})},le=it=>!!(Ie(it,/iPad/i)||Ie(it,/Macintosh/i)&&we(it)),De=it=>Ie(it,/android|sink/i),we=it=>rt(it,"(any-pointer:coarse)"),oe=it=>Se(it)||Le(it),Se=it=>!!(it.cordova||it.phonegap||it.PhoneGap),Le=it=>{const Me=it.Capacitor;return!!Me?.isNative},Ie=(it,Me)=>Me.test(it.navigator.userAgent),rt=(it,Me)=>{var V;return null===(V=it.matchMedia)||void 0===V?void 0:V.call(it,Me).matches},ht={ipad:le,iphone:it=>Ie(it,/iPhone/i),ios:it=>Ie(it,/iPhone|iPod/i)||le(it),android:De,phablet:it=>{const Me=it.innerWidth,V=it.innerHeight,j=Math.min(Me,V),Z=Math.max(Me,V);return j>390&&j<520&&Z>620&&Z<800},tablet:it=>{const Me=it.innerWidth,V=it.innerHeight,j=Math.min(Me,V),Z=Math.max(Me,V);return le(it)||(it=>De(it)&&!Ie(it,/mobile/i))(it)||j>460&&j<820&&Z>780&&Z<1400},cordova:Se,capacitor:Le,electron:it=>Ie(it,/electron/i),pwa:it=>{var Me;return!!(null!==(Me=it.matchMedia)&&void 0!==Me&&Me.call(it,"(display-mode: standalone)").matches||it.navigator.standalone)},mobile:we,mobileweb:it=>we(it)&&!oe(it),desktop:it=>!we(it),hybrid:oe}},9986:(St,Ke,b)=>{"use strict";b.d(Ke,{c:()=>ne});var a=b(8476);let x;const B=(ge,G,de)=>{const ie=G.startsWith("animation")?(ge=>(void 0===x&&(x=void 0===ge.style.animationName&&void 0!==ge.style.webkitAnimationName?"-webkit-":""),x))(ge):"";ge.style.setProperty(ie+G,de)},ae=(ge=[],G)=>{if(void 0!==G){const de=Array.isArray(G)?G:[G];return[...ge,...de]}return ge},ne=ge=>{let G,de,ie,F,ue,z,q,Re,Ye,Ie,xt,le=[],fe=[],xe=[],De=!1,ve={},W=[],we=[],ce={},oe=0,Se=!1,Le=!1,rt=!0,ht=!1,Et=!0,jt=!1;const it=ge,Me=[],V=[],j=[],Z=[],Ce=[],ut=[],Fe=[],ft=[],We=[],en=[],Ot=[],gt="function"==typeof AnimationEffect||void 0!==a.w&&"function"==typeof a.w.AnimationEffect,Jt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&gt,yn=()=>Ot,Bt=(Ne,at)=>{const Lt=at.findIndex(ln=>ln.c===Ne);Lt>-1&&at.splice(Lt,1)},ze=(Ne,at)=>((at?.oneTimeCallback?V:Me).push({c:Ne,o:at}),xt),Zt=()=>{Jt&&(Ot.forEach(Ne=>{Ne.cancel()}),Ot.length=0)},In=()=>{ut.forEach(Ne=>{Ne?.parentNode&&Ne.parentNode.removeChild(Ne)}),ut.length=0},xn=()=>void 0!==ue?ue:q?q.getFill():"both",sn=()=>void 0!==Re?Re:void 0!==z?z:q?q.getDirection():"normal",Qr=()=>Se?"linear":void 0!==ie?ie:q?q.getEasing():"linear",Pn=()=>Le?0:void 0!==Ye?Ye:void 0!==de?de:q?q.getDuration():0,Xr=()=>void 0!==F?F:q?q.getIterations():1,ar=()=>void 0!==Ie?Ie:void 0!==G?G:q?q.getDelay():0,pn=()=>{0!==oe&&(oe--,0===oe&&((()=>{We.forEach(Fn=>Fn()),en.forEach(Fn=>Fn());const Ne=rt?1:0,at=W,Lt=we,ln=ce;Z.forEach(Fn=>{const fr=Fn.classList;at.forEach(Xn=>fr.add(Xn)),Lt.forEach(Xn=>fr.remove(Xn));for(const Xn in ln)ln.hasOwnProperty(Xn)&&B(Fn,Xn,ln[Xn])}),Ye=void 0,Re=void 0,Ie=void 0,Me.forEach(Fn=>Fn.c(Ne,xt)),V.forEach(Fn=>Fn.c(Ne,xt)),V.length=0,Et=!0,rt&&(ht=!0),rt=!0})(),q&&q.animationFinish()))},pt=()=>{(()=>{Fe.forEach(ln=>ln()),ft.forEach(ln=>ln());const Ne=fe,at=xe,Lt=ve;Z.forEach(ln=>{const Fn=ln.classList;Ne.forEach(fr=>Fn.add(fr)),at.forEach(fr=>Fn.remove(fr));for(const fr in Lt)Lt.hasOwnProperty(fr)&&B(ln,fr,Lt[fr])})})(),le.length>0&&Jt&&(Z.forEach(Ne=>{const at=Ne.animate(le,{id:it,delay:ar(),duration:Pn(),easing:Qr(),iterations:Xr(),fill:xn(),direction:sn()});at.pause(),Ot.push(at)}),Ot.length>0&&(Ot[0].onfinish=()=>{pn()})),De=!0},nr=Ne=>{Ne=Math.min(Math.max(Ne,0),.9999),Jt&&Ot.forEach(at=>{at.currentTime=at.effect.getComputedTiming().delay+Pn()*Ne,at.pause()})},qn=Ne=>{Ot.forEach(at=>{at.effect.updateTiming({delay:ar(),duration:Pn(),easing:Qr(),iterations:Xr(),fill:xn(),direction:sn()})}),void 0!==Ne&&nr(Ne)},$n=(Ne=!1,at=!0,Lt)=>(Ne&&Ce.forEach(ln=>{ln.update(Ne,at,Lt)}),Jt&&qn(Lt),xt),Ri=()=>{De&&(Jt?Ot.forEach(Ne=>{Ne.pause()}):Z.forEach(Ne=>{B(Ne,"animation-play-state","paused")}),jt=!0)},_e=Ne=>new Promise(at=>{Ne?.sync&&(Le=!0,ze(()=>Le=!1,{oneTimeCallback:!0})),De||pt(),ht&&(Jt&&(nr(0),qn()),ht=!1),Et&&(oe=Ce.length+1,Et=!1);const Lt=()=>{Bt(ln,V),at()},ln=()=>{Bt(Lt,j),at()};ze(ln,{oneTimeCallback:!0}),(Ne=>{j.push({c:Ne,o:{oneTimeCallback:!0}})})(Lt),Ce.forEach(Fn=>{Fn.play()}),Jt?(Ot.forEach(Ne=>{Ne.play()}),(0===le.length||0===Z.length)&&pn()):pn(),jt=!1}),H=(Ne,at)=>{const Lt=le[0];return void 0===Lt||void 0!==Lt.offset&&0!==Lt.offset?le=[{offset:0,[Ne]:at},...le]:Lt[Ne]=at,xt};return xt={parentAnimation:q,elements:Z,childAnimations:Ce,id:it,animationFinish:pn,from:H,to:(Ne,at)=>{const Lt=le[le.length-1];return void 0===Lt||void 0!==Lt.offset&&1!==Lt.offset?le=[...le,{offset:1,[Ne]:at}]:Lt[Ne]=at,xt},fromTo:(Ne,at,Lt)=>H(Ne,at).to(Ne,Lt),parent:Ne=>(q=Ne,xt),play:_e,pause:()=>(Ce.forEach(Ne=>{Ne.pause()}),Ri(),xt),stop:()=>{Ce.forEach(Ne=>{Ne.stop()}),De&&(Zt(),De=!1),Se=!1,Le=!1,Et=!0,Re=void 0,Ye=void 0,Ie=void 0,oe=0,ht=!1,rt=!0,jt=!1,j.forEach(Ne=>Ne.c(0,xt)),j.length=0},destroy:Ne=>(Ce.forEach(at=>{at.destroy(Ne)}),(Ne=>{Zt(),Ne&&In()})(Ne),Z.length=0,Ce.length=0,le.length=0,Me.length=0,V.length=0,De=!1,Et=!0,xt),keyframes:Ne=>{const at=le!==Ne;return le=Ne,at&&(Ne=>{Jt&&yn().forEach(at=>{const Lt=at.effect;if(Lt.setKeyframes)Lt.setKeyframes(Ne);else{const ln=new KeyframeEffect(Lt.target,Ne,Lt.getTiming());at.effect=ln}})})(le),xt},addAnimation:Ne=>{if(null!=Ne)if(Array.isArray(Ne))for(const at of Ne)at.parent(xt),Ce.push(at);else Ne.parent(xt),Ce.push(Ne);return xt},addElement:Ne=>{if(null!=Ne)if(1===Ne.nodeType)Z.push(Ne);else if(Ne.length>=0)for(let at=0;at<Ne.length;at++)Z.push(Ne[at]);else console.error("Invalid addElement value");return xt},update:$n,fill:Ne=>(ue=Ne,$n(!0),xt),direction:Ne=>(z=Ne,$n(!0),xt),iterations:Ne=>(F=Ne,$n(!0),xt),duration:Ne=>(!Jt&&0===Ne&&(Ne=1),de=Ne,$n(!0),xt),easing:Ne=>(ie=Ne,$n(!0),xt),delay:Ne=>(G=Ne,$n(!0),xt),getWebAnimations:yn,getKeyframes:()=>le,getFill:xn,getDirection:sn,getDelay:ar,getIterations:Xr,getEasing:Qr,getDuration:Pn,afterAddRead:Ne=>(We.push(Ne),xt),afterAddWrite:Ne=>(en.push(Ne),xt),afterClearStyles:(Ne=[])=>{for(const at of Ne)ce[at]="";return xt},afterStyles:(Ne={})=>(ce=Ne,xt),afterRemoveClass:Ne=>(we=ae(we,Ne),xt),afterAddClass:Ne=>(W=ae(W,Ne),xt),beforeAddRead:Ne=>(Fe.push(Ne),xt),beforeAddWrite:Ne=>(ft.push(Ne),xt),beforeClearStyles:(Ne=[])=>{for(const at of Ne)ve[at]="";return xt},beforeStyles:(Ne={})=>(ve=Ne,xt),beforeRemoveClass:Ne=>(xe=ae(xe,Ne),xt),beforeAddClass:Ne=>(fe=ae(fe,Ne),xt),onFinish:ze,isRunning:()=>0!==oe&&!jt,progressStart:(Ne=!1,at)=>(Ce.forEach(Lt=>{Lt.progressStart(Ne,at)}),Ri(),Se=Ne,De||pt(),$n(!1,!0,at),xt),progressStep:Ne=>(Ce.forEach(at=>{at.progressStep(Ne)}),nr(Ne),xt),progressEnd:(Ne,at,Lt)=>(Se=!1,Ce.forEach(ln=>{ln.progressEnd(Ne,at,Lt)}),void 0!==Lt&&(Ye=Lt),ht=!1,rt=!0,0===Ne?(Re="reverse"===sn()?"normal":"reverse","reverse"===Re&&(rt=!1),Jt?($n(),nr(1-at)):(Ie=(1-at)*Pn()*-1,$n(!1,!1))):1===Ne&&(Jt?($n(),nr(at)):(Ie=at*Pn()*-1,$n(!1,!1))),void 0!==Ne&&!q&&_e(),xt)}}},464:(St,Ke,b)=>{"use strict";b.d(Ke,{E:()=>ie,a:()=>a,s:()=>G});const a=F=>{try{if(F instanceof ge)return F.value;if(!B()||"string"!=typeof F||""===F)return F;if(F.includes("onload="))return"";const ue=document.createDocumentFragment(),z=document.createElement("div");ue.appendChild(z),z.innerHTML=F,ne.forEach(De=>{const q=ue.querySelectorAll(De);for(let ve=q.length-1;ve>=0;ve--){const W=q[ve];W.parentNode?W.parentNode.removeChild(W):ue.removeChild(W);const we=te(W);for(let ce=0;ce<we.length;ce++)x(we[ce])}});const le=te(ue);for(let De=0;De<le.length;De++)x(le[De]);const fe=document.createElement("div");fe.appendChild(ue);const xe=fe.querySelector("div");return null!==xe?xe.innerHTML:fe.innerHTML}catch(ue){return console.error(ue),""}},x=F=>{if(F.nodeType&&1!==F.nodeType)return;if(typeof NamedNodeMap<"u"&&!(F.attributes instanceof NamedNodeMap))return void F.remove();for(let z=F.attributes.length-1;z>=0;z--){const le=F.attributes.item(z),fe=le.name;if(!ae.includes(fe.toLowerCase())){F.removeAttribute(fe);continue}const xe=le.value,De=F[fe];(null!=xe&&xe.toLowerCase().includes("javascript:")||null!=De&&De.toLowerCase().includes("javascript:"))&&F.removeAttribute(fe)}const ue=te(F);for(let z=0;z<ue.length;z++)x(ue[z])},te=F=>null!=F.children?F.children:F.childNodes,B=()=>{var F;const ue=window,z=null===(F=ue?.Ionic)||void 0===F?void 0:F.config;return!z||(z.get?z.get("sanitizerEnabled",!0):!0===z.sanitizerEnabled||void 0===z.sanitizerEnabled)},ae=["class","id","href","src","name","slot"],ne=["script","style","iframe","meta","link","object","embed"];class ge{constructor(ue){this.value=ue}}const G=F=>{const ue=window,z=ue.Ionic;if(!z||!z.config||"Object"===z.config.constructor.name)return ue.Ionic=ue.Ionic||{},ue.Ionic.config=Object.assign(Object.assign({},ue.Ionic.config),F),ue.Ionic.config},ie=!1},8621:(St,Ke,b)=>{"use strict";b.d(Ke,{C:()=>ae,a:()=>te,d:()=>B});var a=b(467),x=b(4920);const te=function(){var ne=(0,a.A)(function*(ge,G,de,ie,F,ue){var z;if(ge)return ge.attachViewToDom(G,de,F,ie);if(!(ue||"string"==typeof de||de instanceof HTMLElement))throw new Error("framework delegate is missing");const le="string"==typeof de?null===(z=G.ownerDocument)||void 0===z?void 0:z.createElement(de):de;return ie&&ie.forEach(fe=>le.classList.add(fe)),F&&Object.assign(le,F),G.appendChild(le),yield new Promise(fe=>(0,x.c)(le,fe)),le});return function(G,de,ie,F,ue,z){return ne.apply(this,arguments)}}(),B=(ne,ge)=>{if(ge){if(ne)return ne.removeViewFromDom(ge.parentElement,ge);ge.remove()}return Promise.resolve()},ae=()=>{let ne,ge;return{attachViewToDom:function(){var ie=(0,a.A)(function*(F,ue,z={},le=[]){var fe,xe;let De;if(ne=F,ue){const ve="string"==typeof ue?null===(fe=ne.ownerDocument)||void 0===fe?void 0:fe.createElement(ue):ue;le.forEach(W=>ve.classList.add(W)),Object.assign(ve,z),ne.appendChild(ve),De=ve,yield new Promise(W=>(0,x.c)(ve,W))}else if(ne.children.length>0&&("ION-MODAL"===ne.tagName||"ION-POPOVER"===ne.tagName)&&!(De=ne.children[0]).classList.contains("ion-delegate-host")){const W=null===(xe=ne.ownerDocument)||void 0===xe?void 0:xe.createElement("div");W.classList.add("ion-delegate-host"),le.forEach(we=>W.classList.add(we)),W.append(...ne.children),ne.appendChild(W),De=W}const q=document.querySelector("ion-app")||document.body;return ge=document.createComment("ionic teleport"),ne.parentNode.insertBefore(ge,ne),q.appendChild(ne),De??ne});return function(ue,z){return ie.apply(this,arguments)}}(),removeViewFromDom:()=>(ne&&ge&&(ge.parentNode.insertBefore(ne,ge),ge.remove()),Promise.resolve())}}},1970:(St,Ke,b)=>{"use strict";b.d(Ke,{B:()=>B,G:()=>ae});class x{constructor(ge,G,de,ie,F){this.id=G,this.name=de,this.disableScroll=F,this.priority=1e6*ie+G,this.ctrl=ge}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ge=this.ctrl.capture(this.name,this.id,this.priority);return ge&&this.disableScroll&&this.ctrl.disableScroll(this.id),ge}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class te{constructor(ge,G,de,ie){this.id=G,this.disable=de,this.disableScroll=ie,this.ctrl=ge}block(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.disableGesture(ge,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.enableGesture(ge,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const B="backdrop-no-scroll",ae=new class a{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ge){var G;return new x(this,this.newID(),ge.name,null!==(G=ge.priority)&&void 0!==G?G:0,!!ge.disableScroll)}createBlocker(ge={}){return new te(this,this.newID(),ge.disable,!!ge.disableScroll)}start(ge,G,de){return this.canStart(ge)?(this.requestedStart.set(G,de),!0):(this.requestedStart.delete(G),!1)}capture(ge,G,de){if(!this.start(ge,G,de))return!1;const ie=this.requestedStart;let F=-1e4;if(ie.forEach(ue=>{F=Math.max(F,ue)}),F===de){this.capturedId=G,ie.clear();const ue=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ge}});return document.dispatchEvent(ue),!0}return ie.delete(G),!1}release(ge){this.requestedStart.delete(ge),this.capturedId===ge&&(this.capturedId=void 0)}disableGesture(ge,G){let de=this.disabledGestures.get(ge);void 0===de&&(de=new Set,this.disabledGestures.set(ge,de)),de.add(G)}enableGesture(ge,G){const de=this.disabledGestures.get(ge);void 0!==de&&de.delete(G)}disableScroll(ge){this.disabledScroll.add(ge),1===this.disabledScroll.size&&document.body.classList.add(B)}enableScroll(ge){this.disabledScroll.delete(ge),0===this.disabledScroll.size&&document.body.classList.remove(B)}canStart(ge){return!(void 0!==this.capturedId||this.isDisabled(ge))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ge){const G=this.disabledGestures.get(ge);return!!(G&&G.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(St,Ke,b)=>{"use strict";b.r(Ke),b.d(Ke,{MENU_BACK_BUTTON_PRIORITY:()=>de,OVERLAY_BACK_BUTTON_PRIORITY:()=>G,blockHardwareBackButton:()=>ne,shouldUseCloseWatcher:()=>ae,startHardwareBackButton:()=>ge});var a=b(467),x=b(8476),te=b(9483);b(4261);const ae=()=>te.c.get("experimentalCloseWatcher",!1)&&void 0!==x.w&&"CloseWatcher"in x.w,ne=()=>{document.addEventListener("backbutton",()=>{})},ge=()=>{const ie=document;let F=!1;const ue=()=>{if(F)return;let z=0,le=[];const fe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(q,ve){le.push({priority:q,handler:ve,id:z++})}}});ie.dispatchEvent(fe);const xe=function(){var q=(0,a.A)(function*(ve){try{if(ve?.handler){const W=ve.handler(De);null!=W&&(yield W)}}catch(W){console.error(W)}});return function(W){return q.apply(this,arguments)}}(),De=()=>{if(le.length>0){let q={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};le.forEach(ve=>{ve.priority>=q.priority&&(q=ve)}),F=!0,le=le.filter(ve=>ve.id!==q.id),xe(q).then(()=>F=!1)}};De()};if(ae()){let z;const le=()=>{z?.destroy(),z=new x.w.CloseWatcher,z.onclose=()=>{ue(),le()}};le()}else ie.addEventListener("backbutton",ue)},G=100,de=99},4920:(St,Ke,b)=>{"use strict";b.d(Ke,{a:()=>G,b:()=>de,c:()=>te,d:()=>le,e:()=>ve,f:()=>z,g:()=>ie,h:()=>ae,i:()=>ge,j:()=>fe,k:()=>B,l:()=>ue,m:()=>xe,n:()=>q,o:()=>W,p:()=>De,r:()=>F,s:()=>we,t:()=>a});const a=(ce,oe=0)=>new Promise(Se=>{x(ce,oe,Se)}),x=(ce,oe=0,Se)=>{let Le,Re;const Ye={passive:!0},rt=()=>{Le&&Le()},ht=Et=>{(void 0===Et||ce===Et.target)&&(rt(),Se(Et))};return ce&&(ce.addEventListener("webkitTransitionEnd",ht,Ye),ce.addEventListener("transitionend",ht,Ye),Re=setTimeout(ht,oe+500),Le=()=>{void 0!==Re&&(clearTimeout(Re),Re=void 0),ce.removeEventListener("webkitTransitionEnd",ht,Ye),ce.removeEventListener("transitionend",ht,Ye)}),rt},te=(ce,oe)=>{ce.componentOnReady?ce.componentOnReady().then(Se=>oe(Se)):F(()=>oe(ce))},B=ce=>void 0!==ce.componentOnReady,ae=(ce,oe=[])=>{const Se={};return oe.forEach(Le=>{ce.hasAttribute(Le)&&(null!==ce.getAttribute(Le)&&(Se[Le]=ce.getAttribute(Le)),ce.removeAttribute(Le))}),Se},ne=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],ge=(ce,oe)=>{let Se=ne;return oe&&oe.length>0&&(Se=Se.filter(Le=>!oe.includes(Le))),ae(ce,Se)},G=(ce,oe,Se,Le)=>{var Re;if(typeof window<"u"){const Ye=window,Ie=null===(Re=Ye?.Ionic)||void 0===Re?void 0:Re.config;if(Ie){const rt=Ie.get("_ael");if(rt)return rt(ce,oe,Se,Le);if(Ie._ael)return Ie._ael(ce,oe,Se,Le)}}return ce.addEventListener(oe,Se,Le)},de=(ce,oe,Se,Le)=>{var Re;if(typeof window<"u"){const Ye=window,Ie=null===(Re=Ye?.Ionic)||void 0===Re?void 0:Re.config;if(Ie){const rt=Ie.get("_rel");if(rt)return rt(ce,oe,Se,Le);if(Ie._rel)return Ie._rel(ce,oe,Se,Le)}}return ce.removeEventListener(oe,Se,Le)},ie=(ce,oe=ce)=>ce.shadowRoot||oe,F=ce=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ce):"function"==typeof requestAnimationFrame?requestAnimationFrame(ce):setTimeout(ce),ue=ce=>!!ce.shadowRoot&&!!ce.attachShadow,z=ce=>{if(ce.focus(),ce.classList.contains("ion-focusable")){const oe=ce.closest("ion-app");oe&&oe.setFocus([ce])}},le=(ce,oe,Se,Le,Re)=>{if(ce||ue(oe)){let Ye=oe.querySelector("input.aux-input");Ye||(Ye=oe.ownerDocument.createElement("input"),Ye.type="hidden",Ye.classList.add("aux-input"),oe.appendChild(Ye)),Ye.disabled=Re,Ye.name=Se,Ye.value=Le||""}},fe=(ce,oe,Se)=>Math.max(ce,Math.min(oe,Se)),xe=(ce,oe)=>{if(!ce){const Se="ASSERT: "+oe;throw console.error(Se),new Error(Se)}},De=ce=>{if(ce){const oe=ce.changedTouches;if(oe&&oe.length>0){const Se=oe[0];return{x:Se.clientX,y:Se.clientY}}if(void 0!==ce.pageX)return{x:ce.pageX,y:ce.pageY}}return{x:0,y:0}},q=ce=>{const oe="rtl"===document.dir;switch(ce){case"start":return oe;case"end":return!oe;default:throw new Error(`"${ce}" is not a valid value for [side]. Use "start" or "end" instead.`)}},ve=(ce,oe)=>{const Se=ce._original||ce;return{_original:ce,emit:W(Se.emit.bind(Se),oe)}},W=(ce,oe=0)=>{let Se;return(...Le)=>{clearTimeout(Se),Se=setTimeout(ce,oe,...Le)}},we=(ce,oe)=>{if(ce??(ce={}),oe??(oe={}),ce===oe)return!0;const Se=Object.keys(ce);if(Se.length!==Object.keys(oe).length)return!1;for(const Le of Se)if(!(Le in oe)||ce[Le]!==oe[Le])return!1;return!0}},4261:(St,Ke,b)=>{"use strict";b.d(Ke,{B:()=>ne,a:()=>Et,b:()=>xi,c:()=>xn,d:()=>Xr,e:()=>We,f:()=>Ut,g:()=>sn,h:()=>Sn,i:()=>Pn,j:()=>ti,k:()=>Ot,r:()=>de,w:()=>en});var a=b(467);var B=Object.defineProperty,ne={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ge=new WeakMap,G=L=>ge.get(L),de=(L,me)=>ge.set(me.$lazyInstance$=L,me),F=(L,me)=>me in L,ue=(L,me)=>(0,console.error)(L,me),z=new Map,fe=new Map,xe=[],we="s-id",Le="slot-fb{display:contents}slot-fb[hidden]{display:none}",Re="http://www.w3.org/1999/xlink",Ye=typeof window<"u"?window:{},Ie=Ye.document||{head:{}},ht={$flags$:0,$resourcesUrl$:"",jmp:L=>L(),raf:L=>requestAnimationFrame(L),ael:(L,me,$e,qe)=>L.addEventListener(me,$e,qe),rel:(L,me,$e,qe)=>L.removeEventListener(me,$e,qe),ce:(L,me)=>new CustomEvent(L,me)},Et=L=>{Object.assign(ht,L)},jt=(()=>{let L=!1;try{Ie.addEventListener("e",null,Object.defineProperty({},"passive",{get(){L=!0}}))}catch{}return L})(),Me=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),V=!1,j=[],Z=[],Ce=(L,me)=>$e=>{L.push($e),V||(V=!0,me&&4&ht.$flags$?ft(Fe):ht.raf(Fe))},ut=L=>{for(let me=0;me<L.length;me++)try{L[me](performance.now())}catch($e){ue($e)}L.length=0},Fe=()=>{ut(j),ut(Z),(V=j.length>0)&&ht.raf(Fe)},ft=L=>Promise.resolve(void 0).then(L),We=Ce(j,!1),en=Ce(Z,!0),Ot=L=>{const me=new URL(L,ht.$resourcesUrl$);return me.origin!==Ye.location.origin?me.href:me.pathname},gt={},Gt=L=>"object"==(L=typeof L)||"function"===L;function Ht(L){var me,$e,qe;return null!=(qe=null==($e=null==(me=L.head)?void 0:me.querySelector('meta[name="csp-nonce"]'))?void 0:$e.getAttribute("content"))?qe:void 0}((L,me)=>{for(var $e in me)B(L,$e,{get:me[$e],enumerable:!0})})({},{err:()=>He,map:()=>ze,ok:()=>Bt,unwrap:()=>_t,unwrapErr:()=>Zt});var Bt=L=>({isOk:!0,isErr:!1,value:L}),He=L=>({isOk:!1,isErr:!0,value:L});function ze(L,me){if(L.isOk){const $e=me(L.value);return $e instanceof Promise?$e.then(qe=>Bt(qe)):Bt($e)}if(L.isErr)return He(L.value);throw"should never get here"}var _t=L=>{if(L.isOk)return L.value;throw L.value},Zt=L=>{if(L.isErr)return L.value;throw L.value},Sn=(L,me,...$e)=>{let qe=null,ct=null,vt=null,zt=!1,Yt=!1;const Wt=[],Qt=Cn=>{for(let Nn=0;Nn<Cn.length;Nn++)qe=Cn[Nn],Array.isArray(qe)?Qt(qe):null!=qe&&"boolean"!=typeof qe&&((zt="function"!=typeof L&&!Gt(qe))&&(qe=String(qe)),zt&&Yt?Wt[Wt.length-1].$text$+=qe:Wt.push(zt?mn(null,qe):qe),Yt=zt)};if(Qt($e),me){me.key&&(ct=me.key),me.name&&(vt=me.name);{const Cn=me.className||me.class;Cn&&(me.class="object"!=typeof Cn?Cn:Object.keys(Cn).filter(Nn=>Cn[Nn]).join(" "))}}if("function"==typeof L)return L(null===me?{}:me,Wt,dr);const un=mn(L,null);return un.$attrs$=me,Wt.length>0&&(un.$children$=Wt),un.$key$=ct,un.$name$=vt,un},mn=(L,me)=>({$flags$:0,$tag$:L,$text$:me,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),Ut={},dr={forEach:(L,me)=>L.map(hr).forEach(me),map:(L,me)=>L.map(hr).map(me).map(Wn)},hr=L=>({vattrs:L.$attrs$,vchildren:L.$children$,vkey:L.$key$,vname:L.$name$,vtag:L.$tag$,vtext:L.$text$}),Wn=L=>{if("function"==typeof L.vtag){const $e={...L.vattrs};return L.vkey&&($e.key=L.vkey),L.vname&&($e.name=L.vname),Sn(L.vtag,$e,...L.vchildren||[])}const me=mn(L.vtag,L.vtext);return me.$attrs$=L.vattrs,me.$children$=L.vchildren,me.$key$=L.vkey,me.$name$=L.vname,me},Mn=(L,me,$e,qe,ct,vt,zt)=>{let Yt,Wt,Qt,un;if(1===vt.nodeType){if(Yt=vt.getAttribute("c-id"),Yt&&(Wt=Yt.split("."),(Wt[0]===zt||"0"===Wt[0])&&(Qt={$flags$:0,$hostId$:Wt[0],$nodeId$:Wt[1],$depth$:Wt[2],$index$:Wt[3],$tag$:vt.tagName.toLowerCase(),$elm$:vt,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},me.push(Qt),vt.removeAttribute("c-id"),L.$children$||(L.$children$=[]),L.$children$[Qt.$index$]=Qt,L=Qt,qe&&"0"===Qt.$depth$&&(qe[Qt.$index$]=Qt.$elm$))),vt.shadowRoot)for(un=vt.shadowRoot.childNodes.length-1;un>=0;un--)Mn(L,me,$e,qe,ct,vt.shadowRoot.childNodes[un],zt);for(un=vt.childNodes.length-1;un>=0;un--)Mn(L,me,$e,qe,ct,vt.childNodes[un],zt)}else if(8===vt.nodeType)Wt=vt.nodeValue.split("."),(Wt[1]===zt||"0"===Wt[1])&&(Yt=Wt[0],Qt={$flags$:0,$hostId$:Wt[1],$nodeId$:Wt[2],$depth$:Wt[3],$index$:Wt[4],$elm$:vt,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Yt?(Qt.$elm$=vt.nextSibling,Qt.$elm$&&3===Qt.$elm$.nodeType&&(Qt.$text$=Qt.$elm$.textContent,me.push(Qt),vt.remove(),L.$children$||(L.$children$=[]),L.$children$[Qt.$index$]=Qt,qe&&"0"===Qt.$depth$&&(qe[Qt.$index$]=Qt.$elm$))):Qt.$hostId$===zt&&("s"===Yt?(Qt.$tag$="slot",vt["s-sn"]=Wt[5]?Qt.$name$=Wt[5]:"",vt["s-sr"]=!0,qe&&(Qt.$elm$=Ie.createElement(Qt.$tag$),Qt.$name$&&Qt.$elm$.setAttribute("name",Qt.$name$),vt.parentNode.insertBefore(Qt.$elm$,vt),vt.remove(),"0"===Qt.$depth$&&(qe[Qt.$index$]=Qt.$elm$)),$e.push(Qt),L.$children$||(L.$children$=[]),L.$children$[Qt.$index$]=Qt):"r"===Yt&&(qe?vt.remove():(ct["s-cr"]=vt,vt["s-cn"]=!0))));else if(L&&"style"===L.$tag$){const Cn=mn(null,vt.textContent);Cn.$elm$=vt,Cn.$index$="0",L.$children$=[Cn]}},Zn=(L,me)=>{if(1===L.nodeType){let $e=0;if(L.shadowRoot)for(;$e<L.shadowRoot.childNodes.length;$e++)Zn(L.shadowRoot.childNodes[$e],me);for($e=0;$e<L.childNodes.length;$e++)Zn(L.childNodes[$e],me)}else if(8===L.nodeType){const $e=L.nodeValue.split(".");"o"===$e[0]&&(me.set($e[1]+"."+$e[2],L),L.nodeValue="",L["s-en"]=$e[3])}},xn=L=>xe.push(L),sn=L=>G(L).$modeName$,Pn=L=>G(L).$hostElement$,Xr=(L,me,$e)=>{const qe=Pn(L);return{emit:ct=>ar(qe,me,{bubbles:!!(4&$e),composed:!!(2&$e),cancelable:!!(1&$e),detail:ct})}},ar=(L,me,$e)=>{const qe=ht.ce(me,$e);return L.dispatchEvent(qe),qe},an=new WeakMap,qr=(L,me,$e)=>{var qe;const ct=bt(me,$e),vt=fe.get(ct);if(L=11===L.nodeType?L:Ie,vt)if("string"==typeof vt){let Yt,zt=an.get(L=L.head||L);if(zt||an.set(L,zt=new Set),!zt.has(ct)){if(L.host&&(Yt=L.querySelector(`[sty-id="${ct}"]`)))Yt.innerHTML=vt;else{Yt=Ie.createElement("style"),Yt.innerHTML=vt;const Wt=null!=(qe=ht.$nonce$)?qe:Ht(Ie);null!=Wt&&Yt.setAttribute("nonce",Wt),(!(1&me.$flags$)||1&me.$flags$&&"HEAD"!==L.nodeName)&&L.insertBefore(Yt,L.querySelector("link"))}4&me.$flags$&&(Yt.innerHTML+=Le),zt&&zt.add(ct)}}else L.adoptedStyleSheets.includes(vt)||(L.adoptedStyleSheets=[...L.adoptedStyleSheets,vt]);return ct},bt=(L,me)=>"sc-"+(me&&32&L.$flags$?L.$tagName$+"-"+me:L.$tagName$),Ge=(L,me,$e,qe,ct,vt)=>{if($e!==qe){let zt=F(L,me),Yt=me.toLowerCase();if("class"===me){const Wt=L.classList,Qt=$t($e),un=$t(qe);Wt.remove(...Qt.filter(Cn=>Cn&&!un.includes(Cn))),Wt.add(...un.filter(Cn=>Cn&&!Qt.includes(Cn)))}else if("style"===me){for(const Wt in $e)(!qe||null==qe[Wt])&&(Wt.includes("-")?L.style.removeProperty(Wt):L.style[Wt]="");for(const Wt in qe)(!$e||qe[Wt]!==$e[Wt])&&(Wt.includes("-")?L.style.setProperty(Wt,qe[Wt]):L.style[Wt]=qe[Wt])}else if("key"!==me)if("ref"===me)qe&&qe(L);else if(zt||"o"!==me[0]||"n"!==me[1]){const Wt=Gt(qe);if((zt||Wt&&null!==qe)&&!ct)try{if(L.tagName.includes("-"))L[me]=qe;else{const un=qe??"";"list"===me?zt=!1:(null==$e||L[me]!=un)&&(L[me]=un)}}catch{}let Qt=!1;Yt!==(Yt=Yt.replace(/^xlink\:?/,""))&&(me=Yt,Qt=!0),null==qe||!1===qe?(!1!==qe||""===L.getAttribute(me))&&(Qt?L.removeAttributeNS(Re,me):L.removeAttribute(me)):(!zt||4&vt||ct)&&!Wt&&(qe=!0===qe?"":qe,Qt?L.setAttributeNS(Re,me,qe):L.setAttribute(me,qe))}else if(me="-"===me[2]?me.slice(3):F(Ye,Yt)?Yt.slice(2):Yt[2]+me.slice(3),$e||qe){const Wt=me.endsWith(Be);me=me.replace(Ue,""),$e&&ht.rel(L,me,$e,Wt),qe&&ht.ael(L,me,qe,Wt)}}},mt=/\s/,$t=L=>L?L.split(mt):[],Be="Capture",Ue=new RegExp(Be+"$"),Qe=(L,me,$e)=>{const qe=11===me.$elm$.nodeType&&me.$elm$.host?me.$elm$.host:me.$elm$,ct=L&&L.$attrs$||gt,vt=me.$attrs$||gt;for(const zt of Rt(Object.keys(ct)))zt in vt||Ge(qe,zt,ct[zt],void 0,$e,me.$flags$);for(const zt of Rt(Object.keys(vt)))Ge(qe,zt,ct[zt],vt[zt],$e,me.$flags$)};function Rt(L){return L.includes("ref")?[...L.filter(me=>"ref"!==me),"ref"]:L}var yt,_n,pn,Dr=!1,pt=!1,nr=!1,qn=!1,$n=(L,me,$e,qe)=>{var ct;const vt=me.$children$[$e];let Yt,Wt,Qt,zt=0;if(Dr||(nr=!0,"slot"===vt.$tag$&&(yt&&qe.classList.add(yt+"-s"),vt.$flags$|=vt.$children$?2:1)),null!==vt.$text$)Yt=vt.$elm$=Ie.createTextNode(vt.$text$);else if(1&vt.$flags$)Yt=vt.$elm$=Ie.createTextNode("");else{if(qn||(qn="svg"===vt.$tag$),Yt=vt.$elm$=Ie.createElementNS(qn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Dr&&2&vt.$flags$?"slot-fb":vt.$tag$),qn&&"foreignObject"===vt.$tag$&&(qn=!1),Qe(null,vt,qn),!!Yt.getRootNode().querySelector("body")&&(L=>null!=L)(yt)&&Yt["s-si"]!==yt&&Yt.classList.add(Yt["s-si"]=yt),ln(Yt,qe),vt.$children$)for(zt=0;zt<vt.$children$.length;++zt)Wt=$n(L,vt,zt,Yt),Wt&&Yt.appendChild(Wt);"svg"===vt.$tag$?qn=!1:"foreignObject"===Yt.tagName&&(qn=!0)}return Yt["s-hn"]=pn,3&vt.$flags$&&(Yt["s-sr"]=!0,Yt["s-cr"]=_n,Yt["s-sn"]=vt.$name$||"",Yt["s-rf"]=null==(ct=vt.$attrs$)?void 0:ct.ref,Qt=L&&L.$children$&&L.$children$[$e],Qt&&Qt.$tag$===vt.$tag$&&L.$elm$&&Rr(L.$elm$)),Yt},Rr=L=>{ht.$flags$|=1;const me=L.closest(pn.toLowerCase());if(null!=me){const $e=Array.from(me.childNodes).find(ct=>ct["s-cr"]),qe=Array.from(L.childNodes);for(const ct of $e?qe.reverse():qe)null!=ct["s-sh"]&&(at(me,ct,$e??null),ct["s-sh"]=void 0,nr=!0)}ht.$flags$&=-2},Yr=(L,me)=>{ht.$flags$|=1;const $e=Array.from(L.childNodes);if(L["s-sr"]){let qe=L;for(;qe=qe.nextSibling;)qe&&qe["s-sn"]===L["s-sn"]&&qe["s-sh"]===pn&&$e.push(qe)}for(let qe=$e.length-1;qe>=0;qe--){const ct=$e[qe];ct["s-hn"]!==pn&&ct["s-ol"]&&(at(Ui(ct),ct,Pi(ct)),ct["s-ol"].remove(),ct["s-ol"]=void 0,ct["s-sh"]=void 0,nr=!0),me&&Yr(ct,me)}ht.$flags$&=-2},Vr=(L,me,$e,qe,ct,vt)=>{let Yt,zt=L["s-cr"]&&L["s-cr"].parentNode||L;for(zt.shadowRoot&&zt.tagName===pn&&(zt=zt.shadowRoot);ct<=vt;++ct)qe[ct]&&(Yt=$n(null,$e,ct,L),Yt&&(qe[ct].$elm$=Yt,at(zt,Yt,Pi(me))))},Ri=(L,me,$e)=>{for(let qe=me;qe<=$e;++qe){const ct=L[qe];if(ct){const vt=ct.$elm$;Ne(ct),vt&&(pt=!0,vt["s-ol"]?vt["s-ol"].remove():Yr(vt,!0),vt.remove())}}},Ci=(L,me,$e=!1)=>!(L.$tag$!==me.$tag$||("slot"===L.$tag$?"$nodeId$"in L&&$e&&8!==L.$elm$.nodeType||L.$name$!==me.$name$:!$e&&L.$key$!==me.$key$)),Pi=L=>L&&L["s-ol"]||L,Ui=L=>(L["s-ol"]?L["s-ol"]:L).parentNode,_e=(L,me,$e=!1)=>{const qe=me.$elm$=L.$elm$,ct=L.$children$,vt=me.$children$,zt=me.$tag$,Yt=me.$text$;let Wt;null===Yt?(qn="svg"===zt||"foreignObject"!==zt&&qn,"slot"!==zt||Dr?Qe(L,me,qn):L.$name$!==me.$name$&&(me.$elm$["s-sn"]=me.$name$||"",Rr(me.$elm$.parentElement)),null!==ct&&null!==vt?((L,me,$e,qe,ct=!1)=>{let Or,ri,vt=0,zt=0,Yt=0,Wt=0,Qt=me.length-1,un=me[0],Cn=me[Qt],Nn=qe.length-1,kn=qe[0],br=qe[Nn];for(;vt<=Qt&&zt<=Nn;)if(null==un)un=me[++vt];else if(null==Cn)Cn=me[--Qt];else if(null==kn)kn=qe[++zt];else if(null==br)br=qe[--Nn];else if(Ci(un,kn,ct))_e(un,kn,ct),un=me[++vt],kn=qe[++zt];else if(Ci(Cn,br,ct))_e(Cn,br,ct),Cn=me[--Qt],br=qe[--Nn];else if(Ci(un,br,ct))("slot"===un.$tag$||"slot"===br.$tag$)&&Yr(un.$elm$.parentNode,!1),_e(un,br,ct),at(L,un.$elm$,Cn.$elm$.nextSibling),un=me[++vt],br=qe[--Nn];else if(Ci(Cn,kn,ct))("slot"===un.$tag$||"slot"===br.$tag$)&&Yr(Cn.$elm$.parentNode,!1),_e(Cn,kn,ct),at(L,Cn.$elm$,un.$elm$),Cn=me[--Qt],kn=qe[++zt];else{for(Yt=-1,Wt=vt;Wt<=Qt;++Wt)if(me[Wt]&&null!==me[Wt].$key$&&me[Wt].$key$===kn.$key$){Yt=Wt;break}Yt>=0?(ri=me[Yt],ri.$tag$!==kn.$tag$?Or=$n(me&&me[zt],$e,Yt,L):(_e(ri,kn,ct),me[Yt]=void 0,Or=ri.$elm$),kn=qe[++zt]):(Or=$n(me&&me[zt],$e,zt,L),kn=qe[++zt]),Or&&at(Ui(un.$elm$),Or,Pi(un.$elm$))}vt>Qt?Vr(L,null==qe[Nn+1]?null:qe[Nn+1].$elm$,$e,qe,zt,Nn):zt>Nn&&Ri(me,vt,Qt)})(qe,ct,me,vt,$e):null!==vt?(null!==L.$text$&&(qe.textContent=""),Vr(qe,null,me,vt,0,vt.length-1)):!$e&&null!==ct&&Ri(ct,0,ct.length-1),qn&&"svg"===zt&&(qn=!1)):(Wt=qe["s-cr"])?Wt.parentNode.textContent=Yt:L.$text$!==Yt&&(qe.data=Yt)},he=L=>{const me=L.childNodes;for(const $e of me)if(1===$e.nodeType){if($e["s-sr"]){const qe=$e["s-sn"];$e.hidden=!1;for(const ct of me)if(ct!==$e)if(ct["s-hn"]!==$e["s-hn"]||""!==qe){if(1===ct.nodeType&&(qe===ct.getAttribute("slot")||qe===ct["s-sn"])||3===ct.nodeType&&qe===ct["s-sn"]){$e.hidden=!0;break}}else if(1===ct.nodeType||3===ct.nodeType&&""!==ct.textContent.trim()){$e.hidden=!0;break}}he($e)}},H=[],ye=L=>{let me,$e,qe;for(const ct of L.childNodes){if(ct["s-sr"]&&(me=ct["s-cr"])&&me.parentNode){$e=me.parentNode.childNodes;const vt=ct["s-sn"];for(qe=$e.length-1;qe>=0;qe--)if(me=$e[qe],!(me["s-cn"]||me["s-nr"]||me["s-hn"]===ct["s-hn"]||me["s-sh"]&&me["s-sh"]===ct["s-hn"]))if(Ze(me,vt)){let zt=H.find(Yt=>Yt.$nodeToRelocate$===me);pt=!0,me["s-sn"]=me["s-sn"]||vt,zt?(zt.$nodeToRelocate$["s-sh"]=ct["s-hn"],zt.$slotRefNode$=ct):(me["s-sh"]=ct["s-hn"],H.push({$slotRefNode$:ct,$nodeToRelocate$:me})),me["s-sr"]&&H.map(Yt=>{Ze(Yt.$nodeToRelocate$,me["s-sn"])&&(zt=H.find(Wt=>Wt.$nodeToRelocate$===me),zt&&!Yt.$slotRefNode$&&(Yt.$slotRefNode$=zt.$slotRefNode$))})}else H.some(zt=>zt.$nodeToRelocate$===me)||H.push({$nodeToRelocate$:me})}1===ct.nodeType&&ye(ct)}},Ze=(L,me)=>1===L.nodeType?null===L.getAttribute("slot")&&""===me||L.getAttribute("slot")===me:L["s-sn"]===me||""===me,Ne=L=>{L.$attrs$&&L.$attrs$.ref&&L.$attrs$.ref(null),L.$children$&&L.$children$.map(Ne)},at=(L,me,$e)=>{const qe=L?.insertBefore(me,$e);return ln(me,L),qe},Lt=L=>{const me=[];return L&&me.push(...L["s-scs"]||[],L["s-si"],L["s-sc"],...Lt(L.parentElement)),me},ln=(L,me,$e=!1)=>{var qe;if(L&&me&&1===L.nodeType){const ct=new Set(Lt(me).filter(Boolean));if(ct.size&&(null==(qe=L.classList)||qe.add(...L["s-scs"]=[...ct]),L["s-ol"]||$e))for(const vt of Array.from(L.childNodes))ln(vt,L,!0)}},fr=(L,me)=>{me&&!L.$onRenderResolve$&&me["s-p"]&&me["s-p"].push(new Promise($e=>L.$onRenderResolve$=$e))},Xn=(L,me)=>{if(L.$flags$|=16,!(4&L.$flags$))return fr(L,L.$ancestorComponent$),en(()=>Ni(L,me));L.$flags$|=512},Ni=(L,me)=>{const ct=L.$lazyInstance$;if(!ct)throw new Error(`Can't render component <${L.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let vt;return me&&(L.$flags$|=256,L.$queuedListeners$&&(L.$queuedListeners$.map(([zt,Yt])=>Ai(ct,zt,Yt)),L.$queuedListeners$=void 0),vt=Ai(ct,"componentWillLoad")),vt=Zr(vt,()=>Ai(ct,"componentWillRender")),Zr(vt,()=>oi(L,ct,me))},Zr=(L,me)=>cr(L)?L.then(me).catch($e=>{console.error($e),me()}):me(),cr=L=>L instanceof Promise||L&&L.then&&"function"==typeof L.then,oi=function(){var L=(0,a.A)(function*(me,$e,qe){var ct;const vt=me.$hostElement$,Yt=vt["s-rc"];qe&&(L=>{const me=L.$cmpMeta$,$e=L.$hostElement$,qe=me.$flags$,vt=qr($e.shadowRoot?$e.shadowRoot:$e.getRootNode(),me,L.$modeName$);10&qe&&2&qe&&($e["s-sc"]=vt,$e.classList.add(vt+"-h"),2&qe&&$e.classList.add(vt+"-s"))})(me);Uo(me,$e,vt,qe),Yt&&(Yt.map(Qt=>Qt()),vt["s-rc"]=void 0);{const Qt=null!=(ct=vt["s-p"])?ct:[],un=()=>ci(me);0===Qt.length?un():(Promise.all(Qt).then(un),me.$flags$|=4,Qt.length=0)}});return function($e,qe,ct){return L.apply(this,arguments)}}(),Uo=(L,me,$e,qe)=>{try{me=me.render&&me.render(),L.$flags$&=-17,L.$flags$|=2,((L,me,$e=!1)=>{var qe,ct,vt,zt,Yt;const Wt=L.$hostElement$,Qt=L.$cmpMeta$,un=L.$vnode$||mn(null,null),Cn=(L=>L&&L.$tag$===Ut)(me)?me:Sn(null,null,me);if(pn=Wt.tagName,Qt.$attrsToReflect$&&(Cn.$attrs$=Cn.$attrs$||{},Qt.$attrsToReflect$.map(([Nn,kn])=>Cn.$attrs$[kn]=Wt[Nn])),$e&&Cn.$attrs$)for(const Nn of Object.keys(Cn.$attrs$))Wt.hasAttribute(Nn)&&!["key","ref","style","class"].includes(Nn)&&(Cn.$attrs$[Nn]=Wt[Nn]);if(Cn.$tag$=null,Cn.$flags$|=4,L.$vnode$=Cn,Cn.$elm$=un.$elm$=Wt.shadowRoot||Wt,yt=Wt["s-sc"],Dr=!!(1&Qt.$flags$),_n=Wt["s-cr"],pt=!1,_e(un,Cn,$e),ht.$flags$|=1,nr){ye(Cn.$elm$);for(const Nn of H){const kn=Nn.$nodeToRelocate$;if(!kn["s-ol"]){const br=Ie.createTextNode("");br["s-nr"]=kn,at(kn.parentNode,kn["s-ol"]=br,kn)}}for(const Nn of H){const kn=Nn.$nodeToRelocate$,br=Nn.$slotRefNode$;if(br){const Or=br.parentNode;let ri=br.nextSibling;if(ri&&1===ri.nodeType){let Pr=null==(qe=kn["s-ol"])?void 0:qe.previousSibling;for(;Pr;){let cn=null!=(ct=Pr["s-nr"])?ct:null;if(cn&&cn["s-sn"]===kn["s-sn"]&&Or===cn.parentNode){for(cn=cn.nextSibling;cn===kn||cn?.["s-sr"];)cn=cn?.nextSibling;if(!cn||!cn["s-nr"]){ri=cn;break}}Pr=Pr.previousSibling}}(!ri&&Or!==kn.parentNode||kn.nextSibling!==ri)&&kn!==ri&&(at(Or,kn,ri),1===kn.nodeType&&(kn.hidden=null!=(vt=kn["s-ih"])&&vt)),kn&&"function"==typeof br["s-rf"]&&br["s-rf"](kn)}else 1===kn.nodeType&&($e&&(kn["s-ih"]=null!=(zt=kn.hidden)&&zt),kn.hidden=!0)}}if(pt&&he(Cn.$elm$),ht.$flags$&=-2,H.length=0,2&Qt.$flags$)for(const Nn of Cn.$elm$.childNodes)Nn["s-hn"]!==pn&&!Nn["s-sh"]&&($e&&null==Nn["s-ih"]&&(Nn["s-ih"]=null!=(Yt=Nn.hidden)&&Yt),Nn.hidden=!0);_n=void 0})(L,me,qe)}catch(ct){ue(ct,L.$hostElement$)}return null},ci=L=>{const $e=L.$hostElement$,ct=L.$lazyInstance$,vt=L.$ancestorComponent$;Ai(ct,"componentDidRender"),64&L.$flags$?Ai(ct,"componentDidUpdate"):(L.$flags$|=64,Di($e),Ai(ct,"componentDidLoad"),L.$onReadyResolve$($e),vt||Gi()),L.$onInstanceResolve$($e),L.$onRenderResolve$&&(L.$onRenderResolve$(),L.$onRenderResolve$=void 0),512&L.$flags$&&ft(()=>Xn(L,!1)),L.$flags$&=-517},ti=L=>{{const me=G(L),$e=me.$hostElement$.isConnected;return $e&&2==(18&me.$flags$)&&Xn(me,!1),$e}},Gi=L=>{Di(Ie.documentElement),ft(()=>ar(Ye,"appload",{detail:{namespace:"ionic"}}))},Ai=(L,me,$e)=>{if(L&&L[me])try{return L[me]($e)}catch(qe){ue(qe)}},Di=L=>L.classList.add("hydrated"),$o=(L,me,$e)=>{var qe,ct;const vt=L.prototype;if(me.$members$||me.$watchers$||L.watchers){L.watchers&&!me.$watchers$&&(me.$watchers$=L.watchers);const zt=Object.entries(null!=(qe=me.$members$)?qe:{});if(zt.map(([Yt,[Wt]])=>{31&Wt||2&$e&&32&Wt?Object.defineProperty(vt,Yt,{get(){return((L,me)=>G(this).$instanceValues$.get(me))(0,Yt)},set(Qt){((L,me,$e,qe)=>{const ct=G(L);if(!ct)throw new Error(`Couldn't find host element for "${qe.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const vt=ct.$hostElement$,zt=ct.$instanceValues$.get(me),Yt=ct.$flags$,Wt=ct.$lazyInstance$;$e=((L,me)=>null==L||Gt(L)?L:4&me?"false"!==L&&(""===L||!!L):2&me?parseFloat(L):1&me?String(L):L)($e,qe.$members$[me][0]);const Qt=Number.isNaN(zt)&&Number.isNaN($e);if((!(8&Yt)||void 0===zt)&&$e!==zt&&!Qt&&(ct.$instanceValues$.set(me,$e),Wt)){if(qe.$watchers$&&128&Yt){const Cn=qe.$watchers$[me];Cn&&Cn.map(Nn=>{try{Wt[Nn]($e,zt,me)}catch(kn){ue(kn,vt)}})}2==(18&Yt)&&Xn(ct,!1)}})(this,Yt,Qt,me)},configurable:!0,enumerable:!0}):1&$e&&64&Wt&&Object.defineProperty(vt,Yt,{value(...Qt){var un;const Cn=G(this);return null==(un=Cn?.$onInstancePromise$)?void 0:un.then(()=>{var Nn;return null==(Nn=Cn.$lazyInstance$)?void 0:Nn[Yt](...Qt)})}})}),1&$e){const Yt=new Map;vt.attributeChangedCallback=function(Wt,Qt,un){ht.jmp(()=>{var Cn;const Nn=Yt.get(Wt);if(this.hasOwnProperty(Nn))un=this[Nn],delete this[Nn];else{if(vt.hasOwnProperty(Nn)&&"number"==typeof this[Nn]&&this[Nn]==un)return;if(null==Nn){const kn=G(this),br=kn?.$flags$;if(br&&!(8&br)&&128&br&&un!==Qt){const Or=kn.$lazyInstance$,ri=null==(Cn=me.$watchers$)?void 0:Cn[Wt];ri?.forEach(Pr=>{null!=Or[Pr]&&Or[Pr].call(Or,un,Qt,Wt)})}return}}this[Nn]=(null!==un||"boolean"!=typeof this[Nn])&&un})},L.observedAttributes=Array.from(new Set([...Object.keys(null!=(ct=me.$watchers$)?ct:{}),...zt.filter(([Wt,Qt])=>15&Qt[0]).map(([Wt,Qt])=>{var un;const Cn=Qt[1]||Wt;return Yt.set(Cn,Wt),512&Qt[0]&&(null==(un=me.$attrsToReflect$)||un.push([Wt,Cn])),Cn})]))}}return L},ss=function(){var L=(0,a.A)(function*(me,$e,qe,ct){let vt;if(!(32&$e.$flags$)){if($e.$flags$|=32,qe.$lazyBundleId$){const Qt=(L=>{const qe=L.$tagName$.replace(/-/g,"_"),ct=L.$lazyBundleId$;if(!ct)return;const vt=z.get(ct);return vt?vt[qe]:b(8996)(`./${ct}.entry.js`).then(zt=>(z.set(ct,zt),zt[qe]),ue)})(qe);if(Qt&&"then"in Qt){const Cn=()=>{};vt=yield Qt,Cn()}else vt=Qt;if(!vt)throw new Error(`Constructor for "${qe.$tagName$}#${$e.$modeName$}" was not found`);vt.isProxied||(qe.$watchers$=vt.watchers,$o(vt,qe,2),vt.isProxied=!0);const un=()=>{};$e.$flags$|=8;try{new vt($e)}catch(Cn){ue(Cn)}$e.$flags$&=-9,$e.$flags$|=128,un(),qo($e.$lazyInstance$)}else vt=me.constructor,customElements.whenDefined(me.localName).then(()=>$e.$flags$|=128);if(vt&&vt.style){let Qt;"string"==typeof vt.style?Qt=vt.style:"string"!=typeof vt.style&&($e.$modeName$=(L=>xe.map(me=>me(L)).find(me=>!!me))(me),$e.$modeName$&&(Qt=vt.style[$e.$modeName$]));const un=bt(qe,$e.$modeName$);if(!fe.has(un)){const Cn=()=>{};((L,me,$e)=>{let qe=fe.get(L);Me&&$e?(qe=qe||new CSSStyleSheet,"string"==typeof qe?qe=me:qe.replaceSync(me)):qe=me,fe.set(L,qe)})(un,Qt,!!(1&qe.$flags$)),Cn()}}}const zt=$e.$ancestorComponent$,Yt=()=>Xn($e,!0);zt&&zt["s-rc"]?zt["s-rc"].push(Yt):Yt()});return function($e,qe,ct,vt){return L.apply(this,arguments)}}(),qo=L=>{Ai(L,"connectedCallback")},jo=L=>{const me=L["s-cr"]=Ie.createComment("");me["s-cn"]=!0,at(L,me,L.firstChild)},Ti=L=>{Ai(L,"disconnectedCallback")},Rs=function(){var L=(0,a.A)(function*(me){if(!(1&ht.$flags$)){const $e=G(me);$e.$rmListeners$&&($e.$rmListeners$.map(qe=>qe()),$e.$rmListeners$=void 0),$e?.$lazyInstance$?Ti($e.$lazyInstance$):$e?.$onReadyPromise$&&$e.$onReadyPromise$.then(()=>Ti($e.$lazyInstance$))}});return function($e){return L.apply(this,arguments)}}(),cs=L=>{const me=L.cloneNode;L.cloneNode=function($e){const qe=this,ct=qe.shadowRoot&&true,vt=me.call(qe,!!ct&&$e);if(!ct&&$e){let Yt,Wt,zt=0;const Qt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;zt<qe.childNodes.length;zt++)Yt=qe.childNodes[zt]["s-nr"],Wt=Qt.every(un=>!qe.childNodes[zt][un]),Yt&&(vt.__appendChild?vt.__appendChild(Yt.cloneNode(!0)):vt.appendChild(Yt.cloneNode(!0))),Wt&&vt.appendChild(qe.childNodes[zt].cloneNode(!0))}return vt}},ja=L=>{L.__appendChild=L.appendChild,L.appendChild=function(me){const $e=me["s-sn"]=Mr(me),qe=Co(this.childNodes,$e,this.tagName);if(qe){const ct=Ao(qe,$e),vt=ct[ct.length-1],zt=at(vt.parentNode,me,vt.nextSibling);return he(this),zt}return this.__appendChild(me)}},ls=L=>{L.__removeChild=L.removeChild,L.removeChild=function(me){if(me&&typeof me["s-sn"]<"u"){const $e=Co(this.childNodes,me["s-sn"],this.tagName);if($e){const ct=Ao($e,me["s-sn"]).find(vt=>vt===me);if(ct)return ct.remove(),void he(this)}}return this.__removeChild(me)}},ni=L=>{const me=L.prepend;L.prepend=function(...$e){$e.forEach(qe=>{"string"==typeof qe&&(qe=this.ownerDocument.createTextNode(qe));const ct=qe["s-sn"]=Mr(qe),vt=Co(this.childNodes,ct,this.tagName);if(vt){const zt=document.createTextNode("");zt["s-nr"]=qe,vt["s-cr"].parentNode.__appendChild(zt),qe["s-ol"]=zt;const Wt=Ao(vt,ct)[0];return at(Wt.parentNode,qe,Wt.nextSibling)}return 1===qe.nodeType&&qe.getAttribute("slot")&&(qe.hidden=!0),me.call(this,qe)})}},ro=L=>{L.append=function(...me){me.forEach($e=>{"string"==typeof $e&&($e=this.ownerDocument.createTextNode($e)),this.appendChild($e)})}},Ho=L=>{const me=L.insertAdjacentHTML;L.insertAdjacentHTML=function($e,qe){if("afterbegin"!==$e&&"beforeend"!==$e)return me.call(this,$e,qe);const ct=this.ownerDocument.createElement("_");let vt;if(ct.innerHTML=qe,"afterbegin"===$e)for(;vt=ct.firstChild;)this.prepend(vt);else if("beforeend"===$e)for(;vt=ct.firstChild;)this.append(vt)}},ia=L=>{L.insertAdjacentText=function(me,$e){this.insertAdjacentHTML(me,$e)}},xa=L=>{const me=L.insertAdjacentElement;L.insertAdjacentElement=function($e,qe){return"afterbegin"!==$e&&"beforeend"!==$e?me.call(this,$e,qe):"afterbegin"===$e?(this.prepend(qe),qe):("beforeend"===$e&&this.append(qe),qe)}},jr=L=>{const me=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(L,"__textContent",me),Object.defineProperty(L,"textContent",{get(){return" "+li(this.childNodes).map(ct=>{var vt,zt;const Yt=[];let Wt=ct.nextSibling;for(;Wt&&Wt["s-sn"]===ct["s-sn"];)(3===Wt.nodeType||1===Wt.nodeType)&&Yt.push(null!=(zt=null==(vt=Wt.textContent)?void 0:vt.trim())?zt:""),Wt=Wt.nextSibling;return Yt.filter(Qt=>""!==Qt).join(" ")}).filter(ct=>""!==ct).join(" ")+" "},set($e){li(this.childNodes).forEach(ct=>{let vt=ct.nextSibling;for(;vt&&vt["s-sn"]===ct["s-sn"];){const zt=vt;vt=vt.nextSibling,zt.remove()}if(""===ct["s-sn"]){const zt=this.ownerDocument.createTextNode($e);zt["s-sn"]="",at(ct.parentElement,zt,ct.nextSibling)}else ct.remove()})}})},Qo=(L,me)=>{class $e extends Array{item(ct){return this[ct]}}if(8&me.$flags$){const qe=L.__lookupGetter__("childNodes");Object.defineProperty(L,"children",{get(){return this.childNodes.map(ct=>1===ct.nodeType)}}),Object.defineProperty(L,"childElementCount",{get:()=>L.children.length}),Object.defineProperty(L,"childNodes",{get(){const ct=qe.call(this);if(!(1&ht.$flags$)&&2&G(this).$flags$){const vt=new $e;for(let zt=0;zt<ct.length;zt++){const Yt=ct[zt]["s-nr"];Yt&&vt.push(Yt)}return vt}return $e.from(ct)}})}},li=L=>{const me=[];for(const $e of Array.from(L))$e["s-sr"]&&me.push($e),me.push(...li($e.childNodes));return me},Mr=L=>L["s-sn"]||1===L.nodeType&&L.getAttribute("slot")||"",Co=(L,me,$e)=>{let ct,qe=0;for(;qe<L.length;qe++)if(ct=L[qe],ct["s-sr"]&&ct["s-sn"]===me&&ct["s-hn"]===$e||(ct=Co(ct.childNodes,me,$e),ct))return ct;return null},Ao=(L,me)=>{const $e=[L];for(;(L=L.nextSibling)&&L["s-sn"]===me;)$e.push(L);return $e},xi=(L,me={})=>{var $e;const ct=[],vt=me.exclude||[],zt=Ye.customElements,Yt=Ie.head,Wt=Yt.querySelector("meta[charset]"),Qt=Ie.createElement("style"),un=[];let Cn,Nn=!0;Object.assign(ht,me),ht.$resourcesUrl$=new URL(me.resourcesUrl||"./",Ie.baseURI).href,ht.$flags$|=2;let kn=!1;if(L.map(br=>{br[1].map(Or=>{var ri;const Pr={$flags$:Or[0],$tagName$:Or[1],$members$:Or[2],$listeners$:Or[3]};4&Pr.$flags$&&(kn=!0),Pr.$members$=Or[2],Pr.$listeners$=Or[3],Pr.$attrsToReflect$=[],Pr.$watchers$=null!=(ri=Or[4])?ri:{};const cn=Pr.$tagName$,Qi=class extends HTMLElement{constructor(vi){if(super(vi),this.hasRegisteredEventListeners=!1,((L,me)=>{const $e={$flags$:0,$hostElement$:L,$cmpMeta$:me,$instanceValues$:new Map};$e.$onInstancePromise$=new Promise(qe=>$e.$onInstanceResolve$=qe),$e.$onReadyPromise$=new Promise(qe=>$e.$onReadyResolve$=qe),L["s-p"]=[],L["s-rc"]=[],ge.set(L,$e)})(vi=this,Pr),1&Pr.$flags$)if(vi.shadowRoot){if("open"!==vi.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Pr.$tagName$}! Mode is set to ${vi.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else vi.attachShadow({mode:"open",delegatesFocus:!!(16&Pr.$flags$)})}connectedCallback(){const vi=G(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,Y(this,vi,Pr.$listeners$)),Cn&&(clearTimeout(Cn),Cn=null),Nn?un.push(this):ht.jmp(()=>(L=>{if(!(1&ht.$flags$)){const me=G(L),$e=me.$cmpMeta$,qe=()=>{};if(1&me.$flags$)Y(L,me,$e.$listeners$),me?.$lazyInstance$?qo(me.$lazyInstance$):me?.$onReadyPromise$&&me.$onReadyPromise$.then(()=>qo(me.$lazyInstance$));else{let ct;if(me.$flags$|=1,ct=L.getAttribute(we),ct){if(1&$e.$flags$){const vt=qr(L.shadowRoot,$e,L.getAttribute("s-mode"));L.classList.remove(vt+"-h",vt+"-s")}((L,me,$e,qe)=>{const vt=L.shadowRoot,zt=[],Wt=vt?[]:null,Qt=qe.$vnode$=mn(me,null);ht.$orgLocNodes$||Zn(Ie.body,ht.$orgLocNodes$=new Map),L[we]=$e,L.removeAttribute(we),Mn(Qt,zt,[],Wt,L,L,$e),zt.map(un=>{const Cn=un.$hostId$+"."+un.$nodeId$,Nn=ht.$orgLocNodes$.get(Cn),kn=un.$elm$;Nn&&""===Nn["s-en"]&&Nn.parentNode.insertBefore(kn,Nn.nextSibling),vt||(kn["s-hn"]=me,Nn&&(kn["s-ol"]=Nn,kn["s-ol"]["s-nr"]=kn)),ht.$orgLocNodes$.delete(Cn)}),vt&&Wt.map(un=>{un&&vt.appendChild(un)})})(L,$e.$tagName$,ct,me)}ct||12&$e.$flags$&&jo(L);{let vt=L;for(;vt=vt.parentNode||vt.host;)if(1===vt.nodeType&&vt.hasAttribute("s-id")&&vt["s-p"]||vt["s-p"]){fr(me,me.$ancestorComponent$=vt);break}}$e.$members$&&Object.entries($e.$members$).map(([vt,[zt]])=>{if(31&zt&&L.hasOwnProperty(vt)){const Yt=L[vt];delete L[vt],L[vt]=Yt}}),ss(L,me,$e)}qe()}})(this))}disconnectedCallback(){ht.jmp(()=>Rs(this))}componentOnReady(){return G(this).$onReadyPromise$}};2&Pr.$flags$&&((L,me)=>{cs(L),ja(L),ro(L),ni(L),xa(L),Ho(L),ia(L),jr(L),Qo(L,me),ls(L)})(Qi.prototype,Pr),Pr.$lazyBundleId$=br[0],!vt.includes(cn)&&!zt.get(cn)&&(ct.push(cn),zt.define(cn,$o(Qi,Pr,1)))})}),ct.length>0&&(kn&&(Qt.textContent+=Le),Qt.textContent+=ct.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Qt.innerHTML.length)){Qt.setAttribute("data-styles","");const br=null!=($e=ht.$nonce$)?$e:Ht(Ie);null!=br&&Qt.setAttribute("nonce",br),Yt.insertBefore(Qt,Wt?Wt.nextSibling:Yt.firstChild)}Nn=!1,un.length?un.map(br=>br.connectedCallback()):ht.jmp(()=>Cn=setTimeout(Gi,30))},Y=(L,me,$e,qe)=>{$e&&$e.map(([ct,vt,zt])=>{const Yt=J(L,ct),Wt=rr(me,zt),Qt=P(ct);ht.ael(Yt,vt,Wt,Qt),(me.$rmListeners$=me.$rmListeners$||[]).push(()=>ht.rel(Yt,vt,Wt,Qt))})},rr=(L,me)=>$e=>{var qe;try{256&L.$flags$?null==(qe=L.$lazyInstance$)||qe[me]($e):(L.$queuedListeners$=L.$queuedListeners$||[]).push([me,$e])}catch(ct){ue(ct)}},J=(L,me)=>4&me?Ie:8&me?Ye:16&me?Ie.body:L,P=L=>jt?{passive:!!(1&L),capture:!!(2&L)}:!!(2&L)},8607:(St,Ke,b)=>{"use strict";b.r(Ke),b.d(Ke,{GESTURE_CONTROLLER:()=>a.G,createGesture:()=>de});var a=b(1970);const x=(z,le,fe,xe)=>{const De=te(z)?{capture:!!xe.capture,passive:!!xe.passive}:!!xe.capture;let q,ve;return z.__zone_symbol__addEventListener?(q="__zone_symbol__addEventListener",ve="__zone_symbol__removeEventListener"):(q="addEventListener",ve="removeEventListener"),z[q](le,fe,De),()=>{z[ve](le,fe,De)}},te=z=>{if(void 0===B)try{const le=Object.defineProperty({},"passive",{get:()=>{B=!0}});z.addEventListener("optsTest",()=>{},le)}catch{B=!1}return!!B};let B;const ge=z=>z instanceof Document?z:z.ownerDocument,de=z=>{let le=!1,fe=!1,xe=!0,De=!1;const q=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},z),ve=q.canStart,W=q.onWillStart,we=q.onStart,ce=q.onEnd,oe=q.notCaptured,Se=q.onMove,Le=q.threshold,Re=q.passive,Ye=q.blurOnStart,Ie={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},rt=((z,le,fe)=>{const xe=fe*(Math.PI/180),De="x"===z,q=Math.cos(xe),ve=le*le;let W=0,we=0,ce=!1,oe=0;return{start(Se,Le){W=Se,we=Le,oe=0,ce=!0},detect(Se,Le){if(!ce)return!1;const Re=Se-W,Ye=Le-we,Ie=Re*Re+Ye*Ye;if(Ie<ve)return!1;const rt=Math.sqrt(Ie),ht=(De?Re:Ye)/rt;return oe=ht>q?1:ht<-q?-1:0,ce=!1,!0},isGesture:()=>0!==oe,getDirection:()=>oe}})(q.direction,q.threshold,q.maxAngle),ht=a.G.createGesture({name:z.gestureName,priority:z.gesturePriority,disableScroll:z.disableScroll}),jt=()=>{le&&(De=!1,Se&&Se(Ie))},it=()=>!!ht.capture()&&(le=!0,xe=!1,Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime,W?W(Ie).then(V):V(),!0),V=()=>{Ye&&(()=>{if(typeof document<"u"){const Fe=document.activeElement;Fe?.blur&&Fe.blur()}})(),we&&we(Ie),xe=!0},j=()=>{le=!1,fe=!1,De=!1,xe=!0,ht.release()},Z=Fe=>{const ft=le,We=xe;if(j(),We){if(ie(Ie,Fe),ft)return void(ce&&ce(Ie));oe&&oe(Ie)}},Ce=((z,le,fe,xe,De)=>{let q,ve,W,we,ce,oe,Se,Le=0;const Re=Me=>{Le=Date.now()+2e3,le(Me)&&(!ve&&fe&&(ve=x(z,"touchmove",fe,De)),W||(W=x(Me.target,"touchend",Ie,De)),we||(we=x(Me.target,"touchcancel",Ie,De)))},Ye=Me=>{Le>Date.now()||le(Me)&&(!oe&&fe&&(oe=x(ge(z),"mousemove",fe,De)),Se||(Se=x(ge(z),"mouseup",rt,De)))},Ie=Me=>{ht(),xe&&xe(Me)},rt=Me=>{Et(),xe&&xe(Me)},ht=()=>{ve&&ve(),W&&W(),we&&we(),ve=W=we=void 0},Et=()=>{oe&&oe(),Se&&Se(),oe=Se=void 0},xt=()=>{ht(),Et()},jt=(Me=!0)=>{Me?(q||(q=x(z,"touchstart",Re,De)),ce||(ce=x(z,"mousedown",Ye,De))):(q&&q(),ce&&ce(),q=ce=void 0,xt())};return{enable:jt,stop:xt,destroy:()=>{jt(!1),xe=fe=le=void 0}}})(q.el,Fe=>{const ft=ue(Fe);return!(fe||!xe||(F(Fe,Ie),Ie.startX=Ie.currentX,Ie.startY=Ie.currentY,Ie.startTime=Ie.currentTime=ft,Ie.velocityX=Ie.velocityY=Ie.deltaX=Ie.deltaY=0,Ie.event=Fe,ve&&!1===ve(Ie))||(ht.release(),!ht.start()))&&(fe=!0,0===Le?it():(rt.start(Ie.startX,Ie.startY),!0))},Fe=>{le?!De&&xe&&(De=!0,ie(Ie,Fe),requestAnimationFrame(jt)):(ie(Ie,Fe),rt.detect(Ie.currentX,Ie.currentY)&&(!rt.isGesture()||!it())&&ut())},Z,{capture:!1,passive:Re}),ut=()=>{j(),Ce.stop(),oe&&oe(Ie)};return{enable(Fe=!0){Fe||(le&&Z(void 0),j()),Ce.enable(Fe)},destroy(){ht.destroy(),Ce.destroy()}}},ie=(z,le)=>{if(!le)return;const fe=z.currentX,xe=z.currentY,De=z.currentTime;F(le,z);const q=z.currentX,ve=z.currentY,we=(z.currentTime=ue(le))-De;if(we>0&&we<100){const oe=(ve-xe)/we;z.velocityX=(q-fe)/we*.7+.3*z.velocityX,z.velocityY=.7*oe+.3*z.velocityY}z.deltaX=q-z.startX,z.deltaY=ve-z.startY,z.event=le},F=(z,le)=>{let fe=0,xe=0;if(z){const De=z.changedTouches;if(De&&De.length>0){const q=De[0];fe=q.clientX,xe=q.clientY}else void 0!==z.pageX&&(fe=z.pageX,xe=z.pageY)}le.currentX=fe,le.currentY=xe},ue=z=>z.timeStamp||Date.now()},3604:(St,Ke,b)=>{"use strict";b.d(Ke,{b:()=>G,c:()=>de,d:()=>ie,e:()=>xt,g:()=>Me,l:()=>ht,s:()=>jt,t:()=>q,w:()=>Et});var a=b(467),x=b(9483),te=b(4261),B=b(4929),ae=b(4920);const G="ionViewWillLeave",de="ionViewDidLeave",ie="ionViewWillUnload",F=V=>{V.tabIndex=-1,V.focus()},ue=V=>null!==V.offsetParent,le="ion-last-focus",De_saveViewFocus=Z=>{if(x.c.get("focusManagerPriority",!1)){const ut=document.activeElement;null!==ut&&Z?.contains(ut)&&ut.setAttribute(le,"true")}},De_setViewFocus=Z=>{const Ce=x.c.get("focusManagerPriority",!1);if(Array.isArray(Ce)&&!Z.contains(document.activeElement)){const ut=Z.querySelector(`[${le}]`);if(ut&&ue(ut))return void F(ut);for(const Fe of Ce)switch(Fe){case"content":const ft=Z.querySelector('main, [role="main"]');if(ft&&ue(ft))return void F(ft);break;case"heading":const We=Z.querySelector('h1, [role="heading"][aria-level="1"]');if(We&&ue(We))return void F(We);break;case"banner":const en=Z.querySelector('header, [role="banner"]');if(en&&ue(en))return void F(en);break;default:(0,B.p)(`Unrecognized focus manager priority value ${Fe}`)}F(Z)}},q=V=>new Promise((j,Z)=>{(0,te.w)(()=>{ve(V),W(V).then(Ce=>{Ce.animation&&Ce.animation.destroy(),we(V),j(Ce)},Ce=>{we(V),Z(Ce)})})}),ve=V=>{const j=V.enteringEl,Z=V.leavingEl;De_saveViewFocus(Z),it(j,Z,V.direction),V.showGoBack?j.classList.add("can-go-back"):j.classList.remove("can-go-back"),jt(j,!1),j.style.setProperty("pointer-events","none"),Z&&(jt(Z,!1),Z.style.setProperty("pointer-events","none"))},W=function(){var V=(0,a.A)(function*(j){const Z=yield ce(j);return Z&&te.B.isBrowser?oe(Z,j):Se(j)});return function(Z){return V.apply(this,arguments)}}(),we=V=>{const j=V.enteringEl,Z=V.leavingEl;j.classList.remove("ion-page-invisible"),j.style.removeProperty("pointer-events"),void 0!==Z&&(Z.classList.remove("ion-page-invisible"),Z.style.removeProperty("pointer-events")),De_setViewFocus(j)},ce=function(){var V=(0,a.A)(function*(j){return j.leavingEl&&j.animated&&0!==j.duration?j.animationBuilder?j.animationBuilder:"ios"===j.mode?(yield Promise.resolve().then(b.bind(b,5022))).iosTransitionAnimation:(yield Promise.resolve().then(b.bind(b,3615))).mdTransitionAnimation:void 0});return function(Z){return V.apply(this,arguments)}}(),oe=function(){var V=(0,a.A)(function*(j,Z){yield Le(Z,!0);const Ce=j(Z.baseEl,Z);Ie(Z.enteringEl,Z.leavingEl);const ut=yield Ye(Ce,Z);return Z.progressCallback&&Z.progressCallback(void 0),ut&&rt(Z.enteringEl,Z.leavingEl),{hasCompleted:ut,animation:Ce}});return function(Z,Ce){return V.apply(this,arguments)}}(),Se=function(){var V=(0,a.A)(function*(j){const Z=j.enteringEl,Ce=j.leavingEl,ut=x.c.get("focusManagerPriority",!1);return yield Le(j,ut),Ie(Z,Ce),rt(Z,Ce),{hasCompleted:!0}});return function(Z){return V.apply(this,arguments)}}(),Le=function(){var V=(0,a.A)(function*(j,Z){(void 0!==j.deepWait?j.deepWait:Z)&&(yield Promise.all([xt(j.enteringEl),xt(j.leavingEl)])),yield Re(j.viewIsReady,j.enteringEl)});return function(Z,Ce){return V.apply(this,arguments)}}(),Re=function(){var V=(0,a.A)(function*(j,Z){j&&(yield j(Z))});return function(Z,Ce){return V.apply(this,arguments)}}(),Ye=(V,j)=>{const Z=j.progressCallback,Ce=new Promise(ut=>{V.onFinish(Fe=>ut(1===Fe))});return Z?(V.progressStart(!0),Z(V)):V.play(),Ce},Ie=(V,j)=>{ht(j,G),ht(V,"ionViewWillEnter")},rt=(V,j)=>{ht(V,"ionViewDidEnter"),ht(j,de)},ht=(V,j)=>{if(V){const Z=new CustomEvent(j,{bubbles:!1,cancelable:!1});V.dispatchEvent(Z)}},Et=()=>new Promise(V=>(0,ae.r)(()=>(0,ae.r)(()=>V()))),xt=function(){var V=(0,a.A)(function*(j){const Z=j;if(Z){if(null!=Z.componentOnReady){if(null!=(yield Z.componentOnReady()))return}else if(null!=Z.__registerHost)return void(yield new Promise(ut=>(0,ae.r)(ut)));yield Promise.all(Array.from(Z.children).map(xt))}});return function(Z){return V.apply(this,arguments)}}(),jt=(V,j)=>{j?(V.setAttribute("aria-hidden","true"),V.classList.add("ion-page-hidden")):(V.hidden=!1,V.removeAttribute("aria-hidden"),V.classList.remove("ion-page-hidden"))},it=(V,j,Z)=>{void 0!==V&&(V.style.zIndex="back"===Z?"99":"101"),void 0!==j&&(j.style.zIndex="100")},Me=V=>V.classList.contains("ion-page")?V:V.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||V},4929:(St,Ke,b)=>{"use strict";b.d(Ke,{a:()=>x,b:()=>te,p:()=>a});const a=(B,...ae)=>console.warn(`[Ionic Warning]: ${B}`,...ae),x=(B,...ae)=>console.error(`[Ionic Error]: ${B}`,...ae),te=(B,...ae)=>console.error(`<${B.tagName.toLowerCase()}> must be used inside ${ae.join(" or ")}.`)},8476:(St,Ke,b)=>{"use strict";b.d(Ke,{d:()=>x,w:()=>a});const a=typeof window<"u"?window:void 0,x=typeof document<"u"?document:void 0},9568:(St,Ke,b)=>{"use strict";b.d(Ke,{m:()=>z});var a=b(467),x=b(8476),te=b(7192),B=b(4929),ae=b(4920),ne=b(9483),ge=b(9986);const G=le=>(0,ge.c)().duration(le?400:300),de=le=>{let fe,xe;const De=le.width+8,q=(0,ge.c)(),ve=(0,ge.c)();le.isEndSide?(fe=De+"px",xe="0px"):(fe=-De+"px",xe="0px"),q.addElement(le.menuInnerEl).fromTo("transform",`translateX(${fe})`,`translateX(${xe})`);const we="ios"===(0,ne.b)(le),ce=we?.2:.25;return ve.addElement(le.backdropEl).fromTo("opacity",.01,ce),G(we).addAnimation([q,ve])},ie=le=>{let fe,xe;const De=(0,ne.b)(le),q=le.width;le.isEndSide?(fe=-q+"px",xe=q+"px"):(fe=q+"px",xe=-q+"px");const ve=(0,ge.c)().addElement(le.menuInnerEl).fromTo("transform",`translateX(${xe})`,"translateX(0px)"),W=(0,ge.c)().addElement(le.contentEl).fromTo("transform","translateX(0px)",`translateX(${fe})`),we=(0,ge.c)().addElement(le.backdropEl).fromTo("opacity",.01,.32);return G("ios"===De).addAnimation([ve,W,we])},F=le=>{const fe=(0,ne.b)(le),xe=le.width*(le.isEndSide?-1:1)+"px",De=(0,ge.c)().addElement(le.contentEl).fromTo("transform","translateX(0px)",`translateX(${xe})`);return G("ios"===fe).addAnimation(De)},z=(()=>{const le=new Map,fe=[],xe=function(){var j=(0,a.A)(function*(Z){const Ce=yield oe(Z,!0);return!!Ce&&Ce.open()});return function(Ce){return j.apply(this,arguments)}}(),De=function(){var j=(0,a.A)(function*(Z){const Ce=yield void 0!==Z?oe(Z,!0):Se();return void 0!==Ce&&Ce.close()});return function(Ce){return j.apply(this,arguments)}}(),q=function(){var j=(0,a.A)(function*(Z){const Ce=yield oe(Z,!0);return!!Ce&&Ce.toggle()});return function(Ce){return j.apply(this,arguments)}}(),ve=function(){var j=(0,a.A)(function*(Z,Ce){const ut=yield oe(Ce);return ut&&(ut.disabled=!Z),ut});return function(Ce,ut){return j.apply(this,arguments)}}(),W=function(){var j=(0,a.A)(function*(Z,Ce){const ut=yield oe(Ce);return ut&&(ut.swipeGesture=Z),ut});return function(Ce,ut){return j.apply(this,arguments)}}(),we=function(){var j=(0,a.A)(function*(Z){if(null!=Z){const Ce=yield oe(Z);return void 0!==Ce&&Ce.isOpen()}return void 0!==(yield Se())});return function(Ce){return j.apply(this,arguments)}}(),ce=function(){var j=(0,a.A)(function*(Z){const Ce=yield oe(Z);return!!Ce&&!Ce.disabled});return function(Ce){return j.apply(this,arguments)}}(),oe=function(){var j=(0,a.A)(function*(Z,Ce=!1){if(yield V(),"start"===Z||"end"===Z){const Fe=fe.filter(We=>We.side===Z&&!We.disabled);if(Fe.length>=1)return Fe.length>1&&Ce&&(0,B.p)(`menuController queried for a menu on the "${Z}" side, but ${Fe.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Fe.map(We=>We.el)),Fe[0].el;const ft=fe.filter(We=>We.side===Z);if(ft.length>=1)return ft.length>1&&Ce&&(0,B.p)(`menuController queried for a menu on the "${Z}" side, but ${ft.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,ft.map(We=>We.el)),ft[0].el}else if(null!=Z)return Me(Fe=>Fe.menuId===Z);return Me(Fe=>!Fe.disabled)||(fe.length>0?fe[0].el:void 0)});return function(Ce){return j.apply(this,arguments)}}(),Se=function(){var j=(0,a.A)(function*(){return yield V(),xt()});return function(){return j.apply(this,arguments)}}(),Le=function(){var j=(0,a.A)(function*(){return yield V(),jt()});return function(){return j.apply(this,arguments)}}(),Re=function(){var j=(0,a.A)(function*(){return yield V(),it()});return function(){return j.apply(this,arguments)}}(),Ye=(j,Z)=>{le.set(j,Z)},ht=function(){var j=(0,a.A)(function*(Z,Ce,ut){if(it())return!1;if(Ce){const Fe=yield Se();Fe&&Z.el!==Fe&&(yield Fe.setOpen(!1,!1))}return Z._setOpen(Ce,ut)});return function(Ce,ut,Fe){return j.apply(this,arguments)}}(),xt=()=>Me(j=>j._isOpen),jt=()=>fe.map(j=>j.el),it=()=>fe.some(j=>j.isAnimating),Me=j=>{const Z=fe.find(j);if(void 0!==Z)return Z.el},V=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(j=>new Promise(Z=>(0,ae.c)(j,Z))));return Ye("reveal",F),Ye("push",ie),Ye("overlay",de),null==x.d||x.d.addEventListener("ionBackButton",j=>{const Z=xt();Z&&j.detail.register(te.MENU_BACK_BUTTON_PRIORITY,()=>Z.close())}),{registerAnimation:Ye,get:oe,getMenus:Le,getOpen:Se,isEnabled:ce,swipeGesture:W,isAnimating:Re,isOpen:we,enable:ve,toggle:q,close:De,open:xe,_getOpenSync:xt,_createAnimation:(j,Z)=>{const Ce=le.get(j);if(!Ce)throw new Error("animation not registered");return Ce(Z)},_register:j=>{fe.indexOf(j)<0&&fe.push(j)},_unregister:j=>{const Z=fe.indexOf(j);Z>-1&&fe.splice(Z,1)},_setOpen:ht}})()},9483:(St,Ke,b)=>{"use strict";b.d(Ke,{a:()=>F,b:()=>jt,c:()=>te,i:()=>it});var a=b(4261);class x{constructor(){this.m=new Map}reset(V){this.m=new Map(Object.entries(V))}get(V,j){const Z=this.m.get(V);return void 0!==Z?Z:j}getBoolean(V,j=!1){const Z=this.m.get(V);return void 0===Z?j:"string"==typeof Z?"true"===Z:!!Z}getNumber(V,j){const Z=parseFloat(this.m.get(V));return isNaN(Z)?void 0!==j?j:NaN:Z}set(V,j){this.m.set(V,j)}}const te=new x,G="ionic:",de="ionic-persist-config",F=(Me,V)=>("string"==typeof Me&&(V=Me,Me=void 0),(Me=>ue(Me))(Me).includes(V)),ue=(Me=window)=>{if(typeof Me>"u")return[];Me.Ionic=Me.Ionic||{};let V=Me.Ionic.platforms;return null==V&&(V=Me.Ionic.platforms=z(Me),V.forEach(j=>Me.document.documentElement.classList.add(`plt-${j}`))),V},z=Me=>{const V=te.get("platform");return Object.keys(Et).filter(j=>{const Z=V?.[j];return"function"==typeof Z?Z(Me):Et[j](Me)})},fe=Me=>!!(rt(Me,/iPad/i)||rt(Me,/Macintosh/i)&&ce(Me)),q=Me=>rt(Me,/android|sink/i),ce=Me=>ht(Me,"(any-pointer:coarse)"),Se=Me=>Le(Me)||Re(Me),Le=Me=>!!(Me.cordova||Me.phonegap||Me.PhoneGap),Re=Me=>{const V=Me.Capacitor;return!!V?.isNative},rt=(Me,V)=>V.test(Me.navigator.userAgent),ht=(Me,V)=>{var j;return null===(j=Me.matchMedia)||void 0===j?void 0:j.call(Me,V).matches},Et={ipad:fe,iphone:Me=>rt(Me,/iPhone/i),ios:Me=>rt(Me,/iPhone|iPod/i)||fe(Me),android:q,phablet:Me=>{const V=Me.innerWidth,j=Me.innerHeight,Z=Math.min(V,j),Ce=Math.max(V,j);return Z>390&&Z<520&&Ce>620&&Ce<800},tablet:Me=>{const V=Me.innerWidth,j=Me.innerHeight,Z=Math.min(V,j),Ce=Math.max(V,j);return fe(Me)||(Me=>q(Me)&&!rt(Me,/mobile/i))(Me)||Z>460&&Z<820&&Ce>780&&Ce<1400},cordova:Le,capacitor:Re,electron:Me=>rt(Me,/electron/i),pwa:Me=>{var V;return!!(null!==(V=Me.matchMedia)&&void 0!==V&&V.call(Me,"(display-mode: standalone)").matches||Me.navigator.standalone)},mobile:ce,mobileweb:Me=>ce(Me)&&!Se(Me),desktop:Me=>!ce(Me),hybrid:Se};let xt;const jt=Me=>Me&&(0,a.g)(Me)||xt,it=(Me={})=>{if(typeof window>"u")return;const V=window.document,j=window,Z=j.Ionic=j.Ionic||{},Ce={};Me._ael&&(Ce.ael=Me._ael),Me._rel&&(Ce.rel=Me._rel),Me._ce&&(Ce.ce=Me._ce),(0,a.a)(Ce);const ut=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(Me=>{try{const V=Me.sessionStorage.getItem(de);return null!==V?JSON.parse(V):{}}catch{return{}}})(j)),{persistConfig:!1}),Z.config),(Me=>{const V={};return Me.location.search.slice(1).split("&").map(j=>j.split("=")).map(([j,Z])=>{try{return[decodeURIComponent(j),decodeURIComponent(Z)]}catch{return["",""]}}).filter(([j])=>((Me,V)=>Me.substr(0,V.length)===V)(j,G)).map(([j,Z])=>[j.slice(6),Z]).forEach(([j,Z])=>{V[j]=Z}),V})(j)),Me);te.reset(ut),te.getBoolean("persistConfig")&&((Me,V)=>{try{Me.sessionStorage.setItem(de,JSON.stringify(V))}catch{return}})(j,ut),ue(j),Z.config=te,Z.mode=xt=te.get("mode",V.documentElement.getAttribute("mode")||(F(j,"ios")?"ios":"md")),te.set("mode",xt),V.documentElement.setAttribute("mode",xt),V.documentElement.classList.add(xt),te.getBoolean("_testing")&&te.set("animated",!1);const Fe=We=>{var en;return null===(en=We.tagName)||void 0===en?void 0:en.startsWith("ION-")},ft=We=>["ios","md"].includes(We);(0,a.c)(We=>{for(;We;){const en=We.mode||We.getAttribute("mode");if(en){if(ft(en))return en;Fe(We)&&console.warn('Invalid ionic mode: "'+en+'", expected: "ios" or "md"')}We=We.parentElement}return xt})}},5022:(St,Ke,b)=>{"use strict";b.r(Ke),b.d(Ke,{iosTransitionAnimation:()=>le,shadow:()=>G});var a=b(9986),x=b(3604);b(8476),b(9483),b(4261);const ge=xe=>document.querySelector(`${xe}.ion-cloned-element`),G=xe=>xe.shadowRoot||xe,de=xe=>{const De="ION-TABS"===xe.tagName?xe:xe.querySelector("ion-tabs"),q="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=De){const ve=De.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ve?ve.querySelector(q):null}return xe.querySelector(q)},ie=(xe,De)=>{const q="ION-TABS"===xe.tagName?xe:xe.querySelector("ion-tabs");let ve=[];if(null!=q){const W=q.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=W&&(ve=W.querySelectorAll("ion-buttons"))}else ve=xe.querySelectorAll("ion-buttons");for(const W of ve){const we=W.closest("ion-header"),ce=we&&!we.classList.contains("header-collapse-condense-inactive"),oe=W.querySelector("ion-back-button"),Se=W.classList.contains("buttons-collapse");if(null!==oe&&("start"===W.slot||""===W.slot)&&(Se&&ce&&De||!Se))return oe}return null},ue=(xe,De,q,ve,W,we,ce,oe,Se)=>{var Le,Re;const Ye=De?`calc(100% - ${W.right+4}px)`:W.left-4+"px",Ie=De?"right":"left",rt=De?"left":"right",ht=De?"right":"left";let Et=1,xt=1,jt=`scale(${xt})`;const it="scale(1)";if(we&&ce){const _t=(null===(Le=we.textContent)||void 0===Le?void 0:Le.trim())===(null===(Re=oe.textContent)||void 0===Re?void 0:Re.trim());Et=Se.width/ce.width,xt=(Se.height-fe)/ce.height,jt=_t?`scale(${Et}, ${xt})`:`scale(${xt})`}const V=G(ve).querySelector("ion-icon").getBoundingClientRect(),j=De?V.width/2-(V.right-W.right)+"px":W.left-V.width/2+"px",Z=De?`-${window.innerWidth-W.right}px`:`${W.left}px`,Ce=`${Se.top}px`,ut=`${W.top}px`,We=q?[{offset:0,transform:`translate3d(${Z}, ${ut}, 0)`},{offset:1,transform:`translate3d(${j}, ${Ce}, 0)`}]:[{offset:0,transform:`translate3d(${j}, ${Ce}, 0)`},{offset:1,transform:`translate3d(${Z}, ${ut}, 0)`}],gt=q?[{offset:0,opacity:1,transform:it},{offset:1,opacity:0,transform:jt}]:[{offset:0,opacity:0,transform:jt},{offset:1,opacity:1,transform:it}],fn=q?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Gt=(0,a.c)(),Ht=(0,a.c)(),Ln=(0,a.c)(),Bt=ge("ion-back-button"),He=G(Bt).querySelector(".button-text"),ze=G(Bt).querySelector("ion-icon");Bt.text=ve.text,Bt.mode=ve.mode,Bt.icon=ve.icon,Bt.color=ve.color,Bt.disabled=ve.disabled,Bt.style.setProperty("display","block"),Bt.style.setProperty("position","fixed"),Ht.addElement(ze),Gt.addElement(He),Ln.addElement(Bt),Ln.beforeStyles({position:"absolute",top:"0px",[ht]:"0px"}).beforeAddWrite(()=>{ve.style.setProperty("display","none"),Bt.style.setProperty(Ie,Ye)}).afterAddWrite(()=>{ve.style.setProperty("display",""),Bt.style.setProperty("display","none"),Bt.style.removeProperty(Ie)}).keyframes(We),Gt.beforeStyles({"transform-origin":`${Ie} top`}).keyframes(gt),Ht.beforeStyles({"transform-origin":`${rt} center`}).keyframes(fn),xe.addAnimation([Gt,Ht,Ln])},z=(xe,De,q,ve,W,we,ce,oe,Se)=>{var Le,Re;const Ye=De?"right":"left",Ie=De?`calc(100% - ${W.right}px)`:`${W.left}px`,ht=`${W.top}px`;let xt=De?`-${window.innerWidth-ce.right-8}px`:`${ce.x+8}px`,jt=.5;const it="scale(1)";let Me=`scale(${jt})`;if(oe&&Se){xt=De?`-${window.innerWidth-Se.right-8}px`:Se.x-8+"px";const en=(null===(Le=oe.textContent)||void 0===Le?void 0:Le.trim())===(null===(Re=ve.textContent)||void 0===Re?void 0:Re.trim());jt=Se.height/(we.height-fe),Me=en?`scale(${Se.width/we.width}, ${jt})`:`scale(${jt})`}const Z=ce.top+ce.height/2-W.height*jt/2+"px",Fe=q?[{offset:0,opacity:0,transform:`translate3d(${xt}, ${Z}, 0) ${Me}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${ht}, 0) ${it}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${ht}, 0) ${it}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${xt}, ${Z}, 0) ${Me}`}],ft=ge("ion-title"),We=(0,a.c)();ft.innerText=ve.innerText,ft.size=ve.size,ft.color=ve.color,We.addElement(ft),We.beforeStyles({"transform-origin":`${Ye} top`,height:`${W.height}px`,display:"",position:"relative",[Ye]:Ie}).beforeAddWrite(()=>{ve.style.setProperty("opacity","0")}).afterAddWrite(()=>{ve.style.setProperty("opacity",""),ft.style.setProperty("display","none")}).keyframes(Fe),xe.addAnimation(We)},le=(xe,De)=>{var q;try{const ve="cubic-bezier(0.32,0.72,0,1)",W="opacity",we="transform",ce="0%",Se="rtl"===xe.ownerDocument.dir,Le=Se?"-99.5%":"99.5%",Re=Se?"33%":"-33%",Ye=De.enteringEl,Ie=De.leavingEl,rt="back"===De.direction,ht=Ye.querySelector(":scope > ion-content"),Et=Ye.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),xt=Ye.querySelectorAll(":scope > ion-header > ion-toolbar"),jt=(0,a.c)(),it=(0,a.c)();if(jt.addElement(Ye).duration((null!==(q=De.duration)&&void 0!==q?q:0)||540).easing(De.easing||ve).fill("both").beforeRemoveClass("ion-page-invisible"),Ie&&null!=xe){const Z=(0,a.c)();Z.addElement(xe),jt.addAnimation(Z)}if(ht||0!==xt.length||0!==Et.length?(it.addElement(ht),it.addElement(Et)):it.addElement(Ye.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),jt.addAnimation(it),rt?it.beforeClearStyles([W]).fromTo("transform",`translateX(${Re})`,`translateX(${ce})`).fromTo(W,.8,1):it.beforeClearStyles([W]).fromTo("transform",`translateX(${Le})`,`translateX(${ce})`),ht){const Z=G(ht).querySelector(".transition-effect");if(Z){const Ce=Z.querySelector(".transition-cover"),ut=Z.querySelector(".transition-shadow"),Fe=(0,a.c)(),ft=(0,a.c)(),We=(0,a.c)();Fe.addElement(Z).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ft.addElement(Ce).beforeClearStyles([W]).fromTo(W,0,.1),We.addElement(ut).beforeClearStyles([W]).fromTo(W,.03,.7),Fe.addAnimation([ft,We]),it.addAnimation([Fe])}}const Me=Ye.querySelector("ion-header.header-collapse-condense"),{forward:V,backward:j}=((xe,De,q,ve,W)=>{const we=ie(ve,q),ce=de(W),oe=de(ve),Se=ie(W,q),Le=null!==we&&null!==ce&&!q,Re=null!==oe&&null!==Se&&q;if(Le){const Ye=ce.getBoundingClientRect(),Ie=we.getBoundingClientRect(),rt=G(we).querySelector(".button-text"),ht=rt?.getBoundingClientRect(),xt=G(ce).querySelector(".toolbar-title").getBoundingClientRect();z(xe,De,q,ce,Ye,xt,Ie,rt,ht),ue(xe,De,q,we,Ie,rt,ht,ce,xt)}else if(Re){const Ye=oe.getBoundingClientRect(),Ie=Se.getBoundingClientRect(),rt=G(Se).querySelector(".button-text"),ht=rt?.getBoundingClientRect(),xt=G(oe).querySelector(".toolbar-title").getBoundingClientRect();z(xe,De,q,oe,Ye,xt,Ie,rt,ht),ue(xe,De,q,Se,Ie,rt,ht,oe,xt)}return{forward:Le,backward:Re}})(jt,Se,rt,Ye,Ie);if(xt.forEach(Z=>{const Ce=(0,a.c)();Ce.addElement(Z),jt.addAnimation(Ce);const ut=(0,a.c)();ut.addElement(Z.querySelector("ion-title"));const Fe=(0,a.c)(),ft=Array.from(Z.querySelectorAll("ion-buttons,[menuToggle]")),We=Z.closest("ion-header"),en=We?.classList.contains("header-collapse-condense-inactive");let Ot;Ot=ft.filter(rt?Gt=>{const Ht=Gt.classList.contains("buttons-collapse");return Ht&&!en||!Ht}:Gt=>!Gt.classList.contains("buttons-collapse")),Fe.addElement(Ot);const gt=(0,a.c)();gt.addElement(Z.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Jt=(0,a.c)();Jt.addElement(G(Z).querySelector(".toolbar-background"));const yn=(0,a.c)(),fn=Z.querySelector("ion-back-button");if(fn&&yn.addElement(fn),Ce.addAnimation([ut,Fe,gt,Jt,yn]),Fe.fromTo(W,.01,1),gt.fromTo(W,.01,1),rt)en||ut.fromTo("transform",`translateX(${Re})`,`translateX(${ce})`).fromTo(W,.01,1),gt.fromTo("transform",`translateX(${Re})`,`translateX(${ce})`),yn.fromTo(W,.01,1);else if(Me||ut.fromTo("transform",`translateX(${Le})`,`translateX(${ce})`).fromTo(W,.01,1),gt.fromTo("transform",`translateX(${Le})`,`translateX(${ce})`),Jt.beforeClearStyles([W,"transform"]),We?.translucent?Jt.fromTo("transform",Se?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Jt.fromTo(W,.01,"var(--opacity)"),V||yn.fromTo(W,.01,1),fn&&!V){const Ht=(0,a.c)();Ht.addElement(G(fn).querySelector(".button-text")).fromTo("transform",Se?"translateX(-100px)":"translateX(100px)","translateX(0px)"),Ce.addAnimation(Ht)}}),Ie){const Z=(0,a.c)(),Ce=Ie.querySelector(":scope > ion-content"),ut=Ie.querySelectorAll(":scope > ion-header > ion-toolbar"),Fe=Ie.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(Ce||0!==ut.length||0!==Fe.length?(Z.addElement(Ce),Z.addElement(Fe)):Z.addElement(Ie.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),jt.addAnimation(Z),rt){Z.beforeClearStyles([W]).fromTo("transform",`translateX(${ce})`,Se?"translateX(-100%)":"translateX(100%)");const ft=(0,x.g)(Ie);jt.afterAddWrite(()=>{"normal"===jt.getDirection()&&ft.style.setProperty("display","none")})}else Z.fromTo("transform",`translateX(${ce})`,`translateX(${Re})`).fromTo(W,1,.8);if(Ce){const ft=G(Ce).querySelector(".transition-effect");if(ft){const We=ft.querySelector(".transition-cover"),en=ft.querySelector(".transition-shadow"),Ot=(0,a.c)(),gt=(0,a.c)(),Jt=(0,a.c)();Ot.addElement(ft).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),gt.addElement(We).beforeClearStyles([W]).fromTo(W,.1,0),Jt.addElement(en).beforeClearStyles([W]).fromTo(W,.7,.03),Ot.addAnimation([gt,Jt]),Z.addAnimation([Ot])}}ut.forEach(ft=>{const We=(0,a.c)();We.addElement(ft);const en=(0,a.c)();en.addElement(ft.querySelector("ion-title"));const Ot=(0,a.c)(),gt=ft.querySelectorAll("ion-buttons,[menuToggle]"),Jt=ft.closest("ion-header"),yn=Jt?.classList.contains("header-collapse-condense-inactive"),fn=Array.from(gt).filter(ze=>{const _t=ze.classList.contains("buttons-collapse");return _t&&!yn||!_t});Ot.addElement(fn);const Gt=(0,a.c)(),Ht=ft.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");Ht.length>0&&Gt.addElement(Ht);const Ln=(0,a.c)();Ln.addElement(G(ft).querySelector(".toolbar-background"));const Bt=(0,a.c)(),He=ft.querySelector("ion-back-button");if(He&&Bt.addElement(He),We.addAnimation([en,Ot,Gt,Bt,Ln]),jt.addAnimation(We),Bt.fromTo(W,.99,0),Ot.fromTo(W,.99,0),Gt.fromTo(W,.99,0),rt){if(yn||en.fromTo("transform",`translateX(${ce})`,Se?"translateX(-100%)":"translateX(100%)").fromTo(W,.99,0),Gt.fromTo("transform",`translateX(${ce})`,Se?"translateX(-100%)":"translateX(100%)"),Ln.beforeClearStyles([W,"transform"]),Jt?.translucent?Ln.fromTo("transform","translateX(0px)",Se?"translateX(-100%)":"translateX(100%)"):Ln.fromTo(W,"var(--opacity)",0),He&&!j){const _t=(0,a.c)();_t.addElement(G(He).querySelector(".button-text")).fromTo("transform",`translateX(${ce})`,`translateX(${(Se?-124:124)+"px"})`),We.addAnimation(_t)}}else yn||en.fromTo("transform",`translateX(${ce})`,`translateX(${Re})`).fromTo(W,.99,0).afterClearStyles([we,W]),Gt.fromTo("transform",`translateX(${ce})`,`translateX(${Re})`).afterClearStyles([we,W]),Bt.afterClearStyles([W]),en.afterClearStyles([W]),Ot.afterClearStyles([W])})}return jt}catch(ve){throw ve}},fe=10},3615:(St,Ke,b)=>{"use strict";b.r(Ke),b.d(Ke,{mdTransitionAnimation:()=>ne});var a=b(9986),x=b(3604);b(8476),b(9483),b(4261);const ne=(ge,G)=>{var de,ie,F;const le="back"===G.direction,xe=G.leavingEl,De=(0,x.g)(G.enteringEl),q=De.querySelector("ion-toolbar"),ve=(0,a.c)();if(ve.addElement(De).fill("both").beforeRemoveClass("ion-page-invisible"),le?ve.duration((null!==(de=G.duration)&&void 0!==de?de:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):ve.duration((null!==(ie=G.duration)&&void 0!==ie?ie:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),q){const W=(0,a.c)();W.addElement(q),ve.addAnimation(W)}if(xe&&le){ve.duration((null!==(F=G.duration)&&void 0!==F?F:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const W=(0,a.c)();W.addElement((0,x.g)(xe)).onFinish(we=>{1===we&&W.elements.length>0&&W.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),ve.addAnimation(W)}return ve}},9440:(St,Ke,b)=>{"use strict";b.d(Ke,{B:()=>gt,F:()=>Bt,G:()=>Jt,O:()=>yn,a:()=>De,b:()=>q,c:()=>ce,d:()=>fn,e:()=>Gt,f:()=>V,g:()=>Z,h:()=>Fe,i:()=>We,j:()=>Se,k:()=>Le,m:()=>W,n:()=>ie,o:()=>it,q:()=>F,s:()=>Ot});var a=b(467),x=b(8476),te=b(4920),B=b(7192),ae=b(9483),ne=b(8621),ge=b(1970),G=b(4929);const de='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ie=(He,ze)=>{const _t=He.querySelector(de);ue(_t,ze??He)},F=(He,ze)=>{const _t=Array.from(He.querySelectorAll(de));ue(_t.length>0?_t[_t.length-1]:null,ze??He)},ue=(He,ze)=>{let _t=He;const Zt=He?.shadowRoot;Zt&&(_t=Zt.querySelector(de)||He),_t?(0,te.f)(_t):ze.focus()};let z=0,le=0;const fe=new WeakMap,xe=He=>({create:ze=>Re(He,ze),dismiss:(ze,_t,Zt)=>Et(document,ze,_t,He,Zt),getTop:()=>(0,a.A)(function*(){return it(document,He)})()}),De=xe("ion-alert"),q=xe("ion-action-sheet"),W=xe("ion-modal"),ce=xe("ion-popover"),Se=He=>{typeof document<"u"&&ht(document);const ze=z++;He.overlayIndex=ze},Le=He=>(He.hasAttribute("id")||(He.id="ion-overlay-"+ ++le),He.id),Re=(He,ze)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(He).then(()=>{const _t=document.createElement(He);return _t.classList.add("overlay-hidden"),Object.assign(_t,Object.assign(Object.assign({},ze),{hasController:!0})),Ce(document).appendChild(_t),new Promise(Zt=>(0,te.c)(_t,Zt))}):Promise.resolve(),Ie=(He,ze)=>{let _t=He;const Zt=He?.shadowRoot;Zt&&(_t=Zt.querySelector(de)||He),_t?(0,te.f)(_t):ze.focus()},ht=He=>{0===z&&(z=1,He.addEventListener("focus",ze=>{((He,ze)=>{const _t=it(ze,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),Zt=He.target;_t&&Zt&&!_t.classList.contains(Bt)&&(_t.shadowRoot?(()=>{if(_t.contains(Zt))_t.lastFocus=Zt;else if("ION-TOAST"===Zt.tagName)Ie(_t.lastFocus,_t);else{const Sn=_t.lastFocus;ie(_t),Sn===ze.activeElement&&F(_t),_t.lastFocus=ze.activeElement}})():(()=>{if(_t===Zt)_t.lastFocus=void 0;else if("ION-TOAST"===Zt.tagName)Ie(_t.lastFocus,_t);else{const Sn=(0,te.g)(_t);if(!Sn.contains(Zt))return;const mn=Sn.querySelector(".ion-overlay-wrapper");if(!mn)return;if(mn.contains(Zt)||Zt===Sn.querySelector("ion-backdrop"))_t.lastFocus=Zt;else{const Ut=_t.lastFocus;ie(mn,_t),Ut===ze.activeElement&&F(mn,_t),_t.lastFocus=ze.activeElement}}})())})(ze,He)},!0),He.addEventListener("ionBackButton",ze=>{const _t=it(He);_t?.backdropDismiss&&ze.detail.register(B.OVERLAY_BACK_BUTTON_PRIORITY,()=>{_t.dismiss(void 0,gt)})}),(0,B.shouldUseCloseWatcher)()||He.addEventListener("keydown",ze=>{if("Escape"===ze.key){const _t=it(He);_t?.backdropDismiss&&_t.dismiss(void 0,gt)}}))},Et=(He,ze,_t,Zt,In)=>{const tr=it(He,Zt,In);return tr?tr.dismiss(ze,_t):Promise.reject("overlay does not exist")},jt=(He,ze)=>((He,ze)=>(void 0===ze&&(ze="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(He.querySelectorAll(ze)).filter(_t=>_t.overlayIndex>0)))(He,ze).filter(_t=>!(He=>He.classList.contains("overlay-hidden"))(_t)),it=(He,ze,_t)=>{const Zt=jt(He,ze);return void 0===_t?Zt[Zt.length-1]:Zt.find(In=>In.id===_t)},Me=(He=!1)=>{const _t=Ce(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");_t&&(He?_t.setAttribute("aria-hidden","true"):_t.removeAttribute("aria-hidden"))},V=function(){var He=(0,a.A)(function*(ze,_t,Zt,In,tr){var Sn,mn;if(ze.presented)return;Me(!0),document.body.classList.add(ge.B),Ht(ze.el),ze.presented=!0,ze.willPresent.emit(),null===(Sn=ze.willPresentShorthand)||void 0===Sn||Sn.emit();const Ut=(0,ae.b)(ze),gr=ze.enterAnimation?ze.enterAnimation:ae.c.get(_t,"ios"===Ut?Zt:In);(yield ut(ze,gr,ze.el,tr))&&(ze.didPresent.emit(),null===(mn=ze.didPresentShorthand)||void 0===mn||mn.emit()),"ION-TOAST"!==ze.el.tagName&&j(ze.el),ze.keyboardClose&&(null===document.activeElement||!ze.el.contains(document.activeElement))&&ze.el.focus(),ze.el.removeAttribute("aria-hidden")});return function(_t,Zt,In,tr,Sn){return He.apply(this,arguments)}}(),j=function(){var He=(0,a.A)(function*(ze){let _t=document.activeElement;if(!_t)return;const Zt=_t?.shadowRoot;Zt&&(_t=Zt.querySelector(de)||_t),yield ze.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&_t.focus()});return function(_t){return He.apply(this,arguments)}}(),Z=function(){var He=(0,a.A)(function*(ze,_t,Zt,In,tr,Sn,mn){var Ut,gr;if(!ze.presented)return!1;void 0!==x.d&&1===jt(x.d).length&&(Me(!1),document.body.classList.remove(ge.B)),ze.presented=!1;try{ze.el.style.setProperty("pointer-events","none"),ze.willDismiss.emit({data:_t,role:Zt}),null===(Ut=ze.willDismissShorthand)||void 0===Ut||Ut.emit({data:_t,role:Zt});const hr=(0,ae.b)(ze),Wn=ze.leaveAnimation?ze.leaveAnimation:ae.c.get(In,"ios"===hr?tr:Sn);Zt!==Jt&&(yield ut(ze,Wn,ze.el,mn)),ze.didDismiss.emit({data:_t,role:Zt}),null===(gr=ze.didDismissShorthand)||void 0===gr||gr.emit({data:_t,role:Zt}),(fe.get(ze)||[]).forEach(Mn=>Mn.destroy()),fe.delete(ze),ze.el.classList.add("overlay-hidden"),ze.el.style.removeProperty("pointer-events"),void 0!==ze.el.lastFocus&&(ze.el.lastFocus=void 0)}catch(hr){console.error(hr)}return ze.el.remove(),Ln(),!0});return function(_t,Zt,In,tr,Sn,mn,Ut){return He.apply(this,arguments)}}(),Ce=He=>He.querySelector("ion-app")||He.body,ut=function(){var He=(0,a.A)(function*(ze,_t,Zt,In){Zt.classList.remove("overlay-hidden");const Sn=_t(ze.el,In);(!ze.animated||!ae.c.getBoolean("animated",!0))&&Sn.duration(0),ze.keyboardClose&&Sn.beforeAddWrite(()=>{const Ut=Zt.ownerDocument.activeElement;Ut?.matches("input,ion-input, ion-textarea")&&Ut.blur()});const mn=fe.get(ze)||[];return fe.set(ze,[...mn,Sn]),yield Sn.play(),!0});return function(_t,Zt,In,tr){return He.apply(this,arguments)}}(),Fe=(He,ze)=>{let _t;const Zt=new Promise(In=>_t=In);return ft(He,ze,In=>{_t(In.detail)}),Zt},ft=(He,ze,_t)=>{const Zt=In=>{(0,te.b)(He,ze,Zt),_t(In)};(0,te.a)(He,ze,Zt)},We=He=>"cancel"===He||He===gt,en=He=>He(),Ot=(He,ze)=>{if("function"==typeof He)return ae.c.get("_zoneGate",en)(()=>{try{return He(ze)}catch(Zt){throw Zt}})},gt="backdrop",Jt="gesture",yn=39,fn=He=>{let _t,ze=!1;const Zt=(0,ne.C)(),In=(mn=!1)=>{if(_t&&!mn)return{delegate:_t,inline:ze};const{el:Ut,hasController:gr,delegate:dr}=He;return ze=null!==Ut.parentNode&&!gr,_t=ze?dr||Zt:dr,{inline:ze,delegate:_t}};return{attachViewToDom:function(){var mn=(0,a.A)(function*(Ut){const{delegate:gr}=In(!0);if(gr)return yield gr.attachViewToDom(He.el,Ut);const{hasController:dr}=He;if(dr&&void 0!==Ut)throw new Error("framework delegate is missing");return null});return function(gr){return mn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:mn}=In();mn&&void 0!==He.el&&mn.removeViewFromDom(He.el.parentElement,He.el)}}},Gt=()=>{let He;const ze=()=>{He&&(He(),He=void 0)};return{addClickListener:(Zt,In)=>{ze();const tr=void 0!==In?document.getElementById(In):null;tr?He=((mn,Ut)=>{const gr=()=>{Ut.present()};return mn.addEventListener("click",gr),()=>{mn.removeEventListener("click",gr)}})(tr,Zt):(0,G.p)(`A trigger element with the ID "${In}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Zt)},removeClickListener:ze}},Ht=He=>{var ze;if(void 0===x.d)return;const _t=jt(x.d);for(let Zt=_t.length-1;Zt>=0;Zt--){const In=_t[Zt],tr=null!==(ze=_t[Zt+1])&&void 0!==ze?ze:He;(tr.hasAttribute("aria-hidden")||"ION-TOAST"!==tr.tagName)&&In.setAttribute("aria-hidden","true")}},Ln=()=>{if(void 0===x.d)return;const He=jt(x.d);for(let ze=He.length-1;ze>=0;ze--){const _t=He[ze];if(_t.removeAttribute("aria-hidden"),"ION-TOAST"!==_t.tagName)break}},Bt="ion-disable-focus-trap"},1164:(St,Ke,b)=>{"use strict";var a=b(345),x=b(4742),te=b(9253);const B_firebaseConfig={apiKey:"AIzaSyCocYOrryg8sZLG9_h6DMqeSJK6UbBsKXA",authDomain:"conteggio-ore-7fa32.firebaseapp.com",projectId:"conteggio-ore-7fa32",storageBucket:"conteggio-ore-7fa32.appspot.com",messagingSenderId:"843599729652",appId:"1:843599729652:web:8066e671159e4fd7925fa1"};var ae=b(3953);let ne=(()=>{class W{constructor(){}static{this.\u0275fac=function(oe){return new(oe||W)}}static{this.\u0275cmp=ae.VBU({type:W,selectors:[["app-root"]],decls:2,vars:0,template:function(oe,Se){1&oe&&(ae.j41(0,"ion-app"),ae.nrm(1,"ion-router-outlet"),ae.k0s())},dependencies:[x.U1,x.Rg]})}}return W})();var ge=b(4964),G=b(467),de=b(1471),ie=b(8079),F=b(1182);let ue=(()=>{class W{constructor(ce,oe,Se){this.firestore=ce,this.afAuth=oe,this.router=Se,this.authState=this.afAuth.authState,this.setAuthPersistence()}setAuthPersistence(){var ce=this;return(0,G.A)(function*(){try{yield ce.afAuth.setPersistence("local"),console.log("Persistenza dell'autenticazione impostata su LOCAL.")}catch(oe){console.error("Errore impostando la persistenza:",oe)}})()}login(ce,oe){var Se=this;return(0,G.A)(function*(){try{const Re=yield Se.firestore.collection("utenti",rt=>rt.where("username","==",ce)).get().toPromise();if(!Re||Re.empty)return console.error("Username non trovato"),!1;Re.docs[0].data();const Ie=ce+"@example.com";return yield Se.afAuth.signInWithEmailAndPassword(Ie,oe),console.log("Login riuscito"),setTimeout(()=>{Se.router.navigate(["/home"])},500),!0}catch(Le){return console.error("Errore durante il login: ",Le),!1}})()}register(ce,oe){var Se=this;return(0,G.A)(function*(){if(!ce||!oe)return void console.error("Username o password non possono essere vuoti");const Le=de.SHA256(oe).toString();try{const Ye=(yield Se.afAuth.createUserWithEmailAndPassword(ce+"@example.com",oe)).user;if(!Ye)return void console.error("Registrazione fallita, nessun utente restituito.");const Ie=Ye.uid;yield Se.firestore.collection("utenti").doc(Ie).set({username:ce,password:Le}),console.log("Registrazione avvenuta con successo"),Se.router.navigate(["/home"])}catch(Re){console.error("Errore durante la registrazione: ",Re)}})()}logout(){this.afAuth.signOut().then(()=>{console.log("Logout effettuato"),this.router.navigate(["/login"])})}getAuthState(){return this.authState}static{this.\u0275fac=function(oe){return new(oe||W)(ae.KVO(ie.Qe),ae.KVO(F.DS),ae.KVO(ge.Ix))}}static{this.\u0275prov=ae.jDH({token:W,factory:W.\u0275fac,providedIn:"root"})}}return W})();var z=b(4341);const xe=[{path:"home",loadChildren:()=>b.e(2331).then(b.bind(b,2331)).then(W=>W.HomePageModule)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class W{constructor(ce,oe,Se){this.authService=ce,this.afAuth=oe,this.router=Se,this.username="",this.password=""}login(){this.authService.login(this.username,this.password).then(ce=>{ce?this.router.navigate(["/home"]):console.error("Login fallito")})}register(){this.authService.register(this.username,this.password)}static{this.\u0275fac=function(oe){return new(oe||W)(ae.rXU(ue),ae.rXU(F.DS),ae.rXU(ge.Ix))}}static{this.\u0275cmp=ae.VBU({type:W,selectors:[["app-login"]],decls:19,vars:3,consts:[["loginForm","ngForm"],[3,"ngSubmit"],["position","floating"],["type","text","name","username","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["expand","full","type","submit",3,"disabled"],["expand","full",3,"click"]],template:function(oe,Se){if(1&oe){const Le=ae.RV6();ae.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),ae.EFF(3,"Login"),ae.k0s()()(),ae.j41(4,"ion-content")(5,"form",1,0),ae.bIt("ngSubmit",function(){return ae.eBV(Le),ae.Njj(Se.login())}),ae.j41(7,"ion-item")(8,"ion-label",2),ae.EFF(9,"Utente"),ae.k0s(),ae.j41(10,"ion-input",3),ae.mxI("ngModelChange",function(Ye){return ae.eBV(Le),ae.DH7(Se.username,Ye)||(Se.username=Ye),ae.Njj(Ye)}),ae.k0s()(),ae.j41(11,"ion-item")(12,"ion-label",2),ae.EFF(13,"Password"),ae.k0s(),ae.j41(14,"ion-input",4),ae.mxI("ngModelChange",function(Ye){return ae.eBV(Le),ae.DH7(Se.password,Ye)||(Se.password=Ye),ae.Njj(Ye)}),ae.k0s()(),ae.j41(15,"ion-button",5),ae.EFF(16,"Login"),ae.k0s(),ae.j41(17,"ion-button",6),ae.bIt("click",function(){return ae.eBV(Le),ae.Njj(Se.register())}),ae.EFF(18,"Registrati"),ae.k0s()()()}if(2&oe){const Le=ae.sdS(6);ae.R7$(10),ae.R50("ngModel",Se.username),ae.R7$(4),ae.R50("ngModel",Se.password),ae.R7$(),ae.Y8G("disabled",!Le.valid)}},dependencies:[x.Jm,x.W9,x.eU,x.$w,x.uz,x.he,x.BC,x.ai,x.Gw,z.qT,z.BC,z.cb,z.YS,z.vS,z.cV]})}}return W})()},{path:"register",component:(()=>{class W{constructor(ce){this.authService=ce,this.username="",this.password=""}register(){this.authService.register(this.username,this.password)}static{this.\u0275fac=function(oe){return new(oe||W)(ae.rXU(ue))}}static{this.\u0275cmp=ae.VBU({type:W,selectors:[["app-register"]],decls:16,vars:3,consts:[[3,"ngSubmit"],["position","floating"],["type","text","name","username","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["expand","full","type","submit",3,"disabled"]],template:function(oe,Se){1&oe&&(ae.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),ae.EFF(3,"Registrazione"),ae.k0s()()(),ae.j41(4,"ion-content")(5,"form",0),ae.bIt("ngSubmit",function(){return Se.register()}),ae.j41(6,"ion-item")(7,"ion-label",1),ae.EFF(8,"Username"),ae.k0s(),ae.j41(9,"ion-input",2),ae.mxI("ngModelChange",function(Re){return ae.DH7(Se.username,Re)||(Se.username=Re),Re}),ae.k0s()(),ae.j41(10,"ion-item")(11,"ion-label",1),ae.EFF(12,"Password"),ae.k0s(),ae.j41(13,"ion-input",3),ae.mxI("ngModelChange",function(Re){return ae.DH7(Se.password,Re)||(Se.password=Re),Re}),ae.k0s()(),ae.j41(14,"ion-button",4),ae.EFF(15,"Registrati"),ae.k0s()()()),2&oe&&(ae.R7$(9),ae.R50("ngModel",Se.username),ae.R7$(4),ae.R50("ngModel",Se.password),ae.R7$(),ae.Y8G("disabled",!Se.username||!Se.password))},dependencies:[x.Jm,x.W9,x.eU,x.$w,x.uz,x.he,x.BC,x.ai,x.Gw,z.qT,z.BC,z.cb,z.YS,z.vS,z.cV]})}}return W})()}];let De=(()=>{class W{static{this.\u0275fac=function(oe){return new(oe||W)}}static{this.\u0275mod=ae.$C({type:W})}static{this.\u0275inj=ae.G2t({imports:[ge.iI.forRoot(xe,{preloadingStrategy:ge.Kp}),ge.iI]})}}return W})();var q=b(2872);let ve=(()=>{class W{static{this.\u0275fac=function(oe){return new(oe||W)}}static{this.\u0275mod=ae.$C({type:W,bootstrap:[ne]})}static{this.\u0275inj=ae.G2t({providers:[{provide:ge.b,useClass:q.jM}],imports:[a.Bb,x.bv.forRoot(),De,te.bf.initializeApp(B_firebaseConfig),z.YN,z.X1,ie.cM,F.X8]})}}return W})();a.sG().bootstrapModule(ve).catch(W=>console.log(W))},3188:function(St,Ke,b){var a;St.exports=(a=b(7656),b(8891),b(8855),b(4147),b(2414),function(){var x=a,B=x.lib.BlockCipher,ae=x.algo,ne=[],ge=[],G=[],de=[],ie=[],F=[],ue=[],z=[],le=[],fe=[];!function(){for(var q=[],ve=0;ve<256;ve++)q[ve]=ve<128?ve<<1:ve<<1^283;var W=0,we=0;for(ve=0;ve<256;ve++){var ce=we^we<<1^we<<2^we<<3^we<<4;ne[W]=ce=ce>>>8^255&ce^99,ge[ce]=W;var Re,oe=q[W],Se=q[oe],Le=q[Se];G[W]=(Re=257*q[ce]^16843008*ce)<<24|Re>>>8,de[W]=Re<<16|Re>>>16,ie[W]=Re<<8|Re>>>24,F[W]=Re,ue[ce]=(Re=16843009*Le^65537*Se^257*oe^16843008*W)<<24|Re>>>8,z[ce]=Re<<16|Re>>>16,le[ce]=Re<<8|Re>>>24,fe[ce]=Re,W?(W=oe^q[q[q[Le^oe]]],we^=q[q[we]]):W=we=1}}();var xe=[0,1,2,4,8,16,32,64,128,27,54],De=ae.AES=B.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var ve=this._keyPriorReset=this._key,W=ve.words,we=ve.sigBytes/4,oe=4*((this._nRounds=we+6)+1),Se=this._keySchedule=[],Le=0;Le<oe;Le++)Le<we?Se[Le]=W[Le]:(q=Se[Le-1],Le%we?we>6&&Le%we==4&&(q=ne[q>>>24]<<24|ne[q>>>16&255]<<16|ne[q>>>8&255]<<8|ne[255&q]):(q=ne[(q=q<<8|q>>>24)>>>24]<<24|ne[q>>>16&255]<<16|ne[q>>>8&255]<<8|ne[255&q],q^=xe[Le/we|0]<<24),Se[Le]=Se[Le-we]^q);for(var Re=this._invKeySchedule=[],Ye=0;Ye<oe;Ye++){if(Le=oe-Ye,Ye%4)var q=Se[Le];else q=Se[Le-4];Re[Ye]=Ye<4||Le<=4?q:ue[ne[q>>>24]]^z[ne[q>>>16&255]]^le[ne[q>>>8&255]]^fe[ne[255&q]]}}},encryptBlock:function(q,ve){this._doCryptBlock(q,ve,this._keySchedule,G,de,ie,F,ne)},decryptBlock:function(q,ve){var W=q[ve+1];q[ve+1]=q[ve+3],q[ve+3]=W,this._doCryptBlock(q,ve,this._invKeySchedule,ue,z,le,fe,ge),W=q[ve+1],q[ve+1]=q[ve+3],q[ve+3]=W},_doCryptBlock:function(q,ve,W,we,ce,oe,Se,Le){for(var Re=this._nRounds,Ye=q[ve]^W[0],Ie=q[ve+1]^W[1],rt=q[ve+2]^W[2],ht=q[ve+3]^W[3],Et=4,xt=1;xt<Re;xt++){var jt=we[Ye>>>24]^ce[Ie>>>16&255]^oe[rt>>>8&255]^Se[255&ht]^W[Et++],it=we[Ie>>>24]^ce[rt>>>16&255]^oe[ht>>>8&255]^Se[255&Ye]^W[Et++],Me=we[rt>>>24]^ce[ht>>>16&255]^oe[Ye>>>8&255]^Se[255&Ie]^W[Et++],V=we[ht>>>24]^ce[Ye>>>16&255]^oe[Ie>>>8&255]^Se[255&rt]^W[Et++];Ye=jt,Ie=it,rt=Me,ht=V}jt=(Le[Ye>>>24]<<24|Le[Ie>>>16&255]<<16|Le[rt>>>8&255]<<8|Le[255&ht])^W[Et++],it=(Le[Ie>>>24]<<24|Le[rt>>>16&255]<<16|Le[ht>>>8&255]<<8|Le[255&Ye])^W[Et++],Me=(Le[rt>>>24]<<24|Le[ht>>>16&255]<<16|Le[Ye>>>8&255]<<8|Le[255&Ie])^W[Et++],V=(Le[ht>>>24]<<24|Le[Ye>>>16&255]<<16|Le[Ie>>>8&255]<<8|Le[255&rt])^W[Et++],q[ve]=jt,q[ve+1]=it,q[ve+2]=Me,q[ve+3]=V},keySize:8});x.AES=B._createHelper(De)}(),a.AES)},5269:function(St,Ke,b){var a;St.exports=(a=b(7656),b(8891),b(8855),b(4147),b(2414),function(){var x=a,B=x.lib.BlockCipher;const ne=16,ge=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],G=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var de={pbox:[],sbox:[]};function ie(fe,xe){let we=fe.sbox[0][xe>>24&255]+fe.sbox[1][xe>>16&255];return we^=fe.sbox[2][xe>>8&255],we+=fe.sbox[3][255&xe],we}function F(fe,xe,De){let W,q=xe,ve=De;for(let we=0;we<ne;++we)q^=fe.pbox[we],ve=ie(fe,q)^ve,W=q,q=ve,ve=W;return W=q,q=ve,ve=W,ve^=fe.pbox[ne],q^=fe.pbox[ne+1],{left:q,right:ve}}var le=x.algo.Blowfish=B.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var fe=this._keyPriorReset=this._key;!function z(fe,xe,De){for(let ce=0;ce<4;ce++){fe.sbox[ce]=[];for(let oe=0;oe<256;oe++)fe.sbox[ce][oe]=G[ce][oe]}let q=0;for(let ce=0;ce<ne+2;ce++)fe.pbox[ce]=ge[ce]^xe[q],q++,q>=De&&(q=0);let ve=0,W=0,we=0;for(let ce=0;ce<ne+2;ce+=2)we=F(fe,ve,W),ve=we.left,W=we.right,fe.pbox[ce]=ve,fe.pbox[ce+1]=W;for(let ce=0;ce<4;ce++)for(let oe=0;oe<256;oe+=2)we=F(fe,ve,W),ve=we.left,W=we.right,fe.sbox[ce][oe]=ve,fe.sbox[ce][oe+1]=W;return!0}(de,fe.words,fe.sigBytes/4)}},encryptBlock:function(fe,xe){var De=F(de,fe[xe],fe[xe+1]);fe[xe]=De.left,fe[xe+1]=De.right},decryptBlock:function(fe,xe){var De=function ue(fe,xe,De){let W,q=xe,ve=De;for(let we=ne+1;we>1;--we)q^=fe.pbox[we],ve=ie(fe,q)^ve,W=q,q=ve,ve=W;return W=q,q=ve,ve=W,ve^=fe.pbox[1],q^=fe.pbox[0],{left:q,right:ve}}(de,fe[xe],fe[xe+1]);fe[xe]=De.left,fe[xe+1]=De.right},blockSize:2,keySize:4,ivSize:2});x.Blowfish=B._createHelper(le)}(),a.Blowfish)},2414:function(St,Ke,b){var te,B,ae,ne,ge,G,ie,ue,z,fe,xe,De,ve,we,oe,Se,Re,Ye,a;St.exports=(a=b(7656),b(4147),void(a.lib.Cipher||(te=a,B=te.lib,ae=B.Base,ne=B.WordArray,ge=B.BufferedBlockAlgorithm,G=te.enc,ie=G.Base64,ue=te.algo.EvpKDF,z=B.Cipher=ge.extend({cfg:ae.extend(),createEncryptor:function(Ie,rt){return this.create(this._ENC_XFORM_MODE,Ie,rt)},createDecryptor:function(Ie,rt){return this.create(this._DEC_XFORM_MODE,Ie,rt)},init:function(Ie,rt,ht){this.cfg=this.cfg.extend(ht),this._xformMode=Ie,this._key=rt,this.reset()},reset:function(){ge.reset.call(this),this._doReset()},process:function(Ie){return this._append(Ie),this._process()},finalize:function(Ie){return Ie&&this._append(Ie),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function Ie(rt){return"string"==typeof rt?Ye:Se}return function(rt){return{encrypt:function(ht,Et,xt){return Ie(Et).encrypt(rt,ht,Et,xt)},decrypt:function(ht,Et,xt){return Ie(Et).decrypt(rt,ht,Et,xt)}}}}()}),B.StreamCipher=z.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),fe=te.mode={},xe=B.BlockCipherMode=ae.extend({createEncryptor:function(Ie,rt){return this.Encryptor.create(Ie,rt)},createDecryptor:function(Ie,rt){return this.Decryptor.create(Ie,rt)},init:function(Ie,rt){this._cipher=Ie,this._iv=rt}}),De=fe.CBC=function(){var Ie=xe.extend();function rt(ht,Et,xt){var jt,it=this._iv;it?(jt=it,this._iv=undefined):jt=this._prevBlock;for(var Me=0;Me<xt;Me++)ht[Et+Me]^=jt[Me]}return Ie.Encryptor=Ie.extend({processBlock:function(ht,Et){var xt=this._cipher,jt=xt.blockSize;rt.call(this,ht,Et,jt),xt.encryptBlock(ht,Et),this._prevBlock=ht.slice(Et,Et+jt)}}),Ie.Decryptor=Ie.extend({processBlock:function(ht,Et){var xt=this._cipher,jt=xt.blockSize,it=ht.slice(Et,Et+jt);xt.decryptBlock(ht,Et),rt.call(this,ht,Et,jt),this._prevBlock=it}}),Ie}(),ve=(te.pad={}).Pkcs7={pad:function(Ie,rt){for(var ht=4*rt,Et=ht-Ie.sigBytes%ht,xt=Et<<24|Et<<16|Et<<8|Et,jt=[],it=0;it<Et;it+=4)jt.push(xt);var Me=ne.create(jt,Et);Ie.concat(Me)},unpad:function(Ie){Ie.sigBytes-=255&Ie.words[Ie.sigBytes-1>>>2]}},B.BlockCipher=z.extend({cfg:z.cfg.extend({mode:De,padding:ve}),reset:function(){var Ie;z.reset.call(this);var rt=this.cfg,ht=rt.iv,Et=rt.mode;this._xformMode==this._ENC_XFORM_MODE?Ie=Et.createEncryptor:(Ie=Et.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==Ie?this._mode.init(this,ht&&ht.words):(this._mode=Ie.call(Et,this,ht&&ht.words),this._mode.__creator=Ie)},_doProcessBlock:function(Ie,rt){this._mode.processBlock(Ie,rt)},_doFinalize:function(){var Ie,rt=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(rt.pad(this._data,this.blockSize),Ie=this._process(!0)):(Ie=this._process(!0),rt.unpad(Ie)),Ie},blockSize:4}),we=B.CipherParams=ae.extend({init:function(Ie){this.mixIn(Ie)},toString:function(Ie){return(Ie||this.formatter).stringify(this)}}),oe=(te.format={}).OpenSSL={stringify:function(Ie){var ht=Ie.ciphertext,Et=Ie.salt;return(Et?ne.create([1398893684,1701076831]).concat(Et).concat(ht):ht).toString(ie)},parse:function(Ie){var rt,ht=ie.parse(Ie),Et=ht.words;return 1398893684==Et[0]&&1701076831==Et[1]&&(rt=ne.create(Et.slice(2,4)),Et.splice(0,4),ht.sigBytes-=16),we.create({ciphertext:ht,salt:rt})}},Se=B.SerializableCipher=ae.extend({cfg:ae.extend({format:oe}),encrypt:function(Ie,rt,ht,Et){Et=this.cfg.extend(Et);var xt=Ie.createEncryptor(ht,Et),jt=xt.finalize(rt),it=xt.cfg;return we.create({ciphertext:jt,key:ht,iv:it.iv,algorithm:Ie,mode:it.mode,padding:it.padding,blockSize:Ie.blockSize,formatter:Et.format})},decrypt:function(Ie,rt,ht,Et){return Et=this.cfg.extend(Et),rt=this._parse(rt,Et.format),Ie.createDecryptor(ht,Et).finalize(rt.ciphertext)},_parse:function(Ie,rt){return"string"==typeof Ie?rt.parse(Ie,this):Ie}}),Re=(te.kdf={}).OpenSSL={execute:function(Ie,rt,ht,Et,xt){if(Et||(Et=ne.random(8)),xt)var jt=ue.create({keySize:rt+ht,hasher:xt}).compute(Ie,Et);else jt=ue.create({keySize:rt+ht}).compute(Ie,Et);var it=ne.create(jt.words.slice(rt),4*ht);return jt.sigBytes=4*rt,we.create({key:jt,iv:it,salt:Et})}},Ye=B.PasswordBasedCipher=Se.extend({cfg:Se.cfg.extend({kdf:Re}),encrypt:function(Ie,rt,ht,Et){var xt=(Et=this.cfg.extend(Et)).kdf.execute(ht,Ie.keySize,Ie.ivSize,Et.salt,Et.hasher);Et.iv=xt.iv;var jt=Se.encrypt.call(this,Ie,rt,xt.key,Et);return jt.mixIn(xt),jt},decrypt:function(Ie,rt,ht,Et){Et=this.cfg.extend(Et),rt=this._parse(rt,Et.format);var xt=Et.kdf.execute(ht,Ie.keySize,Ie.ivSize,rt.salt,Et.hasher);return Et.iv=xt.iv,Se.decrypt.call(this,Ie,rt,xt.key,Et)}}))))},7656:function(St,Ke,b){var a;St.exports=(a=a||function(x){var B;if(typeof window<"u"&&window.crypto&&(B=window.crypto),typeof self<"u"&&self.crypto&&(B=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(B=globalThis.crypto),!B&&typeof window<"u"&&window.msCrypto&&(B=window.msCrypto),!B&&typeof global<"u"&&global.crypto&&(B=global.crypto),!B)try{B=b(477)}catch{}var ae=function(){if(B){if("function"==typeof B.getRandomValues)try{return B.getRandomValues(new Uint32Array(1))[0]}catch{}if("function"==typeof B.randomBytes)try{return B.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},ne=Object.create||function(){function q(){}return function(ve){var W;return q.prototype=ve,W=new q,q.prototype=null,W}}(),ge={},G=ge.lib={},de=G.Base=function(){return{extend:function(q){var ve=ne(this);return q&&ve.mixIn(q),(!ve.hasOwnProperty("init")||this.init===ve.init)&&(ve.init=function(){ve.$super.init.apply(this,arguments)}),ve.init.prototype=ve,ve.$super=this,ve},create:function(){var q=this.extend();return q.init.apply(q,arguments),q},init:function(){},mixIn:function(q){for(var ve in q)q.hasOwnProperty(ve)&&(this[ve]=q[ve]);q.hasOwnProperty("toString")&&(this.toString=q.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),ie=G.WordArray=de.extend({init:function(q,ve){q=this.words=q||[],this.sigBytes=null!=ve?ve:4*q.length},toString:function(q){return(q||ue).stringify(this)},concat:function(q){var ve=this.words,W=q.words,we=this.sigBytes,ce=q.sigBytes;if(this.clamp(),we%4)for(var oe=0;oe<ce;oe++)ve[we+oe>>>2]|=(W[oe>>>2]>>>24-oe%4*8&255)<<24-(we+oe)%4*8;else for(var Le=0;Le<ce;Le+=4)ve[we+Le>>>2]=W[Le>>>2];return this.sigBytes+=ce,this},clamp:function(){var q=this.words,ve=this.sigBytes;q[ve>>>2]&=4294967295<<32-ve%4*8,q.length=x.ceil(ve/4)},clone:function(){var q=de.clone.call(this);return q.words=this.words.slice(0),q},random:function(q){for(var ve=[],W=0;W<q;W+=4)ve.push(ae());return new ie.init(ve,q)}}),F=ge.enc={},ue=F.Hex={stringify:function(q){for(var ve=q.words,W=q.sigBytes,we=[],ce=0;ce<W;ce++){var oe=ve[ce>>>2]>>>24-ce%4*8&255;we.push((oe>>>4).toString(16)),we.push((15&oe).toString(16))}return we.join("")},parse:function(q){for(var ve=q.length,W=[],we=0;we<ve;we+=2)W[we>>>3]|=parseInt(q.substr(we,2),16)<<24-we%8*4;return new ie.init(W,ve/2)}},z=F.Latin1={stringify:function(q){for(var ve=q.words,W=q.sigBytes,we=[],ce=0;ce<W;ce++)we.push(String.fromCharCode(ve[ce>>>2]>>>24-ce%4*8&255));return we.join("")},parse:function(q){for(var ve=q.length,W=[],we=0;we<ve;we++)W[we>>>2]|=(255&q.charCodeAt(we))<<24-we%4*8;return new ie.init(W,ve)}},le=F.Utf8={stringify:function(q){try{return decodeURIComponent(escape(z.stringify(q)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(q){return z.parse(unescape(encodeURIComponent(q)))}},fe=G.BufferedBlockAlgorithm=de.extend({reset:function(){this._data=new ie.init,this._nDataBytes=0},_append:function(q){"string"==typeof q&&(q=le.parse(q)),this._data.concat(q),this._nDataBytes+=q.sigBytes},_process:function(q){var ve,W=this._data,we=W.words,ce=W.sigBytes,oe=this.blockSize,Le=ce/(4*oe),Re=(Le=q?x.ceil(Le):x.max((0|Le)-this._minBufferSize,0))*oe,Ye=x.min(4*Re,ce);if(Re){for(var Ie=0;Ie<Re;Ie+=oe)this._doProcessBlock(we,Ie);ve=we.splice(0,Re),W.sigBytes-=Ye}return new ie.init(ve,Ye)},clone:function(){var q=de.clone.call(this);return q._data=this._data.clone(),q},_minBufferSize:0}),De=(G.Hasher=fe.extend({cfg:de.extend(),init:function(q){this.cfg=this.cfg.extend(q),this.reset()},reset:function(){fe.reset.call(this),this._doReset()},update:function(q){return this._append(q),this._process(),this},finalize:function(q){return q&&this._append(q),this._doFinalize()},blockSize:16,_createHelper:function(q){return function(ve,W){return new q.init(W).finalize(ve)}},_createHmacHelper:function(q){return function(ve,W){return new De.HMAC.init(q,W).finalize(ve)}}}),ge.algo={});return ge}(Math),a)},8891:function(St,Ke,b){var a,B;St.exports=(a=b(7656),B=a.lib.WordArray,a.enc.Base64={stringify:function(G){var de=G.words,ie=G.sigBytes,F=this._map;G.clamp();for(var ue=[],z=0;z<ie;z+=3)for(var De=(de[z>>>2]>>>24-z%4*8&255)<<16|(de[z+1>>>2]>>>24-(z+1)%4*8&255)<<8|de[z+2>>>2]>>>24-(z+2)%4*8&255,q=0;q<4&&z+.75*q<ie;q++)ue.push(F.charAt(De>>>6*(3-q)&63));var ve=F.charAt(64);if(ve)for(;ue.length%4;)ue.push(ve);return ue.join("")},parse:function(G){var de=G.length,ie=this._map,F=this._reverseMap;if(!F){F=this._reverseMap=[];for(var ue=0;ue<ie.length;ue++)F[ie.charCodeAt(ue)]=ue}var z=ie.charAt(64);if(z){var le=G.indexOf(z);-1!==le&&(de=le)}return function ge(G,de,ie){for(var F=[],ue=0,z=0;z<de;z++)if(z%4){var le=ie[G.charCodeAt(z-1)]<<z%4*2,fe=ie[G.charCodeAt(z)]>>>6-z%4*2;F[ue>>>2]|=(le|fe)<<24-ue%4*8,ue++}return B.create(F,ue)}(G,de,F)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},a.enc.Base64)},6598:function(St,Ke,b){var a,B;St.exports=(a=b(7656),B=a.lib.WordArray,a.enc.Base64url={stringify:function(G,de){void 0===de&&(de=!0);var ie=G.words,F=G.sigBytes,ue=de?this._safe_map:this._map;G.clamp();for(var z=[],le=0;le<F;le+=3)for(var q=(ie[le>>>2]>>>24-le%4*8&255)<<16|(ie[le+1>>>2]>>>24-(le+1)%4*8&255)<<8|ie[le+2>>>2]>>>24-(le+2)%4*8&255,ve=0;ve<4&&le+.75*ve<F;ve++)z.push(ue.charAt(q>>>6*(3-ve)&63));var W=ue.charAt(64);if(W)for(;z.length%4;)z.push(W);return z.join("")},parse:function(G,de){void 0===de&&(de=!0);var ie=G.length,F=de?this._safe_map:this._map,ue=this._reverseMap;if(!ue){ue=this._reverseMap=[];for(var z=0;z<F.length;z++)ue[F.charCodeAt(z)]=z}var le=F.charAt(64);if(le){var fe=G.indexOf(le);-1!==fe&&(ie=fe)}return function ge(G,de,ie){for(var F=[],ue=0,z=0;z<de;z++)if(z%4){var le=ie[G.charCodeAt(z-1)]<<z%4*2,fe=ie[G.charCodeAt(z)]>>>6-z%4*2;F[ue>>>2]|=(le|fe)<<24-ue%4*8,ue++}return B.create(F,ue)}(G,ie,ue)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"},a.enc.Base64url)},5304:function(St,Ke,b){var a;St.exports=(a=b(7656),function(){var B=a.lib.WordArray,ae=a.enc;function ge(G){return G<<8&4278255360|G>>>8&16711935}ae.Utf16=ae.Utf16BE={stringify:function(G){for(var de=G.words,ie=G.sigBytes,F=[],ue=0;ue<ie;ue+=2)F.push(String.fromCharCode(de[ue>>>2]>>>16-ue%4*8&65535));return F.join("")},parse:function(G){for(var de=G.length,ie=[],F=0;F<de;F++)ie[F>>>1]|=G.charCodeAt(F)<<16-F%2*16;return B.create(ie,2*de)}},ae.Utf16LE={stringify:function(G){for(var de=G.words,ie=G.sigBytes,F=[],ue=0;ue<ie;ue+=2){var z=ge(de[ue>>>2]>>>16-ue%4*8&65535);F.push(String.fromCharCode(z))}return F.join("")},parse:function(G){for(var de=G.length,ie=[],F=0;F<de;F++)ie[F>>>1]|=ge(G.charCodeAt(F)<<16-F%2*16);return B.create(ie,2*de)}}}(),a.enc.Utf16)},4147:function(St,Ke,b){var x,te,B,ae,ne,G,a;St.exports=(a=b(7656),b(7605),b(7868),ae=(te=(x=a).lib).WordArray,G=(ne=x.algo).EvpKDF=(B=te.Base).extend({cfg:B.extend({keySize:4,hasher:ne.MD5,iterations:1}),init:function(de){this.cfg=this.cfg.extend(de)},compute:function(de,ie){for(var F,ue=this.cfg,z=ue.hasher.create(),le=ae.create(),fe=le.words,xe=ue.keySize,De=ue.iterations;fe.length<xe;){F&&z.update(F),F=z.update(de).finalize(ie),z.reset();for(var q=1;q<De;q++)F=z.finalize(F),z.reset();le.concat(F)}return le.sigBytes=4*xe,le}}),x.EvpKDF=function(de,ie,F){return G.create(F).compute(de,ie)},a.EvpKDF)},4564:function(St,Ke,b){var a,ae,ge;St.exports=(a=b(7656),b(2414),ae=a.lib.CipherParams,ge=a.enc.Hex,a.format.Hex={stringify:function(ie){return ie.ciphertext.toString(ge)},parse:function(ie){var F=ge.parse(ie);return ae.create({ciphertext:F})}},a.format.Hex)},7868:function(St,Ke,b){var a,ne;St.exports=(a=b(7656),ne=a.enc.Utf8,void(a.algo.HMAC=a.lib.Base.extend({init:function(de,ie){de=this._hasher=new de.init,"string"==typeof ie&&(ie=ne.parse(ie));var F=de.blockSize,ue=4*F;ie.sigBytes>ue&&(ie=de.finalize(ie)),ie.clamp();for(var z=this._oKey=ie.clone(),le=this._iKey=ie.clone(),fe=z.words,xe=le.words,De=0;De<F;De++)fe[De]^=1549556828,xe[De]^=909522486;z.sigBytes=le.sigBytes=ue,this.reset()},reset:function(){var de=this._hasher;de.reset(),de.update(this._iKey)},update:function(de){return this._hasher.update(de),this},finalize:function(de){var ie=this._hasher,F=ie.finalize(de);return ie.reset(),ie.finalize(this._oKey.clone().concat(F))}})))},1471:function(St,Ke,b){var a;St.exports=(a=b(7656),b(4501),b(8823),b(5304),b(8891),b(6598),b(8855),b(7605),b(5168),b(9225),b(885),b(4068),b(3752),b(447),b(7868),b(7738),b(4147),b(2414),b(4152),b(9098),b(1057),b(6700),b(6115),b(332),b(7516),b(9047),b(6964),b(2599),b(4564),b(3188),b(2515),b(5350),b(2795),b(2923),b(5269),a)},8823:function(St,Ke,b){var a;St.exports=(a=b(7656),function(){if("function"==typeof ArrayBuffer){var B=a.lib.WordArray,ae=B.init,ne=B.init=function(ge){if(ge instanceof ArrayBuffer&&(ge=new Uint8Array(ge)),(ge instanceof Int8Array||typeof Uint8ClampedArray<"u"&&ge instanceof Uint8ClampedArray||ge instanceof Int16Array||ge instanceof Uint16Array||ge instanceof Int32Array||ge instanceof Uint32Array||ge instanceof Float32Array||ge instanceof Float64Array)&&(ge=new Uint8Array(ge.buffer,ge.byteOffset,ge.byteLength)),ge instanceof Uint8Array){for(var G=ge.byteLength,de=[],ie=0;ie<G;ie++)de[ie>>>2]|=ge[ie]<<24-ie%4*8;ae.call(this,de,G)}else ae.apply(this,arguments)};ne.prototype=B}}(),a.lib.WordArray)},8855:function(St,Ke,b){var a;St.exports=(a=b(7656),function(x){var te=a,B=te.lib,ae=B.WordArray,ne=B.Hasher,ge=te.algo,G=[];!function(){for(var le=0;le<64;le++)G[le]=4294967296*x.abs(x.sin(le+1))|0}();var de=ge.MD5=ne.extend({_doReset:function(){this._hash=new ae.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(le,fe){for(var xe=0;xe<16;xe++){var De=fe+xe,q=le[De];le[De]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8)}var ve=this._hash.words,W=le[fe+0],we=le[fe+1],ce=le[fe+2],oe=le[fe+3],Se=le[fe+4],Le=le[fe+5],Re=le[fe+6],Ye=le[fe+7],Ie=le[fe+8],rt=le[fe+9],ht=le[fe+10],Et=le[fe+11],xt=le[fe+12],jt=le[fe+13],it=le[fe+14],Me=le[fe+15],V=ve[0],j=ve[1],Z=ve[2],Ce=ve[3];V=ie(V,j,Z,Ce,W,7,G[0]),Ce=ie(Ce,V,j,Z,we,12,G[1]),Z=ie(Z,Ce,V,j,ce,17,G[2]),j=ie(j,Z,Ce,V,oe,22,G[3]),V=ie(V,j,Z,Ce,Se,7,G[4]),Ce=ie(Ce,V,j,Z,Le,12,G[5]),Z=ie(Z,Ce,V,j,Re,17,G[6]),j=ie(j,Z,Ce,V,Ye,22,G[7]),V=ie(V,j,Z,Ce,Ie,7,G[8]),Ce=ie(Ce,V,j,Z,rt,12,G[9]),Z=ie(Z,Ce,V,j,ht,17,G[10]),j=ie(j,Z,Ce,V,Et,22,G[11]),V=ie(V,j,Z,Ce,xt,7,G[12]),Ce=ie(Ce,V,j,Z,jt,12,G[13]),Z=ie(Z,Ce,V,j,it,17,G[14]),V=F(V,j=ie(j,Z,Ce,V,Me,22,G[15]),Z,Ce,we,5,G[16]),Ce=F(Ce,V,j,Z,Re,9,G[17]),Z=F(Z,Ce,V,j,Et,14,G[18]),j=F(j,Z,Ce,V,W,20,G[19]),V=F(V,j,Z,Ce,Le,5,G[20]),Ce=F(Ce,V,j,Z,ht,9,G[21]),Z=F(Z,Ce,V,j,Me,14,G[22]),j=F(j,Z,Ce,V,Se,20,G[23]),V=F(V,j,Z,Ce,rt,5,G[24]),Ce=F(Ce,V,j,Z,it,9,G[25]),Z=F(Z,Ce,V,j,oe,14,G[26]),j=F(j,Z,Ce,V,Ie,20,G[27]),V=F(V,j,Z,Ce,jt,5,G[28]),Ce=F(Ce,V,j,Z,ce,9,G[29]),Z=F(Z,Ce,V,j,Ye,14,G[30]),V=ue(V,j=F(j,Z,Ce,V,xt,20,G[31]),Z,Ce,Le,4,G[32]),Ce=ue(Ce,V,j,Z,Ie,11,G[33]),Z=ue(Z,Ce,V,j,Et,16,G[34]),j=ue(j,Z,Ce,V,it,23,G[35]),V=ue(V,j,Z,Ce,we,4,G[36]),Ce=ue(Ce,V,j,Z,Se,11,G[37]),Z=ue(Z,Ce,V,j,Ye,16,G[38]),j=ue(j,Z,Ce,V,ht,23,G[39]),V=ue(V,j,Z,Ce,jt,4,G[40]),Ce=ue(Ce,V,j,Z,W,11,G[41]),Z=ue(Z,Ce,V,j,oe,16,G[42]),j=ue(j,Z,Ce,V,Re,23,G[43]),V=ue(V,j,Z,Ce,rt,4,G[44]),Ce=ue(Ce,V,j,Z,xt,11,G[45]),Z=ue(Z,Ce,V,j,Me,16,G[46]),V=z(V,j=ue(j,Z,Ce,V,ce,23,G[47]),Z,Ce,W,6,G[48]),Ce=z(Ce,V,j,Z,Ye,10,G[49]),Z=z(Z,Ce,V,j,it,15,G[50]),j=z(j,Z,Ce,V,Le,21,G[51]),V=z(V,j,Z,Ce,xt,6,G[52]),Ce=z(Ce,V,j,Z,oe,10,G[53]),Z=z(Z,Ce,V,j,ht,15,G[54]),j=z(j,Z,Ce,V,we,21,G[55]),V=z(V,j,Z,Ce,Ie,6,G[56]),Ce=z(Ce,V,j,Z,Me,10,G[57]),Z=z(Z,Ce,V,j,Re,15,G[58]),j=z(j,Z,Ce,V,jt,21,G[59]),V=z(V,j,Z,Ce,Se,6,G[60]),Ce=z(Ce,V,j,Z,Et,10,G[61]),Z=z(Z,Ce,V,j,ce,15,G[62]),j=z(j,Z,Ce,V,rt,21,G[63]),ve[0]=ve[0]+V|0,ve[1]=ve[1]+j|0,ve[2]=ve[2]+Z|0,ve[3]=ve[3]+Ce|0},_doFinalize:function(){var le=this._data,fe=le.words,xe=8*this._nDataBytes,De=8*le.sigBytes;fe[De>>>5]|=128<<24-De%32;var q=x.floor(xe/4294967296),ve=xe;fe[15+(De+64>>>9<<4)]=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8),fe[14+(De+64>>>9<<4)]=16711935&(ve<<8|ve>>>24)|4278255360&(ve<<24|ve>>>8),le.sigBytes=4*(fe.length+1),this._process();for(var W=this._hash,we=W.words,ce=0;ce<4;ce++){var oe=we[ce];we[ce]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8)}return W},clone:function(){var le=ne.clone.call(this);return le._hash=this._hash.clone(),le}});function ie(le,fe,xe,De,q,ve,W){var we=le+(fe&xe|~fe&De)+q+W;return(we<<ve|we>>>32-ve)+fe}function F(le,fe,xe,De,q,ve,W){var we=le+(fe&De|xe&~De)+q+W;return(we<<ve|we>>>32-ve)+fe}function ue(le,fe,xe,De,q,ve,W){var we=le+(fe^xe^De)+q+W;return(we<<ve|we>>>32-ve)+fe}function z(le,fe,xe,De,q,ve,W){var we=le+(xe^(fe|~De))+q+W;return(we<<ve|we>>>32-ve)+fe}te.MD5=ne._createHelper(de),te.HmacMD5=ne._createHmacHelper(de)}(Math),a.MD5)},4152:function(St,Ke,b){var a;St.exports=(a=b(7656),b(2414),a.mode.CFB=function(){var x=a.lib.BlockCipherMode.extend();function te(B,ae,ne,ge){var G,de=this._iv;de?(G=de.slice(0),this._iv=void 0):G=this._prevBlock,ge.encryptBlock(G,0);for(var ie=0;ie<ne;ie++)B[ae+ie]^=G[ie]}return x.Encryptor=x.extend({processBlock:function(B,ae){var ne=this._cipher,ge=ne.blockSize;te.call(this,B,ae,ge,ne),this._prevBlock=B.slice(ae,ae+ge)}}),x.Decryptor=x.extend({processBlock:function(B,ae){var ne=this._cipher,ge=ne.blockSize,G=B.slice(ae,ae+ge);te.call(this,B,ae,ge,ne),this._prevBlock=G}}),x}(),a.mode.CFB)},1057:function(St,Ke,b){var a;St.exports=(a=b(7656),b(2414),a.mode.CTRGladman=function(){var x=a.lib.BlockCipherMode.extend();function te(ne){if(255&~(ne>>24))ne+=1<<24;else{var ge=ne>>16&255,G=ne>>8&255,de=255&ne;255===ge?(ge=0,255===G?(G=0,255===de?de=0:++de):++G):++ge,ne=0,ne+=ge<<16,ne+=G<<8,ne+=de}return ne}var ae=x.Encryptor=x.extend({processBlock:function(ne,ge){var G=this._cipher,de=G.blockSize,ie=this._iv,F=this._counter;ie&&(F=this._counter=ie.slice(0),this._iv=void 0),function B(ne){return 0===(ne[0]=te(ne[0]))&&(ne[1]=te(ne[1])),ne}(F);var ue=F.slice(0);G.encryptBlock(ue,0);for(var z=0;z<de;z++)ne[ge+z]^=ue[z]}});return x.Decryptor=ae,x}(),a.mode.CTRGladman)},9098:function(St,Ke,b){var x,te,a;St.exports=(a=b(7656),b(2414),a.mode.CTR=(te=(x=a.lib.BlockCipherMode.extend()).Encryptor=x.extend({processBlock:function(B,ae){var ne=this._cipher,ge=ne.blockSize,G=this._iv,de=this._counter;G&&(de=this._counter=G.slice(0),this._iv=void 0);var ie=de.slice(0);ne.encryptBlock(ie,0),de[ge-1]=de[ge-1]+1|0;for(var F=0;F<ge;F++)B[ae+F]^=ie[F]}}),x.Decryptor=te,x),a.mode.CTR)},6115:function(St,Ke,b){var x,a;St.exports=(a=b(7656),b(2414),a.mode.ECB=((x=a.lib.BlockCipherMode.extend()).Encryptor=x.extend({processBlock:function(te,B){this._cipher.encryptBlock(te,B)}}),x.Decryptor=x.extend({processBlock:function(te,B){this._cipher.decryptBlock(te,B)}}),x),a.mode.ECB)},6700:function(St,Ke,b){var x,te,a;St.exports=(a=b(7656),b(2414),a.mode.OFB=(te=(x=a.lib.BlockCipherMode.extend()).Encryptor=x.extend({processBlock:function(B,ae){var ne=this._cipher,ge=ne.blockSize,G=this._iv,de=this._keystream;G&&(de=this._keystream=G.slice(0),this._iv=void 0),ne.encryptBlock(de,0);for(var ie=0;ie<ge;ie++)B[ae+ie]^=de[ie]}}),x.Decryptor=te,x),a.mode.OFB)},332:function(St,Ke,b){var a;St.exports=(a=b(7656),b(2414),a.pad.AnsiX923={pad:function(x,te){var B=x.sigBytes,ae=4*te,ne=ae-B%ae,ge=B+ne-1;x.clamp(),x.words[ge>>>2]|=ne<<24-ge%4*8,x.sigBytes+=ne},unpad:function(x){x.sigBytes-=255&x.words[x.sigBytes-1>>>2]}},a.pad.Ansix923)},7516:function(St,Ke,b){var a;St.exports=(a=b(7656),b(2414),a.pad.Iso10126={pad:function(x,te){var B=4*te,ae=B-x.sigBytes%B;x.concat(a.lib.WordArray.random(ae-1)).concat(a.lib.WordArray.create([ae<<24],1))},unpad:function(x){x.sigBytes-=255&x.words[x.sigBytes-1>>>2]}},a.pad.Iso10126)},9047:function(St,Ke,b){var a;St.exports=(a=b(7656),b(2414),a.pad.Iso97971={pad:function(x,te){x.concat(a.lib.WordArray.create([2147483648],1)),a.pad.ZeroPadding.pad(x,te)},unpad:function(x){a.pad.ZeroPadding.unpad(x),x.sigBytes--}},a.pad.Iso97971)},2599:function(St,Ke,b){var a;St.exports=(a=b(7656),b(2414),a.pad.NoPadding={pad:function(){},unpad:function(){}},a.pad.NoPadding)},6964:function(St,Ke,b){var a;St.exports=(a=b(7656),b(2414),a.pad.ZeroPadding={pad:function(x,te){var B=4*te;x.clamp(),x.sigBytes+=B-(x.sigBytes%B||B)},unpad:function(x){var te=x.words,B=x.sigBytes-1;for(B=x.sigBytes-1;B>=0;B--)if(te[B>>>2]>>>24-B%4*8&255){x.sigBytes=B+1;break}}},a.pad.ZeroPadding)},7738:function(St,Ke,b){var x,te,B,ae,ne,G,de,a;St.exports=(a=b(7656),b(5168),b(7868),ae=(te=(x=a).lib).WordArray,G=(ne=x.algo).HMAC,de=ne.PBKDF2=(B=te.Base).extend({cfg:B.extend({keySize:4,hasher:ne.SHA256,iterations:25e4}),init:function(ie){this.cfg=this.cfg.extend(ie)},compute:function(ie,F){for(var ue=this.cfg,z=G.create(ue.hasher,ie),le=ae.create(),fe=ae.create([1]),xe=le.words,De=fe.words,q=ue.keySize,ve=ue.iterations;xe.length<q;){var W=z.update(F).finalize(fe);z.reset();for(var we=W.words,ce=we.length,oe=W,Se=1;Se<ve;Se++){oe=z.finalize(oe),z.reset();for(var Le=oe.words,Re=0;Re<ce;Re++)we[Re]^=Le[Re]}le.concat(W),De[0]++}return le.sigBytes=4*q,le}}),x.PBKDF2=function(ie,F,ue){return de.create(ue).compute(ie,F)},a.PBKDF2)},2923:function(St,Ke,b){var a;St.exports=(a=b(7656),b(8891),b(8855),b(4147),b(2414),function(){var x=a,B=x.lib.StreamCipher,ne=[],ge=[],G=[],de=x.algo.RabbitLegacy=B.extend({_doReset:function(){var F=this._key.words,ue=this.cfg.iv,z=this._X=[F[0],F[3]<<16|F[2]>>>16,F[1],F[0]<<16|F[3]>>>16,F[2],F[1]<<16|F[0]>>>16,F[3],F[2]<<16|F[1]>>>16],le=this._C=[F[2]<<16|F[2]>>>16,4294901760&F[0]|65535&F[1],F[3]<<16|F[3]>>>16,4294901760&F[1]|65535&F[2],F[0]<<16|F[0]>>>16,4294901760&F[2]|65535&F[3],F[1]<<16|F[1]>>>16,4294901760&F[3]|65535&F[0]];this._b=0;for(var fe=0;fe<4;fe++)ie.call(this);for(fe=0;fe<8;fe++)le[fe]^=z[fe+4&7];if(ue){var xe=ue.words,De=xe[0],q=xe[1],ve=16711935&(De<<8|De>>>24)|4278255360&(De<<24|De>>>8),W=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8),we=ve>>>16|4294901760&W,ce=W<<16|65535&ve;for(le[0]^=ve,le[1]^=we,le[2]^=W,le[3]^=ce,le[4]^=ve,le[5]^=we,le[6]^=W,le[7]^=ce,fe=0;fe<4;fe++)ie.call(this)}},_doProcessBlock:function(F,ue){var z=this._X;ie.call(this),ne[0]=z[0]^z[5]>>>16^z[3]<<16,ne[1]=z[2]^z[7]>>>16^z[5]<<16,ne[2]=z[4]^z[1]>>>16^z[7]<<16,ne[3]=z[6]^z[3]>>>16^z[1]<<16;for(var le=0;le<4;le++)ne[le]=16711935&(ne[le]<<8|ne[le]>>>24)|4278255360&(ne[le]<<24|ne[le]>>>8),F[ue+le]^=ne[le]},blockSize:4,ivSize:2});function ie(){for(var F=this._X,ue=this._C,z=0;z<8;z++)ge[z]=ue[z];for(ue[0]=ue[0]+1295307597+this._b|0,ue[1]=ue[1]+3545052371+(ue[0]>>>0<ge[0]>>>0?1:0)|0,ue[2]=ue[2]+886263092+(ue[1]>>>0<ge[1]>>>0?1:0)|0,ue[3]=ue[3]+1295307597+(ue[2]>>>0<ge[2]>>>0?1:0)|0,ue[4]=ue[4]+3545052371+(ue[3]>>>0<ge[3]>>>0?1:0)|0,ue[5]=ue[5]+886263092+(ue[4]>>>0<ge[4]>>>0?1:0)|0,ue[6]=ue[6]+1295307597+(ue[5]>>>0<ge[5]>>>0?1:0)|0,ue[7]=ue[7]+3545052371+(ue[6]>>>0<ge[6]>>>0?1:0)|0,this._b=ue[7]>>>0<ge[7]>>>0?1:0,z=0;z<8;z++){var le=F[z]+ue[z],fe=65535&le,xe=le>>>16;G[z]=((fe*fe>>>17)+fe*xe>>>15)+xe*xe^((4294901760&le)*le|0)+((65535&le)*le|0)}F[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0,F[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0,F[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0,F[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0,F[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0,F[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0,F[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0,F[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}x.RabbitLegacy=B._createHelper(de)}(),a.RabbitLegacy)},2795:function(St,Ke,b){var a;St.exports=(a=b(7656),b(8891),b(8855),b(4147),b(2414),function(){var x=a,B=x.lib.StreamCipher,ne=[],ge=[],G=[],de=x.algo.Rabbit=B.extend({_doReset:function(){for(var F=this._key.words,ue=this.cfg.iv,z=0;z<4;z++)F[z]=16711935&(F[z]<<8|F[z]>>>24)|4278255360&(F[z]<<24|F[z]>>>8);var le=this._X=[F[0],F[3]<<16|F[2]>>>16,F[1],F[0]<<16|F[3]>>>16,F[2],F[1]<<16|F[0]>>>16,F[3],F[2]<<16|F[1]>>>16],fe=this._C=[F[2]<<16|F[2]>>>16,4294901760&F[0]|65535&F[1],F[3]<<16|F[3]>>>16,4294901760&F[1]|65535&F[2],F[0]<<16|F[0]>>>16,4294901760&F[2]|65535&F[3],F[1]<<16|F[1]>>>16,4294901760&F[3]|65535&F[0]];for(this._b=0,z=0;z<4;z++)ie.call(this);for(z=0;z<8;z++)fe[z]^=le[z+4&7];if(ue){var xe=ue.words,De=xe[0],q=xe[1],ve=16711935&(De<<8|De>>>24)|4278255360&(De<<24|De>>>8),W=16711935&(q<<8|q>>>24)|4278255360&(q<<24|q>>>8),we=ve>>>16|4294901760&W,ce=W<<16|65535&ve;for(fe[0]^=ve,fe[1]^=we,fe[2]^=W,fe[3]^=ce,fe[4]^=ve,fe[5]^=we,fe[6]^=W,fe[7]^=ce,z=0;z<4;z++)ie.call(this)}},_doProcessBlock:function(F,ue){var z=this._X;ie.call(this),ne[0]=z[0]^z[5]>>>16^z[3]<<16,ne[1]=z[2]^z[7]>>>16^z[5]<<16,ne[2]=z[4]^z[1]>>>16^z[7]<<16,ne[3]=z[6]^z[3]>>>16^z[1]<<16;for(var le=0;le<4;le++)ne[le]=16711935&(ne[le]<<8|ne[le]>>>24)|4278255360&(ne[le]<<24|ne[le]>>>8),F[ue+le]^=ne[le]},blockSize:4,ivSize:2});function ie(){for(var F=this._X,ue=this._C,z=0;z<8;z++)ge[z]=ue[z];for(ue[0]=ue[0]+1295307597+this._b|0,ue[1]=ue[1]+3545052371+(ue[0]>>>0<ge[0]>>>0?1:0)|0,ue[2]=ue[2]+886263092+(ue[1]>>>0<ge[1]>>>0?1:0)|0,ue[3]=ue[3]+1295307597+(ue[2]>>>0<ge[2]>>>0?1:0)|0,ue[4]=ue[4]+3545052371+(ue[3]>>>0<ge[3]>>>0?1:0)|0,ue[5]=ue[5]+886263092+(ue[4]>>>0<ge[4]>>>0?1:0)|0,ue[6]=ue[6]+1295307597+(ue[5]>>>0<ge[5]>>>0?1:0)|0,ue[7]=ue[7]+3545052371+(ue[6]>>>0<ge[6]>>>0?1:0)|0,this._b=ue[7]>>>0<ge[7]>>>0?1:0,z=0;z<8;z++){var le=F[z]+ue[z],fe=65535&le,xe=le>>>16;G[z]=((fe*fe>>>17)+fe*xe>>>15)+xe*xe^((4294901760&le)*le|0)+((65535&le)*le|0)}F[0]=G[0]+(G[7]<<16|G[7]>>>16)+(G[6]<<16|G[6]>>>16)|0,F[1]=G[1]+(G[0]<<8|G[0]>>>24)+G[7]|0,F[2]=G[2]+(G[1]<<16|G[1]>>>16)+(G[0]<<16|G[0]>>>16)|0,F[3]=G[3]+(G[2]<<8|G[2]>>>24)+G[1]|0,F[4]=G[4]+(G[3]<<16|G[3]>>>16)+(G[2]<<16|G[2]>>>16)|0,F[5]=G[5]+(G[4]<<8|G[4]>>>24)+G[3]|0,F[6]=G[6]+(G[5]<<16|G[5]>>>16)+(G[4]<<16|G[4]>>>16)|0,F[7]=G[7]+(G[6]<<8|G[6]>>>24)+G[5]|0}x.Rabbit=B._createHelper(de)}(),a.Rabbit)},5350:function(St,Ke,b){var a;St.exports=(a=b(7656),b(8891),b(8855),b(4147),b(2414),function(){var x=a,B=x.lib.StreamCipher,ae=x.algo,ne=ae.RC4=B.extend({_doReset:function(){for(var de=this._key,ie=de.words,F=de.sigBytes,ue=this._S=[],z=0;z<256;z++)ue[z]=z;z=0;for(var le=0;z<256;z++){var fe=z%F,De=ue[z];ue[z]=ue[le=(le+ue[z]+(ie[fe>>>2]>>>24-fe%4*8&255))%256],ue[le]=De}this._i=this._j=0},_doProcessBlock:function(de,ie){de[ie]^=ge.call(this)},keySize:8,ivSize:0});function ge(){for(var de=this._S,ie=this._i,F=this._j,ue=0,z=0;z<4;z++){var le=de[ie=(ie+1)%256];de[ie]=de[F=(F+de[ie])%256],de[F]=le,ue|=de[(de[ie]+de[F])%256]<<24-8*z}return this._i=ie,this._j=F,ue}x.RC4=B._createHelper(ne);var G=ae.RC4Drop=ne.extend({cfg:ne.cfg.extend({drop:192}),_doReset:function(){ne._doReset.call(this);for(var de=this.cfg.drop;de>0;de--)ge.call(this)}});x.RC4Drop=B._createHelper(G)}(),a.RC4)},447:function(St,Ke,b){var a;St.exports=(a=b(7656),function(){var te=a,B=te.lib,ae=B.WordArray,ne=B.Hasher,ge=te.algo,G=ae.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),de=ae.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),ie=ae.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),F=ae.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),ue=ae.create([0,1518500249,1859775393,2400959708,2840853838]),z=ae.create([1352829926,1548603684,1836072691,2053994217,0]),le=ge.RIPEMD160=ne.extend({_doReset:function(){this._hash=ae.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(we,ce){for(var oe=0;oe<16;oe++){var Se=ce+oe,Le=we[Se];we[Se]=16711935&(Le<<8|Le>>>24)|4278255360&(Le<<24|Le>>>8)}var jt,it,Me,V,j,Z,Ce,ut,Fe,ft,We,Re=this._hash.words,Ye=ue.words,Ie=z.words,rt=G.words,ht=de.words,Et=ie.words,xt=F.words;for(Z=jt=Re[0],Ce=it=Re[1],ut=Me=Re[2],Fe=V=Re[3],ft=j=Re[4],oe=0;oe<80;oe+=1)We=jt+we[ce+rt[oe]]|0,We+=oe<16?fe(it,Me,V)+Ye[0]:oe<32?xe(it,Me,V)+Ye[1]:oe<48?De(it,Me,V)+Ye[2]:oe<64?q(it,Me,V)+Ye[3]:ve(it,Me,V)+Ye[4],We=(We=W(We|=0,Et[oe]))+j|0,jt=j,j=V,V=W(Me,10),Me=it,it=We,We=Z+we[ce+ht[oe]]|0,We+=oe<16?ve(Ce,ut,Fe)+Ie[0]:oe<32?q(Ce,ut,Fe)+Ie[1]:oe<48?De(Ce,ut,Fe)+Ie[2]:oe<64?xe(Ce,ut,Fe)+Ie[3]:fe(Ce,ut,Fe)+Ie[4],We=(We=W(We|=0,xt[oe]))+ft|0,Z=ft,ft=Fe,Fe=W(ut,10),ut=Ce,Ce=We;We=Re[1]+Me+Fe|0,Re[1]=Re[2]+V+ft|0,Re[2]=Re[3]+j+Z|0,Re[3]=Re[4]+jt+Ce|0,Re[4]=Re[0]+it+ut|0,Re[0]=We},_doFinalize:function(){var we=this._data,ce=we.words,oe=8*this._nDataBytes,Se=8*we.sigBytes;ce[Se>>>5]|=128<<24-Se%32,ce[14+(Se+64>>>9<<4)]=16711935&(oe<<8|oe>>>24)|4278255360&(oe<<24|oe>>>8),we.sigBytes=4*(ce.length+1),this._process();for(var Le=this._hash,Re=Le.words,Ye=0;Ye<5;Ye++){var Ie=Re[Ye];Re[Ye]=16711935&(Ie<<8|Ie>>>24)|4278255360&(Ie<<24|Ie>>>8)}return Le},clone:function(){var we=ne.clone.call(this);return we._hash=this._hash.clone(),we}});function fe(we,ce,oe){return we^ce^oe}function xe(we,ce,oe){return we&ce|~we&oe}function De(we,ce,oe){return(we|~ce)^oe}function q(we,ce,oe){return we&oe|ce&~oe}function ve(we,ce,oe){return we^(ce|~oe)}function W(we,ce){return we<<ce|we>>>32-ce}te.RIPEMD160=ne._createHelper(le),te.HmacRIPEMD160=ne._createHmacHelper(le)}(Math),a.RIPEMD160)},7605:function(St,Ke,b){var x,te,B,ae,ge,G,a;St.exports=(a=b(7656),B=(te=(x=a).lib).WordArray,ge=[],G=x.algo.SHA1=(ae=te.Hasher).extend({_doReset:function(){this._hash=new B.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(de,ie){for(var F=this._hash.words,ue=F[0],z=F[1],le=F[2],fe=F[3],xe=F[4],De=0;De<80;De++){if(De<16)ge[De]=0|de[ie+De];else{var q=ge[De-3]^ge[De-8]^ge[De-14]^ge[De-16];ge[De]=q<<1|q>>>31}var ve=(ue<<5|ue>>>27)+xe+ge[De];ve+=De<20?1518500249+(z&le|~z&fe):De<40?1859775393+(z^le^fe):De<60?(z&le|z&fe|le&fe)-1894007588:(z^le^fe)-899497514,xe=fe,fe=le,le=z<<30|z>>>2,z=ue,ue=ve}F[0]=F[0]+ue|0,F[1]=F[1]+z|0,F[2]=F[2]+le|0,F[3]=F[3]+fe|0,F[4]=F[4]+xe|0},_doFinalize:function(){var de=this._data,ie=de.words,F=8*this._nDataBytes,ue=8*de.sigBytes;return ie[ue>>>5]|=128<<24-ue%32,ie[14+(ue+64>>>9<<4)]=Math.floor(F/4294967296),ie[15+(ue+64>>>9<<4)]=F,de.sigBytes=4*ie.length,this._process(),this._hash},clone:function(){var de=ae.clone.call(this);return de._hash=this._hash.clone(),de}}),x.SHA1=ae._createHelper(G),x.HmacSHA1=ae._createHmacHelper(G),a.SHA1)},9225:function(St,Ke,b){var x,B,ae,ne,ge,a;St.exports=(a=b(7656),b(5168),B=(x=a).lib.WordArray,ge=(ae=x.algo).SHA224=(ne=ae.SHA256).extend({_doReset:function(){this._hash=new B.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var G=ne._doFinalize.call(this);return G.sigBytes-=4,G}}),x.SHA224=ne._createHelper(ge),x.HmacSHA224=ne._createHmacHelper(ge),a.SHA224)},5168:function(St,Ke,b){var a;St.exports=(a=b(7656),function(x){var te=a,B=te.lib,ae=B.WordArray,ne=B.Hasher,ge=te.algo,G=[],de=[];!function(){function ue(xe){for(var De=x.sqrt(xe),q=2;q<=De;q++)if(!(xe%q))return!1;return!0}function z(xe){return 4294967296*(xe-(0|xe))|0}for(var le=2,fe=0;fe<64;)ue(le)&&(fe<8&&(G[fe]=z(x.pow(le,.5))),de[fe]=z(x.pow(le,1/3)),fe++),le++}();var ie=[],F=ge.SHA256=ne.extend({_doReset:function(){this._hash=new ae.init(G.slice(0))},_doProcessBlock:function(ue,z){for(var le=this._hash.words,fe=le[0],xe=le[1],De=le[2],q=le[3],ve=le[4],W=le[5],we=le[6],ce=le[7],oe=0;oe<64;oe++){if(oe<16)ie[oe]=0|ue[z+oe];else{var Se=ie[oe-15],Re=ie[oe-2];ie[oe]=((Se<<25|Se>>>7)^(Se<<14|Se>>>18)^Se>>>3)+ie[oe-7]+((Re<<15|Re>>>17)^(Re<<13|Re>>>19)^Re>>>10)+ie[oe-16]}var rt=fe&xe^fe&De^xe&De,xt=ce+((ve<<26|ve>>>6)^(ve<<21|ve>>>11)^(ve<<7|ve>>>25))+(ve&W^~ve&we)+de[oe]+ie[oe];ce=we,we=W,W=ve,ve=q+xt|0,q=De,De=xe,xe=fe,fe=xt+(((fe<<30|fe>>>2)^(fe<<19|fe>>>13)^(fe<<10|fe>>>22))+rt)|0}le[0]=le[0]+fe|0,le[1]=le[1]+xe|0,le[2]=le[2]+De|0,le[3]=le[3]+q|0,le[4]=le[4]+ve|0,le[5]=le[5]+W|0,le[6]=le[6]+we|0,le[7]=le[7]+ce|0},_doFinalize:function(){var ue=this._data,z=ue.words,le=8*this._nDataBytes,fe=8*ue.sigBytes;return z[fe>>>5]|=128<<24-fe%32,z[14+(fe+64>>>9<<4)]=x.floor(le/4294967296),z[15+(fe+64>>>9<<4)]=le,ue.sigBytes=4*z.length,this._process(),this._hash},clone:function(){var ue=ne.clone.call(this);return ue._hash=this._hash.clone(),ue}});te.SHA256=ne._createHelper(F),te.HmacSHA256=ne._createHmacHelper(F)}(Math),a.SHA256)},3752:function(St,Ke,b){var a;St.exports=(a=b(7656),b(4501),function(x){var te=a,B=te.lib,ae=B.WordArray,ne=B.Hasher,G=te.x64.Word,de=te.algo,ie=[],F=[],ue=[];!function(){for(var fe=1,xe=0,De=0;De<24;De++){ie[fe+5*xe]=(De+1)*(De+2)/2%64;var ve=(2*fe+3*xe)%5;fe=xe%5,xe=ve}for(fe=0;fe<5;fe++)for(xe=0;xe<5;xe++)F[fe+5*xe]=xe+(2*fe+3*xe)%5*5;for(var W=1,we=0;we<24;we++){for(var ce=0,oe=0,Se=0;Se<7;Se++){if(1&W){var Le=(1<<Se)-1;Le<32?oe^=1<<Le:ce^=1<<Le-32}128&W?W=W<<1^113:W<<=1}ue[we]=G.create(ce,oe)}}();var z=[];!function(){for(var fe=0;fe<25;fe++)z[fe]=G.create()}();var le=de.SHA3=ne.extend({cfg:ne.cfg.extend({outputLength:512}),_doReset:function(){for(var fe=this._state=[],xe=0;xe<25;xe++)fe[xe]=new G.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(fe,xe){for(var De=this._state,q=this.blockSize/2,ve=0;ve<q;ve++){var W=fe[xe+2*ve],we=fe[xe+2*ve+1];W=16711935&(W<<8|W>>>24)|4278255360&(W<<24|W>>>8),(ce=De[ve]).high^=we=16711935&(we<<8|we>>>24)|4278255360&(we<<24|we>>>8),ce.low^=W}for(var oe=0;oe<24;oe++){for(var Se=0;Se<5;Se++){for(var Le=0,Re=0,Ye=0;Ye<5;Ye++)Le^=(ce=De[Se+5*Ye]).high,Re^=ce.low;var Ie=z[Se];Ie.high=Le,Ie.low=Re}for(Se=0;Se<5;Se++){var rt=z[(Se+4)%5],ht=z[(Se+1)%5],Et=ht.high,xt=ht.low;for(Le=rt.high^(Et<<1|xt>>>31),Re=rt.low^(xt<<1|Et>>>31),Ye=0;Ye<5;Ye++)(ce=De[Se+5*Ye]).high^=Le,ce.low^=Re}for(var jt=1;jt<25;jt++){var it=(ce=De[jt]).high,Me=ce.low,V=ie[jt];V<32?(Le=it<<V|Me>>>32-V,Re=Me<<V|it>>>32-V):(Le=Me<<V-32|it>>>64-V,Re=it<<V-32|Me>>>64-V);var j=z[F[jt]];j.high=Le,j.low=Re}var Z=z[0],Ce=De[0];for(Z.high=Ce.high,Z.low=Ce.low,Se=0;Se<5;Se++)for(Ye=0;Ye<5;Ye++){var ut=z[jt=Se+5*Ye],Fe=z[(Se+1)%5+5*Ye],ft=z[(Se+2)%5+5*Ye];(ce=De[jt]).high=ut.high^~Fe.high&ft.high,ce.low=ut.low^~Fe.low&ft.low}var ce,We=ue[oe];(ce=De[0]).high^=We.high,ce.low^=We.low}},_doFinalize:function(){var fe=this._data,xe=fe.words,q=8*fe.sigBytes,ve=32*this.blockSize;xe[q>>>5]|=1<<24-q%32,xe[(x.ceil((q+1)/ve)*ve>>>5)-1]|=128,fe.sigBytes=4*xe.length,this._process();for(var W=this._state,we=this.cfg.outputLength/8,ce=we/8,oe=[],Se=0;Se<ce;Se++){var Le=W[Se],Re=Le.high,Ye=Le.low;Re=16711935&(Re<<8|Re>>>24)|4278255360&(Re<<24|Re>>>8),oe.push(Ye=16711935&(Ye<<8|Ye>>>24)|4278255360&(Ye<<24|Ye>>>8)),oe.push(Re)}return new ae.init(oe,we)},clone:function(){for(var fe=ne.clone.call(this),xe=fe._state=this._state.slice(0),De=0;De<25;De++)xe[De]=xe[De].clone();return fe}});te.SHA3=ne._createHelper(le),te.HmacSHA3=ne._createHmacHelper(le)}(Math),a.SHA3)},4068:function(St,Ke,b){var x,te,B,ae,ne,ge,G,a;St.exports=(a=b(7656),b(4501),b(885),B=(te=(x=a).x64).Word,ae=te.WordArray,G=(ne=x.algo).SHA384=(ge=ne.SHA512).extend({_doReset:function(){this._hash=new ae.init([new B.init(3418070365,3238371032),new B.init(1654270250,914150663),new B.init(2438529370,812702999),new B.init(355462360,4144912697),new B.init(1731405415,4290775857),new B.init(2394180231,1750603025),new B.init(3675008525,1694076839),new B.init(1203062813,3204075428)])},_doFinalize:function(){var de=ge._doFinalize.call(this);return de.sigBytes-=16,de}}),x.SHA384=ge._createHelper(G),x.HmacSHA384=ge._createHmacHelper(G),a.SHA384)},885:function(St,Ke,b){var a;St.exports=(a=b(7656),b(4501),function(){var x=a,B=x.lib.Hasher,ae=x.x64,ne=ae.Word,ge=ae.WordArray,G=x.algo;function de(){return ne.create.apply(ne,arguments)}var ie=[de(1116352408,3609767458),de(1899447441,602891725),de(3049323471,3964484399),de(3921009573,2173295548),de(961987163,4081628472),de(1508970993,3053834265),de(2453635748,2937671579),de(2870763221,3664609560),de(3624381080,2734883394),de(310598401,1164996542),de(607225278,1323610764),de(1426881987,3590304994),de(1925078388,4068182383),de(2162078206,991336113),de(2614888103,633803317),de(3248222580,3479774868),de(3835390401,2666613458),de(4022224774,944711139),de(264347078,2341262773),de(604807628,2007800933),de(770255983,1495990901),de(1249150122,1856431235),de(1555081692,3175218132),de(1996064986,2198950837),de(2554220882,3999719339),de(2821834349,766784016),de(2952996808,2566594879),de(3210313671,3203337956),de(3336571891,1034457026),de(3584528711,2466948901),de(113926993,3758326383),de(338241895,168717936),de(666307205,1188179964),de(773529912,1546045734),de(1294757372,1522805485),de(1396182291,2643833823),de(1695183700,2343527390),de(1986661051,1014477480),de(2177026350,1206759142),de(2456956037,344077627),de(2730485921,1290863460),de(2820302411,3158454273),de(3259730800,3505952657),de(3345764771,106217008),de(3516065817,3606008344),de(3600352804,1432725776),de(4094571909,1467031594),de(275423344,851169720),de(430227734,3100823752),de(506948616,1363258195),de(659060556,3750685593),de(883997877,3785050280),de(958139571,3318307427),de(1322822218,3812723403),de(1537002063,2003034995),de(1747873779,3602036899),de(1955562222,1575990012),de(2024104815,1125592928),de(2227730452,2716904306),de(2361852424,442776044),de(2428436474,593698344),de(2756734187,3733110249),de(3204031479,2999351573),de(3329325298,3815920427),de(3391569614,3928383900),de(3515267271,566280711),de(3940187606,3454069534),de(4118630271,4000239992),de(116418474,1914138554),de(174292421,2731055270),de(289380356,3203993006),de(460393269,320620315),de(685471733,587496836),de(852142971,1086792851),de(1017036298,365543100),de(1126000580,2618297676),de(1288033470,3409855158),de(1501505948,4234509866),de(1607167915,987167468),de(1816402316,1246189591)],F=[];!function(){for(var z=0;z<80;z++)F[z]=de()}();var ue=G.SHA512=B.extend({_doReset:function(){this._hash=new ge.init([new ne.init(1779033703,4089235720),new ne.init(3144134277,2227873595),new ne.init(1013904242,4271175723),new ne.init(2773480762,1595750129),new ne.init(1359893119,2917565137),new ne.init(2600822924,725511199),new ne.init(528734635,4215389547),new ne.init(1541459225,327033209)])},_doProcessBlock:function(z,le){for(var fe=this._hash.words,xe=fe[0],De=fe[1],q=fe[2],ve=fe[3],W=fe[4],we=fe[5],ce=fe[6],oe=fe[7],Se=xe.high,Le=xe.low,Re=De.high,Ye=De.low,Ie=q.high,rt=q.low,ht=ve.high,Et=ve.low,xt=W.high,jt=W.low,it=we.high,Me=we.low,V=ce.high,j=ce.low,Z=oe.high,Ce=oe.low,ut=Se,Fe=Le,ft=Re,We=Ye,en=Ie,Ot=rt,gt=ht,Jt=Et,yn=xt,fn=jt,Gt=it,Ht=Me,Ln=V,Bt=j,He=Z,ze=Ce,_t=0;_t<80;_t++){var Zt,In,tr=F[_t];if(_t<16)In=tr.high=0|z[le+2*_t],Zt=tr.low=0|z[le+2*_t+1];else{var Sn=F[_t-15],mn=Sn.high,Ut=Sn.low,dr=(Ut>>>1|mn<<31)^(Ut>>>8|mn<<24)^(Ut>>>7|mn<<25),hr=F[_t-2],Wn=hr.high,Er=hr.low,Zn=(Er>>>19|Wn<<13)^(Er<<3|Wn>>>29)^(Er>>>6|Wn<<26),fi=F[_t-7],Qr=F[_t-16],Xr=Qr.low;tr.high=In=(In=(In=((mn>>>1|Ut<<31)^(mn>>>8|Ut<<24)^mn>>>7)+fi.high+((Zt=dr+fi.low)>>>0<dr>>>0?1:0))+((Wn>>>19|Er<<13)^(Wn<<3|Er>>>29)^Wn>>>6)+((Zt+=Zn)>>>0<Zn>>>0?1:0))+Qr.high+((Zt+=Xr)>>>0<Xr>>>0?1:0),tr.low=Zt}var Qe,ar=yn&Gt^~yn&Ln,an=fn&Ht^~fn&Bt,Hr=ut&ft^ut&en^ft&en,bt=(Fe>>>28|ut<<4)^(Fe<<30|ut>>>2)^(Fe<<25|ut>>>7),$t=ie[_t],Ue=$t.low,Rt=He+((yn>>>14|fn<<18)^(yn>>>18|fn<<14)^(yn<<23|fn>>>9))+((Qe=ze+((fn>>>14|yn<<18)^(fn>>>18|yn<<14)^(fn<<23|yn>>>9)))>>>0<ze>>>0?1:0),yt=bt+(Fe&We^Fe&Ot^We&Ot);He=Ln,ze=Bt,Ln=Gt,Bt=Ht,Gt=yn,Ht=fn,yn=gt+(Rt=(Rt=(Rt=Rt+ar+((Qe+=an)>>>0<an>>>0?1:0))+$t.high+((Qe+=Ue)>>>0<Ue>>>0?1:0))+In+((Qe+=Zt)>>>0<Zt>>>0?1:0))+((fn=Jt+Qe|0)>>>0<Jt>>>0?1:0)|0,gt=en,Jt=Ot,en=ft,Ot=We,ft=ut,We=Fe,ut=Rt+(((ut>>>28|Fe<<4)^(ut<<30|Fe>>>2)^(ut<<25|Fe>>>7))+Hr+(yt>>>0<bt>>>0?1:0))+((Fe=Qe+yt|0)>>>0<Qe>>>0?1:0)|0}Le=xe.low=Le+Fe,xe.high=Se+ut+(Le>>>0<Fe>>>0?1:0),Ye=De.low=Ye+We,De.high=Re+ft+(Ye>>>0<We>>>0?1:0),rt=q.low=rt+Ot,q.high=Ie+en+(rt>>>0<Ot>>>0?1:0),Et=ve.low=Et+Jt,ve.high=ht+gt+(Et>>>0<Jt>>>0?1:0),jt=W.low=jt+fn,W.high=xt+yn+(jt>>>0<fn>>>0?1:0),Me=we.low=Me+Ht,we.high=it+Gt+(Me>>>0<Ht>>>0?1:0),j=ce.low=j+Bt,ce.high=V+Ln+(j>>>0<Bt>>>0?1:0),Ce=oe.low=Ce+ze,oe.high=Z+He+(Ce>>>0<ze>>>0?1:0)},_doFinalize:function(){var z=this._data,le=z.words,fe=8*this._nDataBytes,xe=8*z.sigBytes;return le[xe>>>5]|=128<<24-xe%32,le[30+(xe+128>>>10<<5)]=Math.floor(fe/4294967296),le[31+(xe+128>>>10<<5)]=fe,z.sigBytes=4*le.length,this._process(),this._hash.toX32()},clone:function(){var z=B.clone.call(this);return z._hash=this._hash.clone(),z},blockSize:32});x.SHA512=B._createHelper(ue),x.HmacSHA512=B._createHmacHelper(ue)}(),a.SHA512)},2515:function(St,Ke,b){var a;St.exports=(a=b(7656),b(8891),b(8855),b(4147),b(2414),function(){var x=a,te=x.lib,B=te.WordArray,ae=te.BlockCipher,ne=x.algo,ge=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],G=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],de=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],ie=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],F=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],ue=ne.DES=ae.extend({_doReset:function(){for(var De=this._key.words,q=[],ve=0;ve<56;ve++){var W=ge[ve]-1;q[ve]=De[W>>>5]>>>31-W%32&1}for(var we=this._subKeys=[],ce=0;ce<16;ce++){var oe=we[ce]=[],Se=de[ce];for(ve=0;ve<24;ve++)oe[ve/6|0]|=q[(G[ve]-1+Se)%28]<<31-ve%6,oe[4+(ve/6|0)]|=q[28+(G[ve+24]-1+Se)%28]<<31-ve%6;for(oe[0]=oe[0]<<1|oe[0]>>>31,ve=1;ve<7;ve++)oe[ve]=oe[ve]>>>4*(ve-1)+3;oe[7]=oe[7]<<5|oe[7]>>>27}var Le=this._invSubKeys=[];for(ve=0;ve<16;ve++)Le[ve]=we[15-ve]},encryptBlock:function(xe,De){this._doCryptBlock(xe,De,this._subKeys)},decryptBlock:function(xe,De){this._doCryptBlock(xe,De,this._invSubKeys)},_doCryptBlock:function(xe,De,q){this._lBlock=xe[De],this._rBlock=xe[De+1],z.call(this,4,252645135),z.call(this,16,65535),le.call(this,2,858993459),le.call(this,8,16711935),z.call(this,1,1431655765);for(var ve=0;ve<16;ve++){for(var W=q[ve],we=this._lBlock,ce=this._rBlock,oe=0,Se=0;Se<8;Se++)oe|=ie[Se][((ce^W[Se])&F[Se])>>>0];this._lBlock=ce,this._rBlock=we^oe}var Le=this._lBlock;this._lBlock=this._rBlock,this._rBlock=Le,z.call(this,1,1431655765),le.call(this,8,16711935),le.call(this,2,858993459),z.call(this,16,65535),z.call(this,4,252645135),xe[De]=this._lBlock,xe[De+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function z(xe,De){var q=(this._lBlock>>>xe^this._rBlock)&De;this._rBlock^=q,this._lBlock^=q<<xe}function le(xe,De){var q=(this._rBlock>>>xe^this._lBlock)&De;this._lBlock^=q,this._rBlock^=q<<xe}x.DES=ae._createHelper(ue);var fe=ne.TripleDES=ae.extend({_doReset:function(){var De=this._key.words;if(2!==De.length&&4!==De.length&&De.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var q=De.slice(0,2),ve=De.length<4?De.slice(0,2):De.slice(2,4),W=De.length<6?De.slice(0,2):De.slice(4,6);this._des1=ue.createEncryptor(B.create(q)),this._des2=ue.createEncryptor(B.create(ve)),this._des3=ue.createEncryptor(B.create(W))},encryptBlock:function(xe,De){this._des1.encryptBlock(xe,De),this._des2.decryptBlock(xe,De),this._des3.encryptBlock(xe,De)},decryptBlock:function(xe,De){this._des3.decryptBlock(xe,De),this._des2.encryptBlock(xe,De),this._des1.decryptBlock(xe,De)},keySize:6,ivSize:2,blockSize:2});x.TripleDES=ae._createHelper(fe)}(),a.TripleDES)},4501:function(St,Ke,b){var B,ae,ne,ge,a;St.exports=(a=b(7656),ae=(B=a.lib).Base,ne=B.WordArray,(ge=a.x64={}).Word=ae.extend({init:function(ie,F){this.high=ie,this.low=F}}),ge.WordArray=ae.extend({init:function(ie,F){ie=this.words=ie||[],this.sigBytes=null!=F?F:8*ie.length},toX32:function(){for(var ie=this.words,F=ie.length,ue=[],z=0;z<F;z++){var le=ie[z];ue.push(le.high),ue.push(le.low)}return ne.create(ue,this.sigBytes)},clone:function(){for(var ie=ae.clone.call(this),F=ie.words=this.words.slice(0),ue=F.length,z=0;z<ue;z++)F[z]=F[z].clone();return ie}}),a)},4412:(St,Ke,b)=>{"use strict";b.d(Ke,{t:()=>x});var a=b(1413);class x extends a.B{constructor(B){super(),this._value=B}get value(){return this.getValue()}_subscribe(B){const ae=super._subscribe(B);return!ae.closed&&B.next(this._value),ae}getValue(){const{hasError:B,thrownError:ae,_value:ne}=this;if(B)throw ae;return this._throwIfClosed(),ne}next(B){super.next(this._value=B)}}},1985:(St,Ke,b)=>{"use strict";b.d(Ke,{c:()=>G});var a=b(7707),x=b(8359),te=b(3494),B=b(1203),ae=b(1026),ne=b(8071),ge=b(9786);let G=(()=>{class ue{constructor(le){le&&(this._subscribe=le)}lift(le){const fe=new ue;return fe.source=this,fe.operator=le,fe}subscribe(le,fe,xe){const De=function F(ue){return ue&&ue instanceof a.vU||function ie(ue){return ue&&(0,ne.T)(ue.next)&&(0,ne.T)(ue.error)&&(0,ne.T)(ue.complete)}(ue)&&(0,x.Uv)(ue)}(le)?le:new a.Ms(le,fe,xe);return(0,ge.Y)(()=>{const{operator:q,source:ve}=this;De.add(q?q.call(De,ve):ve?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(le){try{return this._subscribe(le)}catch(fe){le.error(fe)}}forEach(le,fe){return new(fe=de(fe))((xe,De)=>{const q=new a.Ms({next:ve=>{try{le(ve)}catch(W){De(W),q.unsubscribe()}},error:De,complete:xe});this.subscribe(q)})}_subscribe(le){var fe;return null===(fe=this.source)||void 0===fe?void 0:fe.subscribe(le)}[te.s](){return this}pipe(...le){return(0,B.m)(le)(this)}toPromise(le){return new(le=de(le))((fe,xe)=>{let De;this.subscribe(q=>De=q,q=>xe(q),()=>fe(De))})}}return ue.create=z=>new ue(z),ue})();function de(ue){var z;return null!==(z=ue??ae.$.Promise)&&void 0!==z?z:Promise}},1413:(St,Ke,b)=>{"use strict";b.d(Ke,{B:()=>ge});var a=b(1985),x=b(8359);const B=(0,b(1853).L)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=b(7908),ne=b(9786);let ge=(()=>{class de extends a.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const ue=new G(this,this);return ue.operator=F,ue}_throwIfClosed(){if(this.closed)throw new B}next(F){(0,ne.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ue of this.currentObservers)ue.next(F)}})}error(F){(0,ne.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:ue}=this;for(;ue.length;)ue.shift().error(F)}})}complete(){(0,ne.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:ue,isStopped:z,observers:le}=this;return ue||z?x.Kn:(this.currentObservers=null,le.push(F),new x.yU(()=>{this.currentObservers=null,(0,ae.o)(le,F)}))}_checkFinalizedStatuses(F){const{hasError:ue,thrownError:z,isStopped:le}=this;ue?F.error(z):le&&F.complete()}asObservable(){const F=new a.c;return F.source=this,F}}return de.create=(ie,F)=>new G(ie,F),de})();class G extends ge{constructor(ie,F){super(),this.destination=ie,this.source=F}next(ie){var F,ue;null===(ue=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===ue||ue.call(F,ie)}error(ie){var F,ue;null===(ue=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===ue||ue.call(F,ie)}complete(){var ie,F;null===(F=null===(ie=this.destination)||void 0===ie?void 0:ie.complete)||void 0===F||F.call(ie)}_subscribe(ie){var F,ue;return null!==(ue=null===(F=this.source)||void 0===F?void 0:F.subscribe(ie))&&void 0!==ue?ue:x.Kn}}},7707:(St,Ke,b)=>{"use strict";b.d(Ke,{Ms:()=>xe,vU:()=>ue});var a=b(8071),x=b(8359),te=b(1026),B=b(5334),ae=b(5343);const ne=de("C",void 0,void 0);function de(we,ce,oe){return{kind:we,value:ce,error:oe}}var ie=b(9270),F=b(9786);class ue extends x.yU{constructor(ce){super(),this.isStopped=!1,ce?(this.destination=ce,(0,x.Uv)(ce)&&ce.add(this)):this.destination=W}static create(ce,oe,Se){return new xe(ce,oe,Se)}next(ce){this.isStopped?ve(function G(we){return de("N",we,void 0)}(ce),this):this._next(ce)}error(ce){this.isStopped?ve(function ge(we){return de("E",void 0,we)}(ce),this):(this.isStopped=!0,this._error(ce))}complete(){this.isStopped?ve(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ce){this.destination.next(ce)}_error(ce){try{this.destination.error(ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const z=Function.prototype.bind;function le(we,ce){return z.call(we,ce)}class fe{constructor(ce){this.partialObserver=ce}next(ce){const{partialObserver:oe}=this;if(oe.next)try{oe.next(ce)}catch(Se){De(Se)}}error(ce){const{partialObserver:oe}=this;if(oe.error)try{oe.error(ce)}catch(Se){De(Se)}else De(ce)}complete(){const{partialObserver:ce}=this;if(ce.complete)try{ce.complete()}catch(oe){De(oe)}}}class xe extends ue{constructor(ce,oe,Se){let Le;if(super(),(0,a.T)(ce)||!ce)Le={next:ce??void 0,error:oe??void 0,complete:Se??void 0};else{let Re;this&&te.$.useDeprecatedNextContext?(Re=Object.create(ce),Re.unsubscribe=()=>this.unsubscribe(),Le={next:ce.next&&le(ce.next,Re),error:ce.error&&le(ce.error,Re),complete:ce.complete&&le(ce.complete,Re)}):Le=ce}this.destination=new fe(Le)}}function De(we){te.$.useDeprecatedSynchronousErrorHandling?(0,F.l)(we):(0,B.m)(we)}function ve(we,ce){const{onStoppedNotification:oe}=te.$;oe&&ie.f.setTimeout(()=>oe(we,ce))}const W={closed:!0,next:ae.l,error:function q(we){throw we},complete:ae.l}},8359:(St,Ke,b)=>{"use strict";b.d(Ke,{Kn:()=>ne,yU:()=>ae,Uv:()=>ge});var a=b(8071);const te=(0,b(1853).L)(de=>function(F){de(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((ue,z)=>`${z+1}) ${ue.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var B=b(7908);class ae{constructor(ie){this.initialTeardown=ie,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ie;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const le of F)le.remove(this);else F.remove(this);const{initialTeardown:ue}=this;if((0,a.T)(ue))try{ue()}catch(le){ie=le instanceof te?le.errors:[le]}const{_finalizers:z}=this;if(z){this._finalizers=null;for(const le of z)try{G(le)}catch(fe){ie=ie??[],fe instanceof te?ie=[...ie,...fe.errors]:ie.push(fe)}}if(ie)throw new te(ie)}}add(ie){var F;if(ie&&ie!==this)if(this.closed)G(ie);else{if(ie instanceof ae){if(ie.closed||ie._hasParent(this))return;ie._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(ie)}}_hasParent(ie){const{_parentage:F}=this;return F===ie||Array.isArray(F)&&F.includes(ie)}_addParent(ie){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(ie),F):F?[F,ie]:ie}_removeParent(ie){const{_parentage:F}=this;F===ie?this._parentage=null:Array.isArray(F)&&(0,B.o)(F,ie)}remove(ie){const{_finalizers:F}=this;F&&(0,B.o)(F,ie),ie instanceof ae&&ie._removeParent(this)}}ae.EMPTY=(()=>{const de=new ae;return de.closed=!0,de})();const ne=ae.EMPTY;function ge(de){return de instanceof ae||de&&"closed"in de&&(0,a.T)(de.remove)&&(0,a.T)(de.add)&&(0,a.T)(de.unsubscribe)}function G(de){(0,a.T)(de)?de():de.unsubscribe()}},1026:(St,Ke,b)=>{"use strict";b.d(Ke,{$:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(St,Ke,b)=>{"use strict";b.d(Ke,{z:()=>ie});var a=b(1985),x=b(3073),te=b(8455),B=b(3669),ae=b(6450),ne=b(3794),ge=b(8496),G=b(4360),de=b(5225);function ie(...z){const le=(0,ne.lI)(z),fe=(0,ne.ms)(z),{args:xe,keys:De}=(0,x.D)(z);if(0===xe.length)return(0,te.H)([],le);const q=new a.c(function F(z,le,fe=B.D){return xe=>{ue(le,()=>{const{length:De}=z,q=new Array(De);let ve=De,W=De;for(let we=0;we<De;we++)ue(le,()=>{const ce=(0,te.H)(z[we],le);let oe=!1;ce.subscribe((0,G._)(xe,Se=>{q[we]=Se,oe||(oe=!0,W--),W||xe.next(fe(q.slice()))},()=>{--ve||xe.complete()}))},xe)},xe)}}(xe,le,De?ve=>(0,ge.e)(De,ve):B.D));return fe?q.pipe((0,ae.I)(fe)):q}function ue(z,le,fe){z?(0,de.N)(fe,z,le):le()}},8793:(St,Ke,b)=>{"use strict";b.d(Ke,{x:()=>ae});var a=b(6365),te=b(3794),B=b(8455);function ae(...ne){return function x(){return(0,a.U)(1)}()((0,B.H)(ne,(0,te.lI)(ne)))}},983:(St,Ke,b)=>{"use strict";b.d(Ke,{w:()=>x});const x=new(b(1985).c)(ae=>ae.complete())},8455:(St,Ke,b)=>{"use strict";b.d(Ke,{H:()=>ce});var a=b(8750),x=b(941),te=b(6745),ne=b(1985),G=b(4761),de=b(8071),ie=b(5225);function ue(oe,Se){if(!oe)throw new Error("Iterable cannot be null");return new ne.c(Le=>{(0,ie.N)(Le,Se,()=>{const Re=oe[Symbol.asyncIterator]();(0,ie.N)(Le,Se,()=>{Re.next().then(Ye=>{Ye.done?Le.complete():Le.next(Ye.value)})},0,!0)})})}var z=b(5055),le=b(9858),fe=b(7441),xe=b(5397),De=b(7953),q=b(591),ve=b(5196);function ce(oe,Se){return Se?function we(oe,Se){if(null!=oe){if((0,z.l)(oe))return function B(oe,Se){return(0,a.Tg)(oe).pipe((0,te._)(Se),(0,x.Q)(Se))}(oe,Se);if((0,fe.X)(oe))return function ge(oe,Se){return new ne.c(Le=>{let Re=0;return Se.schedule(function(){Re===oe.length?Le.complete():(Le.next(oe[Re++]),Le.closed||this.schedule())})})}(oe,Se);if((0,le.y)(oe))return function ae(oe,Se){return(0,a.Tg)(oe).pipe((0,te._)(Se),(0,x.Q)(Se))}(oe,Se);if((0,De.T)(oe))return ue(oe,Se);if((0,xe.x)(oe))return function F(oe,Se){return new ne.c(Le=>{let Re;return(0,ie.N)(Le,Se,()=>{Re=oe[G.l](),(0,ie.N)(Le,Se,()=>{let Ye,Ie;try{({value:Ye,done:Ie}=Re.next())}catch(rt){return void Le.error(rt)}Ie?Le.complete():Le.next(Ye)},0,!0)}),()=>(0,de.T)(Re?.return)&&Re.return()})}(oe,Se);if((0,ve.U)(oe))return function W(oe,Se){return ue((0,ve.C)(oe),Se)}(oe,Se)}throw(0,q.L)(oe)}(oe,Se):(0,a.Tg)(oe)}},3726:(St,Ke,b)=>{"use strict";b.d(Ke,{R:()=>ie});var a=b(8750),x=b(1985),te=b(1397),B=b(7441),ae=b(8071),ne=b(6450);const ge=["addListener","removeListener"],G=["addEventListener","removeEventListener"],de=["on","off"];function ie(fe,xe,De,q){if((0,ae.T)(De)&&(q=De,De=void 0),q)return ie(fe,xe,De).pipe((0,ne.I)(q));const[ve,W]=function le(fe){return(0,ae.T)(fe.addEventListener)&&(0,ae.T)(fe.removeEventListener)}(fe)?G.map(we=>ce=>fe[we](xe,ce,De)):function ue(fe){return(0,ae.T)(fe.addListener)&&(0,ae.T)(fe.removeListener)}(fe)?ge.map(F(fe,xe)):function z(fe){return(0,ae.T)(fe.on)&&(0,ae.T)(fe.off)}(fe)?de.map(F(fe,xe)):[];if(!ve&&(0,B.X)(fe))return(0,te.Z)(we=>ie(we,xe,De))((0,a.Tg)(fe));if(!ve)throw new TypeError("Invalid event target");return new x.c(we=>{const ce=(...oe)=>we.next(1<oe.length?oe:oe[0]);return ve(ce),()=>W(ce)})}function F(fe,xe){return De=>q=>fe[De](xe,q)}},8750:(St,Ke,b)=>{"use strict";b.d(Ke,{Tg:()=>z});var a=b(1635),x=b(7441),te=b(9858),B=b(1985),ae=b(5055),ne=b(7953),ge=b(591),G=b(5397),de=b(5196),ie=b(8071),F=b(5334),ue=b(3494);function z(we){if(we instanceof B.c)return we;if(null!=we){if((0,ae.l)(we))return function le(we){return new B.c(ce=>{const oe=we[ue.s]();if((0,ie.T)(oe.subscribe))return oe.subscribe(ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(we);if((0,x.X)(we))return function fe(we){return new B.c(ce=>{for(let oe=0;oe<we.length&&!ce.closed;oe++)ce.next(we[oe]);ce.complete()})}(we);if((0,te.y)(we))return function xe(we){return new B.c(ce=>{we.then(oe=>{ce.closed||(ce.next(oe),ce.complete())},oe=>ce.error(oe)).then(null,F.m)})}(we);if((0,ne.T)(we))return q(we);if((0,G.x)(we))return function De(we){return new B.c(ce=>{for(const oe of we)if(ce.next(oe),ce.closed)return;ce.complete()})}(we);if((0,de.U)(we))return function ve(we){return q((0,de.C)(we))}(we)}throw(0,ge.L)(we)}function q(we){return new B.c(ce=>{(function W(we,ce){var oe,Se,Le,Re;return(0,a.sH)(this,void 0,void 0,function*(){try{for(oe=(0,a.xN)(we);!(Se=yield oe.next()).done;)if(ce.next(Se.value),ce.closed)return}catch(Ye){Le={error:Ye}}finally{try{Se&&!Se.done&&(Re=oe.return)&&(yield Re.call(oe))}finally{if(Le)throw Le.error}}ce.complete()})})(we,ce).catch(oe=>ce.error(oe))})}},7673:(St,Ke,b)=>{"use strict";b.d(Ke,{of:()=>te});var a=b(3794),x=b(8455);function te(...B){const ae=(0,a.lI)(B);return(0,x.H)(B,ae)}},4360:(St,Ke,b)=>{"use strict";b.d(Ke,{_:()=>x});var a=b(7707);function x(B,ae,ne,ge,G){return new te(B,ae,ne,ge,G)}class te extends a.vU{constructor(ae,ne,ge,G,de,ie){super(ae),this.onFinalize=de,this.shouldUnsubscribe=ie,this._next=ne?function(F){try{ne(F)}catch(ue){ae.error(ue)}}:super._next,this._error=G?function(F){try{G(F)}catch(ue){ae.error(ue)}finally{this.unsubscribe()}}:super._error,this._complete=ge?function(){try{ge()}catch(F){ae.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ae;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(ae=this.onFinalize)||void 0===ae||ae.call(this))}}}},9901:(St,Ke,b)=>{"use strict";b.d(Ke,{U:()=>te});var a=b(9974),x=b(4360);function te(B){return(0,a.N)((ae,ne)=>{let ge=!1;ae.subscribe((0,x._)(ne,G=>{ge=!0,ne.next(G)},()=>{ge||ne.next(B),ne.complete()}))})}},3294:(St,Ke,b)=>{"use strict";b.d(Ke,{F:()=>B});var a=b(3669),x=b(9974),te=b(4360);function B(ne,ge=a.D){return ne=ne??ae,(0,x.N)((G,de)=>{let ie,F=!0;G.subscribe((0,te._)(de,ue=>{const z=ge(ue);(F||!ne(ie,z))&&(F=!1,ie=z,de.next(ue))}))})}function ae(ne,ge){return ne===ge}},5964:(St,Ke,b)=>{"use strict";b.d(Ke,{p:()=>te});var a=b(9974),x=b(4360);function te(B,ae){return(0,a.N)((ne,ge)=>{let G=0;ne.subscribe((0,x._)(ge,de=>B.call(ae,de,G++)&&ge.next(de)))})}},1594:(St,Ke,b)=>{"use strict";b.d(Ke,{$:()=>ge});var a=b(9350),x=b(5964),te=b(6697),B=b(9901),ae=b(3774),ne=b(3669);function ge(G,de){const ie=arguments.length>=2;return F=>F.pipe(G?(0,x.p)((ue,z)=>G(ue,z,F)):ne.D,(0,te.s)(1),ie?(0,B.U)(de):(0,ae.v)(()=>new a.G))}},6354:(St,Ke,b)=>{"use strict";b.d(Ke,{T:()=>te});var a=b(9974),x=b(4360);function te(B,ae){return(0,a.N)((ne,ge)=>{let G=0;ne.subscribe((0,x._)(ge,de=>{ge.next(B.call(ae,de,G++))}))})}},6365:(St,Ke,b)=>{"use strict";b.d(Ke,{U:()=>te});var a=b(1397),x=b(3669);function te(B=1/0){return(0,a.Z)(x.D,B)}},1397:(St,Ke,b)=>{"use strict";b.d(Ke,{Z:()=>G});var a=b(6354),x=b(8750),te=b(9974),B=b(5225),ae=b(4360),ge=b(8071);function G(de,ie,F=1/0){return(0,ge.T)(ie)?G((ue,z)=>(0,a.T)((le,fe)=>ie(ue,le,z,fe))((0,x.Tg)(de(ue,z))),F):("number"==typeof ie&&(F=ie),(0,te.N)((ue,z)=>function ne(de,ie,F,ue,z,le,fe,xe){const De=[];let q=0,ve=0,W=!1;const we=()=>{W&&!De.length&&!q&&ie.complete()},ce=Se=>q<ue?oe(Se):De.push(Se),oe=Se=>{le&&ie.next(Se),q++;let Le=!1;(0,x.Tg)(F(Se,ve++)).subscribe((0,ae._)(ie,Re=>{z?.(Re),le?ce(Re):ie.next(Re)},()=>{Le=!0},void 0,()=>{if(Le)try{for(q--;De.length&&q<ue;){const Re=De.shift();fe?(0,B.N)(ie,fe,()=>oe(Re)):oe(Re)}we()}catch(Re){ie.error(Re)}}))};return de.subscribe((0,ae._)(ie,ce,()=>{W=!0,we()})),()=>{xe?.()}}(ue,z,de,F)))}},941:(St,Ke,b)=>{"use strict";b.d(Ke,{Q:()=>B});var a=b(5225),x=b(9974),te=b(4360);function B(ae,ne=0){return(0,x.N)((ge,G)=>{ge.subscribe((0,te._)(G,de=>(0,a.N)(G,ae,()=>G.next(de),ne),()=>(0,a.N)(G,ae,()=>G.complete(),ne),de=>(0,a.N)(G,ae,()=>G.error(de),ne)))})}},2816:(St,Ke,b)=>{"use strict";b.d(Ke,{S:()=>B});var a=b(9974),x=b(4360);function B(ae,ne){return(0,a.N)(function te(ae,ne,ge,G,de){return(ie,F)=>{let ue=ge,z=ne,le=0;ie.subscribe((0,x._)(F,fe=>{const xe=le++;z=ue?ae(z,fe,xe):(ue=!0,fe),G&&F.next(z)},de&&(()=>{ue&&F.next(z),F.complete()})))}}(ae,ne,arguments.length>=2,!0))}},9172:(St,Ke,b)=>{"use strict";b.d(Ke,{Z:()=>B});var a=b(8793),x=b(3794),te=b(9974);function B(...ae){const ne=(0,x.lI)(ae);return(0,te.N)((ge,G)=>{(ne?(0,a.x)(ae,ge,ne):(0,a.x)(ae,ge)).subscribe(G)})}},6745:(St,Ke,b)=>{"use strict";b.d(Ke,{_:()=>x});var a=b(9974);function x(te,B=0){return(0,a.N)((ae,ne)=>{ne.add(te.schedule(()=>ae.subscribe(ne),B))})}},5558:(St,Ke,b)=>{"use strict";b.d(Ke,{n:()=>B});var a=b(8750),x=b(9974),te=b(4360);function B(ae,ne){return(0,x.N)((ge,G)=>{let de=null,ie=0,F=!1;const ue=()=>F&&!de&&G.complete();ge.subscribe((0,te._)(G,z=>{de?.unsubscribe();let le=0;const fe=ie++;(0,a.Tg)(ae(z,fe)).subscribe(de=(0,te._)(G,xe=>G.next(ne?ne(z,xe,fe,le++):xe),()=>{de=null,ue()}))},()=>{F=!0,ue()}))})}},6697:(St,Ke,b)=>{"use strict";b.d(Ke,{s:()=>B});var a=b(983),x=b(9974),te=b(4360);function B(ae){return ae<=0?()=>a.w:(0,x.N)((ne,ge)=>{let G=0;ne.subscribe((0,te._)(ge,de=>{++G<=ae&&(ge.next(de),ae<=G&&ge.complete())}))})}},8141:(St,Ke,b)=>{"use strict";b.d(Ke,{M:()=>ae});var a=b(8071),x=b(9974),te=b(4360),B=b(3669);function ae(ne,ge,G){const de=(0,a.T)(ne)||ge||G?{next:ne,error:ge,complete:G}:ne;return de?(0,x.N)((ie,F)=>{var ue;null===(ue=de.subscribe)||void 0===ue||ue.call(de);let z=!0;ie.subscribe((0,te._)(F,le=>{var fe;null===(fe=de.next)||void 0===fe||fe.call(de,le),F.next(le)},()=>{var le;z=!1,null===(le=de.complete)||void 0===le||le.call(de),F.complete()},le=>{var fe;z=!1,null===(fe=de.error)||void 0===fe||fe.call(de,le),F.error(le)},()=>{var le,fe;z&&(null===(le=de.unsubscribe)||void 0===le||le.call(de)),null===(fe=de.finalize)||void 0===fe||fe.call(de)}))}):B.D}},3774:(St,Ke,b)=>{"use strict";b.d(Ke,{v:()=>B});var a=b(9350),x=b(9974),te=b(4360);function B(ne=ae){return(0,x.N)((ge,G)=>{let de=!1;ge.subscribe((0,te._)(G,ie=>{de=!0,G.next(ie)},()=>de?G.complete():G.error(ne())))})}function ae(){return new a.G}},6780:(St,Ke,b)=>{"use strict";b.d(Ke,{R:()=>ae});var a=b(8359);class x extends a.yU{constructor(ge,G){super()}schedule(ge,G=0){return this}}const te={setInterval(ne,ge,...G){const{delegate:de}=te;return de?.setInterval?de.setInterval(ne,ge,...G):setInterval(ne,ge,...G)},clearInterval(ne){const{delegate:ge}=te;return(ge?.clearInterval||clearInterval)(ne)},delegate:void 0};var B=b(7908);class ae extends x{constructor(ge,G){super(ge,G),this.scheduler=ge,this.work=G,this.pending=!1}schedule(ge,G=0){var de;if(this.closed)return this;this.state=ge;const ie=this.id,F=this.scheduler;return null!=ie&&(this.id=this.recycleAsyncId(F,ie,G)),this.pending=!0,this.delay=G,this.id=null!==(de=this.id)&&void 0!==de?de:this.requestAsyncId(F,this.id,G),this}requestAsyncId(ge,G,de=0){return te.setInterval(ge.flush.bind(ge,this),de)}recycleAsyncId(ge,G,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return G;null!=G&&te.clearInterval(G)}execute(ge,G){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ge,G);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,G){let ie,de=!1;try{this.work(ge)}catch(F){de=!0,ie=F||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),ie}unsubscribe(){if(!this.closed){const{id:ge,scheduler:G}=this,{actions:de}=G;this.work=this.state=this.scheduler=null,this.pending=!1,(0,B.o)(de,this),null!=ge&&(this.id=this.recycleAsyncId(G,ge,null)),this.delay=null,super.unsubscribe()}}}},9687:(St,Ke,b)=>{"use strict";b.d(Ke,{q:()=>te});var a=b(6129);class x{constructor(ae,ne=x.now){this.schedulerActionCtor=ae,this.now=ne}schedule(ae,ne=0,ge){return new this.schedulerActionCtor(this,ae).schedule(ge,ne)}}x.now=a.U.now;class te extends x{constructor(ae,ne=x.now){super(ae,ne),this.actions=[],this._active=!1}flush(ae){const{actions:ne}=this;if(this._active)return void ne.push(ae);let ge;this._active=!0;do{if(ge=ae.execute(ae.state,ae.delay))break}while(ae=ne.shift());if(this._active=!1,ge){for(;ae=ne.shift();)ae.unsubscribe();throw ge}}}},3236:(St,Ke,b)=>{"use strict";b.d(Ke,{E:()=>te});var a=b(6780);const te=new(b(9687).q)(a.R)},6129:(St,Ke,b)=>{"use strict";b.d(Ke,{U:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},9270:(St,Ke,b)=>{"use strict";b.d(Ke,{f:()=>a});const a={setTimeout(x,te,...B){const{delegate:ae}=a;return ae?.setTimeout?ae.setTimeout(x,te,...B):setTimeout(x,te,...B)},clearTimeout(x){const{delegate:te}=a;return(te?.clearTimeout||clearTimeout)(x)},delegate:void 0}},4761:(St,Ke,b)=>{"use strict";b.d(Ke,{l:()=>x});const x=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(St,Ke,b)=>{"use strict";b.d(Ke,{s:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(St,Ke,b)=>{"use strict";b.d(Ke,{G:()=>x});const x=(0,b(1853).L)(te=>function(){te(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(St,Ke,b)=>{"use strict";b.d(Ke,{R0:()=>ne,ms:()=>B,lI:()=>ae});var a=b(8071);function te(ge){return ge[ge.length-1]}function B(ge){return(0,a.T)(te(ge))?ge.pop():void 0}function ae(ge){return function x(ge){return ge&&(0,a.T)(ge.schedule)}(te(ge))?ge.pop():void 0}function ne(ge,G){return"number"==typeof te(ge)?ge.pop():G}},3073:(St,Ke,b)=>{"use strict";b.d(Ke,{D:()=>ae});const{isArray:a}=Array,{getPrototypeOf:x,prototype:te,keys:B}=Object;function ae(ge){if(1===ge.length){const G=ge[0];if(a(G))return{args:G,keys:null};if(function ne(ge){return ge&&"object"==typeof ge&&x(ge)===te}(G)){const de=B(G);return{args:de.map(ie=>G[ie]),keys:de}}}return{args:ge,keys:null}}},7908:(St,Ke,b)=>{"use strict";function a(x,te){if(x){const B=x.indexOf(te);0<=B&&x.splice(B,1)}}b.d(Ke,{o:()=>a})},1853:(St,Ke,b)=>{"use strict";function a(x){const B=x(ae=>{Error.call(ae),ae.stack=(new Error).stack});return B.prototype=Object.create(Error.prototype),B.prototype.constructor=B,B}b.d(Ke,{L:()=>a})},8496:(St,Ke,b)=>{"use strict";function a(x,te){return x.reduce((B,ae,ne)=>(B[ae]=te[ne],B),{})}b.d(Ke,{e:()=>a})},9786:(St,Ke,b)=>{"use strict";b.d(Ke,{Y:()=>te,l:()=>B});var a=b(1026);let x=null;function te(ae){if(a.$.useDeprecatedSynchronousErrorHandling){const ne=!x;if(ne&&(x={errorThrown:!1,error:null}),ae(),ne){const{errorThrown:ge,error:G}=x;if(x=null,ge)throw G}}else ae()}function B(ae){a.$.useDeprecatedSynchronousErrorHandling&&x&&(x.errorThrown=!0,x.error=ae)}},5225:(St,Ke,b)=>{"use strict";function a(x,te,B,ae=0,ne=!1){const ge=te.schedule(function(){B(),ne?x.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(x.add(ge),!ne)return ge}b.d(Ke,{N:()=>a})},3669:(St,Ke,b)=>{"use strict";function a(x){return x}b.d(Ke,{D:()=>a})},7441:(St,Ke,b)=>{"use strict";b.d(Ke,{X:()=>a});const a=x=>x&&"number"==typeof x.length&&"function"!=typeof x},7953:(St,Ke,b)=>{"use strict";b.d(Ke,{T:()=>x});var a=b(8071);function x(te){return Symbol.asyncIterator&&(0,a.T)(te?.[Symbol.asyncIterator])}},8071:(St,Ke,b)=>{"use strict";function a(x){return"function"==typeof x}b.d(Ke,{T:()=>a})},5055:(St,Ke,b)=>{"use strict";b.d(Ke,{l:()=>te});var a=b(3494),x=b(8071);function te(B){return(0,x.T)(B[a.s])}},5397:(St,Ke,b)=>{"use strict";b.d(Ke,{x:()=>te});var a=b(4761),x=b(8071);function te(B){return(0,x.T)(B?.[a.l])}},9858:(St,Ke,b)=>{"use strict";b.d(Ke,{y:()=>x});var a=b(8071);function x(te){return(0,a.T)(te?.then)}},5196:(St,Ke,b)=>{"use strict";b.d(Ke,{C:()=>te,U:()=>B});var a=b(1635),x=b(8071);function te(ae){return(0,a.AQ)(this,arguments,function*(){const ge=ae.getReader();try{for(;;){const{value:G,done:de}=yield(0,a.N3)(ge.read());if(de)return yield(0,a.N3)(void 0);yield yield(0,a.N3)(G)}}finally{ge.releaseLock()}})}function B(ae){return(0,x.T)(ae?.getReader)}},9974:(St,Ke,b)=>{"use strict";b.d(Ke,{N:()=>te,S:()=>x});var a=b(8071);function x(B){return(0,a.T)(B?.lift)}function te(B){return ae=>{if(x(ae))return ae.lift(function(ne){try{return B(ne,this)}catch(ge){this.error(ge)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(St,Ke,b)=>{"use strict";b.d(Ke,{I:()=>B});var a=b(6354);const{isArray:x}=Array;function B(ae){return(0,a.T)(ne=>function te(ae,ne){return x(ne)?ae(...ne):ae(ne)}(ae,ne))}},5343:(St,Ke,b)=>{"use strict";function a(){}b.d(Ke,{l:()=>a})},1203:(St,Ke,b)=>{"use strict";b.d(Ke,{F:()=>x,m:()=>te});var a=b(3669);function x(...B){return te(B)}function te(B){return 0===B.length?a.D:1===B.length?B[0]:function(ne){return B.reduce((ge,G)=>G(ge),ne)}}},5334:(St,Ke,b)=>{"use strict";b.d(Ke,{m:()=>te});var a=b(1026),x=b(9270);function te(B){x.f.setTimeout(()=>{const{onUnhandledError:ae}=a.$;if(!ae)throw B;ae(B)})}},591:(St,Ke,b)=>{"use strict";function a(x){return new TypeError(`You provided ${null!==x&&"object"==typeof x?"an invalid object":`'${x}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}b.d(Ke,{L:()=>a})},8996:(St,Ke,b)=>{var a={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function x(te){if(!b.o(a,te))return Promise.resolve().then(()=>{var ne=new Error("Cannot find module '"+te+"'");throw ne.code="MODULE_NOT_FOUND",ne});var B=a[te],ae=B[0];return Promise.all(B.slice(1).map(b.e)).then(()=>b(ae))}x.keys=()=>Object.keys(a),x.id=8996,St.exports=x},477:()=>{},177:(St,Ke,b)=>{"use strict";b.d(Ke,{AJ:()=>zt,MD:()=>vt,N0:()=>Or,QT:()=>te,Sm:()=>xe,Sq:()=>Ni,T3:()=>as,VF:()=>ae,Vy:()=>Qt,Xr:()=>Cn,ZD:()=>B,_b:()=>Ne,aZ:()=>q,bT:()=>oi,fw:()=>De,hb:()=>le,hj:()=>de,qQ:()=>ge});var a=b(3953);let x=null;function te(){return x}function B(T){x??=T}class ae{}const ge=new a.nKC("");let G=(()=>{class T{historyGo(O){throw new Error("")}static{this.\u0275fac=function(se){return new(se||T)}}static{this.\u0275prov=a.jDH({token:T,factory:()=>(0,a.WQX)(ie),providedIn:"platform"})}}return T})();const de=new a.nKC("");let ie=(()=>{class T extends G{constructor(){super(),this._doc=(0,a.WQX)(ge),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return te().getBaseHref(this._doc)}onPopState(O){const se=te().getGlobalEventTarget(this._doc,"window");return se.addEventListener("popstate",O,!1),()=>se.removeEventListener("popstate",O)}onHashChange(O){const se=te().getGlobalEventTarget(this._doc,"window");return se.addEventListener("hashchange",O,!1),()=>se.removeEventListener("hashchange",O)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(O){this._location.pathname=O}pushState(O,se,je){this._history.pushState(O,se,je)}replaceState(O,se,je){this._history.replaceState(O,se,je)}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}static{this.\u0275fac=function(se){return new(se||T)}}static{this.\u0275prov=a.jDH({token:T,factory:()=>new T,providedIn:"platform"})}}return T})();function F(T,pe){if(0==T.length)return pe;if(0==pe.length)return T;let O=0;return T.endsWith("/")&&O++,pe.startsWith("/")&&O++,2==O?T+pe.substring(1):1==O?T+pe:T+"/"+pe}function ue(T){const pe=T.match(/#|\?|$/),O=pe&&pe.index||T.length;return T.slice(0,O-("/"===T[O-1]?1:0))+T.slice(O)}function z(T){return T&&"?"!==T[0]?"?"+T:T}let le=(()=>{class T{historyGo(O){throw new Error("")}static{this.\u0275fac=function(se){return new(se||T)}}static{this.\u0275prov=a.jDH({token:T,factory:()=>(0,a.WQX)(xe),providedIn:"root"})}}return T})();const fe=new a.nKC("");let xe=(()=>{class T extends le{constructor(O,se){super(),this._platformLocation=O,this._removeListenerFns=[],this._baseHref=se??this._platformLocation.getBaseHrefFromDOM()??(0,a.WQX)(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return F(this._baseHref,O)}path(O=!1){const se=this._platformLocation.pathname+z(this._platformLocation.search),je=this._platformLocation.hash;return je&&O?`${se}${je}`:se}pushState(O,se,je,Ft){const tn=this.prepareExternalUrl(je+z(Ft));this._platformLocation.pushState(O,se,tn)}replaceState(O,se,je,Ft){const tn=this.prepareExternalUrl(je+z(Ft));this._platformLocation.replaceState(O,se,tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static{this.\u0275fac=function(se){return new(se||T)(a.KVO(G),a.KVO(fe,8))}}static{this.\u0275prov=a.jDH({token:T,factory:T.\u0275fac,providedIn:"root"})}}return T})(),De=(()=>{class T extends le{constructor(O,se){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=se&&(this._baseHref=se)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){const se=this._platformLocation.hash??"#";return se.length>0?se.substring(1):se}prepareExternalUrl(O){const se=F(this._baseHref,O);return se.length>0?"#"+se:se}pushState(O,se,je,Ft){let tn=this.prepareExternalUrl(je+z(Ft));0==tn.length&&(tn=this._platformLocation.pathname),this._platformLocation.pushState(O,se,tn)}replaceState(O,se,je,Ft){let tn=this.prepareExternalUrl(je+z(Ft));0==tn.length&&(tn=this._platformLocation.pathname),this._platformLocation.replaceState(O,se,tn)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(O=0){this._platformLocation.historyGo?.(O)}static{this.\u0275fac=function(se){return new(se||T)(a.KVO(G),a.KVO(fe,8))}}static{this.\u0275prov=a.jDH({token:T,factory:T.\u0275fac})}}return T})(),q=(()=>{class T{constructor(O){this._subject=new a.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=O;const se=this._locationStrategy.getBaseHref();this._basePath=function ce(T){if(new RegExp("^(https?:)?//").test(T)){const[,O]=T.split(/\/\/[^\/]+/);return O}return T}(ue(we(se))),this._locationStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(O=!1){return this.normalize(this._locationStrategy.path(O))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(O,se=""){return this.path()==this.normalize(O+z(se))}normalize(O){return T.stripTrailingSlash(function W(T,pe){if(!T||!pe.startsWith(T))return pe;const O=pe.substring(T.length);return""===O||["/",";","?","#"].includes(O[0])?O:pe}(this._basePath,we(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._locationStrategy.prepareExternalUrl(O)}go(O,se="",je=null){this._locationStrategy.pushState(je,"",O,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+z(se)),je)}replaceState(O,se="",je=null){this._locationStrategy.replaceState(je,"",O,se),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+z(se)),je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(O=0){this._locationStrategy.historyGo?.(O)}onUrlChange(O){return this._urlChangeListeners.push(O),this._urlChangeSubscription??=this.subscribe(se=>{this._notifyUrlChangeListeners(se.url,se.state)}),()=>{const se=this._urlChangeListeners.indexOf(O);this._urlChangeListeners.splice(se,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(O="",se){this._urlChangeListeners.forEach(je=>je(O,se))}subscribe(O,se,je){return this._subject.subscribe({next:O,error:se,complete:je})}static{this.normalizeQueryParams=z}static{this.joinWithSlash=F}static{this.stripTrailingSlash=ue}static{this.\u0275fac=function(se){return new(se||T)(a.KVO(le))}}static{this.\u0275prov=a.jDH({token:T,factory:()=>function ve(){return new q((0,a.KVO)(le))}(),providedIn:"root"})}}return T})();function we(T){return T.replace(/\/index.html$/,"")}function Ne(T,pe){pe=encodeURIComponent(pe);for(const O of T.split(";")){const se=O.indexOf("="),[je,Ft]=-1==se?[O,""]:[O.slice(0,se),O.slice(se+1)];if(je.trim()===pe)return decodeURIComponent(Ft)}return null}class Xn{constructor(pe,O,se,je){this.$implicit=pe,this.ngForOf=O,this.index=se,this.count=je}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ni=(()=>{class T{set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}constructor(O,se,je){this._viewContainer=O,this._template=se,this._differs=je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const se=this._viewContainer;O.forEachOperation((je,Ft,tn)=>{if(null==je.previousIndex)se.createEmbeddedView(this._template,new Xn(je.item,this._ngForOf,-1,-1),null===tn?void 0:tn);else if(null==tn)se.remove(null===Ft?void 0:Ft);else if(null!==Ft){const wn=se.get(Ft);se.move(wn,tn),Zr(wn,je)}});for(let je=0,Ft=se.length;je<Ft;je++){const wn=se.get(je).context;wn.index=je,wn.count=Ft,wn.ngForOf=this._ngForOf}O.forEachIdentityChange(je=>{Zr(se.get(je.currentIndex),je)})}static ngTemplateContextGuard(O,se){return!0}static{this.\u0275fac=function(se){return new(se||T)(a.rXU(a.c1b),a.rXU(a.C4Q),a.rXU(a._q3))}}static{this.\u0275dir=a.FsC({type:T,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return T})();function Zr(T,pe){T.context.$implicit=pe.item}let oi=(()=>{class T{constructor(O,se){this._viewContainer=O,this._context=new Uo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=se}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){ci("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){ci("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,se){return!0}static{this.\u0275fac=function(se){return new(se||T)(a.rXU(a.c1b),a.rXU(a.C4Q))}}static{this.\u0275dir=a.FsC({type:T,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return T})();class Uo{constructor(){this.$implicit=null,this.ngIf=null}}function ci(T,pe){if(pe&&!pe.createEmbeddedView)throw new Error(`${T} must be a TemplateRef, but received '${(0,a.Tbb)(pe)}'.`)}let as=(()=>{class T{constructor(O){this._viewContainerRef=O,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(O){if(this._shouldRecreateView(O)){const se=this._viewContainerRef;if(this._viewRef&&se.remove(se.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const je=this._createContextForwardProxy();this._viewRef=se.createEmbeddedView(this.ngTemplateOutlet,je,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(O){return!!O.ngTemplateOutlet||!!O.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(O,se,je)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,se,je),get:(O,se,je)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,se,je)}})}static{this.\u0275fac=function(se){return new(se||T)(a.rXU(a.c1b))}}static{this.\u0275dir=a.FsC({type:T,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[a.OA$]})}}return T})(),vt=(()=>{class T{static{this.\u0275fac=function(se){return new(se||T)}}static{this.\u0275mod=a.$C({type:T})}static{this.\u0275inj=a.G2t({})}}return T})();const zt="browser",Yt="server";function Qt(T){return T===Yt}let Cn=(()=>{class T{static{this.\u0275prov=(0,a.jDH)({token:T,providedIn:"root",factory:()=>function Wt(T){return T===zt}((0,a.WQX)(a.Agw))?new Nn((0,a.WQX)(ge),window):new br})}}return T})();class Nn{constructor(pe,O){this.document=pe,this.window=O,this.offset=()=>[0,0]}setOffset(pe){this.offset=Array.isArray(pe)?()=>pe:pe}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(pe){this.window.scrollTo(pe[0],pe[1])}scrollToAnchor(pe){const O=function kn(T,pe){const O=T.getElementById(pe)||T.getElementsByName(pe)[0];if(O)return O;if("function"==typeof T.createTreeWalker&&T.body&&"function"==typeof T.body.attachShadow){const se=T.createTreeWalker(T.body,NodeFilter.SHOW_ELEMENT);let je=se.currentNode;for(;je;){const Ft=je.shadowRoot;if(Ft){const tn=Ft.getElementById(pe)||Ft.querySelector(`[name="${pe}"]`);if(tn)return tn}je=se.nextNode()}}return null}(this.document,pe);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(pe){this.window.history.scrollRestoration=pe}scrollToElement(pe){const O=pe.getBoundingClientRect(),se=O.left+this.window.pageXOffset,je=O.top+this.window.pageYOffset,Ft=this.offset();this.window.scrollTo(se-Ft[0],je-Ft[1])}}class br{setOffset(pe){}getScrollPosition(){return[0,0]}scrollToPosition(pe){}scrollToAnchor(pe){}setHistoryScrollRestoration(pe){}}class Or{}},3953:(St,Ke,b)=>{"use strict";function a(e,n){return Object.is(e,n)}b.d(Ke,{iLQ:()=>S_,sZ2:()=>ru,hnV:()=>Iw,Hbi:()=>UO,o8S:()=>Iu,BIS:()=>iu,gRc:()=>Lw,Ql9:()=>lO,Ocv:()=>mO,Z63:()=>ys,aKT:()=>Ei,uvJ:()=>es,zcH:()=>Uc,bkB:()=>uc,$GK:()=>Cr,nKC:()=>or,zZn:()=>ns,_q3:()=>IC,MKu:()=>CC,xe9:()=>pC,Co$:()=>DT,Vns:()=>qf,SKi:()=>Hi,Xx1:()=>ho,Agw:()=>ff,PLl:()=>hf,sFG:()=>ZS,_9s:()=>rI,czy:()=>Nr,kdw:()=>Jo,C4Q:()=>Hf,NYb:()=>nO,giA:()=>_w,xvI:()=>RN,RxE:()=>dw,c1b:()=>n_,gXe:()=>Pa,mal:()=>u_,L39:()=>vF,EWP:()=>_F,a0P:()=>xF,Ol2:()=>_I,w6W:()=>H1,oH4:()=>Nw,Rfq:()=>ir,WQX:()=>dn,naY:()=>TO,QuC:()=>mo,fpN:()=>BO,HJs:()=>bF,N4e:()=>Ph,vPA:()=>sT,O8t:()=>EF,H3F:()=>hw,zAP:()=>cS,H8p:()=>ol,KH2:()=>tm,TgB:()=>_l,wOt:()=>cn,WHO:()=>vw,e01:()=>yw,H5H:()=>GI,mq5:()=>Sx,JZv:()=>bi,LfX:()=>xo,plB:()=>Ch,jNT:()=>uC,zjR:()=>Ew,TL$:()=>Hp,Tbb:()=>Br,Vt3:()=>mI,GFd:()=>AT,OA$:()=>Xl,Jv_:()=>$b,aNF:()=>jb,R7$:()=>x0,BMQ:()=>PI,AVh:()=>VI,wni:()=>hb,VBU:()=>be,FsC:()=>sr,jDH:()=>pr,G2t:()=>Jr,$C:()=>At,EJ8:()=>vr,rXU:()=>du,nrm:()=>HI,eu8:()=>zI,bVm:()=>__,qex:()=>y_,k0s:()=>v_,j41:()=>m_,RV6:()=>xx,xGo:()=>xv,KVO:()=>lr,kS0:()=>ef,QTQ:()=>Ey,bIt:()=>XI,lsd:()=>gb,XpG:()=>eb,SdG:()=>nb,NAR:()=>tb,Y8G:()=>kI,mGM:()=>pb,sdS:()=>mb,Njj:()=>$u,eBV:()=>yp,n$t:()=>uy,DNE:()=>II,EFF:()=>xb,SpI:()=>D_,DH7:()=>Lb,mxI:()=>JI,R50:()=>ZI,GBs:()=>fb});let x=null,te=!1,B=1;const ae=Symbol("SIGNAL");function ne(e){const n=x;return x=e,n}const ie={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function F(e){if(te)throw new Error("");if(null===x)return;x.consumerOnSignalRead(e);const n=x.nextProducerIndex++;Se(x),n<x.producerNode.length&&x.producerNode[n]!==e&&oe(x)&&ce(x.producerNode[n],x.producerIndexOfThis[n]),x.producerNode[n]!==e&&(x.producerNode[n]=e,x.producerIndexOfThis[n]=oe(x)?we(e,x,n):0),x.producerLastReadVersion[n]=e.version}function z(e){if((!oe(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==B)){if(!e.producerMustRecompute(e)&&!ve(e))return e.dirty=!1,void(e.lastCleanEpoch=B);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=B}}function le(e){if(void 0===e.liveConsumerNode)return;const n=te;te=!0;try{for(const r of e.liveConsumerNode)r.dirty||xe(r)}finally{te=n}}function fe(){return!1!==x?.consumerAllowSignalWrites}function xe(e){e.dirty=!0,le(e),e.consumerMarkedDirty?.(e)}function De(e){return e&&(e.nextProducerIndex=0),ne(e)}function q(e,n){if(ne(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(oe(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ce(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function ve(e){Se(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(z(r),o!==r.version))return!0}return!1}function W(e){if(Se(e),oe(e))for(let n=0;n<e.producerNode.length;n++)ce(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function we(e,n,r){if(Le(e),0===e.liveConsumerNode.length&&Re(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=we(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function ce(e,n){if(Le(e),1===e.liveConsumerNode.length&&Re(e))for(let o=0;o<e.producerNode.length;o++)ce(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],c=e.liveConsumerNode[n];Se(c),c.producerIndexOfThis[o]=n}}function oe(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Se(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Le(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Re(e){return void 0!==e.producerNode}const Ie=Symbol("UNSET"),rt=Symbol("COMPUTING"),ht=Symbol("ERRORED"),Et={...ie,value:Ie,dirty:!0,error:null,equal:a,producerMustRecompute:e=>e.value===Ie||e.value===rt,producerRecomputeValue(e){if(e.value===rt)throw new Error("Detected cycle in computations.");const n=e.value;e.value=rt;const r=De(e);let o;try{o=e.computation()}catch(c){o=ht,e.error=c}finally{q(e,r)}n!==Ie&&n!==ht&&o!==ht&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let jt=function xt(){throw new Error};function it(){jt()}let V=null;function ut(e,n){fe()||it(),e.equal(e.value,n)||(e.value=n,function en(e){e.version++,function ue(){B++}(),le(e),V?.()}(e))}const We={...ie,equal:a,value:void 0};var fn=b(4412),Gt=b(1413),Ht=b(8359),Ln=b(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Pr="https://g.co/ng/security#xss";class cn extends Error{constructor(n,r){super(function Qi(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,r)),this.code=n}}function Zi(e){return{toString:e}.toString()}const Ji="__parameters__";function uo(e,n,r){return Zi(()=>{const o=function zo(e){return function(...r){if(e){const o=e(...r);for(const c in o)this[c]=o[c]}}}(n);function c(...d){if(this instanceof c)return o.apply(this,d),this;const g=new c(...d);return _.annotation=g,_;function _(D,k,ee){const Oe=D.hasOwnProperty(Ji)?D[Ji]:Object.defineProperty(D,Ji,{value:[]})[Ji];for(;Oe.length<=ee;)Oe.push(null);return(Oe[ee]=Oe[ee]||[]).push(g),D}}return r&&(c.prototype=Object.create(r.prototype)),c.prototype.ngMetadataName=e,c.annotationCls=c,c})}const bi=globalThis;function wr(e){for(let n in e)if(e[n]===wr)return n;throw Error("Could not find renamed property on target object.")}function za(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function Br(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Br).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function ds(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Ir=wr({__forward_ref__:wr});function ir(e){return e.__forward_ref__=ir,e.toString=function(){return Br(this())},e}function jn(e){return ba(e)?e():e}function ba(e){return"function"==typeof e&&e.hasOwnProperty(Ir)&&e.__forward_ref__===ir}function pr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Jr(e){return{providers:e.providers||[],imports:e.imports||[]}}function hs(e){return Ks(e,Oi)||Ks(e,Xa)}function xo(e){return null!==hs(e)}function Ks(e,n){return e.hasOwnProperty(n)?e[n]:null}function bo(e){return e&&(e.hasOwnProperty(Sa)||e.hasOwnProperty(aa))?e[Sa]:null}const Oi=wr({\u0275prov:wr}),Sa=wr({\u0275inj:wr}),Xa=wr({ngInjectableDef:wr}),aa=wr({ngInjectorDef:wr});class or{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=pr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qc(e){return e&&!!e.\u0275providers}const Wo=wr({\u0275cmp:wr}),Yc=wr({\u0275dir:wr}),wo=wr({\u0275pipe:wr}),Qa=wr({\u0275mod:wr}),So=wr({\u0275fac:wr}),Ra=wr({__NG_ELEMENT_ID__:wr}),Zc=wr({__NG_ENV_ID__:wr});function En(e){return"string"==typeof e?e:null==e?"":String(e)}function el(e,n){throw new cn(-201,!1)}var Cr=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Cr||{});let Xs;function qs(){return Xs}function Fi(e){const n=Xs;return Xs=e,n}function la(e,n,r){const o=hs(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Cr.Optional?null:void 0!==n?n:void el()}const gs={},Ac="__NG_DI_FLAG__",T="ngTempTokenPath",O=/\n/gm,je="__source";let Ft;function wn(e){const n=Ft;return Ft=e,n}function ui(e,n=Cr.Default){if(void 0===Ft)throw new cn(-203,!1);return null===Ft?la(e,void 0,n):Ft.get(e,n&Cr.Optional?null:void 0,n)}function lr(e,n=Cr.Default){return(qs()||ui)(jn(e),n)}function dn(e,n=Cr.Default){return lr(e,Kr(n))}function Kr(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sr(e){const n=[];for(let r=0;r<e.length;r++){const o=jn(e[r]);if(Array.isArray(o)){if(0===o.length)throw new cn(900,!1);let c,d=Cr.Default;for(let g=0;g<o.length;g++){const _=o[g],D=Qs(_);"number"==typeof D?-1===D?c=_.token:d|=D:c=_}n.push(lr(c,d))}else n.push(lr(o))}return n}function wi(e,n){return e[Ac]=n,e.prototype[Ac]=n,e}function Qs(e){return e[Ac]}const ho=wi(uo("Optional"),8),Jo=wi(uo("SkipSelf"),4);function Ya(e,n){return e.hasOwnProperty(So)?e[So]:null}function Ps(e,n){e.forEach(r=>Array.isArray(r)?Ps(r,n):n(r))}function Sl(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function ua(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ro(e,n,r){let o=Ns(e,n);return o>=0?e[1|o]=r:(o=~o,function wh(e,n,r,o){let c=e.length;if(c==n)e.push(r,o);else if(1===c)e.push(o,e[0]),e[0]=r;else{for(c--,e.push(e[c-1],e[c]);c>n;)e[c]=e[c-2],c--;e[n]=r,e[n+1]=o}}(e,o,n,r)),o}function Mo(e,n){const r=Ns(e,n);if(r>=0)return e[1|r]}function Ns(e,n){return function Ja(e,n,r){let o=0,c=e.length>>r;for(;c!==o;){const d=o+(c-o>>1),g=e[d<<r];if(n===g)return d<<r;g>n?c=d:o=d+1}return~(c<<r)}(e,n,1)}const Os={},er=[],ys=new or(""),nl=new or("",-1),Tu=new or("");class rl{get(n,r=gs){if(r===gs){const o=new Error(`NullInjectorError: No provider for ${Br(n)}!`);throw o.name="NullInjectorError",o}return r}}var xu=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(xu||{}),Pa=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Pa||{}),da=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(da||{});function gd(e,n,r){let o=e.length;for(;;){const c=e.indexOf(n,r);if(-1===c)return c;if(0===c||e.charCodeAt(c-1)<=32){const d=n.length;if(c+d===o||e.charCodeAt(c+d)<=32)return c}r=c+1}}function _s(e,n,r){let o=0;for(;o<r.length;){const c=r[o];if("number"==typeof c){if(0!==c)break;o++;const d=r[o++],g=r[o++],_=r[o++];e.setAttribute(n,g,_,d)}else{const d=c,g=r[++o];Tc(d)?e.setProperty(n,d,g):e.setAttribute(n,d,g),o++}}return o}function Ml(e){return 3===e||4===e||6===e}function Tc(e){return 64===e.charCodeAt(0)}function si(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const c=n[o];"number"==typeof c?r=c:0===r||Pl(e,r,c,null,-1===r||2===r?n[++o]:null)}}return e}function Pl(e,n,r,o,c){let d=0,g=e.length;if(-1===n)g=-1;else for(;d<e.length;){const _=e[d++];if("number"==typeof _){if(_===n){g=-1;break}if(_>n){g=d-1;break}}}for(;d<e.length;){const _=e[d];if("number"==typeof _)break;if(_===r){if(null===o)return void(null!==c&&(e[d+1]=c));if(o===e[d+1])return void(e[d+2]=c)}d++,null!==o&&d++,null!==c&&d++}-1!==g&&(e.splice(g,0,n),d=g+1),e.splice(d++,0,r),null!==o&&e.splice(d++,0,o),null!==c&&e.splice(d++,0,c)}const xc="ng-template";function bu(e,n,r,o){let c=0;if(o){for(;c<n.length&&"string"==typeof n[c];c+=2)if("class"===n[c]&&-1!==gd(n[c+1].toLowerCase(),r,0))return!0}else if(ha(e))return!1;if(c=n.indexOf(1,c),c>-1){let d;for(;++c<n.length&&"string"==typeof(d=n[c]);)if(d.toLowerCase()===r)return!0}return!1}function ha(e){return 4===e.type&&e.value!==xc}function Fs(e,n,r){return n===(4!==e.type||r?e.value:xc)}function Nl(e,n,r){let o=4;const c=e.attrs,d=null!==c?function bc(e){for(let n=0;n<e.length;n++)if(Ml(e[n]))return n;return e.length}(c):0;let g=!1;for(let _=0;_<n.length;_++){const D=n[_];if("number"!=typeof D){if(!g)if(4&o){if(o=2|1&o,""!==D&&!Fs(e,D,r)||""===D&&1===n.length){if(Es(o))return!1;g=!0}}else if(8&o){if(null===c||!bu(e,c,D,r)){if(Es(o))return!1;g=!0}}else{const k=n[++_],ee=md(D,c,ha(e),r);if(-1===ee){if(Es(o))return!1;g=!0;continue}if(""!==k){let Oe;if(Oe=ee>d?"":c[ee+1].toLowerCase(),2&o&&k!==Oe){if(Es(o))return!1;g=!0}}}}else{if(!g&&!Es(o)&&!Es(D))return!1;if(g&&Es(D))continue;g=!1,o=D|1&o}}return Es(o)||g}function Es(e){return!(1&e)}function md(e,n,r,o){if(null===n)return-1;let c=0;if(o||!r){let d=!1;for(;c<n.length;){const g=n[c];if(g===e)return c;if(3===g||6===g)d=!0;else{if(1===g||2===g){let _=n[++c];for(;"string"==typeof _;)_=n[++c];continue}if(4===g)break;if(0===g){c+=4;continue}}c+=d?1:2}return-1}return function np(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function vd(e,n,r=!1){for(let o=0;o<n.length;o++)if(Nl(e,n[o],r))return!0;return!1}function I(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let c=0;c<e.length;c++)if(e[c]!==o[c])continue e;return!0}}return!1}function w(e,n){return e?":not("+n.trim()+")":n}function C(e){let n=e[0],r=1,o=2,c="",d=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const _=e[++r];c+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&o?c+="."+g:4&o&&(c+=" "+g);else""!==c&&!Es(g)&&(n+=w(d,c),c=""),o=g,d=d||!Es(o);r++}return""!==c&&(n+=w(d,c)),n}function be(e){return Zi(()=>{const n=fa(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===xu.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Pa.Emulated,styles:e.styles||er,_:null,schemas:e.schemas||null,tView:null,id:""};Ys(r);const o=e.dependencies;return r.directiveDefs=Zs(o,!1),r.pipeDefs=Zs(o,!0),r.id=function yd(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const c of r)n=Math.imul(31,n)+c.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function Xe(e){return Hn(e)||Fr(e)}function Vt(e){return null!==e}function At(e){return Zi(()=>({type:e.type,bootstrap:e.bootstrap||er,declarations:e.declarations||er,imports:e.imports||er,exports:e.exports||er,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Dn(e,n){if(null==e)return Os;const r={};for(const o in e)if(e.hasOwnProperty(o)){const c=e[o];let d,g,_=da.None;Array.isArray(c)?(_=c[0],d=c[1],g=c[2]??d):(d=c,g=c),n?(r[d]=_!==da.None?[o,_]:o,n[d]=g):r[d]=o}return r}function sr(e){return Zi(()=>{const n=fa(e);return Ys(n),n})}function vr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Hn(e){return e[Wo]||null}function Fr(e){return e[Yc]||null}function kr(e){return e[wo]||null}function mo(e){const n=Hn(e)||Fr(e)||kr(e);return null!==n&&n.standalone}function pi(e,n){const r=e[Qa]||null;if(!r&&!0===n)throw new Error(`Type ${Br(e)} does not have '\u0275mod' property.`);return r}function fa(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||Os,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||er,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Dn(e.inputs,n),outputs:Dn(e.outputs),debugInfo:null}}function Ys(e){e.features?.forEach(n=>n(e))}function Zs(e,n){if(!e)return null;const r=n?kr:Xe;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Vt)}function ec(...e){return{\u0275providers:Js(0,e),\u0275fromNgModule:!0}}function Js(e,...n){const r=[],o=new Set;let c;const d=g=>{r.push(g)};return Ps(n,g=>{const _=g;wc(_,d,[],o)&&(c||=[],c.push(_))}),void 0!==c&&Na(c,d),r}function Na(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:c}=e[r];tc(c,d=>{n(d,o)})}}function wc(e,n,r,o){if(!(e=jn(e)))return!1;let c=null,d=bo(e);const g=!d&&Hn(e);if(d||g){if(g&&!g.standalone)return!1;c=e}else{const D=e.ngModule;if(d=bo(D),!d)return!1;c=D}const _=o.has(c);if(g){if(_)return!1;if(o.add(c),g.dependencies){const D="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const k of D)wc(k,n,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!_){let k;o.add(c);try{Ps(d.imports,ee=>{wc(ee,n,r,o)&&(k||=[],k.push(ee))})}finally{}void 0!==k&&Na(k,n)}if(!_){const k=Ya(c)||(()=>new c);n({provide:c,useFactory:k,deps:er},c),n({provide:Tu,useValue:c,multi:!0},c),n({provide:ys,useValue:()=>lr(c),multi:!0},c)}const D=d.providers;if(null!=D&&!_){const k=e;tc(D,ee=>{n(ee,k)})}}}return c!==e&&void 0!==e.providers}function tc(e,n){for(let r of e)Qc(r)&&(r=r.\u0275providers),Array.isArray(r)?tc(r,n):n(r)}const nc=wr({provide:String,useValue:wr});function Ol(e){return null!==e&&"object"==typeof e&&nc in e}function Sc(e){return"function"==typeof e}const ol=new or(""),Rc={},sm={};let pa;function Ed(){return void 0===pa&&(pa=new rl),pa}class es{}class Fl extends es{get destroyed(){return this._destroyed}constructor(n,r,o,c){super(),this.parent=r,this.source=o,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ru(n,g=>this.processProvider(g)),this.records.set(nl,ks(void 0,this)),c.has("environment")&&this.records.set(es,ks(void 0,this));const d=this.records.get(ol);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(Tu,er,Cr.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ne(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ne(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=wn(this),o=Fi(void 0);try{return n()}finally{wn(r),Fi(o)}}get(n,r=gs,o=Cr.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Zc))return n[Zc](this);o=Kr(o);const d=wn(this),g=Fi(void 0);try{if(!(o&Cr.SkipSelf)){let D=this.records.get(n);if(void 0===D){const k=function Cd(e){return"function"==typeof e||"object"==typeof e&&e instanceof or}(n)&&hs(n);D=k&&this.injectableDefInScope(k)?ks(wu(n),Rc):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(o&Cr.Self?Ed():this.parent).get(n,r=o&Cr.Optional&&r===gs?null:r)}catch(_){if("NullInjectorError"===_.name){if((_[T]=_[T]||[]).unshift(Br(n)),d)throw _;return function yi(e,n,r,o){const c=e[T];throw n[je]&&c.unshift(n[je]),e.message=function eo(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let c=Br(n);if(Array.isArray(n))c=n.map(Br).join(" -> ");else if("object"==typeof n){let d=[];for(let g in n)if(n.hasOwnProperty(g)){let _=n[g];d.push(g+":"+("string"==typeof _?JSON.stringify(_):Br(_)))}c=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${c}]: ${e.replace(O,"\n  ")}`}("\n"+e.message,c,r,o),e.ngTokenPath=c,e[T]=null,e}(_,n,"R3InjectorError",this.source)}throw _}finally{Fi(g),wn(d)}}resolveInjectorInitializers(){const n=ne(null),r=wn(this),o=Fi(void 0);try{const d=this.get(ys,er,Cr.Self);for(const g of d)g()}finally{wn(r),Fi(o),ne(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(Br(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new cn(205,!1)}processProvider(n){let r=Sc(n=jn(n))?n:jn(n&&n.provide);const o=function Su(e){return Ol(e)?ks(void 0,e.useValue):ks(ea(e),Rc)}(n);if(!Sc(n)&&!0===n.multi){let c=this.records.get(r);c||(c=ks(void 0,Rc,!0),c.factory=()=>Sr(c.multi),this.records.set(r,c)),r=n,c.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=ne(null);try{return r.value===Rc&&(r.value=sm,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Id(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ne(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=jn(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function wu(e){const n=hs(e),r=null!==n?n.factory:Ya(e);if(null!==r)return r;if(e instanceof or)throw new cn(204,!1);if(e instanceof Function)return function Mh(e){if(e.length>0)throw new cn(204,!1);const r=function wa(e){return e&&(e[Oi]||e[Xa])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new cn(204,!1)}function ea(e,n,r){let o;if(Sc(e)){const c=jn(e);return Ya(c)||wu(c)}if(Ol(e))o=()=>jn(e.useValue);else if(function rp(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Sr(e.deps||[]));else if(function Rh(e){return!(!e||!e.useExisting)}(e))o=()=>lr(jn(e.useExisting));else{const c=jn(e&&(e.useClass||e.provide));if(!function ip(e){return!!e.deps}(e))return Ya(c)||wu(c);o=()=>new c(...Sr(e.deps))}return o}function ks(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function Ru(e,n){for(const r of e)Array.isArray(r)?Ru(r,n):r&&Qc(r)?Ru(r.\u0275providers,n):n(r)}function Ph(e,n){e instanceof Fl&&e.assertNotDestroyed();const o=wn(e),c=Fi(void 0);try{return n()}finally{wn(o),Fi(c)}}function kl(){return void 0!==qs()||null!=function tn(){return Ft}()}const _i=0,vn=1,Kn=2,Ki=3,fo=4,Xi=5,Po=6,Is=7,Si=8,Mi=9,ga=10,Qn=11,Vl=12,cp=13,Nc=14,Li=15,ma=16,Bl=17,ta=18,sl=19,lp=20,ic=21,Ad=22,Ls=23,Un=25,oc=1,va=7,al=9,no=10;var Ou=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(Ou||{});function po(e){return Array.isArray(e)&&"object"==typeof e[oc]}function vo(e){return Array.isArray(e)&&!0===e[oc]}function so(e){return!!(4&e.flags)}function cl(e){return e.componentOffset>-1}function Td(e){return!(1&~e.flags)}function Vs(e){return!!e.template}function ll(e){return!!(512&e[Kn])}class Wl{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Kl(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}function Xl(){return Lu}function Lu(e){return e.type.prototype.ngOnChanges&&(e.setInput=pp),fp}function fp(){const e=Sd(this),n=e?.current;if(n){const r=e.previous;if(r===Os)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function pp(e,n,r,o,c){const d=this.declaredInputs[o],g=Sd(e)||function pm(e,n){return e[wd]=n}(e,{previous:Os,current:null}),_=g.current||(g.current={}),D=g.previous,k=D[d];_[d]=new Wl(k&&k.currentValue,r,D===Os),Kl(e,n,c,r)}Xl.ngInherit=!0;const wd="__ngSimpleChanges__";function Sd(e){return e[wd]||null}const ya=function(e,n,r){};function Lr(e){for(;Array.isArray(e);)e=e[_i];return e}function sc(e,n){return Lr(n[e])}function No(e,n){return Lr(n[e.index])}function Oc(e,n){return e.data[n]}function Cs(e,n){const r=n[e];return po(r)?r:r[_i]}function Fc(e){return!(128&~e[Kn])}function na(e,n){return null==n?null:e[n]}function Oo(e){e[Bl]=0}function Uh(e){1024&e[Kn]||(e[Kn]|=1024,Fc(e)&&ql(e))}function hl(e){return!!(9216&e[Kn]||e[Ls]?.dirty)}function fl(e){e[ga].changeDetectionScheduler?.notify(8),64&e[Kn]&&(e[Kn]|=1024),hl(e)&&ql(e)}function ql(e){e[ga].changeDetectionScheduler?.notify(0);let n=Fa(e);for(;null!==n&&!(8192&n[Kn])&&(n[Kn]|=8192,Fc(n));)n=Fa(n)}function cc(e,n){if(!(256&~e[Kn]))throw new cn(911,!1);null===e[ic]&&(e[ic]=[]),e[ic].push(n)}function Fa(e){const n=e[Ki];return vo(n)?n[Ki]:n}const mr={lFrame:qt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ql=!1;function pl(){return mr.bindingsEnabled}function _a(){return null!==mr.skipHydrationRootTNode}function Xt(){return mr.lFrame.lView}function Ar(){return mr.lFrame.tView}function yp(e){return mr.lFrame.contextLView=e,e[Si]}function $u(e){return mr.lFrame.contextLView=null,e}function di(){let e=Ea();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ea(){return mr.lFrame.currentTNode}function Bs(e,n){const r=mr.lFrame;r.currentTNode=e,r.isParent=n}function Zl(){return mr.lFrame.isParent}function ju(){mr.lFrame.isParent=!1}function _p(){return Ql}function Ia(e){Ql=e}function Ca(){return mr.lFrame.bindingIndex++}function vm(e,n){const r=mr.lFrame;r.bindingIndex=r.bindingRootIndex=e,y(n)}function y(e){mr.lFrame.currentDirectiveIndex=e}function p(){return mr.lFrame.currentQueryIndex}function E(e){mr.lFrame.currentQueryIndex=e}function U(e){const n=e[vn];return 2===n.type?n.declTNode:1===n.type?e[Xi]:null}function Ee(e,n,r){if(r&Cr.SkipSelf){let c=n,d=e;for(;!(c=c.parent,null!==c||r&Cr.Host||(c=U(d),null===c||(d=d[Nc],10&c.type))););if(null===c)return!1;n=c,e=d}const o=mr.lFrame=Ct();return o.currentTNode=n,o.lView=e,!0}function et(e){const n=Ct(),r=e[vn];mr.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function Ct(){const e=mr.lFrame,n=null===e?null:e.child;return null===n?qt(e):n}function qt(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Tn(){const e=mr.lFrame;return mr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const On=Tn;function Bn(){const e=Tn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function gi(){return mr.lFrame.selectedIndex}function ra(e){mr.lFrame.selectedIndex=e}function hi(){const e=mr.lFrame;return Oc(e.tView,e.selectedIndex)}let Wu=!0;function Lc(){return Wu}function $s(e){Wu=e}function ml(e,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:D,ngAfterViewChecked:k,ngOnDestroy:ee}=d;g&&(e.contentHooks??=[]).push(-r,g),_&&((e.contentHooks??=[]).push(r,_),(e.contentCheckHooks??=[]).push(r,_)),D&&(e.viewHooks??=[]).push(-r,D),k&&((e.viewHooks??=[]).push(r,k),(e.viewCheckHooks??=[]).push(r,k)),null!=ee&&(e.destroyHooks??=[]).push(r,ee)}}function Vd(e,n,r){_m(e,n,3,r)}function Kh(e,n,r,o){(3&e[Kn])===r&&_m(e,n,r,o)}function Ip(e,n){let r=e[Kn];(3&r)===n&&(r&=16383,r+=1,e[Kn]=r)}function _m(e,n,r,o){const d=o??-1,g=n.length-1;let _=0;for(let D=void 0!==o?65535&e[Bl]:0;D<g;D++)if("number"==typeof n[D+1]){if(_=n[D],null!=o&&_>=o)break}else n[D]<0&&(e[Bl]+=65536),(_<d||-1==d)&&(j_(e,r,n,D),e[Bl]=(4294901760&e[Bl])+D+2),D++}function Em(e,n){ya(4,e,n);const r=ne(null);try{n.call(e)}finally{ne(r),ya(5,e,n)}}function j_(e,n,r,o){const c=r[o]<0,d=r[o+1],_=e[c?-r[o]:r[o]];c?e[Kn]>>14<e[Bl]>>16&&(3&e[Kn])===n&&(e[Kn]+=16384,Em(_,d)):Em(_,d)}const Bd=-1;class Xh{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const Am={};class vl{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=Kr(o);const c=this.injector.get(n,Am,o);return c!==Am||r===Am?c:this.parentInjector.get(n,r,o)}}function Dm(e){return e!==Bd}function Ku(e){return 32767&e}function Xu(e,n){let r=function z_(e){return e>>16}(e),o=n;for(;r>0;)o=o[Nc],r--;return o}let Qh=!0;function Yh(e){const n=Qh;return Qh=e,n}const Cp=255,Cv=5;let Tm=0;const Vc={};function Ap(e,n){const r=Dp(e,n);if(-1!==r)return r;const o=n[vn];o.firstCreatePass&&(e.injectorIndex=n.length,Zh(o.data,e),Zh(n,null),Zh(o.blueprint,null));const c=Ud(e,n),d=e.injectorIndex;if(Dm(c)){const g=Ku(c),_=Xu(c,n),D=_[vn].data;for(let k=0;k<8;k++)n[d+k]=_[g+k]|D[g+k]}return n[d+8]=c,d}function Zh(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Dp(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Ud(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,c=n;for(;null!==c;){if(o=Sp(c),null===o)return Bd;if(r++,c=c[Nc],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Bd}function Jl(e,n,r){!function xm(e,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Ra)&&(o=r[Ra]),null==o&&(o=r[Ra]=Tm++);const c=o&Cp;n.data[e+(c>>Cv)]|=1<<c}(e,n,r)}function Tp(e,n,r){if(r&Cr.Optional||void 0!==e)return e;el()}function Dv(e,n,r,o){if(r&Cr.Optional&&void 0===o&&(o=null),!(r&(Cr.Self|Cr.Host))){const c=e[Mi],d=Fi(void 0);try{return c?c.get(n,o,r&Cr.Optional):la(n,o,r&Cr.Optional)}finally{Fi(d)}}return Tp(o,0,r)}function xp(e,n,r,o=Cr.Default,c){if(null!==e){if(2048&n[Kn]&&!(o&Cr.Self)){const g=function bv(e,n,r,o,c){let d=e,g=n;for(;null!==d&&null!==g&&2048&g[Kn]&&!(512&g[Kn]);){const _=Bc(d,g,r,o|Cr.Self,Vc);if(_!==Vc)return _;let D=d.parent;if(!D){const k=g[lp];if(k){const ee=k.get(r,Vc,o);if(ee!==Vc)return ee}D=Sp(g),g=g[Nc]}d=D}return c}(e,n,r,o,Vc);if(g!==Vc)return g}const d=Bc(e,n,r,o,Vc);if(d!==Vc)return d}return Dv(n,r,o,c)}function Bc(e,n,r,o,c){const d=function G_(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ra)?e[Ra]:void 0;return"number"==typeof n?n>=0?n&Cp:wm:n}(r);if("function"==typeof d){if(!Ee(n,e,o))return o&Cr.Host?Tp(c,0,o):Dv(n,r,o,c);try{let g;if(g=d(o),null!=g||o&Cr.Optional)return g;el()}finally{On()}}else if("number"==typeof d){let g=null,_=Dp(e,n),D=Bd,k=o&Cr.Host?n[Li][Xi]:null;for((-1===_||o&Cr.SkipSelf)&&(D=-1===_?Ud(e,n):n[_+8],D!==Bd&&wp(o,!1)?(g=n[vn],_=Ku(D),n=Xu(D,n)):_=-1);-1!==_;){const ee=n[vn];if(Tv(d,_,ee.data)){const Oe=bm(_,n,r,g,o,k);if(Oe!==Vc)return Oe}D=n[_+8],D!==Bd&&wp(o,n[vn].data[_+8]===k)&&Tv(d,_,n)?(g=ee,_=Ku(D),n=Xu(D,n)):_=-1}}return c}function bm(e,n,r,o,c,d){const g=n[vn],_=g.data[e+8],ee=bp(_,g,r,null==o?cl(_)&&Qh:o!=g&&!!(3&_.type),c&Cr.Host&&d===_);return null!==ee?yl(n,g,ee,_):Vc}function bp(e,n,r,o,c){const d=e.providerIndexes,g=n.data,_=1048575&d,D=e.directiveStart,ee=d>>20,Je=c?_+ee:e.directiveEnd;for(let st=o?_:_+ee;st<Je;st++){const Tt=g[st];if(st<D&&r===Tt||st>=D&&Tt.type===r)return st}if(c){const st=g[D];if(st&&Vs(st)&&st.type===r)return D}return null}function yl(e,n,r,o){let c=e[r];const d=n.data;if(function H_(e){return e instanceof Xh}(c)){const g=c;g.resolving&&function Cc(e,n){throw n&&n.join(" > "),new cn(-200,e)}(function Wr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():En(e)}(d[r]));const _=Yh(g.canSeeViewProviders);g.resolving=!0;const k=g.injectImpl?Fi(g.injectImpl):null;Ee(e,o,Cr.Default);try{c=e[r]=g.factory(void 0,d,e,o),n.firstCreatePass&&r>=o.directiveStart&&function ym(e,n,r){const{ngOnChanges:o,ngOnInit:c,ngDoCheck:d}=n.type.prototype;if(o){const g=Lu(n);(r.preOrderHooks??=[]).push(e,g),(r.preOrderCheckHooks??=[]).push(e,g)}c&&(r.preOrderHooks??=[]).push(0-e,c),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,d[r],n)}finally{null!==k&&Fi(k),Yh(_),g.resolving=!1,On()}}return c}function Tv(e,n,r){return!!(r[n+(e>>Cv)]&1<<e)}function wp(e,n){return!(e&Cr.Self||e&Cr.Host&&n)}class Fo{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return xp(this._tNode,this._lView,n,Kr(o),r)}}function wm(){return new Fo(di(),Xt())}function xv(e){return Zi(()=>{const n=e.prototype.constructor,r=n[So]||Jh(n),o=Object.prototype;let c=Object.getPrototypeOf(e.prototype).constructor;for(;c&&c!==o;){const d=c[So]||Jh(c);if(d&&d!==r)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function Jh(e){return ba(e)?()=>{const n=Jh(jn(e));return n&&n()}:Ya(e)}function Sp(e){const n=e[vn],r=n.type;return 2===r?n.declTNode:1===r?e[Xi]:null}function ef(e){return function Av(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const o=r.length;let c=0;for(;c<o;){const d=r[c];if(Ml(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<o&&"string"==typeof r[c];)c++;else{if(d===n)return r[c+1];c+=2}}}return null}(di(),e)}function nf(e,n=null,r=null,o){const c=Rv(e,n,r,o);return c.resolveInjectorInitializers(),c}function Rv(e,n=null,r=null,o,c=new Set){const d=[r||er,ec(e)];return o=o||("object"==typeof e?void 0:Br(e)),new Fl(d,n||Ed(),o||null,c)}class ns{static{this.THROW_IF_NOT_FOUND=gs}static{this.NULL=new rl}static create(n,r){if(Array.isArray(n))return nf({name:""},r,n,"");{const o=n.name??"";return nf({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=pr({token:ns,providedIn:"any",factory:()=>lr(nl)})}static{this.__NG_ELEMENT_ID__=-1}}new or("").__NG_ELEMENT_ID__=e=>{const n=di();if(null===n)throw new cn(204,!1);if(2&n.type)return n.value;if(e&Cr.Optional)return null;throw new cn(204,!1)};function rf(e){return e.ngOriginalError}const Mm=!0;let Qu=(()=>{class e{static{this.__NG_ELEMENT_ID__=Fp}static{this.__NG_ENV_ID__=r=>r}}return e})();class Pm extends Qu{constructor(n){super(),this._lView=n}onDestroy(n){return cc(this._lView,n),()=>function jh(e,n){if(null===e[ic])return;const r=e[ic].indexOf(n);-1!==r&&e[ic].splice(r,1)}(this._lView,n)}}function Fp(){return new Pm(Xt())}let _l=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=pr({token:e,providedIn:"root",factory:()=>new e})}}return e})();const uc=class Hd extends Gt.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,kl()&&(this.destroyRef=dn(Qu,{optional:!0})??void 0,this.pendingTasks=dn(_l,{optional:!0})??void 0)}emit(n){const r=ne(null);try{super.next(n)}finally{ne(r)}}subscribe(n,r,o){let c=n,d=r||(()=>null),g=o;if(n&&"object"==typeof n){const D=n;c=D.next?.bind(D),d=D.error?.bind(D),g=D.complete?.bind(D)}this.__isAsync&&(d=this.wrapInTimeout(d),c&&(c=this.wrapInTimeout(c)),g&&(g=this.wrapInTimeout(g)));const _=super.subscribe({next:c,error:d,complete:g});return n instanceof Ht.yU&&n.add(_),_}wrapInTimeout(n){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function zd(...e){}function Nm(e){let n,r;function o(){e=zd;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Yu(e){return queueMicrotask(()=>e()),()=>{e=zd}}const Om="isAngularZone",kp=Om+"_ID";let Z_=0;class Hi{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uc(!1),this.onMicrotaskEmpty=new uc(!1),this.onStable=new uc(!1),this.onError=new uc(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1,scheduleInRootZone:d=Mm}=n;if(typeof Zone>"u")throw new cn(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!c&&o,g.shouldCoalesceRunChangeDetection=c,g.callbackScheduled=!1,g.scheduleInRootZone=d,function tE(e){const n=()=>{!function eE(e){function n(){Nm(()=>{e.callbackScheduled=!1,Fm(e),e.isCheckStableRunning=!0,Lp(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Fm(e))}(e)},r=Z_++;e._inner=e._inner.fork({name:"angular",properties:{[Om]:!0,[kp]:r,[kp+r]:!0},onInvokeTask:(o,c,d,g,_,D)=>{if(function nE(e){return Lm(e,"__ignore_ng_zone__")}(D))return o.invokeTask(d,g,_,D);try{return Nv(e),o.invokeTask(d,g,_,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&n(),Ov(e)}},onInvoke:(o,c,d,g,_,D,k)=>{try{return Nv(e),o.invoke(d,g,_,D,k)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function Fv(e){return Lm(e,"__scheduler_tick__")}(D)&&n(),Ov(e)}},onHasTask:(o,c,d,g)=>{o.hasTask(d,g),c===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,Fm(e),Lp(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,c,d,g)=>(o.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(Om)}static assertInAngularZone(){if(!Hi.isInAngularZone())throw new cn(909,!1)}static assertNotInAngularZone(){if(Hi.isInAngularZone())throw new cn(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,c){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+c,n,J_,zd,zd);try{return d.runTask(g,r,o)}finally{d.cancelTask(g)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const J_={};function Lp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Fm(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Nv(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Ov(e){e._nesting--,Lp(e)}class km{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uc,this.onMicrotaskEmpty=new uc,this.onStable=new uc,this.onError=new uc}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,c){return n.apply(r,o)}}function Lm(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class Uc{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&rf(n);for(;r&&rf(r);)r=rf(r);return r||null}}const kv=new or("",{providedIn:"root",factory:()=>{const e=dn(Hi),n=dn(Uc);return r=>e.runOutsideAngular(()=>n.handleError(r))}});function Lv(){return co(di(),Xt())}function co(e,n){return new Ei(No(e,n))}let Ei=(()=>{class e{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=Lv}}return e})();function dc(e){return e instanceof Ei?e.nativeElement:e}function Vv(){return this._results[Symbol.iterator]()}class $m{get changes(){return this._changes??=new uc}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=$m.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Vv)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function ur(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function to(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let c=e[o],d=n[o];if(r&&(c=r(c),d=r(d)),d!==c)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Zu(e){return!(128&~e.flags)}const mi=new Map;let sD=0;function Hm(e){mi.delete(e[sl])}const Bp="__ngContext__";function As(e,n){po(n)?(e[Bp]=n[sl],function qi(e){mi.set(e[sl],e)}(n)):e[Bp]=n}function Wm(e){return zv(e[Vl])}function lf(e){return zv(e[fo])}function zv(e){for(;null!==e&&!vo(e);)e=e[fo];return e}let Xd;function Hp(e){Xd=e}const ru=new or("",{providedIn:"root",factory:()=>dE}),dE="ng",hf=new or(""),ff=new or("",{providedIn:"platform",factory:()=>"unknown"}),iu=new or("",{providedIn:"root",factory:()=>function Il(){if(void 0!==Xd)return Xd;if(typeof document<"u")return document;throw new cn(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vf=()=>null;function Qv(e,n,r=!1){return vf(e,n,r)}const nd=new or("",{providedIn:"root",factory:()=>!1});let l0;function vE(e){return function u0(){if(void 0===l0&&(l0=null,bi.trustedTypes))try{l0=bi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return l0}()?.createScriptURL(e)||e}class oy{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pr})`}}function cu(e){return e instanceof oy?e.changingThisBreaksApplicationSecurity:e}function Ef(e,n){const r=function IE(e){return e instanceof oy&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Pr})`)}return r===n}const _D=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var _o=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(_o||{});function od(e){const n=th();return n?n.sanitize(_o.URL,e)||"":Ef(e,"URL")?cu(e):function eg(e){return(e=String(e)).match(_D)?e:"unsafe:"+e}(En(e))}function lu(e){const n=th();if(n)return vE(n.sanitize(_o.RESOURCE_URL,e)||"");if(Ef(e,"ResourceURL"))return vE(cu(e));throw new cn(904,!1)}function uy(e,n,r){return function ME(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?lu:od}(n,r)(e)}function th(){const e=Xt();return e&&e[ga].sanitizer}const PE=/^>|^->|<!--|-->|--!>|<!-$/g,m0=/(<|>)/g,dy="\u200b$1\u200b";function Ve(e){return e instanceof Function?e():e}var Nr=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Nr||{});let Tr;function It(e,n){return Tr(e,n)}function dt(e,n,r,o,c){if(null!=o){let d,g=!1;vo(o)?d=o:po(o)&&(g=!0,o=o[_i]);const _=Lr(o);0===e&&null!==r?null==c?my(n,r,_):ad(n,r,_,c||null,!0):1===e&&null!==r?ad(n,r,_,c||null,!0):2===e?function ih(e,n,r){e.removeChild(null,n,r)}(n,_,g):3===e&&n.destroyNode(_),null!=d&&function Hs(e,n,r,o,c){const d=r[va];d!==Lr(r)&&dt(n,e,o,d,c);for(let _=no;_<r.length;_++){const D=r[_];oh(D[vn],D,e,n,o,d)}}(n,e,d,r,c)}}function kt(e,n){return e.createComment(function Df(e){return e.replace(PE,n=>n.replace(m0,dy))}(n))}function lt(e,n,r){return e.createElement(n,r)}function gy(e,n){n[ga].changeDetectionScheduler?.notify(9),oh(e,n,n[Qn],2,null,null)}function ag(e,n){const r=e[al],o=n[Ki];(po(o)||n[Li]!==o[Ki][Li])&&(e[Kn]|=Ou.HasTransplantedViews),null===r?e[al]=[n]:r.push(n)}function cg(e,n){const r=e[al],o=r.indexOf(n);r.splice(o,1)}function wf(e,n){if(e.length<=no)return;const r=no+n,o=e[r];if(o){const c=o[ma];null!==c&&c!==e&&cg(c,o),n>0&&(e[r-1][fo]=o[fo]);const d=ua(e,no+n);!function Al(e,n){gy(e,n),n[_i]=null,n[Xi]=null}(o[vn],o);const g=d[ta];null!==g&&g.detachView(d[vn]),o[Ki]=null,o[fo]=null,o[Kn]&=-129}return o}function pc(e,n){if(!(256&n[Kn])){const r=n[Qn];r.destroyNode&&oh(e,n,r,3,null,null),function xf(e){let n=e[Vl];if(!n)return Xo(e[vn],e);for(;n;){let r=null;if(po(n))r=n[Vl];else{const o=n[no];o&&(r=o)}if(!r){for(;n&&!n[fo]&&n!==e;)po(n)&&Xo(n[vn],n),n=n[Ki];null===n&&(n=e),po(n)&&Xo(n[vn],n),r=n&&n[fo]}n=r}}(n)}}function Xo(e,n){if(256&n[Kn])return;const r=ne(null);try{n[Kn]&=-129,n[Kn]|=256,n[Ls]&&W(n[Ls]),function Sf(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const c=n[r[o]];if(!(c instanceof Xh)){const d=r[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const _=c[d[g]],D=d[g+1];ya(4,_,D);try{D.call(_)}finally{ya(5,_,D)}}else{ya(4,c,d);try{d.call(c)}finally{ya(5,c,d)}}}}}(e,n),function BE(e,n){const r=e.cleanup,o=n[Is];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const g=r[d+3];g>=0?o[g]():o[-g].unsubscribe(),d+=2}else r[d].call(o[r[d+1]]);null!==o&&(n[Is]=null);const c=n[ic];if(null!==c){n[ic]=null;for(let d=0;d<c.length;d++)(0,c[d])()}}(e,n),1===n[vn].type&&n[Qn].destroy();const o=n[ma];if(null!==o&&vo(n[Ki])){o!==n[Ki]&&cg(o,n);const c=n[ta];null!==c&&c.detachView(e)}Hm(n)}finally{ne(r)}}function E0(e,n,r){return function nh(e,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[_i];{const{componentOffset:c}=o;if(c>-1){const{encapsulation:d}=e.data[o.directiveStart+c];if(d===Pa.None||d===Pa.Emulated)return null}return No(o,r)}}(e,n.parent,r)}function ad(e,n,r,o,c){e.insertBefore(n,r,o,c)}function my(e,n,r){e.appendChild(n,r)}function Rf(e,n,r,o,c){null!==o?ad(e,n,r,o,c):my(e,n,r)}function rh(e,n){return e.parentNode(n)}function lg(e,n,r){return dg(e,n,r)}let hg,dg=function ug(e,n,r){return 40&e.type?No(e,r):null};function fg(e,n,r,o){const c=E0(e,o,n),d=n[Qn],_=lg(o.parent||n[Xi],o,n);if(null!=c)if(Array.isArray(r))for(let D=0;D<r.length;D++)Rf(d,c,r[D],_,!1);else Rf(d,c,r,_,!1);void 0!==hg&&hg(d,o,n,r,c)}function uu(e,n){if(null!==n){const r=n.type;if(3&r)return No(n,e);if(4&r)return Mf(-1,e[n.index]);if(8&r){const o=n.child;if(null!==o)return uu(e,o);{const c=e[n.index];return vo(c)?Mf(-1,c):Lr(c)}}if(128&r)return uu(e,n.next);if(32&r)return It(n,e)()||Lr(e[n.index]);{const o=A0(e,n);return null!==o?Array.isArray(o)?o[0]:uu(Fa(e[Li]),o):uu(e,n.next)}}return null}function A0(e,n){return null!==n?e[Li][Xi].projection[n.projection]:null}function Mf(e,n){const r=no+e+1;if(r<n.length){const o=n[r],c=o[vn].firstChild;if(null!==c)return uu(o,c)}return n[va]}function Pf(e,n,r,o,c,d,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const _=o[r.index],D=r.type;if(g&&0===n&&(_&&As(Lr(_),o),r.flags|=2),32&~r.flags)if(8&D)Pf(e,n,r.child,o,c,d,!1),dt(n,e,c,_,d);else if(32&D){const k=It(r,o);let ee;for(;ee=k();)dt(n,e,c,ee,d);dt(n,e,c,_,d)}else 16&D?rs(e,n,o,r,c,d):dt(n,e,c,_,d);r=g?r.projectionNext:r.next}}function oh(e,n,r,o,c,d){Pf(r,o,e.firstChild,n,c,d,!1)}function rs(e,n,r,o,c,d){const g=r[Li],D=g[Xi].projection[o.projection];if(Array.isArray(D))for(let k=0;k<D.length;k++)dt(n,e,c,D[k],d);else{let k=D;const ee=g[Ki];Zu(o)&&(k.flags|=128),Pf(e,n,k,ee,c,d,!0)}}function T0(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function _y(e,n,r){const{mergedAttrs:o,classes:c,styles:d}=r;null!==o&&_s(e,n,o),null!==c&&T0(e,n,c),null!==d&&function yy(e,n,r){e.setAttribute(n,"style",r)}(e,n,d)}const yr={};function x0(e=1){b0(Ar(),Xt(),gi()+e,!1)}function b0(e,n,r,o){if(!o)if(3&~n[Kn]){const d=e.preOrderHooks;null!==d&&Kh(n,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&Vd(n,d,r)}ra(r)}function du(e,n=Cr.Default){const r=Xt();return null===r?lr(e,n):xp(di(),r,jn(e),n)}function Ey(){throw new Error("invalid")}function Iy(e,n,r,o,c,d){const g=ne(null);try{let _=null;c&da.SignalBased&&(_=n[o][ae]),null!==_&&void 0!==_.transformFn&&(d=_.transformFn(d)),c&da.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(n,d)),null!==e.setInput?e.setInput(n,_,d,r,o):Kl(n,_,o,d)}finally{ne(g)}}function Nf(e,n,r,o,c,d,g,_,D,k,ee){const Oe=n.blueprint.slice();return Oe[_i]=c,Oe[Kn]=204|o,(null!==k||e&&2048&e[Kn])&&(Oe[Kn]|=2048),Oo(Oe),Oe[Ki]=Oe[Nc]=e,Oe[Si]=r,Oe[ga]=g||e&&e[ga],Oe[Qn]=_||e&&e[Qn],Oe[Mi]=D||e&&e[Mi]||null,Oe[Xi]=d,Oe[sl]=function aD(){return sD++}(),Oe[Po]=ee,Oe[lp]=k,Oe[Li]=2==n.type?e[Li]:Oe,Oe}function hu(e,n,r,o,c){let d=e.data[n];if(null===d)d=function cd(e,n,r,o,c){const d=Ea(),g=Zl(),D=e.data[n]=function ch(e,n,r,o,c,d){let g=n?n.injectorIndex:-1,_=0;return _a()&&(_|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,r,n,o,c);return null===e.firstChild&&(e.firstChild=D),null!==d&&(g?null==d.child&&null!==D.parent&&(d.child=D):null===d.next&&(d.next=D,D.prev=d)),D}(e,n,r,o,c),function mm(){return mr.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=c;const g=function Yl(){const e=mr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Bs(d,!0),d}function ld(e,n,r,o){if(0===r)return-1;const c=n.length;for(let d=0;d<r;d++)n.push(o),e.blueprint.push(o),e.data.push(null);return c}function gg(e,n,r,o,c){const d=gi(),g=2&o;try{ra(-1),g&&n.length>Un&&b0(e,n,Un,!1),ya(g?2:0,c),r(o,c)}finally{ra(d),ya(g?3:1,c)}}function Dl(e,n,r){if(so(n)){const o=ne(null);try{const d=n.directiveEnd;for(let g=n.directiveStart;g<d;g++){const _=e.data[g];_.contentQueries&&_.contentQueries(1,r[g],g)}}finally{ne(o)}}}function mg(e,n,r){pl()&&(function wy(e,n,r,o){const c=r.directiveStart,d=r.directiveEnd;cl(r)&&function My(e,n,r){const o=No(n,e),c=S0(r);let g=16;r.signals?g=4096:r.onPush&&(g=64);const _=Ag(e,Nf(e,c,null,g,o,n,null,e[ga].rendererFactory.createRenderer(o,r),null,null,null));e[n.index]=_}(n,r,e.data[c+r.componentOffset]),e.firstCreatePass||Ap(r,n),As(o,n);const g=r.initialInputs;for(let _=c;_<d;_++){const D=e.data[_],k=yl(n,e,_,r);As(k,n),null!==g&&P0(0,_-c,k,D,0,g),Vs(D)&&(Cs(r.index,n)[Si]=yl(n,e,_,r))}}(e,n,r,No(r,n)),!(64&~r.flags)&&Sy(e,n,r))}function sh(e,n,r=No){const o=n.localNames;if(null!==o){let c=n.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],_=-1===g?r(n,e):e[g];e[c++]=_}}}function S0(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=ud(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function ud(e,n,r,o,c,d,g,_,D,k,ee){const Oe=Un+o,Je=Oe+c,st=function Cy(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:yr);return r}(Oe,Je),Tt="function"==typeof k?k():k;return st[vn]={type:e,blueprint:st,template:r,queries:null,viewQuery:_,declTNode:n,data:st.slice().fill(null,Oe),bindingStartIndex:Oe,expandoStartIndex:Je,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:D,consts:Tt,incompleteFirstPass:!1,ssrId:ee}}let ah=()=>null;function Dy(e,n,r,o,c){for(let d in n){if(!n.hasOwnProperty(d))continue;const g=n[d];if(void 0===g)continue;o??={};let _,D=da.None;Array.isArray(g)?(_=g[0],D=g[1]):_=g;let k=d;if(null!==c){if(!c.hasOwnProperty(d))continue;k=c[d]}0===e?Ty(o,r,k,_,D):Ty(o,r,k,_)}return o}function Ty(e,n,r,o,c){let d;e.hasOwnProperty(r)?(d=e[r]).push(n,o):d=e[r]=[n,o],void 0!==c&&d.push(c)}function Ts(e,n,r,o,c,d,g,_){const D=No(n,r);let ee,k=n.inputs;!_&&null!=k&&(ee=k[o])?(lh(e,r,ee,o,c),cl(n)&&function yg(e,n){const r=Cs(n,e);16&r[Kn]||(r[Kn]|=64)}(r,n.index)):3&n.type&&(o=function xy(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),c=null!=g?g(c,n.value||"",o):c,d.setProperty(D,o,c))}function _g(e,n,r,o){if(pl()){const c=null===o?null:{"":-1},d=function Ry(e,n){const r=e.directiveRegistry;let o=null,c=null;if(r)for(let d=0;d<r.length;d++){const g=r[d];if(vd(n,g.selectors,!1))if(o||(o=[]),Vs(g))if(null!==g.findHostDirectiveDefs){const _=[];c=c||new Map,g.findHostDirectiveDefs(g,_,c),o.unshift(..._,g),Ff(e,n,_.length)}else o.unshift(g),Ff(e,n,0);else c=c||new Map,g.findHostDirectiveDefs?.(g,o,c),o.push(g)}return null===o?null:[o,c]}(e,r);let g,_;null===d?g=_=null:[g,_]=d,null!==g&&Eg(e,n,r,g,c,_),c&&function kf(e,n,r){if(n){const o=e.localNames=[];for(let c=0;c<n.length;c+=2){const d=r[n[c+1]];if(null==d)throw new cn(-301,!1);o.push(n[c],d)}}}(r,o,c)}r.mergedAttrs=si(r.mergedAttrs,r.attrs)}function Eg(e,n,r,o,c,d){for(let k=0;k<o.length;k++)Jl(Ap(r,n),e,o[k].type);!function M0(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,o.length);for(let k=0;k<o.length;k++){const ee=o[k];ee.providersResolver&&ee.providersResolver(ee)}let g=!1,_=!1,D=ld(e,n,o.length,null);for(let k=0;k<o.length;k++){const ee=o[k];r.mergedAttrs=si(r.mergedAttrs,ee.hostAttrs),HE(e,r,n,D,ee),dd(D,ee,c),null!==ee.contentQueries&&(r.flags|=4),(null!==ee.hostBindings||null!==ee.hostAttrs||0!==ee.hostVars)&&(r.flags|=64);const Oe=ee.type.prototype;!g&&(Oe.ngOnChanges||Oe.ngOnInit||Oe.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),g=!0),!_&&(Oe.ngOnChanges||Oe.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),_=!0),D++}!function vg(e,n,r){const c=n.directiveEnd,d=e.data,g=n.attrs,_=[];let D=null,k=null;for(let ee=n.directiveStart;ee<c;ee++){const Oe=d[ee],Je=r?r.get(Oe):null,Tt=Je?Je.outputs:null;D=Dy(0,Oe.inputs,ee,D,Je?Je.inputs:null),k=Dy(1,Oe.outputs,ee,k,Tt);const nn=null===D||null===g||ha(n)?null:N0(D,ee,g);_.push(nn)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=_,n.inputs=D,n.outputs=k}(e,r,d)}function Sy(e,n,r){const o=r.directiveStart,c=r.directiveEnd,d=r.index,g=function Gh(){return mr.lFrame.currentDirectiveIndex}();try{ra(d);for(let _=o;_<c;_++){const D=e.data[_],k=n[_];y(_),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Ig(D,k)}}finally{ra(-1),y(g)}}function Ig(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Ff(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function dd(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;Vs(n)&&(r[""]=e)}}function HE(e,n,r,o,c){e.data[o]=c;const d=c.factory||(c.factory=Ya(c.type)),g=new Xh(d,Vs(c),du);e.blueprint[o]=g,r[o]=g,function R0(e,n,r,o,c){const d=c.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const _=~n.index;(function by(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(g)!=_&&g.push(_),g.push(r,o,d)}}(e,n,o,ld(e,r,c.hostVars,yr),c)}function gc(e,n,r,o,c,d){const g=No(e,n);!function Cg(e,n,r,o,c,d,g){if(null==d)e.removeAttribute(n,c,r);else{const _=null==g?En(d):g(d,o||"",c);e.setAttribute(n,c,_,r)}}(n[Qn],g,d,e.value,r,o,c)}function P0(e,n,r,o,c,d){const g=d[n];if(null!==g)for(let _=0;_<g.length;)Iy(o,r,g[_++],g[_++],g[_++],g[_++])}function N0(e,n,r){let o=null,c=0;for(;c<r.length;){const d=r[c];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const g=e[d];for(let _=0;_<g.length;_+=3)if(g[_]===n){o.push(d,g[_+1],g[_+2],r[c+1]);break}}c+=2}else c+=2;else c+=4}return o}function O0(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function F0(e,n){const r=e.contentQueries;if(null!==r){const o=ne(null);try{for(let c=0;c<r.length;c+=2){const g=r[c+1];if(-1!==g){const _=e.data[g];E(r[c]),_.contentQueries(2,n[g],g)}}}finally{ne(o)}}}function Ag(e,n){return e[Vl]?e[cp][fo]=n:e[Vl]=n,e[cp]=n,n}function k0(e,n,r){E(0);const o=ne(null);try{n(e,r)}finally{ne(o)}}function L0(e){return e[Is]??=[]}function Py(e){return e.cleanup??=[]}function Va(e,n){const r=e[Mi],o=r?r.get(Uc,null):null;o&&o.handleError(n)}function lh(e,n,r,o,c){for(let d=0;d<r.length;){const g=r[d++],_=r[d++],D=r[d++];Iy(e.data[g],n[g],o,_,D,c)}}function Ny(e,n){const r=Cs(n,e),o=r[vn];!function zi(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const c=r[_i];null!==c&&null===r[Po]&&(r[Po]=Qv(c,r[Mi])),uh(o,r,r[Si])}function uh(e,n,r){et(n);try{const o=e.viewQuery;null!==o&&k0(1,o,r);const c=e.template;null!==c&&gg(e,n,c,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[ta]?.finishViewCreation(e),e.staticContentQueries&&F0(e,n),e.staticViewQueries&&k0(2,e.viewQuery,r);const d=e.components;null!==d&&function Lf(e,n){for(let r=0;r<n.length;r++)Ny(e,n[r])}(n,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[Kn]&=-5,Bn()}}function zc(e,n,r,o){const c=ne(null);try{const d=n.tView,D=Nf(e,d,r,4096&e[Kn]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);D[ma]=e[n.index];const ee=e[ta];return null!==ee&&(D[ta]=ee.createEmbeddedView(d)),uh(d,D,r),D}finally{ne(c)}}function gu(e,n){return!n||null===n.firstChild||Zu(e)}function dh(e,n,r,o=!0){const c=n[vn];if(function bf(e,n,r,o){const c=no+o,d=r.length;o>0&&(r[c-1][fo]=n),o<d-no?(n[fo]=r[c],Sl(r,no+o,n)):(r.push(n),n[fo]=null),n[Ki]=r;const g=n[ma];null!==g&&r!==g&&ag(g,n);const _=n[ta];null!==_&&_.insertView(e),fl(n),n[Kn]|=128}(c,n,e,r),o){const g=Mf(r,e),_=n[Qn],D=rh(_,e[va]);null!==D&&function Tf(e,n,r,o,c,d){o[_i]=c,o[Xi]=n,oh(e,o,r,1,c,d)}(c,e[Xi],_,n,D,g)}const d=n[Po];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function Vf(e,n,r,o,c=!1){for(;null!==r;){if(128===r.type){r=c?r.projectionNext:r.next;continue}const d=n[r.index];null!==d&&o.push(Lr(d)),vo(d)&&Fy(d,o);const g=r.type;if(8&g)Vf(e,n,r.child,o);else if(32&g){const _=It(r,n);let D;for(;D=_();)o.push(D)}else if(16&g){const _=A0(n,r);if(Array.isArray(_))o.push(..._);else{const D=Fa(n[Li]);Vf(D[vn],D,_,o,!0)}}r=c?r.projectionNext:r.next}return o}function Fy(e,n){for(let r=no;r<e.length;r++){const o=e[r],c=o[vn].firstChild;null!==c&&Vf(o[vn],o,c,n)}e[va]!==e[_i]&&n.push(e[va])}let hh=[];const Vy={...ie,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{ql(e.lView)},consumerOnSignalRead(){this.lView[Ls]=this}},GE={...ie,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=Fa(e.lView);for(;n&&!By(n[vn]);)n=Fa(n);n&&Uh(n)},consumerOnSignalRead(){this.lView[Ls]=this}};function By(e){return 2!==e.type}const WE=100;function mc(e,n=!0,r=0){const o=e[ga],c=o.rendererFactory;c.begin?.();try{!function KE(e,n){const r=_p();try{Ia(!0),Dg(e,n);let o=0;for(;hl(e);){if(o===WE)throw new cn(103,!1);o++,Dg(e,1)}}finally{Ia(r)}}(e,r)}catch(g){throw n&&Va(e,g),g}finally{c.end?.(),o.inlineEffectRunner?.flush()}}function Bf(e,n,r,o){const c=n[Kn];if(!(256&~c))return;n[ga].inlineEffectRunner?.flush(),et(n);let _=!0,D=null,k=null;By(e)?(k=function mu(e){return e[Ls]??function ky(e){const n=hh.pop()??Object.create(Vy);return n.lView=e,n}(e)}(n),D=De(k)):null===function ge(){return x}()?(_=!1,k=function fh(e){const n=e[Ls]??Object.create(GE);return n.lView=e,n}(n),D=De(k)):n[Ls]&&(W(n[Ls]),n[Ls]=null);try{Oo(n),function Hu(e){return mr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&gg(e,n,r,2,o);const ee=!(3&~c);if(ee){const st=e.preOrderCheckHooks;null!==st&&Vd(n,st,null)}else{const st=e.preOrderHooks;null!==st&&Kh(n,st,0,null),Ip(n,0)}if(function $y(e){for(let n=Wm(e);null!==n;n=lf(n)){if(!(n[Kn]&Ou.HasTransplantedViews))continue;const r=n[al];for(let o=0;o<r.length;o++)Uh(r[o])}}(n),Uf(n,0),null!==e.contentQueries&&F0(e,n),ee){const st=e.contentCheckHooks;null!==st&&Vd(n,st)}else{const st=e.contentHooks;null!==st&&Kh(n,st,1),Ip(n,1)}!function w0(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const c=r[o];if(c<0)ra(~c);else{const d=c,g=r[++o],_=r[++o];vm(g,d),_(2,n[d])}}}finally{ra(-1)}}(e,n);const Oe=e.components;null!==Oe&&Tg(n,Oe,0);const Je=e.viewQuery;if(null!==Je&&k0(2,Je,o),ee){const st=e.viewCheckHooks;null!==st&&Vd(n,st)}else{const st=e.viewHooks;null!==st&&Kh(n,st,2),Ip(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Ad]){for(const st of n[Ad])st();n[Ad]=null}n[Kn]&=-73}catch(ee){throw ql(n),ee}finally{null!==k&&(q(k,D),_&&function Ly(e){e.lView[Ls]!==e&&(e.lView=null,hh.push(e))}(k)),Bn()}}function Uf(e,n){for(let r=Wm(e);null!==r;r=lf(r))for(let o=no;o<r.length;o++)ph(r[o],n)}function $f(e,n,r){ph(Cs(n,e),r)}function ph(e,n){Fc(e)&&Dg(e,n)}function Dg(e,n){const o=e[vn],c=e[Kn],d=e[Ls];let g=!!(0===n&&16&c);if(g||=!!(64&c&&0===n),g||=!!(1024&c),g||=!(!d?.dirty||!ve(d)),g||=!1,d&&(d.dirty=!1),e[Kn]&=-9217,g)Bf(o,e,o.template,e[Si]);else if(8192&c){Uf(e,1);const _=o.components;null!==_&&Tg(e,_,1)}}function Tg(e,n,r){for(let o=0;o<n.length;o++)$f(e,n[o],r)}function Vi(e,n){const r=_p()?64:1088;for(e[ga].changeDetectionScheduler?.notify(n);e;){e[Kn]|=r;const o=Fa(e);if(ll(e)&&!o)return e;e=o}return null}class jf{get rootNodes(){const n=this._lView,r=n[vn];return Vf(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Si]}set context(n){this._lView[Si]=n}get destroyed(){return!(256&~this._lView[Kn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ki];if(vo(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(wf(n,o),ua(r,o))}this._attachedToViewContainer=!1}pc(this._lView[vn],this._lView)}onDestroy(n){cc(this._lView,n)}markForCheck(){Vi(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Kn]&=-129}reattach(){fl(this._lView),this._lView[Kn]|=128}detectChanges(){this._lView[Kn]|=1024,mc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new cn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=ll(this._lView),r=this._lView[ma];null!==r&&!n&&cg(r,this._lView),gy(this._lView[vn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new cn(902,!1);this._appRef=n;const r=ll(this._lView),o=this._lView[ma];null!==o&&!r&&ag(o,this._lView),fl(this._lView)}}let Hf=(()=>{class e{static{this.__NG_ELEMENT_ID__=zy}}return e})();const jy=Hf,Hy=class extends jy{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const c=zc(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new jf(c)}};function zy(){return hd(di(),Xt())}function hd(e,n){return 4&e.type?new Hy(n,e,co(e,n)):null}let LD=()=>null;function Xf(e,n){return LD(e,n)}class Og{}const G0=new or("",{providedIn:"root",factory:()=>!1}),VD=new or(""),nI=new or("");class qS{}class BD{}class YS{resolveComponentFactory(n){throw function QS(e){const n=Error(`No component factory found for ${Br(e)}.`);return n.ngComponent=e,n}(n)}}class Jy{static{this.NULL=new YS}}class rI{}let ZS=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function JS(){const e=Xt(),r=Cs(di().index,e);return(po(r)?r:e)[Qn]}()}}return e})(),e1=(()=>{class e{static{this.\u0275prov=pr({token:e,providedIn:"root",factory:()=>null})}}return e})();function Ch(e){return!!pi(e)}function t_(e,n,r){let o=r?e.styles:null,c=r?e.classes:null,d=0;if(null!==n)for(let g=0;g<n.length;g++){const _=n[g];"number"==typeof _?d=_:1==d?c=ds(c,_):2==d&&(o=ds(o,_+": "+n[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=c:e.classesWithoutHost=c}class HD extends Jy{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Hn(n);return new X0(r,this.ngModule)}}function zD(e,n){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const c=e[o];if(void 0===c)continue;const d=Array.isArray(c),g=d?c[0]:c;r.push(n?{propName:g,templateName:o,isSignal:!!((d?c[1]:da.None)&da.SignalBased)}:{propName:g,templateName:o})}return r}class X0 extends BD{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=zD(n.inputs,!0);if(null!==r)for(const c of o)r.hasOwnProperty(c.propName)&&(c.transform=r[c.propName]);return o}get outputs(){return zD(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function S(e){return e.map(C).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,c){const d=ne(null);try{let g=(c=c||this.ngModule)instanceof es?c:c?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new vl(n,g):n,D=_.get(rI,null);if(null===D)throw new cn(407,!1);const Oe={rendererFactory:D,sanitizer:_.get(e1,null),inlineEffectRunner:null,changeDetectionScheduler:_.get(Og,null)},Je=D.createRenderer(null,this.componentDef),st=this.componentDef.selectors[0][0]||"div",Tt=o?function zs(e,n,r,o){const d=o.get(nd,!1)||r===Pa.ShadowDom,g=e.selectRootElement(n,d);return function Ay(e){ah(e)}(g),g}(Je,o,this.componentDef.encapsulation,_):lt(Je,st,function r1(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(st));let nn=512;this.componentDef.signals?nn|=4096:this.componentDef.onPush||(nn|=16);let An=null;null!==Tt&&(An=Qv(Tt,_,!0));const bn=ud(0,null,null,1,0,null,null,null,null,null,null),rn=Nf(null,bn,null,nn,null,null,Oe,Je,_,null,An);et(rn);let xr,ei,Bi=null;try{const Bo=this.componentDef;let $a,im=null;Bo.findHostDirectiveDefs?($a=[],im=new Map,Bo.findHostDirectiveDefs(Bo,$a,im),$a.push(Bo)):$a=[Bo];const yS=function o1(e,n){const r=e[vn],o=Un;return e[o]=n,hu(r,o,2,"#host",null)}(rn,Tt);Bi=function s1(e,n,r,o,c,d,g){const _=c[vn];!function a1(e,n,r,o){for(const c of e)n.mergedAttrs=si(n.mergedAttrs,c.hostAttrs);null!==n.mergedAttrs&&(t_(n,n.mergedAttrs,!0),null!==r&&_y(o,r,n))}(o,e,n,g);let D=null;null!==n&&(D=Qv(n,c[Mi]));const k=d.rendererFactory.createRenderer(n,r);let ee=16;r.signals?ee=4096:r.onPush&&(ee=64);const Oe=Nf(c,S0(r),null,ee,c[e.index],e,d,k,null,null,D);return _.firstCreatePass&&Ff(_,e,o.length-1),Ag(c,Oe),c[e.index]=Oe}(yS,Tt,Bo,$a,rn,Oe,Je),ei=Oc(bn,Un),Tt&&function l1(e,n,r,o){if(o)_s(e,r,["ng-version","18.2.5"]);else{const{attrs:c,classes:d}=function X(e){const n=[],r=[];let o=1,c=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===c?""!==d&&n.push(d,e[++o]):8===c&&r.push(d);else{if(!Es(c))break;c=d}o++}return{attrs:n,classes:r}}(n.selectors[0]);c&&_s(e,r,c),d&&d.length>0&&T0(e,r,d.join(" "))}}(Je,Bo,Tt,o),void 0!==r&&function u1(e,n,r){const o=e.projection=[];for(let c=0;c<n.length;c++){const d=r[c];o.push(null!=d?Array.from(d):null)}}(ei,this.ngContentSelectors,r),xr=function c1(e,n,r,o,c,d){const g=di(),_=c[vn],D=No(g,c);Eg(_,c,g,r,null,o);for(let ee=0;ee<r.length;ee++)As(yl(c,_,g.directiveStart+ee,g),c);Sy(_,c,g),D&&As(D,c);const k=yl(c,_,g.directiveStart+g.componentOffset,g);if(e[Si]=c[Si]=k,null!==d)for(const ee of d)ee(k,n);return Dl(_,g,c),k}(Bi,Bo,$a,im,rn,[d1]),uh(bn,rn,null)}catch(Bo){throw null!==Bi&&Hm(Bi),Hm(rn),Bo}finally{Bn()}return new i1(this.componentType,xr,co(ei,rn),rn,ei)}finally{ne(d)}}}class i1 extends qS{constructor(n,r,o,c,d){super(),this.location=o,this._rootLView=c,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new jf(c,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let c;if(null!==o&&(c=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const d=this._rootLView;lh(d[vn],d,c,n,r),this.previousInputValues.set(n,r),Vi(Cs(this._tNode.index,d),1)}}get injector(){return new Fo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function d1(){const e=di();ml(Xt()[vn],e)}let n_=(()=>{class e{static{this.__NG_ELEMENT_ID__=h1}}return e})();function h1(){return KD(di(),Xt())}const f1=n_,GD=class extends f1{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return co(this._hostTNode,this._hostLView)}get injector(){return new Fo(this._hostTNode,this._hostLView)}get parentInjector(){const n=Ud(this._hostTNode,this._hostLView);if(Dm(n)){const r=Xu(n,this._hostLView),o=Ku(n);return new Fo(r[vn].data[o+8],r)}return new Fo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=WD(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-no}createEmbeddedView(n,r,o){let c,d;"number"==typeof o?c=o:null!=o&&(c=o.index,d=o.injector);const g=Xf(this._lContainer,n.ssrId),_=n.createEmbeddedViewImpl(r||{},d,g);return this.insertImpl(_,c,gu(this._hostTNode,g)),_}createComponent(n,r,o,c,d){const g=n&&!function Oa(e){return"function"==typeof e}(n);let _;if(g)_=r;else{const Tt=r||{};_=Tt.index,o=Tt.injector,c=Tt.projectableNodes,d=Tt.environmentInjector||Tt.ngModuleRef}const D=g?n:new X0(Hn(n)),k=o||this.parentInjector;if(!d&&null==D.ngModule){const nn=(g?k:this.parentInjector).get(es,null);nn&&(d=nn)}const ee=Hn(D.componentType??{}),Oe=Xf(this._lContainer,ee?.id??null),st=D.create(k,c,Oe?.firstChild??null,d);return this.insertImpl(st.hostView,_,gu(this._hostTNode,Oe)),st}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const c=n._lView;if(function gm(e){return vo(e[Ki])}(c)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const D=c[Ki],k=new GD(D,D[Xi],D[Ki]);k.detach(k.indexOf(n))}}const d=this._adjustIndex(r),g=this._lContainer;return dh(g,c,d,o),n.attachToViewContainerRef(),Sl(sI(g),d,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=WD(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=wf(this._lContainer,r);o&&(ua(sI(this._lContainer),r),pc(o[vn],o))}detach(n){const r=this._adjustIndex(n,-1),o=wf(this._lContainer,r);return o&&null!=ua(sI(this._lContainer),r)?new jf(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function WD(e){return e[8]}function sI(e){return e[8]||(e[8]=[])}function KD(e,n){let r;const o=n[e.index];return vo(o)?r=o:(r=O0(o,n,null,e),n[e.index]=r,Ag(n,r)),XD(r,n,e,o),new GD(r,e,n)}let XD=function QD(e,n,r,o){if(e[va])return;let c;c=8&r.type?Lr(o):function p1(e,n){const r=e[Qn],o=r.createComment(""),c=No(n,e);return ad(r,rh(r,c),o,function I0(e,n){return e.nextSibling(n)}(r,c),!1),o}(n,r),e[va]=c},aI=()=>!1;class cI{constructor(n){this.queryList=n,this.matches=null}clone(){return new cI(this.queryList)}setDirty(){this.queryList.setDirty()}}class lI{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,c=[];for(let d=0;d<o;d++){const g=r.getByIndex(d);c.push(this.queries[g.indexInDeclarationView].clone())}return new lI(c)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==pI(n,r).matches&&this.queries[r].setDirty()}}class YD{constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function C1(e){return e.split(",").map(n=>n.trim())}(n):n}}class uI{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const c=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(n,c);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new uI(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class dI{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new dI(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let c=0;c<o.length;c++){const d=o[c];this.matchTNodeWithReadOption(n,r,y1(r,d)),this.matchTNodeWithReadOption(n,r,bp(r,n,d,!1,!1))}else o===Hf?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,bp(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const c=this.metadata.read;if(null!==c)if(c===Ei||c===n_||c===Hf&&4&r.type)this.addMatch(r.index,-2);else{const d=bp(r,n,c,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function y1(e,n){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function E1(e,n,r,o){return-1===r?function _1(e,n){return 11&e.type?co(e,n):4&e.type?hd(e,n):null}(n,e):-2===r?function I1(e,n,r){return r===Ei?co(n,e):r===Hf?hd(n,e):r===n_?KD(n,e):void 0}(e,n,o):yl(e,e[vn],r,n)}function ZD(e,n,r,o){const c=n[ta].queries[o];if(null===c.matches){const d=e.data,g=r.matches,_=[];for(let D=0;null!==g&&D<g.length;D+=2){const k=g[D];_.push(k<0?null:E1(n,d[k],g[D+1],r.metadata.read))}c.matches=_}return c.matches}function hI(e,n,r,o){const c=e.queries.getByIndex(r),d=c.matches;if(null!==d){const g=ZD(e,n,c,r);for(let _=0;_<d.length;_+=2){const D=d[_];if(D>0)o.push(g[_/2]);else{const k=d[_+1],ee=n[-D];for(let Oe=no;Oe<ee.length;Oe++){const Je=ee[Oe];Je[ma]===Je[Ki]&&hI(Je[vn],Je,k,o)}if(null!==ee[al]){const Oe=ee[al];for(let Je=0;Je<Oe.length;Je++){const st=Oe[Je];hI(st[vn],st,k,o)}}}}}return o}function JD(e,n,r){const o=new $m(!(4&~r));return function $E(e,n,r,o){const c=L0(n);c.push(r),e.firstCreatePass&&Py(e).push(o,c.length-1)}(e,n,o,o.destroy),(n[ta]??=new lI).queries.push(new cI(o))-1}function nT(e,n,r){null===e.queries&&(e.queries=new uI),e.queries.track(new dI(n,r))}function pI(e,n){return e.queries.getByIndex(n)}function rT(e,n){const r=e[vn],o=pI(r,n);return o.crossesNgTemplate?hI(r,e,n,[]):ZD(r,e,o,n)}const iT=new Set;function Da(e){iT.has(e)||(iT.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function sT(e,n){Da("NgSignals");const r=function j(e){const n=Object.create(We);n.value=e;const r=()=>(F(n),n.value);return r[ae]=n,r}(e),o=r[ae];return n?.equal&&(o.equal=n.equal),r.set=c=>ut(o,c),r.update=c=>function Fe(e,n){fe()||it(),ut(e,n(e.value))}(o,c),r.asReadonly=aT.bind(r),r}function aT(){const e=this[ae];if(void 0===e.readonlyFn){const n=()=>this();n[ae]=e,e.readonlyFn=n}return e.readonlyFn}function cT(e){return function oT(e){return"function"==typeof e&&void 0!==e[ae]}(e)&&"function"==typeof e.set}function mI(e){let n=function _T(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;n;){let c;if(Vs(e))c=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new cn(903,!1);c=n.\u0275dir}if(c){if(r){o.push(c);const g=e;g.inputs=i_(e.inputs),g.inputTransforms=i_(e.inputTransforms),g.declaredInputs=i_(e.declaredInputs),g.outputs=i_(e.outputs);const _=c.hostBindings;_&&L1(e,_);const D=c.viewQuery,k=c.contentQueries;if(D&&F1(e,D),k&&k1(e,k),N1(e,c),za(e.outputs,c.outputs),Vs(c)&&c.data.animation){const ee=e.data;ee.animation=(ee.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let g=0;g<d.length;g++){const _=d[g];_&&_.ngInherit&&_(e),_===mI&&(r=!1)}}n=Object.getPrototypeOf(n)}!function O1(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const c=e[o];c.hostVars=n+=c.hostVars,c.hostAttrs=si(c.hostAttrs,r=si(r,c.hostAttrs))}}(o)}function N1(e,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];if(void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const c=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(c))continue;e.inputTransforms??={},e.inputTransforms[c]=n.inputTransforms[c]}}}function i_(e){return e===Os?{}:e===er?[]:e}function F1(e,n){const r=e.viewQuery;e.viewQuery=r?(o,c)=>{n(o,c),r(o,c)}:n}function k1(e,n){const r=e.contentQueries;e.contentQueries=r?(o,c,d)=>{n(o,c,d),r(o,c,d)}:n}function L1(e,n){const r=e.hostBindings;e.hostBindings=r?(o,c)=>{n(o,c),r(o,c)}:n}function AT(e){const n=e.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const c=n[o];Array.isArray(c)&&c[3]&&(r[o]=c[3])}e.inputTransforms=r}class qf{}class DT{}function H1(e,n){return new vI(e,n??null,[])}class vI extends qf{constructor(n,r,o,c=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HD(this);const d=pi(n);this._bootstrapComponents=Ve(d.bootstrap),this._r3Injector=Rv(n,r,[{provide:qf,useValue:this},{provide:Jy,useValue:this.componentFactoryResolver},...o],Br(n),new Set(["environment"])),c&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class yI extends DT{constructor(n){super(),this.moduleType=n}create(n){return new vI(this.moduleType,n,[])}}class TT extends qf{constructor(n){super(),this.componentFactoryResolver=new HD(this),this.instance=null;const r=new Fl([...n.providers,{provide:qf,useValue:this},{provide:Jy,useValue:this.componentFactoryResolver}],n.parent||Ed(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function _I(e,n,r=null){return new TT({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function o_(e){return!!EI(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function EI(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function ko(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function Y0(e,n,r,o,c,d,g,_,D,k){const ee=r+Un,Oe=n.firstCreatePass?function q1(e,n,r,o,c,d,g,_,D){const k=n.consts,ee=hu(n,e,4,g||null,_||null);_g(n,r,ee,na(k,D)),ml(n,ee);const Oe=ee.tView=ud(2,ee,o,c,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,k,null);return null!==n.queries&&(n.queries.template(n,ee),Oe.queries=n.queries.embeddedTView(ee)),ee}(ee,n,e,o,c,d,g,_,D):n.data[ee];Bs(Oe,!1);const Je=xT(n,e,Oe,r);Lc()&&fg(n,e,Je,Oe),As(Je,e);const st=O0(Je,e,Je,Oe);return e[ee]=st,Ag(e,st),function qD(e,n,r){return aI(e,n,r)}(st,Oe,e),Td(Oe)&&mg(n,e,Oe),null!=D&&sh(e,Oe,k),Oe}function II(e,n,r,o,c,d,g,_){const D=Xt(),k=Ar();return Y0(D,k,e,n,r,o,c,na(k.consts,d),g,_),II}let xT=function bT(e,n,r,o){return $s(!0),n[Qn].createComment("")};var Vg=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Vg||{});let NT=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=pr({token:e,providedIn:"root",factory:()=>new e})}}return e})();class ev{constructor(){this.ngZone=dn(Hi),this.scheduler=dn(Og),this.errorHandler=dn(Uc,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Vg.EarlyRead,Vg.Write,Vg.MixedReadWrite,Vg.Read]}execute(){this.executing=!0;for(const n of ev.PHASES)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[n])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[n](r.pipelinedValue))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&this.sequences.delete(n);for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=pr({token:ev,providedIn:"root",factory:()=>new ev})}}class J1{constructor(n,r,o,c){this.impl=n,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=c.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function u_(e,n){!n?.injector&&function Mu(e){if(!kl())throw new cn(-203,!1)}();const r=n?.injector??dn(ns);return function nt(e){return"browser"===(e??dn(ns)).get(ff)}(r)?(Da("NgAfterNextRender"),function OT(e,n,r,o){const c=n.get(NT);c.impl??=n.get(ev);const g=new J1(c.impl,function tR(e,n){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,r?.phase??Vg.MixedReadWrite),o,n.get(Qu));return c.impl.register(g),g}(e,r,n,!0)):FT}const FT={destroy(){}};function PI(e,n,r,o){const c=Xt();return ko(c,Ca(),n)&&(Ar(),gc(hi(),c,e,n,r,o)),PI}function f_(e,n){return e<<17|n<<2}function Th(e){return e>>17&32767}function NI(e){return 2|e}function Zf(e){return(131068&e)>>2}function OI(e,n){return-131069&e|n<<2}function FI(e){return 1|e}function ax(e,n,r,o){const c=e[r+1],d=null===n;let g=o?Th(c):Zf(c),_=!1;for(;0!==g&&(!1===_||d);){const k=e[g+1];LR(e[g],n)&&(_=!0,e[g+1]=o?FI(k):NI(k)),g=o?Th(k):Zf(k)}_&&(e[r+1]=o?NI(c):FI(c))}function LR(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Ns(e,n)>=0}function kI(e,n,r){const o=Xt();return ko(o,Ca(),n)&&Ts(Ar(),hi(),o,e,n,o[Qn],r,!1),kI}function LI(e,n,r,o,c){const g=c?"class":"style";lh(e,r,n.inputs[g],g,o)}function VI(e,n){return function xl(e,n,r,o){const c=Xt(),d=Ar(),g=function Us(e){const n=mr.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}(2);d.firstUpdatePass&&function mx(e,n,r,o){const c=e.data;if(null===c[r+1]){const d=c[gi()],g=function gx(e,n){return n>=e.expandoStartIndex}(e,r);(function Ex(e,n){return!!(e.flags&(n?8:16))})(d,o)&&null===n&&!g&&(n=!1),n=function WR(e,n,r,o){const c=function h(e){const n=mr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let d=o?n.residualClasses:n.residualStyles;if(null===c)0===(o?n.classBindings:n.styleBindings)&&(r=nv(r=BI(null,e,n,r,o),n.attrs,o),d=null);else{const g=n.directiveStylingLast;if(-1===g||e[g]!==c)if(r=BI(c,e,n,r,o),null===d){let D=function KR(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==Zf(o))return e[Th(o)]}(e,n,o);void 0!==D&&Array.isArray(D)&&(D=BI(null,e,n,D[1],o),D=nv(D,n.attrs,o),function XR(e,n,r,o){e[Th(r?n.classBindings:n.styleBindings)]=o}(e,n,o,D))}else d=function qR(e,n,r){let o;const c=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<c;d++)o=nv(o,e[d].hostAttrs,r);return nv(o,n.attrs,r)}(e,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),r}(c,d,n,o),function FR(e,n,r,o,c,d){let g=d?n.classBindings:n.styleBindings,_=Th(g),D=Zf(g);e[o]=r;let ee,k=!1;if(Array.isArray(r)?(ee=r[1],(null===ee||Ns(r,ee)>0)&&(k=!0)):ee=r,c)if(0!==D){const Je=Th(e[_+1]);e[o+1]=f_(Je,_),0!==Je&&(e[Je+1]=OI(e[Je+1],o)),e[_+1]=function NR(e,n){return 131071&e|n<<17}(e[_+1],o)}else e[o+1]=f_(_,0),0!==_&&(e[_+1]=OI(e[_+1],o)),_=o;else e[o+1]=f_(D,0),0===_?_=o:e[D+1]=OI(e[D+1],o),D=o;k&&(e[o+1]=NI(e[o+1])),ax(e,ee,o,!0),ax(e,ee,o,!1),function kR(e,n,r,o,c){const d=c?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&Ns(d,n)>=0&&(r[o+1]=FI(r[o+1]))}(n,ee,e,o,d),g=f_(_,D),d?n.classBindings=g:n.styleBindings=g}(c,d,n,r,g,o)}}(d,e,g,o),n!==yr&&ko(c,g,n)&&function yx(e,n,r,o,c,d,g,_){if(!(3&n.type))return;const D=e.data,k=D[_+1],ee=function OR(e){return!(1&~e)}(k)?_x(D,n,r,c,Zf(k),g):void 0;p_(ee)||(p_(d)||function PR(e){return!(2&~e)}(k)&&(d=_x(D,null,r,c,_,g)),function pg(e,n,r,o,c){if(n)c?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:Nr.DashCase;null==c?e.removeStyle(r,o,d):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),d|=Nr.Important),e.setStyle(r,o,c,d))}}(o,g,sc(gi(),r),c,d))}(d,d.data[gi()],c,c[Qn],e,c[g+1]=function JR(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Br(cu(e)))),e}(n,r),o,g)}(e,n,null,!0),VI}function BI(e,n,r,o,c){let d=null;const g=r.directiveEnd;let _=r.directiveStylingLast;for(-1===_?_=r.directiveStart:_++;_<g&&(d=n[_],o=nv(o,d.hostAttrs,c),d!==e);)_++;return null!==e&&(r.directiveStylingLast=_),o}function nv(e,n,r){const o=r?1:2;let c=-1;if(null!==n)for(let d=0;d<n.length;d++){const g=n[d];"number"==typeof g?c=g:c===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Ro(e,g,!!r||n[++d]))}return void 0===e?null:e}function _x(e,n,r,o,c,d){const g=null===n;let _;for(;c>0;){const D=e[c],k=Array.isArray(D),ee=k?D[1]:D,Oe=null===ee;let Je=r[c+1];Je===yr&&(Je=Oe?er:void 0);let st=Oe?Mo(Je,o):ee===o?Je:void 0;if(k&&!p_(st)&&(st=Mo(D,o)),p_(st)&&(_=st,g))return _;const Tt=e[c+1];c=g?Th(Tt):Zf(Tt)}if(null!==n){let D=d?n.residualClasses:n.residualStyles;null!=D&&(_=Mo(D,o))}return _}function p_(e){return void 0!==e}function m_(e,n,r,o){const c=Xt(),d=Ar(),g=Un+e,_=c[Qn],D=d.firstCreatePass?function CM(e,n,r,o,c,d){const g=n.consts,D=hu(n,e,2,o,na(g,c));return _g(n,r,D,na(g,d)),null!==D.attrs&&t_(D,D.attrs,!1),null!==D.mergedAttrs&&t_(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(g,d,c,n,r,o):d.data[g],k=Dx(d,c,D,_,n,e);c[g]=k;const ee=Td(D);return Bs(D,!0),_y(_,k,D),!function kg(e){return!(32&~e.flags)}(D)&&Lc()&&fg(d,c,k,D),0===function kc(){return mr.lFrame.elementDepthCount}()&&As(k,c),function Bu(){mr.lFrame.elementDepthCount++}(),ee&&(mg(d,c,D),Dl(d,D,c)),null!==o&&sh(c,D),m_}function v_(){let e=di();Zl()?ju():(e=e.parent,Bs(e,!1));const n=e;(function mp(e){return mr.skipHydrationRootTNode===e})(n)&&function vp(){mr.skipHydrationRootTNode=null}(),function Uu(){mr.lFrame.elementDepthCount--}();const r=Ar();return r.firstCreatePass&&(ml(r,e),so(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function yv(e){return!!(8&e.flags)}(n)&&LI(r,n,Xt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Cm(e){return!!(16&e.flags)}(n)&&LI(r,n,Xt(),n.stylesWithoutHost,!1),v_}function HI(e,n,r,o){return m_(e,n,r,o),v_(),HI}let Dx=(e,n,r,o,c,d)=>($s(!0),lt(o,c,function Gu(){return mr.lFrame.currentNamespace}()));function y_(e,n,r){const o=Xt(),c=Ar(),d=e+Un,g=c.firstCreatePass?function TM(e,n,r,o,c){const d=n.consts,g=na(d,o),_=hu(n,e,8,"ng-container",g);return null!==g&&t_(_,g,!0),_g(n,r,_,na(d,c)),null!==n.queries&&n.queries.elementStart(n,_),_}(d,c,o,n,r):c.data[d];Bs(g,!0);const _=Tx(c,o,g,e);return o[d]=_,Lc()&&fg(c,o,_,g),As(_,o),Td(g)&&(mg(c,o,g),Dl(c,g,o)),null!=r&&sh(o,g),y_}function __(){let e=di();const n=Ar();return Zl()?ju():(e=e.parent,Bs(e,!1)),n.firstCreatePass&&(ml(n,e),so(e)&&n.queries.elementEnd(e)),__}function zI(e,n,r){return y_(e,n,r),__(),zI}let Tx=(e,n,r,o)=>($s(!0),kt(n[Qn],""));function xx(){return Xt()}const Jf=void 0;var SM=["en",[["a","p"],["AM","PM"],Jf],[["AM","PM"],Jf,Jf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jf,"{1} 'at' {0}",Jf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function wM(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let em={};function GI(e){const n=function RM(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=Rx(n);if(r)return r;const o=n.split("-")[0];if(r=Rx(o),r)return r;if("en"===o)return SM;throw new cn(701,!1)}function Sx(e){return GI(e)[tm.PluralCase]}function Rx(e){return e in em||(em[e]=bi.ng&&bi.ng.common&&bi.ng.common.locales&&bi.ng.common.locales[e]),em[e]}var tm=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(tm||{});const E_="en-US";let Mx=E_,qx=(e,n,r)=>{};function XI(e,n,r,o){const c=Xt(),d=Ar(),g=di();return qI(d,c,c[Qn],g,e,n,o),XI}function qI(e,n,r,o,c,d,g){const _=Td(o),k=e.firstCreatePass&&Py(e),ee=n[Si],Oe=L0(n);let Je=!0;if(3&o.type||g){const nn=No(o,n),An=g?g(nn):nn,bn=Oe.length,rn=g?ei=>g(Lr(ei[o.index])):o.index;let xr=null;if(!g&&_&&(xr=function yP(e,n,r,o){const c=e.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const g=c[d];if(g===r&&c[d+1]===o){const _=n[Is],D=c[d+2];return _.length>D?_[D]:null}"string"==typeof g&&(d+=2)}return null}(e,n,c,o.index)),null!==xr)(xr.__ngLastListenerFn__||xr).__ngNextListenerFn__=d,xr.__ngLastListenerFn__=d,Je=!1;else{d=Jx(o,n,ee,d),qx(nn,c,d);const ei=r.listen(An,c,d);Oe.push(d,ei),k&&k.push(c,rn,bn,bn+1)}}else d=Jx(o,n,ee,d);const st=o.outputs;let Tt;if(Je&&null!==st&&(Tt=st[c])){const nn=Tt.length;if(nn)for(let An=0;An<nn;An+=2){const Bi=n[Tt[An]][Tt[An+1]].subscribe(d),Bo=Oe.length;Oe.push(d,Bi),k&&k.push(c,o.index,Bo,-(Bo+1))}}}function Zx(e,n,r,o){const c=ne(null);try{return ya(6,n,r),!1!==r(o)}catch(d){return Va(e,d),!1}finally{ya(7,n,r),ne(c)}}function Jx(e,n,r,o){return function c(d){if(d===Function)return o;Vi(e.componentOffset>-1?Cs(e.index,n):n,5);let _=Zx(n,r,o,d),D=c.__ngNextListenerFn__;for(;D;)_=Zx(n,r,D,d)&&_,D=D.__ngNextListenerFn__;return _}}function eb(e=1){return function ji(e){return(mr.lFrame.contextLView=function $h(e,n){for(;e>0;)n=n[Nc],e--;return n}(e,mr.lFrame.contextLView))[Si]}(e)}function _P(e,n){let r=null;const o=function tp(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let c=0;c<n.length;c++){const d=n[c];if("*"!==d){if(null===o?vd(e,d,!0):I(o,d))return c}else r=c}return r}function tb(e){const n=Xt()[Li][Xi];if(!n.projection){const o=n.projection=function Za(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}(e?e.length:1,null),c=o.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const g=e?_P(d,e):0;null!==g&&(c[g]?c[g].projectionNext=d:o[g]=d,c[g]=d)}d=d.next}}}function nb(e,n=0,r,o,c,d){const g=Xt(),_=Ar(),D=o?e+1:null;null!==D&&Y0(g,_,D,o,c,d,null,r);const k=hu(_,Un+e,16,null,r||null);null===k.projection&&(k.projection=n),ju();const Oe=!g[Po]||_a();null===g[Li][Xi].projection[k.projection]&&null!==D?function EP(e,n,r){const o=Un+r,c=n.data[o],d=e[o],g=Xf(d,c.tView.ssrId);dh(d,zc(e,c,void 0,{dehydratedView:g}),0,gu(c,g))}(g,_,D):Oe&&32&~k.flags&&function D0(e,n,r){rs(n[Qn],0,n,r,E0(e,r,n),lg(r.parent||n[Xi],r,n))}(_,g,k)}function hb(e,n,r,o){!function tT(e,n,r,o){const c=Ar();if(c.firstCreatePass){const d=di();nT(c,new YD(n,r,o),d.index),function A1(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(c,e),!(2&~r)&&(c.staticContentQueries=!0)}return JD(c,Xt(),r)}(e,n,r,o)}function fb(e,n,r){!function eT(e,n,r){const o=Ar();return o.firstCreatePass&&(nT(o,new YD(e,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),JD(o,Xt(),n)}(e,n,r)}function pb(e){const n=Xt(),r=Ar(),o=p();E(o+1);const c=pI(r,o);if(e.dirty&&function Md(e){return!(4&~e[Kn])}(n)===!(2&~c.metadata.flags)){if(null===c.matches)e.reset([]);else{const d=rT(n,o);e.reset(d,dc),e.notifyOnChanges()}return!0}return!1}function gb(){return function fI(e,n){return e[ta].queries[n].queryList}(Xt(),p())}function mb(e){return function ac(e,n){return e[n]}(function Nd(){return mr.lFrame.contextLView}(),Un+e)}function xb(e,n=""){const r=Xt(),o=Ar(),c=e+Un,d=o.firstCreatePass?hu(o,c,1,n,null):o.data[c],g=bb(o,r,d,n,e);r[c]=g,Lc()&&fg(o,r,g,d),Bs(d,!1)}let bb=(e,n,r,o,c)=>($s(!0),function Dt(e,n){return e.createText(n)}(n[Qn],o));function D_(e,n,r){const o=Xt(),c=function Gg(e,n,r,o){return ko(e,Ca(),r)?n+En(r)+o:yr}(o,e,n,r);return c!==yr&&function Ba(e,n,r){const o=sc(n,e);!function wt(e,n,r){e.setValue(n,r)}(e[Qn],o,r)}(o,gi(),c),D_}function ZI(e,n,r){cT(n)&&(n=n());const o=Xt();return ko(o,Ca(),n)&&Ts(Ar(),hi(),o,e,n,o[Qn],r,!1),ZI}function Lb(e,n){const r=cT(e);return r&&e.set(n),r}function JI(e,n){const r=Xt(),o=Ar(),c=di();return qI(o,r,r[Qn],c,e,n),JI}function eC(e,n,r,o,c){if(e=jn(e),Array.isArray(e))for(let d=0;d<e.length;d++)eC(e[d],n,r,o,c);else{const d=Ar(),g=Xt(),_=di();let D=Sc(e)?e:jn(e.provide);const k=ea(e),ee=1048575&_.providerIndexes,Oe=_.directiveStart,Je=_.providerIndexes>>20;if(Sc(e)||!e.multi){const st=new Xh(k,c,du),Tt=nC(D,n,c?ee:ee+Je,Oe);-1===Tt?(Jl(Ap(_,g),d,D),tC(d,e,n.length),n.push(D),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),r.push(st),g.push(st)):(r[Tt]=st,g[Tt]=st)}else{const st=nC(D,n,ee+Je,Oe),Tt=nC(D,n,ee,ee+Je),An=Tt>=0&&r[Tt];if(c&&!An||!c&&!(st>=0&&r[st])){Jl(Ap(_,g),d,D);const bn=function UP(e,n,r,o,c){const d=new Xh(e,r,du);return d.multi=[],d.index=n,d.componentProviders=0,Ub(d,c,o&&!r),d}(c?BP:VP,r.length,c,o,k);!c&&An&&(r[Tt].providerFactory=bn),tC(d,e,n.length,0),n.push(D),_.directiveStart++,_.directiveEnd++,c&&(_.providerIndexes+=1048576),r.push(bn),g.push(bn)}else tC(d,e,st>-1?st:Tt,Ub(r[c?Tt:st],k,!c&&o));!c&&o&&An&&r[Tt].componentProviders++}}}function tC(e,n,r,o){const c=Sc(n),d=function _d(e){return!!e.useClass}(n);if(c||d){const D=(d?jn(n.useClass):n).prototype.ngOnDestroy;if(D){const k=e.destroyHooks||(e.destroyHooks=[]);if(!c&&n.multi){const ee=k.indexOf(r);-1===ee?k.push(r,[o,D]):k[ee+1].push(o,D)}else k.push(r,D)}}}function Ub(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function nC(e,n,r,o){for(let c=r;c<o;c++)if(n[c]===e)return c;return-1}function VP(e,n,r,o){return rC(this.multi,[])}function BP(e,n,r,o){const c=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=yl(r,r[vn],this.providerFactory.index,o);d=_.slice(0,g),rC(c,d);for(let D=g;D<_.length;D++)d.push(_[D])}else d=[],rC(c,d);return d}function rC(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function $b(e,n=[]){return r=>{r.providersResolver=(o,c)=>function LP(e,n,r){const o=Ar();if(o.firstCreatePass){const c=Vs(e);eC(r,o.data,o.blueprint,c,!0),eC(n,o.data,o.blueprint,c,!1)}}(o,c?c(e):e,n)}}let $P=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Js(0,r.type),c=o.length>0?_I([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,c)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=pr({token:e,providedIn:"environment",factory:()=>new e(lr(es))})}}return e})();function jb(e){Da("NgStandalone"),e.getStandaloneInjector=n=>n.get($P).getOrCreateStandaloneInjector(e)}class dw{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const RN=new dw("18.2.5");let hw=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const vw=new or(""),yw=new or("");let lC,nO=(()=>{class e{constructor(r,o,c){this._ngZone=r,this.registry=o,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,lC||(function rO(e){lC=e}(c),c.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,c){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),r()},o)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:c})}whenStable(r,o,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,c),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,c){return[]}static{this.\u0275fac=function(o){return new(o||e)(lr(Hi),lr(_w),lr(yw))}}static{this.\u0275prov=pr({token:e,factory:e.\u0275fac})}}return e})(),_w=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return lC?.findTestabilityInTree(this,r,o)??null}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function uC(e){return!!e&&"function"==typeof e.then}function Ew(e){return!!e&&"function"==typeof e.subscribe}const Iw=new or("");let Cw=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=dn(Iw,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const c of this.appInits){const d=c();if(uC(d))r.push(d);else if(Ew(d)){const g=new Promise((_,D)=>{d.subscribe({complete:_,error:D})});r.push(g)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(c=>{this.reject(c)}),0===r.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const S_=new or("");function Dw(e,n){return Array.isArray(n)?n.reduce(Dw,e):{...e,...n}}let Iu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=dn(kv),this.afterRenderManager=dn(NT),this.zonelessEnabled=dn(G0),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Gt.B,this.afterTick=new Gt.B,this.componentTypes=[],this.components=[],this.isStable=dn(_l).hasPendingTasks.pipe((0,Ln.T)(r=>!r)),this._injector=dn(es)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:c=>{c&&o()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,o){const c=r instanceof BD;if(!this._injector.get(Cw).done)throw!c&&mo(r),new cn(405,!1);let g;g=c?r:this._injector.get(Jy).resolveComponentFactory(r),this.componentTypes.push(g.componentType);const _=function iO(e){return e.isBoundToModule}(g)?void 0:this._injector.get(qf),k=g.create(ns.NULL,[],o||g.selector,_),ee=k.location.nativeElement,Oe=k.injector.get(vw,null);return Oe?.registerApplication(ee),k.onDestroy(()=>{this.detachView(k.hostView),R_(this.components,k),Oe?.unregisterApplication(ee)}),this._loadComponent(k),k}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new cn(101,!1);const r=ne(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,ne(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(rI,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;0!==this.dirtyFlags&&o++<10;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const o=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:c,notifyErrorHandler:d}of this._views)aO(c,d,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else r?.begin?.(),r?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>hl(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;R_(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(S_,[]);[...this._bootstrapListeners,...o].forEach(c=>c(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>R_(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new cn(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function R_(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function aO(e,n,r,o){(r||hl(e))&&mc(e,n,r&&!o?0:1)}class cO{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let lO=(()=>{class e{compileModuleSync(r){return new yI(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),d=Ve(pi(r).declarations).reduce((g,_)=>{const D=Hn(_);return D&&g.push(new X0(D)),g},[]);return new cO(o,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hO=(()=>{class e{constructor(){this.zone=dn(Hi),this.changeDetectionScheduler=dn(Og),this.applicationRef=dn(Iu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dC({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return e??=()=>new Hi({...hC(),scheduleInRootZone:r}),[{provide:Hi,useFactory:e},{provide:ys,multi:!0,useFactory:()=>{const o=dn(hO,{optional:!0});return()=>o.initialize()}},{provide:ys,multi:!0,useFactory:()=>{const o=dn(pO);return()=>{o.initialize()}}},!0===n?{provide:VD,useValue:!0}:[],{provide:nI,useValue:r??Mm}]}function hC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let pO=(()=>{class e{constructor(){this.subscription=new Ht.yU,this.initialized=!1,this.zone=dn(Hi),this.pendingTasks=dn(_l)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Hi.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Hi.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),hv=(()=>{class e{constructor(){this.appRef=dn(Iu),this.taskService=dn(_l),this.ngZone=dn(Hi),this.zonelessEnabled=dn(G0),this.disableScheduling=dn(VD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ht.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(kp):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(dn(nI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof km||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const o=this.useMicrotaskScheduler?Yu:Nm;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(kp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Yu(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const pC=new or("",{providedIn:"root",factory:()=>dn(pC,Cr.Optional|Cr.SkipSelf)||function gO(){return typeof $localize<"u"&&$localize.locale||E_}()}),mO=new or("",{providedIn:"root",factory:()=>"USD"}),gC=new or("");function P_(e){return!!e.platformInjector}let Mw=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const c=o?.scheduleInRootZone,g=o?.ignoreChangesOutsideZone,_=[dC({ngZoneFactory:()=>function Vm(e="zone.js",n){return"noop"===e?new km:"zone.js"===e?new Hi(n):e}(o?.ngZone,{...hC({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}),scheduleInRootZone:c}),ignoreChangesOutsideZone:g}),{provide:Og,useExisting:hv}],D=function z1(e,n,r){return new vI(e,n,r,!1)}(r.moduleType,this.injector,_);return function Rw(e){const n=P_(e)?e.r3Injector:e.moduleRef.injector,r=n.get(Hi);return r.run(()=>{P_(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(Uc,null);let c;if(r.runOutsideAngular(()=>{c=r.onError.subscribe({next:d=>{o.handleError(d)}})}),P_(e)){const d=()=>n.destroy(),g=e.platformInjector.get(gC);g.add(d),n.onDestroy(()=>{c.unsubscribe(),g.delete(d)})}else e.moduleRef.onDestroy(()=>{R_(e.allPlatformModules,e.moduleRef),c.unsubscribe()});return function sO(e,n,r){try{const o=r();return uC(o)?o.catch(c=>{throw n.runOutsideAngular(()=>e.handleError(c)),c}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=n.get(Cw);return d.runInitializers(),d.donePromise.then(()=>{if(function OM(e){"string"==typeof e&&(Mx=e.toLowerCase().replace(/_/g,"-"))}(n.get(pC,E_)||E_),P_(e)){const _=n.get(Iu);return void 0!==e.rootComponent&&_.bootstrap(e.rootComponent),_}return function IO(e,n){const r=e.injector.get(Iu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new cn(-403,!1);e.instance.ngDoBootstrap(r)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:D,allPlatformModules:this._modules})}bootstrapModule(r,o=[]){const c=Dw({},o);return function dO(e,n,r){const o=new yI(r);return Promise.resolve(o)}(0,0,r).then(d=>this.bootstrapModuleFactory(d,c))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new cn(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(gC,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(o){return new(o||e)(lr(ns))}}static{this.\u0275prov=pr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),xh=null;const Pw=new or("");function Nw(e,n,r=[]){const o=`Platform: ${n}`,c=new or(o);return(d=[])=>{let g=mC();if(!g||g.injector.get(Pw,!1)){const _=[...r,...d,{provide:c,useValue:!0}];e?e(_):function CO(e){if(xh&&!xh.get(Pw,!1))throw new cn(400,!1);(function Aw(){!function Me(e){jt=e}(()=>{throw new cn(600,!1)})})(),xh=e;const n=e.get(Mw);(function Fw(e){e.get(hf,null)?.forEach(r=>r())})(e)}(function Ow(e=[],n){return ns.create({name:n,providers:[{provide:ol,useValue:"platform"},{provide:gC,useValue:new Set([()=>xh=null])},...e]})}(_,o))}return function AO(){const n=mC();if(!n)throw new cn(401,!1);return n}()}}function mC(){return xh?.get(Mw)??null}function TO(){return!1}let Lw=(()=>{class e{static{this.__NG_ELEMENT_ID__=xO}}return e})();function xO(e){return function bO(e,n,r){if(cl(e)&&!r){const o=Cs(e.index,n);return new jf(o,o)}return 175&e.type?new jf(n[Li],n):null}(di(),Xt(),!(16&~e))}class $w{constructor(){}supports(n){return o_(n)}create(n){return new PO(n)}}const MO=(e,n)=>n;class PO{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||MO}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,c=0,d=null;for(;r||o;){const g=!o||r&&r.currentIndex<Hw(o,c,d)?r:o,_=Hw(g,c,d),D=g.currentIndex;if(g===o)c--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)c++;else{d||(d=[]);const k=_-c,ee=D-c;if(k!=ee){for(let Je=0;Je<k;Je++){const st=Je<d.length?d[Je]:d[Je]=0,Tt=st+Je;ee<=Tt&&Tt<k&&(d[Je]=st+1)}d[g.previousIndex]=ee-k}}_!==D&&n(g,_,D)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!o_(n))throw new cn(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let c,d,g,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)d=n[_],g=this._trackByFn(_,d),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,d,g,_)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,g,_),o=!0),r=r._next}else c=0,function K1(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,_=>{g=this._trackByFn(c,_),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,_,g,c)),Object.is(r.item,_)||this._addIdentityChange(r,_)):(r=this._mismatch(r,_,g,c),o=!0),r=r._next,c++}),this.length=c;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,c){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,d,c)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,c))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,d,c)):n=this._addAfter(new NO(r,o),d,c),n}_verifyReinsertion(n,r,o,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,c):n.currentIndex!=c&&(n.currentIndex=c,this._addToMoves(n,c)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const c=n._prevRemoved,d=n._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const c=null===r?this._itHead:r._next;return n._next=c,n._prev=r,null===c?this._itTail=n:c._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new jw),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jw),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class NO{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OO{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class jw{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new OO,this.map.set(r,o)),o.add(n)}get(n,r){const c=this.map.get(n);return c?c.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Hw(e,n,r){const o=e.previousIndex;if(null===o)return o;let c=0;return r&&o<r.length&&(c=r[o]),o+n+c}class zw{constructor(){}supports(n){return n instanceof Map||EI(n)}create(){return new FO}}class FO{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||EI(n)))throw new cn(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,c)=>{if(r&&r.key===c)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(c,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const c=this._records.get(n);this._maybeAddToChanges(c,r);const d=c._prev,g=c._next;return d&&(d._next=g),g&&(g._prev=d),c._next=null,c._prev=null,c}const o=new kO(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class kO{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gw(){return new IC([new $w])}let IC=(()=>{class e{static{this.\u0275prov=pr({token:e,providedIn:"root",factory:Gw})}constructor(r){this.factories=r}static create(r,o){if(null!=o){const c=o.factories.slice();r=r.concat(c)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||Gw()),deps:[[e,new Jo,new ho]]}}find(r){const o=this.factories.find(c=>c.supports(r));if(null!=o)return o;throw new cn(901,!1)}}return e})();function Ww(){return new CC([new zw])}let CC=(()=>{class e{static{this.\u0275prov=pr({token:e,providedIn:"root",factory:Ww})}constructor(r){this.factories=r}static create(r,o){if(o){const c=o.factories.slice();r=r.concat(c)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||Ww()),deps:[[e,new Jo,new ho]]}}find(r){const o=this.factories.find(c=>c.supports(r));if(o)return o;throw new cn(901,!1)}}return e})();const BO=Nw(null,"core",[]);let UO=(()=>{class e{constructor(r){}static{this.\u0275fac=function(o){return new(o||e)(lr(Iu))}}static{this.\u0275mod=At({type:e})}static{this.\u0275inj=Jr({})}}return e})();const cS=new or("");function vF(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function _F(e,n){Da("NgSignals");const r=function Ye(e){const n=Object.create(Et);n.computation=e;const r=()=>{if(z(n),F(n),n.value===ht)throw n.error;return n.value};return r[ae]=n,r}(e);return n?.equal&&(r[ae].equal=n.equal),r}function EF(e){const n=ne(null);try{return e()}finally{ne(n)}}function xF(e,n){const r=Hn(e),o=n.elementInjector||Ed();return new X0(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function bF(e){const n=Hn(e);if(!n)return null;const r=new X0(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1182:(St,Ke,b)=>{"use strict";b.d(Ke,{DS:()=>Ce,X8:()=>ut,$z:()=>Me,UB:()=>j,yy:()=>jt,ZP:()=>it,AU:()=>V,CP:()=>xt,gF:()=>Z}),b(7955);var x=b(177),te=b(3953),B=b(1825),ae=b(9253),ne=b(1413),ge=b(7673),G=b(1985),de=b(8455),ie=b(6365),F=b(8750),ue=b(983),z=b(3794),fe=b(941),xe=b(5558),De=b(6354),q=b(6129);class ve extends ne.B{constructor(ft=1/0,We=1/0,en=q.U){super(),this._bufferSize=ft,this._windowTime=We,this._timestampProvider=en,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=We===1/0,this._bufferSize=Math.max(1,ft),this._windowTime=Math.max(1,We)}next(ft){const{isStopped:We,_buffer:en,_infiniteTimeWindow:Ot,_timestampProvider:gt,_windowTime:Jt}=this;We||(en.push(ft),!Ot&&en.push(gt.now()+Jt)),this._trimBuffer(),super.next(ft)}_subscribe(ft){this._throwIfClosed(),this._trimBuffer();const We=this._innerSubscribe(ft),{_infiniteTimeWindow:en,_buffer:Ot}=this,gt=Ot.slice();for(let Jt=0;Jt<gt.length&&!ft.closed;Jt+=en?1:2)ft.next(gt[Jt]);return this._checkFinalizedStatuses(ft),We}_trimBuffer(){const{_bufferSize:ft,_timestampProvider:We,_buffer:en,_infiniteTimeWindow:Ot}=this,gt=(Ot?1:2)*ft;if(ft<1/0&&gt<en.length&&en.splice(0,en.length-gt),!Ot){const Jt=We.now();let yn=0;for(let fn=1;fn<en.length&&en[fn]<=Jt;fn+=2)yn=fn;yn&&en.splice(0,yn+1)}}}var W=b(7707),we=b(9974);function oe(Fe,ft,...We){if(!0===ft)return void Fe();if(!1===ft)return;const en=new W.Ms({next:()=>{en.unsubscribe(),Fe()}});return(0,F.Tg)(ft(...We)).subscribe(en)}function Se(Fe,ft,We){let en,Ot=!1;return Fe&&"object"==typeof Fe?({bufferSize:en=1/0,windowTime:ft=1/0,refCount:Ot=!1,scheduler:We}=Fe):en=Fe??1/0,function ce(Fe={}){const{connector:ft=()=>new ne.B,resetOnError:We=!0,resetOnComplete:en=!0,resetOnRefCountZero:Ot=!0}=Fe;return gt=>{let Jt,yn,fn,Gt=0,Ht=!1,Ln=!1;const Bt=()=>{yn?.unsubscribe(),yn=void 0},He=()=>{Bt(),Jt=fn=void 0,Ht=Ln=!1},ze=()=>{const _t=Jt;He(),_t?.unsubscribe()};return(0,we.N)((_t,Zt)=>{Gt++,!Ln&&!Ht&&Bt();const In=fn=fn??ft();Zt.add(()=>{Gt--,0===Gt&&!Ln&&!Ht&&(yn=oe(ze,Ot))}),In.subscribe(Zt),!Jt&&Gt>0&&(Jt=new W.Ms({next:tr=>In.next(tr),error:tr=>{Ln=!0,Bt(),yn=oe(He,We,tr),In.error(tr)},complete:()=>{Ht=!0,Bt(),yn=oe(He,en),In.complete()}}),(0,F.Tg)(_t).subscribe(Jt))})(gt)}}({connector:()=>new ve(en,ft,We),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Ot})}var Le=b(1594),Re=b(8071);function Ye(Fe,ft){return(0,Re.T)(ft)?(0,xe.n)(()=>Fe,ft):(0,xe.n)(()=>Fe)}var Ie=b(6745),rt=b(5964),ht=b(7935);const xt=new te.nKC("angularfire2.auth.use-emulator"),jt=new te.nKC("angularfire2.auth.settings"),it=new te.nKC("angularfire2.auth.tenant-id"),Me=new te.nKC("angularfire2.auth.langugage-code"),V=new te.nKC("angularfire2.auth.use-device-language"),j=new te.nKC("angularfire.auth.persistence"),Z=(Fe,ft,We,en,Ot,gt,Jt,yn)=>(0,ae.BM)(`${Fe.name}.auth`,"AngularFireAuth",Fe.name,()=>{const fn=ft.runOutsideAngular(()=>Fe.auth());if(We&&fn.useEmulator(...We),en&&(fn.tenantId=en),fn.languageCode=Ot,gt&&fn.useDeviceLanguage(),Jt)for(const[Gt,Ht]of Object.entries(Jt))fn.settings[Gt]=Ht;return yn&&fn.setPersistence(yn),fn},[We,en,Ot,gt,Jt,yn]);let Ce=(()=>{class Fe{authState;idToken;user;idTokenResult;credential;constructor(We,en,Ot,gt,Jt,yn,fn,Gt,Ht,Ln,Bt,He){const ze=new ne.B,_t=(0,ge.of)(void 0).pipe((0,fe.Q)(Jt.outsideAngular),(0,xe.n)(()=>gt.runOutsideAngular(()=>Promise.resolve().then(b.bind(b,7955)))),(0,De.T)(()=>(0,ae.iB)(We,gt,en)),(0,De.T)(Zt=>Z(Zt,gt,yn,Gt,Ht,Ln,fn,Bt)),Se({bufferSize:1,refCount:!1}));if((0,x.Vy)(Ot))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,ge.of)(null);else{_t.pipe((0,Le.$)()).subscribe();const Zt=_t.pipe((0,xe.n)(Sn=>Sn.getRedirectResult().then(mn=>mn,()=>null)),B.U0,Se({bufferSize:1,refCount:!1})),In=_t.pipe((0,xe.n)(Sn=>new G.c(mn=>({unsubscribe:gt.runOutsideAngular(()=>Sn.onAuthStateChanged(Ut=>mn.next(Ut),Ut=>mn.error(Ut),()=>mn.complete()))})))),tr=_t.pipe((0,xe.n)(Sn=>new G.c(mn=>({unsubscribe:gt.runOutsideAngular(()=>Sn.onIdTokenChanged(Ut=>mn.next(Ut),Ut=>mn.error(Ut),()=>mn.complete()))}))));this.authState=Zt.pipe(Ye(In),(0,Ie._)(Jt.outsideAngular),(0,fe.Q)(Jt.insideAngular)),this.user=Zt.pipe(Ye(tr),(0,Ie._)(Jt.outsideAngular),(0,fe.Q)(Jt.insideAngular)),this.idToken=this.user.pipe((0,xe.n)(Sn=>Sn?(0,de.H)(Sn.getIdToken()):(0,ge.of)(null))),this.idTokenResult=this.user.pipe((0,xe.n)(Sn=>Sn?(0,de.H)(Sn.getIdTokenResult()):(0,ge.of)(null))),this.credential=function le(...Fe){const ft=(0,z.lI)(Fe),We=(0,z.R0)(Fe,1/0),en=Fe;return en.length?1===en.length?(0,F.Tg)(en[0]):(0,ie.U)(We)((0,de.H)(en,ft)):ue.w}(Zt,ze,this.authState.pipe((0,rt.p)(Sn=>!Sn))).pipe((0,De.T)(Sn=>Sn?.user?Sn:null),(0,Ie._)(Jt.outsideAngular),(0,fe.Q)(Jt.insideAngular))}return(0,ae.Gt)(this,_t,gt,{spy:{apply:(Zt,In,tr)=>{(Zt.startsWith("signIn")||Zt.startsWith("createUser"))&&tr.then(Sn=>ze.next(Sn))}}})}static \u0275fac=function(en){return new(en||Fe)(te.KVO(ae.rx),te.KVO(ae.uP,8),te.KVO(te.Agw),te.KVO(te.SKi),te.KVO(B.u0),te.KVO(xt,8),te.KVO(jt,8),te.KVO(it,8),te.KVO(Me,8),te.KVO(V,8),te.KVO(j,8),te.KVO(B.Jv,8))};static \u0275prov=te.jDH({token:Fe,factory:Fe.\u0275fac,providedIn:"any"})}return Fe})(),ut=(()=>{class Fe{constructor(){ht.A.registerVersion("angularfire",B.xv.full,"auth-compat")}static \u0275fac=function(en){return new(en||Fe)};static \u0275mod=te.$C({type:Fe});static \u0275inj=te.G2t({providers:[Ce]})}return Fe})()},8079:(St,Ke,b)=>{"use strict";b.d(Ke,{Qe:()=>VE,cM:()=>TD});var a=b(177),x=b(3953),te=b(1825),B=b(9253),ae=b(1182),ne=b(3236),ge=b(1985),G=b(8455),de=b(7673),ie=b(9172),F=b(9974),ue=b(4360);function z(){return(0,F.N)((l,t)=>{let i,s=!1;l.subscribe((0,ue._)(t,u=>{const f=i;i=u,s&&t.next([f,u]),s=!0}))})}var Ye,Ie,le=b(6354),fe=b(2816),xe=b(3294),De=b(5964),ve=(b(7955),b(3345)),W=b(467),we=b(7852),ce=b(1362),oe=b(8041),Se=b(1076),Le=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Re={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(It,tt,dt){dt||(dt=0);var Dt=Array(16);if("string"==typeof tt)for(var wt=0;16>wt;++wt)Dt[wt]=tt.charCodeAt(dt++)|tt.charCodeAt(dt++)<<8|tt.charCodeAt(dt++)<<16|tt.charCodeAt(dt++)<<24;else for(wt=0;16>wt;++wt)Dt[wt]=tt[dt++]|tt[dt++]<<8|tt[dt++]<<16|tt[dt++]<<24;var kt=It.g[3],lt=(tt=It.g[0])+(kt^(dt=It.g[1])&((wt=It.g[2])^kt))+Dt[0]+3614090360&4294967295;lt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=(dt=(wt=(kt=(tt=dt+(lt<<7&4294967295|lt>>>25))+((lt=kt+(wt^tt&(dt^wt))+Dt[1]+3905402710&4294967295)<<12&4294967295|lt>>>20))+((lt=wt+(dt^kt&(tt^dt))+Dt[2]+606105819&4294967295)<<17&4294967295|lt>>>15))+((lt=dt+(tt^wt&(kt^tt))+Dt[3]+3250441966&4294967295)<<22&4294967295|lt>>>10))+((lt=tt+(kt^dt&(wt^kt))+Dt[4]+4118548399&4294967295)<<7&4294967295|lt>>>25))+((lt=kt+(wt^tt&(dt^wt))+Dt[5]+1200080426&4294967295)<<12&4294967295|lt>>>20))+((lt=wt+(dt^kt&(tt^dt))+Dt[6]+2821735955&4294967295)<<17&4294967295|lt>>>15))+((lt=dt+(tt^wt&(kt^tt))+Dt[7]+4249261313&4294967295)<<22&4294967295|lt>>>10))+((lt=tt+(kt^dt&(wt^kt))+Dt[8]+1770035416&4294967295)<<7&4294967295|lt>>>25))+((lt=kt+(wt^tt&(dt^wt))+Dt[9]+2336552879&4294967295)<<12&4294967295|lt>>>20))+((lt=wt+(dt^kt&(tt^dt))+Dt[10]+4294925233&4294967295)<<17&4294967295|lt>>>15))+((lt=dt+(tt^wt&(kt^tt))+Dt[11]+2304563134&4294967295)<<22&4294967295|lt>>>10))+((lt=tt+(kt^dt&(wt^kt))+Dt[12]+1804603682&4294967295)<<7&4294967295|lt>>>25))+((lt=kt+(wt^tt&(dt^wt))+Dt[13]+4254626195&4294967295)<<12&4294967295|lt>>>20))+((lt=wt+(dt^kt&(tt^dt))+Dt[14]+2792965006&4294967295)<<17&4294967295|lt>>>15))+((lt=dt+(tt^wt&(kt^tt))+Dt[15]+1236535329&4294967295)<<22&4294967295|lt>>>10))+((lt=tt+(wt^kt&(dt^wt))+Dt[1]+4129170786&4294967295)<<5&4294967295|lt>>>27))+((lt=kt+(dt^wt&(tt^dt))+Dt[6]+3225465664&4294967295)<<9&4294967295|lt>>>23))+((lt=wt+(tt^dt&(kt^tt))+Dt[11]+643717713&4294967295)<<14&4294967295|lt>>>18))+((lt=dt+(kt^tt&(wt^kt))+Dt[0]+3921069994&4294967295)<<20&4294967295|lt>>>12))+((lt=tt+(wt^kt&(dt^wt))+Dt[5]+3593408605&4294967295)<<5&4294967295|lt>>>27))+((lt=kt+(dt^wt&(tt^dt))+Dt[10]+38016083&4294967295)<<9&4294967295|lt>>>23))+((lt=wt+(tt^dt&(kt^tt))+Dt[15]+3634488961&4294967295)<<14&4294967295|lt>>>18))+((lt=dt+(kt^tt&(wt^kt))+Dt[4]+3889429448&4294967295)<<20&4294967295|lt>>>12))+((lt=tt+(wt^kt&(dt^wt))+Dt[9]+568446438&4294967295)<<5&4294967295|lt>>>27))+((lt=kt+(dt^wt&(tt^dt))+Dt[14]+3275163606&4294967295)<<9&4294967295|lt>>>23))+((lt=wt+(tt^dt&(kt^tt))+Dt[3]+4107603335&4294967295)<<14&4294967295|lt>>>18))+((lt=dt+(kt^tt&(wt^kt))+Dt[8]+1163531501&4294967295)<<20&4294967295|lt>>>12))+((lt=tt+(wt^kt&(dt^wt))+Dt[13]+2850285829&4294967295)<<5&4294967295|lt>>>27))+((lt=kt+(dt^wt&(tt^dt))+Dt[2]+4243563512&4294967295)<<9&4294967295|lt>>>23))+((lt=wt+(tt^dt&(kt^tt))+Dt[7]+1735328473&4294967295)<<14&4294967295|lt>>>18))+((lt=dt+(kt^tt&(wt^kt))+Dt[12]+2368359562&4294967295)<<20&4294967295|lt>>>12))+((lt=tt+(dt^wt^kt)+Dt[5]+4294588738&4294967295)<<4&4294967295|lt>>>28))+((lt=kt+(tt^dt^wt)+Dt[8]+2272392833&4294967295)<<11&4294967295|lt>>>21))+((lt=wt+(kt^tt^dt)+Dt[11]+1839030562&4294967295)<<16&4294967295|lt>>>16))+((lt=dt+(wt^kt^tt)+Dt[14]+4259657740&4294967295)<<23&4294967295|lt>>>9))+((lt=tt+(dt^wt^kt)+Dt[1]+2763975236&4294967295)<<4&4294967295|lt>>>28))+((lt=kt+(tt^dt^wt)+Dt[4]+1272893353&4294967295)<<11&4294967295|lt>>>21))+((lt=wt+(kt^tt^dt)+Dt[7]+4139469664&4294967295)<<16&4294967295|lt>>>16))+((lt=dt+(wt^kt^tt)+Dt[10]+3200236656&4294967295)<<23&4294967295|lt>>>9))+((lt=tt+(dt^wt^kt)+Dt[13]+681279174&4294967295)<<4&4294967295|lt>>>28))+((lt=kt+(tt^dt^wt)+Dt[0]+3936430074&4294967295)<<11&4294967295|lt>>>21))+((lt=wt+(kt^tt^dt)+Dt[3]+3572445317&4294967295)<<16&4294967295|lt>>>16))+((lt=dt+(wt^kt^tt)+Dt[6]+76029189&4294967295)<<23&4294967295|lt>>>9))+((lt=tt+(dt^wt^kt)+Dt[9]+3654602809&4294967295)<<4&4294967295|lt>>>28))+((lt=kt+(tt^dt^wt)+Dt[12]+3873151461&4294967295)<<11&4294967295|lt>>>21))+((lt=wt+(kt^tt^dt)+Dt[15]+530742520&4294967295)<<16&4294967295|lt>>>16))+((lt=dt+(wt^kt^tt)+Dt[2]+3299628645&4294967295)<<23&4294967295|lt>>>9))+((lt=tt+(wt^(dt|~kt))+Dt[0]+4096336452&4294967295)<<6&4294967295|lt>>>26))+((lt=kt+(dt^(tt|~wt))+Dt[7]+1126891415&4294967295)<<10&4294967295|lt>>>22))+((lt=wt+(tt^(kt|~dt))+Dt[14]+2878612391&4294967295)<<15&4294967295|lt>>>17))+((lt=dt+(kt^(wt|~tt))+Dt[5]+4237533241&4294967295)<<21&4294967295|lt>>>11))+((lt=tt+(wt^(dt|~kt))+Dt[12]+1700485571&4294967295)<<6&4294967295|lt>>>26))+((lt=kt+(dt^(tt|~wt))+Dt[3]+2399980690&4294967295)<<10&4294967295|lt>>>22))+((lt=wt+(tt^(kt|~dt))+Dt[10]+4293915773&4294967295)<<15&4294967295|lt>>>17))+((lt=dt+(kt^(wt|~tt))+Dt[1]+2240044497&4294967295)<<21&4294967295|lt>>>11))+((lt=tt+(wt^(dt|~kt))+Dt[8]+1873313359&4294967295)<<6&4294967295|lt>>>26))+((lt=kt+(dt^(tt|~wt))+Dt[15]+4264355552&4294967295)<<10&4294967295|lt>>>22))+((lt=wt+(tt^(kt|~dt))+Dt[6]+2734768916&4294967295)<<15&4294967295|lt>>>17))+((lt=dt+(kt^(wt|~tt))+Dt[13]+1309151649&4294967295)<<21&4294967295|lt>>>11))+((kt=(tt=dt+((lt=tt+(wt^(dt|~kt))+Dt[4]+4149444226&4294967295)<<6&4294967295|lt>>>26))+((lt=kt+(dt^(tt|~wt))+Dt[11]+3174756917&4294967295)<<10&4294967295|lt>>>22))^((wt=kt+((lt=wt+(tt^(kt|~dt))+Dt[2]+718787259&4294967295)<<15&4294967295|lt>>>17))|~tt))+Dt[9]+3951481745&4294967295,It.g[0]=It.g[0]+tt&4294967295,It.g[1]=It.g[1]+(wt+(lt<<21&4294967295|lt>>>11))&4294967295,It.g[2]=It.g[2]+wt&4294967295,It.g[3]=It.g[3]+kt&4294967295}function v(It,tt){this.h=tt;for(var dt=[],Dt=!0,wt=It.length-1;0<=wt;wt--){var kt=0|It[wt];Dt&&kt==tt||(dt[wt]=kt,Dt=!1)}this.g=dt}(function t(It,tt){function dt(){}dt.prototype=tt.prototype,It.D=tt.prototype,It.prototype=new dt,It.prototype.constructor=It,It.C=function(Dt,wt,kt){for(var lt=Array(arguments.length-2),Al=2;Al<arguments.length;Al++)lt[Al-2]=arguments[Al];return tt.prototype[wt].apply(Dt,lt)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(It,tt){void 0===tt&&(tt=It.length);for(var dt=tt-this.blockSize,Dt=this.B,wt=this.h,kt=0;kt<tt;){if(0==wt)for(;kt<=dt;)u(this,It,kt),kt+=this.blockSize;if("string"==typeof It){for(;kt<tt;)if(Dt[wt++]=It.charCodeAt(kt++),wt==this.blockSize){u(this,Dt),wt=0;break}}else for(;kt<tt;)if(Dt[wt++]=It[kt++],wt==this.blockSize){u(this,Dt),wt=0;break}}this.h=wt,this.o+=tt},s.prototype.v=function(){var It=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);It[0]=128;for(var tt=1;tt<It.length-8;++tt)It[tt]=0;var dt=8*this.o;for(tt=It.length-8;tt<It.length;++tt)It[tt]=255&dt,dt/=256;for(this.u(It),It=Array(16),tt=dt=0;4>tt;++tt)for(var Dt=0;32>Dt;Dt+=8)It[dt++]=this.g[tt]>>>Dt&255;return It};var A={};function M(It){return-128<=It&&128>It?function f(It,tt){var dt=A;return Object.prototype.hasOwnProperty.call(dt,It)?dt[It]:dt[It]=tt(It)}(It,function(tt){return new v([0|tt],0>tt?-1:0)}):new v([0|It],0>It?-1:0)}function Q(It){if(isNaN(It)||!isFinite(It))return Ve;if(0>It)return hn(Q(-It));for(var tt=[],dt=1,Dt=0;It>=dt;Dt++)tt[Dt]=It/dt|0,dt*=4294967296;return new v(tt,0)}var Ve=M(0),nt=M(1),Pt=M(16777216);function on(It){if(0!=It.h)return!1;for(var tt=0;tt<It.g.length;tt++)if(0!=It.g[tt])return!1;return!0}function gn(It){return-1==It.h}function hn(It){for(var tt=It.g.length,dt=[],Dt=0;Dt<tt;Dt++)dt[Dt]=~It.g[Dt];return new v(dt,~It.h).add(nt)}function Gn(It,tt){return It.add(hn(tt))}function Yn(It,tt){for(;(65535&It[tt])!=It[tt];)It[tt+1]+=It[tt]>>>16,It[tt]&=65535,tt++}function zn(It,tt){this.g=It,this.h=tt}function _r(It,tt){if(on(tt))throw Error("division by zero");if(on(It))return new zn(Ve,Ve);if(gn(It))return tt=_r(hn(It),tt),new zn(hn(tt.g),hn(tt.h));if(gn(tt))return tt=_r(It,hn(tt)),new zn(hn(tt.g),tt.h);if(30<It.g.length){if(gn(It)||gn(tt))throw Error("slowDivide_ only works with positive integers.");for(var dt=nt,Dt=tt;0>=Dt.l(It);)dt=Nr(dt),Dt=Nr(Dt);var wt=Tr(dt,1),kt=Tr(Dt,1);for(Dt=Tr(Dt,2),dt=Tr(dt,2);!on(Dt);){var lt=kt.add(Dt);0>=lt.l(It)&&(wt=wt.add(dt),kt=lt),Dt=Tr(Dt,1),dt=Tr(dt,1)}return tt=Gn(It,wt.j(tt)),new zn(wt,tt)}for(wt=Ve;0<=It.l(tt);){for(dt=Math.max(1,Math.floor(It.m()/tt.m())),Dt=48>=(Dt=Math.ceil(Math.log(dt)/Math.LN2))?1:Math.pow(2,Dt-48),lt=(kt=Q(dt)).j(tt);gn(lt)||0<lt.l(It);)lt=(kt=Q(dt-=Dt)).j(tt);on(kt)&&(kt=nt),wt=wt.add(kt),It=Gn(It,lt)}return new zn(wt,It)}function Nr(It){for(var tt=It.g.length+1,dt=[],Dt=0;Dt<tt;Dt++)dt[Dt]=It.i(Dt)<<1|It.i(Dt-1)>>>31;return new v(dt,It.h)}function Tr(It,tt){var dt=tt>>5;tt%=32;for(var Dt=It.g.length-dt,wt=[],kt=0;kt<Dt;kt++)wt[kt]=0<tt?It.i(kt+dt)>>>tt|It.i(kt+dt+1)<<32-tt:It.i(kt+dt);return new v(wt,It.h)}(l=v.prototype).m=function(){if(gn(this))return-hn(this).m();for(var It=0,tt=1,dt=0;dt<this.g.length;dt++){var Dt=this.i(dt);It+=(0<=Dt?Dt:4294967296+Dt)*tt,tt*=4294967296}return It},l.toString=function(It){if(2>(It=It||10)||36<It)throw Error("radix out of range: "+It);if(on(this))return"0";if(gn(this))return"-"+hn(this).toString(It);for(var tt=Q(Math.pow(It,6)),dt=this,Dt="";;){var wt=_r(dt,tt).g,kt=((0<(dt=Gn(dt,wt.j(tt))).g.length?dt.g[0]:dt.h)>>>0).toString(It);if(on(dt=wt))return kt+Dt;for(;6>kt.length;)kt="0"+kt;Dt=kt+Dt}},l.i=function(It){return 0>It?0:It<this.g.length?this.g[It]:this.h},l.l=function(It){return gn(It=Gn(this,It))?-1:on(It)?0:1},l.abs=function(){return gn(this)?hn(this):this},l.add=function(It){for(var tt=Math.max(this.g.length,It.g.length),dt=[],Dt=0,wt=0;wt<=tt;wt++){var kt=Dt+(65535&this.i(wt))+(65535&It.i(wt)),lt=(kt>>>16)+(this.i(wt)>>>16)+(It.i(wt)>>>16);Dt=lt>>>16,dt[wt]=(lt&=65535)<<16|(kt&=65535)}return new v(dt,-2147483648&dt[dt.length-1]?-1:0)},l.j=function(It){if(on(this)||on(It))return Ve;if(gn(this))return gn(It)?hn(this).j(hn(It)):hn(hn(this).j(It));if(gn(It))return hn(this.j(hn(It)));if(0>this.l(Pt)&&0>It.l(Pt))return Q(this.m()*It.m());for(var tt=this.g.length+It.g.length,dt=[],Dt=0;Dt<2*tt;Dt++)dt[Dt]=0;for(Dt=0;Dt<this.g.length;Dt++)for(var wt=0;wt<It.g.length;wt++){var kt=this.i(Dt)>>>16,lt=65535&this.i(Dt),Al=It.i(wt)>>>16,Tf=65535&It.i(wt);dt[2*Dt+2*wt]+=lt*Tf,Yn(dt,2*Dt+2*wt),dt[2*Dt+2*wt+1]+=kt*Tf,Yn(dt,2*Dt+2*wt+1),dt[2*Dt+2*wt+1]+=lt*Al,Yn(dt,2*Dt+2*wt+1),dt[2*Dt+2*wt+2]+=kt*Al,Yn(dt,2*Dt+2*wt+2)}for(Dt=0;Dt<tt;Dt++)dt[Dt]=dt[2*Dt+1]<<16|dt[2*Dt];for(Dt=tt;Dt<2*tt;Dt++)dt[Dt]=0;return new v(dt,0)},l.A=function(It){return _r(this,It).h},l.and=function(It){for(var tt=Math.max(this.g.length,It.g.length),dt=[],Dt=0;Dt<tt;Dt++)dt[Dt]=this.i(Dt)&It.i(Dt);return new v(dt,this.h&It.h)},l.or=function(It){for(var tt=Math.max(this.g.length,It.g.length),dt=[],Dt=0;Dt<tt;Dt++)dt[Dt]=this.i(Dt)|It.i(Dt);return new v(dt,this.h|It.h)},l.xor=function(It){for(var tt=Math.max(this.g.length,It.g.length),dt=[],Dt=0;Dt<tt;Dt++)dt[Dt]=this.i(Dt)^It.i(Dt);return new v(dt,this.h^It.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Ie=Re.Md5=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=Q,v.fromString=function Ae(It,tt){if(0==It.length)throw Error("number format error: empty string");if(2>(tt=tt||10)||36<tt)throw Error("radix out of range: "+tt);if("-"==It.charAt(0))return hn(Ae(It.substring(1),tt));if(0<=It.indexOf("-"))throw Error('number format error: interior "-" character');for(var dt=Q(Math.pow(tt,8)),Dt=Ve,wt=0;wt<It.length;wt+=8){var kt=Math.min(8,It.length-wt),lt=parseInt(It.substring(wt,wt+kt),tt);8>kt?(kt=Q(Math.pow(tt,kt)),Dt=Dt.j(kt).add(Q(lt))):Dt=(Dt=Dt.j(dt)).add(Q(lt))}return Dt},Ye=Re.Integer=v}).apply(typeof Le<"u"?Le:typeof self<"u"?self:typeof window<"u"?window:{});var Et,xt,jt,it,Me,V,j,Z,Ce,rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ht={};(function(){var l,t="function"==typeof Object.defineProperties?Object.defineProperty:function(m,N,re){return m==Array.prototype||m==Object.prototype||(m[N]=re.value),m},s=function i(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof rt&&rt];for(var N=0;N<m.length;++N){var re=m[N];if(re&&re.Math==Math)return re}throw Error("Cannot find global object")}(this);!function u(m,N){if(N)e:{var re=s;m=m.split(".");for(var ke=0;ke<m.length-1;ke++){var Nt=m[ke];if(!(Nt in re))break e;re=re[Nt]}(N=N(ke=re[m=m[m.length-1]]))!=ke&&null!=N&&t(re,m,{configurable:!0,writable:!0,value:N})}}("Array.prototype.values",function(m){return m||function(){return function f(m,N){m instanceof String&&(m+="");var re=0,ke=!1,Nt={next:function(){if(!ke&&re<m.length){var Kt=re++;return{value:N(Kt,m[Kt]),done:!1}}return ke=!0,{done:!0,value:void 0}}};return Nt[Symbol.iterator]=function(){return Nt},Nt}(this,function(N,re){return re})}});var v=v||{},A=this||self;function M(m){var N=typeof m;return"array"==(N="object"!=N?N:m?Array.isArray(m)?"array":N:"null")||"object"==N&&"number"==typeof m.length}function Q(m){var N=typeof m;return"object"==N&&null!=m||"function"==N}function Ae(m,N,re){return m.call.apply(m.bind,arguments)}function Ve(m,N,re){if(!m)throw Error();if(2<arguments.length){var ke=Array.prototype.slice.call(arguments,2);return function(){var Nt=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Nt,ke),m.apply(N,Nt)}}return function(){return m.apply(N,arguments)}}function nt(m,N,re){return(nt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ae:Ve).apply(null,arguments)}function Pt(m,N){var re=Array.prototype.slice.call(arguments,1);return function(){var ke=re.slice();return ke.push.apply(ke,arguments),m.apply(this,ke)}}function on(m,N){function re(){}re.prototype=N.prototype,m.aa=N.prototype,m.prototype=new re,m.prototype.constructor=m,m.Qb=function(ke,Nt,Kt){for(var Rn=Array(arguments.length-2),Ii=2;Ii<arguments.length;Ii++)Rn[Ii-2]=arguments[Ii];return N.prototype[Nt].apply(ke,Rn)}}function gn(m){const N=m.length;if(0<N){const re=Array(N);for(let ke=0;ke<N;ke++)re[ke]=m[ke];return re}return[]}function hn(m,N){for(let re=1;re<arguments.length;re++){const ke=arguments[re];if(M(ke)){const Nt=m.length||0,Kt=ke.length||0;m.length=Nt+Kt;for(let Rn=0;Rn<Kt;Rn++)m[Nt+Rn]=ke[Rn]}else m.push(ke)}}function Yn(m){return/^[\s\xa0]*$/.test(m)}function zn(){var m=A.navigator;return m&&(m=m.userAgent)?m:""}function _r(m){return _r[" "](m),m}_r[" "]=function(){};var Nr=!(-1==zn().indexOf("Gecko")||-1!=zn().toLowerCase().indexOf("webkit")&&-1==zn().indexOf("Edge")||-1!=zn().indexOf("Trident")||-1!=zn().indexOf("MSIE")||-1!=zn().indexOf("Edge"));function Tr(m,N,re){for(const ke in m)N.call(re,m[ke],ke,m)}function tt(m){const N={};for(const re in m)N[re]=m[re];return N}const dt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Dt(m,N){let re,ke;for(let Nt=1;Nt<arguments.length;Nt++){for(re in ke=arguments[Nt],ke)m[re]=ke[re];for(let Kt=0;Kt<dt.length;Kt++)re=dt[Kt],Object.prototype.hasOwnProperty.call(ke,re)&&(m[re]=ke[re])}}function wt(m){var N=1;m=m.split(":");const re=[];for(;0<N&&m.length;)re.push(m.shift()),N--;return m.length&&re.push(m.join(":")),re}function kt(m){A.setTimeout(()=>{throw m},0)}function lt(){var m=ag;let N=null;return m.g&&(N=m.g,m.g=m.g.next,m.g||(m.h=null),N.next=null),N}var Tf=new class Gn{constructor(N,re){this.i=N,this.j=re,this.h=0,this.g=null}get(){let N;return 0<this.h?(this.h--,N=this.g,this.g=N.next,N.next=null):N=this.i(),N}}(()=>new gy,m=>m.reset());class gy{constructor(){this.next=this.g=this.h=null}set(N,re){this.h=N,this.g=re,this.next=null}reset(){this.next=this.g=this.h=null}}let xf,bf=!1,ag=new class Al{constructor(){this.h=this.g=null}add(N,re){const ke=Tf.get();ke.set(N,re),this.h?this.h.next=ke:this.g=ke,this.h=ke}},cg=()=>{const m=A.Promise.resolve(void 0);xf=()=>{m.then(wf)}};var wf=()=>{for(var m;m=lt();){try{m.h.call(m.g)}catch(re){kt(re)}var N=Tf;N.j(m),100>N.h&&(N.h++,m.next=N.g,N.g=m)}bf=!1};function pc(){this.s=this.s,this.C=this.C}function Xo(m,N){this.type=m,this.g=this.target=N,this.defaultPrevented=!1}pc.prototype.s=!1,pc.prototype.ma=function(){this.s||(this.s=!0,this.N())},pc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Xo.prototype.h=function(){this.defaultPrevented=!0};var BE=function(){if(!A.addEventListener||!Object.defineProperty)return!1;var m=!1,N=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const re=()=>{};A.addEventListener("test",re,N),A.removeEventListener("test",re,N)}catch{}return m}();function Sf(m,N){if(Xo.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var re=this.type=m.type,ke=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=N,N=m.relatedTarget){if(Nr){e:{try{_r(N.nodeName);var Nt=!0;break e}catch{}Nt=!1}Nt||(N=null)}}else"mouseover"==re?N=m.fromElement:"mouseout"==re&&(N=m.toElement);this.relatedTarget=N,ke?(this.clientX=void 0!==ke.clientX?ke.clientX:ke.pageX,this.clientY=void 0!==ke.clientY?ke.clientY:ke.pageY,this.screenX=ke.screenX||0,this.screenY=ke.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:E0[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Sf.aa.h.call(this)}}on(Sf,Xo);var E0={2:"touch",3:"pen",4:"mouse"};Sf.prototype.h=function(){Sf.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var nh="closure_listenable_"+(1e6*Math.random()|0),ad=0;function my(m,N,re,ke,Nt){this.listener=m,this.proxy=null,this.src=N,this.type=re,this.capture=!!ke,this.ha=Nt,this.key=++ad,this.da=this.fa=!1}function Rf(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function rh(m){this.src=m,this.g={},this.h=0}function I0(m,N){var re=N.type;if(re in m.g){var Kt,ke=m.g[re],Nt=Array.prototype.indexOf.call(ke,N,void 0);(Kt=0<=Nt)&&Array.prototype.splice.call(ke,Nt,1),Kt&&(Rf(N),0==m.g[re].length&&(delete m.g[re],m.h--))}}function lg(m,N,re,ke){for(var Nt=0;Nt<m.length;++Nt){var Kt=m[Nt];if(!Kt.da&&Kt.listener==N&&Kt.capture==!!re&&Kt.ha==ke)return Nt}return-1}rh.prototype.add=function(m,N,re,ke,Nt){var Kt=m.toString();(m=this.g[Kt])||(m=this.g[Kt]=[],this.h++);var Rn=lg(m,N,ke,Nt);return-1<Rn?(N=m[Rn],re||(N.fa=!1)):((N=new my(N,this.src,Kt,!!ke,Nt)).fa=re,m.push(N)),N};var ug="closure_lm_"+(1e6*Math.random()|0),dg={};function hg(m,N,re,ke,Nt){if(ke&&ke.once)return uu(m,N,re,ke,Nt);if(Array.isArray(N)){for(var Kt=0;Kt<N.length;Kt++)hg(m,N[Kt],re,ke,Nt);return null}return re=D0(re),m&&m[nh]?m.K(N,re,Q(ke)?!!ke.capture:!!ke,Nt):C0(m,N,re,!1,ke,Nt)}function C0(m,N,re,ke,Nt,Kt){if(!N)throw Error("Invalid event type");var Rn=Q(Nt)?!!Nt.capture:!!Nt,Ii=Pf(m);if(Ii||(m[ug]=Ii=new rh(m)),(re=Ii.add(N,re,ke,Rn,Kt)).proxy)return re;if(ke=function fg(){const N=vy;return function m(re){return N.call(m.src,m.listener,re)}}(),re.proxy=ke,ke.src=m,ke.listener=re,m.addEventListener)BE||(Nt=Rn),void 0===Nt&&(Nt=!1),m.addEventListener(N.toString(),ke,Nt);else if(m.attachEvent)m.attachEvent(ih(N.toString()),ke);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(ke)}return re}function uu(m,N,re,ke,Nt){if(Array.isArray(N)){for(var Kt=0;Kt<N.length;Kt++)uu(m,N[Kt],re,ke,Nt);return null}return re=D0(re),m&&m[nh]?m.L(N,re,Q(ke)?!!ke.capture:!!ke,Nt):C0(m,N,re,!0,ke,Nt)}function A0(m,N,re,ke,Nt){if(Array.isArray(N))for(var Kt=0;Kt<N.length;Kt++)A0(m,N[Kt],re,ke,Nt);else ke=Q(ke)?!!ke.capture:!!ke,re=D0(re),m&&m[nh]?(m=m.i,(N=String(N).toString())in m.g&&-1<(re=lg(Kt=m.g[N],re,ke,Nt))&&(Rf(Kt[re]),Array.prototype.splice.call(Kt,re,1),0==Kt.length&&(delete m.g[N],m.h--))):m&&(m=Pf(m))&&(N=m.g[N.toString()],m=-1,N&&(m=lg(N,re,ke,Nt)),(re=-1<m?N[m]:null)&&Mf(re))}function Mf(m){if("number"!=typeof m&&m&&!m.da){var N=m.src;if(N&&N[nh])I0(N.i,m);else{var re=m.type,ke=m.proxy;N.removeEventListener?N.removeEventListener(re,ke,m.capture):N.detachEvent?N.detachEvent(ih(re),ke):N.addListener&&N.removeListener&&N.removeListener(ke),(re=Pf(N))?(I0(re,m),0==re.h&&(re.src=null,N[ug]=null)):Rf(m)}}}function ih(m){return m in dg?dg[m]:dg[m]="on"+m}function vy(m,N){if(m.da)m=!0;else{N=new Sf(N,this);var re=m.listener,ke=m.ha||m.src;m.fa&&Mf(m),m=re.call(ke,N)}return m}function Pf(m){return(m=m[ug])instanceof rh?m:null}var oh="__closure_events_fn_"+(1e9*Math.random()>>>0);function D0(m){return"function"==typeof m?m:(m[oh]||(m[oh]=function(N){return m.handleEvent(N)}),m[oh])}function rs(){pc.call(this),this.i=new rh(this),this.M=this,this.F=null}function Hs(m,N){var re,ke=m.F;if(ke)for(re=[];ke;ke=ke.F)re.push(ke);if(m=m.M,ke=N.type||N,"string"==typeof N)N=new Xo(N,m);else if(N instanceof Xo)N.target=N.target||m;else{var Nt=N;Dt(N=new Xo(ke,m),Nt)}if(Nt=!0,re)for(var Kt=re.length-1;0<=Kt;Kt--){var Rn=N.g=re[Kt];Nt=pg(Rn,ke,!0,N)&&Nt}if(Nt=pg(Rn=N.g=m,ke,!0,N)&&Nt,Nt=pg(Rn,ke,!1,N)&&Nt,re)for(Kt=0;Kt<re.length;Kt++)Nt=pg(Rn=N.g=re[Kt],ke,!1,N)&&Nt}function pg(m,N,re,ke){if(!(N=m.i.g[String(N)]))return!0;N=N.concat();for(var Nt=!0,Kt=0;Kt<N.length;++Kt){var Rn=N[Kt];if(Rn&&!Rn.da&&Rn.capture==re){var Ii=Rn.listener,Eo=Rn.ha||Rn.src;Rn.fa&&I0(m.i,Rn),Nt=!1!==Ii.call(Eo,ke)&&Nt}}return Nt&&!ke.defaultPrevented}function yy(m,N,re){if("function"==typeof m)re&&(m=nt(m,re));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=nt(m.handleEvent,m)}return 2147483647<Number(N)?-1:A.setTimeout(m,N||0)}function T0(m){m.g=yy(()=>{m.g=null,m.i&&(m.i=!1,T0(m))},m.l);const N=m.h;m.h=null,m.m.apply(null,N)}on(rs,pc),rs.prototype[nh]=!0,rs.prototype.removeEventListener=function(m,N,re,ke){A0(this,m,N,re,ke)},rs.prototype.N=function(){if(rs.aa.N.call(this),this.i){var N,m=this.i;for(N in m.g){for(var re=m.g[N],ke=0;ke<re.length;ke++)Rf(re[ke]);delete m.g[N],m.h--}}this.F=null},rs.prototype.K=function(m,N,re,ke){return this.i.add(String(m),N,!1,re,ke)},rs.prototype.L=function(m,N,re,ke){return this.i.add(String(m),N,!0,re,ke)};class _y extends pc{constructor(N,re){super(),this.m=N,this.l=re,this.h=null,this.i=!1,this.g=null}j(N){this.h=arguments,this.g?this.i=!0:T0(this)}N(){super.N(),this.g&&(A.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(m){pc.call(this),this.h=m,this.g={}}on(yr,pc);var x0=[];function b0(m){Tr(m.g,function(N,re){this.g.hasOwnProperty(re)&&Mf(N)},m),m.g={}}yr.prototype.N=function(){yr.aa.N.call(this),b0(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var du=A.JSON.stringify,Ey=A.JSON.parse,Iy=class{stringify(m){return A.JSON.stringify(m,void 0)}parse(m){return A.JSON.parse(m,void 0)}};function w0(){}function hu(){}w0.prototype.h=null;var cd={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ld(){Xo.call(this,"d")}function gg(){Xo.call(this,"c")}on(ld,Xo),on(gg,Xo);var Dl={},mg=null;function sh(){return mg=mg||new rs}function S0(m){Xo.call(this,Dl.La,m)}function ud(m){const N=sh();Hs(N,new S0(N))}function Cy(m,N){Xo.call(this,Dl.STAT_EVENT,m),this.stat=N}function zs(m){const N=sh();Hs(N,new Cy(N,m))}function Ay(m,N){Xo.call(this,Dl.Ma,m),this.size=N}function ah(m,N){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return A.setTimeout(function(){m()},N)}function Of(){this.g=!0}function ch(m,N,re,ke){m.info(function(){return"XMLHTTP TEXT ("+N+"): "+function Ty(m,N){if(!m.g)return N;if(!N)return null;try{var re=JSON.parse(N);if(re)for(m=0;m<re.length;m++)if(Array.isArray(re[m])){var ke=re[m];if(!(2>ke.length)){var Nt=ke[1];if(Array.isArray(Nt)&&!(1>Nt.length)){var Kt=Nt[0];if("noop"!=Kt&&"stop"!=Kt&&"close"!=Kt)for(var Rn=1;Rn<Nt.length;Rn++)Nt[Rn]=""}}}return du(re)}catch{return N}}(m,re)+(ke?" "+ke:"")})}Dl.La="serverreachability",on(S0,Xo),Dl.STAT_EVENT="statevent",on(Cy,Xo),Dl.Ma="timingevent",on(Ay,Xo),Of.prototype.xa=function(){this.g=!1},Of.prototype.info=function(){};var Ts,vg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xy={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function yg(){}function fu(m,N,re,ke){this.j=m,this.i=N,this.l=re,this.R=ke||1,this.U=new yr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jE}function jE(){this.i=null,this.g="",this.h=!1}on(yg,w0),yg.prototype.g=function(){return new XMLHttpRequest},yg.prototype.i=function(){return{}},Ts=new yg;var _g={},Eg={};function R0(m,N,re){m.L=1,m.v=uh(Va(N)),m.m=re,m.P=!0,by(m,null)}function by(m,N){m.F=Date.now(),Ig(m),m.A=Va(m.v);var re=m.A,ke=m.R;Array.isArray(ke)||(ke=[String(ke)]),Vy(re.i,"t",ke),m.C=0,re=m.j.J,m.h=new jE,m.g=$0(m.j,re?N:null,!m.m),0<m.O&&(m.M=new _y(nt(m.Y,m,m.g),m.O)),N=m.U,re=m.g,ke=m.ca;var Nt="readystatechange";Array.isArray(Nt)||(Nt&&(x0[0]=Nt.toString()),Nt=x0);for(var Kt=0;Kt<Nt.length;Kt++){var Rn=hg(re,Nt[Kt],ke||N.handleEvent,!1,N.h||N);if(!Rn)break;N.g[Rn.key]=Rn}N=m.H?tt(m.H):{},m.m?(m.u||(m.u="POST"),N["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,N)):(m.u="GET",m.g.ea(m.A,m.u,null,N)),ud(),function UE(m,N,re,ke,Nt,Kt){m.info(function(){if(m.g)if(Kt)for(var Rn="",Ii=Kt.split("&"),Eo=0;Eo<Ii.length;Eo++){var ai=Ii[Eo].split("=");if(1<ai.length){var xs=ai[0];ai=ai[1];var bs=xs.split("_");Rn=2<=bs.length&&"type"==bs[1]?Rn+(xs+"=")+ai+"&":Rn+(xs+"=redacted&")}}else Rn=null;else Rn=Kt;return"XMLHTTP REQ ("+ke+") [attempt "+Nt+"]: "+N+"\n"+re+"\n"+Rn})}(m.i,m.u,m.A,m.l,m.R,m.m)}function wy(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function Sy(m,N){var re=m.C,ke=N.indexOf("\n",re);return-1==ke?Eg:(re=Number(N.substring(re,ke)),isNaN(re)?_g:(ke+=1)+re>N.length?Eg:(N=N.slice(ke,ke+re),m.C=ke+re,N))}function Ig(m){m.S=Date.now()+m.I,Ry(m,m.I)}function Ry(m,N){if(null!=m.B)throw Error("WatchDog timer not null");m.B=ah(nt(m.ba,m),N)}function Ff(m){m.B&&(A.clearTimeout(m.B),m.B=null)}function kf(m){0==m.j.G||m.J||Xy(m.j,m)}function dd(m){Ff(m);var N=m.M;N&&"function"==typeof N.ma&&N.ma(),m.M=null,b0(m.U),m.g&&(N=m.g,m.g=null,N.abort(),N.ma())}function M0(m,N){try{var re=m.j;if(0!=re.G&&(re.g==m||P0(re.h,m)))if(!m.K&&P0(re.h,m)&&3==re.G){try{var ke=re.Da.g.parse(N)}catch{ke=null}if(Array.isArray(ke)&&3==ke.length){var Nt=ke;if(0==Nt[0]){e:if(!re.u){if(re.g){if(!(re.g.F+3e3<m.F))break e;Gf(re),bg(re)}mh(re),zs(18)}}else re.za=Nt[1],0<re.za-re.T&&37500>Nt[2]&&re.F&&0==re.v&&!re.C&&(re.C=ah(nt(re.Za,re),6e3));if(1>=Cg(re.h)&&re.ca){try{re.ca()}catch{}re.ca=void 0}}else vu(re,11)}else if((m.K||re.g==m)&&Gf(re),!Yn(N))for(Nt=re.Da.g.parse(N),N=0;N<Nt.length;N++){let ai=Nt[N];if(re.T=ai[0],ai=ai[1],2==re.G)if("c"==ai[0]){re.K=ai[1],re.ia=ai[2];const xs=ai[3];null!=xs&&(re.la=xs,re.j.info("VER="+re.la));const bs=ai[4];null!=bs&&(re.Aa=bs,re.j.info("SVER="+re.Aa));const Ih=ai[5];null!=Ih&&"number"==typeof Ih&&0<Ih&&(re.L=ke=1.5*Ih,re.j.info("backChannelRequestTimeoutMs_="+ke)),ke=re;const vc=m.g;if(vc){const Pg=vc.g?vc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Pg){var Kt=ke.h;Kt.g||-1==Pg.indexOf("spdy")&&-1==Pg.indexOf("quic")&&-1==Pg.indexOf("h2")||(Kt.j=Kt.l,Kt.g=new Set,Kt.h&&(N0(Kt,Kt.h),Kt.h=null))}if(ke.D){const Wf=vc.g?vc.g.getResponseHeader("X-HTTP-Session-Id"):null;Wf&&(ke.ya=Wf,zi(ke.I,ke.D,Wf))}}re.G=3,re.l&&re.l.ua(),re.ba&&(re.R=Date.now()-m.F,re.j.info("Handshake RTT: "+re.R+"ms"));var Rn=m;if((ke=re).qa=U0(ke,ke.J?ke.ia:null,ke.W),Rn.K){O0(ke.h,Rn);var Ii=Rn,Eo=ke.L;Eo&&(Ii.I=Eo),Ii.B&&(Ff(Ii),Ig(Ii)),ke.g=Rn}else Sg(ke);0<re.i.length&&wg(re)}else"stop"!=ai[0]&&"close"!=ai[0]||vu(re,7);else 3==re.G&&("stop"==ai[0]||"close"==ai[0]?"stop"==ai[0]?vu(re,7):Wy(re):"noop"!=ai[0]&&re.l&&re.l.ta(ai),re.v=0)}ud()}catch{}}fu.prototype.ca=function(m){m=m.target;const N=this.M;N&&3==Tl(m)?N.j():this.Y(m)},fu.prototype.Y=function(m){try{if(m==this.g)e:{const bs=Tl(this.g);var N=this.g.Ba();if(this.g.Z(),!(3>bs)&&(3!=bs||this.g&&(this.h.h||this.g.oa()||XE(this.g)))){this.J||4!=bs||7==N||ud(),Ff(this);var re=this.g.Z();this.X=re;t:if(wy(this)){var ke=XE(this.g);m="";var Nt=ke.length,Kt=4==Tl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){dd(this),kf(this);var Rn="";break t}this.h.i=new A.TextDecoder}for(N=0;N<Nt;N++)this.h.h=!0,m+=this.h.i.decode(ke[N],{stream:!(Kt&&N==Nt-1)});ke.length=0,this.h.g+=m,this.C=0,Rn=this.h.g}else Rn=this.g.oa();if(this.o=200==re,function $E(m,N,re,ke,Nt,Kt,Rn){m.info(function(){return"XMLHTTP RESP ("+ke+") [ attempt "+Nt+"]: "+N+"\n"+re+"\n"+Kt+" "+Rn})}(this.i,this.u,this.A,this.l,this.R,bs,re),this.o){if(this.T&&!this.K){t:{if(this.g){var Ii,Eo=this.g;if((Ii=Eo.g?Eo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yn(Ii)){var ai=Ii;break t}}ai=null}if(!(re=ai)){this.o=!1,this.s=3,zs(12),dd(this),kf(this);break e}ch(this.i,this.l,re,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,M0(this,re)}if(this.P){let vc;for(re=!0;!this.J&&this.C<Rn.length;){if(vc=Sy(this,Rn),vc==Eg){4==bs&&(this.s=4,zs(14),re=!1),ch(this.i,this.l,null,"[Incomplete Response]");break}if(vc==_g){this.s=4,zs(15),ch(this.i,this.l,Rn,"[Invalid Chunk]"),re=!1;break}ch(this.i,this.l,vc,null),M0(this,vc)}if(wy(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=bs||0!=Rn.length||this.h.h||(this.s=1,zs(16),re=!1),this.o=this.o&&re,re){if(0<Rn.length&&!this.W){this.W=!0;var xs=this.j;xs.g==this&&xs.ba&&!xs.M&&(xs.j.info("Great, no buffering proxy detected. Bytes received: "+Rn.length),Rg(xs),xs.M=!0,zs(11))}}else ch(this.i,this.l,Rn,"[Invalid Chunked Response]"),dd(this),kf(this)}else ch(this.i,this.l,Rn,null),M0(this,Rn);4==bs&&dd(this),this.o&&!this.J&&(4==bs?Xy(this.j,this):(this.o=!1,Ig(this)))}else(function xD(m){const N={};m=(m.g&&2<=Tl(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let ke=0;ke<m.length;ke++){if(Yn(m[ke]))continue;var re=wt(m[ke]);const Nt=re[0];if("string"!=typeof(re=re[1]))continue;re=re.trim();const Kt=N[Nt]||[];N[Nt]=Kt,Kt.push(re)}!function It(m,N){for(const re in m)N.call(void 0,m[re],re,m)}(N,function(ke){return ke.join(", ")})})(this.g),400==re&&0<Rn.indexOf("Unknown SID")?(this.s=3,zs(12)):(this.s=0,zs(13)),dd(this),kf(this)}}}catch{}},fu.prototype.cancel=function(){this.J=!0,dd(this)},fu.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function Dy(m,N){m.info(function(){return"TIMEOUT: "+N})}(this.i,this.A),2!=this.L&&(ud(),zs(17)),dd(this),this.s=2,kf(this)):Ry(this,this.S-m)};var HE=class{constructor(m,N){this.g=m,this.map=N}};function My(m){this.l=m||10,m=A.PerformanceNavigationTiming?0<(m=A.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(A.chrome&&A.chrome.loadTimes&&A.chrome.loadTimes()&&A.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gc(m){return!!m.h||!!m.g&&m.g.size>=m.j}function Cg(m){return m.h?1:m.g?m.g.size:0}function P0(m,N){return m.h?m.h==N:!!m.g&&m.g.has(N)}function N0(m,N){m.g?m.g.add(N):m.h=N}function O0(m,N){m.h&&m.h==N?m.h=null:m.g&&m.g.has(N)&&m.g.delete(N)}function F0(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let N=m.i;for(const re of m.g.values())N=N.concat(re.D);return N}return gn(m.i)}function zE(m,N){if(m.forEach&&"function"==typeof m.forEach)m.forEach(N,void 0);else if(M(m)||"string"==typeof m)Array.prototype.forEach.call(m,N,void 0);else for(var re=function k0(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(M(m)||"string"==typeof m){var N=[];m=m.length;for(var re=0;re<m;re++)N.push(re);return N}N=[],re=0;for(const ke in m)N[re++]=ke;return N}}}(m),ke=function Ag(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(M(m)){for(var N=[],re=m.length,ke=0;ke<re;ke++)N.push(m[ke]);return N}for(ke in N=[],re=0,m)N[re++]=m[ke];return N}(m),Nt=ke.length,Kt=0;Kt<Nt;Kt++)N.call(void 0,ke[Kt],re&&re[Kt],m)}My.prototype.cancel=function(){if(this.i=F0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var L0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pu(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof pu){this.h=m.h,lh(this,m.j),this.o=m.o,this.g=m.g,Ba(this,m.s),this.l=m.l;var N=m.i,re=new hh;re.i=N.i,N.g&&(re.g=new Map(N.g),re.h=N.h),Ny(this,re),this.m=m.m}else m&&(N=String(m).match(L0))?(this.h=!1,lh(this,N[1]||"",!0),this.o=Lf(N[2]||""),this.g=Lf(N[3]||"",!0),Ba(this,N[4]),this.l=Lf(N[5]||"",!0),Ny(this,N[6]||"",!0),this.m=Lf(N[7]||"")):(this.h=!1,this.i=new hh(null,this.h))}function Va(m){return new pu(m)}function lh(m,N,re){m.j=re?Lf(N,!0):N,m.j&&(m.j=m.j.replace(/:$/,""))}function Ba(m,N){if(N){if(N=Number(N),isNaN(N)||0>N)throw Error("Bad port number "+N);m.s=N}else m.s=null}function Ny(m,N,re){N instanceof hh?(m.i=N,function GE(m,N){N&&!m.j&&(mu(m),m.i=null,m.g.forEach(function(re,ke){var Nt=ke.toLowerCase();ke!=Nt&&(ky(this,ke),Vy(this,Nt,re))},m)),m.j=N}(m.i,m.h)):(re||(N=zc(N,Vf)),m.i=new hh(N,m.h))}function zi(m,N,re){m.i.set(N,re)}function uh(m){return zi(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Lf(m,N){return m?N?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function zc(m,N,re){return"string"==typeof m?(m=encodeURI(m).replace(N,Oy),re&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function Oy(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}pu.prototype.toString=function(){var m=[],N=this.j;N&&m.push(zc(N,gu,!0),":");var re=this.g;return(re||"file"==N)&&(m.push("//"),(N=this.o)&&m.push(zc(N,gu,!0),"@"),m.push(encodeURIComponent(String(re)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(re=this.s)&&m.push(":",String(re))),(re=this.l)&&(this.g&&"/"!=re.charAt(0)&&m.push("/"),m.push(zc(re,"/"==re.charAt(0)?V0:dh,!0))),(re=this.i.toString())&&m.push("?",re),(re=this.m)&&m.push("#",zc(re,Fy)),m.join("")};var gu=/[#\/\?@]/g,dh=/[#\?:]/g,V0=/[#\?]/g,Vf=/[#\?@]/g,Fy=/#/g;function hh(m,N){this.h=this.g=null,this.i=m||null,this.j=!!N}function mu(m){m.g||(m.g=new Map,m.h=0,m.i&&function Py(m,N){if(m){m=m.split("&");for(var re=0;re<m.length;re++){var ke=m[re].indexOf("="),Nt=null;if(0<=ke){var Kt=m[re].substring(0,ke);Nt=m[re].substring(ke+1)}else Kt=m[re];N(Kt,Nt?decodeURIComponent(Nt.replace(/\+/g," ")):"")}}}(m.i,function(N,re){m.add(decodeURIComponent(N.replace(/\+/g," ")),re)}))}function ky(m,N){mu(m),N=fh(m,N),m.g.has(N)&&(m.i=null,m.h-=m.g.get(N).length,m.g.delete(N))}function Ly(m,N){return mu(m),N=fh(m,N),m.g.has(N)}function Vy(m,N,re){ky(m,N),0<re.length&&(m.i=null,m.g.set(fh(m,N),gn(re)),m.h+=re.length)}function fh(m,N){return N=String(N),m.j&&(N=N.toLowerCase()),N}function mc(m,N,re,ke,Nt){try{Nt&&(Nt.onload=null,Nt.onerror=null,Nt.onabort=null,Nt.ontimeout=null),ke(re)}catch{}}function KE(){this.g=new Iy}function Uy(m,N,re){const ke=re||"";try{zE(m,function(Nt,Kt){let Rn=Nt;Q(Nt)&&(Rn=du(Nt)),N.push(ke+Kt+"="+encodeURIComponent(Rn))})}catch(Nt){throw N.push(ke+"type="+encodeURIComponent("_badmap")),Nt}}function Bf(m){this.l=m.Ub||null,this.j=m.eb||!1}function Uf(m,N){rs.call(this),this.D=m,this.o=N,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function $y(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function $f(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ph(m)}function ph(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function Dg(m){let N="";return Tr(m,function(re,ke){N+=ke,N+=":",N+=re,N+="\r\n"}),N}function Tg(m,N,re){e:{for(ke in re){var ke=!1;break e}ke=!0}ke||(re=Dg(re),"string"==typeof m?null!=re&&encodeURIComponent(String(re)):zi(m,N,re))}function Vi(m){rs.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=hh.prototype).add=function(m,N){mu(this),this.i=null,m=fh(this,m);var re=this.g.get(m);return re||this.g.set(m,re=[]),re.push(N),this.h+=1,this},l.forEach=function(m,N){mu(this),this.g.forEach(function(re,ke){re.forEach(function(Nt){m.call(N,Nt,ke,this)},this)},this)},l.na=function(){mu(this);const m=Array.from(this.g.values()),N=Array.from(this.g.keys()),re=[];for(let ke=0;ke<N.length;ke++){const Nt=m[ke];for(let Kt=0;Kt<Nt.length;Kt++)re.push(N[ke])}return re},l.V=function(m){mu(this);let N=[];if("string"==typeof m)Ly(this,m)&&(N=N.concat(this.g.get(fh(this,m))));else{m=Array.from(this.g.values());for(let re=0;re<m.length;re++)N=N.concat(m[re])}return N},l.set=function(m,N){return mu(this),this.i=null,Ly(this,m=fh(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[N]),this.h+=1,this},l.get=function(m,N){return m&&0<(m=this.V(m)).length?String(m[0]):N},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],N=Array.from(this.g.keys());for(var re=0;re<N.length;re++){var ke=N[re];const Kt=encodeURIComponent(String(ke)),Rn=this.V(ke);for(ke=0;ke<Rn.length;ke++){var Nt=Kt;""!==Rn[ke]&&(Nt+="="+encodeURIComponent(String(Rn[ke]))),m.push(Nt)}}return this.i=m.join("&")},on(Bf,w0),Bf.prototype.g=function(){return new Uf(this.l,this.j)},Bf.prototype.i=function(m){return function(){return m}}({}),on(Uf,rs),(l=Uf.prototype).open=function(m,N){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=N,this.readyState=1,ph(this)},l.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const N={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(N.body=m),(this.D||A).fetch(new Request(this.A,N)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$f(this)),this.readyState=0},l.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ph(this)),this.g&&(this.readyState=3,ph(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof A.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$y(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var N=m.value?m.value:new Uint8Array(0);(N=this.v.decode(N,{stream:!m.done}))&&(this.response=this.responseText+=N)}m.done?$f(this):ph(this),3==this.readyState&&$y(this)}},l.Ra=function(m){this.g&&(this.response=this.responseText=m,$f(this))},l.Qa=function(m){this.g&&(this.response=m,$f(this))},l.ga=function(){this.g&&$f(this)},l.setRequestHeader=function(m,N){this.u.append(m,N)},l.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],N=this.h.entries();for(var re=N.next();!re.done;)m.push((re=re.value)[0]+": "+re[1]),re=N.next();return m.join("\r\n")},Object.defineProperty(Uf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),on(Vi,rs);var jf=/^https?$/i,Hf=["POST","PUT"];function jy(m,N){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=N,m.m=5,Hy(m),hd(m)}function Hy(m){m.A||(m.A=!0,Hs(m,"complete"),Hs(m,"error"))}function zy(m){if(m.h&&typeof v<"u"&&(!m.v[1]||4!=Tl(m)||2!=m.Z()))if(m.u&&4==Tl(m))yy(m.Ea,0,m);else if(Hs(m,"readystatechange"),4==Tl(m)){m.h=!1;try{const Rn=m.Z();e:switch(Rn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var N=!0;break e;default:N=!1}var re;if(!(re=N)){var ke;if(ke=0===Rn){var Nt=String(m.D).match(L0)[1]||null;!Nt&&A.self&&A.self.location&&(Nt=A.self.location.protocol.slice(0,-1)),ke=!jf.test(Nt?Nt.toLowerCase():"")}re=ke}if(re)Hs(m,"complete"),Hs(m,"success");else{m.m=6;try{var Kt=2<Tl(m)?m.g.statusText:""}catch{Kt=""}m.l=Kt+" ["+m.Z()+"]",Hy(m)}}finally{hd(m)}}}function hd(m,N){if(m.g){xg(m);const re=m.g,ke=m.v[0]?()=>{}:null;m.g=null,m.v=null,N||Hs(m,"ready");try{re.onreadystatechange=ke}catch{}}}function xg(m){m.I&&(A.clearTimeout(m.I),m.I=null)}function Tl(m){return m.g?m.g.readyState:0}function XE(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function zf(m,N,re){return re&&re.internalChannelParams&&re.internalChannelParams[m]||N}function Gy(m){this.Aa=0,this.i=[],this.j=new Of,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zf("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zf("baseRetryDelayMs",5e3,m),this.cb=zf("retryDelaySeedMs",1e4,m),this.Wa=zf("forwardChannelMaxRetries",2,m),this.wa=zf("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new My(m&&m.concurrentRequestLimit),this.Da=new KE,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Wy(m){if(qE(m),3==m.G){var N=m.U++,re=Va(m.I);if(zi(re,"SID",m.K),zi(re,"RID",N),zi(re,"TYPE","terminate"),fd(m,re),(N=new fu(m,m.j,N)).L=2,N.v=uh(Va(re)),re=!1,A.navigator&&A.navigator.sendBeacon)try{re=A.navigator.sendBeacon(N.v.toString(),"")}catch{}!re&&A.Image&&((new Image).src=N.v,re=!0),re||(N.g=$0(N.j,null),N.g.ea(N.v)),N.F=Date.now(),Ig(N)}B0(m)}function bg(m){m.g&&(Rg(m),m.g.cancel(),m.g=null)}function qE(m){bg(m),m.u&&(A.clearTimeout(m.u),m.u=null),Gf(m),m.h.cancel(),m.s&&("number"==typeof m.s&&A.clearTimeout(m.s),m.s=null)}function wg(m){if(!gc(m.h)&&!m.s){m.s=!0;var N=m.Ga;xf||cg(),bf||(xf(),bf=!0),ag.add(N,m),m.B=0}}function Ky(m,N){var re;re=N?N.l:m.U++;const ke=Va(m.I);zi(ke,"SID",m.K),zi(ke,"RID",re),zi(ke,"AID",m.T),fd(m,ke),m.m&&m.o&&Tg(ke,m.m,m.o),re=new fu(m,m.j,re,m.B+1),null===m.m&&(re.H=m.o),N&&(m.i=N.D.concat(m.i)),N=gh(m,re,1e3),re.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),N0(m.h,re),R0(re,ke,N)}function fd(m,N){m.H&&Tr(m.H,function(re,ke){zi(N,ke,re)}),m.l&&zE({},function(re,ke){zi(N,ke,re)})}function gh(m,N,re){re=Math.min(m.i.length,re);var ke=m.l?nt(m.l.Na,m.l,m):null;e:{var Nt=m.i;let Kt=-1;for(;;){const Rn=["count="+re];-1==Kt?0<re?(Kt=Nt[0].g,Rn.push("ofs="+Kt)):Kt=0:Rn.push("ofs="+Kt);let Ii=!0;for(let Eo=0;Eo<re;Eo++){let ai=Nt[Eo].g;const xs=Nt[Eo].map;if(ai-=Kt,0>ai)Kt=Math.max(0,Nt[Eo].g-100),Ii=!1;else try{Uy(xs,Rn,"req"+ai+"_")}catch{ke&&ke(xs)}}if(Ii){ke=Rn.join("&");break e}}}return m=m.i.splice(0,re),N.D=m,ke}function Sg(m){if(!m.g&&!m.u){m.Y=1;var N=m.Fa;xf||cg(),bf||(xf(),bf=!0),ag.add(N,m),m.v=0}}function mh(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=ah(nt(m.Fa,m),yh(m,m.v)),m.v++,0))}function Rg(m){null!=m.A&&(A.clearTimeout(m.A),m.A=null)}function vh(m){m.g=new fu(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var N=Va(m.qa);zi(N,"RID","rpc"),zi(N,"SID",m.K),zi(N,"AID",m.T),zi(N,"CI",m.F?"0":"1"),!m.F&&m.ja&&zi(N,"TO",m.ja),zi(N,"TYPE","xmlhttp"),fd(m,N),m.m&&m.o&&Tg(N,m.m,m.o),m.L&&(m.g.I=m.L);var re=m.g;m=m.ia,re.L=1,re.v=uh(Va(N)),re.m=null,re.P=!0,by(re,m)}function Gf(m){null!=m.C&&(A.clearTimeout(m.C),m.C=null)}function Xy(m,N){var re=null;if(m.g==N){Gf(m),Rg(m),m.g=null;var ke=2}else{if(!P0(m.h,N))return;re=N.D,O0(m.h,N),ke=1}if(0!=m.G)if(N.o)if(1==ke){re=N.m?N.m.length:0,N=Date.now()-N.F;var Nt=m.B;Hs(ke=sh(),new Ay(ke,re)),wg(m)}else Sg(m);else if(3==(Nt=N.s)||0==Nt&&0<N.X||!(1==ke&&function QE(m,N){return!(Cg(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=N.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=ah(nt(m.Ga,m,N),yh(m,m.B)),m.B++,0)))}(m,N)||2==ke&&mh(m)))switch(re&&0<re.length&&(N=m.h,N.i=N.i.concat(re)),Nt){case 1:vu(m,5);break;case 4:vu(m,10);break;case 3:vu(m,6);break;default:vu(m,2)}}function yh(m,N){let re=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(re*=2),re*N}function vu(m,N){if(m.j.info("Error code "+N),2==N){var re=nt(m.fb,m),ke=m.Xa;const Nt=!ke;ke=new pu(ke||"//www.google.com/images/cleardot.gif"),A.location&&"http"==A.location.protocol||lh(ke,"https"),uh(ke),Nt?function By(m,N){const re=new Of;if(A.Image){const ke=new Image;ke.onload=Pt(mc,re,"TestLoadImage: loaded",!0,N,ke),ke.onerror=Pt(mc,re,"TestLoadImage: error",!1,N,ke),ke.onabort=Pt(mc,re,"TestLoadImage: abort",!1,N,ke),ke.ontimeout=Pt(mc,re,"TestLoadImage: timeout",!1,N,ke),A.setTimeout(function(){ke.ontimeout&&ke.ontimeout()},1e4),ke.src=m}else N(!1)}(ke.toString(),re):function WE(m,N){new Of;const ke=new AbortController,Nt=setTimeout(()=>{ke.abort(),mc(0,0,!1,N)},1e4);fetch(m,{signal:ke.signal}).then(Kt=>{clearTimeout(Nt),mc(0,0,!!Kt.ok,N)}).catch(()=>{clearTimeout(Nt),mc(0,0,!1,N)})}(ke.toString(),re)}else zs(2);m.G=0,m.l&&m.l.sa(N),B0(m),qE(m)}function B0(m){if(m.G=0,m.ka=[],m.l){const N=F0(m.h);(0!=N.length||0!=m.i.length)&&(hn(m.ka,N),hn(m.ka,m.i),m.h.i.length=0,gn(m.i),m.i.length=0),m.l.ra()}}function U0(m,N,re){var ke=re instanceof pu?Va(re):new pu(re);if(""!=ke.g)N&&(ke.g=N+"."+ke.g),Ba(ke,ke.s);else{var Nt=A.location;ke=Nt.protocol,N=N?N+"."+Nt.hostname:Nt.hostname,Nt=+Nt.port;var Kt=new pu(null);ke&&lh(Kt,ke),N&&(Kt.g=N),Nt&&Ba(Kt,Nt),re&&(Kt.l=re),ke=Kt}return N=m.ya,(re=m.D)&&N&&zi(ke,re,N),zi(ke,"VER",m.la),fd(m,ke),ke}function $0(m,N,re){if(N&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(N=new Vi(m.Ca&&!m.pa?new Bf({eb:re}):m.pa)).Ha(m.J),N}function qy(){}function Mg(){}function Aa(m,N){rs.call(this),this.g=new Gy(N),this.l=m,this.h=N&&N.messageUrlParams||null,m=N&&N.messageHeaders||null,N&&N.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=N&&N.initMessageHeaders||null,N&&N.messageContentType&&(m?m["X-WebChannel-Content-Type"]=N.messageContentType:m={"X-WebChannel-Content-Type":N.messageContentType}),N&&N.va&&(m?m["X-WebChannel-Client-Profile"]=N.va:m={"X-WebChannel-Client-Profile":N.va}),this.g.S=m,(m=N&&N.Sb)&&!Yn(m)&&(this.g.m=m),this.v=N&&N.supportsCrossDomainXhr||!1,this.u=N&&N.sendRawJson||!1,(N=N&&N.httpSessionIdParam)&&!Yn(N)&&(this.g.D=N,null!==(m=this.h)&&N in m&&N in(m=this.h)&&delete m[N]),this.j=new Eh(this)}function _h(m){ld.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var N=m.__sm__;if(N){e:{for(const re in N){m=re;break e}m=void 0}(this.i=m)&&(m=this.i,N=null!==N&&m in N?N[m]:void 0),this.data=N}else this.data=m}function Qy(){gg.call(this),this.status=1}function Eh(m){this.g=m}(l=Vi.prototype).Ha=function(m){this.J=m},l.ea=function(m,N,re,ke){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);N=N?N.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ts.g(),this.v=function Nf(m){return m.h||(m.h=m.i())}(this.o?this.o:Ts),this.g.onreadystatechange=nt(this.Ea,this);try{this.B=!0,this.g.open(N,String(m),!0),this.B=!1}catch(Kt){return void jy(this,Kt)}if(m=re||"",re=new Map(this.headers),ke)if(Object.getPrototypeOf(ke)===Object.prototype)for(var Nt in ke)re.set(Nt,ke[Nt]);else{if("function"!=typeof ke.keys||"function"!=typeof ke.get)throw Error("Unknown input type for opt_headers: "+String(ke));for(const Kt of ke.keys())re.set(Kt,ke.get(Kt))}ke=Array.from(re.keys()).find(Kt=>"content-type"==Kt.toLowerCase()),Nt=A.FormData&&m instanceof A.FormData,!(0<=Array.prototype.indexOf.call(Hf,N,void 0))||ke||Nt||re.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Kt,Rn]of re)this.g.setRequestHeader(Kt,Rn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xg(this),this.u=!0,this.g.send(m),this.u=!1}catch(Kt){jy(this,Kt)}},l.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Hs(this,"complete"),Hs(this,"abort"),hd(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hd(this,!0)),Vi.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?zy(this):this.bb())},l.bb=function(){zy(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<Tl(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(m){if(this.g){var N=this.g.responseText;return m&&0==N.indexOf(m)&&(N=N.substring(m.length)),Ey(N)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=Gy.prototype).la=8,l.G=1,l.connect=function(m,N,re,ke){zs(0),this.W=m,this.H=N||{},re&&void 0!==ke&&(this.H.OSID=re,this.H.OAID=ke),this.F=this.X,this.I=U0(this,null,this.W),wg(this)},l.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const Nt=new fu(this,this.j,m);let Kt=this.o;if(this.S&&(Kt?(Kt=tt(Kt),Dt(Kt,this.S)):Kt=this.S),null!==this.m||this.O||(Nt.H=Kt,Kt=null),this.P)e:{for(var N=0,re=0;re<this.i.length;re++){var ke=this.i[re];if(void 0===(ke="__data__"in ke.map&&"string"==typeof(ke=ke.map.__data__)?ke.length:void 0))break;if(4096<(N+=ke)){N=re;break e}if(4096===N||re===this.i.length-1){N=re+1;break e}}N=1e3}else N=1e3;N=gh(this,Nt,N),zi(re=Va(this.I),"RID",m),zi(re,"CVER",22),this.D&&zi(re,"X-HTTP-Session-Id",this.D),fd(this,re),Kt&&(this.O?N="headers="+encodeURIComponent(String(Dg(Kt)))+"&"+N:this.m&&Tg(re,this.m,Kt)),N0(this.h,Nt),this.Ua&&zi(re,"TYPE","init"),this.P?(zi(re,"$req",N),zi(re,"SID","null"),Nt.T=!0,R0(Nt,re,null)):R0(Nt,re,N),this.G=2}}else 3==this.G&&(m?Ky(this,m):0==this.i.length||gc(this.h)||Ky(this))},l.Fa=function(){if(this.u=null,vh(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=ah(nt(this.ab,this),m)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zs(10),bg(this),vh(this))},l.Za=function(){null!=this.C&&(this.C=null,bg(this),mh(this),zs(19))},l.fb=function(m){m?(this.j.info("Successfully pinged google.com"),zs(2)):(this.j.info("Failed to ping google.com"),zs(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=qy.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},Mg.prototype.g=function(m,N){return new Aa(m,N)},on(Aa,rs),Aa.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Aa.prototype.close=function(){Wy(this.g)},Aa.prototype.o=function(m){var N=this.g;if("string"==typeof m){var re={};re.__data__=m,m=re}else this.u&&((re={}).__data__=du(m),m=re);N.i.push(new HE(N.Ya++,m)),3==N.G&&wg(N)},Aa.prototype.N=function(){this.g.l=null,delete this.j,Wy(this.g),delete this.g,Aa.aa.N.call(this)},on(_h,ld),on(Qy,gg),on(Eh,qy),Eh.prototype.ua=function(){Hs(this.g,"a")},Eh.prototype.ta=function(m){Hs(this.g,new _h(m))},Eh.prototype.sa=function(m){Hs(this.g,new Qy)},Eh.prototype.ra=function(){Hs(this.g,"b")},Mg.prototype.createWebChannel=Mg.prototype.g,Aa.prototype.send=Aa.prototype.o,Aa.prototype.open=Aa.prototype.m,Aa.prototype.close=Aa.prototype.close,Ce=ht.createWebChannelTransport=function(){return new Mg},Z=ht.getStatEventTarget=function(){return sh()},j=ht.Event=Dl,V=ht.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vg.NO_ERROR=0,vg.TIMEOUT=8,vg.HTTP_ERROR=6,Me=ht.ErrorCode=vg,xy.COMPLETE="complete",it=ht.EventType=xy,hu.EventType=cd,cd.OPEN="a",cd.CLOSE="b",cd.ERROR="c",cd.MESSAGE="d",rs.prototype.listen=rs.prototype.K,jt=ht.WebChannel=hu,xt=ht.FetchXmlHttpFactory=Bf,Vi.prototype.listenOnce=Vi.prototype.L,Vi.prototype.getLastError=Vi.prototype.Ka,Vi.prototype.getLastErrorCode=Vi.prototype.Ba,Vi.prototype.getStatus=Vi.prototype.Z,Vi.prototype.getResponseJson=Vi.prototype.Oa,Vi.prototype.getResponseText=Vi.prototype.oa,Vi.prototype.send=Vi.prototype.ea,Vi.prototype.setWithCredentials=Vi.prototype.Ha,Et=ht.XhrIo=Vi}).apply(typeof rt<"u"?rt:typeof self<"u"?self:typeof window<"u"?window:{});const ut="@firebase/firestore";class Fe{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");let ft="10.13.2";const We=new oe.Vy("@firebase/firestore");function en(){return We.logLevel}function gt(l,...t){if(We.logLevel<=oe.$b.DEBUG){const i=t.map(fn);We.debug(`Firestore (${ft}): ${l}`,...i)}}function Jt(l,...t){if(We.logLevel<=oe.$b.ERROR){const i=t.map(fn);We.error(`Firestore (${ft}): ${l}`,...i)}}function yn(l,...t){if(We.logLevel<=oe.$b.WARN){const i=t.map(fn);We.warn(`Firestore (${ft}): ${l}`,...i)}}function fn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Gt(l="Unexpected state"){const t=`FIRESTORE (${ft}) INTERNAL ASSERTION FAILED: `+l;throw Jt(t),new Error(t)}function Ht(l,t){l||Gt()}function Bt(l,t){return l}const He={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends Se.g{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _t{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class Zt{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class In{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class tr{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Sn{constructor(t){this.t=t,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var s=this;let u=this.i;const f=Q=>this.i!==u?(u=this.i,i(Q)):Promise.resolve();let v=new _t;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new _t,t.enqueueRetryable(()=>f(this.currentUser))};const A=()=>{const Q=v;t.enqueueRetryable((0,W.A)(function*(){yield Q.promise,yield f(s.currentUser)}))},M=Q=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=Q,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(Q=>M(Q)),setTimeout(()=>{if(!this.auth){const Q=this.t.getImmediate({optional:!0});Q?M(Q):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new _t)}},0),A()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht("string"==typeof s.accessToken),new Zt(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Ht(null===t||"string"==typeof t),new Fe(t)}}class mn{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Ut{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new mn(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dr{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){const s=f=>{null!=f.error&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const v=f.token!==this.R;return this.R=f.token,gt("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?i(f.token):Promise.resolve()};this.o=f=>{t.enqueueRetryable(()=>s(f))};const u=f=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Ht("string"==typeof i.token),this.R=i.token,new gr(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Wn(l){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class Er{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Wn(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function Mn(l,t){return l<t?-1:l>t?1:0}function Zn(l,t,i){return l.length===t.length&&l.every((s,u)=>i(s,t[u]))}function fi(l){return l+"\0"}class xn{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ze(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ze(He.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new ze(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ze(He.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return xn.fromMillis(Date.now())}static fromDate(t){return xn.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*i));return new xn(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Mn(this.nanoseconds,t.nanoseconds):Mn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class sn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new sn(t)}static min(){return new sn(new xn(0,0))}static max(){return new sn(new xn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Qr{constructor(t,i,s){void 0===i?i=0:i>t.length&&Gt(),void 0===s?s=t.length-i:s>t.length-i&&Gt(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return 0===Qr.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Qr?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let u=0;u<s;u++){const f=t.get(u),v=i.get(u);if(f<v)return-1;if(f>v)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class Pn extends Qr{construct(t,i,s){return new Pn(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ze(He.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new Pn(i)}static emptyPath(){return new Pn([])}}const Xr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends Qr{construct(t,i,s){return new ar(t,i,s)}static isValidIdentifier(t){return Xr.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ar(["__name__"])}static fromServerFormat(t){const i=[];let s="",u=0;const f=()=>{if(0===s.length)throw new ze(He.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let v=!1;for(;u<t.length;){const A=t[u];if("\\"===A){if(u+1===t.length)throw new ze(He.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const M=t[u+1];if("\\"!==M&&"."!==M&&"`"!==M)throw new ze(He.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=M,u+=2}else"`"===A?(v=!v,u++):"."!==A||v?(s+=A,u++):(f(),u++)}if(f(),v)throw new ze(He.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new ar(i)}static emptyPath(){return new ar([])}}class an{constructor(t){this.path=t}static fromPath(t){return new an(Pn.fromString(t))}static fromName(t){return new an(Pn.fromString(t).popFirst(5))}static empty(){return new an(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Pn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return Pn.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new an(new Pn(t.slice()))}}class Hr{constructor(t,i,s,u){this.indexId=t,this.collectionGroup=i,this.fields=s,this.indexState=u}}function qr(l){return l.fields.find(t=>2===t.kind)}function Mt(l){return l.fields.filter(t=>2!==t.kind)}Hr.UNKNOWN_ID=-1;class Ge{constructor(t,i){this.fieldPath=t,this.kind=i}}class $t{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new $t(0,Qe.min())}}function Be(l,t){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=sn.fromTimestamp(1e9===s?new xn(i+1,0):new xn(i,s));return new Qe(u,an.empty(),t)}function Ue(l){return new Qe(l.readTime,l.key,-1)}class Qe{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Qe(sn.min(),an.empty(),-1)}static max(){return new Qe(sn.max(),an.empty(),-1)}}function Rt(l,t){let i=l.readTime.compareTo(t.readTime);return 0!==i?i:(i=an.comparator(l.documentKey,t.documentKey),0!==i?i:Mn(l.largestBatchId,t.largestBatchId))}const yt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _n{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function pn(l){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,W.A)(function*(l){if(l.code!==He.FAILED_PRECONDITION||l.message!==yt)throw l;gt("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class pt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new pt((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(t,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof pt?i:pt.resolve(i)}catch(i){return pt.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):pt.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):pt.reject(i)}static resolve(t){return new pt((i,s)=>{i(t)})}static reject(t){return new pt((i,s)=>{s(t)})}static waitFor(t){return new pt((i,s)=>{let u=0,f=0,v=!1;t.forEach(A=>{++u,A.next(()=>{++f,v&&f===u&&i()},M=>s(M))}),v=!0,f===u&&i()})}static or(t){let i=pt.resolve(!1);for(const s of t)i=i.next(u=>u?pt.resolve(u):s());return i}static forEach(t,i){const s=[];return t.forEach((u,f)=>{s.push(i.call(this,u,f))}),this.waitFor(s)}static mapArray(t,i){return new pt((s,u)=>{const f=t.length,v=new Array(f);let A=0;for(let M=0;M<f;M++){const Q=M;i(t[Q]).next(Ae=>{v[Q]=Ae,++A,A===f&&s(v)},Ae=>u(Ae))}})}static doWhile(t,i){return new pt((s,u)=>{const f=()=>{!0===t()?i().next(()=>{f()},u):s()};f()})}}class nr{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.V=new _t,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new Yr(t,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Pi(s.target.error);this.V.reject(new Yr(t,u))}}static open(t,i,s,u){try{return new nr(i,t.transaction(u,s))}catch(f){throw new Yr(i,f)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(gt("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new Ri(i)}}class qn{constructor(t,i,s){this.name=t,this.version=i,this.p=s,12.2===qn.S((0,Se.ZQ)())&&Jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return gt("SimpleDb","Removing database:",t),zr(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,Se.zW)())return!1;if(qn.v())return!0;const t=(0,Se.ZQ)(),i=qn.S(t),s=0<i&&i<10,u=$n(t),f=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||f)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,i){return t.store(i)}static S(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(t){var i=this;return(0,W.A)(function*(){return i.db||(gt("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=v=>{s(v.target.result)},f.onblocked=()=>{u(new Yr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const A=v.target.error;u("VersionError"===A.name?new ze(He.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new ze(He.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new Yr(t,A))},f.onupgradeneeded=v=>{gt("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',v.oldVersion),i.p.O(v.target.result,f.transaction,v.oldVersion,i.version).next(()=>{gt("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,s,u){var f=this;return(0,W.A)(function*(){const v="readonly"===i;let A=0;for(;;){++A;try{f.db=yield f.M(t);const M=nr.open(f.db,t,v?"readonly":"readwrite",s),Q=u(M).next(Ae=>(M.g(),Ae)).catch(Ae=>(M.abort(Ae),pt.reject(Ae))).toPromise();return Q.catch(()=>{}),yield M.m,Q}catch(M){const Q=M,Ae="FirebaseError"!==Q.name&&A<3;if(gt("SimpleDb","Transaction failed with error:",Q.message,"Retrying:",Ae),f.close(),!Ae)return Promise.reject(Q)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function $n(l){const t=l.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Rr{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return zr(this.B.delete())}}class Yr extends ze{constructor(t,i){super(He.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Vr(l){return"IndexedDbTransactionError"===l.name}class Ri{constructor(t){this.store=t}put(t,i){let s;return void 0!==i?(gt("SimpleDb","PUT",this.store.name,t,i),s=this.store.put(i,t)):(gt("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),zr(s)}add(t){return gt("SimpleDb","ADD",this.store.name,t,t),zr(this.store.add(t))}get(t){return zr(this.store.get(t)).next(i=>(void 0===i&&(i=null),gt("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return gt("SimpleDb","DELETE",this.store.name,t),zr(this.store.delete(t))}count(){return gt("SimpleDb","COUNT",this.store.name),zr(this.store.count())}U(t,i){const s=this.options(t,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(s.range);return new pt((v,A)=>{f.onerror=M=>{A(M.target.error)},f.onsuccess=M=>{v(M.target.result)}})}{const f=this.cursor(s),v=[];return this.W(f,(A,M)=>{v.push(M)}).next(()=>v)}}G(t,i){const s=this.store.getAll(t,null===i?void 0:i);return new pt((u,f)=>{s.onerror=v=>{f(v.target.error)},s.onsuccess=v=>{u(v.target.result)}})}j(t,i){gt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,i);s.H=!1;const u=this.cursor(s);return this.W(u,(f,v,A)=>A.delete())}J(t,i){let s;i?s=t:(s={},i=t);const u=this.cursor(s);return this.W(u,i)}Y(t){const i=this.cursor({});return new pt((s,u)=>{i.onerror=f=>{const v=Pi(f.target.error);u(v)},i.onsuccess=f=>{const v=f.target.result;v?t(v.primaryKey,v.value).next(A=>{A?v.continue():s()}):s()}})}W(t,i){const s=[];return new pt((u,f)=>{t.onerror=v=>{f(v.target.error)},t.onsuccess=v=>{const A=v.target.result;if(!A)return void u();const M=new Rr(A),Q=i(A.primaryKey,A.value,M);if(Q instanceof pt){const Ae=Q.catch(Ve=>(M.done(),pt.reject(Ve)));s.push(Ae)}M.isDone?u():null===M.K?A.continue():A.continue(M.K)}}).next(()=>pt.waitFor(s))}options(t,i){let s;return void 0!==t&&("string"==typeof t?s=t:i=t),{index:s,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const s=this.store.index(t.index);return t.H?s.openKeyCursor(t.range,i):s.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function zr(l){return new pt((t,i)=>{l.onsuccess=s=>{t(s.target.result)},l.onerror=s=>{const u=Pi(s.target.error);i(u)}})}let Ci=!1;function Pi(l){const t=qn.S((0,Se.ZQ)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new ze("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ci||(Ci=!0,setTimeout(()=>{throw s},0)),s}}return l}class Ui{constructor(t,i){this.asyncQueue=t,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var i=this;gt("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,W.A)(function*(){i.task=null;try{gt("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){Vr(s)?gt("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield pn(s)}yield i.X(6e4)}))}}class _e{constructor(t,i){this.localStore=t,this.persistence=i}ee(t=50){var i=this;return(0,W.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,t))})()}te(t,i){const s=new Set;let u=i,f=!0;return pt.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(v=>{if(null!==v&&!s.has(v))return gt("IndexBackfiller",`Processing collection: ${v}`),this.ne(t,v,u).next(A=>{u-=A,s.add(v)});f=!1})).next(()=>i-u)}ne(t,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(u=>this.localStore.localDocuments.getNextDocuments(t,i,u,s).next(f=>{const v=f.changes;return this.localStore.indexManager.updateIndexEntries(t,v).next(()=>this.re(u,f)).next(A=>(gt("IndexBackfiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(t,i,A))).next(()=>v.size)}))}re(t,i){let s=t;return i.changes.forEach((u,f)=>{const v=Ue(f);Rt(v,s)>0&&(s=v)}),new Qe(s.readTime,s.documentKey,Math.max(i.batchId,t.largestBatchId))}}let he=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function H(l){return null==l}function ye(l){return 0===l&&1/l==-1/0}function Ze(l){return"number"==typeof l&&Number.isInteger(l)&&!ye(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function Ne(l){let t="";for(let i=0;i<l.length;i++)t.length>0&&(t=Lt(t)),t=at(l.get(i),t);return Lt(t)}function at(l,t){let i=t;const s=l.length;for(let u=0;u<s;u++){const f=l.charAt(u);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function Lt(l){return l+"\x01\x01"}function ln(l){const t=l.length;if(Ht(t>=2),2===t)return Ht("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),Pn.emptyPath();const i=t-2,s=[];let u="";for(let f=0;f<t;){const v=l.indexOf("\x01",f);switch((v<0||v>i)&&Gt(),l.charAt(v+1)){case"\x01":const A=l.substring(f,v);let M;0===u.length?M=A:(u+=A,M=u,u=""),s.push(M);break;case"\x10":u+=l.substring(f,v),u+="\0";break;case"\x11":u+=l.substring(f,v+1);break;default:Gt()}f=v+2}return new Pn(s)}const Fn=["userId","batchId"];function fr(l,t){return[l,Ne(t)]}function Xn(l,t,i){return[l,Ne(t),i]}const Ni={},Zr=["prefixPath","collectionGroup","readTime","documentId"],cr=["prefixPath","collectionGroup","documentId"],oi=["collectionGroup","readTime","prefixPath","documentId"],Uo=["canonicalId","targetId"],ci=["targetId","path"],ti=["path","targetId"],Gi=["collectionId","parent"],Ai=["indexId","uid"],Di=["uid","sequenceNumber"],ws=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ss=["indexId","uid","orderedDocumentKey"],$o=["userId","collectionPath","documentId"],ss=["userId","collectionPath","largestBatchId"],qo=["userId","collectionGroup","largestBatchId"],as=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jo=[...as,"documentOverlays"],Ti=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Rs=Ti,Io=[...Rs,"indexConfiguration","indexState","indexEntries"],cs=Io,ja=[...Io,"globals"];class ls extends _n{constructor(t,i){super(),this._e=t,this.currentSequenceNumber=i}}function ni(l,t){const i=Bt(l);return qn.F(i._e,t)}function ro(l){let t=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&t++;return t}function Ho(l,t){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&t(i,l[i])}function xa(l){for(const t in l)if(Object.prototype.hasOwnProperty.call(l,t))return!1;return!0}class jr{constructor(t,i){this.comparator=t,this.root=i||li.EMPTY}insert(t,i){return new jr(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,li.BLACK,null,null))}remove(t){return new jr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,li.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qo(this.root,t,this.comparator,!0)}}class Qo{constructor(t,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!t.isEmpty();)if(f=i?s(t.key,i):1,i&&u&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(0===f){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class li{constructor(t,i,s,u,f){this.key=t,this.value=i,this.color=s??li.RED,this.left=u??li.EMPTY,this.right=f??li.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,u,f){return new li(t??this.key,i??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let u=this;const f=s(t,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(t,i,s),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(t,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return li.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,u=this;if(i(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(t,u.key)){if(u.right.isEmpty())return li.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,li.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,li.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gt();const t=this.left.check();if(t!==this.right.check())throw Gt();return t+(this.isRed()?0:1)}}li.EMPTY=null,li.RED=!0,li.BLACK=!1,li.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt()}get value(){throw Gt()}get color(){throw Gt()}get left(){throw Gt()}get right(){throw Gt()}copy(t,i,s,u,f){return this}insert(t,i,s){return new li(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mr{constructor(t){this.comparator=t,this.data=new jr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;i(u.key)}}forEachWhile(t,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Co(this.data.getIterator())}getIteratorFrom(t){return new Co(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Mr)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Mr(this.comparator);return i.data=t,i}}class Co{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ao(l){return l.hasNext()?l.getNext():void 0}class xi{constructor(t){this.fields=t,t.sort(ar.comparator)}static empty(){return new xi([])}unionWith(t){let i=new Mr(ar.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new xi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Zn(this.fields,t.fields,(i,s)=>i.isEqual(s))}}class Y extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class J{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new Y("Invalid base64 string: "+f):f}}(t);return new J(i)}static fromUint8Array(t){const i=function(u){let f="";for(let v=0;v<u.length;++v)f+=String.fromCharCode(u[v]);return f}(t);return new J(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}J.EMPTY_BYTE_STRING=new J("");const P=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pe(l){if(Ht(!!l),"string"==typeof l){let t=0;const i=P.exec(l);if(Ht(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:L(l.seconds),nanos:L(l.nanos)}}function L(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function me(l){return"string"==typeof l?J.fromBase64String(l):J.fromUint8Array(l)}function $e(l){var t,i;return"server_timestamp"===(null===(i=((null===(t=l?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function qe(l){const t=l.mapValue.fields.__previous_value__;return $e(t)?qe(t):t}function ct(l){const t=Pe(l.mapValue.fields.__local_write_time__.timestampValue);return new xn(t.seconds,t.nanos)}class vt{constructor(t,i,s,u,f,v,A,M,Q){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=A,this.longPollingOptions=M,this.useFetchStreams=Q}}class zt{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new zt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof zt&&t.projectId===this.projectId&&t.database===this.database}}const Yt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wt={nullValue:"NULL_VALUE"};function Qt(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?$e(l)?4:lo(l)?9007199254740991:Ws(l)?10:11:Gt()}function un(l,t){if(l===t)return!0;const i=Qt(l);if(i!==Qt(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===t.booleanValue;case 4:return ct(l).isEqual(ct(t));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const v=Pe(u.timestampValue),A=Pe(f.timestampValue);return v.seconds===A.seconds&&v.nanos===A.nanos}(l,t);case 5:return l.stringValue===t.stringValue;case 6:return f=t,me(l.bytesValue).isEqual(me(f.bytesValue));case 7:return l.referenceValue===t.referenceValue;case 8:return function(u,f){return L(u.geoPointValue.latitude)===L(f.geoPointValue.latitude)&&L(u.geoPointValue.longitude)===L(f.geoPointValue.longitude)}(l,t);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return L(u.integerValue)===L(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const v=L(u.doubleValue),A=L(f.doubleValue);return v===A?ye(v)===ye(A):isNaN(v)&&isNaN(A)}return!1}(l,t);case 9:return Zn(l.arrayValue.values||[],t.arrayValue.values||[],un);case 10:case 11:return function(u,f){const v=u.mapValue.fields||{},A=f.mapValue.fields||{};if(ro(v)!==ro(A))return!1;for(const M in v)if(v.hasOwnProperty(M)&&(void 0===A[M]||!un(v[M],A[M])))return!1;return!0}(l,t);default:return Gt()}var f}function Cn(l,t){return void 0!==(l.values||[]).find(i=>un(i,t))}function Nn(l,t){if(l===t)return 0;const i=Qt(l),s=Qt(t);if(i!==s)return Mn(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mn(l.booleanValue,t.booleanValue);case 2:return function(f,v){const A=L(f.integerValue||f.doubleValue),M=L(v.integerValue||v.doubleValue);return A<M?-1:A>M?1:A===M?0:isNaN(A)?isNaN(M)?0:-1:1}(l,t);case 3:return kn(l.timestampValue,t.timestampValue);case 4:return kn(ct(l),ct(t));case 5:return Mn(l.stringValue,t.stringValue);case 6:return function(f,v){const A=me(f),M=me(v);return A.compareTo(M)}(l.bytesValue,t.bytesValue);case 7:return function(f,v){const A=f.split("/"),M=v.split("/");for(let Q=0;Q<A.length&&Q<M.length;Q++){const Ae=Mn(A[Q],M[Q]);if(0!==Ae)return Ae}return Mn(A.length,M.length)}(l.referenceValue,t.referenceValue);case 8:return function(f,v){const A=Mn(L(f.latitude),L(v.latitude));return 0!==A?A:Mn(L(f.longitude),L(v.longitude))}(l.geoPointValue,t.geoPointValue);case 9:return br(l.arrayValue,t.arrayValue);case 10:return function(f,v){var A,M,Q,Ae;const Pt=null===(A=(f.fields||{}).value)||void 0===A?void 0:A.arrayValue,on=null===(M=(v.fields||{}).value)||void 0===M?void 0:M.arrayValue,gn=Mn((null===(Q=Pt?.values)||void 0===Q?void 0:Q.length)||0,(null===(Ae=on?.values)||void 0===Ae?void 0:Ae.length)||0);return 0!==gn?gn:br(Pt,on)}(l.mapValue,t.mapValue);case 11:return function(f,v){if(f===Yt.mapValue&&v===Yt.mapValue)return 0;if(f===Yt.mapValue)return 1;if(v===Yt.mapValue)return-1;const A=f.fields||{},M=Object.keys(A),Q=v.fields||{},Ae=Object.keys(Q);M.sort(),Ae.sort();for(let Ve=0;Ve<M.length&&Ve<Ae.length;++Ve){const nt=Mn(M[Ve],Ae[Ve]);if(0!==nt)return nt;const Pt=Nn(A[M[Ve]],Q[Ae[Ve]]);if(0!==Pt)return Pt}return Mn(M.length,Ae.length)}(l.mapValue,t.mapValue);default:throw Gt()}}function kn(l,t){if("string"==typeof l&&"string"==typeof t&&l.length===t.length)return Mn(l,t);const i=Pe(l),s=Pe(t),u=Mn(i.seconds,s.seconds);return 0!==u?u:Mn(i.nanos,s.nanos)}function br(l,t){const i=l.values||[],s=t.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=Nn(i[u],s[u]);if(f)return f}return Mn(i.length,s.length)}function Or(l){return ri(l)}function ri(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=Pe(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?me(l.bytesValue).toBase64():"referenceValue"in l?an.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=ri(f);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const v of s)f?f=!1:u+=",",u+=`${v}:${ri(i.fields[v])}`;return u+"}"}(l.mapValue):Gt()}function cn(l,t){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${t.path.canonicalString()}`}}function Qi(l){return!!l&&"integerValue"in l}function vi(l){return!!l&&"arrayValue"in l}function Ha(l){return!!l&&"nullValue"in l}function Gs(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Yi(l){return!!l&&"mapValue"in l}function Ws(l){var t,i;return"__vector__"===(null===(i=((null===(t=l?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Zi(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const t={mapValue:{fields:{}}};return Ho(l.mapValue.fields,(i,s)=>t.mapValue.fields[i]=Zi(s)),t}if(l.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Zi(l.arrayValue.values[i]);return t}return Object.assign({},l)}function lo(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const Ji={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function us(l){return"nullValue"in l?Wt:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?cn(zt.empty(),an.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?Ws(l)?Ji:{mapValue:{}}:Gt()}function Do(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?cn(zt.empty(),an.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?Ji:"mapValue"in l?Ws(l)?{mapValue:{}}:Yt:Gt()}function zo(l,t){const i=Nn(l.value,t.value);return 0!==i?i:l.inclusive&&!t.inclusive?-1:!l.inclusive&&t.inclusive?1:0}function uo(l,t){const i=Nn(l.value,t.value);return 0!==i?i:l.inclusive&&!t.inclusive?1:!l.inclusive&&t.inclusive?-1:0}class $i{constructor(t){this.value=t}static empty(){return new $i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Yi(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zi(i)}setAll(t){let i=ar.emptyPath(),s={},u=[];t.forEach((v,A)=>{if(!i.isImmediateParentOf(A)){const M=this.getFieldsMap(i);this.applyChanges(M,s,u),s={},u=[],i=A.popLast()}v?s[A.lastSegment()]=Zi(v):u.push(A.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(t){const i=this.field(t.popLast());Yi(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return un(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=i.mapValue.fields[t.get(s)];Yi(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(t,i,s){Ho(i,(u,f)=>t[u]=f);for(const u of s)delete t[u]}clone(){return new $i(Zi(this.value))}}function bi(l){const t=[];return Ho(l.fields,(i,s)=>{const u=new ar([i]);if(Yi(s)){const f=bi(s.mapValue).fields;if(0===f.length)t.push(u);else for(const v of f)t.push(u.child(v))}else t.push(u)}),new xi(t)}class Gr{constructor(t,i,s,u,f,v,A){this.key=t,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=v,this.documentState=A}static newInvalidDocument(t){return new Gr(t,0,sn.min(),sn.min(),sn.min(),$i.empty(),0)}static newFoundDocument(t,i,s,u){return new Gr(t,1,i,sn.min(),s,u,0)}static newNoDocument(t,i){return new Gr(t,2,i,sn.min(),sn.min(),$i.empty(),0)}static newUnknownDocument(t,i){return new Gr(t,3,i,sn.min(),sn.min(),$i.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(sn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=sn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Gr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Gr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class To{constructor(t,i){this.position=t,this.inclusive=i}}function wr(l,t,i){let s=0;for(let u=0;u<l.position.length;u++){const f=t[u],v=l.position[u];if(s=f.field.isKeyField()?an.comparator(an.fromName(v.referenceValue),i.key):Nn(v,i.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function za(l,t){if(null===l)return null===t;if(null===t||l.inclusive!==t.inclusive||l.position.length!==t.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!un(l.position[i],t.position[i]))return!1;return!0}class Br{constructor(t,i="asc"){this.field=t,this.dir=i}}function ds(l,t){return l.dir===t.dir&&l.field.isEqual(t.field)}class _c{}class Ir extends _c{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,s):new Ur(t,i,s):"array-contains"===i?new Cu(t,s):"in"===i?new Ka(t,s):"not-in"===i?new wl(t,s):"array-contains-any"===i?new K(t,s):new Ir(t,i,s)}static createKeyFieldInFilter(t,i,s){return"in"===i?new sa(t,s):new Kc(t,s)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Nn(i,this.value)):null!==i&&Qt(this.value)===Qt(i)&&this.matchesComparison(Nn(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ir extends _c{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new ir(t,i)}matches(t){return jn(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jn(l){return"and"===l.op}function ba(l){return"or"===l.op}function Wi(l){return Ga(l)&&jn(l)}function Ga(l){for(const t of l.filters)if(t instanceof ir)return!1;return!0}function oa(l){if(l instanceof Ir)return l.field.canonicalString()+l.op.toString()+Or(l.value);if(Wi(l))return l.filters.map(t=>oa(t)).join(",");{const t=l.filters.map(i=>oa(i)).join(",");return`${l.op}(${t})`}}function Wc(l,t){return l instanceof Ir?(s=l,(u=t)instanceof Ir&&s.op===u.op&&s.field.isEqual(u.field)&&un(s.value,u.value)):l instanceof ir?function(s,u){return u instanceof ir&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,v,A)=>f&&Wc(v,u.filters[A]),!0)}(l,t):void Gt();var s,u}function Yo(l,t){const i=l.filters.concat(t);return ir.create(i,l.op)}function Wa(l){return l instanceof Ir?`${(i=l).field.canonicalString()} ${i.op} ${Or(i.value)}`:l instanceof ir?function(i){return i.op.toString()+" {"+i.getFilters().map(Wa).join(" ,")+"}"}(l):"Filter";var i}class Ur extends Ir{constructor(t,i,s){super(t,i,s),this.key=an.fromName(s.referenceValue)}matches(t){const i=an.comparator(t.key,this.key);return this.matchesComparison(i)}}class sa extends Ir{constructor(t,i){super(t,"in",i),this.keys=Ec(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Kc extends Ir{constructor(t,i){super(t,"not-in",i),this.keys=Ec(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Ec(l,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>an.fromName(s.referenceValue))}class Cu extends Ir{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return vi(i)&&Cn(i.arrayValue,this.value)}}class Ka extends Ir{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&Cn(this.value.arrayValue,i)}}class wl extends Ir{constructor(t,i){super(t,"not-in",i)}matches(t){if(Cn(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!Cn(this.value.arrayValue,i)}}class K extends Ir{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!vi(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>Cn(this.value.arrayValue,s))}}class ${constructor(t,i=null,s=[],u=[],f=null,v=null,A=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=v,this.endAt=A,this.ue=null}}function R(l,t=null,i=[],s=[],u=null,f=null,v=null){return new $(l,t,i,s,u,f,v)}function Te(l){const t=Bt(l);if(null===t.ue){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>oa(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),H(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>Or(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>Or(s)).join(",")),t.ue=i}return t.ue}function ot(l,t){if(l.limit!==t.limit||l.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!ds(l.orderBy[i],t.orderBy[i]))return!1;if(l.filters.length!==t.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!Wc(l.filters[i],t.filters[i]))return!1;return l.collectionGroup===t.collectionGroup&&!!l.path.isEqual(t.path)&&!!za(l.startAt,t.startAt)&&za(l.endAt,t.endAt)}function Vn(l){return an.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function Jn(l,t){return l.filters.filter(i=>i instanceof Ir&&i.field.isEqual(t))}function pr(l,t,i){let s=Wt,u=!0;for(const f of Jn(l,t)){let v=Wt,A=!0;switch(f.op){case"<":case"<=":v=us(f.value);break;case"==":case"in":case">=":v=f.value;break;case">":v=f.value,A=!1;break;case"!=":case"not-in":v=Wt}zo({value:s,inclusive:u},{value:v,inclusive:A})<0&&(s=v,u=A)}if(null!==i)for(let f=0;f<l.orderBy.length;++f)if(l.orderBy[f].field.isEqual(t)){const v=i.position[f];zo({value:s,inclusive:u},{value:v,inclusive:i.inclusive})<0&&(s=v,u=i.inclusive);break}return{value:s,inclusive:u}}function io(l,t,i){let s=Yt,u=!0;for(const f of Jn(l,t)){let v=Yt,A=!0;switch(f.op){case">=":case">":v=Do(f.value),A=!1;break;case"==":case"in":case"<=":v=f.value;break;case"<":v=f.value,A=!1;break;case"!=":case"not-in":v=Yt}uo({value:s,inclusive:u},{value:v,inclusive:A})>0&&(s=v,u=A)}if(null!==i)for(let f=0;f<l.orderBy.length;++f)if(l.orderBy[f].field.isEqual(t)){const v=i.position[f];uo({value:s,inclusive:u},{value:v,inclusive:i.inclusive})>0&&(s=v,u=i.inclusive);break}return{value:s,inclusive:u}}class Jr{constructor(t,i=null,s=[],u=[],f=null,v="F",A=null,M=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=v,this.startAt=A,this.endAt=M,this.ce=null,this.le=null,this.he=null}}function hs(l,t,i,s,u,f,v,A){return new Jr(l,t,i,s,u,f,v,A)}function xo(l){return new Jr(l)}function Ks(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function wa(l){return null!==l.collectionGroup}function bo(l){const t=Bt(l);if(null===t.ce){t.ce=[];const i=new Set;for(const f of t.explicitOrderBy)t.ce.push(f),i.add(f.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(v){let A=new Mr(ar.comparator);return v.filters.forEach(M=>{M.getFlattenedFilters().forEach(Q=>{Q.isInequality()&&(A=A.add(Q.field))})}),A})(t).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||t.ce.push(new Br(f,s))}),i.has(ar.keyField().canonicalString())||t.ce.push(new Br(ar.keyField(),s))}return t.ce}function Oi(l){const t=Bt(l);return t.le||(t.le=function Xa(l,t){if("F"===l.limitType)return R(l.path,l.collectionGroup,t,l.filters,l.limit,l.startAt,l.endAt);{t=t.map(u=>new Br(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new To(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new To(l.startAt.position,l.startAt.inclusive):null;return R(l.path,l.collectionGroup,t,l.filters,l.limit,i,s)}}(t,bo(l))),t.le}function aa(l,t){const i=l.filters.concat([t]);return new Jr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function or(l,t,i){return new Jr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),t,i,l.startAt,l.endAt)}function Ms(l,t){return ot(Oi(l),Oi(t))&&l.limitType===t.limitType}function qa(l){return`${Te(Oi(l))}|lt:${l.limitType}`}function go(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Wa(u)).join(", ")}]`),H(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(v=u).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>Or(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>Or(u)).join(",")),`Target(${s})`}(Oi(l))}; limitType=${l.limitType})`}function fs(l,t){return t.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):an.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(l,t)&&function(s,u){for(const f of bo(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(l,t)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(l,t)&&(u=t,!((s=l).startAt&&!function(v,A,M){const Q=wr(v,A,M);return v.inclusive?Q<=0:Q<0}(s.startAt,bo(s),u)||s.endAt&&!function(v,A,M){const Q=wr(v,A,M);return v.inclusive?Q>=0:Q>0}(s.endAt,bo(s),u)));var s,u}function Xc(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function qc(l){return(t,i)=>{let s=!1;for(const u of bo(l)){const f=Au(u,t,i);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function Au(l,t,i){const s=l.field.isKeyField()?an.comparator(t.key,i.key):function(f,v,A){const M=v.data.field(f),Q=A.data.field(f);return null!==M&&null!==Q?Nn(M,Q):Gt()}(l.field,t,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Gt()}}class ca{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,t))return f}has(t){return void 0!==this.get(t)}set(t,i){const s=this.mapKeyFn(t),u=this.inner[s];if(void 0===u)return this.inner[s]=[[t,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],t))return void(u[f]=[t,i]);u.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Ho(this.inner,(i,s)=>{for(const[u,f]of s)t(u,f)})}isEmpty(){return xa(this.inner)}size(){return this.innerSize}}const Du=new jr(an.comparator);function Go(){return Du}const Qc=new jr(an.comparator);function Wo(...l){let t=Qc;for(const i of l)t=t.insert(i.key,i);return t}function Yc(l){let t=Qc;return l.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function wo(){return So()}function Qa(){return So()}function So(){return new ca(l=>l.toString(),(l,t)=>l.isEqual(t))}const Ra=new jr(an.comparator),Zc=new Mr(an.comparator);function En(...l){let t=Zc;for(const i of l)t=t.add(i);return t}const Wr=new Mr(Mn);function Jc(){return Wr}function Ic(l,t){if(l.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ye(t)?"-0":t}}function Cc(l){return{integerValue:""+l}}function pd(l,t){return Ze(t)?Cc(t):Ic(l,t)}class ps{constructor(){this._=void 0}}function el(l,t,i){return l instanceof qs?function(u,f){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&$e(f)&&(f=qe(f)),f&&(v.fields.__previous_value__=f),{mapValue:v}}(i,t):l instanceof Fi?la(l,t):l instanceof Ma?Zo(l,t):function(u,f){const v=Xs(u,f),A=Ac(v)+Ac(u.Pe);return Qi(v)&&Qi(u.Pe)?Cc(A):Ic(u.serializer,A)}(l,t)}function Cr(l,t,i){return l instanceof Fi?la(l,t):l instanceof Ma?Zo(l,t):i}function Xs(l,t){return l instanceof gs?Qi(s=t)||(f=s)&&"doubleValue"in f?t:{integerValue:0}:null;var s,f}class qs extends ps{}class Fi extends ps{constructor(t){super(),this.elements=t}}function la(l,t){const i=T(t);for(const s of l.elements)i.some(u=>un(u,s))||i.push(s);return{arrayValue:{values:i}}}class Ma extends ps{constructor(t){super(),this.elements=t}}function Zo(l,t){let i=T(t);for(const s of l.elements)i=i.filter(u=>!un(u,s));return{arrayValue:{values:i}}}class gs extends ps{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function Ac(l){return L(l.integerValue||l.doubleValue)}function T(l){return vi(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class pe{constructor(t,i){this.field=t,this.transform=i}}class se{constructor(t,i){this.version=t,this.transformResults=i}}class je{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new je}static exists(t){return new je(void 0,t)}static updateTime(t){return new je(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Ft(l,t){return void 0!==l.updateTime?t.isFoundDocument()&&t.version.isEqual(l.updateTime):void 0===l.exists||l.exists===t.isFoundDocument()}class tn{}function wn(l,t){if(!l.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return l.isNoDocument()?new eo(l.key,je.none()):new Kr(l.key,l.data,je.none());{const i=l.data,s=$i.empty();let u=new Mr(ar.comparator);for(let f of t.fields)if(!u.has(f)){let v=i.field(f);null===v&&f.length>1&&(f=f.popLast(),v=i.field(f)),null===v?s.delete(f):s.set(f,v),u=u.add(f)}return new Sr(l.key,s,new xi(u.toArray()),je.none())}}function ui(l,t,i){l instanceof Kr?function(u,f,v){const A=u.value.clone(),M=Qs(u.fieldTransforms,f,v.transformResults);A.setAll(M),f.convertToFoundDocument(v.version,A).setHasCommittedMutations()}(l,t,i):l instanceof Sr?function(u,f,v){if(!Ft(u.precondition,f))return void f.convertToUnknownDocument(v.version);const A=Qs(u.fieldTransforms,f,v.transformResults),M=f.data;M.setAll(wi(u)),M.setAll(A),f.convertToFoundDocument(v.version,M).setHasCommittedMutations()}(l,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function lr(l,t,i,s){return l instanceof Kr?function(f,v,A,M){if(!Ft(f.precondition,v))return A;const Q=f.value.clone(),Ae=yi(f.fieldTransforms,M,v);return Q.setAll(Ae),v.convertToFoundDocument(v.version,Q).setHasLocalMutations(),null}(l,t,i,s):l instanceof Sr?function(f,v,A,M){if(!Ft(f.precondition,v))return A;const Q=yi(f.fieldTransforms,M,v),Ae=v.data;return Ae.setAll(wi(f)),Ae.setAll(Q),v.convertToFoundDocument(v.version,Ae).setHasLocalMutations(),null===A?null:A.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(Ve=>Ve.field))}(l,t,i,s):(A=i,Ft(l.precondition,v=t)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):A);var v,A}function ii(l,t){let i=null;for(const s of l.fieldTransforms){const u=t.data.field(s.field),f=Xs(s.transform,u||null);null!=f&&(null===i&&(i=$i.empty()),i.set(s.field,f))}return i||null}function dn(l,t){return l.type===t.type&&!!l.key.isEqual(t.key)&&!!l.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&Zn(s,u,(f,v)=>function O(l,t){return l.field.isEqual(t.field)&&(u=t.transform,(s=l.transform)instanceof Fi&&u instanceof Fi||s instanceof Ma&&u instanceof Ma?Zn(s.elements,u.elements,un):s instanceof gs&&u instanceof gs?un(s.Pe,u.Pe):s instanceof qs&&u instanceof qs);var s,u}(f,v))))&&(0===l.type?l.value.isEqual(t.value):1!==l.type||l.data.isEqual(t.data)&&l.fieldMask.isEqual(t.fieldMask));var s,u}class Kr extends tn{constructor(t,i,s,u=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Sr extends tn{constructor(t,i,s,u,f=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function wi(l){const t=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);t.set(i,s)}}),t}function Qs(l,t,i){const s=new Map;Ht(l.length===i.length);for(let u=0;u<i.length;u++){const f=l[u],v=f.transform,A=t.data.field(f.field);s.set(f.field,Cr(v,A,i[u]))}return s}function yi(l,t,i){const s=new Map;for(const u of l){const f=u.transform,v=i.data.field(u.field);s.set(u.field,el(f,v,t))}return s}class eo extends tn{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ko extends tn{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ho{constructor(t,i,s,u){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(t.key)&&ui(f,t,s[u])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=lr(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=lr(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=Qa();return this.mutations.forEach(u=>{const f=t.get(u.key),v=f.overlayedDocument;let A=this.applyToLocalView(v,f.mutatedFields);A=i.has(u.key)?null:A;const M=wn(v,A);null!==M&&s.set(u.key,M),v.isValidDocument()||v.convertToNoDocument(sn.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),En())}isEqual(t){return this.batchId===t.batchId&&Zn(this.mutations,t.mutations,(i,s)=>dn(i,s))&&Zn(this.baseMutations,t.baseMutations,(i,s)=>dn(i,s))}}class ms{constructor(t,i,s,u){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(t,i,s){Ht(t.mutations.length===s.length);let u=function(){return Ra}();const f=t.mutations;for(let v=0;v<f.length;v++)u=u.insert(f[v].key,s[v].version);return new ms(t,i,s,u)}}class Jo{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ya{constructor(t,i){this.count=t,this.unchangedNames=i}}var to,ur;function Ps(l){switch(l){default:return Gt();case He.CANCELLED:case He.UNKNOWN:case He.DEADLINE_EXCEEDED:case He.RESOURCE_EXHAUSTED:case He.INTERNAL:case He.UNAVAILABLE:case He.UNAUTHENTICATED:return!1;case He.INVALID_ARGUMENT:case He.NOT_FOUND:case He.ALREADY_EXISTS:case He.PERMISSION_DENIED:case He.FAILED_PRECONDITION:case He.ABORTED:case He.OUT_OF_RANGE:case He.UNIMPLEMENTED:case He.DATA_LOSS:return!0}}function Sl(l){if(void 0===l)return Jt("GRPC error has no .code"),He.UNKNOWN;switch(l){case to.OK:return He.OK;case to.CANCELLED:return He.CANCELLED;case to.UNKNOWN:return He.UNKNOWN;case to.DEADLINE_EXCEEDED:return He.DEADLINE_EXCEEDED;case to.RESOURCE_EXHAUSTED:return He.RESOURCE_EXHAUSTED;case to.INTERNAL:return He.INTERNAL;case to.UNAVAILABLE:return He.UNAVAILABLE;case to.UNAUTHENTICATED:return He.UNAUTHENTICATED;case to.INVALID_ARGUMENT:return He.INVALID_ARGUMENT;case to.NOT_FOUND:return He.NOT_FOUND;case to.ALREADY_EXISTS:return He.ALREADY_EXISTS;case to.PERMISSION_DENIED:return He.PERMISSION_DENIED;case to.FAILED_PRECONDITION:return He.FAILED_PRECONDITION;case to.ABORTED:return He.ABORTED;case to.OUT_OF_RANGE:return He.OUT_OF_RANGE;case to.UNIMPLEMENTED:return He.UNIMPLEMENTED;case to.DATA_LOSS:return He.DATA_LOSS;default:return Gt()}}(ur=to||(to={}))[ur.OK=0]="OK",ur[ur.CANCELLED=1]="CANCELLED",ur[ur.UNKNOWN=2]="UNKNOWN",ur[ur.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ur[ur.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ur[ur.NOT_FOUND=5]="NOT_FOUND",ur[ur.ALREADY_EXISTS=6]="ALREADY_EXISTS",ur[ur.PERMISSION_DENIED=7]="PERMISSION_DENIED",ur[ur.UNAUTHENTICATED=16]="UNAUTHENTICATED",ur[ur.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ur[ur.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ur[ur.ABORTED=10]="ABORTED",ur[ur.OUT_OF_RANGE=11]="OUT_OF_RANGE",ur[ur.UNIMPLEMENTED=12]="UNIMPLEMENTED",ur[ur.INTERNAL=13]="INTERNAL",ur[ur.UNAVAILABLE=14]="UNAVAILABLE",ur[ur.DATA_LOSS=15]="DATA_LOSS";function Za(){return new TextEncoder}const vs=new Ye([4294967295,4294967295],0);function bh(l){const t=Za().encode(l),i=new Ie;return i.update(t),new Uint8Array(i.digest())}function wh(l){const t=new DataView(l.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),f=t.getUint32(12,!0);return[new Ye([i,s],0),new Ye([u,f],0)]}class Rl{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ro(`Invalid padding: ${i}`);if(s<0)throw new Ro(`Invalid hash count: ${s}`);if(t.length>0&&0===this.hashCount)throw new Ro(`Invalid hash count: ${s}`);if(0===t.length&&0!==i)throw new Ro(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Ye.fromNumber(this.Ie)}Ee(t,i,s){let u=t.add(i.multiply(Ye.fromNumber(s)));return 1===u.compare(vs)&&(u=new Ye([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const i=bh(t),[s,u]=wh(i);for(let f=0;f<this.hashCount;f++){const v=this.Ee(s,u,f);if(!this.de(v))return!1}return!0}static create(t,i,s){const u=t%8==0?0:8-t%8,f=new Uint8Array(Math.ceil(t/8)),v=new Rl(f,u,i);return s.forEach(A=>v.insert(A)),v}insert(t){if(0===this.Ie)return;const i=bh(t),[s,u]=wh(i);for(let f=0;f<this.hashCount;f++){const v=this.Ee(s,u,f);this.Ae(v)}}Ae(t){const i=Math.floor(t/8);this.bitmap[i]|=1<<t%8}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Mo{constructor(t,i,s,u,f){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const u=new Map;return u.set(t,Ns.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Mo(sn.min(),u,new jr(Mn),Go(),En())}}class Ns{constructor(t,i,s,u,f){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Ns(s,i,En(),En(),En())}}class tl{constructor(t,i,s,u){this.Re=t,this.removedTargetIds=i,this.key=s,this.Ve=u}}class Ja{constructor(t,i){this.targetId=t,this.me=i}}class Os{constructor(t,i,s=J.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=u}}class er{constructor(){this.fe=0,this.ge=Tu(),this.pe=J.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=En(),i=En(),s=En();return this.ge.forEach((u,f)=>{switch(f){case 0:t=t.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Gt()}}),new Ns(this.pe,this.ye,t,i,s)}Ce(){this.we=!1,this.ge=Tu()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ys{constructor(t){this.Le=t,this.Be=new Map,this.ke=Go(),this.qe=nl(),this.Qe=new jr(Mn)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{const s=this.Ge(i);switch(t.state){case 0:this.ze(i)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(t.resumeToken));break;default:Gt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(t){const i=t.targetId,s=t.me.count,u=this.Je(i);if(u){const f=u.target;if(Vn(f))if(0===s){const v=new an(f.path);this.Ue(i,v,Gr.newNoDocument(v,sn.min()))}else Ht(1===s);else{const v=this.Ye(i);if(v!==s){const A=this.Ze(t),M=A?this.Xe(A,t,v):1;0!==M&&(this.je(i),this.Qe=this.Qe.insert(i,2===M?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let v,A;try{v=me(s).toUint8Array()}catch(M){if(M instanceof Y)return yn("Decoding the base64 bloom filter in existence filter failed ("+M.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw M}try{A=new Rl(v,u,f)}catch(M){return yn(M instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",M),null}return 0===A.Ie?null:A}Xe(t,i,s){return i.me.count===s-this.nt(t,i.targetId)?0:2}nt(t,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(f=>{const v=this.Le.tt(),A=`projects/${v.projectId}/databases/${v.database}/documents/${f.path.canonicalString()}`;t.mightContain(A)||(this.Ue(i,f,null),u++)}),u}rt(t){const i=new Map;this.Be.forEach((f,v)=>{const A=this.Je(v);if(A){if(f.current&&Vn(A.target)){const M=new an(A.target.path);null!==this.ke.get(M)||this.it(v,M)||this.Ue(v,M,Gr.newNoDocument(M,t))}f.be&&(i.set(v,f.ve()),f.Ce())}});let s=En();this.qe.forEach((f,v)=>{let A=!0;v.forEachWhile(M=>{const Q=this.Je(M);return!Q||"TargetPurposeLimboResolution"===Q.purpose||(A=!1,!1)}),A&&(s=s.add(f))}),this.ke.forEach((f,v)=>v.setReadTime(t));const u=new Mo(t,i,this.Qe,this.ke,s);return this.ke=Go(),this.qe=nl(),this.Qe=new jr(Mn),u}$e(t,i){if(!this.ze(t))return;const s=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,s){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new er,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new Mr(Mn),this.qe=this.qe.insert(t,i)),i}ze(t){const i=null!==this.Je(t);return i||gt("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new er),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function nl(){return new jr(an.comparator)}function Tu(){return new jr(an.comparator)}const rl={asc:"ASCENDING",desc:"DESCENDING"},xu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Pa={and:"AND",or:"OR"};class da{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gd(l,t){return l.useProto3Json||H(t)?t:{value:t}}function _s(l,t){return l.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ml(l,t){return l.useProto3Json?t.toBase64():t.toUint8Array()}function Tc(l,t){return _s(l,t.toTimestamp())}function si(l){return Ht(!!l),sn.fromTimestamp(function(i){const s=Pe(i);return new xn(s.seconds,s.nanos)}(l))}function Pl(l,t){return xc(l,t).canonicalString()}function xc(l,t){const i=(u=l,new Pn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?i:i.child(t)}function bu(l){const t=Pn.fromString(l);return Ht(fa(t)),t}function ha(l,t){return Pl(l.databaseId,t.path)}function Fs(l,t){const i=bu(t);if(i.get(1)!==l.databaseId.projectId)throw new ze(He.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new ze(He.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new an(vd(i))}function Nl(l,t){return Pl(l.databaseId,t)}function Es(l){const t=bu(l);return 4===t.length?Pn.emptyPath():vd(t)}function md(l){return new Pn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function vd(l){return Ht(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function tp(l,t,i){return{name:ha(l,t),fields:i.value.mapValue.fields}}function bc(l,t,i){const s=Fs(l,t.name),u=si(t.updateTime),f=t.createTime?si(t.createTime):sn.min(),v=new $i({mapValue:{fields:t.fields}}),A=Gr.newFoundDocument(s,u,f,v);return i&&A.setHasCommittedMutations(),i?A.setHasCommittedMutations():A}function w(l,t){let i;if(t instanceof Kr)i={update:tp(l,t.key,t.value)};else if(t instanceof eo)i={delete:ha(l,t.key)};else if(t instanceof Sr)i={update:tp(l,t.key,t.data),updateMask:pi(t.fieldMask)};else{if(!(t instanceof Ko))return Gt();i={verify:ha(l,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(f,v){const A=v.transform;if(A instanceof qs)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(A instanceof Fi)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:A.elements}};if(A instanceof Ma)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:A.elements}};if(A instanceof gs)return{fieldPath:v.field.canonicalString(),increment:A.Pe};throw Gt()}(0,s))),t.precondition.isNone||(i.currentDocument=void 0!==(f=t.precondition).updateTime?{updateTime:Tc(l,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Gt()),i;var f}function C(l,t){const i=t.currentDocument?void 0!==(f=t.currentDocument).updateTime?je.updateTime(si(f.updateTime)):void 0!==f.exists?je.exists(f.exists):je.none():je.none(),s=t.updateTransforms?t.updateTransforms.map(u=>function(v,A){let M=null;"setToServerValue"in A?(Ht("REQUEST_TIME"===A.setToServerValue),M=new qs):"appendMissingElements"in A?M=new Fi(A.appendMissingElements.values||[]):"removeAllFromArray"in A?M=new Ma(A.removeAllFromArray.values||[]):"increment"in A?M=new gs(v,A.increment):Gt();const Q=ar.fromServerFormat(A.fieldPath);return new pe(Q,M)}(l,u)):[];var f;if(t.update){const u=Fs(l,t.update.name),f=new $i({mapValue:{fields:t.update.fields}});if(t.updateMask){const v=new xi((t.updateMask.fieldPaths||[]).map(Ae=>ar.fromServerFormat(Ae)));return new Sr(u,f,v,i,s)}return new Kr(u,f,i,s)}if(t.delete){const u=Fs(l,t.delete);return new eo(u,i)}if(t.verify){const u=Fs(l,t.verify);return new Ko(u,i)}return Gt()}function X(l,t){return{documents:[Nl(l,t.path)]}}function be(l,t){const i={structuredQuery:{}},s=t.path;let u;null!==t.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Nl(l,u);const f=function(Q){if(0!==Q.length)return mo(ir.create(Q,"and"))}(t.filters);f&&(i.structuredQuery.where=f);const v=function(Q){if(0!==Q.length)return Q.map(Ae=>{return{field:Fr((nt=Ae).field),direction:sr(nt.dir)};var nt})}(t.orderBy);v&&(i.structuredQuery.orderBy=v);const A=gd(l,t.limit);return null!==A&&(i.structuredQuery.limit=A),t.startAt&&(i.structuredQuery.startAt={before:(Q=t.startAt).inclusive,values:Q.position}),t.endAt&&(i.structuredQuery.endAt=function(Q){return{before:!Q.inclusive,values:Q.position}}(t.endAt)),{_t:i,parent:u};var Q}function Vt(l){let t=Es(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){Ht(1===s);const Ae=i.from[0];Ae.allDescendants?u=Ae.collectionId:t=t.child(Ae.collectionId)}let f=[];i.where&&(f=function(Ve){const nt=Dn(Ve);return nt instanceof ir&&Wi(nt)?nt.getFilters():[nt]}(i.where));let v=[];i.orderBy&&(v=i.orderBy.map(nt=>{return new Br(kr((on=nt).field),function(hn){switch(hn){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(on.direction));var on}));let A=null;i.limit&&(A=function(Ve){let nt;return nt="object"==typeof Ve?Ve.value:Ve,H(nt)?null:nt}(i.limit));let M=null;var Ve;i.startAt&&(M=new To((Ve=i.startAt).values||[],!!Ve.before));let Q=null;return i.endAt&&(Q=function(Ve){return new To(Ve.values||[],!Ve.before)}(i.endAt)),hs(t,u,v,f,A,"F",M,Q)}function Dn(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=kr(i.unaryFilter.field);return Ir.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=kr(i.unaryFilter.field);return Ir.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=kr(i.unaryFilter.field);return Ir.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=kr(i.unaryFilter.field);return Ir.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Gt()}}(l):void 0!==l.fieldFilter?Ir.create(kr((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gt()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return ir.create(i.compositeFilter.filters.map(s=>Dn(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Gt()}}(i.compositeFilter.op))}(l):Gt();var i}function sr(l){return rl[l]}function vr(l){return xu[l]}function Hn(l){return Pa[l]}function Fr(l){return{fieldPath:l.canonicalString()}}function kr(l){return ar.fromServerFormat(l.fieldPath)}function mo(l){return l instanceof Ir?function(i){if("=="===i.op){if(Gs(i.value))return{unaryFilter:{field:Fr(i.field),op:"IS_NAN"}};if(Ha(i.value))return{unaryFilter:{field:Fr(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Gs(i.value))return{unaryFilter:{field:Fr(i.field),op:"IS_NOT_NAN"}};if(Ha(i.value))return{unaryFilter:{field:Fr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fr(i.field),op:vr(i.op),value:i.value}}}(l):l instanceof ir?function(i){const s=i.getFilters().map(u=>mo(u));return 1===s.length?s[0]:{compositeFilter:{op:Hn(i.op),filters:s}}}(l):Gt()}function pi(l){const t=[];return l.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function fa(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Ys{constructor(t,i,s,u,f=sn.min(),v=sn.min(),A=J.EMPTY_BYTE_STRING,M=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=A,this.expectedCount=M}withSequenceNumber(t){return new Ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Zs{constructor(t){this.ct=t}}function yd(l,t){const i=t.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:il(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document={name:ha(f=l.ct,(v=t).key),fields:v.data.value.mapValue.fields,updateTime:_s(f,v.version.toTimestamp()),createTime:_s(f,v.createTime.toTimestamp())};else if(t.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:ec(t.version)};else{if(!t.isUnknownDocument())return Gt();s.unknownDocument={path:i.path.toArray(),version:ec(t.version)}}var f,v;return s}function il(l){const t=l.toTimestamp();return[t.seconds,t.nanoseconds]}function ec(l){const t=l.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Js(l){const t=new xn(l.seconds,l.nanoseconds);return sn.fromTimestamp(t)}function Na(l,t){const i=(t.baseMutations||[]).map(f=>C(l.ct,f));for(let f=0;f<t.mutations.length-1;++f)f+1<t.mutations.length&&void 0!==t.mutations[f+1].transform&&(t.mutations[f].updateTransforms=t.mutations[f+1].transform.fieldTransforms,t.mutations.splice(f+1,1),++f);const s=t.mutations.map(f=>C(l.ct,f)),u=xn.fromMillis(t.localWriteTimeMs);return new ho(t.batchId,u,i,s)}function wc(l){const t=Js(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?Js(l.lastLimboFreeSnapshotVersion):sn.min();let s;return s=void 0!==l.query.documents?(Ht(1===(f=l.query).documents.length),Oi(xo(Es(f.documents[0])))):function(f){return Oi(Vt(f))}(l.query),new Ys(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,t,i,J.fromBase64String(l.resumeToken));var f}function Sh(l,t){const i=ec(t.snapshotVersion),s=ec(t.lastLimboFreeSnapshotVersion);let u;u=Vn(t.target)?X(l.ct,t.target):be(l.ct,t.target)._t;const f=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Te(t.target),readTime:i,resumeToken:f,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function tc(l){const t=Vt({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?or(t,t.limit,"L"):t}function nc(l,t){return new Jo(t.largestBatchId,C(l.ct,t.overlayMutation))}function Ol(l,t){const i=t.path.lastSegment();return[l,Ne(t.path.popLast()),i]}function Rh(l,t,i,s){return{indexId:l,uid:t,sequenceNumber:i,readTime:ec(s.readTime),documentKey:Ne(s.documentKey.path),largestBatchId:s.largestBatchId}}class rp{getBundleMetadata(t,i){return Sc(t).get(i).next(s=>{if(s)return{id:(f=s).bundleId,createTime:Js(f.createTime),version:f.version};var f})}saveBundleMetadata(t,i){return Sc(t).put({bundleId:(u=i).id,createTime:ec(si(u.createTime)),version:u.version});var u}getNamedQuery(t,i){return _d(t).get(i).next(s=>{if(s)return{name:(f=s).name,query:tc(f.bundledQuery),readTime:Js(f.readTime)};var f})}saveNamedQuery(t,i){return _d(t).put({name:(u=i).name,readTime:ec(si(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Sc(l){return ni(l,"bundles")}function _d(l){return ni(l,"namedQueries")}class ol{constructor(t,i){this.serializer=t,this.userId=i}static lt(t,i){return new ol(t,i.uid||"")}getOverlay(t,i){return Rc(t).get(Ol(this.userId,i)).next(s=>s?nc(this.serializer,s):null)}getOverlays(t,i){const s=wo();return pt.forEach(i,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,i,s){const u=[];return s.forEach((f,v)=>{const A=new Jo(i,v);u.push(this.ht(t,A))}),pt.waitFor(u)}removeOverlaysForBatchId(t,i,s){const u=new Set;i.forEach(v=>u.add(Ne(v.getCollectionPath())));const f=[];return u.forEach(v=>{const A=IDBKeyRange.bound([this.userId,v,s],[this.userId,v,s+1],!1,!0);f.push(Rc(t).j("collectionPathOverlayIndex",A))}),pt.waitFor(f)}getOverlaysForCollection(t,i,s){const u=wo(),f=Ne(i),v=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return Rc(t).U("collectionPathOverlayIndex",v).next(A=>{for(const M of A){const Q=nc(this.serializer,M);u.set(Q.getKey(),Q)}return u})}getOverlaysForCollectionGroup(t,i,s,u){const f=wo();let v;const A=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Rc(t).J({index:"collectionGroupOverlayIndex",range:A},(M,Q,Ae)=>{const Ve=nc(this.serializer,Q);f.size()<u||Ve.largestBatchId===v?(f.set(Ve.getKey(),Ve),v=Ve.largestBatchId):Ae.done()}).next(()=>f)}ht(t,i){return Rc(t).put(function(u,f,v){const[A,M,Q]=Ol(f,v.mutation.key);return{userId:f,collectionPath:M,documentId:Q,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:w(u.ct,v.mutation)}}(this.serializer,this.userId,i))}}function Rc(l){return ni(l,"documentOverlays")}class sm{Pt(t){return ni(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(i=>{const s=i?.value;return s?J.fromUint8Array(s):J.EMPTY_BYTE_STRING})}setSessionToken(t,i){return this.Pt(t).put({name:"sessionToken",value:i.toUint8Array()})}}class pa{constructor(){}It(t,i){this.Tt(t,i),i.Et()}Tt(t,i){if("nullValue"in t)this.dt(i,5);else if("booleanValue"in t)this.dt(i,10),i.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(i,15),i.At(L(t.integerValue));else if("doubleValue"in t){const s=L(t.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),ye(s)?i.At(0):i.At(s))}else if("timestampValue"in t){let s=t.timestampValue;this.dt(i,20),"string"==typeof s&&(s=Pe(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,i),this.ft(i);else if("bytesValue"in t)this.dt(i,30),i.gt(me(t.bytesValue)),this.ft(i);else if("referenceValue"in t)this.yt(t.referenceValue,i);else if("geoPointValue"in t){const s=t.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in t?lo(t)?this.dt(i,Number.MAX_SAFE_INTEGER):Ws(t)?this.wt(t.mapValue,i):(this.St(t.mapValue,i),this.ft(i)):"arrayValue"in t?(this.bt(t.arrayValue,i),this.ft(i)):Gt()}Vt(t,i){this.dt(i,25),this.Dt(t,i)}Dt(t,i){i.Rt(t)}St(t,i){const s=t.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(t,i){var s,u;const f=t.fields||{};this.dt(i,53);const v="value",A=(null===(u=null===(s=f[v].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(L(A)),this.Vt(v,i),this.Tt(f[v],i)}bt(t,i){const s=t.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(t,i){this.dt(i,37),an.fromName(t).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(t,i){t.At(i)}ft(t){t.At(2)}}function Ed(l){if(0===l)return 8;let t=0;return!(l>>4)&&(t+=4,l<<=4),!(l>>6)&&(t+=2,l<<=2),!(l>>7)&&(t+=1),t}function es(l){const t=64-function(s){let u=0;for(let f=0;f<8;++f){const v=Ed(255&s[f]);if(u+=v,8!==v)break}return u}(l);return Math.ceil(t/8)}pa.vt=new pa;class Fl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(t){const i=this.qt(t),s=es(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(t){const i=this.qt(t),s=es(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const i=function(f){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,f,!1),new Uint8Array(v.buffer)}(t),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(t){const i=255&t;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(t){const i=255&t;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const i=t+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class wu{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Mh{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class Su{constructor(){this.jt=new Fl,this.Ht=new wu(this.jt),this.Jt=new Mh(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class ea{constructor(t,i,s,u){this.indexId=t,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==t?s.set([0],this.directionalValue.length):++s[s.length-1],new ea(this.indexId,this.documentKey,this.arrayValue,s)}}function ks(l,t){let i=l.indexId-t.indexId;return 0!==i?i:(i=ip(l.arrayValue,t.arrayValue),0!==i?i:(i=ip(l.directionalValue,t.directionalValue),0!==i?i:an.comparator(l.documentKey,t.documentKey)))}function ip(l,t){for(let i=0;i<l.length&&i<t.length;++i){const s=l[i]-t[i];if(0!==s)return s}return l.length-t.length}class Id{constructor(t){this.Xt=new Mr((i,s)=>ar.comparator(i.field,s.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const i of t.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(t){if(Ht(t.collectionGroup===this.collectionId),this.nn)return!1;const i=qr(t);if(void 0!==i&&!this.sn(i))return!1;const s=Mt(t);let u=new Set,f=0,v=0;for(;f<s.length&&this.sn(s[f]);++f)u=u.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Xt.size>0){const A=this.Xt.getIterator().getNext();if(!u.has(A.field.canonicalString())){const M=s[f];if(!this.on(A,M)||!this._n(this.en[v++],M))return!1}++f}for(;f<s.length;++f)if(v>=this.en.length||!this._n(this.en[v++],s[f]))return!1;return!0}an(){if(this.nn)return null;let t=new Mr(ar.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new Ge(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),i.push(new Ge(s.field,0))}for(const s of this.en)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),i.push(new Ge(s.field,"asc"===s.dir?0:1)));return new Hr(Hr.UNKNOWN_ID,this.collectionId,i,$t.empty())}sn(t){for(const i of this.tn)if(this.on(i,t))return!0;return!1}on(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function Cd(l){var t,i;if(Ht(l instanceof Ir||l instanceof ir),l instanceof Ir){if(l instanceof Ka){const u=(null===(i=null===(t=l.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(f=>Ir.create(l.field,"==",f)))||[];return ir.create(u,"or")}return l}const s=l.filters.map(u=>Cd(u));return ir.create(s,l.op)}function Ru(l){if(0===l.getFilters().length)return[];const t=rc(Cd(l));return Ht(Mu(t)),Ph(t)||kl(t)?[t]:t.getFilters()}function Ph(l){return l instanceof Ir}function kl(l){return l instanceof ir&&Wi(l)}function Mu(l){return Ph(l)||kl(l)||function(i){if(i instanceof ir&&ba(i)){for(const s of i.getFilters())if(!Ph(s)&&!kl(s))return!1;return!0}return!1}(l)}function rc(l){if(Ht(l instanceof Ir||l instanceof ir),l instanceof Ir)return l;if(1===l.filters.length)return rc(l.filters[0]);const t=l.filters.map(s=>rc(s));let i=ir.create(t,l.op);return i=ki(i),Mu(i)?i:(Ht(i instanceof ir),Ht(jn(i)),Ht(i.filters.length>1),i.filters.reduce((s,u)=>Nh(s,u)))}function Nh(l,t){let i;return Ht(l instanceof Ir||l instanceof ir),Ht(t instanceof Ir||t instanceof ir),i=l instanceof Ir?t instanceof Ir?ir.create([l,t],"and"):op(l,t):t instanceof Ir?op(t,l):function(u,f){if(Ht(u.filters.length>0&&f.filters.length>0),jn(u)&&jn(f))return Yo(u,f.getFilters());const v=ba(u)?u:f,A=ba(u)?f:u,M=v.filters.map(Q=>Nh(Q,A));return ir.create(M,"or")}(l,t),ki(i)}function op(l,t){if(jn(t))return Yo(t,l.getFilters());{const i=t.filters.map(s=>Nh(l,s));return ir.create(i,"or")}}function ki(l){if(Ht(l instanceof Ir||l instanceof ir),l instanceof Ir)return l;const t=l.getFilters();if(1===t.length)return ki(t[0]);if(Ga(l))return l;const i=t.map(u=>ki(u)),s=[];return i.forEach(u=>{u instanceof Ir?s.push(u):u instanceof ir&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:ir.create(s,l.op)}class sp{constructor(){this.un=new Oh}addToCollectionParentIndex(t,i){return this.un.add(i),pt.resolve()}getCollectionParents(t,i){return pt.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return pt.resolve()}deleteFieldIndex(t,i){return pt.resolve()}deleteAllFieldIndexes(t){return pt.resolve()}createTargetIndexes(t,i){return pt.resolve()}getDocumentsMatchingTarget(t,i){return pt.resolve(null)}getIndexType(t,i){return pt.resolve(0)}getFieldIndexes(t,i){return pt.resolve([])}getNextCollectionGroupToUpdate(t){return pt.resolve(null)}getMinOffset(t,i){return pt.resolve(Qe.min())}getMinOffsetFromCollectionGroup(t,i){return pt.resolve(Qe.min())}updateCollectionGroup(t,i,s){return pt.resolve()}updateIndexEntries(t,i){return pt.resolve()}}class Oh{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i]||new Mr(Pn.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(t){return(this.index[t]||new Mr(Pn.comparator)).toArray()}}const Oa=new Uint8Array(0);class am{constructor(t,i){this.databaseId=i,this.cn=new Oh,this.ln=new ca(s=>Te(s),(s,u)=>ot(s,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();t.addOnCommittedListener(()=>{this.cn.add(i)});const f={collectionId:s,parent:Ne(u)};return ap(t).put(f)}return pt.resolve()}getCollectionParents(t,i){const s=[],u=IDBKeyRange.bound([i,""],[fi(i),""],!1,!0);return ap(t).U(u).next(f=>{for(const v of f){if(v.collectionId!==i)break;s.push(ln(v.parent))}return s})}addFieldIndex(t,i){const s=Pu(t),u={indexId:(A=i).indexId,collectionGroup:A.collectionGroup,fields:A.fields.map(M=>[M.fieldPath.canonicalString(),M.kind])};var A;delete u.indexId;const f=s.add(u);if(i.indexState){const v=Pc(t);return f.next(A=>{v.put(Rh(A,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return f.next()}deleteFieldIndex(t,i){const s=Pu(t),u=Pc(t),f=Mc(t);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const i=Pu(t),s=Mc(t),u=Pc(t);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(t,i){return pt.forEach(this.hn(i),s=>this.getIndexType(t,s).next(u=>{if(0===u||1===u){const f=new Id(s).an();if(null!=f)return this.addFieldIndex(t,f)}}))}getDocumentsMatchingTarget(t,i){const s=Mc(t);let u=!0;const f=new Map;return pt.forEach(this.hn(i),v=>this.Pn(t,v).next(A=>{u&&(u=!!A),f.set(v,A)})).next(()=>{if(u){let v=En();const A=[];return pt.forEach(f,(M,Q)=>{var zn;gt("IndexedDbIndexManager",`Using index ${zn=M,`id=${zn.indexId}|cg=${zn.collectionGroup}|f=${zn.fields.map(_r=>`${_r.fieldPath}:${_r.kind}`).join(",")}`} to execute ${Te(i)}`);const Ae=function(zn,_r){const Nr=qr(_r);if(void 0===Nr)return null;for(const Tr of Jn(zn,Nr.fieldPath))switch(Tr.op){case"array-contains-any":return Tr.value.arrayValue.values||[];case"array-contains":return[Tr.value]}return null}(Q,M),Ve=function(zn,_r){const Nr=new Map;for(const Tr of Mt(_r))for(const It of Jn(zn,Tr.fieldPath))switch(It.op){case"==":case"in":Nr.set(Tr.fieldPath.canonicalString(),It.value);break;case"not-in":case"!=":return Nr.set(Tr.fieldPath.canonicalString(),It.value),Array.from(Nr.values())}return null}(Q,M),nt=function(zn,_r){const Nr=[];let Tr=!0;for(const It of Mt(_r)){const tt=0===It.kind?pr(zn,It.fieldPath,zn.startAt):io(zn,It.fieldPath,zn.startAt);Nr.push(tt.value),Tr&&(Tr=tt.inclusive)}return new To(Nr,Tr)}(Q,M),Pt=function(zn,_r){const Nr=[];let Tr=!0;for(const It of Mt(_r)){const tt=0===It.kind?io(zn,It.fieldPath,zn.endAt):pr(zn,It.fieldPath,zn.endAt);Nr.push(tt.value),Tr&&(Tr=tt.inclusive)}return new To(Nr,Tr)}(Q,M),on=this.In(M,Q,nt),gn=this.In(M,Q,Pt),hn=this.Tn(M,Q,Ve),Gn=this.En(M.indexId,Ae,on,nt.inclusive,gn,Pt.inclusive,hn);return pt.forEach(Gn,Yn=>s.G(Yn,i.limit).next(zn=>{zn.forEach(_r=>{const Nr=an.fromSegments(_r.documentKey);v.has(Nr)||(v=v.add(Nr),A.push(Nr))})}))}).next(()=>A)}return pt.resolve(null)})}hn(t){let i=this.ln.get(t);return i||(i=0===t.filters.length?[t]:Ru(ir.create(t.filters,"and")).map(s=>R(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,i),i)}En(t,i,s,u,f,v,A){const M=(null!=i?i.length:1)*Math.max(s.length,f.length),Q=M/(null!=i?i.length:1),Ae=[];for(let Ve=0;Ve<M;++Ve){const nt=i?this.dn(i[Ve/Q]):Oa,Pt=this.An(t,nt,s[Ve%Q],u),on=this.Rn(t,nt,f[Ve%Q],v),gn=A.map(hn=>this.An(t,nt,hn,!0));Ae.push(...this.createRange(Pt,on,gn))}return Ae}An(t,i,s,u){const f=new ea(t,an.empty(),i,s);return u?f:f.Zt()}Rn(t,i,s,u){const f=new ea(t,an.empty(),i,s);return u?f.Zt():f}Pn(t,i){const s=new Id(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,u).next(f=>{let v=null;for(const A of f)s.rn(A)&&(!v||A.fields.length>v.fields.length)&&(v=A);return v})}getIndexType(t,i){let s=2;const u=this.hn(i);return pt.forEach(u,f=>this.Pn(t,f).next(v=>{v?0!==s&&v.fields.length<function(M){let Q=new Mr(ar.comparator),Ae=!1;for(const Ve of M.filters)for(const nt of Ve.getFlattenedFilters())nt.field.isKeyField()||("array-contains"===nt.op||"array-contains-any"===nt.op?Ae=!0:Q=Q.add(nt.field));for(const Ve of M.orderBy)Ve.field.isKeyField()||(Q=Q.add(Ve.field));return Q.size+(Ae?1:0)}(f)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(t,i){const s=new Su;for(const u of Mt(t)){const f=i.data.field(u.fieldPath);if(null==f)return null;const v=s.Yt(u.kind);pa.vt.It(f,v)}return s.zt()}dn(t){const i=new Su;return pa.vt.It(t,i.Yt(0)),i.zt()}mn(t,i){const s=new Su;return pa.vt.It(cn(this.databaseId,i),s.Yt(function(f){const v=Mt(f);return 0===v.length?0:v[v.length-1].kind}(t))),s.zt()}Tn(t,i,s){if(null===s)return[];let u=[];u.push(new Su);let f=0;for(const v of Mt(t)){const A=s[f++];for(const M of u)if(this.fn(i,v.fieldPath)&&vi(A))u=this.gn(u,v,A);else{const Q=M.Yt(v.kind);pa.vt.It(A,Q)}}return this.pn(u)}In(t,i,s){return this.Tn(t,i,s.position)}pn(t){const i=[];for(let s=0;s<t.length;++s)i[s]=t[s].zt();return i}gn(t,i,s){const u=[...t],f=[];for(const v of s.arrayValue.values||[])for(const A of u){const M=new Su;M.seed(A.zt()),pa.vt.It(v,M.Yt(i.kind)),f.push(M)}return f}fn(t,i){return!!t.filters.find(s=>s instanceof Ir&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(t,i){const s=Pu(t),u=Pc(t);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(f=>{const v=[];return pt.forEach(f,A=>u.get([A.indexId,this.uid]).next(M=>{v.push(function(Ae,Ve){const nt=Ve?new $t(Ve.sequenceNumber,new Qe(Js(Ve.readTime),new an(ln(Ve.documentKey)),Ve.largestBatchId)):$t.empty(),Pt=Ae.fields.map(([on,gn])=>new Ge(ar.fromServerFormat(on),gn));return new Hr(Ae.indexId,Ae.collectionGroup,Pt,nt)}(A,M))})).next(()=>v)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((s,u)=>{const f=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Mn(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,s){const u=Pu(t),f=Pc(t);return this.yn(t).next(v=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(A=>pt.forEach(A,M=>f.put(Rh(M.indexId,this.uid,v,s)))))}updateIndexEntries(t,i){const s=new Map;return pt.forEach(i,(u,f)=>{const v=s.get(u.collectionGroup);return(v?pt.resolve(v):this.getFieldIndexes(t,u.collectionGroup)).next(A=>(s.set(u.collectionGroup,A),pt.forEach(A,M=>this.wn(t,u,M).next(Q=>{const Ae=this.Sn(f,M);return Q.isEqual(Ae)?pt.resolve():this.bn(t,f,M,Q,Ae)}))))})}Dn(t,i,s,u){return Mc(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(t,i,s,u){return Mc(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(t,i,s){const u=Mc(t);let f=new Mr(ks);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(v,A)=>{f=f.add(new ea(s.indexId,i,A.arrayValue,A.directionalValue))}).next(()=>f)}Sn(t,i){let s=new Mr(ks);const u=this.Vn(i,t);if(null==u)return s;const f=qr(i);if(null!=f){const v=t.data.field(f.fieldPath);if(vi(v))for(const A of v.arrayValue.values||[])s=s.add(new ea(i.indexId,t.key,this.dn(A),u))}else s=s.add(new ea(i.indexId,t.key,Oa,u));return s}bn(t,i,s,u,f){gt("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const v=[];return function(M,Q,Ae,Ve,nt){const Pt=M.getIterator(),on=Q.getIterator();let gn=Ao(Pt),hn=Ao(on);for(;gn||hn;){let Gn=!1,Yn=!1;if(gn&&hn){const zn=Ae(gn,hn);zn<0?Yn=!0:zn>0&&(Gn=!0)}else null!=gn?Yn=!0:Gn=!0;Gn?(Ve(hn),hn=Ao(on)):Yn?(nt(gn),gn=Ao(Pt)):(gn=Ao(Pt),hn=Ao(on))}}(u,f,ks,A=>{v.push(this.Dn(t,i,s,A))},A=>{v.push(this.vn(t,i,s,A))}),pt.waitFor(v)}yn(t){let i=1;return Pc(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,f)=>{f.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(t,i,s){s=s.sort((v,A)=>ks(v,A)).filter((v,A,M)=>!A||0!==ks(v,M[A-1]));const u=[];u.push(t);for(const v of s){const A=ks(v,t),M=ks(v,i);if(0===A)u[0]=t.Zt();else if(A>0&&M<0)u.push(v),u.push(v.Zt());else if(M>0)break}u.push(i);const f=[];for(let v=0;v<u.length;v+=2){if(this.Cn(u[v],u[v+1]))return[];f.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,Oa,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,Oa,[]]))}return f}Cn(t,i){return ks(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(Nu)}getMinOffset(t,i){return pt.mapArray(this.hn(i),s=>this.Pn(t,s).next(u=>u||Gt())).next(Nu)}}function ap(l){return ni(l,"collectionParents")}function Mc(l){return ni(l,"indexEntries")}function Pu(l){return ni(l,"indexConfiguration")}function Pc(l){return ni(l,"indexState")}function Nu(l){Ht(0!==l.length);let t=l[0].indexState.offset,i=t.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;Rt(u,t)<0&&(t=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new Qe(t.readTime,t.documentKey,i)}const Ll={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new oo(t,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function _i(l,t,i){const s=l.store("mutations"),u=l.store("documentMutations"),f=[],v=IDBKeyRange.only(i.batchId);let A=0;const M=s.J({range:v},(Ae,Ve,nt)=>(A++,nt.delete()));f.push(M.next(()=>{Ht(1===A)}));const Q=[];for(const Ae of i.mutations){const Ve=Xn(t,Ae.key.path,i.batchId);f.push(u.delete(Ve)),Q.push(Ae.key)}return pt.waitFor(f).next(()=>Q)}function vn(l){if(!l)return 0;let t;if(l.document)t=l.document;else if(l.unknownDocument)t=l.unknownDocument;else{if(!l.noDocument)throw Gt();t=l.noDocument}return JSON.stringify(t).length}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class Kn{constructor(t,i,s,u){this.userId=t,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(t,i,s,u){Ht(""!==t.uid);const f=t.isAuthenticated()?t.uid:"";return new Kn(f,i,s,u)}checkEmpty(t){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fo(t).J({index:"userMutationsIndex",range:s},(u,f,v)=>{i=!1,v.done()}).next(()=>i)}addMutationBatch(t,i,s,u){const f=Xi(t),v=fo(t);return v.add({}).next(A=>{Ht("number"==typeof A);const M=new ho(A,i,s,u),Q=function(Pt,on,gn){const hn=gn.baseMutations.map(Yn=>w(Pt.ct,Yn)),Gn=gn.mutations.map(Yn=>w(Pt.ct,Yn));return{userId:on,batchId:gn.batchId,localWriteTimeMs:gn.localWriteTime.toMillis(),baseMutations:hn,mutations:Gn}}(this.serializer,this.userId,M),Ae=[];let Ve=new Mr((nt,Pt)=>Mn(nt.canonicalString(),Pt.canonicalString()));for(const nt of u){const Pt=Xn(this.userId,nt.key.path,A);Ve=Ve.add(nt.key.path.popLast()),Ae.push(v.put(Q)),Ae.push(f.put(Pt,Ni))}return Ve.forEach(nt=>{Ae.push(this.indexManager.addToCollectionParentIndex(t,nt))}),t.addOnCommittedListener(()=>{this.Fn[A]=M.keys()}),pt.waitFor(Ae).next(()=>M)})}lookupMutationBatch(t,i){return fo(t).get(i).next(s=>s?(Ht(s.userId===this.userId),Na(this.serializer,s)):null)}Mn(t,i){return this.Fn[i]?pt.resolve(this.Fn[i]):this.lookupMutationBatch(t,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(t,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return fo(t).J({index:"userMutationsIndex",range:u},(v,A,M)=>{A.userId===this.userId&&(Ht(A.batchId>=s),f=Na(this.serializer,A)),M.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return fo(t).J({index:"userMutationsIndex",range:i,reverse:!0},(u,f,v)=>{s=f.batchId,v.done()}).next(()=>s)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fo(t).U("userMutationsIndex",i).next(s=>s.map(u=>Na(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,i){const s=fr(this.userId,i.path),u=IDBKeyRange.lowerBound(s),f=[];return Xi(t).J({range:u},(v,A,M)=>{const[Q,Ae,Ve]=v,nt=ln(Ae);if(Q===this.userId&&i.path.isEqual(nt))return fo(t).get(Ve).next(Pt=>{if(!Pt)throw Gt();Ht(Pt.userId===this.userId),f.push(Na(this.serializer,Pt))});M.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Mr(Mn);const u=[];return i.forEach(f=>{const v=fr(this.userId,f.path),A=IDBKeyRange.lowerBound(v),M=Xi(t).J({range:A},(Q,Ae,Ve)=>{const[nt,Pt,on]=Q,gn=ln(Pt);nt===this.userId&&f.path.isEqual(gn)?s=s.add(on):Ve.done()});u.push(M)}),pt.waitFor(u).next(()=>this.xn(t,s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1,f=fr(this.userId,s),v=IDBKeyRange.lowerBound(f);let A=new Mr(Mn);return Xi(t).J({range:v},(M,Q,Ae)=>{const[Ve,nt,Pt]=M,on=ln(nt);Ve===this.userId&&s.isPrefixOf(on)?on.length===u&&(A=A.add(Pt)):Ae.done()}).next(()=>this.xn(t,A))}xn(t,i){const s=[],u=[];return i.forEach(f=>{u.push(fo(t).get(f).next(v=>{if(null===v)throw Gt();Ht(v.userId===this.userId),s.push(Na(this.serializer,v))}))}),pt.waitFor(u).next(()=>s)}removeMutationBatch(t,i){return _i(t._e,this.userId,i).next(s=>(t.addOnCommittedListener(()=>{this.On(i.batchId)}),pt.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return pt.resolve();const s=IDBKeyRange.lowerBound(function(v){return[v]}(this.userId)),u=[];return Xi(t).J({range:s},(f,v,A)=>{if(f[0]===this.userId){const M=ln(f[1]);u.push(M)}else A.done()}).next(()=>{Ht(0===u.length)})})}containsKey(t,i){return Ki(t,this.userId,i)}Nn(t){return Po(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ki(l,t,i){const s=fr(t,i.path),u=s[1],f=IDBKeyRange.lowerBound(s);let v=!1;return Xi(l).J({range:f,H:!0},(A,M,Q)=>{const[Ae,Ve,nt]=A;Ae===t&&Ve===u&&(v=!0),Q.done()}).next(()=>v)}function fo(l){return ni(l,"mutations")}function Xi(l){return ni(l,"documentMutations")}function Po(l){return ni(l,"mutationQueues")}class Is{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Is(0)}static kn(){return new Is(-1)}}class Si{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.qn(t).next(i=>{const s=new Is(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(i=>sn.fromTimestamp(new xn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,s){return this.qn(t).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(t,u)))}addTargetData(t,i){return this.Kn(t,i).next(()=>this.qn(t).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(t,s))))}updateTargetData(t,i){return this.Kn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>Mi(t).delete(i.targetId)).next(()=>this.qn(t)).next(s=>(Ht(s.targetCount>0),s.targetCount-=1,this.Qn(t,s)))}removeTargets(t,i,s){let u=0;const f=[];return Mi(t).J((v,A)=>{const M=wc(A);M.sequenceNumber<=i&&null===s.get(M.targetId)&&(u++,f.push(this.removeTargetData(t,M)))}).next(()=>pt.waitFor(f)).next(()=>u)}forEachTarget(t,i){return Mi(t).J((s,u)=>{const f=wc(u);i(f)})}qn(t){return ga(t).get("targetGlobalKey").next(i=>(Ht(null!==i),i))}Qn(t,i){return ga(t).put("targetGlobalKey",i)}Kn(t,i){return Mi(t).put(Sh(this.serializer,i))}$n(t,i){let s=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,s=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.qn(t).next(i=>i.targetCount)}getTargetData(t,i){const s=Te(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return Mi(t).J({range:u,index:"queryTargetsIndex"},(v,A,M)=>{const Q=wc(A);ot(i,Q.target)&&(f=Q,M.done())}).next(()=>f)}addMatchingKeys(t,i,s){const u=[],f=Qn(t);return i.forEach(v=>{const A=Ne(v.path);u.push(f.put({targetId:s,path:A})),u.push(this.referenceDelegate.addReference(t,s,v))}),pt.waitFor(u)}removeMatchingKeys(t,i,s){const u=Qn(t);return pt.forEach(i,f=>{const v=Ne(f.path);return pt.waitFor([u.delete([s,v]),this.referenceDelegate.removeReference(t,s,f)])})}removeMatchingKeysForTargetId(t,i){const s=Qn(t),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(t,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=Qn(t);let f=En();return u.J({range:s,H:!0},(v,A,M)=>{const Q=ln(v[1]),Ae=new an(Q);f=f.add(Ae)}).next(()=>f)}containsKey(t,i){const s=Ne(i.path),u=IDBKeyRange.bound([s],[fi(s)],!1,!0);let f=0;return Qn(t).J({index:"documentTargetsIndex",H:!0,range:u},([v,A],M,Q)=>{0!==v&&(f++,Q.done())}).next(()=>f>0)}ot(t,i){return Mi(t).get(i).next(s=>s?wc(s):null)}}function Mi(l){return ni(l,"targets")}function ga(l){return ni(l,"targetGlobal")}function Qn(l){return ni(l,"targetDocuments")}function Vl([l,t],[i,s]){const u=Mn(l,i);return 0===u?Mn(t,s):u}class cp{constructor(t){this.Un=t,this.buffer=new Mr(Vl),this.Wn=0}Gn(){return++this.Wn}zn(t){const i=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Vl(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Nc{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var i=this;gt("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,W.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Vr(s)?gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield pn(s)}yield i.Hn(3e5)}))}}class Li{constructor(t,i){this.Jn=t,this.params=i}calculateTargetCount(t,i){return this.Jn.Yn(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(0===i)return pt.resolve(he.oe);const s=new cp(i);return this.Jn.forEachTarget(t,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(t,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Jn.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Jn.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),pt.resolve(Ll)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ll):this.Xn(t,i))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,i){let s,u,f,v,A,M,Q;const Ae=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(Ve=>(Ve>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ve}`),u=this.params.maximumSequenceNumbersToCollect):u=Ve,v=Date.now(),this.nthSequenceNumber(t,u))).next(Ve=>(s=Ve,A=Date.now(),this.removeTargets(t,s,i))).next(Ve=>(f=Ve,M=Date.now(),this.removeOrphanedDocuments(t,s))).next(Ve=>(Q=Date.now(),en()<=oe.$b.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-Ae}ms\n\tDetermined least recently used ${u} in `+(A-v)+`ms\n\tRemoved ${f} targets in `+(M-A)+`ms\n\tRemoved ${Ve} documents in `+(Q-M)+`ms\nTotal Duration: ${Q-Ae}ms`),pt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:Ve})))}}class Bl{constructor(t,i){this.db=t,this.garbageCollector=function ma(l,t){return new Li(l,t)}(this,i)}Yn(t){const i=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(s=>i.next(u=>s+u))}er(t){let i=0;return this.Zn(t,s=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Zn(t,i){return this.tr(t,(s,u)=>i(u))}addReference(t,i,s){return ta(t,s)}removeReference(t,i,s){return ta(t,s)}removeTargets(t,i,s){return this.db.getTargetCache().removeTargets(t,i,s)}markPotentiallyOrphaned(t,i){return ta(t,i)}nr(t,i){return function(u,f){let v=!1;return Po(u).Y(A=>Ki(u,A,f).next(M=>(M&&(v=!0),pt.resolve(!M)))).next(()=>v)}(t,i)}removeOrphanedDocuments(t,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.tr(t,(v,A)=>{if(A<=i){const M=this.nr(t,v).next(Q=>{if(!Q)return f++,s.getEntry(t,v).next(()=>(s.removeEntry(v,sn.min()),Qn(t).delete([0,Ne(v.path)])))});u.push(M)}}).next(()=>pt.waitFor(u)).next(()=>s.apply(t)).next(()=>f)}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,i){return ta(t,i)}tr(t,i){const s=Qn(t);let u,f=he.oe;return s.J({index:"documentTargetsIndex"},([v,A],{path:M,sequenceNumber:Q})=>{0===v?(f!==he.oe&&i(new an(ln(u)),f),f=Q,u=M):f=he.oe}).next(()=>{f!==he.oe&&i(new an(ln(u)),f)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ta(l,t){return Qn(l).put((u=l.currentSequenceNumber,{targetId:0,path:Ne(t.path),sequenceNumber:u}));var u}class sl{constructor(){this.changes=new ca(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Gr.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?pt.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lp{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,s){return Un(t).put(s)}removeEntry(t,i,s){return Un(t).delete(function(f,v){const A=f.path.toArray();return[A.slice(0,A.length-2),A[A.length-2],il(v),A[A.length-1]]}(i,s))}updateMetadata(t,i){return this.getMetadata(t).next(s=>(s.byteSize+=i,this.rr(t,s)))}getEntry(t,i){let s=Gr.newInvalidDocument(i);return Un(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(i))},(u,f)=>{s=this.ir(i,f)}).next(()=>s)}sr(t,i){let s={size:0,document:Gr.newInvalidDocument(i)};return Un(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(i))},(u,f)=>{s={document:this.ir(i,f),size:vn(f)}}).next(()=>s)}getEntries(t,i){let s=Go();return this._r(t,i,(u,f)=>{const v=this.ir(u,f);s=s.insert(u,v)}).next(()=>s)}ar(t,i){let s=Go(),u=new jr(an.comparator);return this._r(t,i,(f,v)=>{const A=this.ir(f,v);s=s.insert(f,A),u=u.insert(f,vn(v))}).next(()=>({documents:s,ur:u}))}_r(t,i,s){if(i.isEmpty())return pt.resolve();let u=new Mr(va);i.forEach(M=>u=u.add(M));const f=IDBKeyRange.bound(oc(u.first()),oc(u.last())),v=u.getIterator();let A=v.getNext();return Un(t).J({index:"documentKeyIndex",range:f},(M,Q,Ae)=>{const Ve=an.fromSegments([...Q.prefixPath,Q.collectionGroup,Q.documentId]);for(;A&&va(A,Ve)<0;)s(A,null),A=v.getNext();A&&A.isEqual(Ve)&&(s(A,Q),A=v.hasNext()?v.getNext():null),A?Ae.$(oc(A)):Ae.done()}).next(()=>{for(;A;)s(A,null),A=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(t,i,s,u,f){const v=i.path,A=[v.popLast().toArray(),v.lastSegment(),il(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],M=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Un(t).U(IDBKeyRange.bound(A,M,!0)).next(Q=>{f?.incrementDocumentReadCount(Q.length);let Ae=Go();for(const Ve of Q){const nt=this.ir(an.fromSegments(Ve.prefixPath.concat(Ve.collectionGroup,Ve.documentId)),Ve);nt.isFoundDocument()&&(fs(i,nt)||u.has(nt.key))&&(Ae=Ae.insert(nt.key,nt))}return Ae})}getAllFromCollectionGroup(t,i,s,u){let f=Go();const v=Ul(i,s),A=Ul(i,Qe.max());return Un(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,A,!0)},(M,Q,Ae)=>{const Ve=this.ir(an.fromSegments(Q.prefixPath.concat(Q.collectionGroup,Q.documentId)),Q);f=f.insert(Ve.key,Ve),f.size===u&&Ae.done()}).next(()=>f)}newChangeBuffer(t){return new Ad(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return Ls(t).get("remoteDocumentGlobalKey").next(i=>(Ht(!!i),i))}rr(t,i){return Ls(t).put("remoteDocumentGlobalKey",i)}ir(t,i){if(i){const s=function om(l,t){let i;if(t.document)i=bc(l.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=an.fromSegments(t.noDocument.path),u=Js(t.noDocument.readTime);i=Gr.newNoDocument(s,u),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return Gt();{const s=an.fromSegments(t.unknownDocument.path),u=Js(t.unknownDocument.version);i=Gr.newUnknownDocument(s,u)}}return t.readTime&&i.setReadTime(function(u){const f=new xn(u[0],u[1]);return sn.fromTimestamp(f)}(t.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(sn.min()))return s}return Gr.newInvalidDocument(t)}}function ic(l){return new lp(l)}class Ad extends sl{constructor(t,i){super(),this.cr=t,this.trackRemovals=i,this.lr=new ca(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(t){const i=[];let s=0,u=new Mr((f,v)=>Mn(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const A=this.lr.get(f);if(i.push(this.cr.removeEntry(t,f,A.readTime)),v.isValidDocument()){const M=yd(this.cr.serializer,v);u=u.add(f.path.popLast());const Q=vn(M);s+=Q-A.size,i.push(this.cr.addEntry(t,f,M))}else if(s-=A.size,this.trackRemovals){const M=yd(this.cr.serializer,v.convertToNoDocument(sn.min()));i.push(this.cr.addEntry(t,f,M))}}),u.forEach(f=>{i.push(this.cr.indexManager.addToCollectionParentIndex(t,f))}),i.push(this.cr.updateMetadata(t,s)),pt.waitFor(i)}getFromCache(t,i){return this.cr.sr(t,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(t,i){return this.cr.ar(t,i).next(({documents:s,ur:u})=>(u.forEach((f,v)=>{this.lr.set(f,{size:v,readTime:s.get(f).readTime})}),s))}}function Ls(l){return ni(l,"remoteDocumentGlobal")}function Un(l){return ni(l,"remoteDocumentsV14")}function oc(l){const t=l.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Ul(l,t){const i=t.documentKey.path.toArray();return[l,il(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function va(l,t){const i=l.path.toArray(),s=t.path.toArray();let u=0;for(let f=0;f<i.length-2&&f<s.length-2;++f)if(u=Mn(i[f],s[f]),u)return u;return u=Mn(i.length,s.length),u||(u=Mn(i[i.length-2],s[s.length-2]),u||Mn(i[i.length-1],s[s.length-1]))}class Dd{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class al{constructor(t,i,s,u){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,i))).next(u=>(null!==s&&lr(s.mutation,u,xi.empty(),xn.now()),u))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,En()).next(()=>s))}getLocalViewOfDocuments(t,i,s=En()){const u=wo();return this.populateOverlays(t,u,i).next(()=>this.computeViews(t,i,u,s).next(f=>{let v=Wo();return f.forEach((A,M)=>{v=v.insert(A,M.overlayedDocument)}),v}))}getOverlayedDocuments(t,i){const s=wo();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,En()))}populateOverlays(t,i,s){const u=[];return s.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(t,u).next(f=>{f.forEach((v,A)=>{i.set(v,A)})})}computeViews(t,i,s,u){let f=Go();const v=So(),A=So();return i.forEach((M,Q)=>{const Ae=s.get(Q.key);u.has(Q.key)&&(void 0===Ae||Ae.mutation instanceof Sr)?f=f.insert(Q.key,Q):void 0!==Ae?(v.set(Q.key,Ae.mutation.getFieldMask()),lr(Ae.mutation,Q,Ae.mutation.getFieldMask(),xn.now())):v.set(Q.key,xi.empty())}),this.recalculateAndSaveOverlays(t,f).next(M=>(M.forEach((Q,Ae)=>v.set(Q,Ae)),i.forEach((Q,Ae)=>{var Ve;return A.set(Q,new Dd(Ae,null!==(Ve=v.get(Q))&&void 0!==Ve?Ve:null))}),A))}recalculateAndSaveOverlays(t,i){const s=So();let u=new jr((v,A)=>v-A),f=En();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(v=>{for(const A of v)A.keys().forEach(M=>{const Q=i.get(M);if(null===Q)return;let Ae=s.get(M)||xi.empty();Ae=A.applyToLocalView(Q,Ae),s.set(M,Ae);const Ve=(u.get(A.batchId)||En()).add(M);u=u.insert(A.batchId,Ve)})}).next(()=>{const v=[],A=u.getReverseIterator();for(;A.hasNext();){const M=A.getNext(),Q=M.key,Ae=M.value,Ve=Qa();Ae.forEach(nt=>{if(!f.has(nt)){const Pt=wn(i.get(nt),s.get(nt));null!==Pt&&Ve.set(nt,Pt),f=f.add(nt)}}),v.push(this.documentOverlayCache.saveOverlays(t,Q,Ve))}return pt.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,u){return an.isDocumentKey((v=i).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):wa(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,u):this.getDocumentsMatchingCollectionQuery(t,i,s,u);var v}getNextDocuments(t,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,u).next(f=>{const v=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,u-f.size):pt.resolve(wo());let A=-1,M=f;return v.next(Q=>pt.forEach(Q,(Ae,Ve)=>(A<Ve.largestBatchId&&(A=Ve.largestBatchId),f.get(Ae)?pt.resolve():this.remoteDocumentCache.getEntry(t,Ae).next(nt=>{M=M.insert(Ae,nt)}))).next(()=>this.populateOverlays(t,Q,f)).next(()=>this.computeViews(t,M,Q,En())).next(Ae=>({batchId:A,changes:Yc(Ae)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new an(i)).next(s=>{let u=Wo();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,i,s,u){const f=i.collectionGroup;let v=Wo();return this.indexManager.getCollectionParents(t,f).next(A=>pt.forEach(A,M=>{const Q=(Ve=i,nt=M.child(f),new Jr(nt,null,Ve.explicitOrderBy.slice(),Ve.filters.slice(),Ve.limit,Ve.limitType,Ve.startAt,Ve.endAt));var Ve,nt;return this.getDocumentsMatchingCollectionQuery(t,Q,s,u).next(Ae=>{Ae.forEach((Ve,nt)=>{v=v.insert(Ve,nt)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(t,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(v=>(f=v,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,f,u))).next(v=>{f.forEach((M,Q)=>{const Ae=Q.getKey();null===v.get(Ae)&&(v=v.insert(Ae,Gr.newInvalidDocument(Ae)))});let A=Wo();return v.forEach((M,Q)=>{const Ae=f.get(M);void 0!==Ae&&lr(Ae.mutation,Q,xi.empty(),xn.now()),fs(i,Q)&&(A=A.insert(M,Q))}),A})}}class no{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return pt.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:si(u.createTime)}),pt.resolve();var u}getNamedQuery(t,i){return pt.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,{name:(u=i).name,query:tc(u.bundledQuery),readTime:si(u.readTime)}),pt.resolve();var u}}class Ou{constructor(){this.overlays=new jr(an.comparator),this.Ir=new Map}getOverlay(t,i){return pt.resolve(this.overlays.get(i))}getOverlays(t,i){const s=wo();return pt.forEach(i,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((u,f)=>{this.ht(t,i,f)}),pt.resolve()}removeOverlaysForBatchId(t,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(s)),pt.resolve()}getOverlaysForCollection(t,i,s){const u=wo(),f=i.length+1,v=new an(i.child("")),A=this.overlays.getIteratorFrom(v);for(;A.hasNext();){const M=A.getNext().value,Q=M.getKey();if(!i.isPrefixOf(Q.path))break;Q.path.length===f&&M.largestBatchId>s&&u.set(M.getKey(),M)}return pt.resolve(u)}getOverlaysForCollectionGroup(t,i,s,u){let f=new jr((Q,Ae)=>Q-Ae);const v=this.overlays.getIterator();for(;v.hasNext();){const Q=v.getNext().value;if(Q.getKey().getCollectionGroup()===i&&Q.largestBatchId>s){let Ae=f.get(Q.largestBatchId);null===Ae&&(Ae=wo(),f=f.insert(Q.largestBatchId,Ae)),Ae.set(Q.getKey(),Q)}}const A=wo(),M=f.getIterator();for(;M.hasNext()&&(M.getNext().value.forEach((Q,Ae)=>A.set(Q,Ae)),!(A.size()>=u)););return pt.resolve(A)}ht(t,i,s){const u=this.overlays.get(s.key);if(null!==u){const v=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new Jo(i,s));let f=this.Ir.get(i);void 0===f&&(f=En(),this.Ir.set(i,f)),this.Ir.set(i,f.add(s.key))}}class po{constructor(){this.sessionToken=J.EMPTY_BYTE_STRING}getSessionToken(t){return pt.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,pt.resolve()}}class vo{constructor(){this.Tr=new Mr(so.Er),this.dr=new Mr(so.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const s=new so(t,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Vr(new so(t,i))}mr(t,i){t.forEach(s=>this.removeReference(s,i))}gr(t){const i=new an(new Pn([])),s=new so(i,t),u=new so(i,t+1),f=[];return this.dr.forEachInRange([s,u],v=>{this.Vr(v),f.push(v.key)}),f}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new an(new Pn([])),s=new so(i,t),u=new so(i,t+1);let f=En();return this.dr.forEachInRange([s,u],v=>{f=f.add(v.key)}),f}containsKey(t){const i=new so(t,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&t.isEqual(s.key)}}class so{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return an.comparator(t.key,i.key)||Mn(t.wr,i.wr)}static Ar(t,i){return Mn(t.wr,i.wr)||an.comparator(t.key,i.key)}}class cl{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Mr(so.Er)}checkEmpty(t){return pt.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,s,u){const f=this.Sr;this.Sr++;const v=new ho(f,i,s,u);this.mutationQueue.push(v);for(const A of u)this.br=this.br.add(new so(A.key,f)),this.indexManager.addToCollectionParentIndex(t,A.key.path.popLast());return pt.resolve(v)}lookupMutationBatch(t,i){return pt.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const u=this.vr(i+1),f=u<0?0:u;return pt.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return pt.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return pt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new so(i,0),u=new so(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,u],v=>{const A=this.Dr(v.wr);f.push(A)}),pt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Mr(Mn);return i.forEach(u=>{const f=new so(u,0),v=new so(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,v],A=>{s=s.add(A.wr)})}),pt.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1;let f=s;an.isDocumentKey(f)||(f=f.child(""));const v=new so(new an(f),0);let A=new Mr(Mn);return this.br.forEachWhile(M=>{const Q=M.key.path;return!!s.isPrefixOf(Q)&&(Q.length===u&&(A=A.add(M.wr)),!0)},v),pt.resolve(this.Cr(A))}Cr(t){const i=[];return t.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(t,i){Ht(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return pt.forEach(i.mutations,u=>{const f=new so(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=s})}On(t){}containsKey(t,i){const s=new so(i,0),u=this.br.firstAfterOrEqual(s);return pt.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(t){return pt.resolve()}Fr(t,i){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Td{constructor(t){this.Mr=t,this.docs=new jr(an.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,v=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:v}),this.size+=v-f,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return pt.resolve(s?s.document.mutableCopy():Gr.newInvalidDocument(i))}getEntries(t,i){let s=Go();return i.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():Gr.newInvalidDocument(u))}),pt.resolve(s)}getDocumentsMatchingQuery(t,i,s,u){let f=Go();const v=i.path,A=new an(v.child("")),M=this.docs.getIteratorFrom(A);for(;M.hasNext();){const{key:Q,value:{document:Ae}}=M.getNext();if(!v.isPrefixOf(Q.path))break;Q.path.length>v.length+1||Rt(Ue(Ae),s)<=0||(u.has(Ae.key)||fs(i,Ae))&&(f=f.insert(Ae.key,Ae.mutableCopy()))}return pt.resolve(f)}getAllFromCollectionGroup(t,i,s,u){Gt()}Or(t,i){return pt.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new Vs(this)}getSize(t){return pt.resolve(this.size)}}class Vs extends sl{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(t,u)):this.cr.removeEntry(s)}),pt.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}class ll{constructor(t){this.persistence=t,this.Nr=new ca(i=>Te(i),ot),this.lastRemoteSnapshotVersion=sn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new vo,this.targetCount=0,this.kr=Is.Bn()}forEachTarget(t,i){return this.Nr.forEach((s,u)=>i(u)),pt.resolve()}getLastRemoteSnapshotVersion(t){return pt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pt.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),pt.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),pt.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Is(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,pt.resolve()}updateTargetData(t,i){return this.Kn(i),pt.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,pt.resolve()}removeTargets(t,i,s){let u=0;const f=[];return this.Nr.forEach((v,A)=>{A.sequenceNumber<=i&&null===s.get(A.targetId)&&(this.Nr.delete(v),f.push(this.removeMatchingKeysForTargetId(t,A.targetId)),u++)}),pt.waitFor(f).next(()=>u)}getTargetCount(t){return pt.resolve(this.targetCount)}getTargetData(t,i){const s=this.Nr.get(i)||null;return pt.resolve(s)}addMatchingKeys(t,i,s){return this.Br.Rr(i,s),pt.resolve()}removeMatchingKeys(t,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(v=>{f.push(u.markPotentiallyOrphaned(t,v))}),pt.waitFor(f)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),pt.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Br.yr(i);return pt.resolve(s)}containsKey(t,i){return pt.resolve(this.Br.containsKey(i))}}class xd{constructor(t,i){this.qr={},this.overlays={},this.Qr=new he(0),this.Kr=!1,this.Kr=!0,this.$r=new po,this.referenceDelegate=t(this),this.Ur=new ll(this),this.indexManager=new sp,this.remoteDocumentCache=new Td(s=>this.referenceDelegate.Wr(s)),this.serializer=new Zs(i),this.Gr=new no(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Ou,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.qr[t.toKey()];return s||(s=new cl(i,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,s){gt("MemoryPersistence","Starting transaction:",t);const u=new Fh(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(t,i){return pt.or(Object.values(this.qr).map(s=>()=>s.containsKey(t,i)))}}class Fh extends _n{constructor(t){super(),this.currentSequenceNumber=t}}class $l{constructor(t){this.persistence=t,this.Jr=new vo,this.Yr=null}static Zr(t){return new $l(t)}get Xr(){if(this.Yr)return this.Yr;throw Gt()}addReference(t,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),pt.resolve()}removeReference(t,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),pt.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),pt.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>s.removeTargetData(t,i))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pt.forEach(this.Xr,s=>{const u=an.fromPath(s);return this.ei(t,u).next(f=>{f||i.removeEntry(u,sn.min())})}).next(()=>(this.Yr=null,i.apply(t)))}updateLimboDocument(t,i){return this.ei(t,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(t){return 0}ei(t,i){return pt.or([()=>pt.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}class up{constructor(t){this.serializer=t}O(t,i,s,u){const f=new nr("createOrUpgrade",i);var M;s<1&&u>=1&&(t.createObjectStore("owner"),(M=t).createObjectStore("mutationQueues",{keyPath:"userId"}),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fn,{unique:!0}),M.createObjectStore("documentMutations"),Hl(t),function(M){M.createObjectStore("remoteDocuments")}(t));let v=pt.resolve();return s<3&&u>=3&&(0!==s&&(function(M){M.deleteObjectStore("targetDocuments"),M.deleteObjectStore("targets"),M.deleteObjectStore("targetGlobal")}(t),Hl(t)),v=v.next(()=>function(M){const Q=M.store("targetGlobal"),Ae={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:sn.min().toTimestamp(),targetCount:0};return Q.put("targetGlobalKey",Ae)}(f))),s<4&&u>=4&&(0!==s&&(v=v.next(()=>function(M,Q){return Q.store("mutations").U().next(Ae=>{M.deleteObjectStore("mutations"),M.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Fn,{unique:!0});const Ve=Q.store("mutations"),nt=Ae.map(Pt=>Ve.put(Pt));return pt.waitFor(nt)})}(t,f))),v=v.next(()=>{!function(M){M.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),s<5&&u>=5&&(v=v.next(()=>this.ni(f))),s<6&&u>=6&&(v=v.next(()=>(function(M){M.createObjectStore("remoteDocumentGlobal")}(t),this.ri(f)))),s<7&&u>=7&&(v=v.next(()=>this.ii(f))),s<8&&u>=8&&(v=v.next(()=>this.si(t,f))),s<9&&u>=9&&(v=v.next(()=>{!function(M){M.objectStoreNames.contains("remoteDocumentChanges")&&M.deleteObjectStore("remoteDocumentChanges")}(t)})),s<10&&u>=10&&(v=v.next(()=>this.oi(f))),s<11&&u>=11&&(v=v.next(()=>{(function(M){M.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(M){M.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),s<12&&u>=12&&(v=v.next(()=>{!function(M){const Q=M.createObjectStore("documentOverlays",{keyPath:$o});Q.createIndex("collectionPathOverlayIndex",ss,{unique:!1}),Q.createIndex("collectionGroupOverlayIndex",qo,{unique:!1})}(t)})),s<13&&u>=13&&(v=v.next(()=>function(M){const Q=M.createObjectStore("remoteDocumentsV14",{keyPath:Zr});Q.createIndex("documentKeyIndex",cr),Q.createIndex("collectionGroupIndex",oi)}(t)).next(()=>this._i(t,f)).next(()=>t.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(v=v.next(()=>this.ai(t,f))),s<15&&u>=15&&(v=v.next(()=>function(M){M.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),M.createObjectStore("indexState",{keyPath:Ai}).createIndex("sequenceNumberIndex",Di,{unique:!1}),M.createObjectStore("indexEntries",{keyPath:ws}).createIndex("documentKeyIndex",Ss,{unique:!1})}(t))),s<16&&u>=16&&(v=v.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(v=v.next(()=>{!function(M){M.createObjectStore("globals",{keyPath:"name"})}(t)})),v}ri(t){let i=0;return t.store("remoteDocuments").J((s,u)=>{i+=vn(u)}).next(()=>{const s={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(t){const i=t.store("mutationQueues"),s=t.store("mutations");return i.U().next(u=>pt.forEach(u,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",v).next(A=>pt.forEach(A,M=>{Ht(M.userId===f.userId);const Q=Na(this.serializer,M);return _i(t,f.userId,Q).next(()=>{})}))}))}ii(t){const i=t.store("targetDocuments"),s=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return s.J((v,A)=>{const M=new Pn(v),Q=[0,Ne(M)];f.push(i.get(Q).next(Ae=>Ae?pt.resolve():i.put({targetId:0,path:Ne(M),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>pt.waitFor(f))})}si(t,i){t.createObjectStore("collectionParents",{keyPath:Gi});const s=i.store("collectionParents"),u=new Oh,f=v=>{if(u.add(v)){const A=v.lastSegment(),M=v.popLast();return s.put({collectionId:A,parent:Ne(M)})}};return i.store("remoteDocuments").J({H:!0},(v,A)=>{const M=new Pn(v);return f(M.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([v,A,M],Q)=>{const Ae=ln(A);return f(Ae.popLast())}))}oi(t){const i=t.store("targets");return i.J((s,u)=>{const f=wc(u),v=Sh(this.serializer,f);return i.put(v)})}_i(t,i){const s=i.store("remoteDocuments"),u=[];return s.J((f,v)=>{const A=i.store("remoteDocumentsV14"),M=(Ve=v,Ve.document?new an(Pn.fromString(Ve.document.name).popFirst(5)):Ve.noDocument?an.fromSegments(Ve.noDocument.path):Ve.unknownDocument?an.fromSegments(Ve.unknownDocument.path):Gt()).path.toArray(),Q={prefixPath:M.slice(0,M.length-2),collectionGroup:M[M.length-2],documentId:M[M.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};var Ve;u.push(A.put(Q))}).next(()=>pt.waitFor(u))}ai(t,i){const s=i.store("mutations"),u=ic(this.serializer),f=new xd($l.Zr,this.serializer.ct);return s.U().next(v=>{const A=new Map;return v.forEach(M=>{var Q;let Ae=null!==(Q=A.get(M.userId))&&void 0!==Q?Q:En();Na(this.serializer,M).keys().forEach(Ve=>Ae=Ae.add(Ve)),A.set(M.userId,Ae)}),pt.forEach(A,(M,Q)=>{const Ae=new Fe(Q),Ve=ol.lt(this.serializer,Ae),nt=f.getIndexManager(Ae),Pt=Kn.lt(Ae,this.serializer,nt,f.referenceDelegate);return new al(u,Pt,Ve,nt).recalculateAndSaveOverlaysForDocumentKeys(new ls(i,he.oe),M).next()})})}}function Hl(l){l.createObjectStore("targetDocuments",{keyPath:ci}).createIndex("documentTargetsIndex",ti,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Uo,{unique:!0}),l.createObjectStore("targetGlobal")}const dp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cm{constructor(t,i,s,u,f,v,A,M,Q,Ae,Ve=17){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=s,this.ui=f,this.window=v,this.document=A,this.ci=Q,this.li=Ae,this.hi=Ve,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=nt=>Promise.resolve(),!cm.D())throw new ze(He.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Bl(this,u),this.Ai=i+"main",this.serializer=new Zs(M),this.Ri=new qn(this.Ai,this.hi,new up(this.serializer)),this.$r=new sm,this.Ur=new Si(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ic(this.serializer),this.Gr=new rp,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===Ae&&Jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ze(He.FAILED_PRECONDITION,dp);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new he(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var i=this;return this.di=function(){var s=(0,W.A)(function*(u){if(i.started)return t(u)});return function(u){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var i=(0,W.A)(function*(s){null===s.newVersion&&(yield t())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,W.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>bd(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(i=>this.isPrimary&&!i?this.bi(t).next(()=>!1):!!i&&this.Di(t).next(()=>!0))).catch(t=>{if(Vr(t))return gt("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return zl(t).get("owner").next(i=>pt.resolve(this.vi(i)))}Ci(t){return bd(t).delete(this.clientId)}Fi(){var t=this;return(0,W.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=ni(s,"clientMetadata");return u.U().next(f=>{const v=t.xi(f,18e5),A=f.filter(M=>-1===v.indexOf(M));return pt.forEach(A,M=>u.delete(M.clientId)).next(()=>A)})}).catch(()=>[]);if(t.Vi)for(const s of i)t.Vi.removeItem(t.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?pt.resolve(!0):zl(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new ze(He.FAILED_PRECONDITION,dp);return!1}}return!(!this.networkEnabled||!this.inForeground)||bd(t).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&gt("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,W.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new ls(i,he.oe);return t.bi(s).next(()=>t.Ci(s))}),t.Ri.close(),t.qi()})()}xi(t,i){return t.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>bd(t).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,i){return Kn.lt(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new am(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return ol.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,i,s){gt("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===i?"readonly":"readwrite",f=17===(M=this.hi)?ja:16===M?cs:15===M?Io:14===M?Rs:13===M?Ti:12===M?jo:11===M?as:void Gt();var M;let v;return this.Ri.runTransaction(t,u,f,A=>(v=new ls(A,this.Qr?this.Qr.next():he.oe),"readwrite-primary"===i?this.wi(v).next(M=>!!M||this.Si(v)).next(M=>{if(!M)throw Jt(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new ze(He.FAILED_PRECONDITION,yt);return s(v)}).next(M=>this.Di(v).next(()=>M)):this.Ki(v).next(()=>s(v)))).then(A=>(v.raiseOnCommittedEvent(),A))}Ki(t){return zl(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new ze(He.FAILED_PRECONDITION,dp)})}Di(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zl(t).put("owner",i)}static D(){return qn.D()}bi(t){const i=zl(t);return i.get("owner").next(s=>this.vi(s)?(gt("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):pt.resolve())}Mi(t,i){const s=Date.now();return!(t<s-i||t>s&&(Jt(`Detected an update time that is in the future: ${t} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,Se.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(t)));return gt("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Jt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){Jt("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function zl(l){return ni(l,"owner")}function bd(l){return ni(l,"clientMetadata")}function Fu(l,t){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+t+"/"+i+"/"}class kh{constructor(t,i,s,u){this.targetId=t,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(t,i){let s=En(),u=En();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new kh(t,i.fromCache,s,u)}}class lm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class um{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,Se.nr)()?8:$n((0,Se.ZQ)())>0?6:4}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,s,u){const f={result:null};return this.Yi(t,i).next(v=>{f.result=v}).next(()=>{if(!f.result)return this.Zi(t,i,u,s).next(v=>{f.result=v})}).next(()=>{if(f.result)return;const v=new lm;return this.Xi(t,i,v).next(A=>{if(f.result=A,this.zi)return this.es(t,i,v,A.size)})}).next(()=>f.result)}es(t,i,s,u){return s.documentReadCount<this.ji?(en()<=oe.$b.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",go(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),pt.resolve()):(en()<=oe.$b.DEBUG&&gt("QueryEngine","Query:",go(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(en()<=oe.$b.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",go(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(i))):pt.resolve())}Yi(t,i){if(Ks(i))return pt.resolve(null);let s=Oi(i);return this.indexManager.getIndexType(t,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=or(i,null,"F"),s=Oi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(f=>{const v=En(...f);return this.Ji.getDocuments(t,v).next(A=>this.indexManager.getMinOffset(t,s).next(M=>{const Q=this.ts(i,A);return this.ns(i,Q,v,M.readTime)?this.Yi(t,or(i,null,"F")):this.rs(t,Q,i,M)}))})))}Zi(t,i,s,u){return Ks(i)||u.isEqual(sn.min())?pt.resolve(null):this.Ji.getDocuments(t,s).next(f=>{const v=this.ts(i,f);return this.ns(i,v,s,u)?pt.resolve(null):(en()<=oe.$b.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),go(i)),this.rs(t,v,i,Be(u,-1)).next(A=>A))})}ts(t,i){let s=new Mr(qc(t));return i.forEach((u,f)=>{fs(t,f)&&(s=s.add(f))}),s}ns(t,i,s,u){if(null===t.limit)return!1;if(s.size!==i.size)return!0;const f="F"===t.limitType?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(t,i,s){return en()<=oe.$b.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",go(i)),this.Ji.getDocumentsMatchingQuery(t,i,Qe.min(),s)}rs(t,i,s,u){return this.Ji.getDocumentsMatchingQuery(t,s,u).next(f=>(i.forEach(v=>{f=f.insert(v.key,v)}),f))}}class mv{constructor(t,i,s,u){this.persistence=t,this.ss=i,this.serializer=u,this.os=new jr(Mn),this._s=new ca(f=>Te(f),ot),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new al(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.os))}}function dm(l,t,i,s){return new mv(l,t,i,s)}function hm(l,t){return hp.apply(this,arguments)}function hp(){return(hp=(0,W.A)(function*(l,t){const i=Bt(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,i.ls(t),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const v=[],A=[];let M=En();for(const Q of u){v.push(Q.batchId);for(const Ae of Q.mutations)M=M.add(Ae.key)}for(const Q of f){A.push(Q.batchId);for(const Ae of Q.mutations)M=M.add(Ae.key)}return i.localDocuments.getDocuments(s,M).next(Q=>({hs:Q,removedBatchIds:v,addedBatchIds:A}))})})})).apply(this,arguments)}function Vh(l){const t=Bt(l);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ur.getLastRemoteSnapshotVersion(i))}function fm(l,t,i){let s=En(),u=En();return i.forEach(f=>s=s.add(f)),t.getEntries(l,s).next(f=>{let v=Go();return i.forEach((A,M)=>{const Q=f.get(A);M.isFoundDocument()!==Q.isFoundDocument()&&(u=u.add(A)),M.isNoDocument()&&M.version.isEqual(sn.min())?(t.removeEntry(A,M.readTime),v=v.insert(A,M)):!Q.isValidDocument()||M.version.compareTo(Q.version)>0||0===M.version.compareTo(Q.version)&&Q.hasPendingWrites?(t.addEntry(M),v=v.insert(A,M)):gt("LocalStore","Ignoring outdated watch update for ",A,". Current version:",Q.version," Watch version:",M.version)}),{Ps:v,Is:u}})}function Gl(l,t){const i=Bt(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function ku(l,t){const i=Bt(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,t).next(f=>f?(u=f,pt.resolve(u)):i.Ur.allocateTargetId(s).next(v=>(u=new Ys(t,v,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(t,s.targetId)),s})}function Wl(l,t,i){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,W.A)(function*(l,t,i){const s=Bt(l),u=s.os.get(t),f=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",f,v=>s.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Vr(v))throw v;gt("LocalStore",`Failed to update sequence numbers for target ${t}: ${v}`)}s.os=s.os.remove(t),s._s.delete(u.target)})).apply(this,arguments)}function Xl(l,t,i){const s=Bt(l);let u=sn.min(),f=En();return s.persistence.runTransaction("Execute query","readwrite",v=>function(M,Q,Ae){const Ve=Bt(M),nt=Ve._s.get(Ae);return void 0!==nt?pt.resolve(Ve.os.get(nt)):Ve.Ur.getTargetData(Q,Ae)}(s,v,Oi(t)).next(A=>{if(A)return u=A.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(v,A.targetId).next(M=>{f=M})}).next(()=>s.ss.getDocumentsMatchingQuery(v,t,i?u:sn.min(),i?f:En())).next(A=>(pp(s,Xc(t),A),{documents:A,Ts:f})))}function Lu(l,t){const i=Bt(l),s=Bt(i.Ur),u=i.os.get(t);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",f=>s.ot(f,t).next(v=>v?v.target:null))}function fp(l,t){const i=Bt(l),s=i.us.get(t)||sn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,t,Be(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(pp(i,t,u),u))}function pp(l,t,i){let s=l.us.get(t)||sn.min();i.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),l.us.set(t,s)}function Sd(){return(Sd=(0,W.A)(function*(l,t,i,s){const u=Bt(l);let f=En(),v=Go();for(const Q of i){const Ae=t.Es(Q.metadata.name);Q.document&&(f=f.add(Ae));const Ve=t.ds(Q);Ve.setReadTime(t.As(Q.metadata.readTime)),v=v.insert(Ae,Ve)}const A=u.cs.newChangeBuffer({trackRemovals:!0}),M=yield ku(u,(Ae=s,Oi(xo(Pn.fromString(`__bundle__/docs/${Ae}`)))));var Ae;return u.persistence.runTransaction("Apply bundle documents","readwrite",Q=>fm(Q,A,v).next(Ae=>(A.apply(Q),Ae)).next(Ae=>u.Ur.removeMatchingKeysForTargetId(Q,M.targetId).next(()=>u.Ur.addMatchingKeys(Q,f,M.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(Q,Ae.Ps,Ae.Is)).next(()=>Ae.Ps)))})).apply(this,arguments)}function pm(l,t){return ul.apply(this,arguments)}function ul(){return(ul=(0,W.A)(function*(l,t,i=En()){const s=yield ku(l,Oi(tc(t.bundledQuery))),u=Bt(l);return u.persistence.runTransaction("Save named query","readwrite",f=>{const v=si(t.readTime);if(s.snapshotVersion.compareTo(v)>=0)return u.Gr.saveNamedQuery(f,t);const A=s.withResumeToken(J.EMPTY_BYTE_STRING,v);return u.os=u.os.insert(A.targetId,A),u.Ur.updateTargetData(f,A).next(()=>u.Ur.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>u.Ur.addMatchingKeys(f,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(f,t))})})).apply(this,arguments)}function gp(l,t){return`firestore_clients_${l}_${t}`}function ya(l,t,i){let s=`firestore_mutations_${l}_${i}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function Rd(l,t){return`firestore_targets_${l}_${t}`}class Vu{constructor(t,i,s,u){this.user=t,this.batchId=i,this.state=s,this.error=u}static Rs(t,i,s){const u=JSON.parse(s);let f,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(f=new ze(u.error.code,u.error.message))),v?new Vu(t,i,u.state,f):(Jt("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Lr{constructor(t,i,s){this.targetId=t,this.state=i,this.error=s}static Rs(t,i){const s=JSON.parse(i);let u,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(u=new ze(s.error.code,s.error.message))),f?new Lr(t,s.state,u):(Jt("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class dl{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Rs(t,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,f=Jc();for(let v=0;u&&v<s.activeTargetIds.length;++v)u=Ze(s.activeTargetIds[v]),f=f.add(s.activeTargetIds[v]);return u?new dl(t,f):(Jt("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}}class sc{constructor(t,i){this.clientId=t,this.onlineState=i}static Rs(t){const i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new sc(i.clientId,i.onlineState):(Jt("SharedClientState",`Failed to parse online state: ${t}`),null)}}class No{constructor(){this.activeTargetIds=Jc()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Bh{constructor(t,i,s,u,f){this.window=t,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new jr(Mn),this.started=!1,this.bs=[];const v=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Ds=gp(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new No),this.Cs=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(M){return`firestore_bundle_loaded_v2_${M}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,W.A)(function*(){const i=yield t.syncEngine.Qi();for(const u of i){if(u===t.ps)continue;const f=t.getItem(gp(t.persistenceKey,u));if(f){const v=dl.Rs(u,f);v&&(t.Ss=t.Ss.insert(v.clientId,v))}}t.Ns();const s=t.storage.getItem(t.xs);if(s){const u=t.Ls(s);u&&t.Bs(u)}for(const u of t.bs)t.ws(u);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,i,s){this.qs(t,i,s),this.Qs(t)}addLocalQueryTarget(t,i=!0){let s="not-current";if(this.isActiveQueryTarget(t)){const u=this.storage.getItem(Rd(this.persistenceKey,t));if(u){const f=Lr.Rs(t,u);f&&(s=f.state)}}return i&&this.Ks.fs(t),this.Ns(),s}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Rd(this.persistenceKey,t))}updateQueryState(t,i,s){this.$s(t,i,s)}handleUserChange(t,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=t,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const i=this.storage.getItem(t);return gt("SharedClientState","READ",t,i),i}setItem(t,i){gt("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){gt("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var i=this;const s=t;if(s.storageArea===this.storage){if(gt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void Jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,W.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(v){let A=he.oe;if(null!=v)try{const M=JSON.parse(v);Ht("number"==typeof M),A=M}catch(M){Jt("SharedClientState","Failed to read sequence number from WebStorage",M)}return A}(s.newValue);u!==he.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(f=>i.syncEngine.eo(f)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,i,s){const u=new Vu(this.currentUser,t,i,s),f=ya(this.persistenceKey,this.currentUser,t);this.setItem(f,u.Vs())}Qs(t){const i=ya(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,i,s){const u=Rd(this.persistenceKey,t),f=new Lr(t,i,s);this.setItem(u,f.Vs())}Ws(t){const i=JSON.stringify(Array.from(t));this.setItem(this.Os,i)}Gs(t){const i=this.Cs.exec(t);return i?i[1]:null}js(t,i){const s=this.Gs(t);return dl.Rs(s,i)}Hs(t,i){const s=this.Fs.exec(t),u=Number(s[1]);return Vu.Rs(new Fe(void 0!==s[2]?s[2]:null),u,i)}Ys(t,i){const s=this.Ms.exec(t),u=Number(s[1]);return Lr.Rs(u,i)}Ls(t){return sc.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var i=this;return(0,W.A)(function*(){if(t.user.uid===i.currentUser.uid)return i.syncEngine.no(t.batchId,t.state,t.error);gt("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,i){const s=i?this.Ss.insert(t,i):this.Ss.remove(t),u=this.ks(this.Ss),f=this.ks(s),v=[],A=[];return f.forEach(M=>{u.has(M)||v.push(M)}),u.forEach(M=>{f.has(M)||A.push(M)}),this.syncEngine.io(v,A).then(()=>{this.Ss=s})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let i=Jc();return t.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class Oc{constructor(){this.so=new No,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,s){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new No,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ac{_o(t){}shutdown(){}}class Cs{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Md=null;function Fc(){return null===Md?Md=268435456+Math.round(2147483648*Math.random()):Md++,"0x"+Md.toString(16)}const gm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class na{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const Oo="WebChannelConnection";class Uh extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(i,s,u,f,v){const A=Fc(),M=this.xo(i,s.toUriEncodedString());gt("RestConnection",`Sending RPC '${i}' ${A}:`,M,u);const Q={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(Q,f,v),this.No(i,M,Q,u).then(Ae=>(gt("RestConnection",`Received RPC '${i}' ${A}: `,Ae),Ae),Ae=>{throw yn("RestConnection",`RPC '${i}' ${A} failed with error: `,Ae,"url: ",M,"request:",u),Ae})}Lo(i,s,u,f,v,A){return this.Mo(i,s,u,f,v)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+ft,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,v)=>i[v]=f),u&&u.headers.forEach((f,v)=>i[v]=f)}xo(i,s){return`${this.Do}/v1/${s}:${gm[i]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,s,u){const f=Fc();return new Promise((v,A)=>{const M=new Et;M.setWithCredentials(!0),M.listenOnce(it.COMPLETE,()=>{try{switch(M.getLastErrorCode()){case Me.NO_ERROR:const Ae=M.getResponseJson();gt(Oo,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(Ae)),v(Ae);break;case Me.TIMEOUT:gt(Oo,`RPC '${t}' ${f} timed out`),A(new ze(He.DEADLINE_EXCEEDED,"Request time out"));break;case Me.HTTP_ERROR:const Ve=M.getStatus();if(gt(Oo,`RPC '${t}' ${f} failed with status:`,Ve,"response text:",M.getResponseText()),Ve>0){let nt=M.getResponseJson();Array.isArray(nt)&&(nt=nt[0]);const Pt=nt?.error;if(Pt&&Pt.status&&Pt.message){const on=function(hn){const Gn=hn.toLowerCase().replace(/_/g,"-");return Object.values(He).indexOf(Gn)>=0?Gn:He.UNKNOWN}(Pt.status);A(new ze(on,Pt.message))}else A(new ze(He.UNKNOWN,"Server responded with status "+M.getStatus()))}else A(new ze(He.UNAVAILABLE,"Connection failed."));break;default:Gt()}}finally{gt(Oo,`RPC '${t}' ${f} completed.`)}});const Q=JSON.stringify(u);gt(Oo,`RPC '${t}' ${f} sending request:`,u),M.send(i,"POST",Q,s,15)})}Bo(t,i,s){const u=Fc(),f=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],v=Ce(),A=Z(),M={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},Q=this.longPollingOptions.timeoutSeconds;void 0!==Q&&(M.longPollingTimeout=Math.round(1e3*Q)),this.useFetchStreams&&(M.xmlHttpFactory=new xt({})),this.Oo(M.initMessageHeaders,i,s),M.encodeInitMessageHeaders=!0;const Ae=f.join("");gt(Oo,`Creating RPC '${t}' stream ${u}: ${Ae}`,M);const Ve=v.createWebChannel(Ae,M);let nt=!1,Pt=!1;const on=new na({Io:hn=>{Pt?gt(Oo,`Not sending because RPC '${t}' stream ${u} is closed:`,hn):(nt||(gt(Oo,`Opening RPC '${t}' stream ${u} transport.`),Ve.open(),nt=!0),gt(Oo,`RPC '${t}' stream ${u} sending:`,hn),Ve.send(hn))},To:()=>Ve.close()}),gn=(hn,Gn,Yn)=>{hn.listen(Gn,zn=>{try{Yn(zn)}catch(_r){setTimeout(()=>{throw _r},0)}})};return gn(Ve,jt.EventType.OPEN,()=>{Pt||(gt(Oo,`RPC '${t}' stream ${u} transport opened.`),on.yo())}),gn(Ve,jt.EventType.CLOSE,()=>{Pt||(Pt=!0,gt(Oo,`RPC '${t}' stream ${u} transport closed`),on.So())}),gn(Ve,jt.EventType.ERROR,hn=>{Pt||(Pt=!0,yn(Oo,`RPC '${t}' stream ${u} transport errored:`,hn),on.So(new ze(He.UNAVAILABLE,"The operation could not be completed")))}),gn(Ve,jt.EventType.MESSAGE,hn=>{var Gn;if(!Pt){const Yn=hn.data[0];Ht(!!Yn);const _r=Yn.error||(null===(Gn=Yn[0])||void 0===Gn?void 0:Gn.error);if(_r){gt(Oo,`RPC '${t}' stream ${u} received error:`,_r);const Nr=_r.status;let Tr=function(dt){const Dt=to[dt];if(void 0!==Dt)return Sl(Dt)}(Nr),It=_r.message;void 0===Tr&&(Tr=He.INTERNAL,It="Unknown error status: "+Nr+" with message "+_r.message),Pt=!0,on.So(new ze(Tr,It)),Ve.close()}else gt(Oo,`RPC '${t}' stream ${u} received:`,Yn),on.bo(Yn)}}),gn(A,j.STAT_EVENT,hn=>{hn.stat===V.PROXY?gt(Oo,`RPC '${t}' stream ${u} detected buffering proxy`):hn.stat===V.NOPROXY&&gt(Oo,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{on.wo()},0),on}}function $h(){return typeof window<"u"?window:null}function hl(){return typeof document<"u"?document:null}function fl(l){return new da(l,!0)}class ql{constructor(t,i,s=1e3,u=1.5,f=6e4){this.ui=t,this.timerId=i,this.ko=s,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&gt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class cc{constructor(t,i,s,u,f,v,A,M){this.ui=t,this.Ho=s,this.Jo=u,this.connection=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=A,this.listener=M,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ql(t,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,W.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,W.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,i){var s=this;return(0,W.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==t?s.t_.reset():i&&i.code===He.RESOURCE_EXHAUSTED?(Jt(i.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===He.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{t(()=>{const u=new ze(He.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(t,i){const s=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var t=this;this.state=5,this.t_.Go((0,W.A)(function*(){t.state=0,t.start()}))}I_(t){return gt("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget(()=>this.Yo===t?i():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jh extends cc{constructor(t,i,s,u,f,v){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,v),this.serializer=f}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=function I(l,t){let i;if("targetChange"in t){const s="NO_CHANGE"===(Q=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:Gt(),u=t.targetChange.targetIds||[],f=function(Q,Ae){return Q.useProto3Json?(Ht(void 0===Ae||"string"==typeof Ae),J.fromBase64String(Ae||"")):(Ht(void 0===Ae||Ae instanceof Buffer||Ae instanceof Uint8Array),J.fromUint8Array(Ae||new Uint8Array))}(l,t.targetChange.resumeToken),v=t.targetChange.cause,A=v&&function(Q){const Ae=void 0===Q.code?He.UNKNOWN:Sl(Q.code);return new ze(Ae,Q.message||"")}(v);i=new Os(s,u,f,A||null)}else if("documentChange"in t){const s=t.documentChange,u=Fs(l,s.document.name),f=si(s.document.updateTime),v=s.document.createTime?si(s.document.createTime):sn.min(),A=new $i({mapValue:{fields:s.document.fields}}),M=Gr.newFoundDocument(u,f,v,A);i=new tl(s.targetIds||[],s.removedTargetIds||[],M.key,M)}else if("documentDelete"in t){const s=t.documentDelete,u=Fs(l,s.document),f=s.readTime?si(s.readTime):sn.min(),v=Gr.newNoDocument(u,f);i=new tl([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in t){const s=t.documentRemove,u=Fs(l,s.document);i=new tl([],s.removedTargetIds||[],u,null)}else{if(!("filter"in t))return Gt();{const s=t.filter,{count:u=0,unchangedNames:f}=s,v=new Ya(u,f);i=new Ja(s.targetId,v)}}var Q;return i}(this.serializer,t),s=function(f){if(!("targetChange"in f))return sn.min();const v=f.targetChange;return v.targetIds&&v.targetIds.length?sn.min():v.readTime?si(v.readTime):sn.min()}(t);return this.listener.d_(i,s)}A_(t){const i={};i.database=md(this.serializer),i.addTarget=function(f,v){let A;const M=v.target;if(A=Vn(M)?{documents:X(f,M)}:{query:be(f,M)._t},A.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){A.resumeToken=Ml(f,v.resumeToken);const Q=gd(f,v.expectedCount);null!==Q&&(A.expectedCount=Q)}else if(v.snapshotVersion.compareTo(sn.min())>0){A.readTime=_s(f,v.snapshotVersion.toTimestamp());const Q=gd(f,v.expectedCount);null!==Q&&(A.expectedCount=Q)}return A}(this.serializer,t);const s=function At(l,t){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Gt()}}(t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);s&&(i.labels=s),this.a_(i)}R_(t){const i={};i.database=md(this.serializer),i.removeTarget=t,this.a_(i)}}class Fa extends cc{constructor(t,i,s,u,f,v){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,v),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){Ht(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=function S(l,t){return l&&l.length>0?(Ht(void 0!==t),l.map(i=>function(u,f){let v=si(u.updateTime?u.updateTime:f);return v.isEqual(sn.min())&&(v=si(f)),new se(v,u.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),s=si(t.commitTime);return this.listener.g_(s,i)}p_(){const t={};t.database=md(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>w(this.serializer,s))};this.a_(i)}}class mr extends class{}{constructor(t,i,s,u){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new ze(He.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,v])=>this.connection.Mo(t,xc(i,s),u,f,v)).catch(f=>{throw"FirebaseError"===f.name?(f.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ze(He.UNKNOWN,f.toString())})}Lo(t,i,s,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,A])=>this.connection.Lo(t,xc(i,s),u,v,A,f)).catch(v=>{throw"FirebaseError"===v.name?(v.code===He.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new ze(He.UNKNOWN,v.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Pd{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jt(i),this.D_=!1):gt("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Hh{constructor(t,i,s,u,f){var v=this;this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(A=>{s.enqueueAndForget((0,W.A)(function*(){var M;lc(v)&&(gt("RemoteStore","Restarting streams for network reachability change."),yield(M=(0,W.A)(function*(Ae){const Ve=Bt(Ae);Ve.L_.add(4),yield kc(Ve),Ve.q_.set("Unknown"),Ve.L_.delete(4),yield Ql(Ve)}),function Q(Ae){return M.apply(this,arguments)})(v))}))}),this.q_=new Pd(s,u)}}function Ql(l){return zh.apply(this,arguments)}function zh(){return(zh=(0,W.A)(function*(l){if(lc(l))for(const t of l.B_)yield t(!0)})).apply(this,arguments)}function kc(l){return Bu.apply(this,arguments)}function Bu(){return(Bu=(0,W.A)(function*(l){for(const t of l.B_)yield t(!1)})).apply(this,arguments)}function Uu(l,t){const i=Bt(l);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),gl(i)?ts(i):U(i).r_()&&_a(i,t))}function pl(l,t){const i=Bt(l),s=U(i);i.N_.delete(t),s.r_()&&mp(i,t),0===i.N_.size&&(s.r_()?s.o_():lc(i)&&i.q_.set("Unknown"))}function _a(l,t){if(l.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(sn.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}U(l).A_(t)}function mp(l,t){l.Q_.xe(t),U(l).R_(t)}function ts(l){l.Q_=new ys({getRemoteKeysForTarget:t=>l.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>l.N_.get(t)||null,tt:()=>l.datastore.serializer.databaseId}),U(l).start(),l.q_.v_()}function gl(l){return lc(l)&&!U(l).n_()&&l.N_.size>0}function lc(l){return 0===Bt(l).L_.size}function vp(l){l.Q_=void 0}function Xt(l){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,W.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function yp(l){return $u.apply(this,arguments)}function $u(){return($u=(0,W.A)(function*(l){l.N_.forEach((t,i)=>{_a(l,t)})})).apply(this,arguments)}function di(l,t){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,W.A)(function*(l,t){vp(l),gl(l)?(l.q_.M_(t),ts(l)):l.q_.set("Unknown")})).apply(this,arguments)}function Yl(l,t,i){return Bs.apply(this,arguments)}function Bs(){return Bs=(0,W.A)(function*(l,t,i){if(l.q_.set("Online"),t instanceof Os&&2===t.state&&t.cause)try{yield(s=(0,W.A)(function*(f,v){const A=v.cause;for(const M of v.targetIds)f.N_.has(M)&&(yield f.remoteSyncer.rejectListen(M,A),f.N_.delete(M),f.Q_.removeTarget(M))}),function u(f,v){return s.apply(this,arguments)})(l,t)}catch(s){gt("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield Zl(l,s)}else if(t instanceof tl?l.Q_.Ke(t):t instanceof Ja?l.Q_.He(t):l.Q_.We(t),!i.isEqual(sn.min()))try{const s=yield Vh(l.localStore);i.compareTo(s)>=0&&(yield function(f,v){const A=f.Q_.rt(v);return A.targetChanges.forEach((M,Q)=>{if(M.resumeToken.approximateByteSize()>0){const Ae=f.N_.get(Q);Ae&&f.N_.set(Q,Ae.withResumeToken(M.resumeToken,v))}}),A.targetMismatches.forEach((M,Q)=>{const Ae=f.N_.get(M);if(!Ae)return;f.N_.set(M,Ae.withResumeToken(J.EMPTY_BYTE_STRING,Ae.snapshotVersion)),mp(f,M);const Ve=new Ys(Ae.target,M,Q,Ae.sequenceNumber);_a(f,Ve)}),f.remoteSyncer.applyRemoteEvent(A)}(l,i))}catch(s){gt("RemoteStore","Failed to raise snapshot:",s),yield Zl(l,s)}var s}),Bs.apply(this,arguments)}function Zl(l,t,i){return ju.apply(this,arguments)}function ju(){return(ju=(0,W.A)(function*(l,t,i){if(!Vr(t))throw t;l.L_.add(1),yield kc(l),l.q_.set("Offline"),i||(i=()=>Vh(l.localStore)),l.asyncQueue.enqueueRetryable((0,W.A)(function*(){gt("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield Ql(l)}))})).apply(this,arguments)}function Nd(l,t){return t().catch(i=>Zl(l,i,t))}function yo(l){return Od.apply(this,arguments)}function Od(){return(Od=(0,W.A)(function*(l){const t=Bt(l),i=Ee(t);let s=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;Fd(t);)try{const u=yield Gl(t.localStore,s);if(null===u){0===t.O_.length&&i.o_();break}s=u.batchId,_p(t,u)}catch(u){yield Zl(t,u)}Ia(t)&&ao(t)})).apply(this,arguments)}function Fd(l){return lc(l)&&l.O_.length<10}function _p(l,t){l.O_.push(t);const i=Ee(l);i.r_()&&i.V_&&i.m_(t.mutations)}function Ia(l){return lc(l)&&!Ee(l).n_()&&l.O_.length>0}function ao(l){Ee(l).start()}function ka(l){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,W.A)(function*(l){Ee(l).p_()})).apply(this,arguments)}function Ca(l){return Us.apply(this,arguments)}function Us(){return(Us=(0,W.A)(function*(l){const t=Ee(l);for(const i of l.O_)t.m_(i.mutations)})).apply(this,arguments)}function mm(l,t,i){return kd.apply(this,arguments)}function kd(){return(kd=(0,W.A)(function*(l,t,i){const s=l.O_.shift(),u=ms.from(s,t,i);yield Nd(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield yo(l)})).apply(this,arguments)}function vm(l,t){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,W.A)(function*(l,t){var i;t&&Ee(l).V_&&(yield(i=(0,W.A)(function*(u,f){if(Ps(A=f.code)&&A!==He.ABORTED){const v=u.O_.shift();Ee(u).s_(),yield Nd(u,()=>u.remoteSyncer.rejectFailedWrite(v.batchId,f)),yield yo(u)}var A}),function s(u,f){return i.apply(this,arguments)})(l,t)),Ia(l)&&ao(l)}),Gh.apply(this,arguments)}function y(l,t){return h.apply(this,arguments)}function h(){return(h=(0,W.A)(function*(l,t){const i=Bt(l);i.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const s=lc(i);i.L_.add(3),yield kc(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),yield Ql(i)})).apply(this,arguments)}function p(l,t){return E.apply(this,arguments)}function E(){return(E=(0,W.A)(function*(l,t){const i=Bt(l);t?(i.L_.delete(2),yield Ql(i)):t||(i.L_.add(2),yield kc(i),i.q_.set("Unknown"))})).apply(this,arguments)}function U(l){return l.K_||(l.K_=function(i,s,u){const f=Bt(i);return f.w_(),new jh(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(l.datastore,l.asyncQueue,{Eo:Xt.bind(null,l),Ro:yp.bind(null,l),mo:di.bind(null,l),d_:Yl.bind(null,l)}),l.B_.push(function(){var t=(0,W.A)(function*(i){i?(l.K_.s_(),gl(l)?ts(l):l.q_.set("Unknown")):(yield l.K_.stop(),vp(l))});return function(i){return t.apply(this,arguments)}}())),l.K_}function Ee(l){return l.U_||(l.U_=function(i,s,u){const f=Bt(i);return f.w_(),new Fa(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ka.bind(null,l),mo:vm.bind(null,l),f_:Ca.bind(null,l),g_:mm.bind(null,l)}),l.B_.push(function(){var t=(0,W.A)(function*(i){i?(l.U_.s_(),yield yo(l)):(yield l.U_.stop(),l.O_.length>0&&(gt("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return t.apply(this,arguments)}}())),l.U_}class et{constructor(t,i,s,u,f){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new _t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,u,f){const v=Date.now()+s,A=new et(t,i,v,u,f);return A.start(s),A}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ze(He.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ct(l,t){if(Jt("AsyncQueue",`${t}: ${l}`),Vr(l))return new ze(He.UNAVAILABLE,`${t}: ${l}`);throw l}class qt{constructor(t){this.comparator=t?(i,s)=>t(i,s)||an.comparator(i.key,s.key):(i,s)=>an.comparator(i.key,s.key),this.keyedMap=Wo(),this.sortedSet=new jr(this.comparator)}static emptySet(t){return new qt(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qt)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const s=new qt;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class Tn{constructor(){this.W_=new jr(an.comparator)}track(t){const i=t.doc.key,s=this.W_.get(i);s?0!==t.type&&3===s.type?this.W_=this.W_.insert(i,t):3===t.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.W_=this.W_.remove(i):1===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):Gt():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal((i,s)=>{t.push(s)}),t}}class On{constructor(t,i,s,u,f,v,A,M,Q){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=A,this.excludesMetadataChanges=M,this.hasCachedResults=Q}static fromInitialDocuments(t,i,s,u,f){const v=[];return i.forEach(A=>{v.push({type:0,doc:A})}),new On(t,i,qt.emptySet(i),v,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ms(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class Bn{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class ji{constructor(){this.queries=gi(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=Bt(i),f=u.queries;u.queries=gi(),f.forEach((v,A)=>{for(const M of A.j_)M.onError(s)})}(this,new ze(He.ABORTED,"Firestore shutting down"))}}function gi(){return new ca(l=>qa(l),Ms)}function ra(l,t){return hi.apply(this,arguments)}function hi(){return(hi=(0,W.A)(function*(l,t){const i=Bt(l);let s=3;const u=t.query;let f=i.queries.get(u);f?!f.H_()&&t.J_()&&(s=2):(f=new Bn,s=t.J_()?0:1);try{switch(s){case 0:f.z_=yield i.onListen(u,!0);break;case 1:f.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(v){const A=Ct(v,`Initialization of query '${go(t.query)}' failed`);return void t.onError(A)}i.queries.set(u,f),f.j_.push(t),t.Z_(i.onlineState),f.z_&&t.X_(f.z_)&&Gu(i)})).apply(this,arguments)}function zu(l,t){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,W.A)(function*(l,t){const i=Bt(l),s=t.query;let u=3;const f=i.queries.get(s);if(f){const v=f.j_.indexOf(t);v>=0&&(f.j_.splice(v,1),0===f.j_.length?u=t.J_()?0:1:!f.H_()&&t.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Ep(l,t){const i=Bt(l);let s=!1;for(const u of t){const v=i.queries.get(u.query);if(v){for(const A of v.j_)A.X_(u)&&(s=!0);v.z_=u}}s&&Gu(i)}function Wh(l,t,i){const s=Bt(l),u=s.queries.get(t);if(u)for(const f of u.j_)f.onError(i);s.queries.delete(t)}function Gu(l){l.Y_.forEach(t=>{t.next()})}var Wu,Lc;(Lc=Wu||(Wu={})).ea="default",Lc.Cache="cache";class $s{constructor(t,i,s){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)3!==u.type&&s.push(u);t=new On(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=On.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Wu.Cache}}class ym{constructor(t,i){this.aa=t,this.byteLength=i}ua(){return"metadata"in this.aa}}class ml{constructor(t){this.serializer=t}Es(t){return Fs(this.serializer,t)}ds(t){return t.metadata.exists?bc(this.serializer,t.document,!1):Gr.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return si(t)}}class Vd{constructor(t,i,s){this.ca=t,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Kh(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++i;const s=Pn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(t){const i=new Map,s=new ml(this.serializer);for(const u of t)if(u.metadata.queries){const f=s.Es(u.metadata.name);for(const v of u.metadata.queries){const A=(i.get(v)||En()).add(f);i.set(v,A)}}return i}complete(){var t=this;return(0,W.A)(function*(){const i=yield function wd(l,t,i,s){return Sd.apply(this,arguments)}(t.localStore,new ml(t.serializer),t.documents,t.ca.id),s=t.ha(t.documents);for(const u of t.queries)yield pm(t.localStore,u,s.get(u.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:i}})()}}function Kh(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class Ip{constructor(t){this.key=t}}class _m{constructor(t){this.key=t}}class Em{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=En(),this.mutatedKeys=En(),this.Aa=qc(t),this.Ra=new qt(this.Aa)}get Va(){return this.Ta}ma(t,i){const s=i?i.fa:new Tn,u=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,v=u,A=!1;const M="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,Q="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((Ae,Ve)=>{const nt=u.get(Ae),Pt=fs(this.query,Ve)?Ve:null,on=!!nt&&this.mutatedKeys.has(nt.key),gn=!!Pt&&(Pt.hasLocalMutations||this.mutatedKeys.has(Pt.key)&&Pt.hasCommittedMutations);let hn=!1;nt&&Pt?nt.data.isEqual(Pt.data)?on!==gn&&(s.track({type:3,doc:Pt}),hn=!0):this.ga(nt,Pt)||(s.track({type:2,doc:Pt}),hn=!0,(M&&this.Aa(Pt,M)>0||Q&&this.Aa(Pt,Q)<0)&&(A=!0)):!nt&&Pt?(s.track({type:0,doc:Pt}),hn=!0):nt&&!Pt&&(s.track({type:1,doc:nt}),hn=!0,(M||Q)&&(A=!0)),hn&&(Pt?(v=v.add(Pt),f=gn?f.add(Ae):f.delete(Ae)):(v=v.delete(Ae),f=f.delete(Ae)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const Ae="F"===this.query.limitType?v.last():v.first();v=v.delete(Ae.key),f=f.delete(Ae.key),s.track({type:1,doc:Ae})}return{Ra:v,fa:s,ns:A,mutatedKeys:f}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,u){const f=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const v=t.fa.G_();v.sort((Ae,Ve)=>function(Pt,on){const gn=hn=>{switch(hn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt()}};return gn(Pt)-gn(on)}(Ae.type,Ve.type)||this.Aa(Ae.doc,Ve.doc)),this.pa(s),u=null!=u&&u;const A=i&&!u?this.ya():[],M=0===this.da.size&&this.current&&!u?1:0,Q=M!==this.Ea;return this.Ea=M,0!==v.length||Q?{snapshot:new On(this.query,t.Ra,f,v,t.mutatedKeys,0===M,Q,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:A}:{wa:A}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Tn,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=En(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return t.forEach(s=>{this.da.has(s)||i.push(new _m(s))}),this.da.forEach(s=>{t.has(s)||i.push(new Ip(s))}),i}ba(t){this.Ta=t.Ts,this.da=En();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return On.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class j_{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class Bd{constructor(t){this.key=t,this.va=!1}}class Xh{constructor(t,i,s,u,f,v){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.Ca={},this.Fa=new ca(A=>qa(A),Ms),this.Ma=new Map,this.xa=new Set,this.Oa=new jr(an.comparator),this.Na=new Map,this.La=new vo,this.Ba={},this.ka=new Map,this.qa=Is.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function H_(l,t){return qh.apply(this,arguments)}function qh(){return(qh=(0,W.A)(function*(l,t,i=!0){const s=Pp(l);let u;const f=s.Fa.get(t);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield yv(s,t,i,!0),u})).apply(this,arguments)}function vv(l,t){return Im.apply(this,arguments)}function Im(){return(Im=(0,W.A)(function*(l,t){const i=Pp(l);yield yv(i,t,!0,!1)})).apply(this,arguments)}function yv(l,t,i,s){return Cm.apply(this,arguments)}function Cm(){return(Cm=(0,W.A)(function*(l,t,i,s){const u=yield ku(l.localStore,Oi(t)),f=u.targetId,v=l.sharedClientState.addLocalQueryTarget(f,i);let A;return s&&(A=yield _v(l,t,f,"current"===v,u.resumeToken)),l.isPrimaryClient&&i&&Uu(l.remoteStore,u),A})).apply(this,arguments)}function _v(l,t,i,s,u){return Ev.apply(this,arguments)}function Ev(){return Ev=(0,W.A)(function*(l,t,i,s,u){l.Ka=(Ve,nt,Pt)=>{return(on=(0,W.A)(function*(hn,Gn,Yn,zn){let _r=Gn.view.ma(Yn);_r.ns&&(_r=yield Xl(hn.localStore,Gn.query,!1).then(({documents:tt})=>Gn.view.ma(tt,_r)));const Nr=zn&&zn.targetChanges.get(Gn.targetId),Tr=zn&&null!=zn.targetMismatches.get(Gn.targetId),It=Gn.view.applyChanges(_r,hn.isPrimaryClient,Nr,Tr);return Tp(hn,Gn.targetId,It.wa),It.snapshot}),function gn(hn,Gn,Yn,zn){return on.apply(this,arguments)})(l,Ve,nt,Pt);var on};const f=yield Xl(l.localStore,t,!0),v=new Em(t,f.Ts),A=v.ma(f.documents),M=Ns.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),Q=v.applyChanges(A,l.isPrimaryClient,M);Tp(l,i,Q.wa);const Ae=new j_(t,i,v);return l.Fa.set(t,Ae),l.Ma.has(i)?l.Ma.get(i).push(t):l.Ma.set(i,[t]),Q.snapshot}),Ev.apply(this,arguments)}function Am(l,t,i){return vl.apply(this,arguments)}function vl(){return(vl=(0,W.A)(function*(l,t,i){const s=Bt(l),u=s.Fa.get(t),f=s.Ma.get(u.targetId);if(f.length>1)return s.Ma.set(u.targetId,f.filter(v=>!Ms(v,t))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Wl(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&pl(s.remoteStore,u.targetId),Jl(s,u.targetId)}).catch(pn))):(Jl(s,u.targetId),yield Wl(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Dm(l,t){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,W.A)(function*(l,t){const i=Bt(l),s=i.Fa.get(t),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),pl(i.remoteStore,s.targetId))})).apply(this,arguments)}function Xu(){return(Xu=(0,W.A)(function*(l,t,i){const s=Sm(l);try{const u=yield function(v,A){const M=Bt(v),Q=xn.now(),Ae=A.reduce((Pt,on)=>Pt.add(on.key),En());let Ve,nt;return M.persistence.runTransaction("Locally write mutations","readwrite",Pt=>{let on=Go(),gn=En();return M.cs.getEntries(Pt,Ae).next(hn=>{on=hn,on.forEach((Gn,Yn)=>{Yn.isValidDocument()||(gn=gn.add(Gn))})}).next(()=>M.localDocuments.getOverlayedDocuments(Pt,on)).next(hn=>{Ve=hn;const Gn=[];for(const Yn of A){const zn=ii(Yn,Ve.get(Yn.key).overlayedDocument);null!=zn&&Gn.push(new Sr(Yn.key,zn,bi(zn.value.mapValue),je.exists(!0)))}return M.mutationQueue.addMutationBatch(Pt,Q,Gn,A)}).next(hn=>{nt=hn;const Gn=hn.applyToLocalDocumentSet(Ve,gn);return M.documentOverlayCache.saveOverlays(Pt,hn.batchId,Gn)})}).then(()=>({batchId:nt.batchId,changes:Yc(Ve)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(v,A,M){let Q=v.Ba[v.currentUser.toKey()];Q||(Q=new jr(Mn)),Q=Q.insert(A,M),v.Ba[v.currentUser.toKey()]=Q}(s,u.batchId,i),yield Bc(s,u.changes),yield yo(s.remoteStore)}catch(u){const f=Ct(u,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function Iv(l,t){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,W.A)(function*(l,t){const i=Bt(l);try{const s=yield function $_(l,t){const i=Bt(l),s=t.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const A=[];t.targetChanges.forEach((Ae,Ve)=>{const nt=u.get(Ve);if(!nt)return;A.push(i.Ur.removeMatchingKeys(f,Ae.removedDocuments,Ve).next(()=>i.Ur.addMatchingKeys(f,Ae.addedDocuments,Ve)));let Pt=nt.withSequenceNumber(f.currentSequenceNumber);var gn,hn,Gn;null!==t.targetMismatches.get(Ve)?Pt=Pt.withResumeToken(J.EMPTY_BYTE_STRING,sn.min()).withLastLimboFreeSnapshotVersion(sn.min()):Ae.resumeToken.approximateByteSize()>0&&(Pt=Pt.withResumeToken(Ae.resumeToken,s)),u=u.insert(Ve,Pt),hn=Pt,Gn=Ae,(0===(gn=nt).resumeToken.approximateByteSize()||hn.snapshotVersion.toMicroseconds()-gn.snapshotVersion.toMicroseconds()>=3e8||Gn.addedDocuments.size+Gn.modifiedDocuments.size+Gn.removedDocuments.size>0)&&A.push(i.Ur.updateTargetData(f,Pt))});let M=Go(),Q=En();if(t.documentUpdates.forEach(Ae=>{t.resolvedLimboDocuments.has(Ae)&&A.push(i.persistence.referenceDelegate.updateLimboDocument(f,Ae))}),A.push(fm(f,v,t.documentUpdates).next(Ae=>{M=Ae.Ps,Q=Ae.Is})),!s.isEqual(sn.min())){const Ae=i.Ur.getLastRemoteSnapshotVersion(f).next(Ve=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s));A.push(Ae)}return pt.waitFor(A).next(()=>v.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,M,Q)).next(()=>M)}).then(f=>(i.os=u,f))}(i.localStore,t);t.targetChanges.forEach((u,f)=>{const v=i.Na.get(f);v&&(Ht(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.va=!0:u.modifiedDocuments.size>0?Ht(v.va):u.removedDocuments.size>0&&(Ht(v.va),v.va=!1))}),yield Bc(i,s,t)}catch(s){yield pn(s)}})).apply(this,arguments)}function Yh(l,t,i){const s=Bt(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((f,v)=>{const A=v.view.Z_(t);A.snapshot&&u.push(A.snapshot)}),function(v,A){const M=Bt(v);M.onlineState=A;let Q=!1;M.queries.forEach((Ae,Ve)=>{for(const nt of Ve.j_)nt.Z_(A)&&(Q=!0)}),Q&&Gu(M)}(s.eventManager,t),u.length&&s.Ca.d_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function iD(l,t,i){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,W.A)(function*(l,t,i){const s=Bt(l);s.sharedClientState.updateQueryState(t,"rejected",i);const u=s.Na.get(t),f=u&&u.key;if(f){let v=new jr(an.comparator);v=v.insert(f,Gr.newNoDocument(f,sn.min()));const A=En().add(f),M=new Mo(sn.min(),new Map,new jr(Mn),v,A);yield Iv(s,M),s.Oa=s.Oa.remove(f),s.Na.delete(t),xp(s)}else yield Wl(s.localStore,t,!1).then(()=>Jl(s,t,i)).catch(pn)})).apply(this,arguments)}function Cv(l,t){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,W.A)(function*(l,t){const i=Bt(l),s=t.batch.batchId;try{const u=yield function Lh(l,t){const i=Bt(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return function(A,M,Q,Ae){const Ve=Q.batch,nt=Ve.keys();let Pt=pt.resolve();return nt.forEach(on=>{Pt=Pt.next(()=>Ae.getEntry(M,on)).next(gn=>{const hn=Q.docVersions.get(on);Ht(null!==hn),gn.version.compareTo(hn)<0&&(Ve.applyToRemoteDocument(gn,Q),gn.isValidDocument()&&(gn.setReadTime(Q.commitVersion),Ae.addEntry(gn)))})}),Pt.next(()=>A.mutationQueue.removeMutationBatch(M,Ve))}(i,s,t,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(A){let M=En();for(let Q=0;Q<A.mutationResults.length;++Q)A.mutationResults[Q].transformResults.length>0&&(M=M.add(A.batch.mutations[Q].key));return M}(t))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,t);Ud(i,s,null),Dp(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Bc(i,u)}catch(u){yield pn(u)}})).apply(this,arguments)}function Vc(l,t,i){return xm.apply(this,arguments)}function xm(){return(xm=(0,W.A)(function*(l,t,i){const s=Bt(l);try{const u=yield function(v,A){const M=Bt(v);return M.persistence.runTransaction("Reject batch","readwrite-primary",Q=>{let Ae;return M.mutationQueue.lookupMutationBatch(Q,A).next(Ve=>(Ht(null!==Ve),Ae=Ve.keys(),M.mutationQueue.removeMutationBatch(Q,Ve))).next(()=>M.mutationQueue.performConsistencyCheck(Q)).next(()=>M.documentOverlayCache.removeOverlaysForBatchId(Q,Ae,A)).next(()=>M.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(Q,Ae)).next(()=>M.localDocuments.getDocuments(Q,Ae))})}(s.localStore,t);Ud(s,t,i),Dp(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),yield Bc(s,u)}catch(u){yield pn(u)}})).apply(this,arguments)}function Zh(){return(Zh=(0,W.A)(function*(l,t){const i=Bt(l);lc(i.remoteStore)||gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(v){const A=Bt(v);return A.persistence.runTransaction("Get highest unacknowledged batch id","readonly",M=>A.mutationQueue.getHighestUnacknowledgedBatchId(M))}(i.localStore);if(-1===s)return void t.resolve();const u=i.ka.get(s)||[];u.push(t),i.ka.set(s,u)}catch(s){const u=Ct(s,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function Dp(l,t){(l.ka.get(t)||[]).forEach(i=>{i.resolve()}),l.ka.delete(t)}function Ud(l,t,i){const s=Bt(l);let u=s.Ba[s.currentUser.toKey()];if(u){const f=u.get(t);f&&(i?f.reject(i):f.resolve(),u=u.remove(t)),s.Ba[s.currentUser.toKey()]=u}}function Jl(l,t,i=null){l.sharedClientState.removeLocalQueryTarget(t);for(const s of l.Ma.get(t))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(t),l.isPrimaryClient&&l.La.gr(t).forEach(s=>{l.La.containsKey(s)||Av(l,s)})}function Av(l,t){l.xa.delete(t.path.canonicalString());const i=l.Oa.get(t);null!==i&&(pl(l.remoteStore,i),l.Oa=l.Oa.remove(t),l.Na.delete(i),xp(l))}function Tp(l,t,i){for(const s of i)s instanceof Ip?(l.La.addReference(s.key,t),Dv(l,s)):s instanceof _m?(gt("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,t),l.La.containsKey(s.key)||Av(l,s.key)):Gt()}function Dv(l,t){const i=t.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(gt("SyncEngine","New document in limbo: "+i),l.xa.add(s),xp(l))}function xp(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const t=l.xa.values().next().value;l.xa.delete(t);const i=new an(Pn.fromString(t)),s=l.qa.next();l.Na.set(s,new Bd(i)),l.Oa=l.Oa.insert(i,s),Uu(l.remoteStore,new Ys(Oi(xo(i.path)),s,"TargetPurposeLimboResolution",he.oe))}}function Bc(l,t,i){return bm.apply(this,arguments)}function bm(){return bm=(0,W.A)(function*(l,t,i){const s=Bt(l),u=[],f=[],v=[];var A;s.Fa.isEmpty()||(s.Fa.forEach((A,M)=>{v.push(s.Ka(M,t,i).then(Q=>{var Ae;if((Q||i)&&s.isPrimaryClient){const Ve=Q?!Q.fromCache:null===(Ae=i?.targetChanges.get(M.targetId))||void 0===Ae?void 0:Ae.current;s.sharedClientState.updateQueryState(M.targetId,Ve?"current":"not-current")}if(Q){u.push(Q);const Ve=kh.Wi(M.targetId,Q);f.push(Ve)}}))}),yield Promise.all(v),s.Ca.d_(u),yield(A=(0,W.A)(function*(Q,Ae){const Ve=Bt(Q);try{yield Ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",nt=>pt.forEach(Ae,Pt=>pt.forEach(Pt.$i,on=>Ve.persistence.referenceDelegate.addReference(nt,Pt.targetId,on)).next(()=>pt.forEach(Pt.Ui,on=>Ve.persistence.referenceDelegate.removeReference(nt,Pt.targetId,on)))))}catch(nt){if(!Vr(nt))throw nt;gt("LocalStore","Failed to update sequence numbers: "+nt)}for(const nt of Ae){const Pt=nt.targetId;if(!nt.fromCache){const on=Ve.os.get(Pt),hn=on.withLastLimboFreeSnapshotVersion(on.snapshotVersion);Ve.os=Ve.os.insert(Pt,hn)}}}),function M(Q,Ae){return A.apply(this,arguments)})(s.localStore,f))}),bm.apply(this,arguments)}function bp(l,t){return yl.apply(this,arguments)}function yl(){return(yl=(0,W.A)(function*(l,t){const i=Bt(l);if(!i.currentUser.isEqual(t)){gt("SyncEngine","User change. New user:",t.toKey());const s=yield hm(i.localStore,t);i.currentUser=t,(f=i).ka.forEach(A=>{A.forEach(M=>{M.reject(new ze(He.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield Bc(i,s.hs)}var f})).apply(this,arguments)}function G_(l,t){const i=Bt(l),s=i.Na.get(t);if(s&&s.va)return En().add(s.key);{let u=En();const f=i.Ma.get(t);if(!f)return u;for(const v of f){const A=i.Fa.get(v);u=u.unionWith(A.view.Va)}return u}}function Tv(l,t){return wp.apply(this,arguments)}function wp(){return(wp=(0,W.A)(function*(l,t){const i=Bt(l),s=yield Xl(i.localStore,t.query,!0),u=t.view.ba(s);return i.isPrimaryClient&&Tp(i,t.targetId,u.wa),u})).apply(this,arguments)}function $d(l,t){return eu.apply(this,arguments)}function eu(){return(eu=(0,W.A)(function*(l,t){const i=Bt(l);return fp(i.localStore,t).then(s=>Bc(i,s))})).apply(this,arguments)}function Fo(l,t,i,s){return wm.apply(this,arguments)}function wm(){return(wm=(0,W.A)(function*(l,t,i,s){const u=Bt(l),f=yield function(A,M){const Q=Bt(A),Ae=Bt(Q.mutationQueue);return Q.persistence.runTransaction("Lookup mutation documents","readonly",Ve=>Ae.Mn(Ve,M).next(nt=>nt?Q.localDocuments.getDocuments(Ve,nt):pt.resolve(null)))}(u.localStore,t);var M;null!==f?("pending"===i?yield yo(u.remoteStore):"acknowledged"===i||"rejected"===i?(Ud(u,t,s||null),Dp(u,t),M=t,Bt(Bt(u.localStore).mutationQueue).On(M)):Gt(),yield Bc(u,f)):gt("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Jh(){return(Jh=(0,W.A)(function*(l,t){const i=Bt(l);if(Pp(i),Sm(i),!0===t&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield bv(i,s.toArray());i.Qa=!0,yield p(i.remoteStore,!0);for(const f of u)Uu(i.remoteStore,f)}else if(!1===t&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((f,v)=>{i.sharedClientState.isLocalQueryTarget(v)?s.push(v):u=u.then(()=>(Jl(i,v),Wl(i.localStore,v,!0))),pl(i.remoteStore,v)}),yield u,yield bv(i,s),function(v){const A=Bt(v);A.Na.forEach((M,Q)=>{pl(A.remoteStore,Q)}),A.La.pr(),A.Na=new Map,A.Oa=new jr(an.comparator)}(i),i.Qa=!1,yield p(i.remoteStore,!1)}})).apply(this,arguments)}function bv(l,t,i){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,W.A)(function*(l,t,i){const s=Bt(l),u=[],f=[];for(const v of t){let A;const M=s.Ma.get(v);if(M&&0!==M.length){A=yield ku(s.localStore,Oi(M[0]));for(const Q of M){const Ae=s.Fa.get(Q),Ve=yield Tv(s,Ae);Ve.snapshot&&f.push(Ve.snapshot)}}else{const Q=yield Lu(s.localStore,v);A=yield ku(s.localStore,Q),yield _v(s,ef(Q),v,!1,A.resumeToken)}u.push(A)}return s.Ca.d_(f),u})).apply(this,arguments)}function ef(l){return hs(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function W_(l){return i=Bt(l).localStore,Bt(Bt(i).persistence).Qi();var i}function wv(l,t,i,s){return tf.apply(this,arguments)}function tf(){return(tf=(0,W.A)(function*(l,t,i,s){const u=Bt(l);if(u.Qa)return void gt("SyncEngine","Ignoring unexpected query state notification.");const f=u.Ma.get(t);if(f&&f.length>0)switch(i){case"current":case"not-current":{const v=yield fp(u.localStore,Xc(f[0])),A=Mo.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,J.EMPTY_BYTE_STRING);yield Bc(u,v,A);break}case"rejected":yield Wl(u.localStore,t,!0),Jl(u,t,s);break;default:Gt()}})).apply(this,arguments)}function Rp(l,t,i){return Mp.apply(this,arguments)}function Mp(){return(Mp=(0,W.A)(function*(l,t,i){const s=Pp(l);if(s.Qa){for(const u of t){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){gt("SyncEngine","Adding an already active target "+u);continue}const f=yield Lu(s.localStore,u),v=yield ku(s.localStore,f);yield _v(s,ef(f),v.targetId,!1,v.resumeToken),Uu(s.remoteStore,v)}for(const u of i)s.Ma.has(u)&&(yield Wl(s.localStore,u,!1).then(()=>{pl(s.remoteStore,u),Jl(s,u)}).catch(pn))}})).apply(this,arguments)}function Pp(l){const t=Bt(l);return t.remoteStore.remoteSyncer.applyRemoteEvent=Iv.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=G_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iD.bind(null,t),t.Ca.d_=Ep.bind(null,t.eventManager),t.Ca.$a=Wh.bind(null,t.eventManager),t}function Sm(l){const t=Bt(l);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Cv.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vc.bind(null,t),t}class qu{constructor(){this.synchronizeTabs=!1}initialize(t){var i=this;return(0,W.A)(function*(){i.serializer=fl(t.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(t),i.persistence=i.createPersistence(t),yield i.persistence.start(),i.localStore=i.createLocalStore(t),i.gcScheduler=i.createGarbageCollectionScheduler(t,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(t,i.localStore)})()}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return dm(this.persistence,new um,t.initialUser,this.serializer)}createPersistence(t){return new xd($l.Zr,this.serializer)}createSharedClientState(t){return new Oc}terminate(){var t=this;return(0,W.A)(function*(){var i,s;null===(i=t.gcScheduler)||void 0===i||i.stop(),null===(s=t.indexBackfillerScheduler)||void 0===s||s.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Np extends qu{constructor(t,i,s){super(),this.Wa=t,this.cacheSizeBytes=i,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,s=this;return(0,W.A)(function*(){yield i().call(s,t),yield s.Wa.initialize(s,t),yield Sm(s.Wa.syncEngine),yield yo(s.Wa.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return dm(this.persistence,new um,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,i){return new Nc(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}createIndexBackfillerScheduler(t,i){const s=new _e(i,this.persistence);return new Ui(t.asyncQueue,s)}createPersistence(t){const i=Fu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new cm(this.synchronizeTabs,i,t.clientId,s,t.asyncQueue,$h(),hl(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new Oc}}class Sv extends Np{constructor(t,i){super(t,i,!1),this.Wa=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){var i=()=>super.initialize,s=this;return(0,W.A)(function*(){yield i().call(s,t);const u=s.Wa.syncEngine;s.sharedClientState instanceof Bh&&(s.sharedClientState.syncEngine={no:Fo.bind(null,u),ro:wv.bind(null,u),io:Rp.bind(null,u),Qi:W_.bind(null,u),eo:$d.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var f=(0,W.A)(function*(v){yield function xv(l,t){return Jh.apply(this,arguments)}(s.Wa.syncEngine,v),s.gcScheduler&&(v&&!s.gcScheduler.started?s.gcScheduler.start():v||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(v&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():v||s.indexBackfillerScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}createSharedClientState(t){const i=$h();if(!Bh.D(i))throw new ze(He.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Fu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Bh(i,t.asyncQueue,s,t.clientId,t.initialUser)}}class jd{initialize(t,i){var s=this;return(0,W.A)(function*(){s.localStore||(s.localStore=t.localStore,s.sharedClientState=t.sharedClientState,s.datastore=s.createDatastore(i),s.remoteStore=s.createRemoteStore(i),s.eventManager=s.createEventManager(i),s.syncEngine=s.createSyncEngine(i,!t.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Yh(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=bp.bind(null,s.syncEngine),yield p(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(t){return new ji}createDatastore(t){const i=fl(t.databaseInfo.databaseId),s=new Uh(t.databaseInfo);return new mr(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return s=this.localStore,u=this.datastore,f=t.asyncQueue,v=i=>Yh(this.syncEngine,i,0),A=Cs.D()?new Cs:new ac,new Hh(s,u,f,v,A);var s,u,f,v,A}createSyncEngine(t,i){return function(u,f,v,A,M,Q,Ae){const Ve=new Xh(u,f,v,A,M,Q);return Ae&&(Ve.Qa=!0),Ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){var t=this;return(0,W.A)(function*(){var i,s,u;yield(u=(0,W.A)(function*(v){const A=Bt(v);gt("RemoteStore","RemoteStore shutting down."),A.L_.add(5),yield kc(A),A.k_.shutdown(),A.q_.set("Unknown")}),function f(v){return u.apply(this,arguments)})(t.remoteStore),null===(i=t.datastore)||void 0===i||i.terminate(),null===(s=t.eventManager)||void 0===s||s.terminate()})()}}function q_(l,t=10240){let i=0;return{read:()=>(0,W.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+t),done:!1};return i+=t,s}return{done:!0}})(),cancel:()=>(0,W.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class nf{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ga(this.observer.next,t)}error(t){this.observer.error?this.Ga(this.observer.error,t):Jt("Uncaught Error in snapshot listener:",t.toString())}za(){this.muted=!0}Ga(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}}class Rv{constructor(t,i){this.ja=t,this.serializer=i,this.metadata=new _t,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.aa)}`))},s=>this.metadata.reject(s))}close(){return this.ja.cancel()}getMetadata(){var t=this;return(0,W.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,W.A)(function*(){return yield t.getMetadata(),t.Ja()})()}Ja(){var t=this;return(0,W.A)(function*(){const i=yield t.Ya();if(null===i)return null;const s=t.Ha.decode(i),u=Number(s);isNaN(u)&&t.Za(`length string (${s}) is not valid number`);const f=yield t.Xa(u);return new ym(JSON.parse(f),i.length+u)})()}eu(){return this.buffer.findIndex(t=>123===t)}Ya(){var t=this;return(0,W.A)(function*(){for(;t.eu()<0&&!(yield t.tu()););if(0===t.buffer.length)return null;const i=t.eu();i<0&&t.Za("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,i);return t.buffer=t.buffer.slice(i),s})()}Xa(t){var i=this;return(0,W.A)(function*(){for(;i.buffer.length<t;)(yield i.tu())&&i.Za("Reached the end of bundle when more is expected.");const s=i.Ha.decode(i.buffer.slice(0,t));return i.buffer=i.buffer.slice(t),s})()}Za(t){throw this.ja.cancel(),new Error(`Invalid bundle format: ${t}`)}tu(){var t=this;return(0,W.A)(function*(){const i=yield t.ja.read();if(!i.done){const s=new Uint8Array(t.buffer.length+i.value.length);s.set(t.buffer),s.set(i.value,t.buffer.length),t.buffer=s}return i.done})()}}class ns{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var i=this;return(0,W.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new ze(He.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,W.A)(function*(v,A){const M=Bt(v),Q={documents:A.map(Pt=>ha(M.serializer,Pt))},Ae=yield M.Lo("BatchGetDocuments",M.serializer.databaseId,Pn.emptyPath(),Q,A.length),Ve=new Map;Ae.forEach(Pt=>{const on=function np(l,t){return"found"in t?function(s,u){Ht(!!u.found);const f=Fs(s,u.found.name),v=si(u.found.updateTime),A=u.found.createTime?si(u.found.createTime):sn.min(),M=new $i({mapValue:{fields:u.found.fields}});return Gr.newFoundDocument(f,v,A,M)}(l,t):"missing"in t?function(s,u){Ht(!!u.missing),Ht(!!u.readTime);const f=Fs(s,u.missing),v=si(u.readTime);return Gr.newNoDocument(f,v)}(l,t):Gt()}(M.serializer,Pt);Ve.set(on.key.toString(),on)});const nt=[];return A.forEach(Pt=>{const on=Ve.get(Pt.toString());Ht(!!on),nt.push(on)}),nt}),function f(v,A){return u.apply(this,arguments)})(i.datastore,t);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new eo(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,W.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const i=t.readVersions;var s;t.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const f=an.fromPath(u);t.mutations.push(new Ko(f,t.precondition(f)))}),yield(s=(0,W.A)(function*(f,v){const A=Bt(f),M={writes:v.map(Q=>w(A.serializer,Q))};yield A.Mo("Commit",A.serializer.databaseId,Pn.emptyPath(),M)}),function u(f,v){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw Gt();i=sn.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!i.isEqual(s))throw new ze(He.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(sn.min())?je.exists(!1):je.updateTime(i):je.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(sn.min()))throw new ze(He.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return je.updateTime(i)}return je.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class oD{constructor(t,i,s,u,f){this.asyncQueue=t,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=f,this.nu=s.maxAttempts,this.t_=new ql(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var t=this;this.t_.Go((0,W.A)(function*(){const i=new ns(t.datastore),s=t.su(i);s&&s.then(u=>{t.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{t.deferred.resolve(u)}).catch(f=>{t.ou(f)}))}).catch(u=>{t.ou(u)})}))}su(t){try{const i=this.updateFunction(t);return!H(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ou(t){this.nu>0&&this._u(t)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(t)}_u(t){if("FirebaseError"===t.name){const i=t.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Ps(i)}return!1}}class Q_{constructor(t,i,s,u){var f=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Fe.UNAUTHENTICATED,this.clientId=Er.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var v=(0,W.A)(function*(A){gt("FirestoreClient","Received user=",A.uid),yield f.authCredentialListener(A),f.user=A});return function(A){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(s,v=>(gt("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ze(He.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new _t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,W.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=Ct(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Rm(l,t){return Op.apply(this,arguments)}function Op(){return Op=(0,W.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield t.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,W.A)(function*(f){s.isEqual(f)||(yield hm(t.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=t}),Op.apply(this,arguments)}function Mv(l,t){return rf.apply(this,arguments)}function rf(){return(rf=(0,W.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress();const i=yield Qu(l);gt("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,l.configuration),l.setCredentialChangeListener(s=>y(t.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>y(t.remoteStore,u)),l._onlineComponents=t})).apply(this,arguments)}function Mm(l){return"FirebaseError"===l.name?l.code===He.FAILED_PRECONDITION||l.code===He.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function Qu(l){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,W.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){gt("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Rm(l,l._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!Mm(i))throw i;yn("Error using user provided cache. Falling back to memory cache: "+i),yield Rm(l,new qu)}}else gt("FirestoreClient","Using default OfflineComponentProvider"),yield Rm(l,new qu);return l._offlineComponents})).apply(this,arguments)}function Fp(l){return _l.apply(this,arguments)}function _l(){return(_l=(0,W.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(gt("FirestoreClient","Using user provided OnlineComponentProvider"),yield Mv(l,l._uninitializedComponentsProvider._online)):(gt("FirestoreClient","Using default OnlineComponentProvider"),yield Mv(l,new jd))),l._onlineComponents})).apply(this,arguments)}function Y_(l){return Qu(l).then(t=>t.persistence)}function Hd(l){return Qu(l).then(t=>t.localStore)}function uc(l){return Fp(l).then(t=>t.remoteStore)}function zd(l){return Fp(l).then(t=>t.syncEngine)}function Yu(l){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,W.A)(function*(l){const t=yield Fp(l),i=t.eventManager;return i.onListen=H_.bind(null,t.syncEngine),i.onUnlisten=Am.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=vv.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Dm.bind(null,t.syncEngine),i})).apply(this,arguments)}function Hi(l,t,i={}){const s=new _t;return l.asyncQueue.enqueueAndForget((0,W.A)(function*(){return function(f,v,A,M,Q){const Ae=new nf({next:nt=>{v.enqueueAndForget(()=>zu(f,Ve));const Pt=nt.docs.has(A);!Pt&&nt.fromCache?Q.reject(new ze(He.UNAVAILABLE,"Failed to get document because the client is offline.")):Pt&&nt.fromCache&&M&&"server"===M.source?Q.reject(new ze(He.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):Q.resolve(nt)},error:nt=>Q.reject(nt)}),Ve=new $s(xo(A.path),Ae,{includeMetadataChanges:!0,_a:!0});return ra(f,Ve)}(yield Yu(l),l.asyncQueue,t,i,s)})),s.promise}function Lp(l,t,i={}){const s=new _t;return l.asyncQueue.enqueueAndForget((0,W.A)(function*(){return function(f,v,A,M,Q){const Ae=new nf({next:nt=>{v.enqueueAndForget(()=>zu(f,Ve)),nt.fromCache&&"server"===M.source?Q.reject(new ze(He.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):Q.resolve(nt)},error:nt=>Q.reject(nt)}),Ve=new $s(A,Ae,{includeMetadataChanges:!0,_a:!0});return ra(f,Ve)}(yield Yu(l),l.asyncQueue,t,i,s)})),s.promise}function Fv(l){const t={};return void 0!==l.timeoutSeconds&&(t.timeoutSeconds=l.timeoutSeconds),t}const Lm=new Map;function Vm(l,t,i){if(!i)throw new ze(He.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${t}.`)}function Uc(l,t,i,s){if(!0===t&&!0===s)throw new ze(He.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function kv(l){if(!an.isDocumentKey(l))throw new ze(He.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Bm(l){if(an.isDocumentKey(l))throw new ze(He.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Um(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const t=(s=l).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof l?"a function":Gt()}function $r(l,t){if("_delegate"in l&&(l=l._delegate),!(l instanceof t)){if(t.name===l.constructor.name)throw new ze(He.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Um(l);throw new ze(He.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return l}function rE(l,t){if(t<=0)throw new ze(He.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${t}.`)}class iE{constructor(t){var i,s;if(void 0===t.host){if(void 0!==t.ssl)throw new ze(He.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ze(He.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Uc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Fv(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new ze(He.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new ze(He.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new ze(He.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vp{constructor(t,i,s,u){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new iE({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ze(He.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ze(He.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new iE(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new In;switch(s.type){case"firstParty":return new Ut(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ze(He.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Lm.get(i);s&&(gt("ComponentProvider","Removing Datastore"),Lm.delete(i),s.terminate())}(this),Promise.resolve()}}class co{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new co(this.firestore,t,this._query)}}class Ei{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ei(this.firestore,t,this._key)}}class dc extends co{constructor(t,i,s){super(t,i,xo(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ei(this.firestore,null,new an(t))}withConverter(t){return new dc(this.firestore,t,this._path)}}function Vv(l,t,...i){if(l=(0,Se.Ku)(l),Vm("collection","path",t),l instanceof Vp){const s=Pn.fromString(t,...i);return Bm(s),new dc(l,null,s)}{if(!(l instanceof Ei||l instanceof dc))throw new ze(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Pn.fromString(t,...i));return Bm(s),new dc(l.firestore,null,s)}}function tu(l,t,...i){if(l=(0,Se.Ku)(l),1===arguments.length&&(t=Er.newId()),Vm("doc","path",t),l instanceof Vp){const s=Pn.fromString(t,...i);return kv(s),new Ei(l,null,new an(s))}{if(!(l instanceof Ei||l instanceof dc))throw new ze(He.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(Pn.fromString(t,...i));return kv(s),new Ei(l.firestore,l instanceof dc?l.converter:null,new an(s))}}function Bv(l,t){return l=(0,Se.Ku)(l),t=(0,Se.Ku)(t),(l instanceof Ei||l instanceof dc)&&(t instanceof Ei||t instanceof dc)&&l.firestore===t.firestore&&l.path===t.path&&l.converter===t.converter}function sf(l,t){return l=(0,Se.Ku)(l),t=(0,Se.Ku)(t),l instanceof co&&t instanceof co&&l.firestore===t.firestore&&Ms(l._query,t._query)&&l.converter===t.converter}class Uv{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ql(this,"async_queue_retry"),this.Eu=()=>{const i=hl();i&&gt("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()};const t=hl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.du(),this.Au(t)}enterRestrictedMode(t){if(!this.cu){this.cu=!0,this.Iu=t||!1;const i=hl();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Eu)}}enqueue(t){if(this.du(),this.cu)return new Promise(()=>{});const i=new _t;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.uu.push(t),this.Ru()))}Ru(){var t=this;return(0,W.A)(function*(){if(0!==t.uu.length){try{yield t.uu[0](),t.uu.shift(),t.t_.reset()}catch(i){if(!Vr(i))throw i;gt("AsyncQueue","Operation failed with retryable error: "+i)}t.uu.length>0&&t.t_.Go(()=>t.Ru())}})()}Au(t){const i=this.au.then(()=>(this.Pu=!0,t().catch(s=>{throw this.hu=s,this.Pu=!1,Jt("INTERNAL UNHANDLED ERROR: ",function(v){let A=v.message||"";return v.stack&&(A=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),A}(s)),s}).then(s=>(this.Pu=!1,s))));return this.au=i,i}enqueueAfterDelay(t,i,s){this.du(),this.Tu.indexOf(t)>-1&&(i=0);const u=et.createAndSchedule(this,t,i,s,f=>this.Vu(f));return this.lu.push(u),u}du(){this.hu&&Gt()}verifyOperationInProgress(){}mu(){var t=this;return(0,W.A)(function*(){let i;do{i=t.au,yield i}while(i!==t.au)})()}fu(t){for(const i of this.lu)if(i.timerId===t)return!0;return!1}gu(t){return this.mu().then(()=>{this.lu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.lu)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.mu()})}pu(t){this.Tu.push(t)}Vu(t){const i=this.lu.indexOf(t);this.lu.splice(i,1)}}function Zu(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(l)}class af{constructor(){this._progressObserver={},this._taskCompletionResolver=new _t,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,s){this._progressObserver={next:t,error:i,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class mi extends Vp{constructor(t,i,s,u){super(t,i,s,u),this.type="firestore",this._queue=new Uv,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jm(this),this._firestoreClient.terminate()}}function qi(l){return l._firestoreClient||jm(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function jm(l){var t,i,s;const u=l._freezeSettings(),f=(M=(null===(t=l._app)||void 0===t?void 0:t.options.appId)||"",new vt(l._databaseId,M,l._persistenceKey,(Ae=u).host,Ae.ssl,Ae.experimentalForceLongPolling,Ae.experimentalAutoDetectLongPolling,Fv(Ae.experimentalLongPollingOptions),Ae.useFetchStreams));var M,Ae;l._firestoreClient=new Q_(l._authCredentials,l._appCheckCredentials,l._queue,f),null!==(i=u.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function js(l,t,i){const s=new _t;return l.asyncQueue.enqueue((0,W.A)(function*(){try{yield Rm(l,i),yield Mv(l,t),s.resolve()}catch(u){const f=u;if(!Mm(f))throw f;yn("Error enabling indexeddb cache. Falling back to memory cache: "+f),s.reject(f)}})).then(()=>s.promise)}function Gm(l){if(l._initialized||l._terminated)throw new ze(He.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hc(J.fromBase64String(t))}catch(i){throw new ze(He.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new hc(J.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class El{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new ze(He.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ju{constructor(t){this._methodName=t}}class cf{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ze(He.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ze(He.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Mn(this._lat,t._lat)||Mn(this._long,t._long)}}class Up{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0}(this._values,t._values)}}const cE=/^__.*__$/;class lE{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return null!==this.fieldMask?new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kr(t,this.data,i,this.fieldTransforms)}}class Hv{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function Wm(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt()}}class lf{constructor(t,i,s,u,f,v){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.yu(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(t){return new lf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Su({path:s,Du:!1});return u.vu(t),u}Cu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Su({path:s,Du:!1});return u.yu(),u}Fu(t){return this.Su({path:void 0,Du:!0})}Mu(t){return Hp(t,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}yu(){if(this.path)for(let t=0;t<this.path.length;t++)this.vu(this.path.get(t))}vu(t){if(0===t.length)throw this.Mu("Document fields must not be empty");if(Wm(this.wu)&&cE.test(t))throw this.Mu('Document fields cannot begin and end with "__"')}}class zv{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||fl(t)}Nu(t,i,s,u=!1){return new lf({wu:t,methodName:i,Ou:s,path:ar.emptyPath(),Du:!1,xu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $c(l){const t=l._freezeSettings(),i=fl(l._databaseId);return new zv(l._databaseId,!!t.ignoreUndefinedProperties,i)}function uf(l,t,i,s,u,f={}){const v=l.Nu(f.merge||f.mergeFields?2:0,t,i,u);Kv("Data must be an object, but it was:",v,s);const A=Gv(s,v);let M,Q;if(f.merge)M=new xi(v.fieldMask),Q=v.fieldTransforms;else if(f.mergeFields){const Ae=[];for(const Ve of f.mergeFields){const nt=df(t,Ve,i);if(!v.contains(nt))throw new ze(He.INVALID_ARGUMENT,`Field '${nt}' is specified in your field mask but missing from your input data.`);Il(Ae,nt)||Ae.push(nt)}M=new xi(Ae),Q=v.fieldTransforms.filter(Ve=>M.covers(Ve.field))}else M=null,Q=v.fieldTransforms;return new lE(new $i(A),M,Q)}class Kd extends Ju{_toFieldTransform(t){if(2!==t.wu)throw t.Mu(1===t.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kd}}function Km(l,t,i){return new lf({wu:3,Ou:t.settings.Ou,methodName:l._methodName,Du:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class $p extends Ju{_toFieldTransform(t){return new pe(t.path,new qs)}isEqual(t){return t instanceof $p}}class Xm extends Ju{constructor(t,i){super(t),this.Lu=i}_toFieldTransform(t){const i=Km(this,t,!0),s=this.Lu.map(f=>nu(f,i)),u=new Fi(s);return new pe(t.path,u)}isEqual(t){return t instanceof Xm&&(0,Se.bD)(this.Lu,t.Lu)}}class qm extends Ju{constructor(t,i){super(t),this.Lu=i}_toFieldTransform(t){const i=Km(this,t,!0),s=this.Lu.map(f=>nu(f,i)),u=new Ma(s);return new pe(t.path,u)}isEqual(t){return t instanceof qm&&(0,Se.bD)(this.Lu,t.Lu)}}class Qm extends Ju{constructor(t,i){super(t),this.Bu=i}_toFieldTransform(t){const i=new gs(t.serializer,pd(t.serializer,this.Bu));return new pe(t.path,i)}isEqual(t){return t instanceof Qm&&this.Bu===t.Bu}}function Ym(l,t,i,s){const u=l.Nu(1,t,i);Kv("Data must be an object, but it was:",u,s);const f=[],v=$i.empty();Ho(s,(M,Q)=>{const Ae=Xd(t,M,i);Q=(0,Se.Ku)(Q);const Ve=u.Cu(Ae);if(Q instanceof Kd)f.push(Ae);else{const nt=nu(Q,Ve);null!=nt&&(f.push(Ae),v.set(Ae,nt))}});const A=new xi(f);return new Hv(v,A,u.fieldTransforms)}function jp(l,t,i,s,u,f){const v=l.Nu(1,t,i),A=[df(t,s,i)],M=[u];if(f.length%2!=0)throw new ze(He.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let nt=0;nt<f.length;nt+=2)A.push(df(t,f[nt])),M.push(f[nt+1]);const Q=[],Ae=$i.empty();for(let nt=A.length-1;nt>=0;--nt)if(!Il(Q,A[nt])){const Pt=A[nt];let on=M[nt];on=(0,Se.Ku)(on);const gn=v.Cu(Pt);if(on instanceof Kd)Q.push(Pt);else{const hn=nu(on,gn);null!=hn&&(Q.push(Pt),Ae.set(Pt,hn))}}const Ve=new xi(Q);return new Hv(Ae,Ve,v.fieldTransforms)}function uE(l,t,i,s=!1){return nu(i,l.Nu(s?4:3,t))}function nu(l,t){if(Wv(l=(0,Se.Ku)(l)))return Kv("Unsupported field value:",t,l),Gv(l,t);if(l instanceof Ju)return function(s,u){if(!Wm(u.wu))throw u.Mu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Mu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(l,t),null;if(void 0===l&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),l instanceof Array){if(t.settings.Du&&4!==t.wu)throw t.Mu("Nested arrays are not supported");return function(s,u){const f=[];let v=0;for(const A of s){let M=nu(A,u.Fu(v));null==M&&(M={nullValue:"NULL_VALUE"}),f.push(M),v++}return{arrayValue:{values:f}}}(l,t)}return function(s,u){if(null===(s=(0,Se.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return pd(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=xn.fromDate(s);return{timestampValue:_s(u.serializer,f)}}if(s instanceof xn){const f=new xn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_s(u.serializer,f)}}if(s instanceof cf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof hc)return{bytesValue:Ml(u.serializer,s._byteString)};if(s instanceof Ei){const f=u.databaseId,v=s.firestore._databaseId;if(!v.isEqual(f))throw u.Mu(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Pl(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Up)return A=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(M=>{if("number"!=typeof M)throw A.Mu("VectorValues must only contain numeric values.");return Ic(A.serializer,M)})}}}}};var A;throw u.Mu(`Unsupported field value: ${Um(s)}`)}(l,t)}function Gv(l,t){const i={};return xa(l)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ho(l,(s,u)=>{const f=nu(u,t.bu(s));null!=f&&(i[s]=f)}),{mapValue:{fields:i}}}function Wv(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof xn||l instanceof cf||l instanceof hc||l instanceof Ei||l instanceof Ju||l instanceof Up)}function Kv(l,t,i){if(!Wv(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Um(i);throw t.Mu("an object"===s?l+" a custom object":l+" "+s)}var u}function df(l,t,i){if((t=(0,Se.Ku)(t))instanceof El)return t._internalPath;if("string"==typeof t)return Xd(l,t);throw Hp("Field path arguments must be of type string or ",l,!1,void 0,i)}const Xv=new RegExp("[~\\*/\\[\\]]");function Xd(l,t,i){if(t.search(Xv)>=0)throw Hp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new El(...t.split("."))._internalPath}catch{throw Hp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function Hp(l,t,i,s,u){const f=s&&!s.isEmpty(),v=void 0!==u;let A=`Function ${t}() called with invalid data`;i&&(A+=" (via `toFirestore()`)"),A+=". ";let M="";return(f||v)&&(M+=" (found",f&&(M+=` in field ${s}`),v&&(M+=` in document ${u}`),M+=")"),new ze(He.INVALID_ARGUMENT,A+l+M)}function Il(l,t){return l.some(i=>i.isEqual(t))}class ru{constructor(t,i,s,u,f){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new dE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(hf("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class dE extends ru{data(){return super.data()}}function hf(l,t){return"string"==typeof t?Xd(l,t):t instanceof El?t._internalPath:t._delegate._internalPath}function ff(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new ze(He.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qv{}class zp extends qv{}function iu(l,t,...i){let s=[];t instanceof qv&&s.push(t),s=s.concat(i),function(f){const v=f.filter(M=>M instanceof gf).length,A=f.filter(M=>M instanceof pf).length;if(v>1||v>0&&A>0)throw new ze(He.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class pf extends zp{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new pf(t,i,s)}_apply(t){const i=this._parse(t);return qp(t._query,i),new co(t.firestore,t.converter,aa(t._query,i))}_parse(t){const i=$c(t.firestore);return function(f,v,A,M,Q,Ae,Ve){let nt;if(Q.isKeyField()){if("array-contains"===Ae||"array-contains-any"===Ae)throw new ze(He.INVALID_ARGUMENT,`Invalid Query. You can't perform '${Ae}' queries on documentId().`);if("in"===Ae||"not-in"===Ae){fE(Ve,Ae);const Pt=[];for(const on of Ve)Pt.push(Xp(M,f,on));nt={arrayValue:{values:Pt}}}else nt=Xp(M,f,Ve)}else"in"!==Ae&&"not-in"!==Ae&&"array-contains-any"!==Ae||fE(Ve,Ae),nt=uE(A,"where",Ve,"in"===Ae||"not-in"===Ae);return Ir.create(Q,Ae,nt)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}class gf extends qv{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new gf(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:ir.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(u,f){let v=u;const A=f.getFlattenedFilters();for(const M of A)qp(v,M),v=aa(v,M)}(t._query,i),new co(t.firestore,t.converter,aa(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Jm extends zp{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Jm(t,i)}_apply(t){const i=function(u,f,v){if(null!==u.startAt)throw new ze(He.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ze(He.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Br(f,v)}(t._query,this._field,this._direction);return new co(t.firestore,t.converter,function(u,f){const v=u.explicitOrderBy.concat([f]);return new Jr(u.path,u.collectionGroup,v,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,i))}}class qd extends zp{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new qd(t,i,s)}_apply(t){return new co(t.firestore,t.converter,or(t._query,this._limit,this._limitType))}}class Yd extends zp{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new Yd(t,i,s)}_apply(t){const i=Zd(t,this.type,this._docOrFields,this._inclusive);return new co(t.firestore,t.converter,(f=i,new Jr((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class Cl extends zp{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new Cl(t,i,s)}_apply(t){const i=Zd(t,this.type,this._docOrFields,this._inclusive);return new co(t.firestore,t.converter,(f=i,new Jr((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function Zd(l,t,i,s){if(i[0]=(0,Se.Ku)(i[0]),i[0]instanceof ru)return function(f,v,A,M,Q){if(!M)throw new ze(He.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${A}().`);const Ae=[];for(const Ve of bo(f))if(Ve.field.isKeyField())Ae.push(cn(v,M.key));else{const nt=M.data.field(Ve.field);if($e(nt))throw new ze(He.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+Ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===nt){const Pt=Ve.field.canonicalString();throw new ze(He.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Pt}' (used as the orderBy) does not exist.`)}Ae.push(nt)}return new To(Ae,Q)}(l._query,l.firestore._databaseId,t,i[0]._document,s);{const u=$c(l.firestore);return function(v,A,M,Q,Ae,Ve){const nt=v.explicitOrderBy;if(Ae.length>nt.length)throw new ze(He.INVALID_ARGUMENT,`Too many arguments provided to ${Q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Pt=[];for(let on=0;on<Ae.length;on++){const gn=Ae[on];if(nt[on].field.isKeyField()){if("string"!=typeof gn)throw new ze(He.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${Q}(), but got a ${typeof gn}`);if(!wa(v)&&-1!==gn.indexOf("/"))throw new ze(He.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${Q}() must be a plain document ID, but '${gn}' contains a slash.`);const hn=v.path.child(Pn.fromString(gn));if(!an.isDocumentKey(hn))throw new ze(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${Q}() must result in a valid document path, but '${hn}' is not because it contains an odd number of segments.`);const Gn=new an(hn);Pt.push(cn(A,Gn))}else{const hn=uE(M,Q,gn);Pt.push(hn)}}return new To(Pt,Ve)}(l._query,l.firestore._databaseId,u,t,i,s)}}function Xp(l,t,i){if("string"==typeof(i=(0,Se.Ku)(i))){if(""===i)throw new ze(He.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!wa(t)&&-1!==i.indexOf("/"))throw new ze(He.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(Pn.fromString(i));if(!an.isDocumentKey(s))throw new ze(He.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return cn(l,new an(s))}if(i instanceof Ei)return cn(l,i._key);throw new ze(He.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Um(i)}.`)}function fE(l,t){if(!Array.isArray(l)||0===l.length)throw new ze(He.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function qp(l,t){const i=function(u,f){for(const v of u)for(const A of v.getFlattenedFilters())if(f.indexOf(A.op)>=0)return A.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new ze(He.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class n0{convertValue(t,i="none"){switch(Qt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return L(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(me(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Gt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ho(t,(u,f)=>{s[u]=this.convertValue(f,i)}),s}convertVectorValue(t){var i,s,u;const f=null===(u=null===(s=null===(i=t.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(v=>L(v.doubleValue));return new Up(f)}convertGeoPoint(t){return new cf(L(t.latitude),L(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=qe(t);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ct(t));default:return null}}convertTimestamp(t){const i=Pe(t);return new xn(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Pn.fromString(t);Ht(fa(s));const u=new zt(s.get(1),s.get(3)),f=new an(s.popFirst(5));return u.isEqual(i)||Jt(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function vf(l,t,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(t,i):l.toFirestore(t):t,s}class pE extends n0{constructor(t){super(),this.firestore=t}convertBytes(t){return new hc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ei(this.firestore,null,i)}}class fc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jc extends ru{constructor(t,i,s,u,f,v){super(t,i,s,u,v),this._firestore=t,this._firestoreImpl=t,this.metadata=f}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(hf("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ed extends jc{data(t={}){return super.data(t)}}class ou{constructor(t,i,s,u){this._firestore=t,this._userDataWriter=i,this._snapshot=u,this.metadata=new fc(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new ed(this._firestore,this._userDataWriter,s.key,s,new fc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ze(He.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(A=>({type:"added",doc:new ed(u._firestore,u._userDataWriter,A.doc.key,A.doc,new fc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(A=>f||3!==A.type).map(A=>{const M=new ed(u._firestore,u._userDataWriter,A.doc.key,A.doc,new fc(u._snapshot.mutatedKeys.has(A.doc.key),u._snapshot.fromCache),u.query.converter);let Q=-1,Ae=-1;return 0!==A.type&&(Q=v.indexOf(A.doc.key),v=v.delete(A.doc.key)),1!==A.type&&(v=v.add(A.doc),Ae=v.indexOf(A.doc.key)),{type:hD(A.type),doc:M,oldIndex:Q,newIndex:Ae}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function hD(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt()}}function gE(l,t){return l instanceof jc&&t instanceof jc?l._firestore===t._firestore&&l._key.isEqual(t._key)&&(null===l._document?null===t._document:l._document.isEqual(t._document))&&l._converter===t._converter:l instanceof ou&&t instanceof ou&&l._firestore===t._firestore&&sf(l.query,t.query)&&l.metadata.isEqual(t.metadata)&&l._snapshot.isEqual(t._snapshot)}class su extends n0{constructor(t){super(),this.firestore=t}convertBytes(t){return new hc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ei(this.firestore,null,i)}}function Yp(l,t,i){l=$r(l,Ei);const s=$r(l.firestore,mi),u=vf(l.converter,t,i);return nd(s,[uf($c(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,je.none())])}function o0(l,t,i,...s){l=$r(l,Ei);const u=$r(l.firestore,mi),f=$c(u);let v;return v="string"==typeof(t=(0,Se.Ku)(t))||t instanceof El?jp(f,"updateDoc",l._key,t,i,s):Ym(f,"updateDoc",l._key,t),nd(u,[v.toMutation(l._key,je.exists(!0))])}function _f(l,...t){var i,s,u;l=(0,Se.Ku)(l);let f={includeMetadataChanges:!1,source:"default"},v=0;"object"!=typeof t[v]||Zu(t[v])||(f=t[v],v++);const A={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(Zu(t[v])){const Ve=t[v];t[v]=null===(i=Ve.next)||void 0===i?void 0:i.bind(Ve),t[v+1]=null===(s=Ve.error)||void 0===s?void 0:s.bind(Ve),t[v+2]=null===(u=Ve.complete)||void 0===u?void 0:u.bind(Ve)}let M,Q,Ae;if(l instanceof Ei)Q=$r(l.firestore,mi),Ae=xo(l._key.path),M={next:Ve=>{t[v]&&t[v](Zp(Q,l,Ve))},error:t[v+1],complete:t[v+2]};else{const Ve=$r(l,co);Q=$r(Ve.firestore,mi),Ae=Ve._query;const nt=new su(Q);M={next:Pt=>{t[v]&&t[v](new ou(Q,nt,Ve,Pt))},error:t[v+1],complete:t[v+2]},ff(l._query)}return function(nt,Pt,on,gn){const hn=new nf(gn),Gn=new $s(Pt,hn,on);return nt.asyncQueue.enqueueAndForget((0,W.A)(function*(){return ra(yield Yu(nt),Gn)})),()=>{hn.za(),nt.asyncQueue.enqueueAndForget((0,W.A)(function*(){return zu(yield Yu(nt),Gn)}))}}(qi(Q),Ae,A,M)}function nd(l,t){return function(s,u){const f=new _t;return s.asyncQueue.enqueueAndForget((0,W.A)(function*(){return function z_(l,t,i){return Xu.apply(this,arguments)}(yield zd(s),u,f)})),f.promise}(qi(l),t)}function Zp(l,t,i){const s=i.docs.get(t._key),u=new su(l);return new jc(l,u,t._key,s,new fc(i.hasPendingWrites,i.fromCache),t.converter)}const oy={maxAttempts:5};class sy{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=$c(t)}set(t,i,s){this._verifyNotCommitted();const u=au(t,this._firestore),f=vf(u.converter,i,s),v=uf(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,s);return this._mutations.push(v.toMutation(u._key,je.none())),this}update(t,i,s,...u){this._verifyNotCommitted();const f=au(t,this._firestore);let v;return v="string"==typeof(i=(0,Se.Ku)(i))||i instanceof El?jp(this._dataReader,"WriteBatch.update",f._key,i,s,u):Ym(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(v.toMutation(f._key,je.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=au(t,this._firestore);return this._mutations=this._mutations.concat(new eo(i._key,je.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ze(He.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function au(l,t){if((l=(0,Se.Ku)(l)).firestore!==t)throw new ze(He.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class yE extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=$c(i)}get(i){const s=au(i,this._firestore),u=new pE(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return Gt();const v=f[0];if(v.isFoundDocument())return new ru(this._firestore,u,v.key,v,s.converter);if(v.isNoDocument())return new ru(this._firestore,u,s._key,null,s.converter);throw Gt()})}set(i,s,u){const f=au(i,this._firestore),v=vf(f.converter,s,u),A=uf(this._dataReader,"Transaction.set",f._key,v,null!==f.converter,u);return this._transaction.set(f._key,A),this}update(i,s,u,...f){const v=au(i,this._firestore);let A;return A="string"==typeof(s=(0,Se.Ku)(s))||s instanceof El?jp(this._dataReader,"Transaction.update",v._key,s,u,f):Ym(this._dataReader,"Transaction.update",v._key,s),this._transaction.update(v._key,A),this}delete(i){const s=au(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=au(t,this._firestore),s=new su(this._firestore);return super.get(t).then(u=>new jc(this._firestore,s,i._key,u._document,new fc(!1,!1),i.converter))}}function If(l,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ze("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return t}function rg(){if(typeof Uint8Array>"u")throw new ze("unimplemented","Uint8Arrays are not available in this environment.")}function TE(){if(!function rr(){return typeof atob<"u"}())throw new ze("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,i=!0){ft=we.SDK_VERSION,(0,we._registerComponent)(new ce.uA("firestore",(s,{instanceIdentifier:u,options:f})=>{const v=s.getProvider("app").getImmediate(),A=new mi(new Sn(s.getProvider("auth-internal")),new dr(s.getProvider("app-check-internal")),function(Q,Ae){if(!Object.prototype.hasOwnProperty.apply(Q.options,["projectId"]))throw new ze(He.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zt(Q.options.projectId,Ae)}(v,u),v);return f=Object.assign({useFetchStreams:i},f),A._setSettings(f),A},"PUBLIC").setMultipleInstances(!0)),(0,we.registerVersion)(ut,"4.7.2",t),(0,we.registerVersion)(ut,"4.7.2","esm2017")}();class ig{constructor(t){this._delegate=t}static fromBase64String(t){return TE(),new ig(hc.fromBase64String(t))}static fromUint8Array(t){return rg(),new ig(hc.fromUint8Array(t))}toBase64(){return TE(),this._delegate.toBase64()}toUint8Array(){return rg(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function og(l){return function xE(l,t){if("object"!=typeof l||null===l)return!1;const i=l;for(const s of t)if(s in i&&"function"==typeof i[s])return!0;return!1}(l,["next","error","complete"])}class bE{enableIndexedDbPersistence(t,i){return function Hm(l,t){Gm(l=$r(l,mi));const i=qi(l);if(i._uninitializedComponentsProvider)throw new ze(He.FAILED_PRECONDITION,"SDK cache is already specified.");yn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),u=new jd;return js(i,u,new Np(u,s.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return function oE(l){Gm(l=$r(l,mi));const t=qi(l);if(t._uninitializedComponentsProvider)throw new ze(He.FAILED_PRECONDITION,"SDK cache is already specified.");yn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings(),s=new jd;return js(t,s,new Sv(s,i.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function zm(l){if(l._initialized&&!l._terminated)throw new ze(He.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new _t;return l._queue.enqueueAndForgetEvenWhileRestricted((0,W.A)(function*(){try{yield(i=(0,W.A)(function*(u){if(!qn.D())return Promise.resolve();const f=u+"main";yield qn.delete(f)}),function s(u){return i.apply(this,arguments)})(Fu(l._databaseId,l._persistenceKey)),t.resolve()}catch(i){t.reject(i)}var i})),t.promise}(t._delegate)}}class cy{constructor(t,i,s){this._delegate=i,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},t instanceof zt||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&yn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},i),t)).merge,this._delegate._setSettings(t)}useEmulator(t,i,s={}){!function Lv(l,t,i,s={}){var u;const f=(l=$r(l,Vp))._getSettings(),v=`${t}:${i}`;if("firestore.googleapis.com"!==f.host&&f.host!==v&&yn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},f),{host:v,ssl:!1})),s.mockUserToken){let A,M;if("string"==typeof s.mockUserToken)A=s.mockUserToken,M=Fe.MOCK_USER;else{A=(0,Se.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const Q=s.mockUserToken.sub||s.mockUserToken.user_id;if(!Q)throw new ze(He.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");M=new Fe(Q)}l._authCredentials=new tr(new Zt(A,M))}}(this._delegate,t,i,s)}enableNetwork(){return function Bp(l){return function Om(l){return l.asyncQueue.enqueue((0,W.A)(function*(){const t=yield Y_(l),i=yield uc(l);return t.setNetworkEnabled(!0),function(u){const f=Bt(u);return f.L_.delete(0),Ql(f)}(i)}))}(qi(l=$r(l,mi)))}(this._delegate)}disableNetwork(){return function cD(l){return function kp(l){return l.asyncQueue.enqueue((0,W.A)(function*(){const t=yield Y_(l),i=yield uc(l);return t.setNetworkEnabled(!1),(s=(0,W.A)(function*(f){const v=Bt(f);v.L_.add(0),yield kc(v),v.q_.set("Offline")}),function u(f){return s.apply(this,arguments)})(i);var s}))}(qi(l=$r(l,mi)))}(this._delegate)}enablePersistence(t){let i=!1,s=!1;return t&&(i=!!t.synchronizeTabs,s=!!t.experimentalForceOwningTab,Uc("synchronizeTabs",i,"experimentalForceOwningTab",s)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jv(l){return function(i){const s=new _t;return i.asyncQueue.enqueueAndForget((0,W.A)(function*(){return function Ap(l,t){return Zh.apply(this,arguments)}(yield zd(i),s)})),s.promise}(qi(l=$r(l,mi)))}(this._delegate)}onSnapshotsInSync(t){return function ty(l,t){return function tE(l,t){const i=new nf(t);return l.asyncQueue.enqueueAndForget((0,W.A)(function*(){return u=yield Yu(l),f=i,Bt(u).Y_.add(f),void f.next();var u,f})),()=>{i.za(),l.asyncQueue.enqueueAndForget((0,W.A)(function*(){return u=yield Yu(l),f=i,void Bt(u).Y_.delete(f);var u,f}))}}(qi(l=$r(l,mi)),Zu(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ze("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new od(this,Vv(this._delegate,t))}catch(i){throw Ds(i,"collection()","Firestore.collection()")}}doc(t){try{return new La(this,tu(this._delegate,t))}catch(i){throw Ds(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new _o(this,function $m(l,t){if(l=$r(l,Vp),Vm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ze(He.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new co(l,null,(s=t,new Jr(Pn.emptyPath(),s)));var s}(this._delegate,t))}catch(i){throw Ds(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function _E(l,t,i){l=$r(l,mi);const s=Object.assign(Object.assign({},oy),i);return function(f){if(f.maxAttempts<1)throw new ze(He.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,v,A){const M=new _t;return f.asyncQueue.enqueueAndForget((0,W.A)(function*(){const Q=yield function Nm(l){return Fp(l).then(t=>t.datastore)}(f);new oD(f.asyncQueue,Q,A,v,M).ru()})),M.promise}(qi(l),u=>t(new yE(l,u)),s)}(this._delegate,i=>t(new h0(this,i)))}batch(){return qi(this._delegate),new f0(new sy(this._delegate,t=>nd(this._delegate,t)))}loadBundle(t){return function As(l,t){const i=qi(l=$r(l,mi)),s=new af;return function Fm(l,t,i,s){const u=function(v,A){let M;return M="string"==typeof v?Za().encode(v):v,Ae=function(Ae){if(Ae instanceof Uint8Array)return q_(Ae,void 0);if(Ae instanceof ArrayBuffer)return q_(new Uint8Array(Ae),void 0);if(Ae instanceof ReadableStream)return Ae.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(M),new Rv(Ae,A);var Ae}(i,fl(t));l.asyncQueue.enqueueAndForget((0,W.A)(function*(){!function K_(l,t,i){const s=Bt(l);var u;(u=(0,W.A)(function*(v,A,M){try{const Q=yield A.getMetadata();if(yield function(on,gn){const hn=Bt(on),Gn=si(gn.createTime);return hn.persistence.runTransaction("hasNewerBundle","readonly",Yn=>hn.Gr.getBundleMetadata(Yn,gn.id)).then(Yn=>!!Yn&&Yn.createTime.compareTo(Gn)>=0)}(v.localStore,Q))return yield A.close(),M._completeWith({taskState:"Success",documentsLoaded:(on=Q).totalDocuments,bytesLoaded:on.totalBytes,totalDocuments:on.totalDocuments,totalBytes:on.totalBytes}),Promise.resolve(new Set);M._updateProgress(Kh(Q));const Ae=new Vd(Q,v.localStore,A.serializer);let Ve=yield A.Ua();for(;Ve;){const Pt=yield Ae.la(Ve);Pt&&M._updateProgress(Pt),Ve=yield A.Ua()}const nt=yield Ae.complete();return yield Bc(v,nt.Ia,void 0),yield function(on,gn){const hn=Bt(on);return hn.persistence.runTransaction("Save bundle","readwrite",Gn=>hn.Gr.saveBundleMetadata(Gn,gn))}(v.localStore,Q),M._completeWith(nt.progress),Promise.resolve(nt.Pa)}catch(Q){return yn("SyncEngine",`Loading bundle failed with ${Q}`),M._failWith(Q),Promise.resolve(new Set)}var on}),function f(v,A,M){return u.apply(this,arguments)})(s,t,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield zd(l),u,s)}))}(i,l._databaseId,t,s),s}(this._delegate,t)}namedQuery(t){return function Gd(l,t){return function Nv(l,t){return l.asyncQueue.enqueue((0,W.A)(function*(){return function(s,u){const f=Bt(s);return f.persistence.runTransaction("Get named query","readonly",v=>f.Gr.getNamedQuery(v,u))}(yield Hd(l),t)}))}(qi(l=$r(l,mi)),t).then(i=>i?new co(l,null,i.query):null)}(this._delegate,t).then(i=>i?new _o(this,i):null)}}class sg extends n0{constructor(t){super(),this.firestore=t}convertBytes(t){return new ig(new hc(t))}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return La.forKey(i,this.firestore,null)}}class h0{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new sg(t)}get(t){const i=lu(t);return this._delegate.get(i).then(s=>new id(this._firestore,new jc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,i.converter)))}set(t,i,s){const u=lu(t);return s?(If("Transaction.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const f=lu(t);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,s,...u),this}delete(t){const i=lu(t);return this._delegate.delete(i),this}}class f0{constructor(t){this._delegate=t}set(t,i,s){const u=lu(t);return s?(If("WriteBatch.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const f=lu(t);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,s,...u),this}delete(t){const i=lu(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class rd{constructor(t,i,s){this._firestore=t,this._userDataWriter=i,this._delegate=s}fromFirestore(t,i){const s=new ed(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Af(this._firestore,s),i??{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){const s=rd.INSTANCES;let u=s.get(t);u||(u=new WeakMap,s.set(t,u));let f=u.get(i);return f||(f=new rd(t,new sg(t),i),u.set(i,f)),f}}rd.INSTANCES=new WeakMap;class La{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new sg(t)}static forPath(t,i,s){if(t.length%2!=0)throw new ze("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new La(i,new Ei(i._delegate,s,new an(t)))}static forKey(t,i,s){return new La(i,new Ei(i._delegate,s,t))}get id(){return this._delegate.id}get parent(){return new od(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new od(this.firestore,Vv(this._delegate,t))}catch(i){throw Ds(i,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Se.Ku)(t))instanceof Ei&&Bv(this._delegate,t)}set(t,i){i=If("DocumentReference.set",i);try{return i?Yp(this._delegate,t,i):Yp(this._delegate,t)}catch(s){throw Ds(s,"setDoc()","DocumentReference.set()")}}update(t,i,...s){try{return 1===arguments.length?o0(this._delegate,t):o0(this._delegate,t,i,...s)}catch(u){throw Ds(u,"updateDoc()","DocumentReference.update()")}}delete(){return function td(l){return nd($r(l.firestore,mi),[new eo(l._key,je.none())])}(this._delegate)}onSnapshot(...t){const i=Cf(t),s=ly(t,u=>new id(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return _f(this._delegate,i,s)}get(t){let i;return i="cache"===t?.source?function Qp(l){l=$r(l,Ei);const t=$r(l.firestore,mi),i=qi(t),s=new su(t);return function Z_(l,t){const i=new _t;return l.asyncQueue.enqueueAndForget((0,W.A)(function*(){return(s=(0,W.A)(function*(f,v,A){try{const M=yield function(Ae,Ve){const nt=Bt(Ae);return nt.persistence.runTransaction("read document","readonly",Pt=>nt.localDocuments.getDocument(Pt,Ve))}(f,v);M.isFoundDocument()?A.resolve(M):M.isNoDocument()?A.resolve(null):A.reject(new ze(He.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(M){const Q=Ct(M,`Failed to get document '${v} from cache`);A.reject(Q)}}),function u(f,v,A){return s.apply(this,arguments)})(yield Hd(l),t,i);var s})),i.promise}(i,l._key).then(u=>new jc(t,s,l._key,u,new fc(null!==u&&u.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===t?.source?function r0(l){l=$r(l,Ei);const t=$r(l.firestore,mi);return Hi(qi(t),l._key,{source:"server"}).then(i=>Zp(t,l,i))}(this._delegate):function yf(l){l=$r(l,Ei);const t=$r(l.firestore,mi);return Hi(qi(t),l._key).then(i=>Zp(t,l,i))}(this._delegate),i.then(s=>new id(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(t){return new La(this.firestore,this._delegate.withConverter(t?rd.getInstance(this.firestore,t):null))}}function Ds(l,t,i){return l.message=l.message.replace(t,i),l}function Cf(l){for(const t of l)if("object"==typeof t&&!og(t))return t;return{}}function ly(l,t){var i,s;let u;return u=og(l[0])?l[0]:og(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:f=>{u.next&&u.next(t(f))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class id{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new La(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return gE(this._delegate,t._delegate)}}class Af extends id{data(t){const i=this._delegate.data(t);return this._delegate._converter||function Ln(l){l||Gt()}(void 0!==i),i}}class _o{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new sg(t)}where(t,i,s){try{return new _o(this.firestore,iu(this._delegate,function hE(l,t,i){const s=t,u=hf("where",l);return pf._create(u,s,i)}(t,i,s)))}catch(u){throw Ds(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new _o(this.firestore,iu(this._delegate,function e0(l,t="asc"){const i=t,s=hf("orderBy",l);return Jm._create(s,i)}(t,i)))}catch(s){throw Ds(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new _o(this.firestore,iu(this._delegate,function Qd(l){return rE("limit",l),qd._create("limit",l,"F")}(t)))}catch(i){throw Ds(i,"limit()","Query.limit()")}}limitToLast(t){try{return new _o(this.firestore,iu(this._delegate,function Gp(l){return rE("limitToLast",l),qd._create("limitToLast",l,"L")}(t)))}catch(i){throw Ds(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new _o(this.firestore,iu(this._delegate,function mf(...l){return Yd._create("startAt",l,!0)}(...t)))}catch(i){throw Ds(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new _o(this.firestore,iu(this._delegate,function Wp(...l){return Yd._create("startAfter",l,!1)}(...t)))}catch(i){throw Ds(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new _o(this.firestore,iu(this._delegate,function t0(...l){return Cl._create("endBefore",l,!1)}(...t)))}catch(i){throw Ds(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new _o(this.firestore,iu(this._delegate,function Kp(...l){return Cl._create("endAt",l,!0)}(...t)))}catch(i){throw Ds(i,"endAt()","Query.endAt()")}}isEqual(t){return sf(this._delegate,t._delegate)}get(t){let i;return i="cache"===t?.source?function mE(l){l=$r(l,co);const t=$r(l.firestore,mi),i=qi(t),s=new su(t);return function J_(l,t){const i=new _t;return l.asyncQueue.enqueueAndForget((0,W.A)(function*(){return(s=(0,W.A)(function*(f,v,A){try{const M=yield Xl(f,v,!0),Q=new Em(v,M.Ts),Ae=Q.ma(M.documents),Ve=Q.applyChanges(Ae,!1);A.resolve(Ve.snapshot)}catch(M){const Q=Ct(M,`Failed to execute query '${v} against cache`);A.reject(Q)}}),function u(f,v,A){return s.apply(this,arguments)})(yield Hd(l),t,i);var s})),i.promise}(i,l._query).then(u=>new ou(t,s,l,u))}(this._delegate):"server"===t?.source?function Jv(l){l=$r(l,co);const t=$r(l.firestore,mi),i=qi(t),s=new su(t);return Lp(i,l._query,{source:"server"}).then(u=>new ou(t,s,l,u))}(this._delegate):function Zv(l){l=$r(l,co);const t=$r(l.firestore,mi),i=qi(t),s=new su(t);return ff(l._query),Lp(i,l._query).then(u=>new ou(t,s,l,u))}(this._delegate),i.then(s=>new p0(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...t){const i=Cf(t),s=ly(t,u=>new p0(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return _f(this._delegate,i,s)}withConverter(t){return new _o(this.firestore,this._delegate.withConverter(t?rd.getInstance(this.firestore,t):null))}}class SE{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Af(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class p0{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new _o(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Af(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new SE(this._firestore,i))}forEach(t,i){this._delegate.forEach(s=>{t.call(i,new Af(this._firestore,s))})}isEqual(t){return gE(this._delegate,t._delegate)}}class od extends _o{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new La(this.firestore,t):null}doc(t){try{return new La(this.firestore,void 0===t?tu(this._delegate):tu(this._delegate,t))}catch(i){throw Ds(i,"doc()","CollectionReference.doc()")}}add(t){return function ey(l,t){const i=$r(l.firestore,mi),s=tu(l),u=vf(l.converter,t);return nd(i,[uf($c(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,je.exists(!1))]).then(()=>s)}(this._delegate,t).then(i=>new La(this.firestore,i))}isEqual(t){return Bv(this._delegate,t._delegate)}withConverter(t){return new od(this.firestore,this._delegate.withConverter(t?rd.getInstance(this.firestore,t):null))}}function lu(l){return $r(l,Ei)}class g0{constructor(...t){this._delegate=new El(...t)}static documentId(){return new g0(ar.keyField().canonicalString())}isEqual(t){return(t=(0,Se.Ku)(t))instanceof El&&this._delegate._internalPath.isEqual(t._internalPath)}}class sd{constructor(t){this._delegate=t}static serverTimestamp(){const t=function cu(){return new $p("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new sd(t)}static delete(){const t=function EE(){return new Kd("deleteField")}();return t._methodName="FieldValue.delete",new sd(t)}static arrayUnion(...t){const i=function Ef(...l){return new Xm("arrayUnion",l)}(...t);return i._methodName="FieldValue.arrayUnion",new sd(i)}static arrayRemove(...t){const i=function IE(...l){return new qm("arrayRemove",l)}(...t);return i._methodName="FieldValue.arrayRemove",new sd(i)}static increment(t){const i=function gD(l){return new Qm("increment",l)}(t);return i._methodName="FieldValue.increment",new sd(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const RE={Firestore:cy,GeoPoint:cf,Timestamp:xn,Blob:ig,Transaction:h0,WriteBatch:f0,DocumentReference:La,DocumentSnapshot:id,Query:_o,QueryDocumentSnapshot:Af,QuerySnapshot:p0,CollectionReference:od,FieldPath:g0,FieldValue:sd,setLogLevel:function wE(l){!function Ot(l){We.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};!function uy(l){(function ME(l,t){l.INTERNAL.registerComponent(new ce.uA("firestore-compat",i=>{const s=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return t(s,u)},"PUBLIC").setServiceProps(Object.assign({},RE)))})(l,(t,i)=>new cy(t,i,new bE)),l.registerVersion("@firebase/firestore-compat","0.3.37")}(ve.A);var CD=b(7935);function th(l,t){return function AD(l,t=ne.E){return new ge.c(i=>{let s;return null!=t?t.schedule(()=>{s=l.onSnapshot({includeMetadataChanges:!0},i)}):s=l.onSnapshot({includeMetadataChanges:!0},i),()=>{s?.()}})}(l,t)}function m0(l,t){return th(l,t).pipe((0,le.T)(i=>({payload:i,type:"query"})))}class dy{ref;afs;constructor(t,i){this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){const s=this.ref.collection(t),{ref:u,query:f}=LE(s,i);return new py(u,f,this.afs)}snapshotChanges(){return function PE(l,t){return th(l,t).pipe((0,ie.Z)(void 0),z(),(0,le.T)(i=>{const[s,u]=i;return u.exists?s?.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(te.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,le.T)(({payload:i})=>t.idField?{...i.data(),[t.idField]:i.id}:i.data()))}get(t){return(0,G.H)(this.ref.get(t)).pipe(te.U0)}}function Df(l,t){return m0(l,t).pipe((0,ie.Z)(void 0),z(),(0,le.T)(i=>{const[s,u]=i,f=u.payload.docChanges(),v=f.map(A=>({type:A.type,payload:A}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((A,M)=>{const Q=f.find(Ve=>Ve.doc.ref.isEqual(A.ref)),Ae=s?.payload.docs.find(Ve=>Ve.ref.isEqual(A.ref));Q&&JSON.stringify(Q.doc.metadata)===JSON.stringify(A.metadata)||!Q&&Ae&&JSON.stringify(Ae.metadata)===JSON.stringify(A.metadata)||v.push({type:"modified",payload:{oldIndex:M,newIndex:M,type:"modified",doc:A}})}),v}))}function hy(l,t,i){return Df(l,i).pipe((0,fe.S)((s,u)=>function NE(l,t,i){return t.forEach(s=>{i.indexOf(s.type)>-1&&(l=function OE(l,t){switch(t.type){case"added":if(!l[t.newIndex]||!l[t.newIndex].doc.ref.isEqual(t.doc.ref))return v0(l,t.newIndex,0,t);break;case"modified":if(null==l[t.oldIndex]||l[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const i=l.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}return v0(l,t.newIndex,1,t)}break;case"removed":if(l[t.oldIndex]&&l[t.oldIndex].doc.ref.isEqual(t.doc.ref))return v0(l,t.oldIndex,1)}return l}(l,s))}),l}(s,u.map(f=>f.payload),t),[]),(0,xe.F)(),(0,le.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function v0(l,t,i,...s){const u=l.slice();return u.splice(t,i,...s),u}function fy(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class py{ref;query;afs;constructor(t,i,s){this.ref=t,this.query=i,this.afs=s}stateChanges(t){let i=Df(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe((0,le.T)(s=>s.filter(u=>t.indexOf(u.type)>-1)))),i.pipe((0,ie.Z)(void 0),z(),(0,De.p)(([s,u])=>u.length>0||!s),(0,le.T)(([,s])=>s),te.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,fe.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=fy(t);return hy(this.query,i,this.afs.schedulers.outsideAngular).pipe(te.U0)}valueChanges(t={}){return m0(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.T)(i=>i.payload.docs.map(s=>t.idField?{...s.data(),[t.idField]:s.id}:s.data())),te.U0)}get(t){return(0,G.H)(this.query.get(t)).pipe(te.U0)}add(t){return this.ref.add(t)}doc(t){return new dy(this.ref.doc(t),this.afs)}}class y0{query;afs;constructor(t,i){this.query=t,this.afs=i}stateChanges(t){return t&&0!==t.length?Df(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.T)(i=>i.filter(s=>t.indexOf(s.type)>-1)),(0,De.p)(i=>i.length>0),te.U0):Df(this.query,this.afs.schedulers.outsideAngular).pipe(te.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,fe.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=fy(t);return hy(this.query,i,this.afs.schedulers.outsideAngular).pipe(te.U0)}valueChanges(t={}){return m0(this.query,this.afs.schedulers.outsideAngular).pipe((0,le.T)(s=>s.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),te.U0)}get(t){return(0,G.H)(this.query.get(t)).pipe(te.U0)}}const FE=new x.nKC("angularfire2.enableFirestorePersistence"),kE=new x.nKC("angularfire2.firestore.persistenceSettings"),_0=new x.nKC("angularfire2.firestore.settings"),DD=new x.nKC("angularfire2.firestore.use-emulator");function LE(l,t=i=>i){return{query:t(l),ref:l}}let VE=(()=>{class l{schedulers;firestore;persistenceEnabled$;constructor(i,s,u,f,v,A,M,Q,Ae,Ve,nt,Pt,on,gn,hn,Gn,Yn){this.schedulers=M;const zn=(0,B.iB)(i,A,s),_r=Ae;Ve&&(0,ae.gF)(zn,A,nt,on,gn,hn,Pt,Gn),[this.firestore,this.persistenceEnabled$]=(0,B.BM)(`${zn.name}.firestore`,"AngularFirestore",zn.name,()=>{const Nr=A.runOutsideAngular(()=>zn.firestore());if(f&&Nr.settings(f),_r&&Nr.useEmulator(..._r),u&&!(0,a.Vy)(v)){const Tr=()=>{try{return(0,G.H)(Nr.enablePersistence(Q||void 0).then(()=>!0,()=>!1))}catch(It){return typeof console<"u"&&console.warn(It),(0,de.of)(!1)}};return[Nr,A.runOutsideAngular(Tr)]}return[Nr,(0,de.of)(!1)]},[f,_r,u])}collection(i,s){let u;u="string"==typeof i?this.firestore.collection(i):i;const{ref:f,query:v}=LE(u,s),A=this.schedulers.ngZone.run(()=>f);return new py(A,v,this)}collectionGroup(i,s){const u=s||(v=>v),f=this.firestore.collectionGroup(i);return new y0(u(f),this)}doc(i){let s;s="string"==typeof i?this.firestore.doc(i):i;const u=this.schedulers.ngZone.run(()=>s);return new dy(u,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(s){return new(s||l)(x.KVO(B.rx),x.KVO(B.uP,8),x.KVO(FE,8),x.KVO(_0,8),x.KVO(x.Agw),x.KVO(x.SKi),x.KVO(te.u0),x.KVO(kE,8),x.KVO(DD,8),x.KVO(ae.DS,8),x.KVO(ae.CP,8),x.KVO(ae.yy,8),x.KVO(ae.ZP,8),x.KVO(ae.$z,8),x.KVO(ae.AU,8),x.KVO(ae.UB,8),x.KVO(te.Jv,8))};static \u0275prov=x.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})}return l})(),TD=(()=>{class l{constructor(){CD.A.registerVersion("angularfire",te.xv.full,"fst-compat")}static enablePersistence(i){return{ngModule:l,providers:[{provide:FE,useValue:!0},{provide:kE,useValue:i}]}}static \u0275fac=function(s){return new(s||l)};static \u0275mod=x.$C({type:l});static \u0275inj=x.G2t({providers:[VE]})}return l})()},9253:(St,Ke,b)=>{"use strict";b.d(Ke,{BM:()=>le,Gt:()=>ae,bf:()=>z,e7:()=>ne,iB:()=>ie,rx:()=>G,uP:()=>de});var a=b(3953),x=b(1825),te=b(7935);const B=["ngOnDestroy"],ae=(q,ve,W,we={})=>new Proxy(q,{get:(ce,oe)=>W.runOutsideAngular(()=>{if(q[oe])return we?.spy?.get&&we.spy.get(oe,q[oe]),q[oe];if(B.indexOf(oe)>-1)return()=>{};const Se=ve.toPromise().then(Le=>{const Re=Le?.[oe];return"function"==typeof Re?Re.bind(Le):Re?.then?Re.then(Ye=>W.run(()=>Ye)):W.run(()=>Re)});return new Proxy(()=>{},{get:(Le,Re)=>Se[Re],apply:(Le,Re,Ye)=>Se.then(Ie=>{const rt=Ie?.(...Ye);return we?.spy?.apply&&we.spy.apply(oe,Ye,rt),rt})})})}),ne=(q,ve)=>{ve.forEach(W=>{Object.getOwnPropertyNames(W.prototype||W).forEach(we=>{Object.defineProperty(q.prototype,we,Object.getOwnPropertyDescriptor(W.prototype||W,we))})})};class ge{constructor(ve){return ve}}const G=new a.nKC("angularfire2.app.options"),de=new a.nKC("angularfire2.app.name");function ie(q,ve,W){const ce="object"==typeof W&&W||{};ce.name=ce.name||"string"==typeof W&&W||"[DEFAULT]";const Se=te.A.apps.filter(Le=>Le&&Le.name===ce.name)[0]||ve.runOutsideAngular(()=>te.A.initializeApp(q,ce));try{if(JSON.stringify(q)!==JSON.stringify(Se.options)){const Le=!!module.hot;F("error",`${Se.name} Firebase App already initialized with different options${Le?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new ge(Se)}const F=(q,...ve)=>{(0,a.naY)()&&typeof console<"u"&&console[q](...ve)},ue={provide:ge,useFactory:ie,deps:[G,a.SKi,[new a.Xx1,de]]};let z=(()=>{class q{static initializeApp(W,we){return{ngModule:q,providers:[{provide:G,useValue:W},{provide:de,useValue:we}]}}constructor(W){te.A.registerVersion("angularfire",x.xv.full,"core"),te.A.registerVersion("angularfire",x.xv.full,"app-compat"),te.A.registerVersion("angular",a.xvI.full,W.toString())}static \u0275fac=function(we){return new(we||q)(a.KVO(a.Agw))};static \u0275mod=a.$C({type:q});static \u0275inj=a.G2t({providers:[ue]})}return q})();function le(q,ve,W,we,ce){const[,oe,Se]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===q)||[];if(oe)return function fe(q,ve){try{return q.toString()===ve.toString()}catch{return q===ve}}(ce,Se)||(De("error",`${ve} was already initialized on the ${W} Firebase App with different settings.${xe?" You may need to reload as Firebase is not HMR aware.":""}`),De("warn",{is:ce,was:Se})),oe;{const Le=we();return globalThis.\u0275AngularfireInstanceCache.push([q,Le,ce]),Le}}const xe=typeof module<"u"&&!!module.hot,De=(q,...ve)=>{(0,a.naY)()&&typeof console<"u"&&console[q](...ve)};globalThis.\u0275AngularfireInstanceCache||=[]},1825:(St,Ke,b)=>{"use strict";b.d(Ke,{xv:()=>fe,U0:()=>ht,u0:()=>Se,Jv:()=>ve});var a=b(3953),x=b(7852);(0,x.registerVersion)("firebase","10.13.2","app");var ae=b(6780),ge=b(9687);const de=new class G extends ge.q{}(class ne extends ae.R{constructor(Me,V){super(Me,V),this.scheduler=Me,this.work=V}schedule(Me,V=0){return V>0?super.schedule(Me,V):(this.delay=V,this.state=Me,this.scheduler.flush(this),this)}execute(Me,V){return V>0||this.closed?super.execute(Me,V):this._execute(Me,V)}requestAsyncId(Me,V,j=0){return null!=j&&j>0||null==j&&this.delay>0?super.requestAsyncId(Me,V,j):(Me.flush(this),0)}});var F=b(3236),ue=b(8141),z=b(6745),le=b(941);const fe=new a.RxE("ANGULARFIRE2_VERSION");class ve{constructor(){return(it=>{const V=(0,x.getApps)(),j=[];return V.forEach(Z=>{Z.container.getProvider(it).instances.forEach(ut=>{j.includes(ut)||j.push(ut)})}),j})(W)}}const W="app-check";function we(){}class ce{zone;delegate;constructor(Me,V=de){this.zone=Me,this.delegate=V}now(){return this.delegate.now()}schedule(Me,V,j){const Z=this.zone;return this.delegate.schedule(function(ut){Z.runGuarded(()=>{Me.apply(this,[ut])})},V,j)}}class oe{zone;task=null;constructor(Me){this.zone=Me}call(Me,V){const j=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",we,{},we,we)),V.pipe((0,ue.M)({next:j,complete:j,error:j})).subscribe(Me).add(j)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Se=(()=>{class it{ngZone;outsideAngular;insideAngular;constructor(V){this.ngZone=V,this.outsideAngular=V.runOutsideAngular(()=>new ce(Zone.current)),this.insideAngular=V.run(()=>new ce(Zone.current,F.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(j){return new(j||it)(a.KVO(a.SKi))};static \u0275prov=a.jDH({token:it,factory:it.\u0275fac,providedIn:"root"})}return it})();function ht(it){return function Et(it){return function(V){return(V=V.lift(new oe(it.ngZone))).pipe((0,z._)(it.outsideAngular),(0,le.Q)(it.insideAngular))}}(function Le(){const it=globalThis.\u0275AngularFireScheduler;if(!it)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return it}())(it)}},4341:(St,Ke,b)=>{"use strict";b.d(Ke,{YN:()=>Ka,zX:()=>Do,VZ:()=>uo,cz:()=>Le,kq:()=>xe,vO:()=>Zt,BC:()=>mn,cb:()=>Ut,cV:()=>Ti,vS:()=>Co,X1:()=>wl,YS:()=>Gr,qT:()=>Ao});var a=b(3953),x=b(177),te=b(8455),B=b(1985),ae=b(3073),ne=b(8750),ge=b(3794),G=b(4360),de=b(6450),ie=b(8496),ue=b(1413),z=b(6354);let le=(()=>{class K{constructor(R,Te){this._renderer=R,this._elementRef=Te,this.onChange=ot=>{},this.onTouched=()=>{}}setProperty(R,Te){this._renderer.setProperty(this._elementRef.nativeElement,R,Te)}registerOnTouched(R){this.onTouched=R}registerOnChange(R){this.onChange=R}setDisabledState(R){this.setProperty("disabled",R)}static{this.\u0275fac=function(Te){return new(Te||K)(a.rXU(a.sFG),a.rXU(a.aKT))}}static{this.\u0275dir=a.FsC({type:K})}}return K})(),fe=(()=>{class K extends le{static{this.\u0275fac=(()=>{let R;return function(ot){return(R||(R=a.xGo(K)))(ot||K)}})()}static{this.\u0275dir=a.FsC({type:K,features:[a.Vt3]})}}return K})();const xe=new a.nKC(""),ve={provide:xe,useExisting:(0,a.Rfq)(()=>ce),multi:!0},we=new a.nKC("");let ce=(()=>{class K extends le{constructor(R,Te,ot){super(R,Te),this._compositionMode=ot,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function W(){const K=(0,x.QT)()?(0,x.QT)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(R){this.setProperty("value",R??"")}_handleInput(R){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(R)}_compositionStart(){this._composing=!0}_compositionEnd(R){this._composing=!1,this._compositionMode&&this.onChange(R)}static{this.\u0275fac=function(Te){return new(Te||K)(a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(we,8))}}static{this.\u0275dir=a.FsC({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(Te,ot){1&Te&&a.bIt("input",function(Jn){return ot._handleInput(Jn.target.value)})("blur",function(){return ot.onTouched()})("compositionstart",function(){return ot._compositionStart()})("compositionend",function(Jn){return ot._compositionEnd(Jn.target.value)})},features:[a.Jv_([ve]),a.Vt3]})}}return K})();function oe(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}const Le=new a.nKC(""),Re=new a.nKC("");function Et(K){return oe(K.value)?{required:!0}:null}function j(K){return null}function Z(K){return null!=K}function Ce(K){return(0,a.jNT)(K)?(0,te.H)(K):K}function ut(K){let $={};return K.forEach(R=>{$=null!=R?{...$,...R}:$}),0===Object.keys($).length?null:$}function Fe(K,$){return $.map(R=>R(K))}function We(K){return K.map($=>function ft(K){return!K.validate}($)?$:R=>$.validate(R))}function Ot(K){return null!=K?function en(K){if(!K)return null;const $=K.filter(Z);return 0==$.length?null:function(R){return ut(Fe(R,$))}}(We(K)):null}function Jt(K){return null!=K?function gt(K){if(!K)return null;const $=K.filter(Z);return 0==$.length?null:function(R){return function F(...K){const $=(0,ge.ms)(K),{args:R,keys:Te}=(0,ae.D)(K),ot=new B.c(Vn=>{const{length:Jn}=R;if(!Jn)return void Vn.complete();const pr=new Array(Jn);let io=Jn,Jr=Jn;for(let hs=0;hs<Jn;hs++){let xo=!1;(0,ne.Tg)(R[hs]).subscribe((0,G._)(Vn,Ks=>{xo||(xo=!0,Jr--),pr[hs]=Ks},()=>io--,void 0,()=>{(!io||!xo)&&(Jr||Vn.next(Te?(0,ie.e)(Te,pr):pr),Vn.complete())}))}});return $?ot.pipe((0,de.I)($)):ot}(Fe(R,$).map(Ce)).pipe((0,z.T)(ut))}}(We(K)):null}function yn(K,$){return null===K?[$]:Array.isArray(K)?[...K,$]:[K,$]}function Ht(K){return K?Array.isArray(K)?K:[K]:[]}function Ln(K,$){return Array.isArray(K)?K.includes($):K===$}function Bt(K,$){const R=Ht($);return Ht(K).forEach(ot=>{Ln(R,ot)||R.push(ot)}),R}function He(K,$){return Ht($).filter(R=>!Ln(K,R))}class ze{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators($){this._rawValidators=$||[],this._composedValidatorFn=Ot(this._rawValidators)}_setAsyncValidators($){this._rawAsyncValidators=$||[],this._composedAsyncValidatorFn=Jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy($){this._onDestroyCallbacks.push($)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach($=>$()),this._onDestroyCallbacks=[]}reset($=void 0){this.control&&this.control.reset($)}hasError($,R){return!!this.control&&this.control.hasError($,R)}getError($,R){return this.control?this.control.getError($,R):null}}class _t extends ze{get formDirective(){return null}get path(){return null}}class Zt extends ze{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class In{constructor($){this._cd=$}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let mn=(()=>{class K extends In{constructor(R){super(R)}static{this.\u0275fac=function(Te){return new(Te||K)(a.rXU(Zt,2))}}static{this.\u0275dir=a.FsC({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(Te,ot){2&Te&&a.AVh("ng-untouched",ot.isUntouched)("ng-touched",ot.isTouched)("ng-pristine",ot.isPristine)("ng-dirty",ot.isDirty)("ng-valid",ot.isValid)("ng-invalid",ot.isInvalid)("ng-pending",ot.isPending)},features:[a.Vt3]})}}return K})(),Ut=(()=>{class K extends In{constructor(R){super(R)}static{this.\u0275fac=function(Te){return new(Te||K)(a.rXU(_t,10))}}static{this.\u0275dir=a.FsC({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(Te,ot){2&Te&&a.AVh("ng-untouched",ot.isUntouched)("ng-touched",ot.isTouched)("ng-pristine",ot.isPristine)("ng-dirty",ot.isDirty)("ng-valid",ot.isValid)("ng-invalid",ot.isInvalid)("ng-pending",ot.isPending)("ng-submitted",ot.isSubmitted)},features:[a.Vt3]})}}return K})();const bt="VALID",Ge="INVALID",mt="PENDING",$t="DISABLED";class Be{}class Ue extends Be{constructor($,R){super(),this.value=$,this.source=R}}class Qe extends Be{constructor($,R){super(),this.pristine=$,this.source=R}}class Rt extends Be{constructor($,R){super(),this.touched=$,this.source=R}}class yt extends Be{constructor($,R){super(),this.status=$,this.source=R}}function Dr(K){return($n(K)?K.validators:K)||null}function nr(K,$){return($n($)?$.asyncValidators:K)||null}function $n(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}class Vr{constructor($,R){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,a.EWP)(()=>this.statusReactive()),this.statusReactive=(0,a.vPA)(void 0),this._pristine=(0,a.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,a.vPA)(!0),this._touched=(0,a.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,a.vPA)(!1),this._events=new ue.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators($),this._assignAsyncValidators(R)}get validator(){return this._composedValidatorFn}set validator($){this._rawValidators=this._composedValidatorFn=$}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator($){this._rawAsyncValidators=this._composedAsyncValidatorFn=$}get parent(){return this._parent}get status(){return(0,a.O8t)(this.statusReactive)}set status($){(0,a.O8t)(()=>this.statusReactive.set($))}get valid(){return this.status===bt}get invalid(){return this.status===Ge}get pending(){return this.status==mt}get disabled(){return this.status===$t}get enabled(){return this.status!==$t}get pristine(){return(0,a.O8t)(this.pristineReactive)}set pristine($){(0,a.O8t)(()=>this.pristineReactive.set($))}get dirty(){return!this.pristine}get touched(){return(0,a.O8t)(this.touchedReactive)}set touched($){(0,a.O8t)(()=>this.touchedReactive.set($))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators($){this._assignValidators($)}setAsyncValidators($){this._assignAsyncValidators($)}addValidators($){this.setValidators(Bt($,this._rawValidators))}addAsyncValidators($){this.setAsyncValidators(Bt($,this._rawAsyncValidators))}removeValidators($){this.setValidators(He($,this._rawValidators))}removeAsyncValidators($){this.setAsyncValidators(He($,this._rawAsyncValidators))}hasValidator($){return Ln(this._rawValidators,$)}hasAsyncValidator($){return Ln(this._rawAsyncValidators,$)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched($={}){const R=!1===this.touched;this.touched=!0;const Te=$.sourceControl??this;this._parent&&!$.onlySelf&&this._parent.markAsTouched({...$,sourceControl:Te}),R&&!1!==$.emitEvent&&this._events.next(new Rt(!0,Te))}markAllAsTouched($={}){this.markAsTouched({onlySelf:!0,emitEvent:$.emitEvent,sourceControl:this}),this._forEachChild(R=>R.markAllAsTouched($))}markAsUntouched($={}){const R=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const Te=$.sourceControl??this;this._forEachChild(ot=>{ot.markAsUntouched({onlySelf:!0,emitEvent:$.emitEvent,sourceControl:Te})}),this._parent&&!$.onlySelf&&this._parent._updateTouched($,Te),R&&!1!==$.emitEvent&&this._events.next(new Rt(!1,Te))}markAsDirty($={}){const R=!0===this.pristine;this.pristine=!1;const Te=$.sourceControl??this;this._parent&&!$.onlySelf&&this._parent.markAsDirty({...$,sourceControl:Te}),R&&!1!==$.emitEvent&&this._events.next(new Qe(!1,Te))}markAsPristine($={}){const R=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const Te=$.sourceControl??this;this._forEachChild(ot=>{ot.markAsPristine({onlySelf:!0,emitEvent:$.emitEvent})}),this._parent&&!$.onlySelf&&this._parent._updatePristine($,Te),R&&!1!==$.emitEvent&&this._events.next(new Qe(!0,Te))}markAsPending($={}){this.status=mt;const R=$.sourceControl??this;!1!==$.emitEvent&&(this._events.next(new yt(this.status,R)),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.markAsPending({...$,sourceControl:R})}disable($={}){const R=this._parentMarkedDirty($.onlySelf);this.status=$t,this.errors=null,this._forEachChild(ot=>{ot.disable({...$,onlySelf:!0})}),this._updateValue();const Te=$.sourceControl??this;!1!==$.emitEvent&&(this._events.next(new Ue(this.value,Te)),this._events.next(new yt(this.status,Te)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...$,skipPristineCheck:R},this),this._onDisabledChange.forEach(ot=>ot(!0))}enable($={}){const R=this._parentMarkedDirty($.onlySelf);this.status=bt,this._forEachChild(Te=>{Te.enable({...$,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent}),this._updateAncestors({...$,skipPristineCheck:R},this),this._onDisabledChange.forEach(Te=>Te(!1))}_updateAncestors($,R){this._parent&&!$.onlySelf&&(this._parent.updateValueAndValidity($),$.skipPristineCheck||this._parent._updatePristine({},R),this._parent._updateTouched({},R))}setParent($){this._parent=$}getRawValue(){return this.value}updateValueAndValidity($={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const Te=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bt||this.status===mt)&&this._runAsyncValidator(Te,$.emitEvent)}const R=$.sourceControl??this;!1!==$.emitEvent&&(this._events.next(new Ue(this.value,R)),this._events.next(new yt(this.status,R)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!$.onlySelf&&this._parent.updateValueAndValidity({...$,sourceControl:R})}_updateTreeValidity($={emitEvent:!0}){this._forEachChild(R=>R._updateTreeValidity($)),this.updateValueAndValidity({onlySelf:!0,emitEvent:$.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?$t:bt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator($,R){if(this.asyncValidator){this.status=mt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==R};const Te=Ce(this.asyncValidator(this));this._asyncValidationSubscription=Te.subscribe(ot=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(ot,{emitEvent:R,shouldHaveEmitted:$})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const $=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,$}return!1}setErrors($,R={}){this.errors=$,this._updateControlsErrors(!1!==R.emitEvent,this,R.shouldHaveEmitted)}get($){let R=$;return null==R||(Array.isArray(R)||(R=R.split(".")),0===R.length)?null:R.reduce((Te,ot)=>Te&&Te._find(ot),this)}getError($,R){const Te=R?this.get(R):this;return Te&&Te.errors?Te.errors[$]:null}hasError($,R){return!!this.getError($,R)}get root(){let $=this;for(;$._parent;)$=$._parent;return $}_updateControlsErrors($,R,Te){this.status=this._calculateStatus(),$&&this.statusChanges.emit(this.status),($||Te)&&this._events.next(new yt(this.status,R)),this._parent&&this._parent._updateControlsErrors($,R,Te)}_initObservables(){this.valueChanges=new a.bkB,this.statusChanges=new a.bkB}_calculateStatus(){return this._allControlsDisabled()?$t:this.errors?Ge:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mt)?mt:this._anyControlsHaveStatus(Ge)?Ge:bt}_anyControlsHaveStatus($){return this._anyControls(R=>R.status===$)}_anyControlsDirty(){return this._anyControls($=>$.dirty)}_anyControlsTouched(){return this._anyControls($=>$.touched)}_updatePristine($,R){const Te=!this._anyControlsDirty(),ot=this.pristine!==Te;this.pristine=Te,this._parent&&!$.onlySelf&&this._parent._updatePristine($,R),ot&&this._events.next(new Qe(this.pristine,R))}_updateTouched($={},R){this.touched=this._anyControlsTouched(),this._events.next(new Rt(this.touched,R)),this._parent&&!$.onlySelf&&this._parent._updateTouched($,R)}_registerOnCollectionChange($){this._onCollectionChange=$}_setUpdateStrategy($){$n($)&&null!=$.updateOn&&(this._updateOn=$.updateOn)}_parentMarkedDirty($){return!$&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find($){return null}_assignValidators($){this._rawValidators=Array.isArray($)?$.slice():$,this._composedValidatorFn=function pt(K){return Array.isArray(K)?Ot(K):K||null}(this._rawValidators)}_assignAsyncValidators($){this._rawAsyncValidators=Array.isArray($)?$.slice():$,this._composedAsyncValidatorFn=function qn(K){return Array.isArray(K)?Jt(K):K||null}(this._rawAsyncValidators)}}class Ri extends Vr{constructor($,R,Te){super(Dr(R),nr(Te,R)),this.controls=$,this._initObservables(),this._setUpdateStrategy(R),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl($,R){return this.controls[$]?this.controls[$]:(this.controls[$]=R,R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange),R)}addControl($,R,Te={}){this.registerControl($,R),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}removeControl($,R={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],this.updateValueAndValidity({emitEvent:R.emitEvent}),this._onCollectionChange()}setControl($,R,Te={}){this.controls[$]&&this.controls[$]._registerOnCollectionChange(()=>{}),delete this.controls[$],R&&this.registerControl($,R),this.updateValueAndValidity({emitEvent:Te.emitEvent}),this._onCollectionChange()}contains($){return this.controls.hasOwnProperty($)&&this.controls[$].enabled}setValue($,R={}){(function Yr(K,$,R){K._forEachChild((Te,ot)=>{if(void 0===R[ot])throw new a.wOt(1002,"")})})(this,0,$),Object.keys($).forEach(Te=>{(function Rr(K,$,R){const Te=K.controls;if(!($?Object.keys(Te):Te).length)throw new a.wOt(1e3,"");if(!Te[R])throw new a.wOt(1001,"")})(this,!0,Te),this.controls[Te].setValue($[Te],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R)}patchValue($,R={}){null!=$&&(Object.keys($).forEach(Te=>{const ot=this.controls[Te];ot&&ot.patchValue($[Te],{onlySelf:!0,emitEvent:R.emitEvent})}),this.updateValueAndValidity(R))}reset($={},R={}){this._forEachChild((Te,ot)=>{Te.reset($?$[ot]:null,{onlySelf:!0,emitEvent:R.emitEvent})}),this._updatePristine(R,this),this._updateTouched(R,this),this.updateValueAndValidity(R)}getRawValue(){return this._reduceChildren({},($,R,Te)=>($[Te]=R.getRawValue(),$))}_syncPendingControls(){let $=this._reduceChildren(!1,(R,Te)=>!!Te._syncPendingControls()||R);return $&&this.updateValueAndValidity({onlySelf:!0}),$}_forEachChild($){Object.keys(this.controls).forEach(R=>{const Te=this.controls[R];Te&&$(Te,R)})}_setUpControls(){this._forEachChild($=>{$.setParent(this),$._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls($){for(const[R,Te]of Object.entries(this.controls))if(this.contains(R)&&$(Te))return!0;return!1}_reduceValue(){return this._reduceChildren({},(R,Te,ot)=>((Te.enabled||this.disabled)&&(R[ot]=Te.value),R))}_reduceChildren($,R){let Te=$;return this._forEachChild((ot,Vn)=>{Te=R(Te,ot,Vn)}),Te}_allControlsDisabled(){for(const $ of Object.keys(this.controls))if(this.controls[$].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find($){return this.controls.hasOwnProperty($)?this.controls[$]:null}}const he=new a.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>H}),H="always";function Ze(K,$,R=H){ln(K,$),$.valueAccessor.writeValue(K.value),(K.disabled||"always"===R)&&$.valueAccessor.setDisabledState?.(K.disabled),function fr(K,$){$.valueAccessor.registerOnChange(R=>{K._pendingValue=R,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&Ni(K,$)})}(K,$),function Zr(K,$){const R=(Te,ot)=>{$.valueAccessor.writeValue(Te),ot&&$.viewToModelUpdate(Te)};K.registerOnChange(R),$._registerOnDestroy(()=>{K._unregisterOnChange(R)})}(K,$),function Xn(K,$){$.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&Ni(K,$),"submit"!==K.updateOn&&K.markAsTouched()})}(K,$),function Lt(K,$){if($.valueAccessor.setDisabledState){const R=Te=>{$.valueAccessor.setDisabledState(Te)};K.registerOnDisabledChange(R),$._registerOnDestroy(()=>{K._unregisterOnDisabledChange(R)})}}(K,$)}function at(K,$){K.forEach(R=>{R.registerOnValidatorChange&&R.registerOnValidatorChange($)})}function ln(K,$){const R=function fn(K){return K._rawValidators}(K);null!==$.validator?K.setValidators(yn(R,$.validator)):"function"==typeof R&&K.setValidators([R]);const Te=function Gt(K){return K._rawAsyncValidators}(K);null!==$.asyncValidator?K.setAsyncValidators(yn(Te,$.asyncValidator)):"function"==typeof Te&&K.setAsyncValidators([Te]);const ot=()=>K.updateValueAndValidity();at($._rawValidators,ot),at($._rawAsyncValidators,ot)}function Ni(K,$){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),$.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}const as={provide:_t,useExisting:(0,a.Rfq)(()=>Ti)},jo=Promise.resolve();let Ti=(()=>{class K extends _t{get submitted(){return(0,a.O8t)(this.submittedReactive)}constructor(R,Te,ot){super(),this.callSetDisabledState=ot,this._submitted=(0,a.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,a.vPA)(!1),this._directives=new Set,this.ngSubmit=new a.bkB,this.form=new Ri({},Ot(R),Jt(Te))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(R){jo.then(()=>{const Te=this._findContainer(R.path);R.control=Te.registerControl(R.name,R.control),Ze(R.control,R,this.callSetDisabledState),R.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(R)})}getControl(R){return this.form.get(R.path)}removeControl(R){jo.then(()=>{const Te=this._findContainer(R.path);Te&&Te.removeControl(R.name),this._directives.delete(R)})}addFormGroup(R){jo.then(()=>{const Te=this._findContainer(R.path),ot=new Ri({});(function cr(K,$){ln(K,$)})(ot,R),Te.registerControl(R.name,ot),ot.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(R){jo.then(()=>{const Te=this._findContainer(R.path);Te&&Te.removeControl(R.name)})}getFormGroup(R){return this.form.get(R.path)}updateModel(R,Te){jo.then(()=>{this.form.get(R.path).setValue(Te)})}setValue(R){this.control.setValue(R)}onSubmit(R){return this.submittedReactive.set(!0),function Ss(K,$){K._syncPendingControls(),$.forEach(R=>{const Te=R.control;"submit"===Te.updateOn&&Te._pendingChange&&(R.viewToModelUpdate(Te._pendingValue),Te._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(R),"dialog"===R?.target?.method}onReset(){this.resetForm()}resetForm(R=void 0){this.form.reset(R),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(R){return R.pop(),R.length?this.form.get(R):this.form}static{this.\u0275fac=function(Te){return new(Te||K)(a.rXU(Le,10),a.rXU(Re,10),a.rXU(he,8))}}static{this.\u0275dir=a.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(Te,ot){1&Te&&a.bIt("submit",function(Jn){return ot.onSubmit(Jn)})("reset",function(){return ot.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a.Jv_([as]),a.Vt3]})}}return K})();function Rs(K,$){const R=K.indexOf($);R>-1&&K.splice(R,1)}function Io(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const cs=class extends Vr{constructor($=null,R,Te){super(Dr(R),nr(Te,R)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState($),this._setUpdateStrategy(R),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$n(R)&&(R.nonNullable||R.initialValueIsDefault)&&(this.defaultValue=Io($)?$.value:$)}setValue($,R={}){this.value=this._pendingValue=$,this._onChange.length&&!1!==R.emitModelToViewChange&&this._onChange.forEach(Te=>Te(this.value,!1!==R.emitViewToModelChange)),this.updateValueAndValidity(R)}patchValue($,R={}){this.setValue($,R)}reset($=this.defaultValue,R={}){this._applyFormState($),this.markAsPristine(R),this.markAsUntouched(R),this.setValue(this.value,R),this._pendingChange=!1}_updateValue(){}_anyControls($){return!1}_allControlsDisabled(){return this.disabled}registerOnChange($){this._onChange.push($)}_unregisterOnChange($){Rs(this._onChange,$)}registerOnDisabledChange($){this._onDisabledChange.push($)}_unregisterOnDisabledChange($){Rs(this._onDisabledChange,$)}_forEachChild($){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState($){Io($)?(this.value=this._pendingValue=$.value,$.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=$}},li={provide:Zt,useExisting:(0,a.Rfq)(()=>Co)},Mr=Promise.resolve();let Co=(()=>{class K extends Zt{constructor(R,Te,ot,Vn,Jn,pr){super(),this._changeDetectorRef=Jn,this.callSetDisabledState=pr,this.control=new cs,this._registered=!1,this.name="",this.update=new a.bkB,this._parent=R,this._setValidators(Te),this._setAsyncValidators(ot),this.valueAccessor=function $o(K,$){if(!$)return null;let R,Te,ot;return Array.isArray($),$.forEach(Vn=>{Vn.constructor===ce?R=Vn:function ws(K){return Object.getPrototypeOf(K.constructor)===fe}(Vn)?Te=Vn:ot=Vn}),ot||Te||R||null}(0,Vn)}ngOnChanges(R){if(this._checkForErrors(),!this._registered||"name"in R){if(this._registered&&(this._checkName(),this.formDirective)){const Te=R.name.previousValue;this.formDirective.removeControl({name:Te,path:this._getPath(Te)})}this._setUpControl()}"isDisabled"in R&&this._updateDisabled(R),function Di(K,$){if(!K.hasOwnProperty("model"))return!1;const R=K.model;return!!R.isFirstChange()||!Object.is($,R.currentValue)}(R,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(R){this.viewModel=R,this.update.emit(R)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Ze(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(R){Mr.then(()=>{this.control.setValue(R,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(R){const Te=R.isDisabled.currentValue,ot=0!==Te&&(0,a.L39)(Te);Mr.then(()=>{ot&&!this.control.disabled?this.control.disable():!ot&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(R){return this._parent?function ye(K,$){return[...$.path,K]}(R,this._parent):[R]}static{this.\u0275fac=function(Te){return new(Te||K)(a.rXU(_t,9),a.rXU(Le,10),a.rXU(Re,10),a.rXU(xe,10),a.rXU(a.gRc,8),a.rXU(he,8))}}static{this.\u0275dir=a.FsC({type:K,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[a.Jv_([li]),a.Vt3,a.OA$]})}}return K})(),Ao=(()=>{class K{static{this.\u0275fac=function(Te){return new(Te||K)}}static{this.\u0275dir=a.FsC({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return K})();const $e=new a.nKC("");function lo(K){return"number"==typeof K?K:parseFloat(K)}let Ji=(()=>{class K{constructor(){this._validator=j}ngOnChanges(R){if(this.inputName in R){const Te=this.normalizeInput(R[this.inputName].currentValue);this._enabled=this.enabled(Te),this._validator=this._enabled?this.createValidator(Te):j,this._onChange&&this._onChange()}}validate(R){return this._validator(R)}registerOnValidatorChange(R){this._onChange=R}enabled(R){return null!=R}static{this.\u0275fac=function(Te){return new(Te||K)}}static{this.\u0275dir=a.FsC({type:K,features:[a.OA$]})}}return K})();const us={provide:Le,useExisting:(0,a.Rfq)(()=>Do),multi:!0};let Do=(()=>{class K extends Ji{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=R=>lo(R),this.createValidator=R=>function ht(K){return $=>{if(oe($.value)||oe(K))return null;const R=parseFloat($.value);return!isNaN(R)&&R>K?{max:{max:K,actual:$.value}}:null}}(R)}static{this.\u0275fac=(()=>{let R;return function(ot){return(R||(R=a.xGo(K)))(ot||K)}})()}static{this.\u0275dir=a.FsC({type:K,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(Te,ot){2&Te&&a.BMQ("max",ot._enabled?ot.max:null)},inputs:{max:"max"},features:[a.Jv_([us]),a.Vt3]})}}return K})();const zo={provide:Le,useExisting:(0,a.Rfq)(()=>uo),multi:!0};let uo=(()=>{class K extends Ji{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=R=>lo(R),this.createValidator=R=>function rt(K){return $=>{if(oe($.value)||oe(K))return null;const R=parseFloat($.value);return!isNaN(R)&&R<K?{min:{min:K,actual:$.value}}:null}}(R)}static{this.\u0275fac=(()=>{let R;return function(ot){return(R||(R=a.xGo(K)))(ot||K)}})()}static{this.\u0275dir=a.FsC({type:K,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(Te,ot){2&Te&&a.BMQ("min",ot._enabled?ot.min:null)},inputs:{min:"min"},features:[a.Jv_([zo]),a.Vt3]})}}return K})();const $i={provide:Le,useExisting:(0,a.Rfq)(()=>Gr),multi:!0};let Gr=(()=>{class K extends Ji{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=a.L39,this.createValidator=R=>Et}enabled(R){return R}static{this.\u0275fac=(()=>{let R;return function(ot){return(R||(R=a.xGo(K)))(ot||K)}})()}static{this.\u0275dir=a.FsC({type:K,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(Te,ot){2&Te&&a.BMQ("required",ot._enabled?"":null)},inputs:{required:"required"},features:[a.Jv_([$i]),a.Vt3]})}}return K})(),oa=(()=>{class K{static{this.\u0275fac=function(Te){return new(Te||K)}}static{this.\u0275mod=a.$C({type:K})}static{this.\u0275inj=a.G2t({})}}return K})(),Ka=(()=>{class K{static withConfig(R){return{ngModule:K,providers:[{provide:he,useValue:R.callSetDisabledState??H}]}}static{this.\u0275fac=function(Te){return new(Te||K)}}static{this.\u0275mod=a.$C({type:K})}static{this.\u0275inj=a.G2t({imports:[oa]})}}return K})(),wl=(()=>{class K{static withConfig(R){return{ngModule:K,providers:[{provide:$e,useValue:R.warnOnNgModelWithFormControl??"always"},{provide:he,useValue:R.callSetDisabledState??H}]}}static{this.\u0275fac=function(Te){return new(Te||K)}}static{this.\u0275mod=a.$C({type:K})}static{this.\u0275inj=a.G2t({imports:[oa]})}}return K})()},345:(St,Ke,b)=>{"use strict";b.d(Ke,{Bb:()=>Ht,hE:()=>He,sG:()=>Jt});var a=b(177),x=b(3953);class te extends a.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class B extends te{static makeCurrent(){(0,a.ZD)(new B)}onAndCancel(bt,Ge,mt){return bt.addEventListener(Ge,mt),()=>{bt.removeEventListener(Ge,mt)}}dispatchEvent(bt,Ge){bt.dispatchEvent(Ge)}remove(bt){bt.remove()}createElement(bt,Ge){return(Ge=Ge||this.getDefaultDocument()).createElement(bt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(bt){return bt.nodeType===Node.ELEMENT_NODE}isShadowRoot(bt){return bt instanceof DocumentFragment}getGlobalEventTarget(bt,Ge){return"window"===Ge?window:"document"===Ge?bt:"body"===Ge?bt.body:null}getBaseHref(bt){const Ge=function ne(){return ae=ae||document.querySelector("base"),ae?ae.getAttribute("href"):null}();return null==Ge?null:function ge(Mt){return new URL(Mt,document.baseURI).pathname}(Ge)}resetBaseElement(){ae=null}getUserAgent(){return window.navigator.userAgent}getCookie(bt){return(0,a._b)(document.cookie,bt)}}let ae=null,de=(()=>{class Mt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(mt){return new(mt||Mt)}}static{this.\u0275prov=x.jDH({token:Mt,factory:Mt.\u0275fac})}}return Mt})();const ie=new x.nKC("");let F=(()=>{class Mt{constructor(Ge,mt){this._zone=mt,this._eventNameToPlugin=new Map,Ge.forEach($t=>{$t.manager=this}),this._plugins=Ge.slice().reverse()}addEventListener(Ge,mt,$t){return this._findPluginFor(mt).addEventListener(Ge,mt,$t)}getZone(){return this._zone}_findPluginFor(Ge){let mt=this._eventNameToPlugin.get(Ge);if(mt)return mt;if(mt=this._plugins.find(Be=>Be.supports(Ge)),!mt)throw new x.wOt(5101,!1);return this._eventNameToPlugin.set(Ge,mt),mt}static{this.\u0275fac=function(mt){return new(mt||Mt)(x.KVO(ie),x.KVO(x.SKi))}}static{this.\u0275prov=x.jDH({token:Mt,factory:Mt.\u0275fac})}}return Mt})();class ue{constructor(bt){this._doc=bt}}const z="ng-app-id";let le=(()=>{class Mt{constructor(Ge,mt,$t,Be={}){this.doc=Ge,this.appId=mt,this.nonce=$t,this.platformId=Be,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,a.Vy)(Be),this.resetHostNodes()}addStyles(Ge){for(const mt of Ge)1===this.changeUsageCount(mt,1)&&this.onStyleAdded(mt)}removeStyles(Ge){for(const mt of Ge)this.changeUsageCount(mt,-1)<=0&&this.onStyleRemoved(mt)}ngOnDestroy(){const Ge=this.styleNodesInDOM;Ge&&(Ge.forEach(mt=>mt.remove()),Ge.clear());for(const mt of this.getAllStyles())this.onStyleRemoved(mt);this.resetHostNodes()}addHost(Ge){this.hostNodes.add(Ge);for(const mt of this.getAllStyles())this.addStyleToHost(Ge,mt)}removeHost(Ge){this.hostNodes.delete(Ge)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Ge){for(const mt of this.hostNodes)this.addStyleToHost(mt,Ge)}onStyleRemoved(Ge){const mt=this.styleRef;mt.get(Ge)?.elements?.forEach($t=>$t.remove()),mt.delete(Ge)}collectServerRenderedStyles(){const Ge=this.doc.head?.querySelectorAll(`style[${z}="${this.appId}"]`);if(Ge?.length){const mt=new Map;return Ge.forEach($t=>{null!=$t.textContent&&mt.set($t.textContent,$t)}),mt}return null}changeUsageCount(Ge,mt){const $t=this.styleRef;if($t.has(Ge)){const Be=$t.get(Ge);return Be.usage+=mt,Be.usage}return $t.set(Ge,{usage:mt,elements:[]}),mt}getStyleElement(Ge,mt){const $t=this.styleNodesInDOM,Be=$t?.get(mt);if(Be?.parentNode===Ge)return $t.delete(mt),Be.removeAttribute(z),Be;{const Ue=this.doc.createElement("style");return this.nonce&&Ue.setAttribute("nonce",this.nonce),Ue.textContent=mt,this.platformIsServer&&Ue.setAttribute(z,this.appId),Ge.appendChild(Ue),Ue}}addStyleToHost(Ge,mt){const $t=this.getStyleElement(Ge,mt),Be=this.styleRef,Ue=Be.get(mt)?.elements;Ue?Ue.push($t):Be.set(mt,{elements:[$t],usage:1})}resetHostNodes(){const Ge=this.hostNodes;Ge.clear(),Ge.add(this.doc.head)}static{this.\u0275fac=function(mt){return new(mt||Mt)(x.KVO(a.qQ),x.KVO(x.sZ2),x.KVO(x.BIS,8),x.KVO(x.Agw))}}static{this.\u0275prov=x.jDH({token:Mt,factory:Mt.\u0275fac})}}return Mt})();const fe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},xe=/%COMP%/g,we=new x.nKC("",{providedIn:"root",factory:()=>!0});function Se(Mt,bt){return bt.map(Ge=>Ge.replace(xe,Mt))}let Le=(()=>{class Mt{constructor(Ge,mt,$t,Be,Ue,Qe,Rt,yt=null){this.eventManager=Ge,this.sharedStylesHost=mt,this.appId=$t,this.removeStylesOnCompDestroy=Be,this.doc=Ue,this.platformId=Qe,this.ngZone=Rt,this.nonce=yt,this.rendererByCompId=new Map,this.platformIsServer=(0,a.Vy)(Qe),this.defaultRenderer=new Re(Ge,Ue,Rt,this.platformIsServer)}createRenderer(Ge,mt){if(!Ge||!mt)return this.defaultRenderer;this.platformIsServer&&mt.encapsulation===x.gXe.ShadowDom&&(mt={...mt,encapsulation:x.gXe.Emulated});const $t=this.getOrCreateRenderer(Ge,mt);return $t instanceof xt?$t.applyToHost(Ge):$t instanceof Et&&$t.applyStyles(),$t}getOrCreateRenderer(Ge,mt){const $t=this.rendererByCompId;let Be=$t.get(mt.id);if(!Be){const Ue=this.doc,Qe=this.ngZone,Rt=this.eventManager,yt=this.sharedStylesHost,_n=this.removeStylesOnCompDestroy,pn=this.platformIsServer;switch(mt.encapsulation){case x.gXe.Emulated:Be=new xt(Rt,yt,mt,this.appId,_n,Ue,Qe,pn);break;case x.gXe.ShadowDom:return new ht(Rt,yt,Ge,mt,Ue,Qe,this.nonce,pn);default:Be=new Et(Rt,yt,mt,_n,Ue,Qe,pn)}$t.set(mt.id,Be)}return Be}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(mt){return new(mt||Mt)(x.KVO(F),x.KVO(le),x.KVO(x.sZ2),x.KVO(we),x.KVO(a.qQ),x.KVO(x.Agw),x.KVO(x.SKi),x.KVO(x.BIS))}}static{this.\u0275prov=x.jDH({token:Mt,factory:Mt.\u0275fac})}}return Mt})();class Re{constructor(bt,Ge,mt,$t){this.eventManager=bt,this.doc=Ge,this.ngZone=mt,this.platformIsServer=$t,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(bt,Ge){return Ge?this.doc.createElementNS(fe[Ge]||Ge,bt):this.doc.createElement(bt)}createComment(bt){return this.doc.createComment(bt)}createText(bt){return this.doc.createTextNode(bt)}appendChild(bt,Ge){(rt(bt)?bt.content:bt).appendChild(Ge)}insertBefore(bt,Ge,mt){bt&&(rt(bt)?bt.content:bt).insertBefore(Ge,mt)}removeChild(bt,Ge){Ge.remove()}selectRootElement(bt,Ge){let mt="string"==typeof bt?this.doc.querySelector(bt):bt;if(!mt)throw new x.wOt(-5104,!1);return Ge||(mt.textContent=""),mt}parentNode(bt){return bt.parentNode}nextSibling(bt){return bt.nextSibling}setAttribute(bt,Ge,mt,$t){if($t){Ge=$t+":"+Ge;const Be=fe[$t];Be?bt.setAttributeNS(Be,Ge,mt):bt.setAttribute(Ge,mt)}else bt.setAttribute(Ge,mt)}removeAttribute(bt,Ge,mt){if(mt){const $t=fe[mt];$t?bt.removeAttributeNS($t,Ge):bt.removeAttribute(`${mt}:${Ge}`)}else bt.removeAttribute(Ge)}addClass(bt,Ge){bt.classList.add(Ge)}removeClass(bt,Ge){bt.classList.remove(Ge)}setStyle(bt,Ge,mt,$t){$t&(x.czy.DashCase|x.czy.Important)?bt.style.setProperty(Ge,mt,$t&x.czy.Important?"important":""):bt.style[Ge]=mt}removeStyle(bt,Ge,mt){mt&x.czy.DashCase?bt.style.removeProperty(Ge):bt.style[Ge]=""}setProperty(bt,Ge,mt){null!=bt&&(bt[Ge]=mt)}setValue(bt,Ge){bt.nodeValue=Ge}listen(bt,Ge,mt){if("string"==typeof bt&&!(bt=(0,a.QT)().getGlobalEventTarget(this.doc,bt)))throw new Error(`Unsupported event target ${bt} for event ${Ge}`);return this.eventManager.addEventListener(bt,Ge,this.decoratePreventDefault(mt))}decoratePreventDefault(bt){return Ge=>{if("__ngUnwrap__"===Ge)return bt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>bt(Ge)):bt(Ge))&&Ge.preventDefault()}}}function rt(Mt){return"TEMPLATE"===Mt.tagName&&void 0!==Mt.content}class ht extends Re{constructor(bt,Ge,mt,$t,Be,Ue,Qe,Rt){super(bt,Be,Ue,Rt),this.sharedStylesHost=Ge,this.hostEl=mt,this.shadowRoot=mt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const yt=Se($t.id,$t.styles);for(const _n of yt){const pn=document.createElement("style");Qe&&pn.setAttribute("nonce",Qe),pn.textContent=_n,this.shadowRoot.appendChild(pn)}}nodeOrShadowRoot(bt){return bt===this.hostEl?this.shadowRoot:bt}appendChild(bt,Ge){return super.appendChild(this.nodeOrShadowRoot(bt),Ge)}insertBefore(bt,Ge,mt){return super.insertBefore(this.nodeOrShadowRoot(bt),Ge,mt)}removeChild(bt,Ge){return super.removeChild(null,Ge)}parentNode(bt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(bt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Et extends Re{constructor(bt,Ge,mt,$t,Be,Ue,Qe,Rt){super(bt,Be,Ue,Qe),this.sharedStylesHost=Ge,this.removeStylesOnCompDestroy=$t,this.styles=Rt?Se(Rt,mt.styles):mt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class xt extends Et{constructor(bt,Ge,mt,$t,Be,Ue,Qe,Rt){const yt=$t+"-"+mt.id;super(bt,Ge,mt,Be,Ue,Qe,Rt,yt),this.contentAttr=function ce(Mt){return"_ngcontent-%COMP%".replace(xe,Mt)}(yt),this.hostAttr=function oe(Mt){return"_nghost-%COMP%".replace(xe,Mt)}(yt)}applyToHost(bt){this.applyStyles(),this.setAttribute(bt,this.hostAttr,"")}createElement(bt,Ge){const mt=super.createElement(bt,Ge);return super.setAttribute(mt,this.contentAttr,""),mt}}let jt=(()=>{class Mt extends ue{constructor(Ge){super(Ge)}supports(Ge){return!0}addEventListener(Ge,mt,$t){return Ge.addEventListener(mt,$t,!1),()=>this.removeEventListener(Ge,mt,$t)}removeEventListener(Ge,mt,$t){return Ge.removeEventListener(mt,$t)}static{this.\u0275fac=function(mt){return new(mt||Mt)(x.KVO(a.qQ))}}static{this.\u0275prov=x.jDH({token:Mt,factory:Mt.\u0275fac})}}return Mt})(),it=(()=>{class Mt extends ue{constructor(Ge){super(Ge),this.delegate=(0,x.WQX)(x.zAP,{optional:!0})}supports(Ge){return!!this.delegate&&this.delegate.supports(Ge)}addEventListener(Ge,mt,$t){return this.delegate.addEventListener(Ge,mt,$t)}removeEventListener(Ge,mt,$t){return this.delegate.removeEventListener(Ge,mt,$t)}static{this.\u0275fac=function(mt){return new(mt||Mt)(x.KVO(a.qQ))}}static{this.\u0275prov=x.jDH({token:Mt,factory:Mt.\u0275fac})}}return Mt})();const Me=["alt","control","meta","shift"],V={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j={alt:Mt=>Mt.altKey,control:Mt=>Mt.ctrlKey,meta:Mt=>Mt.metaKey,shift:Mt=>Mt.shiftKey};let Z=(()=>{class Mt extends ue{constructor(Ge){super(Ge)}supports(Ge){return null!=Mt.parseEventName(Ge)}addEventListener(Ge,mt,$t){const Be=Mt.parseEventName(mt),Ue=Mt.eventCallback(Be.fullKey,$t,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,a.QT)().onAndCancel(Ge,Be.domEventName,Ue))}static parseEventName(Ge){const mt=Ge.toLowerCase().split("."),$t=mt.shift();if(0===mt.length||"keydown"!==$t&&"keyup"!==$t)return null;const Be=Mt._normalizeKey(mt.pop());let Ue="",Qe=mt.indexOf("code");if(Qe>-1&&(mt.splice(Qe,1),Ue="code."),Me.forEach(yt=>{const _n=mt.indexOf(yt);_n>-1&&(mt.splice(_n,1),Ue+=yt+".")}),Ue+=Be,0!=mt.length||0===Be.length)return null;const Rt={};return Rt.domEventName=$t,Rt.fullKey=Ue,Rt}static matchEventFullKeyCode(Ge,mt){let $t=V[Ge.key]||Ge.key,Be="";return mt.indexOf("code.")>-1&&($t=Ge.code,Be="code."),!(null==$t||!$t)&&($t=$t.toLowerCase()," "===$t?$t="space":"."===$t&&($t="dot"),Me.forEach(Ue=>{Ue!==$t&&(0,j[Ue])(Ge)&&(Be+=Ue+".")}),Be+=$t,Be===mt)}static eventCallback(Ge,mt,$t){return Be=>{Mt.matchEventFullKeyCode(Be,Ge)&&$t.runGuarded(()=>mt(Be))}}static _normalizeKey(Ge){return"esc"===Ge?"escape":Ge}static{this.\u0275fac=function(mt){return new(mt||Mt)(x.KVO(a.qQ))}}static{this.\u0275prov=x.jDH({token:Mt,factory:Mt.\u0275fac})}}return Mt})();const Jt=(0,x.oH4)(x.fpN,"browser",[{provide:x.Agw,useValue:a.AJ},{provide:x.PLl,useValue:function We(){B.makeCurrent()},multi:!0},{provide:a.qQ,useFactory:function Ot(){return(0,x.TL$)(document),document},deps:[]}]),yn=new x.nKC(""),fn=[{provide:x.e01,useClass:class G{addToWindow(bt){x.JZv.getAngularTestability=(mt,$t=!0)=>{const Be=bt.findTestabilityInTree(mt,$t);if(null==Be)throw new x.wOt(5103,!1);return Be},x.JZv.getAllAngularTestabilities=()=>bt.getAllTestabilities(),x.JZv.getAllAngularRootElements=()=>bt.getAllRootElements(),x.JZv.frameworkStabilizers||(x.JZv.frameworkStabilizers=[]),x.JZv.frameworkStabilizers.push(mt=>{const $t=x.JZv.getAllAngularTestabilities();let Be=$t.length;const Ue=function(){Be--,0==Be&&mt()};$t.forEach(Qe=>{Qe.whenStable(Ue)})})}findTestabilityInTree(bt,Ge,mt){return null==Ge?null:bt.getTestability(Ge)??(mt?(0,a.QT)().isShadowRoot(Ge)?this.findTestabilityInTree(bt,Ge.host,!0):this.findTestabilityInTree(bt,Ge.parentElement,!0):null)}},deps:[]},{provide:x.WHO,useClass:x.NYb,deps:[x.SKi,x.giA,x.e01]},{provide:x.NYb,useClass:x.NYb,deps:[x.SKi,x.giA,x.e01]}],Gt=[{provide:x.H8p,useValue:"root"},{provide:x.zcH,useFactory:function en(){return new x.zcH},deps:[]},{provide:ie,useClass:jt,multi:!0,deps:[a.qQ,x.SKi,x.Agw]},{provide:ie,useClass:Z,multi:!0,deps:[a.qQ]},{provide:ie,useClass:it,multi:!0},Le,le,F,{provide:x._9s,useExisting:Le},{provide:a.N0,useClass:de,deps:[]},[]];let Ht=(()=>{class Mt{constructor(Ge){}static withServerTransition(Ge){return{ngModule:Mt,providers:[{provide:x.sZ2,useValue:Ge.appId}]}}static{this.\u0275fac=function(mt){return new(mt||Mt)(x.KVO(yn,12))}}static{this.\u0275mod=x.$C({type:Mt})}static{this.\u0275inj=x.G2t({providers:[...Gt,...fn],imports:[a.MD,x.Hbi]})}}return Mt})(),He=(()=>{class Mt{constructor(Ge){this._doc=Ge}getTitle(){return this._doc.title}setTitle(Ge){this._doc.title=Ge||""}static{this.\u0275fac=function(mt){return new(mt||Mt)(x.KVO(a.qQ))}}static{this.\u0275prov=x.jDH({token:Mt,factory:Mt.\u0275fac,providedIn:"root"})}}return Mt})()},4964:(St,Ke,b)=>{"use strict";b.d(Ke,{nX:()=>Wt,Zp:()=>Pe,Z:()=>Uo,Xk:()=>Ot,Kp:()=>Ya,b:()=>tn,Ix:()=>yi,Wk:()=>ho,iI:()=>Tc,Sd:()=>xn});var a=b(3953),x=b(1985),te=b(8071),ae=b(8455),ne=b(7673),ge=b(4412),G=b(4572),de=b(9350),ie=b(8793),F=b(8750);function ue(I){return new x.c(w=>{(0,F.Tg)(I()).subscribe(w)})}var z=b(1203);function le(I,w){const C=(0,te.T)(I)?I:()=>I,S=X=>X.error(C());return new x.c(w?X=>w.schedule(S,0,X):S)}var fe=b(983),xe=b(8359),De=b(9974),q=b(4360);function ve(){return(0,De.N)((I,w)=>{let C=null;I._refCount++;const S=(0,q._)(w,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(C=null);const X=I._connection,be=C;C=null,X&&(!be||X===be)&&X.unsubscribe(),w.unsubscribe()});I.subscribe(S),S.closed||(C=I.connect())})}class W extends x.c{constructor(w,C){super(),this.source=w,this.subjectFactory=C,this._subject=null,this._refCount=0,this._connection=null,(0,De.S)(w)&&(this.lift=w.lift)}_subscribe(w){return this.getSubject().subscribe(w)}getSubject(){const w=this._subject;return(!w||w.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:w}=this;this._subject=this._connection=null,w?.unsubscribe()}connect(){let w=this._connection;if(!w){w=this._connection=new xe.yU;const C=this.getSubject();w.add(this.source.subscribe((0,q._)(C,void 0,()=>{this._teardown(),C.complete()},S=>{this._teardown(),C.error(S)},()=>this._teardown()))),w.closed&&(this._connection=null,w=xe.yU.EMPTY)}return w}refCount(){return ve()(this)}}var we=b(1413),ce=b(177),oe=b(6354),Se=b(5558),Le=b(6697),Re=b(9172),Ye=b(5964),Ie=b(1397),rt=b(1594);function ht(I,w){return(0,te.T)(w)?(0,Ie.Z)(I,w,1):(0,Ie.Z)(I,1)}var Et=b(8141);function xt(I){return(0,De.N)((w,C)=>{let be,S=null,X=!1;S=w.subscribe((0,q._)(C,void 0,void 0,Xe=>{be=(0,F.Tg)(I(Xe,xt(I)(w))),S?(S.unsubscribe(),S=null,be.subscribe(C)):X=!0})),X&&(S.unsubscribe(),S=null,be.subscribe(C))})}var jt=b(2816),it=b(9901);function Me(I){return I<=0?()=>fe.w:(0,De.N)((w,C)=>{let S=[];w.subscribe((0,q._)(C,X=>{S.push(X),I<S.length&&S.shift()},()=>{for(const X of S)C.next(X);C.complete()},void 0,()=>{S=null}))})}var V=b(3774),j=b(3669);function ut(I){return(0,De.N)((w,C)=>{try{w.subscribe(C)}finally{C.add(I)}})}var Fe=b(5343),We=b(6365),en=b(345);const Ot="primary",gt=Symbol("RouteTitle");class Jt{constructor(w){this.params=w||{}}has(w){return Object.prototype.hasOwnProperty.call(this.params,w)}get(w){if(this.has(w)){const C=this.params[w];return Array.isArray(C)?C[0]:C}return null}getAll(w){if(this.has(w)){const C=this.params[w];return Array.isArray(C)?C:[C]}return[]}get keys(){return Object.keys(this.params)}}function yn(I){return new Jt(I)}function fn(I,w,C){const S=C.path.split("/");if(S.length>I.length||"full"===C.pathMatch&&(w.hasChildren()||S.length<I.length))return null;const X={};for(let be=0;be<S.length;be++){const Xe=S[be],Vt=I[be];if(":"===Xe[0])X[Xe.substring(1)]=Vt;else if(Xe!==Vt.path)return null}return{consumed:I.slice(0,S.length),posParams:X}}function Ht(I,w){const C=I?Ln(I):void 0,S=w?Ln(w):void 0;if(!C||!S||C.length!=S.length)return!1;let X;for(let be=0;be<C.length;be++)if(X=C[be],!Bt(I[X],w[X]))return!1;return!0}function Ln(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function Bt(I,w){if(Array.isArray(I)&&Array.isArray(w)){if(I.length!==w.length)return!1;const C=[...I].sort(),S=[...w].sort();return C.every((X,be)=>S[be]===X)}return I===w}function He(I){return I.length>0?I[I.length-1]:null}function ze(I){return function B(I){return!!I&&(I instanceof x.c||(0,te.T)(I.lift)&&(0,te.T)(I.subscribe))}(I)?I:(0,a.jNT)(I)?(0,ae.H)(Promise.resolve(I)):(0,ne.of)(I)}const _t={exact:function Sn(I,w,C){if(!Zn(I.segments,w.segments)||!dr(I.segments,w.segments,C)||I.numberOfChildren!==w.numberOfChildren)return!1;for(const S in w.children)if(!I.children[S]||!Sn(I.children[S],w.children[S],C))return!1;return!0},subset:Ut},Zt={exact:function tr(I,w){return Ht(I,w)},subset:function mn(I,w){return Object.keys(w).length<=Object.keys(I).length&&Object.keys(w).every(C=>Bt(I[C],w[C]))},ignored:()=>!0};function In(I,w,C){return _t[C.paths](I.root,w.root,C.matrixParams)&&Zt[C.queryParams](I.queryParams,w.queryParams)&&!("exact"===C.fragment&&I.fragment!==w.fragment)}function Ut(I,w,C){return gr(I,w,w.segments,C)}function gr(I,w,C,S){if(I.segments.length>C.length){const X=I.segments.slice(0,C.length);return!(!Zn(X,C)||w.hasChildren()||!dr(X,C,S))}if(I.segments.length===C.length){if(!Zn(I.segments,C)||!dr(I.segments,C,S))return!1;for(const X in w.children)if(!I.children[X]||!Ut(I.children[X],w.children[X],S))return!1;return!0}{const X=C.slice(0,I.segments.length),be=C.slice(I.segments.length);return!!(Zn(I.segments,X)&&dr(I.segments,X,S)&&I.children[Ot])&&gr(I.children[Ot],w,be,S)}}function dr(I,w,C){return w.every((S,X)=>Zt[C](I[X].parameters,S.parameters))}class hr{constructor(w=new Wn([],{}),C={},S=null){this.root=w,this.queryParams=C,this.fragment=S}get queryParamMap(){return this._queryParamMap??=yn(this.queryParams),this._queryParamMap}toString(){return Qr.serialize(this)}}class Wn{constructor(w,C){this.segments=w,this.children=C,this.parent=null,Object.values(C).forEach(S=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Pn(this)}}class Er{constructor(w,C){this.path=w,this.parameters=C}get parameterMap(){return this._parameterMap??=yn(this.parameters),this._parameterMap}toString(){return Ge(this)}}function Zn(I,w){return I.length===w.length&&I.every((C,S)=>C.path===w[S].path)}let xn=(()=>{class I{static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275prov=a.jDH({token:I,factory:()=>new sn,providedIn:"root"})}}return I})();class sn{parse(w){const C=new pt(w);return new hr(C.parseRootSegment(),C.parseQueryParams(),C.parseFragment())}serialize(w){const C=`/${Xr(w.root,!0)}`,S=function $t(I){const w=Object.entries(I).map(([C,S])=>Array.isArray(S)?S.map(X=>`${an(C)}=${an(X)}`).join("&"):`${an(C)}=${an(S)}`).filter(C=>C);return w.length?`?${w.join("&")}`:""}(w.queryParams);return`${C}${S}${"string"==typeof w.fragment?`#${function Hr(I){return encodeURI(I)}(w.fragment)}`:""}`}}const Qr=new sn;function Pn(I){return I.segments.map(w=>Ge(w)).join("/")}function Xr(I,w){if(!I.hasChildren())return Pn(I);if(w){const C=I.children[Ot]?Xr(I.children[Ot],!1):"",S=[];return Object.entries(I.children).forEach(([X,be])=>{X!==Ot&&S.push(`${X}:${Xr(be,!1)}`)}),S.length>0?`${C}(${S.join("//")})`:C}{const C=function fi(I,w){let C=[];return Object.entries(I.children).forEach(([S,X])=>{S===Ot&&(C=C.concat(w(X,S)))}),Object.entries(I.children).forEach(([S,X])=>{S!==Ot&&(C=C.concat(w(X,S)))}),C}(I,(S,X)=>X===Ot?[Xr(I.children[Ot],!1)]:[`${X}:${Xr(S,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Ot]?`${Pn(I)}/${C[0]}`:`${Pn(I)}/(${C.join("//")})`}}function ar(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function an(I){return ar(I).replace(/%3B/gi,";")}function qr(I){return ar(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Mt(I){return decodeURIComponent(I)}function bt(I){return Mt(I.replace(/\+/g,"%20"))}function Ge(I){return`${qr(I.path)}${function mt(I){return Object.entries(I).map(([w,C])=>`;${qr(w)}=${qr(C)}`).join("")}(I.parameters)}`}const Be=/^[^\/()?;#]+/;function Ue(I){const w=I.match(Be);return w?w[0]:""}const Qe=/^[^\/()?;=#]+/,yt=/^[^=?&#]+/,pn=/^[^&#]+/;class pt{constructor(w){this.url=w,this.remaining=w}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wn([],{}):new Wn([],this.parseChildren())}parseQueryParams(){const w={};if(this.consumeOptional("?"))do{this.parseQueryParam(w)}while(this.consumeOptional("&"));return w}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const w=[];for(this.peekStartsWith("(")||w.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),w.push(this.parseSegment());let C={};this.peekStartsWith("/(")&&(this.capture("/"),C=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(w.length>0||Object.keys(C).length>0)&&(S[Ot]=new Wn(w,C)),S}parseSegment(){const w=Ue(this.remaining);if(""===w&&this.peekStartsWith(";"))throw new a.wOt(4009,!1);return this.capture(w),new Er(Mt(w),this.parseMatrixParams())}parseMatrixParams(){const w={};for(;this.consumeOptional(";");)this.parseParam(w);return w}parseParam(w){const C=function Rt(I){const w=I.match(Qe);return w?w[0]:""}(this.remaining);if(!C)return;this.capture(C);let S="";if(this.consumeOptional("=")){const X=Ue(this.remaining);X&&(S=X,this.capture(S))}w[Mt(C)]=Mt(S)}parseQueryParam(w){const C=function _n(I){const w=I.match(yt);return w?w[0]:""}(this.remaining);if(!C)return;this.capture(C);let S="";if(this.consumeOptional("=")){const Xe=function Dr(I){const w=I.match(pn);return w?w[0]:""}(this.remaining);Xe&&(S=Xe,this.capture(S))}const X=bt(C),be=bt(S);if(w.hasOwnProperty(X)){let Xe=w[X];Array.isArray(Xe)||(Xe=[Xe],w[X]=Xe),Xe.push(be)}else w[X]=be}parseParens(w){const C={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=Ue(this.remaining),X=this.remaining[S.length];if("/"!==X&&")"!==X&&";"!==X)throw new a.wOt(4010,!1);let be;S.indexOf(":")>-1?(be=S.slice(0,S.indexOf(":")),this.capture(be),this.capture(":")):w&&(be=Ot);const Xe=this.parseChildren();C[be]=1===Object.keys(Xe).length?Xe[Ot]:new Wn([],Xe),this.consumeOptional("//")}return C}peekStartsWith(w){return this.remaining.startsWith(w)}consumeOptional(w){return!!this.peekStartsWith(w)&&(this.remaining=this.remaining.substring(w.length),!0)}capture(w){if(!this.consumeOptional(w))throw new a.wOt(4011,!1)}}function nr(I){return I.segments.length>0?new Wn([],{[Ot]:I}):I}function qn(I){const w={};for(const[S,X]of Object.entries(I.children)){const be=qn(X);if(S===Ot&&0===be.segments.length&&be.hasChildren())for(const[Xe,Vt]of Object.entries(be.children))w[Xe]=Vt;else(be.segments.length>0||be.hasChildren())&&(w[S]=be)}return function $n(I){if(1===I.numberOfChildren&&I.children[Ot]){const w=I.children[Ot];return new Wn(I.segments.concat(w.segments),w.children)}return I}(new Wn(I.segments,w))}function Rr(I){return I instanceof hr}function Vr(I){let w;const X=nr(function C(be){const Xe={};for(const At of be.children){const Dn=C(At);Xe[At.outlet]=Dn}const Vt=new Wn(be.url,Xe);return be===I&&(w=Vt),Vt}(I.root));return w??X}function Ri(I,w,C,S){let X=I;for(;X.parent;)X=X.parent;if(0===w.length)return Pi(X,X,X,C,S);const be=function he(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new _e(!0,0,I);let w=0,C=!1;const S=I.reduce((X,be,Xe)=>{if("object"==typeof be&&null!=be){if(be.outlets){const Vt={};return Object.entries(be.outlets).forEach(([At,Dn])=>{Vt[At]="string"==typeof Dn?Dn.split("/"):Dn}),[...X,{outlets:Vt}]}if(be.segmentPath)return[...X,be.segmentPath]}return"string"!=typeof be?[...X,be]:0===Xe?(be.split("/").forEach((Vt,At)=>{0==At&&"."===Vt||(0==At&&""===Vt?C=!0:".."===Vt?w++:""!=Vt&&X.push(Vt))}),X):[...X,be]},[]);return new _e(C,w,S)}(w);if(be.toRoot())return Pi(X,X,new Wn([],{}),C,S);const Xe=function ye(I,w,C){if(I.isAbsolute)return new H(w,!0,0);if(!C)return new H(w,!1,NaN);if(null===C.parent)return new H(C,!0,0);const S=zr(I.commands[0])?0:1;return function Ze(I,w,C){let S=I,X=w,be=C;for(;be>X;){if(be-=X,S=S.parent,!S)throw new a.wOt(4005,!1);X=S.segments.length}return new H(S,!1,X-be)}(C,C.segments.length-1+S,I.numberOfDoubleDots)}(be,X,I),Vt=Xe.processChildren?Lt(Xe.segmentGroup,Xe.index,be.commands):at(Xe.segmentGroup,Xe.index,be.commands);return Pi(X,Xe.segmentGroup,Vt,C,S)}function zr(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Ci(I){return"object"==typeof I&&null!=I&&I.outlets}function Pi(I,w,C,S,X){let Xe,be={};S&&Object.entries(S).forEach(([At,Dn])=>{be[At]=Array.isArray(Dn)?Dn.map(sr=>`${sr}`):`${Dn}`}),Xe=I===w?C:Ui(I,w,C);const Vt=nr(qn(Xe));return new hr(Vt,be,X)}function Ui(I,w,C){const S={};return Object.entries(I.children).forEach(([X,be])=>{S[X]=be===w?C:Ui(be,w,C)}),new Wn(I.segments,S)}class _e{constructor(w,C,S){if(this.isAbsolute=w,this.numberOfDoubleDots=C,this.commands=S,w&&S.length>0&&zr(S[0]))throw new a.wOt(4003,!1);const X=S.find(Ci);if(X&&X!==He(S))throw new a.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class H{constructor(w,C,S){this.segmentGroup=w,this.processChildren=C,this.index=S}}function at(I,w,C){if(I??=new Wn([],{}),0===I.segments.length&&I.hasChildren())return Lt(I,w,C);const S=function ln(I,w,C){let S=0,X=w;const be={match:!1,pathIndex:0,commandIndex:0};for(;X<I.segments.length;){if(S>=C.length)return be;const Xe=I.segments[X],Vt=C[S];if(Ci(Vt))break;const At=`${Vt}`,Dn=S<C.length-1?C[S+1]:null;if(X>0&&void 0===At)break;if(At&&Dn&&"object"==typeof Dn&&void 0===Dn.outlets){if(!Ni(At,Dn,Xe))return be;S+=2}else{if(!Ni(At,{},Xe))return be;S++}X++}return{match:!0,pathIndex:X,commandIndex:S}}(I,w,C),X=C.slice(S.commandIndex);if(S.match&&S.pathIndex<I.segments.length){const be=new Wn(I.segments.slice(0,S.pathIndex),{});return be.children[Ot]=new Wn(I.segments.slice(S.pathIndex),I.children),Lt(be,0,X)}return S.match&&0===X.length?new Wn(I.segments,{}):S.match&&!I.hasChildren()?Fn(I,w,C):S.match?Lt(I,0,X):Fn(I,w,C)}function Lt(I,w,C){if(0===C.length)return new Wn(I.segments,{});{const S=function Ne(I){return Ci(I[0])?I[0].outlets:{[Ot]:I}}(C),X={};if(Object.keys(S).some(be=>be!==Ot)&&I.children[Ot]&&1===I.numberOfChildren&&0===I.children[Ot].segments.length){const be=Lt(I.children[Ot],w,C);return new Wn(I.segments,be.children)}return Object.entries(S).forEach(([be,Xe])=>{"string"==typeof Xe&&(Xe=[Xe]),null!==Xe&&(X[be]=at(I.children[be],w,Xe))}),Object.entries(I.children).forEach(([be,Xe])=>{void 0===S[be]&&(X[be]=Xe)}),new Wn(I.segments,X)}}function Fn(I,w,C){const S=I.segments.slice(0,w);let X=0;for(;X<C.length;){const be=C[X];if(Ci(be)){const At=fr(be.outlets);return new Wn(S,At)}if(0===X&&zr(C[0])){S.push(new Er(I.segments[w].path,Xn(C[0]))),X++;continue}const Xe=Ci(be)?be.outlets[Ot]:`${be}`,Vt=X<C.length-1?C[X+1]:null;Xe&&Vt&&zr(Vt)?(S.push(new Er(Xe,Xn(Vt))),X+=2):(S.push(new Er(Xe,{})),X++)}return new Wn(S,{})}function fr(I){const w={};return Object.entries(I).forEach(([C,S])=>{"string"==typeof S&&(S=[S]),null!==S&&(w[C]=Fn(new Wn([],{}),0,S))}),w}function Xn(I){const w={};return Object.entries(I).forEach(([C,S])=>w[C]=`${S}`),w}function Ni(I,w,C){return I==C.path&&Ht(w,C.parameters)}const Zr="imperative";var cr=function(I){return I[I.NavigationStart=0]="NavigationStart",I[I.NavigationEnd=1]="NavigationEnd",I[I.NavigationCancel=2]="NavigationCancel",I[I.NavigationError=3]="NavigationError",I[I.RoutesRecognized=4]="RoutesRecognized",I[I.ResolveStart=5]="ResolveStart",I[I.ResolveEnd=6]="ResolveEnd",I[I.GuardsCheckStart=7]="GuardsCheckStart",I[I.GuardsCheckEnd=8]="GuardsCheckEnd",I[I.RouteConfigLoadStart=9]="RouteConfigLoadStart",I[I.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",I[I.ChildActivationStart=11]="ChildActivationStart",I[I.ChildActivationEnd=12]="ChildActivationEnd",I[I.ActivationStart=13]="ActivationStart",I[I.ActivationEnd=14]="ActivationEnd",I[I.Scroll=15]="Scroll",I[I.NavigationSkipped=16]="NavigationSkipped",I}(cr||{});class oi{constructor(w,C){this.id=w,this.url=C}}class Uo extends oi{constructor(w,C,S="imperative",X=null){super(w,C),this.type=cr.NavigationStart,this.navigationTrigger=S,this.restoredState=X}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ci extends oi{constructor(w,C,S){super(w,C),this.urlAfterRedirects=S,this.type=cr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var ti=function(I){return I[I.Redirect=0]="Redirect",I[I.SupersededByNewNavigation=1]="SupersededByNewNavigation",I[I.NoDataFromResolver=2]="NoDataFromResolver",I[I.GuardRejected=3]="GuardRejected",I}(ti||{}),Gi=function(I){return I[I.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",I[I.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",I}(Gi||{});class Ai extends oi{constructor(w,C,S,X){super(w,C),this.reason=S,this.code=X,this.type=cr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Di extends oi{constructor(w,C,S,X){super(w,C),this.reason=S,this.code=X,this.type=cr.NavigationSkipped}}class ws extends oi{constructor(w,C,S,X){super(w,C),this.error=S,this.target=X,this.type=cr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ss extends oi{constructor(w,C,S,X){super(w,C),this.urlAfterRedirects=S,this.state=X,this.type=cr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o extends oi{constructor(w,C,S,X){super(w,C),this.urlAfterRedirects=S,this.state=X,this.type=cr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ss extends oi{constructor(w,C,S,X,be){super(w,C),this.urlAfterRedirects=S,this.state=X,this.shouldActivate=be,this.type=cr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qo extends oi{constructor(w,C,S,X){super(w,C),this.urlAfterRedirects=S,this.state=X,this.type=cr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class as extends oi{constructor(w,C,S,X){super(w,C),this.urlAfterRedirects=S,this.state=X,this.type=cr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jo{constructor(w){this.route=w,this.type=cr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ti{constructor(w){this.route=w,this.type=cr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Rs{constructor(w){this.snapshot=w,this.type=cr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Io{constructor(w){this.snapshot=w,this.type=cr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(w){this.snapshot=w,this.type=cr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ja{constructor(w){this.snapshot=w,this.type=cr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ls{constructor(w,C,S){this.routerEvent=w,this.position=C,this.anchor=S,this.type=cr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ni{}class ro{constructor(w,C){this.url=w,this.navigationBehaviorOptions=C}}function Y(I){return I.outlet||Ot}function J(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let w=I.parent;w;w=w.parent){const C=w.routeConfig;if(C?._loadedInjector)return C._loadedInjector;if(C?._injector)return C._injector}return null}class P{get injector(){return J(this.route?.snapshot)??this.rootInjector}set injector(w){}constructor(w){this.rootInjector=w,this.outlet=null,this.route=null,this.children=new Pe(this.rootInjector),this.attachRef=null}}let Pe=(()=>{class I{constructor(C){this.rootInjector=C,this.contexts=new Map}onChildOutletCreated(C,S){const X=this.getOrCreateContext(C);X.outlet=S,this.contexts.set(C,X)}onChildOutletDestroyed(C){const S=this.getContext(C);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let S=this.getContext(C);return S||(S=new P(this.rootInjector),this.contexts.set(C,S)),S}getContext(C){return this.contexts.get(C)||null}static{this.\u0275fac=function(S){return new(S||I)(a.KVO(a.uvJ))}}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();class L{constructor(w){this._root=w}get root(){return this._root.value}parent(w){const C=this.pathFromRoot(w);return C.length>1?C[C.length-2]:null}children(w){const C=me(w,this._root);return C?C.children.map(S=>S.value):[]}firstChild(w){const C=me(w,this._root);return C&&C.children.length>0?C.children[0].value:null}siblings(w){const C=$e(w,this._root);return C.length<2?[]:C[C.length-2].children.map(X=>X.value).filter(X=>X!==w)}pathFromRoot(w){return $e(w,this._root).map(C=>C.value)}}function me(I,w){if(I===w.value)return w;for(const C of w.children){const S=me(I,C);if(S)return S}return null}function $e(I,w){if(I===w.value)return[w];for(const C of w.children){const S=$e(I,C);if(S.length)return S.unshift(w),S}return[]}class qe{constructor(w,C){this.value=w,this.children=C}toString(){return`TreeNode(${this.value})`}}function ct(I){const w={};return I&&I.children.forEach(C=>w[C.value.outlet]=C),w}class vt extends L{constructor(w,C){super(w),this.snapshot=C,Nn(this,w)}toString(){return this.snapshot.toString()}}function zt(I){const w=function Yt(I){const be=new un([],{},{},"",{},Ot,I,null,{});return new Cn("",new qe(be,[]))}(I),C=new ge.t([new Er("",{})]),S=new ge.t({}),X=new ge.t({}),be=new ge.t({}),Xe=new ge.t(""),Vt=new Wt(C,S,be,Xe,X,Ot,I,w.root);return Vt.snapshot=w.root,new vt(new qe(Vt,[]),w)}class Wt{constructor(w,C,S,X,be,Xe,Vt,At){this.urlSubject=w,this.paramsSubject=C,this.queryParamsSubject=S,this.fragmentSubject=X,this.dataSubject=be,this.outlet=Xe,this.component=Vt,this._futureSnapshot=At,this.title=this.dataSubject?.pipe((0,oe.T)(Dn=>Dn[gt]))??(0,ne.of)(void 0),this.url=w,this.params=C,this.queryParams=S,this.fragment=X,this.data=be}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,oe.T)(w=>yn(w))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,oe.T)(w=>yn(w))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qt(I,w,C="emptyOnly"){let S;const{routeConfig:X}=I;return S=null===w||"always"!==C&&""!==X?.path&&(w.component||w.routeConfig?.loadComponent)?{params:{...I.params},data:{...I.data},resolve:{...I.data,...I._resolvedData??{}}}:{params:{...w.params,...I.params},data:{...w.data,...I.data},resolve:{...I.data,...w.data,...X?.data,...I._resolvedData}},X&&ri(X)&&(S.resolve[gt]=X.title),S}class un{get title(){return this.data?.[gt]}constructor(w,C,S,X,be,Xe,Vt,At,Dn){this.url=w,this.params=C,this.queryParams=S,this.fragment=X,this.data=be,this.outlet=Xe,this.component=Vt,this.routeConfig=At,this._resolve=Dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cn extends L{constructor(w,C){super(C),this.url=w,Nn(this,C)}toString(){return kn(this._root)}}function Nn(I,w){w.value._routerState=I,w.children.forEach(C=>Nn(I,C))}function kn(I){const w=I.children.length>0?` { ${I.children.map(kn).join(", ")} } `:"";return`${I.value}${w}`}function br(I){if(I.snapshot){const w=I.snapshot,C=I._futureSnapshot;I.snapshot=C,Ht(w.queryParams,C.queryParams)||I.queryParamsSubject.next(C.queryParams),w.fragment!==C.fragment&&I.fragmentSubject.next(C.fragment),Ht(w.params,C.params)||I.paramsSubject.next(C.params),function Gt(I,w){if(I.length!==w.length)return!1;for(let C=0;C<I.length;++C)if(!Ht(I[C],w[C]))return!1;return!0}(w.url,C.url)||I.urlSubject.next(C.url),Ht(w.data,C.data)||I.dataSubject.next(C.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function Or(I,w){const C=Ht(I.params,w.params)&&function Mn(I,w){return Zn(I,w)&&I.every((C,S)=>Ht(C.parameters,w[S].parameters))}(I.url,w.url);return C&&!(!I.parent!=!w.parent)&&(!I.parent||Or(I.parent,w.parent))}function ri(I){return"string"==typeof I.title||null===I.title}let Pr=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new a.bkB,this.deactivateEvents=new a.bkB,this.attachEvents=new a.bkB,this.detachEvents=new a.bkB,this.parentContexts=(0,a.WQX)(Pe),this.location=(0,a.WQX)(a.c1b),this.changeDetector=(0,a.WQX)(a.gRc),this.inputBinder=(0,a.WQX)(Qi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(C){if(C.name){const{firstChange:S,previousValue:X}=C.name;if(S)return;this.isTrackedInParentContexts(X)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(X)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(C){return this.parentContexts.getContext(C)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const C=this.parentContexts.getContext(this.name);C?.route&&(C.attachRef?this.attach(C.attachRef,C.route):this.activateWith(C.route,C.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new a.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new a.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new a.wOt(4012,!1);this.location.detach();const C=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(C.instance),C}attach(C,S){this.activated=C,this._activatedRoute=S,this.location.insert(C.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(C.instance)}deactivate(){if(this.activated){const C=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(C)}}activateWith(C,S){if(this.isActivated)throw new a.wOt(4013,!1);this._activatedRoute=C;const X=this.location,Xe=C.snapshot.component,Vt=this.parentContexts.getOrCreateContext(this.name).children,At=new cn(C,Vt,X.injector);this.activated=X.createComponent(Xe,{index:X.length,injector:At,environmentInjector:S}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275dir=a.FsC({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[a.OA$]})}}return I})();class cn{__ngOutletInjector(w){return new cn(this.route,this.childContexts,w)}constructor(w,C,S){this.route=w,this.childContexts=C,this.parent=S}get(w,C){return w===Wt?this.route:w===Pe?this.childContexts:this.parent.get(w,C)}}const Qi=new a.nKC("");let vi=(()=>{class I{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(C){this.unsubscribeFromRouteData(C),this.subscribeToRouteData(C)}unsubscribeFromRouteData(C){this.outletDataSubscriptions.get(C)?.unsubscribe(),this.outletDataSubscriptions.delete(C)}subscribeToRouteData(C){const{activatedRoute:S}=C,X=(0,G.z)([S.queryParams,S.params,S.data]).pipe((0,Se.n)(([be,Xe,Vt],At)=>(Vt={...be,...Xe,...Vt},0===At?(0,ne.of)(Vt):Promise.resolve(Vt)))).subscribe(be=>{if(!C.isActivated||!C.activatedComponentRef||C.activatedRoute!==S||null===S.component)return void this.unsubscribeFromRouteData(C);const Xe=(0,a.HJs)(S.component);if(Xe)for(const{templateName:Vt}of Xe.inputs)C.activatedComponentRef.setInput(Vt,be[Vt]);else this.unsubscribeFromRouteData(C)});this.outletDataSubscriptions.set(C,X)}static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac})}}return I})();function Gs(I,w,C){if(C&&I.shouldReuseRoute(w.value,C.value.snapshot)){const S=C.value;S._futureSnapshot=w.value;const X=function Yi(I,w,C){return w.children.map(S=>{for(const X of C.children)if(I.shouldReuseRoute(S.value,X.value.snapshot))return Gs(I,S,X);return Gs(I,S)})}(I,w,C);return new qe(S,X)}{if(I.shouldAttach(w.value)){const be=I.retrieve(w.value);if(null!==be){const Xe=be.route;return Xe.value._futureSnapshot=w.value,Xe.children=w.children.map(Vt=>Gs(I,Vt)),Xe}}const S=function Ws(I){return new Wt(new ge.t(I.url),new ge.t(I.params),new ge.t(I.queryParams),new ge.t(I.fragment),new ge.t(I.data),I.outlet,I.component,I)}(w.value),X=w.children.map(be=>Gs(I,be));return new qe(S,X)}}class Zi{constructor(w,C){this.redirectTo=w,this.navigationBehaviorOptions=C}}const lo="ngNavigationCancelingError";function Ji(I,w){const{redirectTo:C,navigationBehaviorOptions:S}=Rr(w)?{redirectTo:w,navigationBehaviorOptions:void 0}:w,X=us(!1,ti.Redirect);return X.url=C,X.navigationBehaviorOptions=S,X}function us(I,w){const C=new Error(`NavigationCancelingError: ${I||""}`);return C[lo]=!0,C.cancellationCode=w,C}function zo(I){return!!I&&I[lo]}class bi{constructor(w,C,S,X,be){this.routeReuseStrategy=w,this.futureState=C,this.currState=S,this.forwardEvent=X,this.inputBindingEnabled=be}activate(w){const C=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(C,S,w),br(this.futureState.root),this.activateChildRoutes(C,S,w)}deactivateChildRoutes(w,C,S){const X=ct(C);w.children.forEach(be=>{const Xe=be.value.outlet;this.deactivateRoutes(be,X[Xe],S),delete X[Xe]}),Object.values(X).forEach(be=>{this.deactivateRouteAndItsChildren(be,S)})}deactivateRoutes(w,C,S){const X=w.value,be=C?C.value:null;if(X===be)if(X.component){const Xe=S.getContext(X.outlet);Xe&&this.deactivateChildRoutes(w,C,Xe.children)}else this.deactivateChildRoutes(w,C,S);else be&&this.deactivateRouteAndItsChildren(C,S)}deactivateRouteAndItsChildren(w,C){w.value.component&&this.routeReuseStrategy.shouldDetach(w.value.snapshot)?this.detachAndStoreRouteSubtree(w,C):this.deactivateRouteAndOutlet(w,C)}detachAndStoreRouteSubtree(w,C){const S=C.getContext(w.value.outlet),X=S&&w.value.component?S.children:C,be=ct(w);for(const Xe of Object.values(be))this.deactivateRouteAndItsChildren(Xe,X);if(S&&S.outlet){const Xe=S.outlet.detach(),Vt=S.children.onOutletDeactivated();this.routeReuseStrategy.store(w.value.snapshot,{componentRef:Xe,route:w,contexts:Vt})}}deactivateRouteAndOutlet(w,C){const S=C.getContext(w.value.outlet),X=S&&w.value.component?S.children:C,be=ct(w);for(const Xe of Object.values(be))this.deactivateRouteAndItsChildren(Xe,X);S&&(S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated()),S.attachRef=null,S.route=null)}activateChildRoutes(w,C,S){const X=ct(C);w.children.forEach(be=>{this.activateRoutes(be,X[be.value.outlet],S),this.forwardEvent(new ja(be.value.snapshot))}),w.children.length&&this.forwardEvent(new Io(w.value.snapshot))}activateRoutes(w,C,S){const X=w.value,be=C?C.value:null;if(br(X),X===be)if(X.component){const Xe=S.getOrCreateContext(X.outlet);this.activateChildRoutes(w,C,Xe.children)}else this.activateChildRoutes(w,C,S);else if(X.component){const Xe=S.getOrCreateContext(X.outlet);if(this.routeReuseStrategy.shouldAttach(X.snapshot)){const Vt=this.routeReuseStrategy.retrieve(X.snapshot);this.routeReuseStrategy.store(X.snapshot,null),Xe.children.onOutletReAttached(Vt.contexts),Xe.attachRef=Vt.componentRef,Xe.route=Vt.route.value,Xe.outlet&&Xe.outlet.attach(Vt.componentRef,Vt.route.value),br(Vt.route.value),this.activateChildRoutes(w,null,Xe.children)}else Xe.attachRef=null,Xe.route=X,Xe.outlet&&Xe.outlet.activateWith(X,Xe.injector),this.activateChildRoutes(w,null,Xe.children)}else this.activateChildRoutes(w,null,S)}}class Gr{constructor(w){this.path=w,this.route=this.path[this.path.length-1]}}class To{constructor(w,C){this.component=w,this.route=C}}function wr(I,w,C){const S=I._root;return ds(S,w?w._root:null,C,[S.value])}function Br(I,w){const C=Symbol(),S=w.get(I,C);return S===C?"function"!=typeof I||(0,a.LfX)(I)?w.get(I):I:S}function ds(I,w,C,S,X={canDeactivateChecks:[],canActivateChecks:[]}){const be=ct(w);return I.children.forEach(Xe=>{(function _c(I,w,C,S,X={canDeactivateChecks:[],canActivateChecks:[]}){const be=I.value,Xe=w?w.value:null,Vt=C?C.getContext(I.value.outlet):null;if(Xe&&be.routeConfig===Xe.routeConfig){const At=function Ir(I,w,C){if("function"==typeof C)return C(I,w);switch(C){case"pathParamsChange":return!Zn(I.url,w.url);case"pathParamsOrQueryParamsChange":return!Zn(I.url,w.url)||!Ht(I.queryParams,w.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Or(I,w)||!Ht(I.queryParams,w.queryParams);default:return!Or(I,w)}}(Xe,be,be.routeConfig.runGuardsAndResolvers);At?X.canActivateChecks.push(new Gr(S)):(be.data=Xe.data,be._resolvedData=Xe._resolvedData),ds(I,w,be.component?Vt?Vt.children:null:C,S,X),At&&Vt&&Vt.outlet&&Vt.outlet.isActivated&&X.canDeactivateChecks.push(new To(Vt.outlet.component,Xe))}else Xe&&ir(w,Vt,X),X.canActivateChecks.push(new Gr(S)),ds(I,null,be.component?Vt?Vt.children:null:C,S,X)})(Xe,be[Xe.value.outlet],C,S.concat([Xe.value]),X),delete be[Xe.value.outlet]}),Object.entries(be).forEach(([Xe,Vt])=>ir(Vt,C.getContext(Xe),X)),X}function ir(I,w,C){const S=ct(I),X=I.value;Object.entries(S).forEach(([be,Xe])=>{ir(Xe,X.component?w?w.children.getContext(be):null:w,C)}),C.canDeactivateChecks.push(new To(X.component&&w&&w.outlet&&w.outlet.isActivated?w.outlet.component:null,X))}function jn(I){return"function"==typeof I}function Wa(I){return I instanceof de.G||"EmptyError"===I?.name}const Ur=Symbol("INITIAL_VALUE");function sa(){return(0,Se.n)(I=>(0,G.z)(I.map(w=>w.pipe((0,Le.s)(1),(0,Re.Z)(Ur)))).pipe((0,oe.T)(w=>{for(const C of w)if(!0!==C){if(C===Ur)return Ur;if(!1===C||Kc(C))return C}return!0}),(0,Ye.p)(w=>w!==Ur),(0,Le.s)(1)))}function Kc(I){return Rr(I)||I instanceof Zi}function Vn(I){return(0,z.F)((0,Et.M)(w=>{if("boolean"!=typeof w)throw Ji(0,w)}),(0,oe.T)(w=>!0===w))}class pr{constructor(w){this.segmentGroup=w||null}}class io extends Error{constructor(w){super(),this.urlTree=w}}function Jr(I){return le(new pr(I))}class wa{constructor(w,C){this.urlSerializer=w,this.urlTree=C}lineralizeSegments(w,C){let S=[],X=C.root;for(;;){if(S=S.concat(X.segments),0===X.numberOfChildren)return(0,ne.of)(S);if(X.numberOfChildren>1||!X.children[Ot])return le(new a.wOt(4e3,!1));X=X.children[Ot]}}applyRedirectCommands(w,C,S,X,be){if("string"!=typeof C){const Vt=C,{queryParams:At,fragment:Dn,routeConfig:sr,url:vr,outlet:Hn,params:Fr,data:kr,title:mo}=X,pi=(0,a.N4e)(be,()=>Vt({params:Fr,data:kr,queryParams:At,fragment:Dn,routeConfig:sr,url:vr,outlet:Hn,title:mo}));if(pi instanceof hr)throw new io(pi);C=pi}const Xe=this.applyRedirectCreateUrlTree(C,this.urlSerializer.parse(C),w,S);if("/"===C[0])throw new io(Xe);return Xe}applyRedirectCreateUrlTree(w,C,S,X){const be=this.createSegmentGroup(w,C.root,S,X);return new hr(be,this.createQueryParams(C.queryParams,this.urlTree.queryParams),C.fragment)}createQueryParams(w,C){const S={};return Object.entries(w).forEach(([X,be])=>{if("string"==typeof be&&":"===be[0]){const Vt=be.substring(1);S[X]=C[Vt]}else S[X]=be}),S}createSegmentGroup(w,C,S,X){const be=this.createSegments(w,C.segments,S,X);let Xe={};return Object.entries(C.children).forEach(([Vt,At])=>{Xe[Vt]=this.createSegmentGroup(w,At,S,X)}),new Wn(be,Xe)}createSegments(w,C,S,X){return C.map(be=>":"===be.path[0]?this.findPosParam(w,be,X):this.findOrReturn(be,S))}findPosParam(w,C,S){const X=S[C.path.substring(1)];if(!X)throw new a.wOt(4001,!1);return X}findOrReturn(w,C){let S=0;for(const X of C){if(X.path===w.path)return C.splice(S),X;S++}return w}}const bo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Oi(I,w,C,S,X){const be=Sa(I,w,C);return be.matched?(S=function ia(I,w){return I.providers&&!I._injector&&(I._injector=(0,a.Ol2)(I.providers,w,`Route: ${I.path}`)),I._injector??w}(w,S),function Jn(I,w,C,S){const X=w.canMatch;if(!X||0===X.length)return(0,ne.of)(!0);const be=X.map(Xe=>{const Vt=Br(Xe,I);return ze(function Yo(I){return I&&jn(I.canMatch)}(Vt)?Vt.canMatch(w,C):(0,a.N4e)(I,()=>Vt(w,C)))});return(0,ne.of)(be).pipe(sa(),Vn())}(S,w,C).pipe((0,oe.T)(Xe=>!0===Xe?be:{...bo}))):(0,ne.of)(be)}function Sa(I,w,C){if("**"===w.path)return function Xa(I){return{matched:!0,parameters:I.length>0?He(I).parameters:{},consumedSegments:I,remainingSegments:[],positionalParamSegments:{}}}(C);if(""===w.path)return"full"===w.pathMatch&&(I.hasChildren()||C.length>0)?{...bo}:{matched:!0,consumedSegments:[],remainingSegments:C,parameters:{},positionalParamSegments:{}};const X=(w.matcher||fn)(C,I,w);if(!X)return{...bo};const be={};Object.entries(X.posParams??{}).forEach(([Vt,At])=>{be[Vt]=At.path});const Xe=X.consumed.length>0?{...be,...X.consumed[X.consumed.length-1].parameters}:be;return{matched:!0,consumedSegments:X.consumed,remainingSegments:C.slice(X.consumed.length),parameters:Xe,positionalParamSegments:X.posParams??{}}}function aa(I,w,C,S){return C.length>0&&function qa(I,w,C){return C.some(S=>fs(I,w,S)&&Y(S)!==Ot)}(I,C,S)?{segmentGroup:new Wn(w,Ms(S,new Wn(C,I.children))),slicedSegments:[]}:0===C.length&&function go(I,w,C){return C.some(S=>fs(I,w,S))}(I,C,S)?{segmentGroup:new Wn(I.segments,or(I,C,S,I.children)),slicedSegments:C}:{segmentGroup:new Wn(I.segments,I.children),slicedSegments:C}}function or(I,w,C,S){const X={};for(const be of C)if(fs(I,w,be)&&!S[Y(be)]){const Xe=new Wn([],{});X[Y(be)]=Xe}return{...S,...X}}function Ms(I,w){const C={};C[Ot]=w;for(const S of I)if(""===S.path&&Y(S)!==Ot){const X=new Wn([],{});C[Y(S)]=X}return C}function fs(I,w,C){return(!(I.hasChildren()||w.length>0)||"full"!==C.pathMatch)&&""===C.path}class qc{}class Du{constructor(w,C,S,X,be,Xe,Vt){this.injector=w,this.configLoader=C,this.rootComponentType=S,this.config=X,this.urlTree=be,this.paramsInheritanceStrategy=Xe,this.urlSerializer=Vt,this.applyRedirects=new wa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(w){return new a.wOt(4002,`'${w.segmentGroup}'`)}recognize(){const w=aa(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(w).pipe((0,oe.T)(({children:C,rootSnapshot:S})=>{const X=new qe(S,C),be=new Cn("",X),Xe=function Yr(I,w,C=null,S=null){return Ri(Vr(I),w,C,S)}(S,[],this.urlTree.queryParams,this.urlTree.fragment);return Xe.queryParams=this.urlTree.queryParams,be.url=this.urlSerializer.serialize(Xe),{state:be,tree:Xe}}))}match(w){const C=new un([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Ot,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,w,Ot,C).pipe((0,oe.T)(S=>({children:S,rootSnapshot:C})),xt(S=>{if(S instanceof io)return this.urlTree=S.urlTree,this.match(S.urlTree.root);throw S instanceof pr?this.noMatchError(S):S}))}processSegmentGroup(w,C,S,X,be){return 0===S.segments.length&&S.hasChildren()?this.processChildren(w,C,S,be):this.processSegment(w,C,S,S.segments,X,!0,be).pipe((0,oe.T)(Xe=>Xe instanceof qe?[Xe]:[]))}processChildren(w,C,S,X){const be=[];for(const Xe of Object.keys(S.children))"primary"===Xe?be.unshift(Xe):be.push(Xe);return(0,ae.H)(be).pipe(ht(Xe=>{const Vt=S.children[Xe],At=function rr(I,w){const C=I.filter(S=>Y(S)===w);return C.push(...I.filter(S=>Y(S)!==w)),C}(C,Xe);return this.processSegmentGroup(w,At,Vt,Xe,X)}),(0,jt.S)((Xe,Vt)=>(Xe.push(...Vt),Xe)),(0,it.U)(null),function Z(I,w){const C=arguments.length>=2;return S=>S.pipe(I?(0,Ye.p)((X,be)=>I(X,be,S)):j.D,Me(1),C?(0,it.U)(w):(0,V.v)(()=>new de.G))}(),(0,Ie.Z)(Xe=>{if(null===Xe)return Jr(S);const Vt=Wo(Xe);return function Go(I){I.sort((w,C)=>w.value.outlet===Ot?-1:C.value.outlet===Ot?1:w.value.outlet.localeCompare(C.value.outlet))}(Vt),(0,ne.of)(Vt)}))}processSegment(w,C,S,X,be,Xe,Vt){return(0,ae.H)(C).pipe(ht(At=>this.processSegmentAgainstRoute(At._injector??w,C,At,S,X,be,Xe,Vt).pipe(xt(Dn=>{if(Dn instanceof pr)return(0,ne.of)(null);throw Dn}))),(0,rt.$)(At=>!!At),xt(At=>{if(Wa(At))return function Xc(I,w,C){return 0===w.length&&!I.children[C]}(S,X,be)?(0,ne.of)(new qc):Jr(S);throw At}))}processSegmentAgainstRoute(w,C,S,X,be,Xe,Vt,At){return Y(S)===Xe||Xe!==Ot&&fs(X,be,S)?void 0===S.redirectTo?this.matchSegmentAgainstRoute(w,X,S,be,Xe,At):this.allowRedirects&&Vt?this.expandSegmentAgainstRouteUsingRedirect(w,X,C,S,be,Xe,At):Jr(X):Jr(X)}expandSegmentAgainstRouteUsingRedirect(w,C,S,X,be,Xe,Vt){const{matched:At,parameters:Dn,consumedSegments:sr,positionalParamSegments:vr,remainingSegments:Hn}=Sa(C,X,be);if(!At)return Jr(C);"string"==typeof X.redirectTo&&"/"===X.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const Fr=new un(be,Dn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wo(X),Y(X),X.component??X._loadedComponent??null,X,Qa(X)),kr=Qt(Fr,Vt,this.paramsInheritanceStrategy);Fr.params=Object.freeze(kr.params),Fr.data=Object.freeze(kr.data);const mo=this.applyRedirects.applyRedirectCommands(sr,X.redirectTo,vr,Fr,w);return this.applyRedirects.lineralizeSegments(X,mo).pipe((0,Ie.Z)(pi=>this.processSegment(w,S,C,pi.concat(Hn),Xe,!1,Vt)))}matchSegmentAgainstRoute(w,C,S,X,be,Xe){const Vt=Oi(C,S,X,w);return"**"===S.path&&(C.children={}),Vt.pipe((0,Se.n)(At=>At.matched?this.getChildConfig(w=S._injector??w,S,X).pipe((0,Se.n)(({routes:Dn})=>{const sr=S._loadedInjector??w,{parameters:vr,consumedSegments:Hn,remainingSegments:Fr}=At,kr=new un(Hn,vr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,wo(S),Y(S),S.component??S._loadedComponent??null,S,Qa(S)),mo=Qt(kr,Xe,this.paramsInheritanceStrategy);kr.params=Object.freeze(mo.params),kr.data=Object.freeze(mo.data);const{segmentGroup:pi,slicedSegments:fa}=aa(C,Hn,Fr,Dn);if(0===fa.length&&pi.hasChildren())return this.processChildren(sr,Dn,pi,kr).pipe((0,oe.T)(Zs=>new qe(kr,Zs)));if(0===Dn.length&&0===fa.length)return(0,ne.of)(new qe(kr,[]));const Ys=Y(S)===be;return this.processSegment(sr,Dn,pi,fa,Ys?Ot:be,!0,kr).pipe((0,oe.T)(Zs=>new qe(kr,Zs instanceof qe?[Zs]:[])))})):Jr(C)))}getChildConfig(w,C,S){return C.children?(0,ne.of)({routes:C.children,injector:w}):C.loadChildren?void 0!==C._loadedRoutes?(0,ne.of)({routes:C._loadedRoutes,injector:C._loadedInjector}):function ot(I,w,C,S){const X=w.canLoad;if(void 0===X||0===X.length)return(0,ne.of)(!0);const be=X.map(Xe=>{const Vt=Br(Xe,I);return ze(function Wi(I){return I&&jn(I.canLoad)}(Vt)?Vt.canLoad(w,C):(0,a.N4e)(I,()=>Vt(w,C)))});return(0,ne.of)(be).pipe(sa(),Vn())}(w,C,S).pipe((0,Ie.Z)(X=>X?this.configLoader.loadChildren(w,C).pipe((0,Et.M)(be=>{C._loadedRoutes=be.routes,C._loadedInjector=be.injector})):function Ks(){return le(us(!1,ti.GuardRejected))}())):(0,ne.of)({routes:[],injector:w})}}function Qc(I){const w=I.value.routeConfig;return w&&""===w.path}function Wo(I){const w=[],C=new Set;for(const S of I){if(!Qc(S)){w.push(S);continue}const X=w.find(be=>S.value.routeConfig===be.value.routeConfig);void 0!==X?(X.children.push(...S.children),C.add(X)):w.push(S)}for(const S of C){const X=Wo(S.children);w.push(new qe(S.value,X))}return w.filter(S=>!C.has(S))}function wo(I){return I.data||{}}function Qa(I){return I.resolve||{}}function Zc(I){const w=I.children.map(C=>Zc(C)).flat();return[I,...w]}function Ic(I){return(0,Se.n)(w=>{const C=I(w);return C?(0,ae.H)(C).pipe((0,oe.T)(()=>w)):(0,ne.of)(w)})}let Cc=(()=>{class I{buildTitle(C){let S,X=C.root;for(;void 0!==X;)S=this.getResolvedTitleForRoute(X)??S,X=X.children.find(be=>be.outlet===Ot);return S}getResolvedTitleForRoute(C){return C.data[gt]}static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275prov=a.jDH({token:I,factory:()=>(0,a.WQX)(pd),providedIn:"root"})}}return I})(),pd=(()=>{class I extends Cc{constructor(C){super(),this.title=C}updateTitle(C){const S=this.buildTitle(C);void 0!==S&&this.title.setTitle(S)}static{this.\u0275fac=function(S){return new(S||I)(a.KVO(en.hE))}}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const ps=new a.nKC("",{providedIn:"root",factory:()=>({})});let el=(()=>{class I{static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275cmp=a.VBU({type:I,selectors:[["ng-component"]],standalone:!0,features:[a.aNF],decls:1,vars:0,template:function(S,X){1&S&&a.nrm(0,"router-outlet")},dependencies:[Pr],encapsulation:2})}}return I})();function Cr(I){const w=I.children&&I.children.map(Cr),C=w?{...I,children:w}:{...I};return!C.component&&!C.loadComponent&&(w||C.loadChildren)&&C.outlet&&C.outlet!==Ot&&(C.component=el),C}const Xs=new a.nKC("");let qs=(()=>{class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,a.WQX)(a.Ql9)}loadComponent(C){if(this.componentLoaders.get(C))return this.componentLoaders.get(C);if(C._loadedComponent)return(0,ne.of)(C._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(C);const S=ze(C.loadComponent()).pipe((0,oe.T)(Ma),(0,Et.M)(be=>{this.onLoadEndListener&&this.onLoadEndListener(C),C._loadedComponent=be}),ut(()=>{this.componentLoaders.delete(C)})),X=new W(S,()=>new we.B).pipe(ve());return this.componentLoaders.set(C,X),X}loadChildren(C,S){if(this.childrenLoaders.get(S))return this.childrenLoaders.get(S);if(S._loadedRoutes)return(0,ne.of)({routes:S._loadedRoutes,injector:S._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(S);const be=function Fi(I,w,C,S){return ze(I.loadChildren()).pipe((0,oe.T)(Ma),(0,Ie.Z)(X=>X instanceof a.Co$||Array.isArray(X)?(0,ne.of)(X):(0,ae.H)(w.compileModuleAsync(X))),(0,oe.T)(X=>{S&&S(I);let be,Xe,Vt=!1;return Array.isArray(X)?(Xe=X,!0):(be=X.create(C).injector,Xe=be.get(Xs,[],{optional:!0,self:!0}).flat()),{routes:Xe.map(Cr),injector:be}}))}(S,this.compiler,C,this.onLoadEndListener).pipe(ut(()=>{this.childrenLoaders.delete(S)})),Xe=new W(be,()=>new we.B).pipe(ve());return this.childrenLoaders.set(S,Xe),Xe}static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function Ma(I){return function la(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let Zo=(()=>{class I{static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275prov=a.jDH({token:I,factory:()=>(0,a.WQX)(gs),providedIn:"root"})}}return I})(),gs=(()=>{class I{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,S){return C}static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const Ac=new a.nKC(""),T=new a.nKC("");function pe(I,w,C){const S=I.get(T),X=I.get(ce.qQ);return I.get(a.SKi).runOutsideAngular(()=>{if(!X.startViewTransition||S.skipNextTransition)return S.skipNextTransition=!1,new Promise(Dn=>setTimeout(Dn));let be;const Xe=new Promise(Dn=>{be=Dn}),Vt=X.startViewTransition(()=>(be(),function O(I){return new Promise(w=>{(0,a.mal)({read:()=>setTimeout(w)},{injector:I})})}(I))),{onViewTransitionCreated:At}=S;return At&&(0,a.N4e)(I,()=>At({transition:Vt,from:w,to:C})),Xe})}const se=new a.nKC("");let je=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new we.B,this.transitionAbortSubject=new we.B,this.configLoader=(0,a.WQX)(qs),this.environmentInjector=(0,a.WQX)(a.uvJ),this.urlSerializer=(0,a.WQX)(xn),this.rootContexts=(0,a.WQX)(Pe),this.location=(0,a.WQX)(ce.aZ),this.inputBindingEnabled=null!==(0,a.WQX)(Qi,{optional:!0}),this.titleStrategy=(0,a.WQX)(Cc),this.options=(0,a.WQX)(ps,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,a.WQX)(Zo),this.createViewTransition=(0,a.WQX)(Ac,{optional:!0}),this.navigationErrorHandler=(0,a.WQX)(se,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ne.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=X=>this.events.next(new Ti(X)),this.configLoader.onLoadStartListener=X=>this.events.next(new jo(X))}complete(){this.transitions?.complete()}handleNavigationRequest(C){const S=++this.navigationId;this.transitions?.next({...this.transitions.value,...C,id:S})}setupNavigations(C,S,X){return this.transitions=new ge.t({id:0,currentUrlTree:S,currentRawUrl:S,extractedUrl:this.urlHandlingStrategy.extract(S),urlAfterRedirects:this.urlHandlingStrategy.extract(S),rawUrl:S,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Zr,restoredState:null,currentSnapshot:X.snapshot,targetSnapshot:null,currentRouterState:X,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Ye.p)(be=>0!==be.id),(0,oe.T)(be=>({...be,extractedUrl:this.urlHandlingStrategy.extract(be.rawUrl)})),(0,Se.n)(be=>{let Xe=!1,Vt=!1;return(0,ne.of)(be).pipe((0,Se.n)(At=>{if(this.navigationId>be.id)return this.cancelNavigationTransition(be,"",ti.SupersededByNewNavigation),fe.w;this.currentTransition=be,this.currentNavigation={id:At.id,initialUrl:At.rawUrl,extractedUrl:At.extractedUrl,targetBrowserUrl:"string"==typeof At.extras.browserUrl?this.urlSerializer.parse(At.extras.browserUrl):At.extras.browserUrl,trigger:At.source,extras:At.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const Dn=!C.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!Dn&&"reload"!==(At.extras.onSameUrlNavigation??C.onSameUrlNavigation)){const vr="";return this.events.next(new Di(At.id,this.urlSerializer.serialize(At.rawUrl),vr,Gi.IgnoredSameUrlNavigation)),At.resolve(!1),fe.w}if(this.urlHandlingStrategy.shouldProcessUrl(At.rawUrl))return(0,ne.of)(At).pipe((0,Se.n)(vr=>{const Hn=this.transitions?.getValue();return this.events.next(new Uo(vr.id,this.urlSerializer.serialize(vr.extractedUrl),vr.source,vr.restoredState)),Hn!==this.transitions?.getValue()?fe.w:Promise.resolve(vr)}),function So(I,w,C,S,X,be){return(0,Ie.Z)(Xe=>function Au(I,w,C,S,X,be,Xe="emptyOnly"){return new Du(I,w,C,S,X,Xe,be).recognize()}(I,w,C,S,Xe.extractedUrl,X,be).pipe((0,oe.T)(({state:Vt,tree:At})=>({...Xe,targetSnapshot:Vt,urlAfterRedirects:At}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,C.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,Et.M)(vr=>{be.targetSnapshot=vr.targetSnapshot,be.urlAfterRedirects=vr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:vr.urlAfterRedirects};const Hn=new Ss(vr.id,this.urlSerializer.serialize(vr.extractedUrl),this.urlSerializer.serialize(vr.urlAfterRedirects),vr.targetSnapshot);this.events.next(Hn)}));if(Dn&&this.urlHandlingStrategy.shouldProcessUrl(At.currentRawUrl)){const{id:vr,extractedUrl:Hn,source:Fr,restoredState:kr,extras:mo}=At,pi=new Uo(vr,this.urlSerializer.serialize(Hn),Fr,kr);this.events.next(pi);const fa=zt(this.rootComponentType).snapshot;return this.currentTransition=be={...At,targetSnapshot:fa,urlAfterRedirects:Hn,extras:{...mo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Hn,(0,ne.of)(be)}{const vr="";return this.events.next(new Di(At.id,this.urlSerializer.serialize(At.extractedUrl),vr,Gi.IgnoredByUrlHandlingStrategy)),At.resolve(!1),fe.w}}),(0,Et.M)(At=>{const Dn=new $o(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot);this.events.next(Dn)}),(0,oe.T)(At=>(this.currentTransition=be={...At,guards:wr(At.targetSnapshot,At.currentSnapshot,this.rootContexts)},be)),function Ec(I,w){return(0,Ie.Z)(C=>{const{targetSnapshot:S,currentSnapshot:X,guards:{canActivateChecks:be,canDeactivateChecks:Xe}}=C;return 0===Xe.length&&0===be.length?(0,ne.of)({...C,guardsResult:!0}):function Cu(I,w,C,S){return(0,ae.H)(I).pipe((0,Ie.Z)(X=>function Te(I,w,C,S,X){const be=w&&w.routeConfig?w.routeConfig.canDeactivate:null;if(!be||0===be.length)return(0,ne.of)(!0);const Xe=be.map(Vt=>{const At=J(w)??X,Dn=Br(Vt,At);return ze(function Wc(I){return I&&jn(I.canDeactivate)}(Dn)?Dn.canDeactivate(I,w,C,S):(0,a.N4e)(At,()=>Dn(I,w,C,S))).pipe((0,rt.$)())});return(0,ne.of)(Xe).pipe(sa())}(X.component,X.route,C,w,S)),(0,rt.$)(X=>!0!==X,!0))}(Xe,S,X,I).pipe((0,Ie.Z)(Vt=>Vt&&function ba(I){return"boolean"==typeof I}(Vt)?function Ka(I,w,C,S){return(0,ae.H)(w).pipe(ht(X=>(0,ie.x)(function K(I,w){return null!==I&&w&&w(new Rs(I)),(0,ne.of)(!0)}(X.route.parent,S),function wl(I,w){return null!==I&&w&&w(new cs(I)),(0,ne.of)(!0)}(X.route,S),function R(I,w,C){const S=w[w.length-1],be=w.slice(0,w.length-1).reverse().map(Xe=>function za(I){const w=I.routeConfig?I.routeConfig.canActivateChild:null;return w&&0!==w.length?{node:I,guards:w}:null}(Xe)).filter(Xe=>null!==Xe).map(Xe=>ue(()=>{const Vt=Xe.guards.map(At=>{const Dn=J(Xe.node)??C,sr=Br(At,Dn);return ze(function oa(I){return I&&jn(I.canActivateChild)}(sr)?sr.canActivateChild(S,I):(0,a.N4e)(Dn,()=>sr(S,I))).pipe((0,rt.$)())});return(0,ne.of)(Vt).pipe(sa())}));return(0,ne.of)(be).pipe(sa())}(I,X.path,C),function $(I,w,C){const S=w.routeConfig?w.routeConfig.canActivate:null;if(!S||0===S.length)return(0,ne.of)(!0);const X=S.map(be=>ue(()=>{const Xe=J(w)??C,Vt=Br(be,Xe);return ze(function Ga(I){return I&&jn(I.canActivate)}(Vt)?Vt.canActivate(w,I):(0,a.N4e)(Xe,()=>Vt(w,I))).pipe((0,rt.$)())}));return(0,ne.of)(X).pipe(sa())}(I,X.route,C))),(0,rt.$)(X=>!0!==X,!0))}(S,be,I,w):(0,ne.of)(Vt)),(0,oe.T)(Vt=>({...C,guardsResult:Vt})))})}(this.environmentInjector,At=>this.events.next(At)),(0,Et.M)(At=>{if(be.guardsResult=At.guardsResult,At.guardsResult&&"boolean"!=typeof At.guardsResult)throw Ji(0,At.guardsResult);const Dn=new ss(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects),At.targetSnapshot,!!At.guardsResult);this.events.next(Dn)}),(0,Ye.p)(At=>!!At.guardsResult||(this.cancelNavigationTransition(At,"",ti.GuardRejected),!1)),Ic(At=>{if(At.guards.canActivateChecks.length)return(0,ne.of)(At).pipe((0,Et.M)(Dn=>{const sr=new qo(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(sr)}),(0,Se.n)(Dn=>{let sr=!1;return(0,ne.of)(Dn).pipe(function Ra(I,w){return(0,Ie.Z)(C=>{const{targetSnapshot:S,guards:{canActivateChecks:X}}=C;if(!X.length)return(0,ne.of)(C);const be=new Set(X.map(At=>At.route)),Xe=new Set;for(const At of be)if(!Xe.has(At))for(const Dn of Zc(At))Xe.add(Dn);let Vt=0;return(0,ae.H)(Xe).pipe(ht(At=>be.has(At)?function En(I,w,C,S){const X=I.routeConfig,be=I._resolve;return void 0!==X?.title&&!ri(X)&&(be[gt]=X.title),function Wr(I,w,C,S){const X=Ln(I);if(0===X.length)return(0,ne.of)({});const be={};return(0,ae.H)(X).pipe((0,Ie.Z)(Xe=>function Jc(I,w,C,S){const X=J(w)??S,be=Br(I,X);return ze(be.resolve?be.resolve(w,C):(0,a.N4e)(X,()=>be(w,C)))}(I[Xe],w,C,S).pipe((0,rt.$)(),(0,Et.M)(Vt=>{if(Vt instanceof Zi)throw Ji(new sn,Vt);be[Xe]=Vt}))),Me(1),function Ce(I){return(0,oe.T)(()=>I)}(be),xt(Xe=>Wa(Xe)?fe.w:le(Xe)))}(be,I,w,S).pipe((0,oe.T)(Xe=>(I._resolvedData=Xe,I.data=Qt(I,I.parent,C).resolve,null)))}(At,S,I,w):(At.data=Qt(At,At.parent,I).resolve,(0,ne.of)(void 0))),(0,Et.M)(()=>Vt++),Me(1),(0,Ie.Z)(At=>Vt===Xe.size?(0,ne.of)(C):fe.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,Et.M)({next:()=>sr=!0,complete:()=>{sr||this.cancelNavigationTransition(Dn,"",ti.NoDataFromResolver)}}))}),(0,Et.M)(Dn=>{const sr=new as(Dn.id,this.urlSerializer.serialize(Dn.extractedUrl),this.urlSerializer.serialize(Dn.urlAfterRedirects),Dn.targetSnapshot);this.events.next(sr)}))}),Ic(At=>{const Dn=sr=>{const vr=[];sr.routeConfig?.loadComponent&&!sr.routeConfig._loadedComponent&&vr.push(this.configLoader.loadComponent(sr.routeConfig).pipe((0,Et.M)(Hn=>{sr.component=Hn}),(0,oe.T)(()=>{})));for(const Hn of sr.children)vr.push(...Dn(Hn));return vr};return(0,G.z)(Dn(At.targetSnapshot.root)).pipe((0,it.U)(null),(0,Le.s)(1))}),Ic(()=>this.afterPreactivation()),(0,Se.n)(()=>{const{currentSnapshot:At,targetSnapshot:Dn}=be,sr=this.createViewTransition?.(this.environmentInjector,At.root,Dn.root);return sr?(0,ae.H)(sr).pipe((0,oe.T)(()=>be)):(0,ne.of)(be)}),(0,oe.T)(At=>{const Dn=function Ha(I,w,C){const S=Gs(I,w._root,C?C._root:void 0);return new vt(S,w)}(C.routeReuseStrategy,At.targetSnapshot,At.currentRouterState);return this.currentTransition=be={...At,targetRouterState:Dn},this.currentNavigation.targetRouterState=Dn,be}),(0,Et.M)(()=>{this.events.next(new ni)}),((I,w,C,S)=>(0,oe.T)(X=>(new bi(w,X.targetRouterState,X.currentRouterState,C,S).activate(I),X)))(this.rootContexts,C.routeReuseStrategy,At=>this.events.next(At),this.inputBindingEnabled),(0,Le.s)(1),(0,Et.M)({next:At=>{Xe=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ci(At.id,this.urlSerializer.serialize(At.extractedUrl),this.urlSerializer.serialize(At.urlAfterRedirects))),this.titleStrategy?.updateTitle(At.targetRouterState.snapshot),At.resolve(!0)},complete:()=>{Xe=!0}}),function ft(I){return(0,De.N)((w,C)=>{(0,F.Tg)(I).subscribe((0,q._)(C,()=>C.complete(),Fe.l)),!C.closed&&w.subscribe(C)})}(this.transitionAbortSubject.pipe((0,Et.M)(At=>{throw At}))),ut(()=>{!Xe&&!Vt&&this.cancelNavigationTransition(be,"",ti.SupersededByNewNavigation),this.currentTransition?.id===be.id&&(this.currentNavigation=null,this.currentTransition=null)}),xt(At=>{if(Vt=!0,zo(At))this.events.next(new Ai(be.id,this.urlSerializer.serialize(be.extractedUrl),At.message,At.cancellationCode)),function Do(I){return zo(I)&&Rr(I.url)}(At)?this.events.next(new ro(At.url,At.navigationBehaviorOptions)):be.resolve(!1);else{const Dn=new ws(be.id,this.urlSerializer.serialize(be.extractedUrl),At,be.targetSnapshot??void 0);try{const sr=(0,a.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(Dn));if(sr instanceof Zi){const{message:vr,cancellationCode:Hn}=Ji(0,sr);this.events.next(new Ai(be.id,this.urlSerializer.serialize(be.extractedUrl),vr,Hn)),this.events.next(new ro(sr.redirectTo,sr.navigationBehaviorOptions))}else{this.events.next(Dn);const vr=C.errorHandler(At);be.resolve(!!vr)}}catch(sr){this.options.resolveNavigationPromiseOnError?be.resolve(!1):be.reject(sr)}}return fe.w}))}))}cancelNavigationTransition(C,S,X){const be=new Ai(C.id,this.urlSerializer.serialize(C.extractedUrl),S,X);this.events.next(be),C.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const C=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),S=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return C.toString()!==S?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function Ft(I){return I!==Zr}let tn=(()=>{class I{static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275prov=a.jDH({token:I,factory:()=>(0,a.WQX)(ui),providedIn:"root"})}}return I})();class wn{shouldDetach(w){return!1}store(w,C){}shouldAttach(w){return!1}retrieve(w){return null}shouldReuseRoute(w,C){return w.routeConfig===C.routeConfig}}let ui=(()=>{class I extends wn{static{this.\u0275fac=(()=>{let C;return function(X){return(C||(C=a.xGo(I)))(X||I)}})()}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),lr=(()=>{class I{static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275prov=a.jDH({token:I,factory:()=>(0,a.WQX)(ii),providedIn:"root"})}}return I})(),ii=(()=>{class I extends lr{constructor(){super(...arguments),this.location=(0,a.WQX)(ce.aZ),this.urlSerializer=(0,a.WQX)(xn),this.options=(0,a.WQX)(ps,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,a.WQX)(Zo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new hr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=zt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(C){return this.location.subscribe(S=>{"popstate"===S.type&&C(S.url,S.state)})}handleRouterEvent(C,S){if(C instanceof Uo)this.stateMemento=this.createStateMemento();else if(C instanceof Di)this.rawUrlTree=S.initialUrl;else if(C instanceof Ss){if("eager"===this.urlUpdateStrategy&&!S.extras.skipLocationChange){const X=this.urlHandlingStrategy.merge(S.finalUrl,S.initialUrl);this.setBrowserUrl(S.targetBrowserUrl??X,S)}}else C instanceof ni?(this.currentUrlTree=S.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(S.finalUrl,S.initialUrl),this.routerState=S.targetRouterState,"deferred"===this.urlUpdateStrategy&&!S.extras.skipLocationChange&&this.setBrowserUrl(S.targetBrowserUrl??this.rawUrlTree,S)):C instanceof Ai&&(C.code===ti.GuardRejected||C.code===ti.NoDataFromResolver)?this.restoreHistory(S):C instanceof ws?this.restoreHistory(S,!0):C instanceof ci&&(this.lastSuccessfulId=C.id,this.currentPageId=this.browserPageId)}setBrowserUrl(C,S){const X=C instanceof hr?this.urlSerializer.serialize(C):C;if(this.location.isCurrentPathEqualTo(X)||S.extras.replaceUrl){const Xe={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId)};this.location.replaceState(X,"",Xe)}else{const be={...S.extras.state,...this.generateNgRouterState(S.id,this.browserPageId+1)};this.location.go(X,"",be)}}restoreHistory(C,S=!1){if("computed"===this.canceledNavigationResolution){const be=this.currentPageId-this.browserPageId;0!==be?this.location.historyGo(be):this.currentUrlTree===C.finalUrl&&0===be&&(this.resetState(C),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(C),this.resetUrlToCurrentUrlTree())}resetState(C){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,C.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(C,S){return"computed"===this.canceledNavigationResolution?{navigationId:C,\u0275routerPageId:S}:{navigationId:C}}static{this.\u0275fac=(()=>{let C;return function(X){return(C||(C=a.xGo(I)))(X||I)}})()}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();var dn=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(dn||{});function Kr(I,w){I.events.pipe((0,Ye.p)(C=>C instanceof ci||C instanceof Ai||C instanceof ws||C instanceof Di),(0,oe.T)(C=>C instanceof ci||C instanceof Di?dn.COMPLETE:C instanceof Ai&&(C.code===ti.Redirect||C.code===ti.SupersededByNewNavigation)?dn.REDIRECTING:dn.FAILED),(0,Ye.p)(C=>C!==dn.REDIRECTING),(0,Le.s)(1)).subscribe(()=>{w()})}function Sr(I){throw I}const wi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yi=(()=>{class I{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,a.WQX)(a.H3F),this.stateManager=(0,a.WQX)(lr),this.options=(0,a.WQX)(ps,{optional:!0})||{},this.pendingTasks=(0,a.WQX)(a.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,a.WQX)(je),this.urlSerializer=(0,a.WQX)(xn),this.location=(0,a.WQX)(ce.aZ),this.urlHandlingStrategy=(0,a.WQX)(Zo),this._events=new we.B,this.errorHandler=this.options.errorHandler||Sr,this.navigated=!1,this.routeReuseStrategy=(0,a.WQX)(tn),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,a.WQX)(Xs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,a.WQX)(Qi,{optional:!0}),this.eventsSubscription=new xe.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:C=>{this.console.warn(C)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const C=this.navigationTransitions.events.subscribe(S=>{try{const X=this.navigationTransitions.currentTransition,be=this.navigationTransitions.currentNavigation;if(null!==X&&null!==be)if(this.stateManager.handleRouterEvent(S,be),S instanceof Ai&&S.code!==ti.Redirect&&S.code!==ti.SupersededByNewNavigation)this.navigated=!0;else if(S instanceof ci)this.navigated=!0;else if(S instanceof ro){const Xe=S.navigationBehaviorOptions,Vt=this.urlHandlingStrategy.merge(S.url,X.currentRawUrl),At={browserUrl:X.extras.browserUrl,info:X.extras.info,skipLocationChange:X.extras.skipLocationChange,replaceUrl:X.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Ft(X.source),...Xe};this.scheduleNavigation(Vt,Zr,null,At,{resolve:X.resolve,reject:X.reject,promise:X.promise})}(function Ko(I){return!(I instanceof ni||I instanceof ro)})(S)&&this._events.next(S)}catch(X){this.navigationTransitions.transitionAbortSubject.next(X)}});this.eventsSubscription.add(C)}resetRootComponentType(C){this.routerState.root.component=C,this.navigationTransitions.rootComponentType=C}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((C,S)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(C,"popstate",S)},0)})}navigateToSyncWithBrowser(C,S,X){const be={replaceUrl:!0},Xe=X?.navigationId?X:null;if(X){const At={...X};delete At.navigationId,delete At.\u0275routerPageId,0!==Object.keys(At).length&&(be.state=At)}const Vt=this.parseUrl(C);this.scheduleNavigation(Vt,S,Xe,be)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(C){this.config=C.map(Cr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(C,S={}){const{relativeTo:X,queryParams:be,fragment:Xe,queryParamsHandling:Vt,preserveFragment:At}=S,Dn=At?this.currentUrlTree.fragment:Xe;let vr,sr=null;switch(Vt??this.options.defaultQueryParamsHandling){case"merge":sr={...this.currentUrlTree.queryParams,...be};break;case"preserve":sr=this.currentUrlTree.queryParams;break;default:sr=be||null}null!==sr&&(sr=this.removeEmptyProps(sr));try{vr=Vr(X?X.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof C[0]||"/"!==C[0][0])&&(C=[]),vr=this.currentUrlTree.root}return Ri(vr,C,sr,Dn??null)}navigateByUrl(C,S={skipLocationChange:!1}){const X=Rr(C)?C:this.parseUrl(C),be=this.urlHandlingStrategy.merge(X,this.rawUrlTree);return this.scheduleNavigation(be,Zr,null,S)}navigate(C,S={skipLocationChange:!1}){return function eo(I){for(let w=0;w<I.length;w++)if(null==I[w])throw new a.wOt(4008,!1)}(C),this.navigateByUrl(this.createUrlTree(C,S),S)}serializeUrl(C){return this.urlSerializer.serialize(C)}parseUrl(C){try{return this.urlSerializer.parse(C)}catch{return this.urlSerializer.parse("/")}}isActive(C,S){let X;if(X=!0===S?{...wi}:!1===S?{...Qs}:S,Rr(C))return In(this.currentUrlTree,C,X);const be=this.parseUrl(C);return In(this.currentUrlTree,be,X)}removeEmptyProps(C){return Object.entries(C).reduce((S,[X,be])=>(null!=be&&(S[X]=be),S),{})}scheduleNavigation(C,S,X,be,Xe){if(this.disposed)return Promise.resolve(!1);let Vt,At,Dn;Xe?(Vt=Xe.resolve,At=Xe.reject,Dn=Xe.promise):Dn=new Promise((vr,Hn)=>{Vt=vr,At=Hn});const sr=this.pendingTasks.add();return Kr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(sr))}),this.navigationTransitions.handleNavigationRequest({source:S,restoredState:X,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:C,extras:be,resolve:Vt,reject:At,promise:Dn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Dn.catch(vr=>Promise.reject(vr))}static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),ho=(()=>{class I{constructor(C,S,X,be,Xe,Vt){this.router=C,this.route=S,this.tabIndexAttribute=X,this.renderer=be,this.el=Xe,this.locationStrategy=Vt,this.href=null,this.onChanges=new we.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const At=Xe.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===At||"area"===At,this.isAnchorElement?this.subscription=C.events.subscribe(Dn=>{Dn instanceof ci&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(C){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",C)}ngOnChanges(C){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(C){null==C?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Rr(C)||Array.isArray(C)?C:[C],this.setTabIndexIfNotOnNativeEl("0"))}onClick(C,S,X,be,Xe){const Vt=this.urlTree;return!!(null===Vt||this.isAnchorElement&&(0!==C||S||X||be||Xe||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Vt,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const C=this.urlTree;this.href=null!==C&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(C)):null;const S=null===this.href?null:(0,a.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",S)}applyAttributeValue(C,S){const X=this.renderer,be=this.el.nativeElement;null!==S?X.setAttribute(be,C,S):X.removeAttribute(be,C)}get urlTree(){return null===this.routerLinkInput?null:Rr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(S){return new(S||I)(a.rXU(yi),a.rXU(Wt),a.kS0("tabindex"),a.rXU(a.sFG),a.rXU(a.aKT),a.rXU(ce.hb))}}static{this.\u0275dir=a.FsC({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(S,X){1&S&&a.bIt("click",function(Xe){return X.onClick(Xe.button,Xe.ctrlKey,Xe.shiftKey,Xe.altKey,Xe.metaKey)}),2&S&&a.BMQ("target",X.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",a.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",a.L39],replaceUrl:[2,"replaceUrl","replaceUrl",a.L39],routerLink:"routerLink"},standalone:!0,features:[a.GFd,a.OA$]})}}return I})();class Dc{}let Ya=(()=>{class I{preload(C,S){return S().pipe(xt(()=>(0,ne.of)(null)))}static{this.\u0275fac=function(S){return new(S||I)}}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),ur=(()=>{class I{constructor(C,S,X,be,Xe){this.router=C,this.injector=X,this.preloadingStrategy=be,this.loader=Xe}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ye.p)(C=>C instanceof ci),ht(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(C,S){const X=[];for(const be of S){be.providers&&!be._injector&&(be._injector=(0,a.Ol2)(be.providers,C,`Route: ${be.path}`));const Xe=be._injector??C,Vt=be._loadedInjector??Xe;(be.loadChildren&&!be._loadedRoutes&&void 0===be.canLoad||be.loadComponent&&!be._loadedComponent)&&X.push(this.preloadConfig(Xe,be)),(be.children||be._loadedRoutes)&&X.push(this.processRoutes(Vt,be.children??be._loadedRoutes))}return(0,ae.H)(X).pipe((0,We.U)())}preloadConfig(C,S){return this.preloadingStrategy.preload(S,()=>{let X;X=S.loadChildren&&void 0===S.canLoad?this.loader.loadChildren(C,S):(0,ne.of)(null);const be=X.pipe((0,Ie.Z)(Xe=>null===Xe?(0,ne.of)(void 0):(S._loadedRoutes=Xe.routes,S._loadedInjector=Xe.injector,this.processRoutes(Xe.injector??C,Xe.routes))));if(S.loadComponent&&!S._loadedComponent){const Xe=this.loader.loadComponent(S);return(0,ae.H)([be,Xe]).pipe((0,We.U)())}return be})}static{this.\u0275fac=function(S){return new(S||I)(a.KVO(yi),a.KVO(a.Ql9),a.KVO(a.uvJ),a.KVO(Dc),a.KVO(qs))}}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const Ps=new a.nKC("");let Sl=(()=>{class I{constructor(C,S,X,be,Xe={}){this.urlSerializer=C,this.transitions=S,this.viewportScroller=X,this.zone=be,this.options=Xe,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Xe.scrollPositionRestoration||="disabled",Xe.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof Uo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=C.navigationTrigger,this.restoredId=C.restoredState?C.restoredState.navigationId:0):C instanceof ci?(this.lastId=C.id,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.urlAfterRedirects).fragment)):C instanceof Di&&C.code===Gi.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(C,this.urlSerializer.parse(C.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(C=>{C instanceof ls&&(C.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(C.position):C.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(C.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(C,S){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ls(C,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(S){a.QTQ()}}static{this.\u0275prov=a.jDH({token:I,factory:I.\u0275fac})}}return I})();function vs(I,w){return{\u0275kind:I,\u0275providers:w}}function Mo(){const I=(0,a.WQX)(a.zZn);return w=>{const C=I.get(a.o8S);if(w!==C.components[0])return;const S=I.get(yi),X=I.get(Ns);1===I.get(tl)&&S.initialNavigation(),I.get(ys,null,a.$GK.Optional)?.setUpPreloading(),I.get(Ps,null,a.$GK.Optional)?.init(),S.resetRootComponentType(C.componentTypes[0]),X.closed||(X.next(),X.complete(),X.unsubscribe())}}const Ns=new a.nKC("",{factory:()=>new we.B}),tl=new a.nKC("",{providedIn:"root",factory:()=>1}),ys=new a.nKC("");function nl(I){return vs(0,[{provide:ys,useExisting:ur},{provide:Dc,useExisting:I}])}function da(I){return vs(9,[{provide:Ac,useValue:pe},{provide:T,useValue:{skipNextTransition:!!I?.skipInitialTransition,...I}}])}const _s=new a.nKC("ROUTER_FORROOT_GUARD"),Ml=[ce.aZ,{provide:xn,useClass:sn},yi,Pe,{provide:Wt,useFactory:function Za(I){return I.routerState.root},deps:[yi]},qs,[]];let Tc=(()=>{class I{constructor(C){}static forRoot(C,S){return{ngModule:I,providers:[Ml,[],{provide:Xs,multi:!0,useValue:C},{provide:_s,useFactory:bu,deps:[[yi,new a.Xx1,new a.kdw]]},{provide:ps,useValue:S||{}},S?.useHash?{provide:ce.hb,useClass:ce.fw}:{provide:ce.hb,useClass:ce.Sm},{provide:Ps,useFactory:()=>{const I=(0,a.WQX)(ce.Xr),w=(0,a.WQX)(a.SKi),C=(0,a.WQX)(ps),S=(0,a.WQX)(je),X=(0,a.WQX)(xn);return C.scrollOffset&&I.setOffset(C.scrollOffset),new Sl(X,S,I,w,C)}},S?.preloadingStrategy?nl(S.preloadingStrategy).\u0275providers:[],S?.initialNavigation?ha(S):[],S?.bindToComponentInputs?vs(8,[vi,{provide:Qi,useExisting:vi}]).\u0275providers:[],S?.enableViewTransitions?da().\u0275providers:[],[{provide:Fs,useFactory:Mo},{provide:a.iLQ,multi:!0,useExisting:Fs}]]}}static forChild(C){return{ngModule:I,providers:[{provide:Xs,multi:!0,useValue:C}]}}static{this.\u0275fac=function(S){return new(S||I)(a.KVO(_s,8))}}static{this.\u0275mod=a.$C({type:I})}static{this.\u0275inj=a.G2t({})}}return I})();function bu(I){return"guarded"}function ha(I){return["disabled"===I.initialNavigation?vs(3,[{provide:a.hnV,multi:!0,useFactory:()=>{const w=(0,a.WQX)(yi);return()=>{w.setUpLocationChangeListener()}}},{provide:tl,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?vs(2,[{provide:tl,useValue:0},{provide:a.hnV,multi:!0,deps:[a.zZn],useFactory:w=>{const C=w.get(ce.hj,Promise.resolve());return()=>C.then(()=>new Promise(S=>{const X=w.get(yi),be=w.get(Ns);Kr(X,()=>{S(!0)}),w.get(je).afterPreactivation=()=>(S(!0),be.closed?(0,ne.of)(void 0):be),X.initialNavigation()}))}}]).\u0275providers:[]]}const Fs=new a.nKC("")},3345:(St,Ke,b)=>{"use strict";b.d(Ke,{A:()=>fe});var a=b(1076),x=b(1362),te=b(7852),B=b(8041);class ae{constructor(De,q){this._delegate=De,this.firebase=q,(0,te._addComponent)(De,new x.uA("app-compat",()=>this,"PUBLIC")),this.container=De.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(De){this._delegate.automaticDataCollectionEnabled=De}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(De=>{this._delegate.checkDestroyed(),De()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,te.deleteApp)(this._delegate)))}_getService(De,q=te._DEFAULT_ENTRY_NAME){var ve;this._delegate.checkDestroyed();const W=this._delegate.container.getProvider(De);return!W.isInitialized()&&"EXPLICIT"===(null===(ve=W.getComponent())||void 0===ve?void 0:ve.instantiationMode)&&W.initialize(),W.getImmediate({identifier:q})}_removeServiceInstance(De,q=te._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(De).clearInstance(q)}_addComponent(De){(0,te._addComponent)(this._delegate,De)}_addOrOverwriteComponent(De){(0,te._addOrOverwriteComponent)(this._delegate,De)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new a.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ie=function de(){const xe=function G(xe){const De={},q={__esModule:!0,initializeApp:function we(Le,Re={}){const Ye=te.initializeApp(Le,Re);if((0,a.gR)(De,Ye.name))return De[Ye.name];const Ie=new xe(Ye,q);return De[Ye.name]=Ie,Ie},app:W,registerVersion:te.registerVersion,setLogLevel:te.setLogLevel,onLog:te.onLog,apps:null,SDK_VERSION:te.SDK_VERSION,INTERNAL:{registerComponent:function oe(Le){const Re=Le.name,Ye=Re.replace("-compat","");if(te._registerComponent(Le)&&"PUBLIC"===Le.type){const Ie=(rt=W())=>{if("function"!=typeof rt[Ye])throw ge.create("invalid-app-argument",{appName:Re});return rt[Ye]()};void 0!==Le.serviceProps&&(0,a.zw)(Ie,Le.serviceProps),q[Ye]=Ie,xe.prototype[Ye]=function(...rt){return this._getService.bind(this,Re).apply(this,Le.multipleInstances?rt:[])}}return"PUBLIC"===Le.type?q[Ye]:null},removeApp:function ve(Le){delete De[Le]},useAsService:function Se(Le,Re){return"serverAuth"===Re?null:Re},modularAPIs:te}};function W(Le){if(!(0,a.gR)(De,Le=Le||te._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:Le});return De[Le]}return q.default=q,Object.defineProperty(q,"apps",{get:function ce(){return Object.keys(De).map(Le=>De[Le])}}),W.App=xe,q}(ae);return xe.INTERNAL=Object.assign(Object.assign({},xe.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function De(q){(0,a.zw)(xe,q)},createSubscribe:a.tD,ErrorFactory:a.FA,deepExtend:a.zw}),xe}(),F=new B.Vy("@firebase/app-compat");try{const xe=(0,a.mS)();if(void 0!==xe.firebase){F.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const De=xe.firebase.SDK_VERSION;De&&De.indexOf("LITE")>=0&&F.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const fe=ie;!function le(xe){(0,te.registerVersion)("@firebase/app-compat","0.2.41",xe)}()},7852:(St,Ke,b)=>{"use strict";b.r(Ke),b.d(Ke,{FirebaseError:()=>B.g,SDK_VERSION:()=>an,_DEFAULT_ENTRY_NAME:()=>Sn,_addComponent:()=>hr,_addOrOverwriteComponent:()=>Wn,_apps:()=>Ut,_clearComponents:()=>sn,_components:()=>dr,_getProvider:()=>Mn,_isFirebaseApp:()=>fi,_isFirebaseServerApp:()=>xn,_registerComponent:()=>Er,_removeServiceInstance:()=>Zn,_serverApps:()=>gr,deleteApp:()=>Ge,getApp:()=>Mt,getApps:()=>bt,initializeApp:()=>Hr,initializeServerApp:()=>qr,onLog:()=>Be,registerVersion:()=>$t,setLogLevel:()=>Ue});var a=b(467),x=b(1362),te=b(8041),B=b(1076);const ae=(_e,he)=>he.some(H=>_e instanceof H);let ne,ge;const ie=new WeakMap,F=new WeakMap,ue=new WeakMap,z=new WeakMap,le=new WeakMap;let De={get(_e,he,H){if(_e instanceof IDBTransaction){if("done"===he)return F.get(_e);if("objectStoreNames"===he)return _e.objectStoreNames||ue.get(_e);if("store"===he)return H.objectStoreNames[1]?void 0:H.objectStore(H.objectStoreNames[0])}return we(_e[he])},set:(_e,he,H)=>(_e[he]=H,!0),has:(_e,he)=>_e instanceof IDBTransaction&&("done"===he||"store"===he)||he in _e};function W(_e){return"function"==typeof _e?function ve(_e){return _e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function de(){return ge||(ge=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(_e)?function(...he){return _e.apply(ce(this),he),we(ie.get(this))}:function(...he){return we(_e.apply(ce(this),he))}:function(he,...H){const ye=_e.call(ce(this),he,...H);return ue.set(ye,he.sort?he.sort():[he]),we(ye)}}(_e):(_e instanceof IDBTransaction&&function xe(_e){if(F.has(_e))return;const he=new Promise((H,ye)=>{const Ze=()=>{_e.removeEventListener("complete",Ne),_e.removeEventListener("error",at),_e.removeEventListener("abort",at)},Ne=()=>{H(),Ze()},at=()=>{ye(_e.error||new DOMException("AbortError","AbortError")),Ze()};_e.addEventListener("complete",Ne),_e.addEventListener("error",at),_e.addEventListener("abort",at)});F.set(_e,he)}(_e),ae(_e,function G(){return ne||(ne=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(_e,De):_e)}function we(_e){if(_e instanceof IDBRequest)return function fe(_e){const he=new Promise((H,ye)=>{const Ze=()=>{_e.removeEventListener("success",Ne),_e.removeEventListener("error",at)},Ne=()=>{H(we(_e.result)),Ze()},at=()=>{ye(_e.error),Ze()};_e.addEventListener("success",Ne),_e.addEventListener("error",at)});return he.then(H=>{H instanceof IDBCursor&&ie.set(H,_e)}).catch(()=>{}),le.set(he,_e),he}(_e);if(z.has(_e))return z.get(_e);const he=W(_e);return he!==_e&&(z.set(_e,he),le.set(he,_e)),he}const ce=_e=>le.get(_e),Le=["get","getKey","getAll","getAllKeys","count"],Re=["put","add","delete","clear"],Ye=new Map;function Ie(_e,he){if(!(_e instanceof IDBDatabase)||he in _e||"string"!=typeof he)return;if(Ye.get(he))return Ye.get(he);const H=he.replace(/FromIndex$/,""),ye=he!==H,Ze=Re.includes(H);if(!(H in(ye?IDBIndex:IDBObjectStore).prototype)||!Ze&&!Le.includes(H))return;const Ne=function(){var at=(0,a.A)(function*(Lt,...ln){const Fn=this.transaction(Lt,Ze?"readwrite":"readonly");let fr=Fn.store;return ye&&(fr=fr.index(ln.shift())),(yield Promise.all([fr[H](...ln),Ze&&Fn.done]))[0]});return function(ln){return at.apply(this,arguments)}}();return Ye.set(he,Ne),Ne}!function q(_e){De=_e(De)}(_e=>({..._e,get:(he,H,ye)=>Ie(he,H)||_e.get(he,H,ye),has:(he,H)=>!!Ie(he,H)||_e.has(he,H)}));class rt{constructor(he){this.container=he}getPlatformInfoString(){return this.container.getProviders().map(H=>{if(function ht(_e){const he=_e.getComponent();return"VERSION"===he?.type}(H)){const ye=H.getImmediate();return`${ye.library}/${ye.version}`}return null}).filter(H=>H).join(" ")}}const Et="@firebase/app",xt="0.10.11",jt=new te.Vy("@firebase/app"),it="@firebase/app-compat",Me="@firebase/analytics-compat",V="@firebase/analytics",j="@firebase/app-check-compat",Z="@firebase/app-check",Ce="@firebase/auth",ut="@firebase/auth-compat",Fe="@firebase/database",ft="@firebase/database-compat",We="@firebase/functions",en="@firebase/functions-compat",Ot="@firebase/installations",gt="@firebase/installations-compat",Jt="@firebase/messaging",yn="@firebase/messaging-compat",fn="@firebase/performance",Gt="@firebase/performance-compat",Ht="@firebase/remote-config",Ln="@firebase/remote-config-compat",Bt="@firebase/storage",He="@firebase/storage-compat",ze="@firebase/firestore",_t="@firebase/vertexai-preview",Zt="@firebase/firestore-compat",In="firebase",Sn="[DEFAULT]",mn={[Et]:"fire-core",[it]:"fire-core-compat",[V]:"fire-analytics",[Me]:"fire-analytics-compat",[Z]:"fire-app-check",[j]:"fire-app-check-compat",[Ce]:"fire-auth",[ut]:"fire-auth-compat",[Fe]:"fire-rtdb",[ft]:"fire-rtdb-compat",[We]:"fire-fn",[en]:"fire-fn-compat",[Ot]:"fire-iid",[gt]:"fire-iid-compat",[Jt]:"fire-fcm",[yn]:"fire-fcm-compat",[fn]:"fire-perf",[Gt]:"fire-perf-compat",[Ht]:"fire-rc",[Ln]:"fire-rc-compat",[Bt]:"fire-gcs",[He]:"fire-gcs-compat",[ze]:"fire-fst",[Zt]:"fire-fst-compat",[_t]:"fire-vertex","fire-js":"fire-js",[In]:"fire-js-all"},Ut=new Map,gr=new Map,dr=new Map;function hr(_e,he){try{_e.container.addComponent(he)}catch(H){jt.debug(`Component ${he.name} failed to register with FirebaseApp ${_e.name}`,H)}}function Wn(_e,he){_e.container.addOrOverwriteComponent(he)}function Er(_e){const he=_e.name;if(dr.has(he))return jt.debug(`There were multiple attempts to register component ${he}.`),!1;dr.set(he,_e);for(const H of Ut.values())hr(H,_e);for(const H of gr.values())hr(H,_e);return!0}function Mn(_e,he){const H=_e.container.getProvider("heartbeat").getImmediate({optional:!0});return H&&H.triggerHeartbeat(),_e.container.getProvider(he)}function Zn(_e,he,H=Sn){Mn(_e,he).clearInstance(H)}function fi(_e){return void 0!==_e.options}function xn(_e){return void 0!==_e.settings}function sn(){dr.clear()}const Pn=new B.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Xr{constructor(he,H,ye){this._isDeleted=!1,this._options=Object.assign({},he),this._config=Object.assign({},H),this._name=H.name,this._automaticDataCollectionEnabled=H.automaticDataCollectionEnabled,this._container=ye,this.container.addComponent(new x.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(he){this.checkDestroyed(),this._automaticDataCollectionEnabled=he}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(he){this._isDeleted=he}checkDestroyed(){if(this.isDeleted)throw Pn.create("app-deleted",{appName:this._name})}}class ar extends Xr{constructor(he,H,ye,Ze){const Ne=void 0!==H.automaticDataCollectionEnabled&&H.automaticDataCollectionEnabled,at={name:ye,automaticDataCollectionEnabled:Ne};super(void 0!==he.apiKey?he:he.options,at,Ze),this._serverConfig=Object.assign({automaticDataCollectionEnabled:Ne},H),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,H.releaseOnDeref=void 0,$t(Et,xt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(he){this.isDeleted||(this._refCount++,void 0!==he&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(he,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Ge(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Pn.create("server-app-deleted")}}const an="10.13.2";function Hr(_e,he={}){let H=_e;"object"!=typeof he&&(he={name:he});const ye=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},he),Ze=ye.name;if("string"!=typeof Ze||!Ze)throw Pn.create("bad-app-name",{appName:String(Ze)});if(H||(H=(0,B.T9)()),!H)throw Pn.create("no-options");const Ne=Ut.get(Ze);if(Ne){if((0,B.bD)(H,Ne.options)&&(0,B.bD)(ye,Ne.config))return Ne;throw Pn.create("duplicate-app",{appName:Ze})}const at=new x.h1(Ze);for(const ln of dr.values())at.addComponent(ln);const Lt=new Xr(H,ye,at);return Ut.set(Ze,Lt),Lt}function qr(_e,he){if((0,B.Bd)()&&!(0,B.p7)())throw Pn.create("invalid-server-app-environment");let H;void 0===he.automaticDataCollectionEnabled&&(he.automaticDataCollectionEnabled=!1),H=fi(_e)?_e.options:_e;const ye=Object.assign(Object.assign({},he),H);if(void 0!==ye.releaseOnDeref&&delete ye.releaseOnDeref,void 0!==he.releaseOnDeref&&typeof FinalizationRegistry>"u")throw Pn.create("finalization-registry-not-supported",{});const Ne=""+(Fn=JSON.stringify(ye),[...Fn].reduce((fr,Xn)=>Math.imul(31,fr)+Xn.charCodeAt(0)|0,0)),at=gr.get(Ne);var Fn;if(at)return at.incRefCount(he.releaseOnDeref),at;const Lt=new x.h1(Ne);for(const Fn of dr.values())Lt.addComponent(Fn);const ln=new ar(H,he,Ne,Lt);return gr.set(Ne,ln),ln}function Mt(_e=Sn){const he=Ut.get(_e);if(!he&&_e===Sn&&(0,B.T9)())return Hr();if(!he)throw Pn.create("no-app",{appName:_e});return he}function bt(){return Array.from(Ut.values())}function Ge(_e){return mt.apply(this,arguments)}function mt(){return(mt=(0,a.A)(function*(_e){let he=!1;const H=_e.name;Ut.has(H)?(he=!0,Ut.delete(H)):gr.has(H)&&_e.decRefCount()<=0&&(gr.delete(H),he=!0),he&&(yield Promise.all(_e.container.getProviders().map(ye=>ye.delete())),_e.isDeleted=!0)})).apply(this,arguments)}function $t(_e,he,H){var ye;let Ze=null!==(ye=mn[_e])&&void 0!==ye?ye:_e;H&&(Ze+=`-${H}`);const Ne=Ze.match(/\s|\//),at=he.match(/\s|\//);if(Ne||at){const Lt=[`Unable to register library "${Ze}" with version "${he}":`];return Ne&&Lt.push(`library name "${Ze}" contains illegal characters (whitespace or "/")`),Ne&&at&&Lt.push("and"),at&&Lt.push(`version name "${he}" contains illegal characters (whitespace or "/")`),void jt.warn(Lt.join(" "))}Er(new x.uA(`${Ze}-version`,()=>({library:Ze,version:he}),"VERSION"))}function Be(_e,he){if(null!==_e&&"function"!=typeof _e)throw Pn.create("invalid-log-argument");(0,te.Ey)(_e,he)}function Ue(_e){(0,te.He)(_e)}const Qe="firebase-heartbeat-database",Rt=1,yt="firebase-heartbeat-store";let _n=null;function pn(){return _n||(_n=function oe(_e,he,{blocked:H,upgrade:ye,blocking:Ze,terminated:Ne}={}){const at=indexedDB.open(_e,he),Lt=we(at);return ye&&at.addEventListener("upgradeneeded",ln=>{ye(we(at.result),ln.oldVersion,ln.newVersion,we(at.transaction),ln)}),H&&at.addEventListener("blocked",ln=>H(ln.oldVersion,ln.newVersion,ln)),Lt.then(ln=>{Ne&&ln.addEventListener("close",()=>Ne()),Ze&&ln.addEventListener("versionchange",Fn=>Ze(Fn.oldVersion,Fn.newVersion,Fn))}).catch(()=>{}),Lt}(Qe,Rt,{upgrade:(_e,he)=>{if(0===he)try{_e.createObjectStore(yt)}catch(H){console.warn(H)}}}).catch(_e=>{throw Pn.create("idb-open",{originalErrorMessage:_e.message})})),_n}function pt(){return(pt=(0,a.A)(function*(_e){try{const H=(yield pn()).transaction(yt),ye=yield H.objectStore(yt).get($n(_e));return yield H.done,ye}catch(he){if(he instanceof B.g)jt.warn(he.message);else{const H=Pn.create("idb-get",{originalErrorMessage:he?.message});jt.warn(H.message)}}})).apply(this,arguments)}function nr(_e,he){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.A)(function*(_e,he){try{const ye=(yield pn()).transaction(yt,"readwrite");yield ye.objectStore(yt).put(he,$n(_e)),yield ye.done}catch(H){if(H instanceof B.g)jt.warn(H.message);else{const ye=Pn.create("idb-set",{originalErrorMessage:H?.message});jt.warn(ye.message)}}})).apply(this,arguments)}function $n(_e){return`${_e.name}!${_e.options.appId}`}class Vr{constructor(he){this.container=he,this._heartbeatsCache=null;const H=this.container.getProvider("app").getImmediate();this._storage=new Ci(H),this._heartbeatsCachePromise=this._storage.read().then(ye=>(this._heartbeatsCache=ye,ye))}triggerHeartbeat(){var he=this;return(0,a.A)(function*(){var H,ye;try{const Ne=he.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=Ri();return null==(null===(H=he._heartbeatsCache)||void 0===H?void 0:H.heartbeats)&&(he._heartbeatsCache=yield he._heartbeatsCachePromise,null==(null===(ye=he._heartbeatsCache)||void 0===ye?void 0:ye.heartbeats))||he._heartbeatsCache.lastSentHeartbeatDate===at||he._heartbeatsCache.heartbeats.some(Lt=>Lt.date===at)?void 0:(he._heartbeatsCache.heartbeats.push({date:at,agent:Ne}),he._heartbeatsCache.heartbeats=he._heartbeatsCache.heartbeats.filter(Lt=>{const ln=new Date(Lt.date).valueOf();return Date.now()-ln<=2592e6}),he._storage.overwrite(he._heartbeatsCache))}catch(Ze){jt.warn(Ze)}})()}getHeartbeatsHeader(){var he=this;return(0,a.A)(function*(){var H;try{if(null===he._heartbeatsCache&&(yield he._heartbeatsCachePromise),null==(null===(H=he._heartbeatsCache)||void 0===H?void 0:H.heartbeats)||0===he._heartbeatsCache.heartbeats.length)return"";const ye=Ri(),{heartbeatsToSend:Ze,unsentEntries:Ne}=function zr(_e,he=1024){const H=[];let ye=_e.slice();for(const Ze of _e){const Ne=H.find(at=>at.agent===Ze.agent);if(Ne){if(Ne.dates.push(Ze.date),Pi(H)>he){Ne.dates.pop();break}}else if(H.push({agent:Ze.agent,dates:[Ze.date]}),Pi(H)>he){H.pop();break}ye=ye.slice(1)}return{heartbeatsToSend:H,unsentEntries:ye}}(he._heartbeatsCache.heartbeats),at=(0,B.Uj)(JSON.stringify({version:2,heartbeats:Ze}));return he._heartbeatsCache.lastSentHeartbeatDate=ye,Ne.length>0?(he._heartbeatsCache.heartbeats=Ne,yield he._storage.overwrite(he._heartbeatsCache)):(he._heartbeatsCache.heartbeats=[],he._storage.overwrite(he._heartbeatsCache)),at}catch(ye){return jt.warn(ye),""}})()}}function Ri(){return(new Date).toISOString().substring(0,10)}class Ci{constructor(he){this.app=he,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,a.A)(function*(){return!!(0,B.zW)()&&(0,B.eX)().then(()=>!0).catch(()=>!1)})()}read(){var he=this;return(0,a.A)(function*(){if(yield he._canUseIndexedDBPromise){const ye=yield function Dr(_e){return pt.apply(this,arguments)}(he.app);return ye?.heartbeats?ye:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(he){var H=this;return(0,a.A)(function*(){var ye;if(yield H._canUseIndexedDBPromise){const Ne=yield H.read();return nr(H.app,{lastSentHeartbeatDate:null!==(ye=he.lastSentHeartbeatDate)&&void 0!==ye?ye:Ne.lastSentHeartbeatDate,heartbeats:he.heartbeats})}})()}add(he){var H=this;return(0,a.A)(function*(){var ye;if(yield H._canUseIndexedDBPromise){const Ne=yield H.read();return nr(H.app,{lastSentHeartbeatDate:null!==(ye=he.lastSentHeartbeatDate)&&void 0!==ye?ye:Ne.lastSentHeartbeatDate,heartbeats:[...Ne.heartbeats,...he.heartbeats]})}})()}}function Pi(_e){return(0,B.Uj)(JSON.stringify({version:2,heartbeats:_e})).length}!function Ui(_e){Er(new x.uA("platform-logger",he=>new rt(he),"PRIVATE")),Er(new x.uA("heartbeat",he=>new Vr(he),"PRIVATE")),$t(Et,xt,_e),$t(Et,xt,"esm2017"),$t("fire-js","")}("")},1362:(St,Ke,b)=>{"use strict";b.d(Ke,{h1:()=>G,uA:()=>te});var a=b(467),x=b(1076);class te{constructor(ie,F,ue){this.name=ie,this.instanceFactory=F,this.type=ue,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ie){return this.instantiationMode=ie,this}setMultipleInstances(ie){return this.multipleInstances=ie,this}setServiceProps(ie){return this.serviceProps=ie,this}setInstanceCreatedCallback(ie){return this.onInstanceCreated=ie,this}}const B="[DEFAULT]";class ae{constructor(ie,F){this.name=ie,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ie){const F=this.normalizeInstanceIdentifier(ie);if(!this.instancesDeferred.has(F)){const ue=new x.cY;if(this.instancesDeferred.set(F,ue),this.isInitialized(F)||this.shouldAutoInitialize())try{const z=this.getOrInitializeService({instanceIdentifier:F});z&&ue.resolve(z)}catch{}}return this.instancesDeferred.get(F).promise}getImmediate(ie){var F;const ue=this.normalizeInstanceIdentifier(ie?.identifier),z=null!==(F=ie?.optional)&&void 0!==F&&F;if(!this.isInitialized(ue)&&!this.shouldAutoInitialize()){if(z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ue})}catch(le){if(z)return null;throw le}}getComponent(){return this.component}setComponent(ie){if(ie.name!==this.name)throw Error(`Mismatching Component ${ie.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ie,this.shouldAutoInitialize()){if(function ge(de){return"EAGER"===de.instantiationMode}(ie))try{this.getOrInitializeService({instanceIdentifier:B})}catch{}for(const[F,ue]of this.instancesDeferred.entries()){const z=this.normalizeInstanceIdentifier(F);try{const le=this.getOrInitializeService({instanceIdentifier:z});ue.resolve(le)}catch{}}}}clearInstance(ie=B){this.instancesDeferred.delete(ie),this.instancesOptions.delete(ie),this.instances.delete(ie)}delete(){var ie=this;return(0,a.A)(function*(){const F=Array.from(ie.instances.values());yield Promise.all([...F.filter(ue=>"INTERNAL"in ue).map(ue=>ue.INTERNAL.delete()),...F.filter(ue=>"_delete"in ue).map(ue=>ue._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ie=B){return this.instances.has(ie)}getOptions(ie=B){return this.instancesOptions.get(ie)||{}}initialize(ie={}){const{options:F={}}=ie,ue=this.normalizeInstanceIdentifier(ie.instanceIdentifier);if(this.isInitialized(ue))throw Error(`${this.name}(${ue}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const z=this.getOrInitializeService({instanceIdentifier:ue,options:F});for(const[le,fe]of this.instancesDeferred.entries())ue===this.normalizeInstanceIdentifier(le)&&fe.resolve(z);return z}onInit(ie,F){var ue;const z=this.normalizeInstanceIdentifier(F),le=null!==(ue=this.onInitCallbacks.get(z))&&void 0!==ue?ue:new Set;le.add(ie),this.onInitCallbacks.set(z,le);const fe=this.instances.get(z);return fe&&ie(fe,z),()=>{le.delete(ie)}}invokeOnInitCallbacks(ie,F){const ue=this.onInitCallbacks.get(F);if(ue)for(const z of ue)try{z(ie,F)}catch{}}getOrInitializeService({instanceIdentifier:ie,options:F={}}){let ue=this.instances.get(ie);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:(de=ie,de===B?void 0:de),options:F}),this.instances.set(ie,ue),this.instancesOptions.set(ie,F),this.invokeOnInitCallbacks(ue,ie),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ie,ue)}catch{}var de;return ue||null}normalizeInstanceIdentifier(ie=B){return this.component?this.component.multipleInstances?ie:B:ie}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class G{constructor(ie){this.name=ie,this.providers=new Map}addComponent(ie){const F=this.getProvider(ie.name);if(F.isComponentSet())throw new Error(`Component ${ie.name} has already been registered with ${this.name}`);F.setComponent(ie)}addOrOverwriteComponent(ie){this.getProvider(ie.name).isComponentSet()&&this.providers.delete(ie.name),this.addComponent(ie)}getProvider(ie){if(this.providers.has(ie))return this.providers.get(ie);const F=new ae(ie,this);return this.providers.set(ie,F),F}getProviders(){return Array.from(this.providers.values())}}},8041:(St,Ke,b)=>{"use strict";b.d(Ke,{$b:()=>x,Ey:()=>de,He:()=>G,Vy:()=>ge});const a=[];var x=function(ie){return ie[ie.DEBUG=0]="DEBUG",ie[ie.VERBOSE=1]="VERBOSE",ie[ie.INFO=2]="INFO",ie[ie.WARN=3]="WARN",ie[ie.ERROR=4]="ERROR",ie[ie.SILENT=5]="SILENT",ie}(x||{});const te={debug:x.DEBUG,verbose:x.VERBOSE,info:x.INFO,warn:x.WARN,error:x.ERROR,silent:x.SILENT},B=x.INFO,ae={[x.DEBUG]:"log",[x.VERBOSE]:"log",[x.INFO]:"info",[x.WARN]:"warn",[x.ERROR]:"error"},ne=(ie,F,...ue)=>{if(F<ie.logLevel)return;const z=(new Date).toISOString(),le=ae[F];if(!le)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[le](`[${z}]  ${ie.name}:`,...ue)};class ge{constructor(F){this.name=F,this._logLevel=B,this._logHandler=ne,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in x))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?te[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,x.DEBUG,...F),this._logHandler(this,x.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,x.VERBOSE,...F),this._logHandler(this,x.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,x.INFO,...F),this._logHandler(this,x.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,x.WARN,...F),this._logHandler(this,x.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,x.ERROR,...F),this._logHandler(this,x.ERROR,...F)}}function G(ie){a.forEach(F=>{F.setLogLevel(ie)})}function de(ie,F){for(const ue of a){let z=null;F&&F.level&&(z=te[F.level]),ue.userLogHandler=null===ie?null:(le,fe,...xe)=>{const De=xe.map(q=>{if(null==q)return null;if("string"==typeof q)return q;if("number"==typeof q||"boolean"==typeof q)return q.toString();if(q instanceof Error)return q.message;try{return JSON.stringify(q)}catch{return null}}).filter(q=>q).join(" ");fe>=(z??le.logLevel)&&ie({level:x[fe].toLowerCase(),message:De,args:xe,type:le.name})}}}},2872:(St,Ke,b)=>{"use strict";b.d(Ke,{Yq:()=>Bt,TS:()=>fn,sR:()=>Gt,el:()=>_n,Sb:()=>fi,QE:()=>qn,CF:()=>Er,Rg:()=>mt,p4:()=>$n,jM:()=>Pi,q9:()=>Ot,Kb:()=>Ui,CE:()=>pn,pF:()=>Dr,fL:()=>Yr,YV:()=>Qe,er:()=>Rr,z3:()=>Vr});var a=b(467),x=b(3953),te=b(4964),B=b(177),ae=b(5531),ne=b(4442);var Ie=b(1413),rt=b(3726),ht=b(4412),Et=b(4572),xt=b(7673),jt=b(1635),it=b(5964),Me=b(5558),V=b(3294),j=b(4341);const Z=["tabsInner"];let ft=(()=>{class _e{doc;_readyPromise;win;backButton=new Ie.B;keyboardDidShow=new Ie.B;keyboardDidHide=new Ie.B;pause=new Ie.B;resume=new Ie.B;resize=new Ie.B;constructor(H,ye){this.doc=H,ye.run(()=>{let Ze;this.win=H.defaultView,this.backButton.subscribeWithPriority=function(Ne,at){return this.subscribe(Lt=>Lt.register(Ne,ln=>ye.run(()=>at(ln))))},en(this.pause,H,"pause",ye),en(this.resume,H,"resume",ye),en(this.backButton,H,"ionBackButton",ye),en(this.resize,this.win,"resize",ye),en(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ye),en(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ye),this._readyPromise=new Promise(Ne=>{Ze=Ne}),this.win?.cordova?H.addEventListener("deviceready",()=>{Ze("cordova")},{once:!0}):Ze("dom")})}is(H){return(0,ae.a)(this.win,H)}platforms(){return(0,ae.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(H){return We(this.win.location.href,H)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(H){const ye=this.win.navigator;return!!(ye?.userAgent&&ye.userAgent.indexOf(H)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(ye){return new(ye||_e)(x.KVO(B.qQ),x.KVO(x.SKi))};static \u0275prov=x.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();const We=(_e,he)=>{he=he.replace(/[[\]\\]/g,"\\$&");const ye=new RegExp("[\\?&]"+he+"=([^&#]*)").exec(_e);return ye?decodeURIComponent(ye[1].replace(/\+/g," ")):null},en=(_e,he,H,ye)=>{he&&he.addEventListener(H,Ze=>{ye.run(()=>{const Ne=Ze?.detail;_e.next(Ne)})})};let Ot=(()=>{class _e{location;serializer;router;topOutlet;direction=Jt;animated=yn;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(H,ye,Ze,Ne){this.location=ye,this.serializer=Ze,this.router=Ne,Ne&&Ne.events.subscribe(at=>{if(at instanceof te.Z){const Lt=at.restoredState?at.restoredState.navigationId:at.id;this.guessDirection=this.guessAnimation=Lt<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?at.id:Lt}}),H.backButton.subscribeWithPriority(0,at=>{this.pop(),at()})}navigateForward(H,ye={}){return this.setDirection("forward",ye.animated,ye.animationDirection,ye.animation),this.navigate(H,ye)}navigateBack(H,ye={}){return this.setDirection("back",ye.animated,ye.animationDirection,ye.animation),this.navigate(H,ye)}navigateRoot(H,ye={}){return this.setDirection("root",ye.animated,ye.animationDirection,ye.animation),this.navigate(H,ye)}back(H={animated:!0,animationDirection:"back"}){return this.setDirection("back",H.animated,H.animationDirection,H.animation),this.location.back()}pop(){var H=this;return(0,a.A)(function*(){let ye=H.topOutlet;for(;ye;){if(yield ye.pop())return!0;ye=ye.parentOutlet}return!1})()}setDirection(H,ye,Ze,Ne){this.direction=H,this.animated=gt(H,ye,Ze),this.animationBuilder=Ne}setTopOutlet(H){this.topOutlet=H}consumeTransition(){let ye,H="root";const Ze=this.animationBuilder;return"auto"===this.direction?(H=this.guessDirection,ye=this.guessAnimation):(ye=this.animated,H=this.direction),this.direction=Jt,this.animated=yn,this.animationBuilder=void 0,{direction:H,animation:ye,animationBuilder:Ze}}navigate(H,ye){if(Array.isArray(H))return this.router.navigate(H,ye);{const Ze=this.serializer.parse(H.toString());return void 0!==ye.queryParams&&(Ze.queryParams={...ye.queryParams}),void 0!==ye.fragment&&(Ze.fragment=ye.fragment),this.router.navigateByUrl(Ze,ye)}}static \u0275fac=function(ye){return new(ye||_e)(x.KVO(ft),x.KVO(B.aZ),x.KVO(te.Sd),x.KVO(te.Ix,8))};static \u0275prov=x.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();const gt=(_e,he,H)=>{if(!1!==he){if(void 0!==H)return H;if("forward"===_e||"back"===_e)return _e;if("root"===_e&&!0===he)return"forward"}},Jt="auto",yn=void 0;let fn=(()=>{class _e{get(H,ye){const Ze=Ht();return Ze?Ze.get(H,ye):null}getBoolean(H,ye){const Ze=Ht();return!!Ze&&Ze.getBoolean(H,ye)}getNumber(H,ye){const Ze=Ht();return Ze?Ze.getNumber(H,ye):0}static \u0275fac=function(ye){return new(ye||_e)};static \u0275prov=x.jDH({token:_e,factory:_e.\u0275fac,providedIn:"root"})}return _e})();const Gt=new x.nKC("USERCONFIG"),Ht=()=>{if(typeof window<"u"){const _e=window.Ionic;if(_e?.config)return _e.config}return null};class Ln{data;constructor(he={}){this.data=he,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(he){return this.data[he]}}let Bt=(()=>{class _e{zone=(0,x.WQX)(x.SKi);applicationRef=(0,x.WQX)(x.o8S);config=(0,x.WQX)(Gt);create(H,ye,Ze){return new He(H,ye,this.applicationRef,this.zone,Ze,this.config.useSetInputAPI??!1)}static \u0275fac=function(ye){return new(ye||_e)};static \u0275prov=x.jDH({token:_e,factory:_e.\u0275fac})}return _e})();class He{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(he,H,ye,Ze,Ne,at){this.environmentInjector=he,this.injector=H,this.applicationRef=ye,this.zone=Ze,this.elementReferenceKey=Ne,this.enableSignalsSupport=at}attachViewToDom(he,H,ye,Ze){return this.zone.run(()=>new Promise(Ne=>{const at={...ye};void 0!==this.elementReferenceKey&&(at[this.elementReferenceKey]=he),Ne(ze(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,he,H,at,Ze,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(he,H){return this.zone.run(()=>new Promise(ye=>{const Ze=this.elRefMap.get(H);if(Ze){Ze.destroy(),this.elRefMap.delete(H);const Ne=this.elEventsMap.get(H);Ne&&(Ne(),this.elEventsMap.delete(H))}ye()}))}}const ze=(_e,he,H,ye,Ze,Ne,at,Lt,ln,Fn,fr,Xn)=>{const Ni=x.zZn.create({providers:tr(ln),parent:H}),Zr=(0,x.a0P)(Lt,{environmentInjector:he,elementInjector:Ni}),cr=Zr.instance,oi=Zr.location.nativeElement;if(ln)if(fr&&void 0!==cr[fr]&&console.error(`[Ionic Error]: ${fr} is a reserved property when using ${at.tagName.toLowerCase()}. Rename or remove the "${fr}" property from ${Lt.name}.`),!0===Xn&&void 0!==Zr.setInput){const{modal:ci,popover:ti,...Gi}=ln;for(const Ai in Gi)Zr.setInput(Ai,Gi[Ai]);void 0!==ci&&Object.assign(cr,{modal:ci}),void 0!==ti&&Object.assign(cr,{popover:ti})}else Object.assign(cr,ln);if(Fn)for(const ci of Fn)oi.classList.add(ci);const Uo=Zt(_e,cr,oi);return at.appendChild(oi),ye.attachView(Zr.hostView),Ze.set(oi,Zr),Ne.set(oi,Uo),oi},_t=[ne.L,ne.a,ne.b,ne.c,ne.d],Zt=(_e,he,H)=>_e.run(()=>{const ye=_t.filter(Ze=>"function"==typeof he[Ze]).map(Ze=>{const Ne=at=>he[Ze](at.detail);return H.addEventListener(Ze,Ne),()=>H.removeEventListener(Ze,Ne)});return()=>ye.forEach(Ze=>Ze())}),In=new x.nKC("NavParamsToken"),tr=_e=>[{provide:In,useValue:_e},{provide:Ln,useFactory:Sn,deps:[In]}],Sn=_e=>new Ln(_e),mn=(_e,he)=>{const H=_e.prototype;he.forEach(ye=>{Object.defineProperty(H,ye,{get(){return this.el[ye]},set(Ze){this.z.runOutsideAngular(()=>this.el[ye]=Ze)}})})},Ut=(_e,he)=>{const H=_e.prototype;he.forEach(ye=>{H[ye]=function(){const Ze=arguments;return this.z.runOutsideAngular(()=>this.el[ye].apply(this.el,Ze))}})},gr=(_e,he,H)=>{H.forEach(ye=>_e[ye]=(0,rt.R)(he,ye))};function dr(_e){return function(H){const{defineCustomElementFn:ye,inputs:Ze,methods:Ne}=_e;return void 0!==ye&&ye(),Ze&&mn(H,Ze),Ne&&Ut(H,Ne),H}}const hr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Wn=["present","dismiss","onDidDismiss","onWillDismiss"];let Er=(()=>{let _e=class xC{z;template;isCmpOpen=!1;el;constructor(H,ye,Ze){this.z=Ze,this.el=ye.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,H.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,H.detectChanges()}),gr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(ye){return new(ye||xC)(x.rXU(x.gRc),x.rXU(x.aKT),x.rXU(x.SKi))};static \u0275dir=x.FsC({type:xC,selectors:[["ion-popover"]],contentQueries:function(ye,Ze,Ne){if(1&ye&&x.wni(Ne,x.C4Q,5),2&ye){let at;x.mGM(at=x.lsd())&&(Ze.template=at.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})};return _e=(0,jt.Cg)([dr({inputs:hr,methods:Wn})],_e),_e})();const Mn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],Zn=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let fi=(()=>{let _e=class bC{z;template;isCmpOpen=!1;el;constructor(H,ye,Ze){this.z=Ze,this.el=ye.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,H.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,H.detectChanges()}),gr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(ye){return new(ye||bC)(x.rXU(x.gRc),x.rXU(x.aKT),x.rXU(x.SKi))};static \u0275dir=x.FsC({type:bC,selectors:[["ion-modal"]],contentQueries:function(ye,Ze,Ne){if(1&ye&&x.wni(Ne,x.C4Q,5),2&ye){let at;x.mGM(at=x.lsd())&&(Ze.template=at.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})};return _e=(0,jt.Cg)([dr({inputs:Mn,methods:Zn})],_e),_e})();const sn=(_e,he)=>((_e=_e.filter(H=>H.stackId!==he.stackId)).push(he),_e),Xr=(_e,he)=>{const H=_e.createUrlTree(["."],{relativeTo:he});return _e.serializeUrl(H)},ar=(_e,he)=>!he||_e.stackId!==he.stackId,an=(_e,he)=>{if(!_e)return;const H=Hr(he);for(let ye=0;ye<H.length;ye++){if(ye>=_e.length)return H[ye];if(H[ye]!==_e[ye])return}},Hr=_e=>_e.split("/").map(he=>he.trim()).filter(he=>""!==he),qr=_e=>{_e&&(_e.ref.destroy(),_e.unlistenEvents())};class Mt{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(he,H,ye,Ze,Ne,at){this.containerEl=H,this.router=ye,this.navCtrl=Ze,this.zone=Ne,this.location=at,this.tabsPrefix=void 0!==he?Hr(he):void 0}createView(he,H){const ye=Xr(this.router,H),Ze=he?.location?.nativeElement,Ne=Zt(this.zone,he.instance,Ze);return{id:this.nextId++,stackId:an(this.tabsPrefix,ye),unlistenEvents:Ne,element:Ze,ref:he,url:ye}}getExistingView(he){const H=Xr(this.router,he),ye=this.views.find(Ze=>Ze.url===H);return ye&&ye.ref.changeDetectorRef.reattach(),ye}setActive(he){const H=this.navCtrl.consumeTransition();let{direction:ye,animation:Ze,animationBuilder:Ne}=H;const at=this.activeView,Lt=ar(he,at);Lt&&(ye="back",Ze=void 0);const ln=this.views.slice();let Fn;const fr=this.router;fr.getCurrentNavigation?Fn=fr.getCurrentNavigation():fr.navigations?.value&&(Fn=fr.navigations.value),Fn?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Xn=this.views.includes(he),Ni=this.insertView(he,ye);Xn||he.ref.changeDetectorRef.detectChanges();const Zr=he.animationBuilder;return void 0===Ne&&"back"===ye&&!Lt&&void 0!==Zr&&(Ne=Zr),at&&(at.animationBuilder=Ne),this.zone.runOutsideAngular(()=>this.wait(()=>(at&&at.ref.changeDetectorRef.detach(),he.ref.changeDetectorRef.reattach(),this.transition(he,at,Ze,this.canGoBack(1),!1,Ne).then(()=>bt(he,Ni,ln,this.location,this.zone)).then(()=>({enteringView:he,direction:ye,animation:Ze,tabSwitch:Lt})))))}canGoBack(he,H=this.getActiveStackId()){return this.getStack(H).length>he}pop(he,H=this.getActiveStackId()){return this.zone.run(()=>{const ye=this.getStack(H);if(ye.length<=he)return Promise.resolve(!1);const Ze=ye[ye.length-he-1];let Ne=Ze.url;const at=Ze.savedData;if(at){const ln=at.get("primary");ln?.route?._routerState?.snapshot.url&&(Ne=ln.route._routerState.snapshot.url)}const{animationBuilder:Lt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(Ne,{...Ze.savedExtras,animation:Lt}).then(()=>!0)})}startBackTransition(){const he=this.activeView;if(he){const H=this.getStack(he.stackId),ye=H[H.length-2],Ze=ye.animationBuilder;return this.wait(()=>this.transition(ye,he,"back",this.canGoBack(2),!0,Ze))}return Promise.resolve()}endBackTransition(he){he?(this.skipTransition=!0,this.pop(1)):this.activeView&&Ge(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(he){const H=this.getStack(he);return H.length>0?H[H.length-1]:void 0}getRootUrl(he){const H=this.getStack(he);return H.length>0?H[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(qr),this.activeView=void 0,this.views=[]}getStack(he){return this.views.filter(H=>H.stackId===he)}insertView(he,H){return this.activeView=he,this.views=((_e,he,H)=>"root"===H?sn(_e,he):"forward"===H?((_e,he)=>(_e.indexOf(he)>=0?_e=_e.filter(ye=>ye.stackId!==he.stackId||ye.id<=he.id):_e.push(he),_e))(_e,he):((_e,he)=>_e.indexOf(he)>=0?_e.filter(ye=>ye.stackId!==he.stackId||ye.id<=he.id):sn(_e,he))(_e,he))(this.views,he,H),this.views.slice()}transition(he,H,ye,Ze,Ne,at){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(H===he)return Promise.resolve(!1);const Lt=he?he.element:void 0,ln=H?H.element:void 0,Fn=this.containerEl;return Lt&&Lt!==ln&&(Lt.classList.add("ion-page"),Lt.classList.add("ion-page-invisible"),Fn.commit)?Fn.commit(Lt,ln,{duration:void 0===ye?0:void 0,direction:ye,showGoBack:Ze,progressAnimation:Ne,animationBuilder:at}):Promise.resolve(!1)}wait(he){var H=this;return(0,a.A)(function*(){void 0!==H.runningTask&&(yield H.runningTask,H.runningTask=void 0);const ye=H.runningTask=he();return ye.finally(()=>H.runningTask=void 0),ye})()}}const bt=(_e,he,H,ye,Ze)=>"function"==typeof requestAnimationFrame?new Promise(Ne=>{requestAnimationFrame(()=>{Ge(_e,he,H,ye,Ze),Ne()})}):Promise.resolve(),Ge=(_e,he,H,ye,Ze)=>{Ze.run(()=>H.filter(Ne=>!he.includes(Ne)).forEach(qr)),he.forEach(Ne=>{const Lt=ye.path().split("?")[0].split("#")[0];if(Ne!==_e&&Ne.url!==Lt){const ln=Ne.element;ln.setAttribute("aria-hidden","true"),ln.classList.add("ion-page-hidden"),Ne.ref.changeDetectorRef.detach()}})};let mt=(()=>{class _e{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new ht.t(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=te.Xk;stackWillChange=new x.bkB;stackDidChange=new x.bkB;activateEvents=new x.bkB;deactivateEvents=new x.bkB;parentContexts=(0,x.WQX)(te.Zp);location=(0,x.WQX)(x.c1b);environmentInjector=(0,x.WQX)(x.uvJ);inputBinder=(0,x.WQX)(Be,{optional:!0});supportsBindingToComponentInputs=!0;config=(0,x.WQX)(fn);navCtrl=(0,x.WQX)(Ot);set animation(H){this.nativeEl.animation=H}set animated(H){this.nativeEl.animated=H}set swipeGesture(H){this._swipeGesture=H,this.nativeEl.swipeHandler=H?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ye=>this.stackCtrl.endBackTransition(ye)}:void 0}constructor(H,ye,Ze,Ne,at,Lt,ln,Fn){this.parentOutlet=Fn,this.nativeEl=Ne.nativeElement,this.name=H||te.Xk,this.tabsPrefix="true"===ye?Xr(at,ln):void 0,this.stackCtrl=new Mt(this.tabsPrefix,this.nativeEl,at,this.navCtrl,Lt,Ze),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const H=this.getContext();H?.route&&this.activateWith(H.route,H.injector)}new Promise(H=>((_e,he)=>{_e.componentOnReady?_e.componentOnReady().then(H=>he(H)):(_e=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_e):"function"==typeof requestAnimationFrame?requestAnimationFrame(_e):setTimeout(_e)})(()=>he(_e))})(this.nativeEl,H)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(H,ye){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ye=this.getContext();this.activatedView.savedData=new Map(ye.children.contexts);const Ze=this.activatedView.savedData.get("primary");if(Ze&&ye.route&&(Ze.route={...ye.route}),this.activatedView.savedExtras={},ye.route){const Ne=ye.route.snapshot;this.activatedView.savedExtras.queryParams=Ne.queryParams,this.activatedView.savedExtras.fragment=Ne.fragment}}const H=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(H)}}activateWith(H,ye){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=H;let Ze,Ne=this.stackCtrl.getExistingView(H);if(Ne){Ze=this.activated=Ne.ref;const Lt=Ne.savedData;Lt&&(this.getContext().children.contexts=Lt),this.updateActivatedRouteProxy(Ze.instance,H)}else{const Lt=H._futureSnapshot,ln=this.parentContexts.getOrCreateContext(this.name).children,Fn=new ht.t(null),fr=this.createActivatedRouteProxy(Fn,H),Xn=new $t(fr,ln,this.location.injector);Ze=this.activated=this.outletContent.createComponent(Lt.routeConfig.component??Lt.component,{index:this.outletContent.length,injector:Xn,environmentInjector:ye??this.environmentInjector}),Fn.next(Ze.instance),Ne=this.stackCtrl.createView(this.activated,H),this.proxyMap.set(Ze.instance,fr),this.currentActivatedRoute$.next({component:Ze.instance,activatedRoute:H})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=Ne,this.navCtrl.setTopOutlet(this);const at=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:Ne,tabSwitch:ar(Ne,at)}),this.stackCtrl.setActive(Ne).then(Lt=>{this.activateEvents.emit(Ze.instance),this.stackDidChange.emit(Lt)})}canGoBack(H=1,ye){return this.stackCtrl.canGoBack(H,ye)}pop(H=1,ye){return this.stackCtrl.pop(H,ye)}getLastUrl(H){const ye=this.stackCtrl.getLastUrl(H);return ye?ye.url:void 0}getLastRouteView(H){return this.stackCtrl.getLastUrl(H)}getRootView(H){return this.stackCtrl.getRootUrl(H)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(H,ye){const Ze=new te.nX;return Ze._futureSnapshot=ye._futureSnapshot,Ze._routerState=ye._routerState,Ze.snapshot=ye.snapshot,Ze.outlet=ye.outlet,Ze.component=ye.component,Ze._paramMap=this.proxyObservable(H,"paramMap"),Ze._queryParamMap=this.proxyObservable(H,"queryParamMap"),Ze.url=this.proxyObservable(H,"url"),Ze.params=this.proxyObservable(H,"params"),Ze.queryParams=this.proxyObservable(H,"queryParams"),Ze.fragment=this.proxyObservable(H,"fragment"),Ze.data=this.proxyObservable(H,"data"),Ze}proxyObservable(H,ye){return H.pipe((0,it.p)(Ze=>!!Ze),(0,Me.n)(Ze=>this.currentActivatedRoute$.pipe((0,it.p)(Ne=>null!==Ne&&Ne.component===Ze),(0,Me.n)(Ne=>Ne&&Ne.activatedRoute[ye]),(0,V.F)())))}updateActivatedRouteProxy(H,ye){const Ze=this.proxyMap.get(H);if(!Ze)throw new Error("Could not find activated route proxy for view");Ze._futureSnapshot=ye._futureSnapshot,Ze._routerState=ye._routerState,Ze.snapshot=ye.snapshot,Ze.outlet=ye.outlet,Ze.component=ye.component,this.currentActivatedRoute$.next({component:H,activatedRoute:ye})}static \u0275fac=function(ye){return new(ye||_e)(x.kS0("name"),x.kS0("tabs"),x.rXU(B.aZ),x.rXU(x.aKT),x.rXU(te.Ix),x.rXU(x.SKi),x.rXU(te.nX),x.rXU(_e,12))};static \u0275dir=x.FsC({type:_e,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})}return _e})();class $t{route;childContexts;parent;constructor(he,H,ye){this.route=he,this.childContexts=H,this.parent=ye}get(he,H){return he===te.nX?this.route:he===te.Zp?this.childContexts:this.parent.get(he,H)}}const Be=new x.nKC("");let Ue=(()=>{class _e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(H){this.unsubscribeFromRouteData(H),this.subscribeToRouteData(H)}unsubscribeFromRouteData(H){this.outletDataSubscriptions.get(H)?.unsubscribe(),this.outletDataSubscriptions.delete(H)}subscribeToRouteData(H){const{activatedRoute:ye}=H,Ze=(0,Et.z)([ye.queryParams,ye.params,ye.data]).pipe((0,Me.n)(([Ne,at,Lt],ln)=>(Lt={...Ne,...at,...Lt},0===ln?(0,xt.of)(Lt):Promise.resolve(Lt)))).subscribe(Ne=>{if(!H.isActivated||!H.activatedComponentRef||H.activatedRoute!==ye||null===ye.component)return void this.unsubscribeFromRouteData(H);const at=(0,x.HJs)(ye.component);if(at)for(const{templateName:Lt}of at.inputs)H.activatedComponentRef.setInput(Lt,Ne[Lt]);else this.unsubscribeFromRouteData(H)});this.outletDataSubscriptions.set(H,Ze)}static \u0275fac=function(ye){return new(ye||_e)};static \u0275prov=x.jDH({token:_e,factory:_e.\u0275fac})}return _e})();const Qe=()=>({provide:Be,useFactory:Rt,deps:[te.Ix]});function Rt(_e){return _e?.componentInputBindingEnabled?new Ue:null}const yt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let _n=(()=>{let _e=class wC{routerOutlet;navCtrl;config;r;z;el;constructor(H,ye,Ze,Ne,at,Lt){this.routerOutlet=H,this.navCtrl=ye,this.config=Ze,this.r=Ne,this.z=at,Lt.detach(),this.el=this.r.nativeElement}onClick(H){const ye=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),H.preventDefault()):null!=ye&&(this.navCtrl.navigateBack(ye,{animation:this.routerAnimation}),H.preventDefault())}static \u0275fac=function(ye){return new(ye||wC)(x.rXU(mt,8),x.rXU(Ot),x.rXU(fn),x.rXU(x.aKT),x.rXU(x.SKi),x.rXU(x.gRc))};static \u0275dir=x.FsC({type:wC,hostBindings:function(ye,Ze){1&ye&&x.bIt("click",function(at){return Ze.onClick(at)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})};return _e=(0,jt.Cg)([dr({inputs:yt})],_e),_e})(),pn=(()=>{class _e{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(H,ye,Ze,Ne,at){this.locationStrategy=H,this.navCtrl=ye,this.elementRef=Ze,this.router=Ne,this.routerLink=at}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const ye=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(ye.tagName)&&"0"===ye.getAttribute("tabindex")&&ye.removeAttribute("tabindex")}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const H=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=H}}onClick(H){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),H.preventDefault()}static \u0275fac=function(ye){return new(ye||_e)(x.rXU(B.hb),x.rXU(Ot),x.rXU(x.aKT),x.rXU(te.Ix),x.rXU(te.Wk,8))};static \u0275dir=x.FsC({type:_e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ye,Ze){1&ye&&x.bIt("click",function(at){return Ze.onClick(at)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[x.OA$]})}return _e})(),Dr=(()=>{class _e{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(H,ye,Ze,Ne,at){this.locationStrategy=H,this.navCtrl=ye,this.elementRef=Ze,this.router=Ne,this.routerLink=at}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const H=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=H}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}static \u0275fac=function(ye){return new(ye||_e)(x.rXU(B.hb),x.rXU(Ot),x.rXU(x.aKT),x.rXU(te.Ix),x.rXU(te.Wk,8))};static \u0275dir=x.FsC({type:_e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ye,Ze){1&ye&&x.bIt("click",function(){return Ze.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[x.OA$]})}return _e})();const pt=["animated","animation","root","rootParams","swipeGesture"],nr=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let qn=(()=>{let _e=class SC{z;el;constructor(H,ye,Ze,Ne,at,Lt){this.z=at,Lt.detach(),this.el=H.nativeElement,H.nativeElement.delegate=Ne.create(ye,Ze),gr(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(ye){return new(ye||SC)(x.rXU(x.aKT),x.rXU(x.uvJ),x.rXU(x.zZn),x.rXU(Bt),x.rXU(x.SKi),x.rXU(x.gRc))};static \u0275dir=x.FsC({type:SC,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})};return _e=(0,jt.Cg)([dr({inputs:pt,methods:nr})],_e),_e})(),$n=(()=>{class _e{navCtrl;tabsInner;ionTabsWillChange=new x.bkB;ionTabsDidChange=new x.bkB;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(H){this.navCtrl=H}ngAfterViewInit(){const H=this.tabs.length>0?this.tabs.first:void 0;H&&(this.hasTab=!0,this.setActiveTab(H.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:H,tabSwitch:ye}){const Ze=H.stackId;ye&&void 0!==Ze&&this.ionTabsWillChange.emit({tab:Ze})}onStackDidChange({enteringView:H,tabSwitch:ye}){const Ze=H.stackId;ye&&void 0!==Ze&&(this.tabBar&&(this.tabBar.selectedTab=Ze),this.ionTabsDidChange.emit({tab:Ze}))}select(H){const ye="string"==typeof H,Ze=ye?H:H.detail.tab;if(this.hasTab)return this.setActiveTab(Ze),void this.tabSwitch();const Ne=this.outlet.getActiveStackId()===Ze,at=`${this.outlet.tabsPrefix}/${Ze}`;if(ye||H.stopPropagation(),Ne){const Lt=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(Lt)?.url===at)return;const Fn=this.outlet.getRootView(Ze);return this.navCtrl.navigateRoot(at,{...Fn&&at===Fn.url&&Fn.savedExtras,animated:!0,animationDirection:"back"})}{const Lt=this.outlet.getLastRouteView(Ze),ln=Lt?.url||at,Fn=Lt?.savedExtras;return this.navCtrl.navigateRoot(ln,{...Fn,animated:!0,animationDirection:"back"})}}setActiveTab(H){const Ze=this.tabs.find(Ne=>Ne.tab===H);Ze?(this.leavingTab=this.selectedTab,this.selectedTab=Ze,this.ionTabsWillChange.emit({tab:H}),Ze.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${H}" does not exist`)}tabSwitch(){const{selectedTab:H,leavingTab:ye}=this;this.tabBar&&H&&(this.tabBar.selectedTab=H.tab),ye?.tab!==H?.tab&&ye?.el&&(ye.el.active=!1),H&&this.ionTabsDidChange.emit({tab:H.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(H=>{const ye=H.el.getAttribute("slot");ye!==this.tabBarSlot&&(this.tabBarSlot=ye,this.relocateTabBar())})}relocateTabBar(){const H=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(H):this.tabsInner.nativeElement.after(H)}static \u0275fac=function(ye){return new(ye||_e)(x.rXU(Ot))};static \u0275dir=x.FsC({type:_e,selectors:[["ion-tabs"]],viewQuery:function(ye,Ze){if(1&ye&&x.GBs(Z,7,x.aKT),2&ye){let Ne;x.mGM(Ne=x.lsd())&&(Ze.tabsInner=Ne.first)}},hostBindings:function(ye,Ze){1&ye&&x.bIt("ionTabButtonClick",function(at){return Ze.select(at)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})}return _e})();const Rr=_e=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(_e):"function"==typeof requestAnimationFrame?requestAnimationFrame(_e):setTimeout(_e);let Yr=(()=>{class _e{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(H,ye){this.injector=H,this.elementRef=ye}writeValue(H){this.elementRef.nativeElement.value=this.lastValue=H,Vr(this.elementRef)}handleValueChange(H,ye){H===this.elementRef.nativeElement&&(ye!==this.lastValue&&(this.lastValue=ye,this.onChange(ye)),Vr(this.elementRef))}_handleBlurEvent(H){H===this.elementRef.nativeElement&&(this.onTouched(),Vr(this.elementRef))}registerOnChange(H){this.onChange=H}registerOnTouched(H){this.onTouched=H}setDisabledState(H){this.elementRef.nativeElement.disabled=H}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let H;try{H=this.injector.get(j.vO)}catch{}if(!H)return;H.statusChanges&&(this.statusChanges=H.statusChanges.subscribe(()=>Vr(this.elementRef)));const ye=H.control;ye&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(Ne=>{if(typeof ye[Ne]<"u"){const at=ye[Ne].bind(ye);ye[Ne]=(...Lt)=>{at(...Lt),Vr(this.elementRef)}}})}static \u0275fac=function(ye){return new(ye||_e)(x.rXU(x.zZn),x.rXU(x.aKT))};static \u0275dir=x.FsC({type:_e,hostBindings:function(ye,Ze){1&ye&&x.bIt("ionBlur",function(at){return Ze._handleBlurEvent(at.target)})}})}return _e})();const Vr=_e=>{Rr(()=>{const he=_e.nativeElement,H=null!=he.value&&he.value.toString().length>0,ye=Ri(he);zr(he,ye);const Ze=he.closest("ion-item");Ze&&zr(Ze,H?[...ye,"item-has-value"]:ye)})},Ri=_e=>{const he=_e.classList,H=[];for(let ye=0;ye<he.length;ye++){const Ze=he.item(ye);null!==Ze&&Ci(Ze,"ng-")&&H.push(`ion-${Ze.substring(3)}`)}return H},zr=(_e,he)=>{const H=_e.classList;H.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),H.add(...he)},Ci=(_e,he)=>_e.substring(0,he.length)===he;class Pi{shouldDetach(he){return!1}shouldAttach(he){return!1}store(he,H){}retrieve(he){return null}shouldReuseRoute(he,H){if(he.routeConfig!==H.routeConfig)return!1;const ye=he.params,Ze=H.params,Ne=Object.keys(ye),at=Object.keys(Ze);if(Ne.length!==at.length)return!1;for(const Lt of Ne)if(Ze[Lt]!==ye[Lt])return!1;return!0}}class Ui{ctrl;constructor(he){this.ctrl=he}create(he){return this.ctrl.create(he||{})}dismiss(he,H,ye){return this.ctrl.dismiss(he,H,ye)}getTop(){return this.ctrl.getTop()}}},4742:(St,Ke,b)=>{"use strict";b.d(Ke,{U1:()=>yn,In:()=>Ht,Jm:()=>He,QW:()=>ze,b_:()=>_t,I9:()=>Zt,ME:()=>In,tN:()=>Sn,hU:()=>gr,W9:()=>dr,eU:()=>sn,iq:()=>Qr,$w:()=>an,uz:()=>qr,Dg:()=>Mt,he:()=>Be,FH:()=>Yr,Rg:()=>Di,ln:()=>H,BC:()=>ci,ai:()=>Ai,bv:()=>xi,su:()=>V,Gw:()=>Z});var a=b(3953),x=b(4341),te=b(2872),B=b(1635),ae=b(3726),ne=b(177),ge=b(4964),z=(b(9986),b(3604),b(5022),b(3615),b(8607),b(9483)),le=b(464),xe=(b(9568),b(9440)),q=(b(8476),b(4261));b(1970),b(7192);var oe=b(467);const Se=z.i,Le=function(){var Y=(0,oe.A)(function*(rr,J){if(!(typeof window>"u"))return yield Se(),(0,q.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),J)});return function(J,P){return Y.apply(this,arguments)}}(),Re=["*"],Ye=["outletContent"];let V=(()=>{class Y extends te.fL{el;constructor(J,P){super(J,P),this.el=P}handleInputEvent(J){this.handleValueChange(J,J.value)}registerOnChange(J){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?P=>{J(""===P?null:parseFloat(P))}:J)}static \u0275fac=function(P){return new(P||Y)(a.rXU(a.zZn),a.rXU(a.aKT))};static \u0275dir=a.FsC({type:Y,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(P,Pe){1&P&&a.bIt("ionInput",function(me){return Pe.handleInputEvent(me.target)})},features:[a.Jv_([{provide:x.kq,useExisting:Y,multi:!0}]),a.Vt3]})}return Y})(),Z=(()=>{class Y extends te.fL{constructor(J,P){super(J,P)}_handleInputEvent(J){this.handleValueChange(J,J.value)}static \u0275fac=function(P){return new(P||Y)(a.rXU(a.zZn),a.rXU(a.aKT))};static \u0275dir=a.FsC({type:Y,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(P,Pe){1&P&&a.bIt("ionInput",function(me){return Pe._handleInputEvent(me.target)})},features:[a.Jv_([{provide:x.kq,useExisting:Y,multi:!0}]),a.Vt3]})}return Y})();const Ce=(Y,rr)=>{const J=Y.prototype;rr.forEach(P=>{Object.defineProperty(J,P,{get(){return this.el[P]},set(Pe){this.z.runOutsideAngular(()=>this.el[P]=Pe)},configurable:!0})})},ut=(Y,rr)=>{const J=Y.prototype;rr.forEach(P=>{J[P]=function(){const Pe=arguments;return this.z.runOutsideAngular(()=>this.el[P].apply(this.el,Pe))}})},Fe=(Y,rr,J)=>{J.forEach(P=>Y[P]=(0,ae.R)(rr,P))};function We(Y){return function(J){const{defineCustomElementFn:P,inputs:Pe,methods:L}=Y;return void 0!==P&&P(),Pe&&Ce(J,Pe),L&&ut(J,L),J}}let yn=(()=>{let Y=class OC{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||OC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:OC,selectors:[["ion-app"]],ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({})],Y),Y})(),Ht=(()=>{let Y=class LC{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||LC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:LC,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["color","mode"]})],Y),Y})(),He=(()=>{let Y=class UC{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement,Fe(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(P){return new(P||UC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:UC,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],Y),Y})(),ze=(()=>{let Y=class $C{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||$C)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:$C,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["collapse"]})],Y),Y})(),_t=(()=>{let Y=class jC{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||jC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:jC,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],Y),Y})(),Zt=(()=>{let Y=class HC{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||HC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:HC,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["mode"]})],Y),Y})(),In=(()=>{let Y=class zC{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||zC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:zC,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["color","mode","translucent"]})],Y),Y})(),Sn=(()=>{let Y=class WC{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||WC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:WC,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["color","mode"]})],Y),Y})(),gr=(()=>{let Y=class qC{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||qC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:qC,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],Y),Y})(),dr=(()=>{let Y=class QC{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement,Fe(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(P){return new(P||QC)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:QC,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],Y),Y})(),sn=(()=>{let Y=class iA{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||iA)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:iA,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["collapse","mode","translucent"]})],Y),Y})(),Qr=(()=>{let Y=class oA{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||oA)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:oA,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],Y),Y})(),an=(()=>{let Y=class lA{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement,Fe(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(P){return new(P||lA)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:lA,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],Y),Y})(),qr=(()=>{let Y=class dA{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||dA)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:dA,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],Y),Y})(),Mt=(()=>{let Y=class hA{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||hA)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:hA,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["color","mode","sticky"]})],Y),Y})(),Be=(()=>{let Y=class vA{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||vA)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:vA,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["color","mode","position"]})],Y),Y})(),Yr=(()=>{let Y=class RA{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||RA)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:RA,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["buffer","color","mode","reversed","type","value"]})],Y),Y})(),H=(()=>{let Y=class BA{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||BA)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:BA,selectors:[["ion-row"]],ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({})],Y),Y})(),ci=(()=>{let Y=class eD{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||eD)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:eD,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["color","size"]})],Y),Y})(),Ai=(()=>{let Y=class rD{z;el;constructor(J,P,Pe){this.z=Pe,J.detach(),this.el=P.nativeElement}static \u0275fac=function(P){return new(P||rD)(a.rXU(a.gRc),a.rXU(a.aKT),a.rXU(a.SKi))};static \u0275cmp=a.VBU({type:rD,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Re,decls:1,vars:0,template:function(P,Pe){1&P&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})};return Y=(0,B.Cg)([We({inputs:["color","mode"]})],Y),Y})(),Di=(()=>{class Y extends te.Rg{parentOutlet;outletContent;constructor(J,P,Pe,L,me,$e,qe,ct){super(J,P,Pe,L,me,$e,qe,ct),this.parentOutlet=ct}static \u0275fac=function(P){return new(P||Y)(a.kS0("name"),a.kS0("tabs"),a.rXU(ne.aZ),a.rXU(a.aKT),a.rXU(ge.Ix),a.rXU(a.SKi),a.rXU(ge.nX),a.rXU(Y,12))};static \u0275cmp=a.VBU({type:Y,selectors:[["ion-router-outlet"]],viewQuery:function(P,Pe){if(1&P&&a.GBs(Ye,7,a.c1b),2&P){let L;a.mGM(L=a.lsd())&&(Pe.outletContent=L.first)}},features:[a.Vt3],ngContentSelectors:Re,decls:3,vars:0,consts:[["outletContent",""]],template:function(P,Pe){1&P&&(a.NAR(),a.qex(0,null,0),a.SdG(2),a.bVm())},encapsulation:2})}return Y})();const Ti={provide:x.cz,useExisting:(0,a.Rfq)(()=>Rs),multi:!0};let Rs=(()=>{class Y extends x.zX{static \u0275fac=(()=>{let J;return function(Pe){return(J||(J=a.xGo(Y)))(Pe||Y)}})();static \u0275dir=a.FsC({type:Y,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(P,Pe){2&P&&a.BMQ("max",Pe._enabled?Pe.max:null)},features:[a.Jv_([Ti]),a.Vt3]})}return Y})();const Io={provide:x.cz,useExisting:(0,a.Rfq)(()=>cs),multi:!0};let cs=(()=>{class Y extends x.VZ{static \u0275fac=(()=>{let J;return function(Pe){return(J||(J=a.xGo(Y)))(Pe||Y)}})();static \u0275dir=a.FsC({type:Y,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(P,Pe){2&P&&a.BMQ("min",Pe._enabled?Pe.min:null)},features:[a.Jv_([Io]),a.Vt3]})}return Y})(),xa=(()=>{class Y extends te.Kb{angularDelegate=(0,a.WQX)(te.Yq);injector=(0,a.WQX)(a.zZn);environmentInjector=(0,a.WQX)(a.uvJ);constructor(){super(xe.m)}create(J){return super.create({...J,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(P){return new(P||Y)};static \u0275prov=a.jDH({token:Y,factory:Y.\u0275fac})}return Y})();class Qo extends te.Kb{angularDelegate=(0,a.WQX)(te.Yq);injector=(0,a.WQX)(a.zZn);environmentInjector=(0,a.WQX)(a.uvJ);constructor(){super(xe.c)}create(rr){return super.create({...rr,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Mr=(Y,rr,J)=>()=>{const P=rr.defaultView;if(P&&typeof window<"u"){(0,le.s)({...Y,_zoneGate:L=>J.run(L)});const Pe="__zone_symbol__addEventListener"in rr.body?"__zone_symbol__addEventListener":"addEventListener";return function ce(){var Y=[];if(typeof window<"u"){var rr=window;(!rr.customElements||rr.Element&&(!rr.Element.prototype.closest||!rr.Element.prototype.matches||!rr.Element.prototype.remove||!rr.Element.prototype.getRootNode))&&Y.push(b.e(7278).then(b.t.bind(b,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||rr.NodeList&&!rr.NodeList.prototype.forEach||!rr.fetch||!function(){try{var P=new URL("b","http://a");return P.pathname="c%20d","http://a/c%20d"===P.href&&P.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&Y.push(b.e(9329).then(b.t.bind(b,7783,23)))}return Promise.all(Y)}().then(()=>Le(P,{exclude:["ion-tabs"],syncQueue:!0,raf:te.er,jmp:L=>J.runOutsideAngular(L),ael(L,me,$e,qe){L[Pe](me,$e,qe)},rel(L,me,$e,qe){L.removeEventListener(me,$e,qe)}}))}};let xi=(()=>{class Y{static forRoot(J={}){return{ngModule:Y,providers:[{provide:te.sR,useValue:J},{provide:a.hnV,useFactory:Mr,multi:!0,deps:[te.sR,ne.qQ,a.SKi]},te.Yq,(0,te.YV)()]}}static \u0275fac=function(P){return new(P||Y)};static \u0275mod=a.$C({type:Y});static \u0275inj=a.G2t({providers:[xa,Qo],imports:[ne.MD]})}return Y})()},7935:(St,Ke,b)=>{"use strict";b.d(Ke,{A:()=>a.A});var a=b(3345);a.A.registerVersion("firebase","10.13.2","app-compat")},7955:(St,Ke,b)=>{"use strict";var a=b(467),x=b(3345),te=b(7852),B=b(1076),ae=b(8041),ne=b(1635),ge=b(1362);const de={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const fe=function z(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},xe=function le(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},De=new B.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new ae.Vy("@firebase/auth");function we(y,...h){ve.logLevel<=ae.$b.ERROR&&ve.error(`Auth (${te.SDK_VERSION}): ${y}`,...h)}function ce(y,...h){throw Ye(y,...h)}function oe(y,...h){return Ye(y,...h)}function Se(y,h,p){const E=Object.assign(Object.assign({},xe()),{[h]:p});return new B.FA("auth","Firebase",E).create(h,{appName:y.name})}function Le(y){return Se(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Re(y,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&ce(y,"argument-error"),Se(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ye(y,...h){if("string"!=typeof y){const p=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(p,...E)}return De.create(y,...h)}function Ie(y,h,...p){if(!y)throw Ye(h,...p)}function rt(y){const h="INTERNAL ASSERTION FAILED: "+y;throw we(h),new Error(h)}function ht(y,h){y||rt(h)}function Et(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function xt(){return"http:"===jt()||"https:"===jt()}function jt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class V{constructor(h,p){this.shortDelay=h,this.longDelay=p,ht(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,B.jZ)()||(0,B.lV)()}get(){return function it(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xt()||(0,B.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function j(y,h){ht(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Z{static initialize(h,p,E){this.fetchImpl=h,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ut=new V(3e4,6e4);function Fe(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function ft(y,h,p,E){return We.apply(this,arguments)}function We(){return(We=(0,a.A)(function*(y,h,p,E,U={}){return en(y,U,(0,a.A)(function*(){let Ee={},et={};E&&("GET"===h?et=E:Ee={body:JSON.stringify(E)});const Ct=(0,B.Am)(Object.assign({key:y.config.apiKey},et)).slice(1),qt=yield y._getAdditionalHeaders();qt["Content-Type"]="application/json",y.languageCode&&(qt["X-Firebase-Locale"]=y.languageCode);const Tn=Object.assign({method:h,headers:qt},Ee);return(0,B.c1)()||(Tn.referrerPolicy="no-referrer"),Z.fetch()(yn(y,y.config.apiHost,p,Ct),Tn)}))})).apply(this,arguments)}function en(y,h,p){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,a.A)(function*(y,h,p){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},Ce),h);try{const U=new Gt(y),Ee=yield Promise.race([p(),U.promise]);U.clearNetworkTimeout();const et=yield Ee.json();if("needConfirmation"in et)throw Ht(y,"account-exists-with-different-credential",et);if(Ee.ok&&!("errorMessage"in et))return et;{const Ct=Ee.ok?et.errorMessage:et.error.message,[qt,Tn]=Ct.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qt)throw Ht(y,"credential-already-in-use",et);if("EMAIL_EXISTS"===qt)throw Ht(y,"email-already-in-use",et);if("USER_DISABLED"===qt)throw Ht(y,"user-disabled",et);const On=E[qt]||qt.toLowerCase().replace(/[_\s]+/g,"-");if(Tn)throw Se(y,On,Tn);ce(y,On)}}catch(U){if(U instanceof B.g)throw U;ce(y,"network-request-failed",{message:String(U)})}})).apply(this,arguments)}function gt(y,h,p,E){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,a.A)(function*(y,h,p,E,U={}){const Ee=yield ft(y,h,p,E,U);return"mfaPendingCredential"in Ee&&ce(y,"multi-factor-auth-required",{_serverResponse:Ee}),Ee})).apply(this,arguments)}function yn(y,h,p,E){const U=`${h}${p}?${E}`;return y.config.emulator?j(y.config,U):`${y.config.apiScheme}://${U}`}function fn(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gt{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(oe(this.auth,"network-request-failed")),ut.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ht(y,h,p){const E={appName:y.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const U=oe(y,h,E);return U.customData._tokenResponse=p,U}function Ln(y){return void 0!==y&&void 0!==y.getResponse}function Bt(y){return void 0!==y&&void 0!==y.enterprise}class He{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return fn(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function _t(){return(_t=(0,a.A)(function*(y){return(yield ft(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Zt(y,h){return In.apply(this,arguments)}function In(){return(In=(0,a.A)(function*(y,h){return ft(y,"GET","/v2/recaptchaConfig",Fe(y,h))})).apply(this,arguments)}function Sn(){return(Sn=(0,a.A)(function*(y,h){return ft(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Ut(){return(Ut=(0,a.A)(function*(y,h){return ft(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function gr(y,h){return dr.apply(this,arguments)}function dr(){return(dr=(0,a.A)(function*(y,h){return ft(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function hr(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Mn(){return(Mn=(0,a.A)(function*(y,h=!1){const p=(0,B.Ku)(y),E=yield p.getIdToken(h),U=fi(E);Ie(U&&U.exp&&U.auth_time&&U.iat,p.auth,"internal-error");const Ee="object"==typeof U.firebase?U.firebase:void 0,et=Ee?.sign_in_provider;return{claims:U,token:E,authTime:hr(Zn(U.auth_time)),issuedAtTime:hr(Zn(U.iat)),expirationTime:hr(Zn(U.exp)),signInProvider:et||null,signInSecondFactor:Ee?.sign_in_second_factor||null}})).apply(this,arguments)}function Zn(y){return 1e3*Number(y)}function fi(y){const[h,p,E]=y.split(".");if(void 0===h||void 0===p||void 0===E)return we("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,B.u)(p);return U?JSON.parse(U):(we("Failed to decode base64 JWT payload"),null)}catch(U){return we("Caught error parsing JWT payload as JSON",U?.toString()),null}}function xn(y){const h=fi(y);return Ie(h,"internal-error"),Ie(typeof h.exp<"u","internal-error"),Ie(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function sn(y,h){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,a.A)(function*(y,h,p=!1){if(p)return h;try{return yield h}catch(E){throw E instanceof B.g&&function Pn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}class Xr{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const U=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,a.A)(function*(){yield p.iteration()}),E)}iteration(){var h=this;return(0,a.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class ar{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=hr(this.lastLoginAt),this.creationTime=hr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function an(y){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,a.A)(function*(y){var h;const p=y.auth,E=yield y.getIdToken(),U=yield sn(y,gr(p,{idToken:E}));Ie(U?.users.length,p,"internal-error");const Ee=U.users[0];y._notifyReloadListener(Ee);const et=null!==(h=Ee.providerUserInfo)&&void 0!==h&&h.length?Ge(Ee.providerUserInfo):[],Ct=function bt(y,h){return[...y.filter(E=>!h.some(U=>U.providerId===E.providerId)),...h]}(y.providerData,et),On=!!y.isAnonymous&&!(y.email&&Ee.passwordHash||Ct?.length),Bn={uid:Ee.localId,displayName:Ee.displayName||null,photoURL:Ee.photoUrl||null,email:Ee.email||null,emailVerified:Ee.emailVerified||!1,phoneNumber:Ee.phoneNumber||null,tenantId:Ee.tenantId||null,providerData:Ct,metadata:new ar(Ee.createdAt,Ee.lastLoginAt),isAnonymous:On};Object.assign(y,Bn)})).apply(this,arguments)}function Mt(){return(Mt=(0,a.A)(function*(y){const h=(0,B.Ku)(y);yield an(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Ge(y){return y.map(h=>{var{providerId:p}=h,E=(0,ne.Tt)(h,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function $t(){return($t=(0,a.A)(function*(y,h){const p=yield en(y,{},(0,a.A)(function*(){const E=(0,B.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:U,apiKey:Ee}=y.config,et=yn(y,U,"/v1/token",`key=${Ee}`),Ct=yield y._getAdditionalHeaders();return Ct["Content-Type"]="application/x-www-form-urlencoded",Z.fetch()(et,{method:"POST",headers:Ct,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function Ue(){return(Ue=(0,a.A)(function*(y,h){return ft(y,"POST","/v2/accounts:revokeToken",Fe(y,h))})).apply(this,arguments)}class Qe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Ie(h.idToken,"internal-error"),Ie(typeof h.idToken<"u","internal-error"),Ie(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):xn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}updateFromIdToken(h){Ie(0!==h.length,"internal-error");const p=xn(h);this.updateTokensAndExpiration(h,null,p)}getToken(h,p=!1){var E=this;return(0,a.A)(function*(){return p||!E.accessToken||E.isExpired?(Ie(E.refreshToken,h,"user-token-expired"),E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null):E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var E=this;return(0,a.A)(function*(){const{accessToken:U,refreshToken:Ee,expiresIn:et}=yield function mt(y,h){return $t.apply(this,arguments)}(h,p);E.updateTokensAndExpiration(U,Ee,Number(et))})()}updateTokensAndExpiration(h,p,E){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,p){const{refreshToken:E,accessToken:U,expirationTime:Ee}=p,et=new Qe;return E&&(Ie("string"==typeof E,"internal-error",{appName:h}),et.refreshToken=E),U&&(Ie("string"==typeof U,"internal-error",{appName:h}),et.accessToken=U),Ee&&(Ie("number"==typeof Ee,"internal-error",{appName:h}),et.expirationTime=Ee),et}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Qe,this.toJSON())}_performRefresh(){return rt("not implemented")}}function Rt(y,h){Ie("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class yt{constructor(h){var{uid:p,auth:E,stsTokenManager:U}=h,Ee=(0,ne.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=Ee.displayName||null,this.email=Ee.email||null,this.emailVerified=Ee.emailVerified||!1,this.phoneNumber=Ee.phoneNumber||null,this.photoURL=Ee.photoURL||null,this.isAnonymous=Ee.isAnonymous||!1,this.tenantId=Ee.tenantId||null,this.providerData=Ee.providerData?[...Ee.providerData]:[],this.metadata=new ar(Ee.createdAt||void 0,Ee.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,a.A)(function*(){const E=yield sn(p,p.stsTokenManager.getToken(p.auth,h));return Ie(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(h){return function Er(y){return Mn.apply(this,arguments)}(this,h)}reload(){return function qr(y){return Mt.apply(this,arguments)}(this)}_assign(h){this!==h&&(Ie(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new yt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var E=this;return(0,a.A)(function*(){let U=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),U=!0),p&&(yield an(E)),yield E.auth._persistUserIfCurrent(E),U&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,a.A)(function*(){if((0,te._isFirebaseServerApp)(h.auth.app))return Promise.reject(Le(h.auth));const p=yield h.getIdToken();return yield sn(h,function tr(y,h){return Sn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var E,U,Ee,et,Ct,qt,Tn,On;const Bn=null!==(E=p.displayName)&&void 0!==E?E:void 0,ji=null!==(U=p.email)&&void 0!==U?U:void 0,gi=null!==(Ee=p.phoneNumber)&&void 0!==Ee?Ee:void 0,ra=null!==(et=p.photoURL)&&void 0!==et?et:void 0,hi=null!==(Ct=p.tenantId)&&void 0!==Ct?Ct:void 0,zu=null!==(qt=p._redirectEventId)&&void 0!==qt?qt:void 0,Ld=null!==(Tn=p.createdAt)&&void 0!==Tn?Tn:void 0,Ep=null!==(On=p.lastLoginAt)&&void 0!==On?On:void 0,{uid:Wh,emailVerified:Gu,isAnonymous:Wu,providerData:Lc,stsTokenManager:$s}=p;Ie(Wh&&$s,h,"internal-error");const ym=Qe.fromJSON(this.name,$s);Ie("string"==typeof Wh,h,"internal-error"),Rt(Bn,h.name),Rt(ji,h.name),Ie("boolean"==typeof Gu,h,"internal-error"),Ie("boolean"==typeof Wu,h,"internal-error"),Rt(gi,h.name),Rt(ra,h.name),Rt(hi,h.name),Rt(zu,h.name),Rt(Ld,h.name),Rt(Ep,h.name);const ml=new yt({uid:Wh,auth:h,email:ji,emailVerified:Gu,displayName:Bn,isAnonymous:Wu,photoURL:ra,phoneNumber:gi,tenantId:hi,stsTokenManager:ym,createdAt:Ld,lastLoginAt:Ep});return Lc&&Array.isArray(Lc)&&(ml.providerData=Lc.map(Vd=>Object.assign({},Vd))),zu&&(ml._redirectEventId=zu),ml}static _fromIdTokenResponse(h,p,E=!1){return(0,a.A)(function*(){const U=new Qe;U.updateFromServerResponse(p);const Ee=new yt({uid:p.localId,auth:h,stsTokenManager:U,isAnonymous:E});return yield an(Ee),Ee})()}static _fromGetAccountInfoResponse(h,p,E){return(0,a.A)(function*(){const U=p.users[0];Ie(void 0!==U.localId,"internal-error");const Ee=void 0!==U.providerUserInfo?Ge(U.providerUserInfo):[],et=!(U.email&&U.passwordHash||Ee?.length),Ct=new Qe;Ct.updateFromIdToken(E);const qt=new yt({uid:U.localId,auth:h,stsTokenManager:Ct,isAnonymous:et}),Tn={uid:U.localId,displayName:U.displayName||null,photoURL:U.photoUrl||null,email:U.email||null,emailVerified:U.emailVerified||!1,phoneNumber:U.phoneNumber||null,tenantId:U.tenantId||null,providerData:Ee,metadata:new ar(U.createdAt,U.lastLoginAt),isAnonymous:!(U.email&&U.passwordHash||Ee?.length)};return Object.assign(qt,Tn),qt})()}}const _n=new Map;function pn(y){ht(y instanceof Function,"Expected a class definition");let h=_n.get(y);return h?(ht(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,_n.set(y,h),h)}const pt=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.A)(function*(){return!0})()}_set(p,E){var U=this;return(0,a.A)(function*(){U.storage[p]=E})()}_get(p){var E=this;return(0,a.A)(function*(){const U=E.storage[p];return void 0===U?null:U})()}_remove(p){var E=this;return(0,a.A)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return y.type="NONE",y})();function nr(y,h,p){return`firebase:${y}:${h}:${p}`}class qn{constructor(h,p,E){this.persistence=h,this.auth=p,this.userKey=E;const{config:U,name:Ee}=this.auth;this.fullUserKey=nr(this.userKey,U.apiKey,Ee),this.fullPersistenceKey=nr("persistence",U.apiKey,Ee),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,a.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?yt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,a.A)(function*(){if(p.persistence===h)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,E="authUser"){return(0,a.A)(function*(){if(!p.length)return new qn(pn(pt),h,E);const U=(yield Promise.all(p.map(function(){var Tn=(0,a.A)(function*(On){if(yield On._isAvailable())return On});return function(On){return Tn.apply(this,arguments)}}()))).filter(Tn=>Tn);let Ee=U[0]||pn(pt);const et=nr(E,h.config.apiKey,h.name);let Ct=null;for(const Tn of p)try{const On=yield Tn._get(et);if(On){const Bn=yt._fromJSON(h,On);Tn!==Ee&&(Ct=Bn),Ee=Tn;break}}catch{}const qt=U.filter(Tn=>Tn._shouldAllowMigration);return Ee._shouldAllowMigration&&qt.length?(Ee=qt[0],Ct&&(yield Ee._set(et,Ct.toJSON())),yield Promise.all(p.map(function(){var Tn=(0,a.A)(function*(On){if(On!==Ee)try{yield On._remove(et)}catch{}});return function(On){return Tn.apply(this,arguments)}}())),new qn(Ee,h,E)):new qn(Ee,h,E)})()}}function $n(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Ri(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Rr(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ci(h))return"Blackberry";if(Pi(h))return"Webos";if(Yr(h))return"Safari";if((h.includes("chrome/")||Vr(h))&&!h.includes("edge/"))return"Chrome";if(zr(h))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function Rr(y=(0,B.ZQ)()){return/firefox\//i.test(y)}function Yr(y=(0,B.ZQ)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Vr(y=(0,B.ZQ)()){return/crios\//i.test(y)}function Ri(y=(0,B.ZQ)()){return/iemobile/i.test(y)}function zr(y=(0,B.ZQ)()){return/android/i.test(y)}function Ci(y=(0,B.ZQ)()){return/blackberry/i.test(y)}function Pi(y=(0,B.ZQ)()){return/webos/i.test(y)}function Ui(y=(0,B.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ye(y=(0,B.ZQ)()){return Ui(y)||zr(y)||Pi(y)||Ci(y)||/windows phone/i.test(y)||Ri(y)}function Ze(y,h=[]){let p;switch(y){case"Browser":p=$n((0,B.ZQ)());break;case"Worker":p=`${$n((0,B.ZQ)())}-${y}`;break;default:p=y}const E=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${te.SDK_VERSION}/${E}`}class Ne{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const E=Ee=>new Promise((et,Ct)=>{try{et(h(Ee))}catch(qt){Ct(qt)}});E.onAbort=p,this.queue.push(E);const U=this.queue.length-1;return()=>{this.queue[U]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,a.A)(function*(){if(p.auth.currentUser===h)return;const E=[];try{for(const U of p.queue)yield U(h),U.onAbort&&E.push(U.onAbort)}catch(U){E.reverse();for(const Ee of E)try{Ee()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:U?.message})}})()}}function Lt(){return(Lt=(0,a.A)(function*(y,h={}){return ft(y,"GET","/v2/passwordPolicy",Fe(y,h))})).apply(this,arguments)}class Fn{constructor(h){var p,E,U,Ee;const et=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=et.minPasswordLength)&&void 0!==p?p:6,et.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=et.maxPasswordLength),void 0!==et.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=et.containsLowercaseCharacter),void 0!==et.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=et.containsUppercaseCharacter),void 0!==et.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=et.containsNumericCharacter),void 0!==et.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=et.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(U=null===(E=h.allowedNonAlphanumericCharacters)||void 0===E?void 0:E.join(""))&&void 0!==U?U:"",this.forceUpgradeOnSignin=null!==(Ee=h.forceUpgradeOnSignin)&&void 0!==Ee&&Ee,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,E,U,Ee,et,Ct;const qt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,qt),this.validatePasswordCharacterOptions(h,qt),qt.isValid&&(qt.isValid=null===(p=qt.meetsMinPasswordLength)||void 0===p||p),qt.isValid&&(qt.isValid=null===(E=qt.meetsMaxPasswordLength)||void 0===E||E),qt.isValid&&(qt.isValid=null===(U=qt.containsLowercaseLetter)||void 0===U||U),qt.isValid&&(qt.isValid=null===(Ee=qt.containsUppercaseLetter)||void 0===Ee||Ee),qt.isValid&&(qt.isValid=null===(et=qt.containsNumericCharacter)||void 0===et||et),qt.isValid&&(qt.isValid=null===(Ct=qt.containsNonAlphanumericCharacter)||void 0===Ct||Ct),qt}validatePasswordLengthOptions(h,p){const E=this.customStrengthOptions.minPasswordLength,U=this.customStrengthOptions.maxPasswordLength;E&&(p.meetsMinPasswordLength=h.length>=E),U&&(p.meetsMaxPasswordLength=h.length<=U)}validatePasswordCharacterOptions(h,p){let E;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let U=0;U<h.length;U++)E=h.charAt(U),this.updatePasswordCharacterOptionsStatuses(p,E>="a"&&E<="z",E>="A"&&E<="Z",E>="0"&&E<="9",this.allowedNonAlphanumericCharacters.includes(E))}updatePasswordCharacterOptionsStatuses(h,p,E,U,Ee){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=E)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=U)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=Ee))}}class fr{constructor(h,p,E,U){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=E,this.config=U,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ni(this),this.idTokenSubscription=new Ni(this),this.beforeStateQueue=new Ne(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=De,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=U.sdkClientVersion}_initializeWithPersistence(h,p){var E=this;return p&&(this._popupRedirectResolver=pn(p)),this._initializationPromise=this.queue((0,a.A)(function*(){var U,Ee;if(!E._deleted&&(E.persistenceManager=yield qn.create(E,h),!E._deleted)){if(null!==(U=E._popupRedirectResolver)&&void 0!==U&&U._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(Ee=E.currentUser)||void 0===Ee?void 0:Ee.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,a.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(h){var p=this;return(0,a.A)(function*(){try{const E=yield gr(p,{idToken:h}),U=yield yt._fromGetAccountInfoResponse(p,E,h);yield p.directlySetCurrentUser(U)}catch(E){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",E),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var p=this;return(0,a.A)(function*(){var E;if((0,te._isFirebaseServerApp)(p.app)){const Ct=p.app.settings.authIdToken;return Ct?new Promise(qt=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(Ct).then(qt,qt))}):p.directlySetCurrentUser(null)}const U=yield p.assertedPersistence.getCurrentUser();let Ee=U,et=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const Ct=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,qt=Ee?._redirectEventId,Tn=yield p.tryRedirectSignIn(h);(!Ct||Ct===qt)&&Tn?.user&&(Ee=Tn.user,et=!0)}if(!Ee)return p.directlySetCurrentUser(null);if(!Ee._redirectEventId){if(et)try{yield p.beforeStateQueue.runMiddleware(Ee)}catch(Ct){Ee=U,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(Ct))}return Ee?p.reloadAndSetCurrentUserOrClear(Ee):p.directlySetCurrentUser(null)}return Ie(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===Ee._redirectEventId?p.directlySetCurrentUser(Ee):p.reloadAndSetCurrentUserOrClear(Ee)})()}tryRedirectSignIn(h){var p=this;return(0,a.A)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,a.A)(function*(){try{yield an(h)}catch(E){if("auth/network-request-failed"!==E?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Me(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,a.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,a.A)(function*(){if((0,te._isFirebaseServerApp)(p.app))return Promise.reject(Le(p));const E=h?(0,B.Ku)(h):null;return E&&Ie(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(h,p=!1){var E=this;return(0,a.A)(function*(){if(!E._deleted)return h&&Ie(E.tenantId===h.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(h)),E.queue((0,a.A)(function*(){yield E.directlySetCurrentUser(h),E.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,a.A)(function*(){return(0,te._isFirebaseServerApp)(h.app)?Promise.reject(Le(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var p=this;return(0,te._isFirebaseServerApp)(this.app)?Promise.reject(Le(this)):this.queue((0,a.A)(function*(){yield p.assertedPersistence.setPersistence(pn(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,a.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const E=p._getPasswordPolicyInternal();return E.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):E.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,a.A)(function*(){const p=yield function at(y){return Lt.apply(this,arguments)}(h),E=new Fn(p);null===h.tenantId?h._projectPasswordPolicy=E:h._tenantPasswordPolicies[h.tenantId]=E})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new B.FA("auth","Firebase",h())}onAuthStateChanged(h,p,E){return this.registerStateListener(this.authStateSubscription,h,p,E)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,E){return this.registerStateListener(this.idTokenSubscription,h,p,E)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const E=this.onAuthStateChanged(()=>{E(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,a.A)(function*(){if(p.currentUser){const E=yield p.currentUser.getIdToken(),U={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:E};null!=p.tenantId&&(U.tenantId=p.tenantId),yield function Be(y,h){return Ue.apply(this,arguments)}(p,U)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var E=this;return(0,a.A)(function*(){const U=yield E.getOrInitRedirectPersistenceManager(p);return null===h?U.removeCurrentUser():U.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,a.A)(function*(){if(!p.redirectPersistenceManager){const E=h&&pn(h)||p._popupRedirectResolver;Ie(E,p,"argument-error"),p.redirectPersistenceManager=yield qn.create(p,[pn(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,a.A)(function*(){var E,U;return p._isInitialized&&(yield p.queue((0,a.A)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===h?p._currentUser:(null===(U=p.redirectUser)||void 0===U?void 0:U._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,a.A)(function*(){if(h===p.currentUser)return p.queue((0,a.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,E,U){if(this._deleted)return()=>{};const Ee="function"==typeof p?p:p.next.bind(p);let et=!1;const Ct=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(Ct,this,"internal-error"),Ct.then(()=>{et||Ee(this.currentUser)}),"function"==typeof p){const qt=h.addObserver(p,E,U);return()=>{et=!0,qt()}}{const qt=h.addObserver(p);return()=>{et=!0,qt()}}}directlySetCurrentUser(h){var p=this;return(0,a.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ze(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,a.A)(function*(){var p;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const U=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();U&&(E["X-Firebase-Client"]=U);const Ee=yield h._getAppCheckToken();return Ee&&(E["X-Firebase-AppCheck"]=Ee),E})()}_getAppCheckToken(){var h=this;return(0,a.A)(function*(){var p;const E=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return E?.error&&function W(y,...h){ve.logLevel<=ae.$b.WARN&&ve.warn(`Auth (${te.SDK_VERSION}): ${y}`,...h)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Xn(y){return(0,B.Ku)(y)}class Ni{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,B.tD)(p=>this.observer=p)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Zr={loadJS:()=>(0,a.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oi(y){return Zr.loadJS(y)}function Gi(y){return`__${y}${Math.floor(1e6*Math.random())}`}class ws{constructor(h){this.type="recaptcha-enterprise",this.auth=Xn(h)}verify(h="verify",p=!1){var E=this;return(0,a.A)(function*(){function Ee(){return Ee=(0,a.A)(function*(Ct){if(!p){if(null==Ct.tenantId&&null!=Ct._agentRecaptchaConfig)return Ct._agentRecaptchaConfig.siteKey;if(null!=Ct.tenantId&&void 0!==Ct._tenantRecaptchaConfigs[Ct.tenantId])return Ct._tenantRecaptchaConfigs[Ct.tenantId].siteKey}return new Promise(function(){var qt=(0,a.A)(function*(Tn,On){Zt(Ct,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Bn=>{if(void 0!==Bn.recaptchaKey){const ji=new He(Bn);return null==Ct.tenantId?Ct._agentRecaptchaConfig=ji:Ct._tenantRecaptchaConfigs[Ct.tenantId]=ji,Tn(ji.siteKey)}On(new Error("recaptcha Enterprise site key undefined"))}).catch(Bn=>{On(Bn)})});return function(Tn,On){return qt.apply(this,arguments)}}())}),Ee.apply(this,arguments)}function et(Ct,qt,Tn){const On=window.grecaptcha;Bt(On)?On.enterprise.ready(()=>{On.enterprise.execute(Ct,{action:h}).then(Bn=>{qt(Bn)}).catch(()=>{qt("NO_RECAPTCHA")})}):Tn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Ct,qt)=>{(function U(Ct){return Ee.apply(this,arguments)})(E.auth).then(Tn=>{if(!p&&Bt(window.grecaptcha))et(Tn,Ct,qt);else{if(typeof window>"u")return void qt(new Error("RecaptchaVerifier is only supported in browser"));let On=function ci(){return Zr.recaptchaEnterpriseScript}();0!==On.length&&(On+=Tn),oi(On).then(()=>{et(Tn,Ct,qt)}).catch(Bn=>{qt(Bn)})}}).catch(Tn=>{qt(Tn)})})})()}}function Ss(y,h,p){return $o.apply(this,arguments)}function $o(){return($o=(0,a.A)(function*(y,h,p,E=!1){const U=new ws(y);let Ee;try{Ee=yield U.verify(p)}catch{Ee=yield U.verify(p,!0)}const et=Object.assign({},h);return Object.assign(et,E?{captchaResp:Ee}:{captchaResponse:Ee}),Object.assign(et,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(et,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),et})).apply(this,arguments)}function ss(y,h,p,E){return qo.apply(this,arguments)}function qo(){return qo=(0,a.A)(function*(y,h,p,E){var U;if(null!==(U=y._getRecaptchaConfig())&&void 0!==U&&U.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const Ee=yield Ss(y,h,p,"getOobCode"===p);return E(y,Ee)}return E(y,h).catch(function(){var Ee=(0,a.A)(function*(et){if("auth/missing-recaptcha-token"===et.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const Ct=yield Ss(y,h,p,"getOobCode"===p);return E(y,Ct)}return Promise.reject(et)});return function(et){return Ee.apply(this,arguments)}}())}),qo.apply(this,arguments)}function cs(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function ls(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class ro{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return rt("not implemented")}_getIdTokenResponse(h){return rt("not implemented")}_linkToIdToken(h,p){return rt("not implemented")}_getReauthenticationResolver(h){return rt("not implemented")}}function Ho(y,h){return ia.apply(this,arguments)}function ia(){return(ia=(0,a.A)(function*(y,h){return ft(y,"POST","/v1/accounts:resetPassword",Fe(y,h))})).apply(this,arguments)}function jr(){return(jr=(0,a.A)(function*(y,h){return ft(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qo(y,h){return li.apply(this,arguments)}function li(){return(li=(0,a.A)(function*(y,h){return ft(y,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function Co(){return(Co=(0,a.A)(function*(y,h){return ft(y,"POST","/v1/accounts:update",Fe(y,h))})).apply(this,arguments)}function Ao(y,h){return xi.apply(this,arguments)}function xi(){return(xi=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithPassword",Fe(y,h))})).apply(this,arguments)}function Y(y,h){return rr.apply(this,arguments)}function rr(){return(rr=(0,a.A)(function*(y,h){return ft(y,"POST","/v1/accounts:sendOobCode",Fe(y,h))})).apply(this,arguments)}function P(){return(P=(0,a.A)(function*(y,h){return Y(y,h)})).apply(this,arguments)}function Pe(y,h){return L.apply(this,arguments)}function L(){return(L=(0,a.A)(function*(y,h){return Y(y,h)})).apply(this,arguments)}function me(y,h){return $e.apply(this,arguments)}function $e(){return($e=(0,a.A)(function*(y,h){return Y(y,h)})).apply(this,arguments)}function ct(){return(ct=(0,a.A)(function*(y,h){return Y(y,h)})).apply(this,arguments)}function zt(){return(zt=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithEmailLink",Fe(y,h))})).apply(this,arguments)}function Wt(){return(Wt=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithEmailLink",Fe(y,h))})).apply(this,arguments)}class Qt extends ro{constructor(h,p,E,U=null){super("password",E),this._email=h,this._password=p,this._tenantId=U}static _fromEmailAndPassword(h,p){return new Qt(h,p,"password")}static _fromEmailAndCode(h,p,E=null){return new Qt(h,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,a.A)(function*(){switch(p.signInMethod){case"password":return ss(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ao);case"emailLink":return function vt(y,h){return zt.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:ce(h,"internal-error")}})()}_linkToIdToken(h,p){var E=this;return(0,a.A)(function*(){switch(E.signInMethod){case"password":return ss(h,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qo);case"emailLink":return function Yt(y,h){return Wt.apply(this,arguments)}(h,{idToken:p,email:E._email,oobCode:E._password});default:ce(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function un(y,h){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithIdp",Fe(y,h))})).apply(this,arguments)}class kn extends ro{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new kn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):ce("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:U}=p,Ee=(0,ne.Tt)(p,["providerId","signInMethod"]);if(!E||!U)return null;const et=new kn(E,U);return et.idToken=Ee.idToken||void 0,et.accessToken=Ee.accessToken||void 0,et.secret=Ee.secret,et.nonce=Ee.nonce,et.pendingToken=Ee.pendingToken||null,et}_getIdTokenResponse(h){return un(h,this.buildRequest())}_linkToIdToken(h,p){const E=this.buildRequest();return E.idToken=p,un(h,E)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,un(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,B.Am)(p)}return h}}function Or(){return(Or=(0,a.A)(function*(y,h){return ft(y,"POST","/v1/accounts:sendVerificationCode",Fe(y,h))})).apply(this,arguments)}function Pr(){return(Pr=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithPhoneNumber",Fe(y,h))})).apply(this,arguments)}function Qi(){return(Qi=(0,a.A)(function*(y,h){const p=yield gt(y,"POST","/v1/accounts:signInWithPhoneNumber",Fe(y,h));if(p.temporaryProof)throw Ht(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const vi={USER_NOT_FOUND:"user-not-found"};function Gs(){return(Gs=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithPhoneNumber",Fe(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),vi)})).apply(this,arguments)}class Yi extends ro{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Yi({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Yi({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function ri(y,h){return Pr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function cn(y,h){return Qi.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Ha(y,h){return Gs.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:E,verificationCode:U}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:E,code:U}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:E,phoneNumber:U,temporaryProof:Ee}=h;return E||p||U||Ee?new Yi({verificationId:p,verificationCode:E,phoneNumber:U,temporaryProof:Ee}):null}}class lo{constructor(h){var p,E,U,Ee,et,Ct;const qt=(0,B.I9)((0,B.hp)(h)),Tn=null!==(p=qt.apiKey)&&void 0!==p?p:null,On=null!==(E=qt.oobCode)&&void 0!==E?E:null,Bn=function Ws(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=qt.mode)&&void 0!==U?U:null);Ie(Tn&&On&&Bn,"argument-error"),this.apiKey=Tn,this.operation=Bn,this.code=On,this.continueUrl=null!==(Ee=qt.continueUrl)&&void 0!==Ee?Ee:null,this.languageCode=null!==(et=qt.languageCode)&&void 0!==et?et:null,this.tenantId=null!==(Ct=qt.tenantId)&&void 0!==Ct?Ct:null}static parseLink(h){const p=function Zi(y){const h=(0,B.I9)((0,B.hp)(y)).link,p=h?(0,B.I9)((0,B.hp)(h)).deep_link_id:null,E=(0,B.I9)((0,B.hp)(y)).deep_link_id;return(E?(0,B.I9)((0,B.hp)(E)).link:null)||E||p||h||y}(h);try{return new lo(p)}catch{return null}}}let us=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,E){return Qt._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const U=lo.parseLink(E);return Ie(U,"argument-error"),Qt._fromEmailAndCode(p,U.code,U.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Do{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class zo extends Do{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class uo extends zo{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return Ie("providerId"in p&&"signInMethod"in p,"argument-error"),kn._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Ie(h.idToken||h.accessToken,"argument-error"),kn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return uo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return uo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:E,oauthTokenSecret:U,pendingToken:Ee,nonce:et,providerId:Ct}=h;if(!E&&!U&&!p&&!Ee||!Ct)return null;try{return new uo(Ct)._credential({idToken:p,accessToken:E,nonce:et,pendingToken:Ee})}catch{return null}}}let $i=(()=>{class y extends zo{constructor(){super("facebook.com")}static credential(p){return kn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),bi=(()=>{class y extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return kn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:U}=p;if(!E&&!U)return null;try{return y.credential(E,U)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Gr=(()=>{class y extends zo{constructor(){super("github.com")}static credential(p){return kn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class wr extends ro{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return un(h,this.buildRequest())}_linkToIdToken(h,p){const E=this.buildRequest();return E.idToken=p,un(h,E)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,un(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:U,pendingToken:Ee}=p;return E&&U&&Ee&&E===U?new wr(E,Ee):null}static _create(h,p){return new wr(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Br extends Do{constructor(h){Ie(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Br.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Br.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=wr.fromJSON(h);return Ie(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:E}=h;if(!p||!E)return null;try{return wr._create(E,p)}catch{return null}}}let ds=(()=>{class y extends zo{constructor(){super("twitter.com")}static credential(p,E){return kn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:E})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:E,oauthTokenSecret:U}=p;if(!E||!U)return null;try{return y.credential(E,U)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function _c(y,h){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signUp",Fe(y,h))})).apply(this,arguments)}class ir{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,E,U=!1){return(0,a.A)(function*(){const Ee=yield yt._fromIdTokenResponse(h,E,U),et=jn(E);return new ir({user:Ee,providerId:et,_tokenResponse:E,operationType:p})})()}static _forOperation(h,p,E){return(0,a.A)(function*(){yield h._updateTokensIfNecessary(E,!0);const U=jn(E);return new ir({user:h,providerId:U,_tokenResponse:E,operationType:p})})()}}function jn(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Wi(){return(Wi=(0,a.A)(function*(y){var h;if((0,te._isFirebaseServerApp)(y.app))return Promise.reject(Le(y));const p=Xn(y);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new ir({user:p.currentUser,providerId:null,operationType:"signIn"});const E=yield _c(p,{returnSecureToken:!0}),U=yield ir._fromIdTokenResponse(p,"signIn",E,!0);return yield p._updateCurrentUser(U.user),U})).apply(this,arguments)}class Ga extends B.g{constructor(h,p,E,U){var Ee;super(p.code,p.message),this.operationType=E,this.user=U,Object.setPrototypeOf(this,Ga.prototype),this.customData={appName:h.name,tenantId:null!==(Ee=h.tenantId)&&void 0!==Ee?Ee:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,p,E,U){return new Ga(h,p,E,U)}}function oa(y,h,p,E){return("reauthenticate"===h?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(Ee=>{throw"auth/multi-factor-auth-required"===Ee.code?Ga._fromErrorAndOperation(y,Ee,h,E):Ee})}function Wc(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Wa(){return Wa=(0,a.A)(function*(y,h){const p=(0,B.Ku)(y);yield Kc(!0,p,h);const{providerUserInfo:E}=yield function mn(y,h){return Ut.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),U=Wc(E||[]);return p.providerData=p.providerData.filter(Ee=>U.has(Ee.providerId)),U.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Wa.apply(this,arguments)}function Ur(y,h){return sa.apply(this,arguments)}function sa(){return(sa=(0,a.A)(function*(y,h,p=!1){const E=yield sn(y,h._linkToIdToken(y.auth,yield y.getIdToken()),p);return ir._forOperation(y,"link",E)})).apply(this,arguments)}function Kc(y,h,p){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,a.A)(function*(y,h,p){yield an(h);const U=!1===y?"provider-already-linked":"no-such-provider";Ie(Wc(h.providerData).has(p)===y,h.auth,U)})).apply(this,arguments)}function Cu(y,h){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,a.A)(function*(y,h,p=!1){const{auth:E}=y;if((0,te._isFirebaseServerApp)(E.app))return Promise.reject(Le(E));const U="reauthenticate";try{const Ee=yield sn(y,oa(E,U,h,y),p);Ie(Ee.idToken,E,"internal-error");const et=fi(Ee.idToken);Ie(et,E,"internal-error");const{sub:Ct}=et;return Ie(y.uid===Ct,E,"user-mismatch"),ir._forOperation(y,U,Ee)}catch(Ee){throw"auth/user-not-found"===Ee?.code&&ce(E,"user-mismatch"),Ee}})).apply(this,arguments)}function wl(y,h){return K.apply(this,arguments)}function K(){return(K=(0,a.A)(function*(y,h,p=!1){if((0,te._isFirebaseServerApp)(y.app))return Promise.reject(Le(y));const E="signIn",U=yield oa(y,E,h),Ee=yield ir._fromIdTokenResponse(y,E,U);return p||(yield y._updateCurrentUser(Ee.user)),Ee})).apply(this,arguments)}function $(y,h){return R.apply(this,arguments)}function R(){return(R=(0,a.A)(function*(y,h){return wl(Xn(y),h)})).apply(this,arguments)}function Te(y,h){return ot.apply(this,arguments)}function ot(){return(ot=(0,a.A)(function*(y,h){const p=(0,B.Ku)(y);return yield Kc(!1,p,h.providerId),Ur(p,h)})).apply(this,arguments)}function Vn(y,h){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,a.A)(function*(y,h){return Cu((0,B.Ku)(y),h)})).apply(this,arguments)}function io(){return(io=(0,a.A)(function*(y,h){return gt(y,"POST","/v1/accounts:signInWithCustomToken",Fe(y,h))})).apply(this,arguments)}function hs(){return hs=(0,a.A)(function*(y,h){if((0,te._isFirebaseServerApp)(y.app))return Promise.reject(Le(y));const p=Xn(y),E=yield function pr(y,h){return io.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),U=yield ir._fromIdTokenResponse(p,"signIn",E);return yield p._updateCurrentUser(U.user),U}),hs.apply(this,arguments)}class xo{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Ks._fromServerResponse(h,p):"totpInfo"in p?wa._fromServerResponse(h,p):ce(h,"internal-error")}}class Ks extends xo{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Ks(p)}}class wa extends xo{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new wa(p)}}function bo(y,h,p){var E;Ie((null===(E=p.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),Ie(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Ie(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Ie(p.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Oi(y){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,a.A)(function*(y){const h=Xn(y);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function aa(){return(aa=(0,a.A)(function*(y,h,p){const E=Xn(y),U={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&bo(E,U,p),yield ss(E,U,"getOobCode",Pe)})).apply(this,arguments)}function Ms(){return Ms=(0,a.A)(function*(y,h,p){yield Ho((0,B.Ku)(y),{oobCode:h,newPassword:p}).catch(function(){var E=(0,a.A)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&Oi(y),U});return function(U){return E.apply(this,arguments)}}())}),Ms.apply(this,arguments)}function go(){return go=(0,a.A)(function*(y,h){yield function Mr(y,h){return Co.apply(this,arguments)}((0,B.Ku)(y),{oobCode:h})}),go.apply(this,arguments)}function fs(y,h){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,a.A)(function*(y,h){const p=(0,B.Ku)(y),E=yield Ho(p,{oobCode:h}),U=E.requestType;switch(Ie(U,p,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ie(E.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ie(E.mfaInfo,p,"internal-error");default:Ie(E.email,p,"internal-error")}let Ee=null;return E.mfaInfo&&(Ee=xo._fromServerResponse(Xn(p),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:Ee},operation:U}})).apply(this,arguments)}function Au(){return(Au=(0,a.A)(function*(y,h){const{data:p}=yield fs((0,B.Ku)(y),h);return p.email})).apply(this,arguments)}function Du(){return(Du=(0,a.A)(function*(y,h,p){if((0,te._isFirebaseServerApp)(y.app))return Promise.reject(Le(y));const E=Xn(y),et=yield ss(E,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_c).catch(qt=>{throw"auth/password-does-not-meet-requirements"===qt.code&&Oi(y),qt}),Ct=yield ir._fromIdTokenResponse(E,"signIn",et);return yield E._updateCurrentUser(Ct.user),Ct})).apply(this,arguments)}function Wo(){return(Wo=(0,a.A)(function*(y,h,p){const E=Xn(y),U={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function Ee(et,Ct){Ie(Ct.handleCodeInApp,E,"argument-error"),Ct&&bo(E,et,Ct)})(U,p),yield ss(E,U,"getOobCode",me)})).apply(this,arguments)}function Qa(){return(Qa=(0,a.A)(function*(y,h,p){if((0,te._isFirebaseServerApp)(y.app))return Promise.reject(Le(y));const E=(0,B.Ku)(y),U=us.credentialWithLink(h,p||Et());return Ie(U._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),$(E,U)})).apply(this,arguments)}function Ra(){return(Ra=(0,a.A)(function*(y,h){return ft(y,"POST","/v1/accounts:createAuthUri",Fe(y,h))})).apply(this,arguments)}function En(){return En=(0,a.A)(function*(y,h){const E={identifier:h,continueUri:xt()?Et():"http://localhost"},{signinMethods:U}=yield function So(y,h){return Ra.apply(this,arguments)}((0,B.Ku)(y),E);return U||[]}),En.apply(this,arguments)}function Jc(){return Jc=(0,a.A)(function*(y,h){const p=(0,B.Ku)(y),U={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&bo(p.auth,U,h);const{email:Ee}=yield function J(y,h){return P.apply(this,arguments)}(p.auth,U);Ee!==y.email&&(yield y.reload())}),Jc.apply(this,arguments)}function Cc(){return Cc=(0,a.A)(function*(y,h,p){const E=(0,B.Ku)(y),Ee={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};p&&bo(E.auth,Ee,p);const{email:et}=yield function qe(y,h){return ct.apply(this,arguments)}(E.auth,Ee);et!==y.email&&(yield y.reload())}),Cc.apply(this,arguments)}function ps(){return(ps=(0,a.A)(function*(y,h){return ft(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Cr(){return Cr=(0,a.A)(function*(y,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const E=(0,B.Ku)(y),Ee={idToken:yield E.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},et=yield sn(E,function pd(y,h){return ps.apply(this,arguments)}(E.auth,Ee));E.displayName=et.displayName||null,E.photoURL=et.photoUrl||null;const Ct=E.providerData.find(({providerId:qt})=>"password"===qt);Ct&&(Ct.displayName=E.displayName,Ct.photoURL=E.photoURL),yield E._updateTokensIfNecessary(et)}),Cr.apply(this,arguments)}function Fi(y,h,p){return la.apply(this,arguments)}function la(){return la=(0,a.A)(function*(y,h,p){const{auth:E}=y,Ee={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(Ee.email=h),p&&(Ee.password=p);const et=yield sn(y,function xa(y,h){return jr.apply(this,arguments)}(E,Ee));yield y._updateTokensIfNecessary(et,!0)}),la.apply(this,arguments)}class Zo{constructor(h,p,E={}){this.isNewUser=h,this.providerId=p,this.profile=E}}class gs extends Zo{constructor(h,p,E,U){super(h,p,E),this.username=U}}class Ac extends Zo{constructor(h,p){super(h,"facebook.com",p)}}class T extends gs{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class pe extends Zo{constructor(h,p){super(h,"google.com",p)}}class O extends gs{constructor(h,p,E){super(h,"twitter.com",p,E)}}function se(y){const{user:h,_tokenResponse:p}=y;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Ma(y){var h,p;if(!y)return null;const{providerId:E}=y,U=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},Ee=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&y?.idToken){const et=null===(p=null===(h=fi(y.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(et)return new Zo(Ee,"anonymous"!==et&&"custom"!==et?et:null)}if(!E)return null;switch(E){case"facebook.com":return new Ac(Ee,U);case"github.com":return new T(Ee,U);case"google.com":return new pe(Ee,U);case"twitter.com":return new O(Ee,U,y.screenName||null);case"custom":case"anonymous":return new Zo(Ee,null);default:return new Zo(Ee,E,U)}}(p)}class eo{constructor(h,p,E){this.type=h,this.credential=p,this.user=E}static _fromIdtoken(h,p){return new eo("enroll",h,p)}static _fromMfaPendingCredential(h){return new eo("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,E;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return eo._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(E=h.multiFactorSession)&&void 0!==E&&E.idToken)return eo._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ko{constructor(h,p,E){this.session=h,this.hints=p,this.signInResolver=E}static _fromError(h,p){const E=Xn(h),U=p.customData._serverResponse,Ee=(U.mfaInfo||[]).map(Ct=>xo._fromServerResponse(E,Ct));Ie(U.mfaPendingCredential,E,"internal-error");const et=eo._fromMfaPendingCredential(U.mfaPendingCredential);return new Ko(et,Ee,function(){var Ct=(0,a.A)(function*(qt){const Tn=yield qt._process(E,et);delete U.mfaInfo,delete U.mfaPendingCredential;const On=Object.assign(Object.assign({},U),{idToken:Tn.idToken,refreshToken:Tn.refreshToken});switch(p.operationType){case"signIn":const Bn=yield ir._fromIdTokenResponse(E,p.operationType,On);return yield E._updateCurrentUser(Bn.user),Bn;case"reauthenticate":return Ie(p.user,E,"internal-error"),ir._forOperation(p.user,p.operationType,On);default:ce(E,"internal-error")}});return function(qt){return Ct.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,a.A)(function*(){return p.signInResolver(h)})()}}class ur{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(E=>xo._fromServerResponse(h.auth,E)))})}static _fromUser(h){return new ur(h)}getSession(){var h=this;return(0,a.A)(function*(){return eo._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,p){var E=this;return(0,a.A)(function*(){const U=h,Ee=yield E.getSession(),et=yield sn(E.user,U._process(E.user.auth,Ee,p));return yield E.user._updateTokensIfNecessary(et),E.user.reload()})()}unenroll(h){var p=this;return(0,a.A)(function*(){const E="string"==typeof h?h:h.uid,U=yield p.user.getIdToken();try{const Ee=yield sn(p.user,function to(y,h){return ft(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Fe(y,h))}(p.user.auth,{idToken:U,mfaEnrollmentId:E}));p.enrolledFactors=p.enrolledFactors.filter(({uid:et})=>et!==E),yield p.user._updateTokensIfNecessary(Ee),yield p.user.reload()}catch(Ee){throw Ee}})()}}const Ps=new WeakMap,ua="__sak";class Za{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ua,"1"),this.storage.removeItem(ua),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rl=(()=>{class y extends Za{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ye(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const U=this.storage.getItem(E),Ee=this.localCache[E];U!==Ee&&p(E,Ee,U)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((Ct,qt,Tn)=>{this.notifyListeners(Ct,Tn)});const U=p.key;E?this.detachListener():this.stopPolling();const Ee=()=>{const Ct=this.storage.getItem(U);!E&&this.localCache[U]===Ct||this.notifyListeners(U,Ct)},et=this.storage.getItem(U);!function H(){return(0,B.lT)()&&10===document.documentMode}()||et===p.newValue||p.newValue===p.oldValue?Ee():setTimeout(Ee,10)}notifyListeners(p,E){this.localCache[p]=E;const U=this.listeners[p];if(U)for(const Ee of Array.from(U))Ee(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var U=()=>super._set,Ee=this;return(0,a.A)(function*(){yield U().call(Ee,p,E),Ee.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,U=this;return(0,a.A)(function*(){const Ee=yield E().call(U,p);return U.localCache[p]=JSON.stringify(Ee),Ee})()}_remove(p){var E=()=>super._remove,U=this;return(0,a.A)(function*(){yield E().call(U,p),delete U.localCache[p]})()}}return y.type="LOCAL",y})(),Mo=(()=>{class y extends Za{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return y.type="SESSION",y})();let tl=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(Ee=>Ee.isListeningto(p));if(E)return E;const U=new y(p);return this.receivers.push(U),U}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,a.A)(function*(){const U=p,{eventId:Ee,eventType:et,data:Ct}=U.data,qt=E.handlersMap[et];if(!qt?.size)return;U.ports[0].postMessage({status:"ack",eventId:Ee,eventType:et});const Tn=Array.from(qt).map(function(){var Bn=(0,a.A)(function*(ji){return ji(U.origin,Ct)});return function(ji){return Bn.apply(this,arguments)}}()),On=yield function Ns(y){return Promise.all(y.map(function(){var h=(0,a.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return h.apply(this,arguments)}}()))}(Tn);U.ports[0].postMessage({status:"done",eventId:Ee,eventType:et,response:On})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ja(y="",h=10){let p="";for(let E=0;E<h;E++)p+=Math.floor(10*Math.random());return y+p}class Os{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,E=50){var U=this;return(0,a.A)(function*(){const Ee=typeof MessageChannel<"u"?new MessageChannel:null;if(!Ee)throw new Error("connection_unavailable");let et,Ct;return new Promise((qt,Tn)=>{const On=Ja("",20);Ee.port1.start();const Bn=setTimeout(()=>{Tn(new Error("unsupported_event"))},E);Ct={messageChannel:Ee,onMessage(ji){const gi=ji;if(gi.data.eventId===On)switch(gi.data.status){case"ack":clearTimeout(Bn),et=setTimeout(()=>{Tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(et),qt(gi.data.response);break;default:clearTimeout(Bn),clearTimeout(et),Tn(new Error("invalid_response"))}}},U.handlers.add(Ct),Ee.port1.addEventListener("message",Ct.onMessage),U.target.postMessage({eventType:h,eventId:On,data:p},[Ee.port2])}).finally(()=>{Ct&&U.removeMessageHandler(Ct)})})()}}function er(){return window}function nl(){return typeof er().WorkerGlobalScope<"u"&&"function"==typeof er().importScripts}function rl(){return(rl=(0,a.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const da="firebaseLocalStorageDb",_s="firebaseLocalStorage",Ml="fbase_key";class Tc{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function si(y,h){return y.transaction([_s],h?"readwrite":"readonly").objectStore(_s)}function xc(){const y=indexedDB.open(da,1);return new Promise((h,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(_s,{keyPath:Ml})}catch(U){p(U)}}),y.addEventListener("success",(0,a.A)(function*(){const E=y.result;E.objectStoreNames.contains(_s)?h(E):(E.close(),yield function Pl(){const y=indexedDB.deleteDatabase(da);return new Tc(y).toPromise()}(),h(yield xc()))}))})}function bu(y,h,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,a.A)(function*(y,h,p){const E=si(y,!0).put({[Ml]:h,value:p});return new Tc(E).toPromise()})).apply(this,arguments)}function Nl(){return(Nl=(0,a.A)(function*(y,h){const p=si(y,!1).get(h),E=yield new Tc(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Es(y,h){const p=si(y,!0).delete(h);return new Tc(p).toPromise()}const bc=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,a.A)(function*(){return p.db||(p.db=yield xc()),p.db})()}_withRetries(p){var E=this;return(0,a.A)(function*(){let U=0;for(;;)try{const Ee=yield E._openDb();return yield p(Ee)}catch(Ee){if(U++>3)throw Ee;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,a.A)(function*(){return nl()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,a.A)(function*(){p.receiver=tl._getInstance(function Pa(){return nl()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,a.A)(function*(U,Ee){return{keyProcessed:(yield p._poll()).includes(Ee.key)}});return function(U,Ee){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,a.A)(function*(U,Ee){return["keyChanged"]});return function(U,Ee){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,a.A)(function*(){var E,U;if(p.activeServiceWorker=yield function Tu(){return rl.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new Os(p.activeServiceWorker);const Ee=yield p.sender._send("ping",{},800);Ee&&null!==(E=Ee[0])&&void 0!==E&&E.fulfilled&&null!==(U=Ee[0])&&void 0!==U&&U.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,a.A)(function*(){if(E.sender&&E.activeServiceWorker&&function xu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.A)(function*(){try{if(!indexedDB)return!1;const p=yield xc();return yield bu(p,ua,"1"),yield Es(p,ua),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,a.A)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var U=this;return(0,a.A)(function*(){return U._withPendingWrite((0,a.A)(function*(){return yield U._withRetries(Ee=>bu(Ee,p,E)),U.localCache[p]=E,U.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,a.A)(function*(){const U=yield E._withRetries(Ee=>function Fs(y,h){return Nl.apply(this,arguments)}(Ee,p));return E.localCache[p]=U,U})()}_remove(p){var E=this;return(0,a.A)(function*(){return E._withPendingWrite((0,a.A)(function*(){return yield E._withRetries(U=>Es(U,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,a.A)(function*(){const E=yield p._withRetries(et=>{const Ct=si(et,!1).getAll();return new Tc(Ct).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const U=[],Ee=new Set;if(0!==E.length)for(const{fbase_key:et,value:Ct}of E)Ee.add(et),JSON.stringify(p.localCache[et])!==JSON.stringify(Ct)&&(p.notifyListeners(et,Ct),U.push(et));for(const et of Object.keys(p.localCache))p.localCache[et]&&!Ee.has(et)&&(p.notifyListeners(et,null),U.push(et));return U})()}notifyListeners(p,E){this.localCache[p]=E;const U=this.listeners[p];if(U)for(const Ee of Array.from(U))Ee(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,a.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),X=1e12;class be{constructor(h){this.auth=h,this.counter=X,this._widgets=new Map}render(h,p){const E=this.counter;return this._widgets.set(E,new Xe(h,this.auth.name,p||{})),this.counter++,E}reset(h){var p;const E=h||X;null===(p=this._widgets.get(E))||void 0===p||p.delete(),this._widgets.delete(E)}getResponse(h){var p;return(null===(p=this._widgets.get(h||X))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,a.A)(function*(){var E;return null===(E=p._widgets.get(h||X))||void 0===E||E.execute(),""})()}}class Xe{constructor(h,p,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof h?document.getElementById(h):h;Ie(U,"argument-error",{appName:p}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vt(y){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<y;E++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const At=Gi("rcb"),Dn=new V(3e4,6e4);class sr{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=er().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return Ie(function vr(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&Ln(er().grecaptcha)?Promise.resolve(er().grecaptcha):new Promise((E,U)=>{const Ee=er().setTimeout(()=>{U(oe(h,"network-request-failed"))},Dn.get());er()[At]=()=>{er().clearTimeout(Ee),delete er()[At];const Ct=er().grecaptcha;if(!Ct||!Ln(Ct))return void U(oe(h,"internal-error"));const qt=Ct.render;Ct.render=(Tn,On)=>{const Bn=qt(Tn,On);return this.counter++,Bn},this.hostLanguage=p,E(Ct)},oi(`${function Uo(){return Zr.recaptchaV2Script}()}?${(0,B.Am)({onload:At,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(Ee),U(oe(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=er().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hn{load(h){return(0,a.A)(function*(){return new be(h)})()}clearedOneInstance(){}}const Fr="recaptcha",kr={theme:"light",type:"image"};class mo{constructor(h,p,E=Object.assign({},kr)){this.parameters=E,this.type=Fr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xn(h),this.isInvisible="invisible"===this.parameters.size,Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof p?document.getElementById(p):p;Ie(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hn:new sr,this.validateStartingState()}verify(){var h=this;return(0,a.A)(function*(){h.assertNotDestroyed();const p=yield h.render(),E=h.getAssertedRecaptcha();return E.getResponse(p)||new Promise(Ee=>{const et=Ct=>{Ct&&(h.tokenChangeListeners.delete(et),Ee(Ct))};h.tokenChangeListeners.add(et),h.isInvisible&&E.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Ie(!this.parameters.sitekey,this.auth,"argument-error"),Ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(E=>E(p)),"function"==typeof h)h(p);else if("string"==typeof h){const E=er()[h];"function"==typeof E&&E(p)}}}assertNotDestroyed(){Ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,a.A)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const E=document.createElement("div");p.appendChild(E),p=E}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,a.A)(function*(){Ie(xt()&&!nl(),h.auth,"internal-error"),yield function pi(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function ze(y){return _t.apply(this,arguments)}(h.auth);Ie(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return Ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fa{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Yi._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Zs(){return(Zs=(0,a.A)(function*(y,h,p){if((0,te._isFirebaseServerApp)(y.app))return Promise.reject(Le(y));const E=Xn(y),U=yield Js(E,h,(0,B.Ku)(p));return new fa(U,Ee=>$(E,Ee))})).apply(this,arguments)}function yd(){return(yd=(0,a.A)(function*(y,h,p){const E=(0,B.Ku)(y);yield Kc(!1,E,"phone");const U=yield Js(E.auth,h,(0,B.Ku)(p));return new fa(U,Ee=>Te(E,Ee))})).apply(this,arguments)}function ec(){return(ec=(0,a.A)(function*(y,h,p){const E=(0,B.Ku)(y);if((0,te._isFirebaseServerApp)(E.auth.app))return Promise.reject(Le(E.auth));const U=yield Js(E.auth,h,(0,B.Ku)(p));return new fa(U,Ee=>Vn(E,Ee))})).apply(this,arguments)}function Js(y,h,p){return Na.apply(this,arguments)}function Na(){return Na=(0,a.A)(function*(y,h,p){var E;const U=yield p.verify();try{let Ee;if(Ie("string"==typeof U,y,"argument-error"),Ie(p.type===Fr,y,"argument-error"),Ee="string"==typeof h?{phoneNumber:h}:h,"session"in Ee){const et=Ee.session;if("phoneNumber"in Ee)return Ie("enroll"===et.type,y,"internal-error"),(yield function ms(y,h){return ft(y,"POST","/v2/accounts/mfaEnrollment:start",Fe(y,h))}(y,{idToken:et.credential,phoneEnrollmentInfo:{phoneNumber:Ee.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{Ie("signin"===et.type,y,"internal-error");const Ct=(null===(E=Ee.multiFactorHint)||void 0===E?void 0:E.uid)||Ee.multiFactorUid;return Ie(Ct,y,"missing-multi-factor-info"),(yield function np(y,h){return ft(y,"POST","/v2/accounts/mfaSignIn:start",Fe(y,h))}(y,{mfaPendingCredential:et.credential,mfaEnrollmentId:Ct,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:et}=yield function br(y,h){return Or.apply(this,arguments)}(y,{phoneNumber:Ee.phoneNumber,recaptchaToken:U});return et}}finally{p._reset()}}),Na.apply(this,arguments)}function Sh(){return(Sh=(0,a.A)(function*(y,h){const p=(0,B.Ku)(y);if((0,te._isFirebaseServerApp)(p.auth.app))return Promise.reject(Le(p.auth));yield Ur(p,h)})).apply(this,arguments)}let tc=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=Xn(p)}verifyPhoneNumber(p,E){return Js(this.auth,p,(0,B.Ku)(E))}static credential(p,E){return Yi._fromVerification(p,E)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:E,temporaryProof:U}=p;return E&&U?Yi._fromTokenResponse(E,U):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function nc(y,h){return h?pn(h):(Ie(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ol extends ro{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return un(h,this._buildIdpRequest())}_linkToIdToken(h,p){return un(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return un(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Rh(y){return wl(y.auth,new Ol(y),y.bypassAuthState)}function rp(y){const{auth:h,user:p}=y;return Ie(p,h,"internal-error"),Cu(p,new Ol(y),y.bypassAuthState)}function Sc(y){return _d.apply(this,arguments)}function _d(){return(_d=(0,a.A)(function*(y){const{auth:h,user:p}=y;return Ie(p,h,"internal-error"),Ur(p,new Ol(y),y.bypassAuthState)})).apply(this,arguments)}class ol{constructor(h,p,E,U,Ee=!1){this.auth=h,this.resolver=E,this.user=U,this.bypassAuthState=Ee,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,a.A)(function*(E,U){h.pendingPromise={resolve:E,reject:U};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(Ee){h.reject(Ee)}});return function(E,U){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,a.A)(function*(){const{urlResponse:E,sessionId:U,postBody:Ee,tenantId:et,error:Ct,type:qt}=h;if(Ct)return void p.reject(Ct);const Tn={auth:p.auth,requestUri:E,sessionId:U,tenantId:et||void 0,postBody:Ee||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(qt)(Tn))}catch(On){p.reject(On)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Rh;case"linkViaPopup":case"linkViaRedirect":return Sc;case"reauthViaPopup":case"reauthViaRedirect":return rp;default:ce(this.auth,"internal-error")}}resolve(h){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){ht(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rc=new V(2e3,1e4);function pa(){return(pa=(0,a.A)(function*(y,h,p){if((0,te._isFirebaseServerApp)(y.app))return Promise.reject(oe(y,"operation-not-supported-in-this-environment"));const E=Xn(y);Re(y,h,Do);const U=nc(E,p);return new Mh(E,"signInViaPopup",h,U).executeNotNull()})).apply(this,arguments)}function es(){return(es=(0,a.A)(function*(y,h,p){const E=(0,B.Ku)(y);if((0,te._isFirebaseServerApp)(E.auth.app))return Promise.reject(oe(E.auth,"operation-not-supported-in-this-environment"));Re(E.auth,h,Do);const U=nc(E.auth,p);return new Mh(E.auth,"reauthViaPopup",h,U,E).executeNotNull()})).apply(this,arguments)}function wu(){return(wu=(0,a.A)(function*(y,h,p){const E=(0,B.Ku)(y);Re(E.auth,h,Do);const U=nc(E.auth,p);return new Mh(E.auth,"linkViaPopup",h,U,E).executeNotNull()})).apply(this,arguments)}let Mh=(()=>{class y extends ol{constructor(p,E,U,Ee,et){super(p,E,Ee,et),this.provider=U,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,a.A)(function*(){const E=yield p.execute();return Ie(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,a.A)(function*(){ht(1===p.filter.length,"Popup operations only handle one event");const E=Ja();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(U=>{p.reject(U)}),p.resolver._isIframeWebStorageSupported(p.auth,U=>{U||p.reject(oe(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(oe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,U;this.pollId=null!==(U=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==U&&U.closed?window.setTimeout(()=>{this.pollId=null,this.reject(oe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Rc.get())};p()}}return y.currentPopupAction=null,y})();const Su="pendingRedirect",ea=new Map;class ks extends ol{constructor(h,p,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,a.A)(function*(){let E=ea.get(p.auth._key());if(!E){try{const Ee=(yield function ip(y,h){return Id.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;E=()=>Promise.resolve(Ee)}catch(U){E=()=>Promise.reject(U)}ea.set(p.auth._key(),E)}return p.bypassAuthState||ea.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,E=this;return(0,a.A)(function*(){if("signInViaRedirect"===h.type)return p().call(E,h);if("unknown"!==h.type){if(h.eventId){const U=yield E.auth._redirectUserForId(h.eventId);if(U)return E.user=U,p().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,a.A)(function*(){})()}cleanUp(){}}function Id(){return(Id=(0,a.A)(function*(y,h){const p=rc(h),E=Mu(y);if(!(yield E._isAvailable()))return!1;const U="true"===(yield E._get(p));return yield E._remove(p),U})).apply(this,arguments)}function Cd(y,h){return Ru.apply(this,arguments)}function Ru(){return(Ru=(0,a.A)(function*(y,h){return Mu(y)._set(rc(h),"true")})).apply(this,arguments)}function kl(y,h){ea.set(y._key(),h)}function Mu(y){return pn(y._redirectPersistence)}function rc(y){return nr(Su,y.config.apiKey,y.name)}function Nh(y,h,p){return function op(y,h,p){return ki.apply(this,arguments)}(y,h,p)}function ki(){return(ki=(0,a.A)(function*(y,h,p){if((0,te._isFirebaseServerApp)(y.app))return Promise.reject(Le(y));const E=Xn(y);Re(y,h,Do),yield E._initializationPromise;const U=nc(E,p);return yield Cd(U,E),U._openRedirect(E,h,"signInViaRedirect")})).apply(this,arguments)}function sp(y,h,p){return function Oh(y,h,p){return Oa.apply(this,arguments)}(y,h,p)}function Oa(){return(Oa=(0,a.A)(function*(y,h,p){const E=(0,B.Ku)(y);if(Re(E.auth,h,Do),(0,te._isFirebaseServerApp)(E.auth.app))return Promise.reject(Le(E.auth));yield E.auth._initializationPromise;const U=nc(E.auth,p);yield Cd(U,E.auth);const Ee=yield oo(E);return U._openRedirect(E.auth,h,"reauthViaRedirect",Ee)})).apply(this,arguments)}function am(y,h,p){return function ap(y,h,p){return Mc.apply(this,arguments)}(y,h,p)}function Mc(){return(Mc=(0,a.A)(function*(y,h,p){const E=(0,B.Ku)(y);Re(E.auth,h,Do),yield E.auth._initializationPromise;const U=nc(E.auth,p);yield Kc(!1,E,h.providerId),yield Cd(U,E.auth);const Ee=yield oo(E);return U._openRedirect(E.auth,h,"linkViaRedirect",Ee)})).apply(this,arguments)}function Pc(){return(Pc=(0,a.A)(function*(y,h){return yield Xn(y)._initializationPromise,Nu(y,h,!1)})).apply(this,arguments)}function Nu(y,h){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,a.A)(function*(y,h,p=!1){if((0,te._isFirebaseServerApp)(y.app))return Promise.reject(Le(y));const E=Xn(y),U=nc(E,h),et=yield new ks(E,U,p).execute();return et&&!p&&(delete et.user._redirectEventId,yield E._persistUserIfCurrent(et.user),yield E._setRedirectUser(null,h)),et})).apply(this,arguments)}function oo(y){return _i.apply(this,arguments)}function _i(){return(_i=(0,a.A)(function*(y){const h=Ja(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Kn{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(p=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Xi(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fo(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var E;if(h.error&&!fo(h)){const U=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(oe(this.auth,U))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const E=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ki(h))}saveEventToCache(h){this.cachedEventUids.add(Ki(h)),this.lastProcessedEventTime=Date.now()}}function Ki(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function fo({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function Po(y){return Is.apply(this,arguments)}function Is(){return(Is=(0,a.A)(function*(y,h={}){return ft(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Si=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mi=/^https?/;function Qn(){return(Qn=(0,a.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Po(y);for(const p of h)try{if(Vl(p))return}catch{}ce(y,"unauthorized-domain")})).apply(this,arguments)}function Vl(y){const h=Et(),{protocol:p,hostname:E}=new URL(h);if(y.startsWith("chrome-extension://")){const et=new URL(y);return""===et.hostname&&""===E?"chrome-extension:"===p&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&et.hostname===E}if(!Mi.test(p))return!1;if(Si.test(y))return E===y;const U=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(E)}const cp=new V(3e4,6e4);function Nc(){const y=er().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let ma=null;const ta=new V(5e3,15e3),sl="__/auth/iframe",lp="emulator/auth/iframe",ic={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ad=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ls(y){const h=y.config;Ie(h.authDomain,y,"auth-domain-config-required");const p=h.emulator?j(h,lp):`https://${y.config.authDomain}/${sl}`,E={apiKey:h.apiKey,appName:y.name,v:te.SDK_VERSION},U=Ad.get(y.config.apiHost);U&&(E.eid=U);const Ee=y._getFrameworks();return Ee.length&&(E.fw=Ee.join(",")),`${p}?${(0,B.Am)(E).slice(1)}`}function oc(){return oc=(0,a.A)(function*(y){const h=yield function Bl(y){return ma=ma||function Li(y){return new Promise((h,p)=>{var E,U,Ee;function et(){Nc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Nc(),p(oe(y,"network-request-failed"))},timeout:cp.get()})}if(null!==(U=null===(E=er().gapi)||void 0===E?void 0:E.iframes)&&void 0!==U&&U.Iframe)h(gapi.iframes.getContext());else{if(null===(Ee=er().gapi)||void 0===Ee||!Ee.load){const Ct=Gi("iframefcb");return er()[Ct]=()=>{gapi.load?et():p(oe(y,"network-request-failed"))},oi(`${function ti(){return Zr.gapiScript}()}?onload=${Ct}`).catch(qt=>p(qt))}et()}}).catch(h=>{throw ma=null,h})}(y),ma}(y),p=er().gapi;return Ie(p,y,"internal-error"),h.open({where:document.body,url:Ls(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ic,dontclear:!0},E=>new Promise(function(){var U=(0,a.A)(function*(Ee,et){yield E.restyle({setHideOnLeave:!1});const Ct=oe(y,"network-request-failed"),qt=er().setTimeout(()=>{et(Ct)},ta.get());function Tn(){er().clearTimeout(qt),Ee(E)}E.ping(Tn).then(Tn,()=>{et(Ct)})});return function(Ee,et){return U.apply(this,arguments)}}()))}),oc.apply(this,arguments)}const Ul={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ou{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const so="__/auth/handler",cl="emulator/auth/handler",Td=encodeURIComponent("fac");function Vs(y,h,p,E,U,Ee){return ll.apply(this,arguments)}function ll(){return(ll=(0,a.A)(function*(y,h,p,E,U,Ee){Ie(y.config.authDomain,y,"auth-domain-config-required"),Ie(y.config.apiKey,y,"invalid-api-key");const et={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:E,v:te.SDK_VERSION,eventId:U};if(h instanceof Do){h.setDefaultLanguage(y.languageCode),et.providerId=h.providerId||"",(0,B.Im)(h.getCustomParameters())||(et.customParameters=JSON.stringify(h.getCustomParameters()));for(const[On,Bn]of Object.entries(Ee||{}))et[On]=Bn}if(h instanceof zo){const On=h.getScopes().filter(Bn=>""!==Bn);On.length>0&&(et.scopes=On.join(","))}y.tenantId&&(et.tid=y.tenantId);const Ct=et;for(const On of Object.keys(Ct))void 0===Ct[On]&&delete Ct[On];const qt=yield y._getAppCheckToken(),Tn=qt?`#${Td}=${encodeURIComponent(qt)}`:"";return`${function xd({config:y}){return y.emulator?j(y,cl):`https://${y.authDomain}/${so}`}(y)}?${(0,B.Am)(Ct).slice(1)}${Tn}`})).apply(this,arguments)}const Fh="webStorageSupport",jl=class $l{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Mo,this._completeRedirectFn=Nu,this._overrideRedirectResult=kl}_openPopup(h,p,E,U){var Ee=this;return(0,a.A)(function*(){var et;ht(null===(et=Ee.eventManagers[h._key()])||void 0===et?void 0:et.manager,"_initialize() not called before _openPopup()");const Ct=yield Vs(h,p,E,Et(),U);return function po(y,h,p,E=500,U=600){const Ee=Math.max((window.screen.availHeight-U)/2,0).toString(),et=Math.max((window.screen.availWidth-E)/2,0).toString();let Ct="";const qt=Object.assign(Object.assign({},Ul),{width:E.toString(),height:U.toString(),top:Ee,left:et}),Tn=(0,B.ZQ)().toLowerCase();p&&(Ct=Vr(Tn)?"_blank":p),Rr(Tn)&&(h=h||"http://localhost",qt.scrollbars="yes");const On=Object.entries(qt).reduce((ji,[gi,ra])=>`${ji}${gi}=${ra},`,"");if(function he(y=(0,B.ZQ)()){var h;return Ui(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Tn)&&"_self"!==Ct)return function vo(y,h){const p=document.createElement("a");p.href=y,p.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(h||"",Ct),new Ou(null);const Bn=window.open(h||"",Ct,On);Ie(Bn,y,"popup-blocked");try{Bn.focus()}catch{}return new Ou(Bn)}(h,Ct,Ja())})()}_openRedirect(h,p,E,U){var Ee=this;return(0,a.A)(function*(){return yield Ee._originValidation(h),function ys(y){er().location.href=y}(yield Vs(h,p,E,Et(),U)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:U,promise:Ee}=this.eventManagers[p];return U?Promise.resolve(U):(ht(Ee,"If manager is not set, promise should be"),Ee)}const E=this.initAndGetManager(h);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(h){var p=this;return(0,a.A)(function*(){const E=yield function Un(y){return oc.apply(this,arguments)}(h),U=new Kn(h);return E.register("authEvent",Ee=>(Ie(Ee?.authEvent,h,"invalid-auth-event"),{status:U.onEvent(Ee.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:U},p.iframes[h._key()]=E,U})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Fh,{type:Fh},U=>{var Ee;const et=null===(Ee=U?.[0])||void 0===Ee?void 0:Ee[Fh];void 0!==et&&p(!!et),ce(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ga(y){return Qn.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ye()||Yr()||Ui()}};class up{constructor(h){this.factorId=h}_process(h,p,E){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,E);case"signin":return this._finalizeSignIn(h,p.credential);default:return rt("unexpected MultiFactorSessionType")}}}class Hl extends up{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Hl(h)}_finalizeEnroll(h,p,E){return function Jo(y,h){return ft(y,"POST","/v2/accounts/mfaEnrollment:finalize",Fe(y,h))}(h,{idToken:p,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function I(y,h){return ft(y,"POST","/v2/accounts/mfaSignIn:finalize",Fe(y,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dp=(()=>{class y{constructor(){}static assertion(p){return Hl._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var kh="@firebase/auth";class um{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,a.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(E=>{h(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gl(){return window}(0,B.XA)("authIdTokenMaxAge"),function cr(y){Zr=y}({loadJS:y=>new Promise((h,p)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=h,E.onerror=U=>{const Ee=oe("internal-error");Ee.customData=U,p(Ee)},E.type="text/javascript",E.charset="UTF-8",function fm(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(E)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function dm(y){(0,te._registerComponent)(new ge.uA("auth",(h,{options:p})=>{const E=h.getProvider("app").getImmediate(),U=h.getProvider("heartbeat"),Ee=h.getProvider("app-check-internal"),{apiKey:et,authDomain:Ct}=E.options;Ie(et&&!et.includes(":"),"invalid-api-key",{appName:E.name});const qt={apiKey:et,authDomain:Ct,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ze(y)},Tn=new fr(E,U,Ee,qt);return function Rs(y,h){const p=h?.persistence||[],E=(Array.isArray(p)?p:[p]).map(pn);h?.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(E,h?.popupRedirectResolver)}(Tn,p),Tn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,E)=>{h.getProvider("auth-internal").initialize()})),(0,te._registerComponent)(new ge.uA("auth-internal",h=>{const p=Xn(h.getProvider("auth").getImmediate());return new um(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,te.registerVersion)(kh,"1.7.9",function mv(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,te.registerVersion)(kh,"1.7.9","esm2017")}("Browser");function Kl(){return Kl=(0,a.A)(function*(y,h,p){var E;const{BuildInfo:U}=Gl();ht(h.sessionId,"AuthEvent did not contain a session ID");const Ee=yield function pm(y){return ul.apply(this,arguments)}(h.sessionId),et={};return Ui()?et.ibi=U.packageName:zr()?et.apn=U.packageName:ce(y,"operation-not-supported-in-this-environment"),U.displayName&&(et.appDisplayName=U.displayName),et.sessionId=Ee,Vs(y,p,h.type,void 0,null!==(E=h.eventId)&&void 0!==E?E:void 0,et)}),Kl.apply(this,arguments)}function Lu(){return(Lu=(0,a.A)(function*(y){const{BuildInfo:h}=Gl(),p={};Ui()?p.iosBundleId=h.packageName:zr()?p.androidPackageName=h.packageName:ce(y,"operation-not-supported-in-this-environment"),yield Po(y,p)})).apply(this,arguments)}function wd(){return(wd=(0,a.A)(function*(y,h,p){const{cordova:E}=Gl();let U=()=>{};try{yield new Promise((Ee,et)=>{let Ct=null;function qt(){var Bn;Ee();const ji=null===(Bn=E.plugins.browsertab)||void 0===Bn?void 0:Bn.close;"function"==typeof ji&&ji(),"function"==typeof p?.close&&p.close()}function Tn(){Ct||(Ct=window.setTimeout(()=>{et(oe(y,"redirect-cancelled-by-user"))},2e3))}function On(){"visible"===document?.visibilityState&&Tn()}h.addPassiveListener(qt),document.addEventListener("resume",Tn,!1),zr()&&document.addEventListener("visibilitychange",On,!1),U=()=>{h.removePassiveListener(qt),document.removeEventListener("resume",Tn,!1),document.removeEventListener("visibilitychange",On,!1),Ct&&window.clearTimeout(Ct)}})}finally{U()}})).apply(this,arguments)}function ul(){return(ul=(0,a.A)(function*(y){const h=function gp(y){if(ht(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),p=new Uint8Array(h);for(let E=0;E<y.length;E++)p[E]=y.charCodeAt(E);return p}(y),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Rd extends Kn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,a.A)(function*(){yield h.initPromise})()}}function dl(y){return sc.apply(this,arguments)}function sc(){return(sc=(0,a.A)(function*(y){const h=yield Oc()._get(ac(y));return h&&(yield Oc()._remove(ac(y))),h})).apply(this,arguments)}function Bh(){const y=[];for(let p=0;p<20;p++){const E=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(E))}return y.join("")}function Oc(){return pn(Rl)}function ac(y){return nr("authEvent",y.config.apiKey,y.name)}function Fc(y){if(!y?.includes("?"))return{};const[h,...p]=y.split("?");return(0,B.I9)(p.join("?"))}const Oo=class na{constructor(){this._redirectPersistence=Mo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Nu,this._overrideRedirectResult=kl}_initialize(h){var p=this;return(0,a.A)(function*(){const E=h._key();let U=p.eventManagers.get(E);return U||(U=new Rd(h),p.eventManagers.set(E,U),p.attachCallbackListeners(h,U)),U})()}_openPopup(h){ce(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,E,U){var Ee=this;return(0,a.A)(function*(){!function Sd(y){var h,p,E,U,Ee,et,Ct,qt,Tn,On;const Bn=Gl();Ie("function"==typeof(null===(h=Bn?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ie(typeof(null===(p=Bn?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ie("function"==typeof(null===(Ee=null===(U=null===(E=Bn?.cordova)||void 0===E?void 0:E.plugins)||void 0===U?void 0:U.browsertab)||void 0===Ee?void 0:Ee.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(qt=null===(Ct=null===(et=Bn?.cordova)||void 0===et?void 0:et.plugins)||void 0===Ct?void 0:Ct.browsertab)||void 0===qt?void 0:qt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ie("function"==typeof(null===(On=null===(Tn=Bn?.cordova)||void 0===Tn?void 0:Tn.InAppBrowser)||void 0===On?void 0:On.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const et=yield Ee._initialize(h);yield et.initialized(),et.resetRedirect(),function Ph(){ea.clear()}(),yield Ee._originValidation(h);const Ct=function Vu(y,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:Bh(),postBody:null,tenantId:y.tenantId,error:oe(y,"no-auth-event")}}(h,E,U);yield function Lr(y,h){return Oc()._set(ac(y),h)}(h,Ct);const qt=yield function Wl(y,h,p){return Kl.apply(this,arguments)}(h,Ct,p),Tn=yield function fp(y){const{cordova:h}=Gl();return new Promise(p=>{h.plugins.browsertab.isAvailable(E=>{let U=null;E?h.plugins.browsertab.openUrl(y):U=h.InAppBrowser.open(y,function _e(y=(0,B.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(U)})})}(qt);return function pp(y,h,p){return wd.apply(this,arguments)}(h,et,Tn)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Xl(y){return Lu.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:E,handleOpenURL:U,BuildInfo:Ee}=Gl(),et=setTimeout((0,a.A)(function*(){yield dl(h),p.onEvent(Uh())}),500),Ct=function(){var On=(0,a.A)(function*(Bn){clearTimeout(et);const ji=yield dl(h);let gi=null;ji&&Bn?.url&&(gi=function No(y,h){var p,E;const U=function Md(y){const h=Fc(y),p=h.link?decodeURIComponent(h.link):void 0,E=Fc(p).link,U=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Fc(U).link||U||E||p||y}(h);if(U.includes("/__/auth/callback")){const Ee=Fc(U),et=Ee.firebaseError?function Cs(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(Ee.firebaseError)):null,Ct=null===(E=null===(p=et?.code)||void 0===p?void 0:p.split("auth/"))||void 0===E?void 0:E[1],qt=Ct?oe(Ct):null;return qt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:qt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:U,postBody:null}}return null}(ji,Bn.url)),p.onEvent(gi||Uh())});return function(ji){return On.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,Ct);const qt=U,Tn=`${Ee.packageName.toLowerCase()}://`;Gl().handleOpenURL=function(){var On=(0,a.A)(function*(Bn){if(Bn.toLowerCase().startsWith(Tn)&&Ct({url:Bn}),"function"==typeof qt)try{qt(Bn)}catch(ji){console.error(ji)}});return function(Bn){return On.apply(this,arguments)}}()}};function Uh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:oe("no-auth-event")}}function cc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Fa(y=(0,B.ZQ)()){return!("file:"!==cc()&&"ionic:"!==cc()&&"capacitor:"!==cc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function zh(){try{const y=self.localStorage,h=Ja();if(y)return y.setItem(h,"1"),y.removeItem(h),!function Ql(y=(0,B.ZQ)()){return function Pd(){return(0,B.lT)()&&11===document?.documentMode}()||function Hh(y=(0,B.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.zW)()}catch{return kc()&&(0,B.zW)()}return!1}function kc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Bu(){return(function jh(){return"http:"===cc()||"https:"===cc()}()||(0,B.sr)()||Fa())&&!function mr(){return(0,B.lV)()||(0,B.Ll)()}()&&zh()&&!kc()}function Uu(){return Fa()&&typeof document<"u"}function _a(){return(_a=(0,a.A)(function*(){return!!Uu()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const ts={LOCAL:"local",NONE:"none",SESSION:"session"},gl=Ie,lc="persistence";function Xt(y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,a.A)(function*(y){yield y._initializationPromise;const h=$u(),p=nr(lc,y.config.apiKey,y.name);h&&h.setItem(p,y._getPersistence())})).apply(this,arguments)}function $u(){var y;try{return(null===(y=function mp(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const di=Ie;class Ea{constructor(){this.browserResolver=pn(jl),this.cordovaResolver=pn(Oo),this.underlyingResolver=null,this._redirectPersistence=Mo,this._completeRedirectFn=Nu,this._overrideRedirectResult=kl}_initialize(h){var p=this;return(0,a.A)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,E,U){var Ee=this;return(0,a.A)(function*(){return yield Ee.selectUnderlyingResolver(),Ee.assertedUnderlyingResolver._openPopup(h,p,E,U)})()}_openRedirect(h,p,E,U){var Ee=this;return(0,a.A)(function*(){return yield Ee.selectUnderlyingResolver(),Ee.assertedUnderlyingResolver._openRedirect(h,p,E,U)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Uu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return di(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,a.A)(function*(){if(h.underlyingResolver)return;const p=yield function pl(){return _a.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Yl(y){return y.unwrap()}function Zl(y){return Nd(y)}function Nd(y){const{_tokenResponse:h}=y instanceof B.g?y.customData:y;if(!h)return null;if(!(y instanceof B.g)&&"temporaryProof"in h&&"phoneNumber"in h)return tc.credentialFromResult(y);const p=h.providerId;if(!p||p===de.PASSWORD)return null;let E;switch(p){case de.GOOGLE:E=bi;break;case de.FACEBOOK:E=$i;break;case de.GITHUB:E=Gr;break;case de.TWITTER:E=ds;break;default:const{oauthIdToken:U,oauthAccessToken:Ee,oauthTokenSecret:et,pendingToken:Ct,nonce:qt}=h;return Ee||et||U||Ct?Ct?p.startsWith("saml.")?wr._create(p,Ct):kn._fromParams({providerId:p,signInMethod:p,pendingToken:Ct,idToken:U,accessToken:Ee}):new uo(p).credential({idToken:U,accessToken:Ee,rawNonce:qt}):null}return y instanceof B.g?E.credentialFromError(y):E.credentialFromResult(y)}function yo(y,h){return h.catch(p=>{throw p instanceof B.g&&function ju(y,h){var p;const E=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new _p(y,function ho(y,h){var p;const E=(0,B.Ku)(y),U=h;return Ie(h.customData.operationType,E,"argument-error"),Ie(null===(p=U.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,E,"argument-error"),Ko._fromError(E,U)}(y,h));else if(E){const U=Nd(h),Ee=h;U&&(Ee.credential=U,Ee.tenantId=E.tenantId||void 0,Ee.email=E.email||void 0,Ee.phoneNumber=E.phoneNumber||void 0)}}(y,p),p}).then(p=>{const U=p.user;return{operationType:p.operationType,credential:Zl(p),additionalUserInfo:se(p),user:Ia.getOrCreate(U)}})}function Od(y,h){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,a.A)(function*(y,h){const p=yield h;return{verificationId:p.verificationId,confirm:E=>yo(y,p.confirm(E))}})).apply(this,arguments)}class _p{constructor(h,p){this.resolver=p,this.auth=function Bs(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return yo(Yl(this.auth),this.resolver.resolveSignIn(h))}}class Ia{constructor(h){this._delegate=h,this.multiFactor=function Sl(y){const h=(0,B.Ku)(y);return Ps.has(h)||Ps.set(h,ur._fromUser(h)),Ps.get(h)}(h)}static getOrCreate(h){return Ia.USER_MAP.has(h)||Ia.USER_MAP.set(h,new Ia(h)),Ia.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,a.A)(function*(){return yo(p.auth,Te(p._delegate,h))})()}linkWithPhoneNumber(h,p){var E=this;return(0,a.A)(function*(){return Od(E.auth,function om(y,h,p){return yd.apply(this,arguments)}(E._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,a.A)(function*(){return yo(p.auth,function Fl(y,h,p){return wu.apply(this,arguments)}(p._delegate,h,Ea))})()}linkWithRedirect(h){var p=this;return(0,a.A)(function*(){return yield Xt(Xn(p.auth)),am(p._delegate,h,Ea)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,a.A)(function*(){return yo(p.auth,Vn(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return Od(this.auth,function il(y,h,p){return ec.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return yo(this.auth,function Ed(y,h,p){return es.apply(this,arguments)}(this._delegate,h,Ea))}reauthenticateWithRedirect(h){var p=this;return(0,a.A)(function*(){return yield Xt(Xn(p.auth)),sp(p._delegate,h,Ea)})()}sendEmailVerification(h){return function Wr(y,h){return Jc.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,a.A)(function*(){return yield function Yo(y,h){return Wa.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function Xs(y,h){const p=(0,B.Ku)(y);return(0,te._isFirebaseServerApp)(p.auth.app)?Promise.reject(Le(p.auth)):Fi(p,h,null)}(this._delegate,h)}updatePassword(h){return function qs(y,h){return Fi((0,B.Ku)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function wc(y,h){return Sh.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function el(y,h){return Cr.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function Ic(y,h,p){return Cc.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ia.USER_MAP=new WeakMap;const ao=Ie;let ka=(()=>{class y{constructor(p,E){if(this.app=p,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=p.options;ao(U,"invalid-api-key",{appName:p.name}),ao(U,"invalid-api-key",{appName:p.name});const Ee=typeof window<"u"?Ea:void 0;this._delegate=E.initialize({options:{persistence:Ca(U,p.name),popupRedirectResolver:Ee}}),this._delegate._updateErrorMap(fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ia.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,E){!function Io(y,h,p){const E=Xn(y);Ie(E._canInitEmulator,E,"emulator-config-failed"),Ie(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const U=!!p?.disableWarnings,Ee=cs(h),{host:et,port:Ct}=function ja(y){const h=cs(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(E);if(U){const Ee=U[1];return{host:Ee,port:ls(E.substr(Ee.length+1))}}{const[Ee,et]=E.split(":");return{host:Ee,port:ls(et)}}}(h);E.config.emulator={url:`${Ee}//${et}${null===Ct?"":`:${Ct}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:et,port:Ct,protocol:Ee.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function ni(){function y(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,E)}applyActionCode(p){return function qa(y,h){return go.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return fs(this._delegate,p)}confirmPasswordReset(p,E){return function or(y,h,p){return Ms.apply(this,arguments)}(this._delegate,p,E)}createUserWithEmailAndPassword(p,E){var U=this;return(0,a.A)(function*(){return yo(U._delegate,function ca(y,h,p){return Du.apply(this,arguments)}(U._delegate,p,E))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Zc(y,h){return En.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Yc(y,h){const p=lo.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}(0,p)}getRedirectResult(){var p=this;return(0,a.A)(function*(){ao(Bu(),p._delegate,"operation-not-supported-in-this-environment");const E=yield function Pu(y,h){return Pc.apply(this,arguments)}(p._delegate,Ea);return E?yo(p._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function $h(y,h){Xn(y)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,E,U){const{next:Ee,error:et,complete:Ct}=Hu(p,E,U);return this._delegate.onAuthStateChanged(Ee,et,Ct)}onIdTokenChanged(p,E,U){const{next:Ee,error:et,complete:Ct}=Hu(p,E,U);return this._delegate.onIdTokenChanged(Ee,et,Ct)}sendSignInLinkToEmail(p,E){return function Qc(y,h,p){return Wo.apply(this,arguments)}(this._delegate,p,E)}sendPasswordResetEmail(p,E){return function Xa(y,h,p){return aa.apply(this,arguments)}(this._delegate,p,E||void 0)}setPersistence(p){var E=this;return(0,a.A)(function*(){let U;switch(function vp(y,h){gl(Object.values(ts).includes(h),y,"invalid-persistence-type"),(0,B.lV)()?gl(h!==ts.SESSION,y,"unsupported-persistence-type"):(0,B.Ll)()?gl(h===ts.NONE,y,"unsupported-persistence-type"):kc()?gl(h===ts.NONE||h===ts.LOCAL&&(0,B.zW)(),y,"unsupported-persistence-type"):gl(h===ts.NONE||zh(),y,"unsupported-persistence-type")}(E._delegate,p),p){case ts.SESSION:U=Mo;break;case ts.LOCAL:U=(yield pn(bc)._isAvailable())?bc:Rl;break;case ts.NONE:U=pt;break;default:return ce("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return yo(this._delegate,function ba(y){return Wi.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return yo(this._delegate,$(this._delegate,p))}signInWithCustomToken(p){return yo(this._delegate,function Jr(y,h){return hs.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,E){return yo(this._delegate,function Go(y,h,p){return(0,te._isFirebaseServerApp)(y.app)?Promise.reject(Le(y)):$((0,B.Ku)(y),us.credential(h,p)).catch(function(){var E=(0,a.A)(function*(U){throw"auth/password-does-not-meet-requirements"===U.code&&Oi(y),U});return function(U){return E.apply(this,arguments)}}())}(this._delegate,p,E))}signInWithEmailLink(p,E){return yo(this._delegate,function wo(y,h,p){return Qa.apply(this,arguments)}(this._delegate,p,E))}signInWithPhoneNumber(p,E){return Od(this._delegate,function Ys(y,h,p){return Zs.apply(this,arguments)}(this._delegate,p,E))}signInWithPopup(p){var E=this;return(0,a.A)(function*(){return ao(Bu(),E._delegate,"operation-not-supported-in-this-environment"),yo(E._delegate,function sm(y,h,p){return pa.apply(this,arguments)}(E._delegate,p,Ea))})()}signInWithRedirect(p){var E=this;return(0,a.A)(function*(){return ao(Bu(),E._delegate,"operation-not-supported-in-this-environment"),yield Xt(E._delegate),Nh(E._delegate,p,Ea)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function qc(y,h){return Au.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ts,y})();function Hu(y,h,p){let E=y;"function"!=typeof y&&({next:E,error:h,complete:p}=y);const U=E;return{next:et=>U(et&&Ia.getOrCreate(et)),error:h,complete:p}}function Ca(y,h){const p=function yp(y,h){const p=$u();if(!p)return[];const E=nr(lc,y,h);switch(p.getItem(E)){case ts.NONE:return[pt];case ts.LOCAL:return[bc,Mo];case ts.SESSION:return[Mo];default:return[]}}(y,h);if(typeof self<"u"&&!p.includes(bc)&&p.push(bc),typeof window<"u")for(const E of[Rl,Mo])p.includes(E)||p.push(E);return p.includes(pt)||p.push(pt),p}class Us{constructor(){this.providerId="phone",this._delegate=new tc(Yl(x.A.auth()))}static credential(h,p){return tc.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}Us.PHONE_SIGN_IN_METHOD=tc.PHONE_SIGN_IN_METHOD,Us.PROVIDER_ID=tc.PROVIDER_ID;const mm=Ie;class kd{constructor(h,p,E=x.A.app()){var U;mm(null===(U=E.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new mo(E.auth(),h,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Gh(y){y.INTERNAL.registerComponent(new ge.uA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),E=h.getProvider("auth");return new ka(p,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:us,FacebookAuthProvider:$i,GithubAuthProvider:Gr,GoogleAuthProvider:bi,OAuthProvider:uo,SAMLAuthProvider:Br,PhoneAuthProvider:Us,PhoneMultiFactorGenerator:dp,RecaptchaVerifier:kd,TwitterAuthProvider:ds,Auth:ka,AuthCredential:ro,Error:B.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.14")}(x.A)},467:(St,Ke,b)=>{"use strict";function a(te,B,ae,ne,ge,G,de){try{var ie=te[G](de),F=ie.value}catch(ue){return void ae(ue)}ie.done?B(F):Promise.resolve(F).then(ne,ge)}function x(te){return function(){var B=this,ae=arguments;return new Promise(function(ne,ge){var G=te.apply(B,ae);function de(F){a(G,ne,ge,de,ie,"next",F)}function ie(F){a(G,ne,ge,de,ie,"throw",F)}de(void 0)})}}b.d(Ke,{A:()=>x})},1635:(St,Ke,b)=>{"use strict";function B(V,j){var Z={};for(var Ce in V)Object.prototype.hasOwnProperty.call(V,Ce)&&j.indexOf(Ce)<0&&(Z[Ce]=V[Ce]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var ut=0;for(Ce=Object.getOwnPropertySymbols(V);ut<Ce.length;ut++)j.indexOf(Ce[ut])<0&&Object.prototype.propertyIsEnumerable.call(V,Ce[ut])&&(Z[Ce[ut]]=V[Ce[ut]])}return Z}function ae(V,j,Z,Ce){var ft,ut=arguments.length,Fe=ut<3?j:null===Ce?Ce=Object.getOwnPropertyDescriptor(j,Z):Ce;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Fe=Reflect.decorate(V,j,Z,Ce);else for(var We=V.length-1;We>=0;We--)(ft=V[We])&&(Fe=(ut<3?ft(Fe):ut>3?ft(j,Z,Fe):ft(j,Z))||Fe);return ut>3&&Fe&&Object.defineProperty(j,Z,Fe),Fe}function ue(V,j,Z,Ce){return new(Z||(Z=Promise))(function(Fe,ft){function We(gt){try{Ot(Ce.next(gt))}catch(Jt){ft(Jt)}}function en(gt){try{Ot(Ce.throw(gt))}catch(Jt){ft(Jt)}}function Ot(gt){gt.done?Fe(gt.value):function ut(Fe){return Fe instanceof Z?Fe:new Z(function(ft){ft(Fe)})}(gt.value).then(We,en)}Ot((Ce=Ce.apply(V,j||[])).next())})}function we(V){return this instanceof we?(this.v=V,this):new we(V)}function ce(V,j,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ut,Ce=Z.apply(V,j||[]),Fe=[];return ut=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),We("next"),We("throw"),We("return",function ft(fn){return function(Gt){return Promise.resolve(Gt).then(fn,Jt)}}),ut[Symbol.asyncIterator]=function(){return this},ut;function We(fn,Gt){Ce[fn]&&(ut[fn]=function(Ht){return new Promise(function(Ln,Bt){Fe.push([fn,Ht,Ln,Bt])>1||en(fn,Ht)})},Gt&&(ut[fn]=Gt(ut[fn])))}function en(fn,Gt){try{!function Ot(fn){fn.value instanceof we?Promise.resolve(fn.value.v).then(gt,Jt):yn(Fe[0][2],fn)}(Ce[fn](Gt))}catch(Ht){yn(Fe[0][3],Ht)}}function gt(fn){en("next",fn)}function Jt(fn){en("throw",fn)}function yn(fn,Gt){fn(Gt),Fe.shift(),Fe.length&&en(Fe[0][0],Fe[0][1])}}function Se(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,j=V[Symbol.asyncIterator];return j?j.call(V):(V=function xe(V){var j="function"==typeof Symbol&&Symbol.iterator,Z=j&&V[j],Ce=0;if(Z)return Z.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&Ce>=V.length&&(V=void 0),{value:V&&V[Ce++],done:!V}}};throw new TypeError(j?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),Z={},Ce("next"),Ce("throw"),Ce("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function Ce(Fe){Z[Fe]=V[Fe]&&function(ft){return new Promise(function(We,en){!function ut(Fe,ft,We,en){Promise.resolve(en).then(function(Ot){Fe({value:Ot,done:We})},ft)}(We,en,(ft=V[Fe](ft)).done,ft.value)})}}}b.d(Ke,{AQ:()=>ce,Cg:()=>ae,N3:()=>we,Tt:()=>B,sH:()=>ue,xN:()=>Se}),"function"==typeof SuppressedError&&SuppressedError}},St=>{St(St.s=1164)}]);