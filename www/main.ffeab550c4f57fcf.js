(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8792],{1076:(un,ft,O)=>{"use strict";O.d(ft,{Am:()=>Mn,Bd:()=>Re,FA:()=>qe,Fy:()=>je,I9:()=>yn,Im:()=>Pe,Ku:()=>Ut,Ll:()=>Tt,T9:()=>Je,Uj:()=>Ge,XA:()=>ge,ZQ:()=>Ye,bD:()=>nn,c1:()=>Vt,cY:()=>me,eX:()=>we,g:()=>ht,gR:()=>xt,hp:()=>kt,jZ:()=>Ue,lT:()=>pt,lV:()=>qt,mS:()=>ke,nr:()=>Q,p7:()=>Ft,sr:()=>pn,tD:()=>pr,u:()=>ye,zW:()=>re,zw:()=>Oe});const Z=function(Ee){const Te=[];let Be=0;for(let St=0;St<Ee.length;St++){let dt=Ee.charCodeAt(St);dt<128?Te[Be++]=dt:dt<2048?(Te[Be++]=dt>>6|192,Te[Be++]=63&dt|128):55296==(64512&dt)&&St+1<Ee.length&&56320==(64512&Ee.charCodeAt(St+1))?(dt=65536+((1023&dt)<<10)+(1023&Ee.charCodeAt(++St)),Te[Be++]=dt>>18|240,Te[Be++]=dt>>12&63|128,Te[Be++]=dt>>6&63|128,Te[Be++]=63&dt|128):(Te[Be++]=dt>>12|224,Te[Be++]=dt>>6&63|128,Te[Be++]=63&dt|128)}return Te},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,Te){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Be=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,St=[];for(let dt=0;dt<Ee.length;dt+=3){const gn=Ee[dt],dn=dt+1<Ee.length,Cr=dn?Ee[dt+1]:0,at=dt+2<Ee.length,er=at?Ee[dt+2]:0;let Mr=(15&Cr)<<2|er>>6,qr=63&er;at||(qr=64,dn||(Mr=64)),St.push(Be[gn>>2],Be[(3&gn)<<4|Cr>>4],Be[Mr],Be[qr])}return St.join("")},encodeString(Ee,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(Ee):this.encodeByteArray(Z(Ee),Te)},decodeString(Ee,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(Ee):function(Ee){const Te=[];let Be=0,St=0;for(;Be<Ee.length;){const dt=Ee[Be++];if(dt<128)Te[St++]=String.fromCharCode(dt);else if(dt>191&&dt<224){const gn=Ee[Be++];Te[St++]=String.fromCharCode((31&dt)<<6|63&gn)}else if(dt>239&&dt<365){const at=((7&dt)<<18|(63&Ee[Be++])<<12|(63&Ee[Be++])<<6|63&Ee[Be++])-65536;Te[St++]=String.fromCharCode(55296+(at>>10)),Te[St++]=String.fromCharCode(56320+(1023&at))}else{const gn=Ee[Be++],dn=Ee[Be++];Te[St++]=String.fromCharCode((15&dt)<<12|(63&gn)<<6|63&dn)}}return Te.join("")}(this.decodeStringToByteArray(Ee,Te))},decodeStringToByteArray(Ee,Te){this.init_();const Be=Te?this.charToByteMapWebSafe_:this.charToByteMap_,St=[];for(let dt=0;dt<Ee.length;){const gn=Be[Ee.charAt(dt++)],Cr=dt<Ee.length?Be[Ee.charAt(dt)]:0;++dt;const er=dt<Ee.length?Be[Ee.charAt(dt)]:64;++dt;const $n=dt<Ee.length?Be[Ee.charAt(dt)]:64;if(++dt,null==gn||null==Cr||null==er||null==$n)throw new Ae;St.push(gn<<2|Cr>>4),64!==er&&(St.push(Cr<<4&240|er>>2),64!==$n&&St.push(er<<6&192|$n))}return St},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}};class Ae extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ge=function(Ee){return function(Ee){const Te=Z(Ee);return ae.encodeByteArray(Te,!0)}(Ee).replace(/\./g,"")},ye=function(Ee){try{return ae.decodeString(Ee,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function Oe(Ee,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return Te}for(const Be in Te)!Te.hasOwnProperty(Be)||!Ve(Be)||(Ee[Be]=Oe(Ee[Be],Te[Be]));return Ee}function Ve(Ee){return"__proto__"!==Ee}function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const He=()=>{try{return ke().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Ee=process.env.__FIREBASE_DEFAULTS__;return Ee?JSON.parse(Ee):void 0})()||(()=>{if(typeof document>"u")return;let Ee;try{Ee=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const Te=Ee&&ye(Ee[1]);return Te&&JSON.parse(Te)})()}catch(Ee){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ee}`)}},Je=()=>{var Ee;return null===(Ee=He())||void 0===Ee?void 0:Ee.config},ge=Ee=>{var Te;return null===(Te=He())||void 0===Te?void 0:Te[`_${Ee}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,Be)=>{this.resolve=Te,this.reject=Be})}wrapCallback(Te){return(Be,St)=>{Be?this.reject(Be):this.resolve(St),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(Be):Te(Be,St))}}}function je(Ee,Te){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const St=Te||"demo-project",dt=Ee.iat||0,gn=Ee.sub||Ee.user_id;if(!gn)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const dn=Object.assign({iss:`https://securetoken.google.com/${St}`,aud:St,iat:dt,exp:dt+3600,auth_time:dt,sub:gn,user_id:gn,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[Ge(JSON.stringify({alg:"none",type:"JWT"})),Ge(JSON.stringify(dn)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Tt(){var Ee;const Te=null===(Ee=He())||void 0===Ee?void 0:Ee.forceEnvironment;if("node"===Te)return!0;if("browser"===Te)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Re(){return typeof window<"u"||Ft()}function Ft(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function Vt(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}function pn(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function pt(){const Ee=Ye();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function Q(){return!Tt()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function re(){try{return"object"==typeof indexedDB}catch{return!1}}function we(){return new Promise((Ee,Te)=>{try{let Be=!0;const St="validate-browser-context-for-indexeddb-analytics-module",dt=self.indexedDB.open(St);dt.onsuccess=()=>{dt.result.close(),Be||self.indexedDB.deleteDatabase(St),Ee(!0)},dt.onupgradeneeded=()=>{Be=!1},dt.onerror=()=>{var gn;Te((null===(gn=dt.error)||void 0===gn?void 0:gn.message)||"")}}catch(Be){Te(Be)}})}class ht extends Error{constructor(Te,Be,St){super(Be),this.code=Te,this.customData=St,this.name="FirebaseError",Object.setPrototypeOf(this,ht.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qe.prototype.create)}}class qe{constructor(Te,Be,St){this.service=Te,this.serviceName=Be,this.errors=St}create(Te,...Be){const St=Be[0]||{},dt=`${this.service}/${Te}`,gn=this.errors[Te],dn=gn?function en(Ee,Te){return Ee.replace(Mt,(Be,St)=>{const dt=Te[St];return null!=dt?String(dt):`<${St}?>`})}(gn,St):"Error";return new ht(dt,`${this.serviceName}: ${dn} (${dt}).`,St)}}const Mt=/\{\$([^}]+)}/g;function xt(Ee,Te){return Object.prototype.hasOwnProperty.call(Ee,Te)}function Pe(Ee){for(const Te in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Te))return!1;return!0}function nn(Ee,Te){if(Ee===Te)return!0;const Be=Object.keys(Ee),St=Object.keys(Te);for(const dt of Be){if(!St.includes(dt))return!1;const gn=Ee[dt],dn=Te[dt];if(An(gn)&&An(dn)){if(!nn(gn,dn))return!1}else if(gn!==dn)return!1}for(const dt of St)if(!Be.includes(dt))return!1;return!0}function An(Ee){return null!==Ee&&"object"==typeof Ee}function Mn(Ee){const Te=[];for(const[Be,St]of Object.entries(Ee))Array.isArray(St)?St.forEach(dt=>{Te.push(encodeURIComponent(Be)+"="+encodeURIComponent(dt))}):Te.push(encodeURIComponent(Be)+"="+encodeURIComponent(St));return Te.length?"&"+Te.join("&"):""}function yn(Ee){const Te={};return Ee.replace(/^\?/,"").split("&").forEach(St=>{if(St){const[dt,gn]=St.split("=");Te[decodeURIComponent(dt)]=decodeURIComponent(gn)}}),Te}function kt(Ee){const Te=Ee.indexOf("?");if(!Te)return"";const Be=Ee.indexOf("#",Te);return Ee.substring(Te,Be>0?Be:void 0)}function pr(Ee,Te){const Be=new yr(Ee,Te);return Be.subscribe.bind(Be)}class yr{constructor(Te,Be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Be,this.task.then(()=>{Te(this)}).catch(St=>{this.error(St)})}next(Te){this.forEachObserver(Be=>{Be.next(Te)})}error(Te){this.forEachObserver(Be=>{Be.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,Be,St){let dt;if(void 0===Te&&void 0===Be&&void 0===St)throw new Error("Missing Observer.");dt=function Rr(Ee,Te){if("object"!=typeof Ee||null===Ee)return!1;for(const Be of Te)if(Be in Ee&&"function"==typeof Ee[Be])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:Be,complete:St},void 0===dt.next&&(dt.next=Nn),void 0===dt.error&&(dt.error=Nn),void 0===dt.complete&&(dt.complete=Nn);const gn=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?dt.error(this.finalError):dt.complete()}catch{}}),this.observers.push(dt),gn}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let Be=0;Be<this.observers.length;Be++)this.sendOne(Be,Te)}sendOne(Te,Be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{Be(this.observers[Te])}catch(St){typeof console<"u"&&console.error&&console.error(St)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nn(){}function Ut(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},4442:(un,ft,O)=>{"use strict";O.d(ft,{L:()=>be,a:()=>ae,b:()=>Ae,c:()=>Fe,d:()=>Ge,g:()=>pt}),O(5531);const be="ionViewWillEnter",ae="ionViewDidEnter",Ae="ionViewWillLeave",Fe="ionViewDidLeave",Ge="ionViewWillUnload",pt=_e=>_e.classList.contains("ion-page")?_e:_e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||_e},5531:(un,ft,O)=>{"use strict";O.d(ft,{a:()=>ye,c:()=>L,g:()=>Ge});class c{constructor(){this.m=new Map}reset(_e){this.m=new Map(Object.entries(_e))}get(_e,q){const Q=this.m.get(_e);return void 0!==Q?Q:q}getBoolean(_e,q=!1){const Q=this.m.get(_e);return void 0===Q?q:"string"==typeof Q?"true"===Q:!!Q}getNumber(_e,q){const Q=parseFloat(this.m.get(_e));return isNaN(Q)?void 0!==q?q:NaN:Q}set(_e,q){this.m.set(_e,q)}}const L=new c,Ge=pt=>le(pt),ye=(pt,_e)=>("string"==typeof pt&&(_e=pt,pt=void 0),Ge(pt).includes(_e)),le=(pt=window)=>{if(typeof pt>"u")return[];pt.Ionic=pt.Ionic||{};let _e=pt.Ionic.platforms;return null==_e&&(_e=pt.Ionic.platforms=Oe(pt),_e.forEach(q=>pt.document.documentElement.classList.add(`plt-${q}`))),_e},Oe=pt=>{const _e=L.get("platform");return Object.keys(Vt).filter(q=>{const Q=_e?.[q];return"function"==typeof Q?Q(pt):Vt[q](pt)})},ke=pt=>!!(Re(pt,/iPad/i)||Re(pt,/Macintosh/i)&&Je(pt)),Ze=pt=>Re(pt,/android|sink/i),Je=pt=>Ft(pt,"(any-pointer:coarse)"),me=pt=>je(pt)||Ye(pt),je=pt=>!!(pt.cordova||pt.phonegap||pt.PhoneGap),Ye=pt=>{const _e=pt.Capacitor;return!!_e?.isNative},Re=(pt,_e)=>_e.test(pt.navigator.userAgent),Ft=(pt,_e)=>{var q;return null===(q=pt.matchMedia)||void 0===q?void 0:q.call(pt,_e).matches},Vt={ipad:ke,iphone:pt=>Re(pt,/iPhone/i),ios:pt=>Re(pt,/iPhone|iPod/i)||ke(pt),android:Ze,phablet:pt=>{const _e=pt.innerWidth,q=pt.innerHeight,Q=Math.min(_e,q),re=Math.max(_e,q);return Q>390&&Q<520&&re>620&&re<800},tablet:pt=>{const _e=pt.innerWidth,q=pt.innerHeight,Q=Math.min(_e,q),re=Math.max(_e,q);return ke(pt)||(pt=>Ze(pt)&&!Re(pt,/mobile/i))(pt)||Q>460&&Q<820&&re>780&&re<1400},cordova:je,capacitor:Ye,electron:pt=>Re(pt,/electron/i),pwa:pt=>{var _e;return!!(null!==(_e=pt.matchMedia)&&void 0!==_e&&_e.call(pt,"(display-mode: standalone)").matches||pt.navigator.standalone)},mobile:Je,mobileweb:pt=>Je(pt)&&!me(pt),desktop:pt=>!Je(pt),hybrid:me}},9986:(un,ft,O)=>{"use strict";O.d(ft,{c:()=>ae});var c=O(8476);let L;const Z=(Ae,Fe,Ge)=>{const ye=Fe.startsWith("animation")?(Ae=>(void 0===L&&(L=void 0===Ae.style.animationName&&void 0!==Ae.style.webkitAnimationName?"-webkit-":""),L))(Ae):"";Ae.style.setProperty(ye+Fe,Ge)},be=(Ae=[],Fe)=>{if(void 0!==Fe){const Ge=Array.isArray(Fe)?Fe:[Fe];return[...Ae,...Ge]}return Ae},ae=Ae=>{let Fe,Ge,ye,le,Oe,Ve,He,Ue,Tt,Re,qt,ke=[],Qe=[],rt=[],Ze=!1,st={},pe=[],Je=[],ge={},me=0,je=!1,Ye=!1,Ft=!0,Vt=!1,pn=!0,vn=!1;const pt=Ae,_e=[],q=[],Q=[],re=[],we=[],gt=[],Ie=[],ht=[],qe=[],en=[],Mt=[],ut="function"==typeof AnimationEffect||void 0!==c.w&&"function"==typeof c.w.AnimationEffect,Jt="function"==typeof Element&&"function"==typeof Element.prototype.animate&&ut,Cn=()=>Mt,xt=(de,tt)=>{const Nt=tt.findIndex(sn=>sn.c===de);Nt>-1&&tt.splice(Nt,1)},Pe=(de,tt)=>((tt?.oneTimeCallback?q:_e).push({c:de,o:tt}),qt),nn=()=>{Jt&&(Mt.forEach(de=>{de.cancel()}),Mt.length=0)},An=()=>{gt.forEach(de=>{de?.parentNode&&de.parentNode.removeChild(de)}),gt.length=0},bn=()=>void 0!==Oe?Oe:He?He.getFill():"both",tn=()=>void 0!==Ue?Ue:void 0!==Ve?Ve:He?He.getDirection():"normal",hi=()=>je?"linear":void 0!==ye?ye:He?He.getEasing():"linear",xn=()=>Ye?0:void 0!==Tt?Tt:void 0!==Ge?Ge:He?He.getDuration():0,ri=()=>void 0!==le?le:He?He.getIterations():1,lr=()=>void 0!==Re?Re:void 0!==Fe?Fe:He?He.getDelay():0,dn=()=>{0!==me&&(me--,0===me&&((()=>{qe.forEach(kn=>kn()),en.forEach(kn=>kn());const de=Ft?1:0,tt=pe,Nt=Je,sn=ge;re.forEach(kn=>{const ur=kn.classList;tt.forEach(Kn=>ur.add(Kn)),Nt.forEach(Kn=>ur.remove(Kn));for(const Kn in sn)sn.hasOwnProperty(Kn)&&Z(kn,Kn,sn[Kn])}),Tt=void 0,Ue=void 0,Re=void 0,_e.forEach(kn=>kn.c(de,qt)),q.forEach(kn=>kn.c(de,qt)),q.length=0,pn=!0,Ft&&(Vt=!0),Ft=!0})(),He&&He.animationFinish()))},at=()=>{(()=>{Ie.forEach(sn=>sn()),ht.forEach(sn=>sn());const de=Qe,tt=rt,Nt=st;re.forEach(sn=>{const kn=sn.classList;de.forEach(ur=>kn.add(ur)),tt.forEach(ur=>kn.remove(ur));for(const ur in Nt)Nt.hasOwnProperty(ur)&&Z(sn,ur,Nt[ur])})})(),ke.length>0&&Jt&&(re.forEach(de=>{const tt=de.animate(ke,{id:pt,delay:lr(),duration:xn(),easing:hi(),iterations:ri(),fill:bn(),direction:tn()});tt.pause(),Mt.push(tt)}),Mt.length>0&&(Mt[0].onfinish=()=>{dn()})),Ze=!0},er=de=>{de=Math.min(Math.max(de,0),.9999),Jt&&Mt.forEach(tt=>{tt.currentTime=tt.effect.getComputedTiming().delay+xn()*de,tt.pause()})},qn=de=>{Mt.forEach(tt=>{tt.effect.updateTiming({delay:lr(),duration:xn(),easing:hi(),iterations:ri(),fill:bn(),direction:tn()})}),void 0!==de&&er(de)},$n=(de=!1,tt=!0,Nt)=>(de&&we.forEach(sn=>{sn.update(de,tt,Nt)}),Jt&&qn(Nt),qt),Mi=()=>{Ze&&(Jt?Mt.forEach(de=>{de.pause()}):re.forEach(de=>{Z(de,"animation-play-state","paused")}),vn=!0)},te=de=>new Promise(tt=>{de?.sync&&(Ye=!0,Pe(()=>Ye=!1,{oneTimeCallback:!0})),Ze||at(),Vt&&(Jt&&(er(0),qn()),Vt=!1),pn&&(me=we.length+1,pn=!1);const Nt=()=>{xt(sn,q),tt()},sn=()=>{xt(Nt,Q),tt()};Pe(sn,{oneTimeCallback:!0}),(de=>{Q.push({c:de,o:{oneTimeCallback:!0}})})(Nt),we.forEach(kn=>{kn.play()}),Jt?(Mt.forEach(de=>{de.play()}),(0===ke.length||0===re.length)&&dn()):dn(),vn=!1}),U=(de,tt)=>{const Nt=ke[0];return void 0===Nt||void 0!==Nt.offset&&0!==Nt.offset?ke=[{offset:0,[de]:tt},...ke]:Nt[de]=tt,qt};return qt={parentAnimation:He,elements:re,childAnimations:we,id:pt,animationFinish:dn,from:U,to:(de,tt)=>{const Nt=ke[ke.length-1];return void 0===Nt||void 0!==Nt.offset&&1!==Nt.offset?ke=[...ke,{offset:1,[de]:tt}]:Nt[de]=tt,qt},fromTo:(de,tt,Nt)=>U(de,tt).to(de,Nt),parent:de=>(He=de,qt),play:te,pause:()=>(we.forEach(de=>{de.pause()}),Mi(),qt),stop:()=>{we.forEach(de=>{de.stop()}),Ze&&(nn(),Ze=!1),je=!1,Ye=!1,pn=!0,Ue=void 0,Tt=void 0,Re=void 0,me=0,Vt=!1,Ft=!0,vn=!1,Q.forEach(de=>de.c(0,qt)),Q.length=0},destroy:de=>(we.forEach(tt=>{tt.destroy(de)}),(de=>{nn(),de&&An()})(de),re.length=0,we.length=0,ke.length=0,_e.length=0,q.length=0,Ze=!1,pn=!0,qt),keyframes:de=>{const tt=ke!==de;return ke=de,tt&&(de=>{Jt&&Cn().forEach(tt=>{const Nt=tt.effect;if(Nt.setKeyframes)Nt.setKeyframes(de);else{const sn=new KeyframeEffect(Nt.target,de,Nt.getTiming());tt.effect=sn}})})(ke),qt},addAnimation:de=>{if(null!=de)if(Array.isArray(de))for(const tt of de)tt.parent(qt),we.push(tt);else de.parent(qt),we.push(de);return qt},addElement:de=>{if(null!=de)if(1===de.nodeType)re.push(de);else if(de.length>=0)for(let tt=0;tt<de.length;tt++)re.push(de[tt]);else console.error("Invalid addElement value");return qt},update:$n,fill:de=>(Oe=de,$n(!0),qt),direction:de=>(Ve=de,$n(!0),qt),iterations:de=>(le=de,$n(!0),qt),duration:de=>(!Jt&&0===de&&(de=1),Ge=de,$n(!0),qt),easing:de=>(ye=de,$n(!0),qt),delay:de=>(Fe=de,$n(!0),qt),getWebAnimations:Cn,getKeyframes:()=>ke,getFill:bn,getDirection:tn,getDelay:lr,getIterations:ri,getEasing:hi,getDuration:xn,afterAddRead:de=>(qe.push(de),qt),afterAddWrite:de=>(en.push(de),qt),afterClearStyles:(de=[])=>{for(const tt of de)ge[tt]="";return qt},afterStyles:(de={})=>(ge=de,qt),afterRemoveClass:de=>(Je=be(Je,de),qt),afterAddClass:de=>(pe=be(pe,de),qt),beforeAddRead:de=>(Ie.push(de),qt),beforeAddWrite:de=>(ht.push(de),qt),beforeClearStyles:(de=[])=>{for(const tt of de)st[tt]="";return qt},beforeStyles:(de={})=>(st=de,qt),beforeRemoveClass:de=>(rt=be(rt,de),qt),beforeAddClass:de=>(Qe=be(Qe,de),qt),onFinish:Pe,isRunning:()=>0!==me&&!vn,progressStart:(de=!1,tt)=>(we.forEach(Nt=>{Nt.progressStart(de,tt)}),Mi(),je=de,Ze||at(),$n(!1,!0,tt),qt),progressStep:de=>(we.forEach(tt=>{tt.progressStep(de)}),er(de),qt),progressEnd:(de,tt,Nt)=>(je=!1,we.forEach(sn=>{sn.progressEnd(de,tt,Nt)}),void 0!==Nt&&(Tt=Nt),Vt=!1,Ft=!0,0===de?(Ue="reverse"===tn()?"normal":"reverse","reverse"===Ue&&(Ft=!1),Jt?($n(),er(1-tt)):(Re=(1-tt)*xn()*-1,$n(!1,!1))):1===de&&(Jt?($n(),er(tt)):(Re=tt*xn()*-1,$n(!1,!1))),void 0!==de&&!He&&te(),qt)}}},464:(un,ft,O)=>{"use strict";O.d(ft,{E:()=>ye,a:()=>c,s:()=>Fe});const c=le=>{try{if(le instanceof Ae)return le.value;if(!Z()||"string"!=typeof le||""===le)return le;if(le.includes("onload="))return"";const Oe=document.createDocumentFragment(),Ve=document.createElement("div");Oe.appendChild(Ve),Ve.innerHTML=le,ae.forEach(Ze=>{const He=Oe.querySelectorAll(Ze);for(let st=He.length-1;st>=0;st--){const pe=He[st];pe.parentNode?pe.parentNode.removeChild(pe):Oe.removeChild(pe);const Je=ce(pe);for(let ge=0;ge<Je.length;ge++)L(Je[ge])}});const ke=ce(Oe);for(let Ze=0;Ze<ke.length;Ze++)L(ke[Ze]);const Qe=document.createElement("div");Qe.appendChild(Oe);const rt=Qe.querySelector("div");return null!==rt?rt.innerHTML:Qe.innerHTML}catch(Oe){return console.error(Oe),""}},L=le=>{if(le.nodeType&&1!==le.nodeType)return;if(typeof NamedNodeMap<"u"&&!(le.attributes instanceof NamedNodeMap))return void le.remove();for(let Ve=le.attributes.length-1;Ve>=0;Ve--){const ke=le.attributes.item(Ve),Qe=ke.name;if(!be.includes(Qe.toLowerCase())){le.removeAttribute(Qe);continue}const rt=ke.value,Ze=le[Qe];(null!=rt&&rt.toLowerCase().includes("javascript:")||null!=Ze&&Ze.toLowerCase().includes("javascript:"))&&le.removeAttribute(Qe)}const Oe=ce(le);for(let Ve=0;Ve<Oe.length;Ve++)L(Oe[Ve])},ce=le=>null!=le.children?le.children:le.childNodes,Z=()=>{var le;const Oe=window,Ve=null===(le=Oe?.Ionic)||void 0===le?void 0:le.config;return!Ve||(Ve.get?Ve.get("sanitizerEnabled",!0):!0===Ve.sanitizerEnabled||void 0===Ve.sanitizerEnabled)},be=["class","id","href","src","name","slot"],ae=["script","style","iframe","meta","link","object","embed"];class Ae{constructor(Oe){this.value=Oe}}const Fe=le=>{const Oe=window,Ve=Oe.Ionic;if(!Ve||!Ve.config||"Object"===Ve.config.constructor.name)return Oe.Ionic=Oe.Ionic||{},Oe.Ionic.config=Object.assign(Object.assign({},Oe.Ionic.config),le),Oe.Ionic.config},ye=!1},8621:(un,ft,O)=>{"use strict";O.d(ft,{C:()=>be,a:()=>ce,d:()=>Z});var c=O(467),L=O(4920);const ce=function(){var ae=(0,c.A)(function*(Ae,Fe,Ge,ye,le,Oe){var Ve;if(Ae)return Ae.attachViewToDom(Fe,Ge,le,ye);if(!(Oe||"string"==typeof Ge||Ge instanceof HTMLElement))throw new Error("framework delegate is missing");const ke="string"==typeof Ge?null===(Ve=Fe.ownerDocument)||void 0===Ve?void 0:Ve.createElement(Ge):Ge;return ye&&ye.forEach(Qe=>ke.classList.add(Qe)),le&&Object.assign(ke,le),Fe.appendChild(ke),yield new Promise(Qe=>(0,L.c)(ke,Qe)),ke});return function(Fe,Ge,ye,le,Oe,Ve){return ae.apply(this,arguments)}}(),Z=(ae,Ae)=>{if(Ae){if(ae)return ae.removeViewFromDom(Ae.parentElement,Ae);Ae.remove()}return Promise.resolve()},be=()=>{let ae,Ae;return{attachViewToDom:function(){var ye=(0,c.A)(function*(le,Oe,Ve={},ke=[]){var Qe,rt;let Ze;if(ae=le,Oe){const st="string"==typeof Oe?null===(Qe=ae.ownerDocument)||void 0===Qe?void 0:Qe.createElement(Oe):Oe;ke.forEach(pe=>st.classList.add(pe)),Object.assign(st,Ve),ae.appendChild(st),Ze=st,yield new Promise(pe=>(0,L.c)(st,pe))}else if(ae.children.length>0&&("ION-MODAL"===ae.tagName||"ION-POPOVER"===ae.tagName)&&!(Ze=ae.children[0]).classList.contains("ion-delegate-host")){const pe=null===(rt=ae.ownerDocument)||void 0===rt?void 0:rt.createElement("div");pe.classList.add("ion-delegate-host"),ke.forEach(Je=>pe.classList.add(Je)),pe.append(...ae.children),ae.appendChild(pe),Ze=pe}const He=document.querySelector("ion-app")||document.body;return Ae=document.createComment("ionic teleport"),ae.parentNode.insertBefore(Ae,ae),He.appendChild(ae),Ze??ae});return function(Oe,Ve){return ye.apply(this,arguments)}}(),removeViewFromDom:()=>(ae&&Ae&&(Ae.parentNode.insertBefore(ae,Ae),Ae.remove()),Promise.resolve())}}},1970:(un,ft,O)=>{"use strict";O.d(ft,{B:()=>Z,G:()=>be});class L{constructor(Ae,Fe,Ge,ye,le){this.id=Fe,this.name=Ge,this.disableScroll=le,this.priority=1e6*ye+Fe,this.ctrl=Ae}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const Ae=this.ctrl.capture(this.name,this.id,this.priority);return Ae&&this.disableScroll&&this.ctrl.disableScroll(this.id),Ae}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class ce{constructor(Ae,Fe,Ge,ye){this.id=Fe,this.disable=Ge,this.disableScroll=ye,this.ctrl=Ae}block(){if(this.ctrl){if(this.disable)for(const Ae of this.disable)this.ctrl.disableGesture(Ae,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const Ae of this.disable)this.ctrl.enableGesture(Ae,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Z="backdrop-no-scroll",be=new class c{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(Ae){var Fe;return new L(this,this.newID(),Ae.name,null!==(Fe=Ae.priority)&&void 0!==Fe?Fe:0,!!Ae.disableScroll)}createBlocker(Ae={}){return new ce(this,this.newID(),Ae.disable,!!Ae.disableScroll)}start(Ae,Fe,Ge){return this.canStart(Ae)?(this.requestedStart.set(Fe,Ge),!0):(this.requestedStart.delete(Fe),!1)}capture(Ae,Fe,Ge){if(!this.start(Ae,Fe,Ge))return!1;const ye=this.requestedStart;let le=-1e4;if(ye.forEach(Oe=>{le=Math.max(le,Oe)}),le===Ge){this.capturedId=Fe,ye.clear();const Oe=new CustomEvent("ionGestureCaptured",{detail:{gestureName:Ae}});return document.dispatchEvent(Oe),!0}return ye.delete(Fe),!1}release(Ae){this.requestedStart.delete(Ae),this.capturedId===Ae&&(this.capturedId=void 0)}disableGesture(Ae,Fe){let Ge=this.disabledGestures.get(Ae);void 0===Ge&&(Ge=new Set,this.disabledGestures.set(Ae,Ge)),Ge.add(Fe)}enableGesture(Ae,Fe){const Ge=this.disabledGestures.get(Ae);void 0!==Ge&&Ge.delete(Fe)}disableScroll(Ae){this.disabledScroll.add(Ae),1===this.disabledScroll.size&&document.body.classList.add(Z)}enableScroll(Ae){this.disabledScroll.delete(Ae),0===this.disabledScroll.size&&document.body.classList.remove(Z)}canStart(Ae){return!(void 0!==this.capturedId||this.isDisabled(Ae))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(Ae){const Fe=this.disabledGestures.get(Ae);return!!(Fe&&Fe.size>0)}newID(){return this.gestureId++,this.gestureId}}},7192:(un,ft,O)=>{"use strict";O.r(ft),O.d(ft,{MENU_BACK_BUTTON_PRIORITY:()=>Ge,OVERLAY_BACK_BUTTON_PRIORITY:()=>Fe,blockHardwareBackButton:()=>ae,shouldUseCloseWatcher:()=>be,startHardwareBackButton:()=>Ae});var c=O(467),L=O(8476),ce=O(9483);O(4261);const be=()=>ce.c.get("experimentalCloseWatcher",!1)&&void 0!==L.w&&"CloseWatcher"in L.w,ae=()=>{document.addEventListener("backbutton",()=>{})},Ae=()=>{const ye=document;let le=!1;const Oe=()=>{if(le)return;let Ve=0,ke=[];const Qe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(He,st){ke.push({priority:He,handler:st,id:Ve++})}}});ye.dispatchEvent(Qe);const rt=function(){var He=(0,c.A)(function*(st){try{if(st?.handler){const pe=st.handler(Ze);null!=pe&&(yield pe)}}catch(pe){console.error(pe)}});return function(pe){return He.apply(this,arguments)}}(),Ze=()=>{if(ke.length>0){let He={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ke.forEach(st=>{st.priority>=He.priority&&(He=st)}),le=!0,ke=ke.filter(st=>st.id!==He.id),rt(He).then(()=>le=!1)}};Ze()};if(be()){let Ve;const ke=()=>{Ve?.destroy(),Ve=new L.w.CloseWatcher,Ve.onclose=()=>{Oe(),ke()}};ke()}else ye.addEventListener("backbutton",Oe)},Fe=100,Ge=99},4920:(un,ft,O)=>{"use strict";O.d(ft,{a:()=>Fe,b:()=>Ge,c:()=>ce,d:()=>ke,e:()=>st,f:()=>Ve,g:()=>ye,h:()=>be,i:()=>Ae,j:()=>Qe,k:()=>Z,l:()=>Oe,m:()=>rt,n:()=>He,o:()=>pe,p:()=>Ze,r:()=>le,s:()=>Je,t:()=>c});const c=(ge,me=0)=>new Promise(je=>{L(ge,me,je)}),L=(ge,me=0,je)=>{let Ye,Ue;const Tt={passive:!0},Ft=()=>{Ye&&Ye()},Vt=pn=>{(void 0===pn||ge===pn.target)&&(Ft(),je(pn))};return ge&&(ge.addEventListener("webkitTransitionEnd",Vt,Tt),ge.addEventListener("transitionend",Vt,Tt),Ue=setTimeout(Vt,me+500),Ye=()=>{void 0!==Ue&&(clearTimeout(Ue),Ue=void 0),ge.removeEventListener("webkitTransitionEnd",Vt,Tt),ge.removeEventListener("transitionend",Vt,Tt)}),Ft},ce=(ge,me)=>{ge.componentOnReady?ge.componentOnReady().then(je=>me(je)):le(()=>me(ge))},Z=ge=>void 0!==ge.componentOnReady,be=(ge,me=[])=>{const je={};return me.forEach(Ye=>{ge.hasAttribute(Ye)&&(null!==ge.getAttribute(Ye)&&(je[Ye]=ge.getAttribute(Ye)),ge.removeAttribute(Ye))}),je},ae=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Ae=(ge,me)=>{let je=ae;return me&&me.length>0&&(je=je.filter(Ye=>!me.includes(Ye))),be(ge,je)},Fe=(ge,me,je,Ye)=>{var Ue;if(typeof window<"u"){const Tt=window,Re=null===(Ue=Tt?.Ionic)||void 0===Ue?void 0:Ue.config;if(Re){const Ft=Re.get("_ael");if(Ft)return Ft(ge,me,je,Ye);if(Re._ael)return Re._ael(ge,me,je,Ye)}}return ge.addEventListener(me,je,Ye)},Ge=(ge,me,je,Ye)=>{var Ue;if(typeof window<"u"){const Tt=window,Re=null===(Ue=Tt?.Ionic)||void 0===Ue?void 0:Ue.config;if(Re){const Ft=Re.get("_rel");if(Ft)return Ft(ge,me,je,Ye);if(Re._rel)return Re._rel(ge,me,je,Ye)}}return ge.removeEventListener(me,je,Ye)},ye=(ge,me=ge)=>ge.shadowRoot||me,le=ge=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ge):"function"==typeof requestAnimationFrame?requestAnimationFrame(ge):setTimeout(ge),Oe=ge=>!!ge.shadowRoot&&!!ge.attachShadow,Ve=ge=>{if(ge.focus(),ge.classList.contains("ion-focusable")){const me=ge.closest("ion-app");me&&me.setFocus([ge])}},ke=(ge,me,je,Ye,Ue)=>{if(ge||Oe(me)){let Tt=me.querySelector("input.aux-input");Tt||(Tt=me.ownerDocument.createElement("input"),Tt.type="hidden",Tt.classList.add("aux-input"),me.appendChild(Tt)),Tt.disabled=Ue,Tt.name=je,Tt.value=Ye||""}},Qe=(ge,me,je)=>Math.max(ge,Math.min(me,je)),rt=(ge,me)=>{if(!ge){const je="ASSERT: "+me;throw console.error(je),new Error(je)}},Ze=ge=>{if(ge){const me=ge.changedTouches;if(me&&me.length>0){const je=me[0];return{x:je.clientX,y:je.clientY}}if(void 0!==ge.pageX)return{x:ge.pageX,y:ge.pageY}}return{x:0,y:0}},He=ge=>{const me="rtl"===document.dir;switch(ge){case"start":return me;case"end":return!me;default:throw new Error(`"${ge}" is not a valid value for [side]. Use "start" or "end" instead.`)}},st=(ge,me)=>{const je=ge._original||ge;return{_original:ge,emit:pe(je.emit.bind(je),me)}},pe=(ge,me=0)=>{let je;return(...Ye)=>{clearTimeout(je),je=setTimeout(ge,me,...Ye)}},Je=(ge,me)=>{if(ge??(ge={}),me??(me={}),ge===me)return!0;const je=Object.keys(ge);if(je.length!==Object.keys(me).length)return!1;for(const Ye of je)if(!(Ye in me)||ge[Ye]!==me[Ye])return!1;return!0}},4261:(un,ft,O)=>{"use strict";O.d(ft,{B:()=>ae,a:()=>pn,b:()=>wi,c:()=>bn,d:()=>ri,e:()=>qe,f:()=>kt,g:()=>tn,h:()=>Mn,i:()=>xn,j:()=>Jr,k:()=>Mt,r:()=>Ge,w:()=>en});var c=O(467);var Z=Object.defineProperty,ae={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},Ae=new WeakMap,Fe=k=>Ae.get(k),Ge=(k,J)=>Ae.set(J.$lazyInstance$=k,J),le=(k,J)=>J in k,Oe=(k,J)=>(0,console.error)(k,J),Ve=new Map,Qe=new Map,rt=[],Je="s-id",Ye="slot-fb{display:contents}slot-fb[hidden]{display:none}",Ue="http://www.w3.org/1999/xlink",Tt=typeof window<"u"?window:{},Re=Tt.document||{head:{}},Vt={$flags$:0,$resourcesUrl$:"",jmp:k=>k(),raf:k=>requestAnimationFrame(k),ael:(k,J,Ce,xe)=>k.addEventListener(J,Ce,xe),rel:(k,J,Ce,xe)=>k.removeEventListener(J,Ce,xe),ce:(k,J)=>new CustomEvent(k,J)},pn=k=>{Object.assign(Vt,k)},vn=(()=>{let k=!1;try{Re.addEventListener("e",null,Object.defineProperty({},"passive",{get(){k=!0}}))}catch{}return k})(),_e=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),q=!1,Q=[],re=[],we=(k,J)=>Ce=>{k.push(Ce),q||(q=!0,J&&4&Vt.$flags$?ht(Ie):Vt.raf(Ie))},gt=k=>{for(let J=0;J<k.length;J++)try{k[J](performance.now())}catch(Ce){Oe(Ce)}k.length=0},Ie=()=>{gt(Q),gt(re),(q=Q.length>0)&&Vt.raf(Ie)},ht=k=>Promise.resolve(void 0).then(k),qe=we(Q,!1),en=we(re,!0),Mt=k=>{const J=new URL(k,Vt.$resourcesUrl$);return J.origin!==Tt.location.origin?J.href:J.pathname},ut={},Ht=k=>"object"==(k=typeof k)||"function"===k;function $t(k){var J,Ce,xe;return null!=(xe=null==(Ce=null==(J=k.head)?void 0:J.querySelector('meta[name="csp-nonce"]'))?void 0:Ce.getAttribute("content"))?xe:void 0}((k,J)=>{for(var Ce in J)Z(k,Ce,{get:J[Ce],enumerable:!0})})({},{err:()=>Se,map:()=>Pe,ok:()=>xt,unwrap:()=>_t,unwrapErr:()=>nn});var xt=k=>({isOk:!0,isErr:!1,value:k}),Se=k=>({isOk:!1,isErr:!0,value:k});function Pe(k,J){if(k.isOk){const Ce=J(k.value);return Ce instanceof Promise?Ce.then(xe=>xt(xe)):xt(Ce)}if(k.isErr)return Se(k.value);throw"should never get here"}var _t=k=>{if(k.isOk)return k.value;throw k.value},nn=k=>{if(k.isErr)return k.value;throw k.value},Mn=(k,J,...Ce)=>{let xe=null,nt=null,ct=null,Lt=!1,Kt=!1;const Bt=[],Wt=_n=>{for(let Pn=0;Pn<_n.length;Pn++)xe=_n[Pn],Array.isArray(xe)?Wt(xe):null!=xe&&"boolean"!=typeof xe&&((Lt="function"!=typeof k&&!Ht(xe))&&(xe=String(xe)),Lt&&Kt?Bt[Bt.length-1].$text$+=xe:Bt.push(Lt?yn(null,xe):xe),Kt=Lt)};if(Wt(Ce),J){J.key&&(nt=J.key),J.name&&(ct=J.name);{const _n=J.className||J.class;_n&&(J.class="object"!=typeof _n?_n:Object.keys(_n).filter(Pn=>_n[Pn]).join(" "))}}if("function"==typeof k)return k(null===J?{}:J,Bt,pr);const an=yn(k,null);return an.$attrs$=J,Bt.length>0&&(an.$children$=Bt),an.$key$=nt,an.$name$=ct,an},yn=(k,J)=>({$flags$:0,$tag$:k,$text$:J,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),kt={},pr={forEach:(k,J)=>k.map(yr).forEach(J),map:(k,J)=>k.map(yr).map(J).map(Jn)},yr=k=>({vattrs:k.$attrs$,vchildren:k.$children$,vkey:k.$key$,vname:k.$name$,vtag:k.$tag$,vtext:k.$text$}),Jn=k=>{if("function"==typeof k.vtag){const Ce={...k.vattrs};return k.vkey&&(Ce.key=k.vkey),k.vname&&(Ce.name=k.vname),Mn(k.vtag,Ce,...k.vchildren||[])}const J=yn(k.vtag,k.vtext);return J.$attrs$=k.vattrs,J.$children$=k.vchildren,J.$key$=k.vkey,J.$name$=k.vname,J},Nn=(k,J,Ce,xe,nt,ct,Lt)=>{let Kt,Bt,Wt,an;if(1===ct.nodeType){if(Kt=ct.getAttribute("c-id"),Kt&&(Bt=Kt.split("."),(Bt[0]===Lt||"0"===Bt[0])&&(Wt={$flags$:0,$hostId$:Bt[0],$nodeId$:Bt[1],$depth$:Bt[2],$index$:Bt[3],$tag$:ct.tagName.toLowerCase(),$elm$:ct,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},J.push(Wt),ct.removeAttribute("c-id"),k.$children$||(k.$children$=[]),k.$children$[Wt.$index$]=Wt,k=Wt,xe&&"0"===Wt.$depth$&&(xe[Wt.$index$]=Wt.$elm$))),ct.shadowRoot)for(an=ct.shadowRoot.childNodes.length-1;an>=0;an--)Nn(k,J,Ce,xe,nt,ct.shadowRoot.childNodes[an],Lt);for(an=ct.childNodes.length-1;an>=0;an--)Nn(k,J,Ce,xe,nt,ct.childNodes[an],Lt)}else if(8===ct.nodeType)Bt=ct.nodeValue.split("."),(Bt[1]===Lt||"0"===Bt[1])&&(Kt=Bt[0],Wt={$flags$:0,$hostId$:Bt[1],$nodeId$:Bt[2],$depth$:Bt[3],$index$:Bt[4],$elm$:ct,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Kt?(Wt.$elm$=ct.nextSibling,Wt.$elm$&&3===Wt.$elm$.nodeType&&(Wt.$text$=Wt.$elm$.textContent,J.push(Wt),ct.remove(),k.$children$||(k.$children$=[]),k.$children$[Wt.$index$]=Wt,xe&&"0"===Wt.$depth$&&(xe[Wt.$index$]=Wt.$elm$))):Wt.$hostId$===Lt&&("s"===Kt?(Wt.$tag$="slot",ct["s-sn"]=Bt[5]?Wt.$name$=Bt[5]:"",ct["s-sr"]=!0,xe&&(Wt.$elm$=Re.createElement(Wt.$tag$),Wt.$name$&&Wt.$elm$.setAttribute("name",Wt.$name$),ct.parentNode.insertBefore(Wt.$elm$,ct),ct.remove(),"0"===Wt.$depth$&&(xe[Wt.$index$]=Wt.$elm$)),Ce.push(Wt),k.$children$||(k.$children$=[]),k.$children$[Wt.$index$]=Wt):"r"===Kt&&(xe?ct.remove():(nt["s-cr"]=ct,ct["s-cn"]=!0))));else if(k&&"style"===k.$tag$){const _n=yn(null,ct.textContent);_n.$elm$=ct,_n.$index$="0",k.$children$=[_n]}},ir=(k,J)=>{if(1===k.nodeType){let Ce=0;if(k.shadowRoot)for(;Ce<k.shadowRoot.childNodes.length;Ce++)ir(k.shadowRoot.childNodes[Ce],J);for(Ce=0;Ce<k.childNodes.length;Ce++)ir(k.childNodes[Ce],J)}else if(8===k.nodeType){const Ce=k.nodeValue.split(".");"o"===Ce[0]&&(J.set(Ce[1]+"."+Ce[2],k),k.nodeValue="",k["s-en"]=Ce[3])}},bn=k=>rt.push(k),tn=k=>Fe(k).$modeName$,xn=k=>Fe(k).$hostElement$,ri=(k,J,Ce)=>{const xe=xn(k);return{emit:nt=>lr(xe,J,{bubbles:!!(4&Ce),composed:!!(2&Ce),cancelable:!!(1&Ce),detail:nt})}},lr=(k,J,Ce)=>{const xe=Vt.ce(J,Ce);return k.dispatchEvent(xe),xe},on=new WeakMap,Zr=(k,J,Ce)=>{var xe;const nt=Dt(J,Ce),ct=Qe.get(nt);if(k=11===k.nodeType?k:Re,ct)if("string"==typeof ct){let Kt,Lt=on.get(k=k.head||k);if(Lt||on.set(k,Lt=new Set),!Lt.has(nt)){if(k.host&&(Kt=k.querySelector(`[sty-id="${nt}"]`)))Kt.innerHTML=ct;else{Kt=Re.createElement("style"),Kt.innerHTML=ct;const Bt=null!=(xe=Vt.$nonce$)?xe:$t(Re);null!=Bt&&Kt.setAttribute("nonce",Bt),(!(1&J.$flags$)||1&J.$flags$&&"HEAD"!==k.nodeName)&&k.insertBefore(Kt,k.querySelector("link"))}4&J.$flags$&&(Kt.innerHTML+=Ye),Lt&&Lt.add(nt)}}else k.adoptedStyleSheets.includes(ct)||(k.adoptedStyleSheets=[...k.adoptedStyleSheets,ct]);return nt},Dt=(k,J)=>"sc-"+(J&&32&k.$flags$?k.$tagName$+"-"+J:k.$tagName$),Me=(k,J,Ce,xe,nt,ct)=>{if(Ce!==xe){let Lt=le(k,J),Kt=J.toLowerCase();if("class"===J){const Bt=k.classList,Wt=Ut(Ce),an=Ut(xe);Bt.remove(...Wt.filter(_n=>_n&&!an.includes(_n))),Bt.add(...an.filter(_n=>_n&&!Wt.includes(_n)))}else if("style"===J){for(const Bt in Ce)(!xe||null==xe[Bt])&&(Bt.includes("-")?k.style.removeProperty(Bt):k.style[Bt]="");for(const Bt in xe)(!Ce||xe[Bt]!==Ce[Bt])&&(Bt.includes("-")?k.style.setProperty(Bt,xe[Bt]):k.style[Bt]=xe[Bt])}else if("key"!==J)if("ref"===J)xe&&xe(k);else if(Lt||"o"!==J[0]||"n"!==J[1]){const Bt=Ht(xe);if((Lt||Bt&&null!==xe)&&!nt)try{if(k.tagName.includes("-"))k[J]=xe;else{const an=xe??"";"list"===J?Lt=!1:(null==Ce||k[J]!=an)&&(k[J]=an)}}catch{}let Wt=!1;Kt!==(Kt=Kt.replace(/^xlink\:?/,""))&&(J=Kt,Wt=!0),null==xe||!1===xe?(!1!==xe||""===k.getAttribute(J))&&(Wt?k.removeAttributeNS(Ue,J):k.removeAttribute(J)):(!Lt||4&ct||nt)&&!Bt&&(xe=!0===xe?"":xe,Wt?k.setAttributeNS(Ue,J,xe):k.setAttribute(J,xe))}else if(J="-"===J[2]?J.slice(3):le(Tt,Kt)?Kt.slice(2):Kt[2]+J.slice(3),Ce||xe){const Bt=J.endsWith(Ee);J=J.replace(Te,""),Ce&&Vt.rel(k,J,Ce,Bt),xe&&Vt.ael(k,J,xe,Bt)}}},lt=/\s/,Ut=k=>k?k.split(lt):[],Ee="Capture",Te=new RegExp(Ee+"$"),Be=(k,J,Ce)=>{const xe=11===J.$elm$.nodeType&&J.$elm$.host?J.$elm$.host:J.$elm$,nt=k&&k.$attrs$||ut,ct=J.$attrs$||ut;for(const Lt of St(Object.keys(nt)))Lt in ct||Me(xe,Lt,nt[Lt],void 0,Ce,J.$flags$);for(const Lt of St(Object.keys(ct)))Me(xe,Lt,nt[Lt],ct[Lt],Ce,J.$flags$)};function St(k){return k.includes("ref")?[...k.filter(J=>"ref"!==J),"ref"]:k}var dt,gn,dn,Cr=!1,at=!1,er=!1,qn=!1,$n=(k,J,Ce,xe)=>{var nt;const ct=J.$children$[Ce];let Kt,Bt,Wt,Lt=0;if(Cr||(er=!0,"slot"===ct.$tag$&&(dt&&xe.classList.add(dt+"-s"),ct.$flags$|=ct.$children$?2:1)),null!==ct.$text$)Kt=ct.$elm$=Re.createTextNode(ct.$text$);else if(1&ct.$flags$)Kt=ct.$elm$=Re.createTextNode("");else{if(qn||(qn="svg"===ct.$tag$),Kt=ct.$elm$=Re.createElementNS(qn?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",!Cr&&2&ct.$flags$?"slot-fb":ct.$tag$),qn&&"foreignObject"===ct.$tag$&&(qn=!1),Be(null,ct,qn),!!Kt.getRootNode().querySelector("body")&&(k=>null!=k)(dt)&&Kt["s-si"]!==dt&&Kt.classList.add(Kt["s-si"]=dt),sn(Kt,xe),ct.$children$)for(Lt=0;Lt<ct.$children$.length;++Lt)Bt=$n(k,ct,Lt,Kt),Bt&&Kt.appendChild(Bt);"svg"===ct.$tag$?qn=!1:"foreignObject"===Kt.tagName&&(qn=!0)}return Kt["s-hn"]=dn,3&ct.$flags$&&(Kt["s-sr"]=!0,Kt["s-cr"]=gn,Kt["s-sn"]=ct.$name$||"",Kt["s-rf"]=null==(nt=ct.$attrs$)?void 0:nt.ref,Wt=k&&k.$children$&&k.$children$[Ce],Wt&&Wt.$tag$===ct.$tag$&&k.$elm$&&Mr(k.$elm$)),Kt},Mr=k=>{Vt.$flags$|=1;const J=k.closest(dn.toLowerCase());if(null!=J){const Ce=Array.from(J.childNodes).find(nt=>nt["s-cr"]),xe=Array.from(k.childNodes);for(const nt of Ce?xe.reverse():xe)null!=nt["s-sh"]&&(tt(J,nt,Ce??null),nt["s-sh"]=void 0,er=!0)}Vt.$flags$&=-2},qr=(k,J)=>{Vt.$flags$|=1;const Ce=Array.from(k.childNodes);if(k["s-sr"]){let xe=k;for(;xe=xe.nextSibling;)xe&&xe["s-sn"]===k["s-sn"]&&xe["s-sh"]===dn&&Ce.push(xe)}for(let xe=Ce.length-1;xe>=0;xe--){const nt=Ce[xe];nt["s-hn"]!==dn&&nt["s-ol"]&&(tt(Bi(nt),nt,Ni(nt)),nt["s-ol"].remove(),nt["s-ol"]=void 0,nt["s-sh"]=void 0,er=!0),J&&qr(nt,J)}Vt.$flags$&=-2},Vr=(k,J,Ce,xe,nt,ct)=>{let Kt,Lt=k["s-cr"]&&k["s-cr"].parentNode||k;for(Lt.shadowRoot&&Lt.tagName===dn&&(Lt=Lt.shadowRoot);nt<=ct;++nt)xe[nt]&&(Kt=$n(null,Ce,nt,k),Kt&&(xe[nt].$elm$=Kt,tt(Lt,Kt,Ni(J))))},Mi=(k,J,Ce)=>{for(let xe=J;xe<=Ce;++xe){const nt=k[xe];if(nt){const ct=nt.$elm$;de(nt),ct&&(at=!0,ct["s-ol"]?ct["s-ol"].remove():qr(ct,!0),ct.remove())}}},Ii=(k,J,Ce=!1)=>!(k.$tag$!==J.$tag$||("slot"===k.$tag$?"$nodeId$"in k&&Ce&&8!==k.$elm$.nodeType||k.$name$!==J.$name$:!Ce&&k.$key$!==J.$key$)),Ni=k=>k&&k["s-ol"]||k,Bi=k=>(k["s-ol"]?k["s-ol"]:k).parentNode,te=(k,J,Ce=!1)=>{const xe=J.$elm$=k.$elm$,nt=k.$children$,ct=J.$children$,Lt=J.$tag$,Kt=J.$text$;let Bt;null===Kt?(qn="svg"===Lt||"foreignObject"!==Lt&&qn,"slot"!==Lt||Cr?Be(k,J,qn):k.$name$!==J.$name$&&(J.$elm$["s-sn"]=J.$name$||"",Mr(J.$elm$.parentElement)),null!==nt&&null!==ct?((k,J,Ce,xe,nt=!1)=>{let xr,ti,ct=0,Lt=0,Kt=0,Bt=0,Wt=J.length-1,an=J[0],_n=J[Wt],Pn=xe.length-1,Fn=xe[0],Ar=xe[Pn];for(;ct<=Wt&&Lt<=Pn;)if(null==an)an=J[++ct];else if(null==_n)_n=J[--Wt];else if(null==Fn)Fn=xe[++Lt];else if(null==Ar)Ar=xe[--Pn];else if(Ii(an,Fn,nt))te(an,Fn,nt),an=J[++ct],Fn=xe[++Lt];else if(Ii(_n,Ar,nt))te(_n,Ar,nt),_n=J[--Wt],Ar=xe[--Pn];else if(Ii(an,Ar,nt))("slot"===an.$tag$||"slot"===Ar.$tag$)&&qr(an.$elm$.parentNode,!1),te(an,Ar,nt),tt(k,an.$elm$,_n.$elm$.nextSibling),an=J[++ct],Ar=xe[--Pn];else if(Ii(_n,Fn,nt))("slot"===an.$tag$||"slot"===Ar.$tag$)&&qr(_n.$elm$.parentNode,!1),te(_n,Fn,nt),tt(k,_n.$elm$,an.$elm$),_n=J[--Wt],Fn=xe[++Lt];else{for(Kt=-1,Bt=ct;Bt<=Wt;++Bt)if(J[Bt]&&null!==J[Bt].$key$&&J[Bt].$key$===Fn.$key$){Kt=Bt;break}Kt>=0?(ti=J[Kt],ti.$tag$!==Fn.$tag$?xr=$n(J&&J[Lt],Ce,Kt,k):(te(ti,Fn,nt),J[Kt]=void 0,xr=ti.$elm$),Fn=xe[++Lt]):(xr=$n(J&&J[Lt],Ce,Lt,k),Fn=xe[++Lt]),xr&&tt(Bi(an.$elm$),xr,Ni(an.$elm$))}ct>Wt?Vr(k,null==xe[Pn+1]?null:xe[Pn+1].$elm$,Ce,xe,Lt,Pn):Lt>Pn&&Mi(J,ct,Wt)})(xe,nt,J,ct,Ce):null!==ct?(null!==k.$text$&&(xe.textContent=""),Vr(xe,null,J,ct,0,ct.length-1)):!Ce&&null!==nt&&Mi(nt,0,nt.length-1),qn&&"svg"===Lt&&(qn=!1)):(Bt=xe["s-cr"])?Bt.parentNode.textContent=Kt:k.$text$!==Kt&&(xe.data=Kt)},X=k=>{const J=k.childNodes;for(const Ce of J)if(1===Ce.nodeType){if(Ce["s-sr"]){const xe=Ce["s-sn"];Ce.hidden=!1;for(const nt of J)if(nt!==Ce)if(nt["s-hn"]!==Ce["s-hn"]||""!==xe){if(1===nt.nodeType&&(xe===nt.getAttribute("slot")||xe===nt["s-sn"])||3===nt.nodeType&&xe===nt["s-sn"]){Ce.hidden=!0;break}}else if(1===nt.nodeType||3===nt.nodeType&&""!==nt.textContent.trim()){Ce.hidden=!0;break}}X(Ce)}},U=[],ee=k=>{let J,Ce,xe;for(const nt of k.childNodes){if(nt["s-sr"]&&(J=nt["s-cr"])&&J.parentNode){Ce=J.parentNode.childNodes;const ct=nt["s-sn"];for(xe=Ce.length-1;xe>=0;xe--)if(J=Ce[xe],!(J["s-cn"]||J["s-nr"]||J["s-hn"]===nt["s-hn"]||J["s-sh"]&&J["s-sh"]===nt["s-hn"]))if(Le(J,ct)){let Lt=U.find(Kt=>Kt.$nodeToRelocate$===J);at=!0,J["s-sn"]=J["s-sn"]||ct,Lt?(Lt.$nodeToRelocate$["s-sh"]=nt["s-hn"],Lt.$slotRefNode$=nt):(J["s-sh"]=nt["s-hn"],U.push({$slotRefNode$:nt,$nodeToRelocate$:J})),J["s-sr"]&&U.map(Kt=>{Le(Kt.$nodeToRelocate$,J["s-sn"])&&(Lt=U.find(Bt=>Bt.$nodeToRelocate$===J),Lt&&!Kt.$slotRefNode$&&(Kt.$slotRefNode$=Lt.$slotRefNode$))})}else U.some(Lt=>Lt.$nodeToRelocate$===J)||U.push({$nodeToRelocate$:J})}1===nt.nodeType&&ee(nt)}},Le=(k,J)=>1===k.nodeType?null===k.getAttribute("slot")&&""===J||k.getAttribute("slot")===J:k["s-sn"]===J||""===J,de=k=>{k.$attrs$&&k.$attrs$.ref&&k.$attrs$.ref(null),k.$children$&&k.$children$.map(de)},tt=(k,J,Ce)=>{const xe=k?.insertBefore(J,Ce);return sn(J,k),xe},Nt=k=>{const J=[];return k&&J.push(...k["s-scs"]||[],k["s-si"],k["s-sc"],...Nt(k.parentElement)),J},sn=(k,J,Ce=!1)=>{var xe;if(k&&J&&1===k.nodeType){const nt=new Set(Nt(J).filter(Boolean));if(nt.size&&(null==(xe=k.classList)||xe.add(...k["s-scs"]=[...nt]),k["s-ol"]||Ce))for(const ct of Array.from(k.childNodes))sn(ct,k,!0)}},ur=(k,J)=>{J&&!k.$onRenderResolve$&&J["s-p"]&&J["s-p"].push(new Promise(Ce=>k.$onRenderResolve$=Ce))},Kn=(k,J)=>{if(k.$flags$|=16,!(4&k.$flags$))return ur(k,k.$ancestorComponent$),en(()=>Oi(k,J));k.$flags$|=512},Oi=(k,J)=>{const nt=k.$lazyInstance$;if(!nt)throw new Error(`Can't render component <${k.$hostElement$.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let ct;return J&&(k.$flags$|=256,k.$queuedListeners$&&(k.$queuedListeners$.map(([Lt,Kt])=>Ti(nt,Lt,Kt)),k.$queuedListeners$=void 0),ct=Ti(nt,"componentWillLoad")),ct=Xr(ct,()=>Ti(nt,"componentWillRender")),Xr(ct,()=>ii(k,nt,J))},Xr=(k,J)=>sr(k)?k.then(J).catch(Ce=>{console.error(Ce),J()}):J(),sr=k=>k instanceof Promise||k&&k.then&&"function"==typeof k.then,ii=function(){var k=(0,c.A)(function*(J,Ce,xe){var nt;const ct=J.$hostElement$,Kt=ct["s-rc"];xe&&(k=>{const J=k.$cmpMeta$,Ce=k.$hostElement$,xe=J.$flags$,ct=Zr(Ce.shadowRoot?Ce.shadowRoot:Ce.getRootNode(),J,k.$modeName$);10&xe&&2&xe&&(Ce["s-sc"]=ct,Ce.classList.add(ct+"-h"),2&xe&&Ce.classList.add(ct+"-s"))})(J);Bo(J,Ce,ct,xe),Kt&&(Kt.map(Wt=>Wt()),ct["s-rc"]=void 0);{const Wt=null!=(nt=ct["s-p"])?nt:[],an=()=>ai(J);0===Wt.length?an():(Promise.all(Wt).then(an),J.$flags$|=4,Wt.length=0)}});return function(Ce,xe,nt){return k.apply(this,arguments)}}(),Bo=(k,J,Ce,xe)=>{try{J=J.render&&J.render(),k.$flags$&=-17,k.$flags$|=2,((k,J,Ce=!1)=>{var xe,nt,ct,Lt,Kt;const Bt=k.$hostElement$,Wt=k.$cmpMeta$,an=k.$vnode$||yn(null,null),_n=(k=>k&&k.$tag$===kt)(J)?J:Mn(null,null,J);if(dn=Bt.tagName,Wt.$attrsToReflect$&&(_n.$attrs$=_n.$attrs$||{},Wt.$attrsToReflect$.map(([Pn,Fn])=>_n.$attrs$[Fn]=Bt[Pn])),Ce&&_n.$attrs$)for(const Pn of Object.keys(_n.$attrs$))Bt.hasAttribute(Pn)&&!["key","ref","style","class"].includes(Pn)&&(_n.$attrs$[Pn]=Bt[Pn]);if(_n.$tag$=null,_n.$flags$|=4,k.$vnode$=_n,_n.$elm$=an.$elm$=Bt.shadowRoot||Bt,dt=Bt["s-sc"],Cr=!!(1&Wt.$flags$),gn=Bt["s-cr"],at=!1,te(an,_n,Ce),Vt.$flags$|=1,er){ee(_n.$elm$);for(const Pn of U){const Fn=Pn.$nodeToRelocate$;if(!Fn["s-ol"]){const Ar=Re.createTextNode("");Ar["s-nr"]=Fn,tt(Fn.parentNode,Fn["s-ol"]=Ar,Fn)}}for(const Pn of U){const Fn=Pn.$nodeToRelocate$,Ar=Pn.$slotRefNode$;if(Ar){const xr=Ar.parentNode;let ti=Ar.nextSibling;if(ti&&1===ti.nodeType){let Nr=null==(xe=Fn["s-ol"])?void 0:xe.previousSibling;for(;Nr;){let rn=null!=(nt=Nr["s-nr"])?nt:null;if(rn&&rn["s-sn"]===Fn["s-sn"]&&xr===rn.parentNode){for(rn=rn.nextSibling;rn===Fn||rn?.["s-sr"];)rn=rn?.nextSibling;if(!rn||!rn["s-nr"]){ti=rn;break}}Nr=Nr.previousSibling}}(!ti&&xr!==Fn.parentNode||Fn.nextSibling!==ti)&&Fn!==ti&&(tt(xr,Fn,ti),1===Fn.nodeType&&(Fn.hidden=null!=(ct=Fn["s-ih"])&&ct)),Fn&&"function"==typeof Ar["s-rf"]&&Ar["s-rf"](Fn)}else 1===Fn.nodeType&&(Ce&&(Fn["s-ih"]=null!=(Lt=Fn.hidden)&&Lt),Fn.hidden=!0)}}if(at&&X(_n.$elm$),Vt.$flags$&=-2,U.length=0,2&Wt.$flags$)for(const Pn of _n.$elm$.childNodes)Pn["s-hn"]!==dn&&!Pn["s-sh"]&&(Ce&&null==Pn["s-ih"]&&(Pn["s-ih"]=null!=(Kt=Pn.hidden)&&Kt),Pn.hidden=!0);gn=void 0})(k,J,xe)}catch(nt){Oe(nt,k.$hostElement$)}return null},ai=k=>{const Ce=k.$hostElement$,nt=k.$lazyInstance$,ct=k.$ancestorComponent$;Ti(nt,"componentDidRender"),64&k.$flags$?Ti(nt,"componentDidUpdate"):(k.$flags$|=64,Ci(Ce),Ti(nt,"componentDidLoad"),k.$onReadyResolve$(Ce),ct||Gi()),k.$onInstanceResolve$(Ce),k.$onRenderResolve$&&(k.$onRenderResolve$(),k.$onRenderResolve$=void 0),512&k.$flags$&&ht(()=>Kn(k,!1)),k.$flags$&=-517},Jr=k=>{{const J=Fe(k),Ce=J.$hostElement$.isConnected;return Ce&&2==(18&J.$flags$)&&Kn(J,!1),Ce}},Gi=k=>{Ci(Re.documentElement),ht(()=>lr(Tt,"appload",{detail:{namespace:"ionic"}}))},Ti=(k,J,Ce)=>{if(k&&k[J])try{return k[J](Ce)}catch(xe){Oe(xe)}},Ci=k=>k.classList.add("hydrated"),$o=(k,J,Ce)=>{var xe,nt;const ct=k.prototype;if(J.$members$||J.$watchers$||k.watchers){k.watchers&&!J.$watchers$&&(J.$watchers$=k.watchers);const Lt=Object.entries(null!=(xe=J.$members$)?xe:{});if(Lt.map(([Kt,[Bt]])=>{31&Bt||2&Ce&&32&Bt?Object.defineProperty(ct,Kt,{get(){return((k,J)=>Fe(this).$instanceValues$.get(J))(0,Kt)},set(Wt){((k,J,Ce,xe)=>{const nt=Fe(k);if(!nt)throw new Error(`Couldn't find host element for "${xe.$tagName$}" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const ct=nt.$hostElement$,Lt=nt.$instanceValues$.get(J),Kt=nt.$flags$,Bt=nt.$lazyInstance$;Ce=((k,J)=>null==k||Ht(k)?k:4&J?"false"!==k&&(""===k||!!k):2&J?parseFloat(k):1&J?String(k):k)(Ce,xe.$members$[J][0]);const Wt=Number.isNaN(Lt)&&Number.isNaN(Ce);if((!(8&Kt)||void 0===Lt)&&Ce!==Lt&&!Wt&&(nt.$instanceValues$.set(J,Ce),Bt)){if(xe.$watchers$&&128&Kt){const _n=xe.$watchers$[J];_n&&_n.map(Pn=>{try{Bt[Pn](Ce,Lt,J)}catch(Fn){Oe(Fn,ct)}})}2==(18&Kt)&&Kn(nt,!1)}})(this,Kt,Wt,J)},configurable:!0,enumerable:!0}):1&Ce&&64&Bt&&Object.defineProperty(ct,Kt,{value(...Wt){var an;const _n=Fe(this);return null==(an=_n?.$onInstancePromise$)?void 0:an.then(()=>{var Pn;return null==(Pn=_n.$lazyInstance$)?void 0:Pn[Kt](...Wt)})}})}),1&Ce){const Kt=new Map;ct.attributeChangedCallback=function(Bt,Wt,an){Vt.jmp(()=>{var _n;const Pn=Kt.get(Bt);if(this.hasOwnProperty(Pn))an=this[Pn],delete this[Pn];else{if(ct.hasOwnProperty(Pn)&&"number"==typeof this[Pn]&&this[Pn]==an)return;if(null==Pn){const Fn=Fe(this),Ar=Fn?.$flags$;if(Ar&&!(8&Ar)&&128&Ar&&an!==Wt){const xr=Fn.$lazyInstance$,ti=null==(_n=J.$watchers$)?void 0:_n[Bt];ti?.forEach(Nr=>{null!=xr[Nr]&&xr[Nr].call(xr,an,Wt,Bt)})}return}}this[Pn]=(null!==an||"boolean"!=typeof this[Pn])&&an})},k.observedAttributes=Array.from(new Set([...Object.keys(null!=(nt=J.$watchers$)?nt:{}),...Lt.filter(([Bt,Wt])=>15&Wt[0]).map(([Bt,Wt])=>{var an;const _n=Wt[1]||Bt;return Kt.set(_n,Bt),512&Wt[0]&&(null==(an=J.$attrsToReflect$)||an.push([Bt,_n])),_n})]))}}return k},ss=function(){var k=(0,c.A)(function*(J,Ce,xe,nt){let ct;if(!(32&Ce.$flags$)){if(Ce.$flags$|=32,xe.$lazyBundleId$){const Wt=(k=>{const xe=k.$tagName$.replace(/-/g,"_"),nt=k.$lazyBundleId$;if(!nt)return;const ct=Ve.get(nt);return ct?ct[xe]:O(8996)(`./${nt}.entry.js`).then(Lt=>(Ve.set(nt,Lt),Lt[xe]),Oe)})(xe);if(Wt&&"then"in Wt){const _n=()=>{};ct=yield Wt,_n()}else ct=Wt;if(!ct)throw new Error(`Constructor for "${xe.$tagName$}#${Ce.$modeName$}" was not found`);ct.isProxied||(xe.$watchers$=ct.watchers,$o(ct,xe,2),ct.isProxied=!0);const an=()=>{};Ce.$flags$|=8;try{new ct(Ce)}catch(_n){Oe(_n)}Ce.$flags$&=-9,Ce.$flags$|=128,an(),Xo(Ce.$lazyInstance$)}else ct=J.constructor,customElements.whenDefined(J.localName).then(()=>Ce.$flags$|=128);if(ct&&ct.style){let Wt;"string"==typeof ct.style?Wt=ct.style:"string"!=typeof ct.style&&(Ce.$modeName$=(k=>rt.map(J=>J(k)).find(J=>!!J))(J),Ce.$modeName$&&(Wt=ct.style[Ce.$modeName$]));const an=Dt(xe,Ce.$modeName$);if(!Qe.has(an)){const _n=()=>{};((k,J,Ce)=>{let xe=Qe.get(k);_e&&Ce?(xe=xe||new CSSStyleSheet,"string"==typeof xe?xe=J:xe.replaceSync(J)):xe=J,Qe.set(k,xe)})(an,Wt,!!(1&xe.$flags$)),_n()}}}const Lt=Ce.$ancestorComponent$,Kt=()=>Kn(Ce,!0);Lt&&Lt["s-rc"]?Lt["s-rc"].push(Kt):Kt()});return function(Ce,xe,nt,ct){return k.apply(this,arguments)}}(),Xo=k=>{Ti(k,"connectedCallback")},jo=k=>{const J=k["s-cr"]=Re.createComment("");J["s-cn"]=!0,tt(k,J,k.firstChild)},Di=k=>{Ti(k,"disconnectedCallback")},Ms=function(){var k=(0,c.A)(function*(J){if(!(1&Vt.$flags$)){const Ce=Fe(J);Ce.$rmListeners$&&(Ce.$rmListeners$.map(xe=>xe()),Ce.$rmListeners$=void 0),Ce?.$lazyInstance$?Di(Ce.$lazyInstance$):Ce?.$onReadyPromise$&&Ce.$onReadyPromise$.then(()=>Di(Ce.$lazyInstance$))}});return function(Ce){return k.apply(this,arguments)}}(),cs=k=>{const J=k.cloneNode;k.cloneNode=function(Ce){const xe=this,nt=xe.shadowRoot&&true,ct=J.call(xe,!!nt&&Ce);if(!nt&&Ce){let Kt,Bt,Lt=0;const Wt=["s-id","s-cr","s-lr","s-rc","s-sc","s-p","s-cn","s-sr","s-sn","s-hn","s-ol","s-nr","s-si","s-rf","s-scs"];for(;Lt<xe.childNodes.length;Lt++)Kt=xe.childNodes[Lt]["s-nr"],Bt=Wt.every(an=>!xe.childNodes[Lt][an]),Kt&&(ct.__appendChild?ct.__appendChild(Kt.cloneNode(!0)):ct.appendChild(Kt.cloneNode(!0))),Bt&&ct.appendChild(xe.childNodes[Lt].cloneNode(!0))}return ct}},ja=k=>{k.__appendChild=k.appendChild,k.appendChild=function(J){const Ce=J["s-sn"]=Pr(J),xe=To(this.childNodes,Ce,this.tagName);if(xe){const nt=Co(xe,Ce),ct=nt[nt.length-1],Lt=tt(ct.parentNode,J,ct.nextSibling);return X(this),Lt}return this.__appendChild(J)}},ls=k=>{k.__removeChild=k.removeChild,k.removeChild=function(J){if(J&&typeof J["s-sn"]<"u"){const Ce=To(this.childNodes,J["s-sn"],this.tagName);if(Ce){const nt=Co(Ce,J["s-sn"]).find(ct=>ct===J);if(nt)return nt.remove(),void X(this)}}return this.__removeChild(J)}},ei=k=>{const J=k.prepend;k.prepend=function(...Ce){Ce.forEach(xe=>{"string"==typeof xe&&(xe=this.ownerDocument.createTextNode(xe));const nt=xe["s-sn"]=Pr(xe),ct=To(this.childNodes,nt,this.tagName);if(ct){const Lt=document.createTextNode("");Lt["s-nr"]=xe,ct["s-cr"].parentNode.__appendChild(Lt),xe["s-ol"]=Lt;const Bt=Co(ct,nt)[0];return tt(Bt.parentNode,xe,Bt.nextSibling)}return 1===xe.nodeType&&xe.getAttribute("slot")&&(xe.hidden=!0),J.call(this,xe)})}},ro=k=>{k.append=function(...J){J.forEach(Ce=>{"string"==typeof Ce&&(Ce=this.ownerDocument.createTextNode(Ce)),this.appendChild(Ce)})}},Ho=k=>{const J=k.insertAdjacentHTML;k.insertAdjacentHTML=function(Ce,xe){if("afterbegin"!==Ce&&"beforeend"!==Ce)return J.call(this,Ce,xe);const nt=this.ownerDocument.createElement("_");let ct;if(nt.innerHTML=xe,"afterbegin"===Ce)for(;ct=nt.firstChild;)this.prepend(ct);else if("beforeend"===Ce)for(;ct=nt.firstChild;)this.append(ct)}},ia=k=>{k.insertAdjacentText=function(J,Ce){this.insertAdjacentHTML(J,Ce)}},Aa=k=>{const J=k.insertAdjacentElement;k.insertAdjacentElement=function(Ce,xe){return"afterbegin"!==Ce&&"beforeend"!==Ce?J.call(this,Ce,xe):"afterbegin"===Ce?(this.prepend(xe),xe):("beforeend"===Ce&&this.append(xe),xe)}},jr=k=>{const J=Object.getOwnPropertyDescriptor(Node.prototype,"textContent");Object.defineProperty(k,"__textContent",J),Object.defineProperty(k,"textContent",{get(){return" "+ci(this.childNodes).map(nt=>{var ct,Lt;const Kt=[];let Bt=nt.nextSibling;for(;Bt&&Bt["s-sn"]===nt["s-sn"];)(3===Bt.nodeType||1===Bt.nodeType)&&Kt.push(null!=(Lt=null==(ct=Bt.textContent)?void 0:ct.trim())?Lt:""),Bt=Bt.nextSibling;return Kt.filter(Wt=>""!==Wt).join(" ")}).filter(nt=>""!==nt).join(" ")+" "},set(Ce){ci(this.childNodes).forEach(nt=>{let ct=nt.nextSibling;for(;ct&&ct["s-sn"]===nt["s-sn"];){const Lt=ct;ct=ct.nextSibling,Lt.remove()}if(""===nt["s-sn"]){const Lt=this.ownerDocument.createTextNode(Ce);Lt["s-sn"]="",tt(nt.parentElement,Lt,nt.nextSibling)}else nt.remove()})}})},Qo=(k,J)=>{class Ce extends Array{item(nt){return this[nt]}}if(8&J.$flags$){const xe=k.__lookupGetter__("childNodes");Object.defineProperty(k,"children",{get(){return this.childNodes.map(nt=>1===nt.nodeType)}}),Object.defineProperty(k,"childElementCount",{get:()=>k.children.length}),Object.defineProperty(k,"childNodes",{get(){const nt=xe.call(this);if(!(1&Vt.$flags$)&&2&Fe(this).$flags$){const ct=new Ce;for(let Lt=0;Lt<nt.length;Lt++){const Kt=nt[Lt]["s-nr"];Kt&&ct.push(Kt)}return ct}return Ce.from(nt)}})}},ci=k=>{const J=[];for(const Ce of Array.from(k))Ce["s-sr"]&&J.push(Ce),J.push(...ci(Ce.childNodes));return J},Pr=k=>k["s-sn"]||1===k.nodeType&&k.getAttribute("slot")||"",To=(k,J,Ce)=>{let nt,xe=0;for(;xe<k.length;xe++)if(nt=k[xe],nt["s-sr"]&&nt["s-sn"]===J&&nt["s-hn"]===Ce||(nt=To(nt.childNodes,J,Ce),nt))return nt;return null},Co=(k,J)=>{const Ce=[k];for(;(k=k.nextSibling)&&k["s-sn"]===J;)Ce.push(k);return Ce},wi=(k,J={})=>{var Ce;const nt=[],ct=J.exclude||[],Lt=Tt.customElements,Kt=Re.head,Bt=Kt.querySelector("meta[charset]"),Wt=Re.createElement("style"),an=[];let _n,Pn=!0;Object.assign(Vt,J),Vt.$resourcesUrl$=new URL(J.resourcesUrl||"./",Re.baseURI).href,Vt.$flags$|=2;let Fn=!1;if(k.map(Ar=>{Ar[1].map(xr=>{var ti;const Nr={$flags$:xr[0],$tagName$:xr[1],$members$:xr[2],$listeners$:xr[3]};4&Nr.$flags$&&(Fn=!0),Nr.$members$=xr[2],Nr.$listeners$=xr[3],Nr.$attrsToReflect$=[],Nr.$watchers$=null!=(ti=xr[4])?ti:{};const rn=Nr.$tagName$,Qi=class extends HTMLElement{constructor(mi){if(super(mi),this.hasRegisteredEventListeners=!1,((k,J)=>{const Ce={$flags$:0,$hostElement$:k,$cmpMeta$:J,$instanceValues$:new Map};Ce.$onInstancePromise$=new Promise(xe=>Ce.$onInstanceResolve$=xe),Ce.$onReadyPromise$=new Promise(xe=>Ce.$onReadyResolve$=xe),k["s-p"]=[],k["s-rc"]=[],Ae.set(k,Ce)})(mi=this,Nr),1&Nr.$flags$)if(mi.shadowRoot){if("open"!==mi.shadowRoot.mode)throw new Error(`Unable to re-use existing shadow root for ${Nr.$tagName$}! Mode is set to ${mi.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else mi.attachShadow({mode:"open",delegatesFocus:!!(16&Nr.$flags$)})}connectedCallback(){const mi=Fe(this);this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0,H(this,mi,Nr.$listeners$)),_n&&(clearTimeout(_n),_n=null),Pn?an.push(this):Vt.jmp(()=>(k=>{if(!(1&Vt.$flags$)){const J=Fe(k),Ce=J.$cmpMeta$,xe=()=>{};if(1&J.$flags$)H(k,J,Ce.$listeners$),J?.$lazyInstance$?Xo(J.$lazyInstance$):J?.$onReadyPromise$&&J.$onReadyPromise$.then(()=>Xo(J.$lazyInstance$));else{let nt;if(J.$flags$|=1,nt=k.getAttribute(Je),nt){if(1&Ce.$flags$){const ct=Zr(k.shadowRoot,Ce,k.getAttribute("s-mode"));k.classList.remove(ct+"-h",ct+"-s")}((k,J,Ce,xe)=>{const ct=k.shadowRoot,Lt=[],Bt=ct?[]:null,Wt=xe.$vnode$=yn(J,null);Vt.$orgLocNodes$||ir(Re.body,Vt.$orgLocNodes$=new Map),k[Je]=Ce,k.removeAttribute(Je),Nn(Wt,Lt,[],Bt,k,k,Ce),Lt.map(an=>{const _n=an.$hostId$+"."+an.$nodeId$,Pn=Vt.$orgLocNodes$.get(_n),Fn=an.$elm$;Pn&&""===Pn["s-en"]&&Pn.parentNode.insertBefore(Fn,Pn.nextSibling),ct||(Fn["s-hn"]=J,Pn&&(Fn["s-ol"]=Pn,Fn["s-ol"]["s-nr"]=Fn)),Vt.$orgLocNodes$.delete(_n)}),ct&&Bt.map(an=>{an&&ct.appendChild(an)})})(k,Ce.$tagName$,nt,J)}nt||12&Ce.$flags$&&jo(k);{let ct=k;for(;ct=ct.parentNode||ct.host;)if(1===ct.nodeType&&ct.hasAttribute("s-id")&&ct["s-p"]||ct["s-p"]){ur(J,J.$ancestorComponent$=ct);break}}Ce.$members$&&Object.entries(Ce.$members$).map(([ct,[Lt]])=>{if(31&Lt&&k.hasOwnProperty(ct)){const Kt=k[ct];delete k[ct],k[ct]=Kt}}),ss(k,J,Ce)}xe()}})(this))}disconnectedCallback(){Vt.jmp(()=>Ms(this))}componentOnReady(){return Fe(this).$onReadyPromise$}};2&Nr.$flags$&&((k,J)=>{cs(k),ja(k),ro(k),ei(k),Aa(k),Ho(k),ia(k),jr(k),Qo(k,J),ls(k)})(Qi.prototype,Nr),Nr.$lazyBundleId$=Ar[0],!ct.includes(rn)&&!Lt.get(rn)&&(nt.push(rn),Lt.define(rn,$o(Qi,Nr,1)))})}),nt.length>0&&(Fn&&(Wt.textContent+=Ye),Wt.textContent+=nt.sort()+"{visibility:hidden}.hydrated{visibility:inherit}",Wt.innerHTML.length)){Wt.setAttribute("data-styles","");const Ar=null!=(Ce=Vt.$nonce$)?Ce:$t(Re);null!=Ar&&Wt.setAttribute("nonce",Ar),Kt.insertBefore(Wt,Bt?Bt.nextSibling:Kt.firstChild)}Pn=!1,an.length?an.map(Ar=>Ar.connectedCallback()):Vt.jmp(()=>_n=setTimeout(Gi,30))},H=(k,J,Ce,xe)=>{Ce&&Ce.map(([nt,ct,Lt])=>{const Kt=z(k,nt),Bt=tr(J,Lt),Wt=M(nt);Vt.ael(Kt,ct,Bt,Wt),(J.$rmListeners$=J.$rmListeners$||[]).push(()=>Vt.rel(Kt,ct,Bt,Wt))})},tr=(k,J)=>Ce=>{var xe;try{256&k.$flags$?null==(xe=k.$lazyInstance$)||xe[J](Ce):(k.$queuedListeners$=k.$queuedListeners$||[]).push([J,Ce])}catch(nt){Oe(nt)}},z=(k,J)=>4&J?Re:8&J?Tt:16&J?Re.body:k,M=k=>vn?{passive:!!(1&k),capture:!!(2&k)}:!!(2&k)},8607:(un,ft,O)=>{"use strict";O.r(ft),O.d(ft,{GESTURE_CONTROLLER:()=>c.G,createGesture:()=>Ge});var c=O(1970);const L=(Ve,ke,Qe,rt)=>{const Ze=ce(Ve)?{capture:!!rt.capture,passive:!!rt.passive}:!!rt.capture;let He,st;return Ve.__zone_symbol__addEventListener?(He="__zone_symbol__addEventListener",st="__zone_symbol__removeEventListener"):(He="addEventListener",st="removeEventListener"),Ve[He](ke,Qe,Ze),()=>{Ve[st](ke,Qe,Ze)}},ce=Ve=>{if(void 0===Z)try{const ke=Object.defineProperty({},"passive",{get:()=>{Z=!0}});Ve.addEventListener("optsTest",()=>{},ke)}catch{Z=!1}return!!Z};let Z;const Ae=Ve=>Ve instanceof Document?Ve:Ve.ownerDocument,Ge=Ve=>{let ke=!1,Qe=!1,rt=!0,Ze=!1;const He=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},Ve),st=He.canStart,pe=He.onWillStart,Je=He.onStart,ge=He.onEnd,me=He.notCaptured,je=He.onMove,Ye=He.threshold,Ue=He.passive,Tt=He.blurOnStart,Re={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},Ft=((Ve,ke,Qe)=>{const rt=Qe*(Math.PI/180),Ze="x"===Ve,He=Math.cos(rt),st=ke*ke;let pe=0,Je=0,ge=!1,me=0;return{start(je,Ye){pe=je,Je=Ye,me=0,ge=!0},detect(je,Ye){if(!ge)return!1;const Ue=je-pe,Tt=Ye-Je,Re=Ue*Ue+Tt*Tt;if(Re<st)return!1;const Ft=Math.sqrt(Re),Vt=(Ze?Ue:Tt)/Ft;return me=Vt>He?1:Vt<-He?-1:0,ge=!1,!0},isGesture:()=>0!==me,getDirection:()=>me}})(He.direction,He.threshold,He.maxAngle),Vt=c.G.createGesture({name:Ve.gestureName,priority:Ve.gesturePriority,disableScroll:Ve.disableScroll}),vn=()=>{ke&&(Ze=!1,je&&je(Re))},pt=()=>!!Vt.capture()&&(ke=!0,rt=!1,Re.startX=Re.currentX,Re.startY=Re.currentY,Re.startTime=Re.currentTime,pe?pe(Re).then(q):q(),!0),q=()=>{Tt&&(()=>{if(typeof document<"u"){const Ie=document.activeElement;Ie?.blur&&Ie.blur()}})(),Je&&Je(Re),rt=!0},Q=()=>{ke=!1,Qe=!1,Ze=!1,rt=!0,Vt.release()},re=Ie=>{const ht=ke,qe=rt;if(Q(),qe){if(ye(Re,Ie),ht)return void(ge&&ge(Re));me&&me(Re)}},we=((Ve,ke,Qe,rt,Ze)=>{let He,st,pe,Je,ge,me,je,Ye=0;const Ue=_e=>{Ye=Date.now()+2e3,ke(_e)&&(!st&&Qe&&(st=L(Ve,"touchmove",Qe,Ze)),pe||(pe=L(_e.target,"touchend",Re,Ze)),Je||(Je=L(_e.target,"touchcancel",Re,Ze)))},Tt=_e=>{Ye>Date.now()||ke(_e)&&(!me&&Qe&&(me=L(Ae(Ve),"mousemove",Qe,Ze)),je||(je=L(Ae(Ve),"mouseup",Ft,Ze)))},Re=_e=>{Vt(),rt&&rt(_e)},Ft=_e=>{pn(),rt&&rt(_e)},Vt=()=>{st&&st(),pe&&pe(),Je&&Je(),st=pe=Je=void 0},pn=()=>{me&&me(),je&&je(),me=je=void 0},qt=()=>{Vt(),pn()},vn=(_e=!0)=>{_e?(He||(He=L(Ve,"touchstart",Ue,Ze)),ge||(ge=L(Ve,"mousedown",Tt,Ze))):(He&&He(),ge&&ge(),He=ge=void 0,qt())};return{enable:vn,stop:qt,destroy:()=>{vn(!1),rt=Qe=ke=void 0}}})(He.el,Ie=>{const ht=Oe(Ie);return!(Qe||!rt||(le(Ie,Re),Re.startX=Re.currentX,Re.startY=Re.currentY,Re.startTime=Re.currentTime=ht,Re.velocityX=Re.velocityY=Re.deltaX=Re.deltaY=0,Re.event=Ie,st&&!1===st(Re))||(Vt.release(),!Vt.start()))&&(Qe=!0,0===Ye?pt():(Ft.start(Re.startX,Re.startY),!0))},Ie=>{ke?!Ze&&rt&&(Ze=!0,ye(Re,Ie),requestAnimationFrame(vn)):(ye(Re,Ie),Ft.detect(Re.currentX,Re.currentY)&&(!Ft.isGesture()||!pt())&&gt())},re,{capture:!1,passive:Ue}),gt=()=>{Q(),we.stop(),me&&me(Re)};return{enable(Ie=!0){Ie||(ke&&re(void 0),Q()),we.enable(Ie)},destroy(){Vt.destroy(),we.destroy()}}},ye=(Ve,ke)=>{if(!ke)return;const Qe=Ve.currentX,rt=Ve.currentY,Ze=Ve.currentTime;le(ke,Ve);const He=Ve.currentX,st=Ve.currentY,Je=(Ve.currentTime=Oe(ke))-Ze;if(Je>0&&Je<100){const me=(st-rt)/Je;Ve.velocityX=(He-Qe)/Je*.7+.3*Ve.velocityX,Ve.velocityY=.7*me+.3*Ve.velocityY}Ve.deltaX=He-Ve.startX,Ve.deltaY=st-Ve.startY,Ve.event=ke},le=(Ve,ke)=>{let Qe=0,rt=0;if(Ve){const Ze=Ve.changedTouches;if(Ze&&Ze.length>0){const He=Ze[0];Qe=He.clientX,rt=He.clientY}else void 0!==Ve.pageX&&(Qe=Ve.pageX,rt=Ve.pageY)}ke.currentX=Qe,ke.currentY=rt},Oe=Ve=>Ve.timeStamp||Date.now()},3604:(un,ft,O)=>{"use strict";O.d(ft,{b:()=>Fe,c:()=>Ge,d:()=>ye,e:()=>qt,g:()=>_e,l:()=>Vt,s:()=>vn,t:()=>He,w:()=>pn});var c=O(467),L=O(9483),ce=O(4261),Z=O(4929),be=O(4920);const Fe="ionViewWillLeave",Ge="ionViewDidLeave",ye="ionViewWillUnload",le=q=>{q.tabIndex=-1,q.focus()},Oe=q=>null!==q.offsetParent,ke="ion-last-focus",Ze_saveViewFocus=re=>{if(L.c.get("focusManagerPriority",!1)){const gt=document.activeElement;null!==gt&&re?.contains(gt)&&gt.setAttribute(ke,"true")}},Ze_setViewFocus=re=>{const we=L.c.get("focusManagerPriority",!1);if(Array.isArray(we)&&!re.contains(document.activeElement)){const gt=re.querySelector(`[${ke}]`);if(gt&&Oe(gt))return void le(gt);for(const Ie of we)switch(Ie){case"content":const ht=re.querySelector('main, [role="main"]');if(ht&&Oe(ht))return void le(ht);break;case"heading":const qe=re.querySelector('h1, [role="heading"][aria-level="1"]');if(qe&&Oe(qe))return void le(qe);break;case"banner":const en=re.querySelector('header, [role="banner"]');if(en&&Oe(en))return void le(en);break;default:(0,Z.p)(`Unrecognized focus manager priority value ${Ie}`)}le(re)}},He=q=>new Promise((Q,re)=>{(0,ce.w)(()=>{st(q),pe(q).then(we=>{we.animation&&we.animation.destroy(),Je(q),Q(we)},we=>{Je(q),re(we)})})}),st=q=>{const Q=q.enteringEl,re=q.leavingEl;Ze_saveViewFocus(re),pt(Q,re,q.direction),q.showGoBack?Q.classList.add("can-go-back"):Q.classList.remove("can-go-back"),vn(Q,!1),Q.style.setProperty("pointer-events","none"),re&&(vn(re,!1),re.style.setProperty("pointer-events","none"))},pe=function(){var q=(0,c.A)(function*(Q){const re=yield ge(Q);return re&&ce.B.isBrowser?me(re,Q):je(Q)});return function(re){return q.apply(this,arguments)}}(),Je=q=>{const Q=q.enteringEl,re=q.leavingEl;Q.classList.remove("ion-page-invisible"),Q.style.removeProperty("pointer-events"),void 0!==re&&(re.classList.remove("ion-page-invisible"),re.style.removeProperty("pointer-events")),Ze_setViewFocus(Q)},ge=function(){var q=(0,c.A)(function*(Q){return Q.leavingEl&&Q.animated&&0!==Q.duration?Q.animationBuilder?Q.animationBuilder:"ios"===Q.mode?(yield Promise.resolve().then(O.bind(O,5022))).iosTransitionAnimation:(yield Promise.resolve().then(O.bind(O,3615))).mdTransitionAnimation:void 0});return function(re){return q.apply(this,arguments)}}(),me=function(){var q=(0,c.A)(function*(Q,re){yield Ye(re,!0);const we=Q(re.baseEl,re);Re(re.enteringEl,re.leavingEl);const gt=yield Tt(we,re);return re.progressCallback&&re.progressCallback(void 0),gt&&Ft(re.enteringEl,re.leavingEl),{hasCompleted:gt,animation:we}});return function(re,we){return q.apply(this,arguments)}}(),je=function(){var q=(0,c.A)(function*(Q){const re=Q.enteringEl,we=Q.leavingEl,gt=L.c.get("focusManagerPriority",!1);return yield Ye(Q,gt),Re(re,we),Ft(re,we),{hasCompleted:!0}});return function(re){return q.apply(this,arguments)}}(),Ye=function(){var q=(0,c.A)(function*(Q,re){(void 0!==Q.deepWait?Q.deepWait:re)&&(yield Promise.all([qt(Q.enteringEl),qt(Q.leavingEl)])),yield Ue(Q.viewIsReady,Q.enteringEl)});return function(re,we){return q.apply(this,arguments)}}(),Ue=function(){var q=(0,c.A)(function*(Q,re){Q&&(yield Q(re))});return function(re,we){return q.apply(this,arguments)}}(),Tt=(q,Q)=>{const re=Q.progressCallback,we=new Promise(gt=>{q.onFinish(Ie=>gt(1===Ie))});return re?(q.progressStart(!0),re(q)):q.play(),we},Re=(q,Q)=>{Vt(Q,Fe),Vt(q,"ionViewWillEnter")},Ft=(q,Q)=>{Vt(q,"ionViewDidEnter"),Vt(Q,Ge)},Vt=(q,Q)=>{if(q){const re=new CustomEvent(Q,{bubbles:!1,cancelable:!1});q.dispatchEvent(re)}},pn=()=>new Promise(q=>(0,be.r)(()=>(0,be.r)(()=>q()))),qt=function(){var q=(0,c.A)(function*(Q){const re=Q;if(re){if(null!=re.componentOnReady){if(null!=(yield re.componentOnReady()))return}else if(null!=re.__registerHost)return void(yield new Promise(gt=>(0,be.r)(gt)));yield Promise.all(Array.from(re.children).map(qt))}});return function(re){return q.apply(this,arguments)}}(),vn=(q,Q)=>{Q?(q.setAttribute("aria-hidden","true"),q.classList.add("ion-page-hidden")):(q.hidden=!1,q.removeAttribute("aria-hidden"),q.classList.remove("ion-page-hidden"))},pt=(q,Q,re)=>{void 0!==q&&(q.style.zIndex="back"===re?"99":"101"),void 0!==Q&&(Q.style.zIndex="100")},_e=q=>q.classList.contains("ion-page")?q:q.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||q},4929:(un,ft,O)=>{"use strict";O.d(ft,{a:()=>L,b:()=>ce,p:()=>c});const c=(Z,...be)=>console.warn(`[Ionic Warning]: ${Z}`,...be),L=(Z,...be)=>console.error(`[Ionic Error]: ${Z}`,...be),ce=(Z,...be)=>console.error(`<${Z.tagName.toLowerCase()}> must be used inside ${be.join(" or ")}.`)},8476:(un,ft,O)=>{"use strict";O.d(ft,{d:()=>L,w:()=>c});const c=typeof window<"u"?window:void 0,L=typeof document<"u"?document:void 0},9568:(un,ft,O)=>{"use strict";O.d(ft,{m:()=>Ve});var c=O(467),L=O(8476),ce=O(7192),Z=O(4929),be=O(4920),ae=O(9483),Ae=O(9986);const Fe=ke=>(0,Ae.c)().duration(ke?400:300),Ge=ke=>{let Qe,rt;const Ze=ke.width+8,He=(0,Ae.c)(),st=(0,Ae.c)();ke.isEndSide?(Qe=Ze+"px",rt="0px"):(Qe=-Ze+"px",rt="0px"),He.addElement(ke.menuInnerEl).fromTo("transform",`translateX(${Qe})`,`translateX(${rt})`);const Je="ios"===(0,ae.b)(ke),ge=Je?.2:.25;return st.addElement(ke.backdropEl).fromTo("opacity",.01,ge),Fe(Je).addAnimation([He,st])},ye=ke=>{let Qe,rt;const Ze=(0,ae.b)(ke),He=ke.width;ke.isEndSide?(Qe=-He+"px",rt=He+"px"):(Qe=He+"px",rt=-He+"px");const st=(0,Ae.c)().addElement(ke.menuInnerEl).fromTo("transform",`translateX(${rt})`,"translateX(0px)"),pe=(0,Ae.c)().addElement(ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${Qe})`),Je=(0,Ae.c)().addElement(ke.backdropEl).fromTo("opacity",.01,.32);return Fe("ios"===Ze).addAnimation([st,pe,Je])},le=ke=>{const Qe=(0,ae.b)(ke),rt=ke.width*(ke.isEndSide?-1:1)+"px",Ze=(0,Ae.c)().addElement(ke.contentEl).fromTo("transform","translateX(0px)",`translateX(${rt})`);return Fe("ios"===Qe).addAnimation(Ze)},Ve=(()=>{const ke=new Map,Qe=[],rt=function(){var Q=(0,c.A)(function*(re){const we=yield me(re,!0);return!!we&&we.open()});return function(we){return Q.apply(this,arguments)}}(),Ze=function(){var Q=(0,c.A)(function*(re){const we=yield void 0!==re?me(re,!0):je();return void 0!==we&&we.close()});return function(we){return Q.apply(this,arguments)}}(),He=function(){var Q=(0,c.A)(function*(re){const we=yield me(re,!0);return!!we&&we.toggle()});return function(we){return Q.apply(this,arguments)}}(),st=function(){var Q=(0,c.A)(function*(re,we){const gt=yield me(we);return gt&&(gt.disabled=!re),gt});return function(we,gt){return Q.apply(this,arguments)}}(),pe=function(){var Q=(0,c.A)(function*(re,we){const gt=yield me(we);return gt&&(gt.swipeGesture=re),gt});return function(we,gt){return Q.apply(this,arguments)}}(),Je=function(){var Q=(0,c.A)(function*(re){if(null!=re){const we=yield me(re);return void 0!==we&&we.isOpen()}return void 0!==(yield je())});return function(we){return Q.apply(this,arguments)}}(),ge=function(){var Q=(0,c.A)(function*(re){const we=yield me(re);return!!we&&!we.disabled});return function(we){return Q.apply(this,arguments)}}(),me=function(){var Q=(0,c.A)(function*(re,we=!1){if(yield q(),"start"===re||"end"===re){const Ie=Qe.filter(qe=>qe.side===re&&!qe.disabled);if(Ie.length>=1)return Ie.length>1&&we&&(0,Z.p)(`menuController queried for a menu on the "${re}" side, but ${Ie.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,Ie.map(qe=>qe.el)),Ie[0].el;const ht=Qe.filter(qe=>qe.side===re);if(ht.length>=1)return ht.length>1&&we&&(0,Z.p)(`menuController queried for a menu on the "${re}" side, but ${ht.length} menus were found. The first menu reference will be used. If this is not the behavior you want then pass the ID of the menu instead of its side.`,ht.map(qe=>qe.el)),ht[0].el}else if(null!=re)return _e(Ie=>Ie.menuId===re);return _e(Ie=>!Ie.disabled)||(Qe.length>0?Qe[0].el:void 0)});return function(we){return Q.apply(this,arguments)}}(),je=function(){var Q=(0,c.A)(function*(){return yield q(),qt()});return function(){return Q.apply(this,arguments)}}(),Ye=function(){var Q=(0,c.A)(function*(){return yield q(),vn()});return function(){return Q.apply(this,arguments)}}(),Ue=function(){var Q=(0,c.A)(function*(){return yield q(),pt()});return function(){return Q.apply(this,arguments)}}(),Tt=(Q,re)=>{ke.set(Q,re)},Vt=function(){var Q=(0,c.A)(function*(re,we,gt){if(pt())return!1;if(we){const Ie=yield je();Ie&&re.el!==Ie&&(yield Ie.setOpen(!1,!1))}return re._setOpen(we,gt)});return function(we,gt,Ie){return Q.apply(this,arguments)}}(),qt=()=>_e(Q=>Q._isOpen),vn=()=>Qe.map(Q=>Q.el),pt=()=>Qe.some(Q=>Q.isAnimating),_e=Q=>{const re=Qe.find(Q);if(void 0!==re)return re.el},q=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(Q=>new Promise(re=>(0,be.c)(Q,re))));return Tt("reveal",le),Tt("push",ye),Tt("overlay",Ge),null==L.d||L.d.addEventListener("ionBackButton",Q=>{const re=qt();re&&Q.detail.register(ce.MENU_BACK_BUTTON_PRIORITY,()=>re.close())}),{registerAnimation:Tt,get:me,getMenus:Ye,getOpen:je,isEnabled:ge,swipeGesture:pe,isAnimating:Ue,isOpen:Je,enable:st,toggle:He,close:Ze,open:rt,_getOpenSync:qt,_createAnimation:(Q,re)=>{const we=ke.get(Q);if(!we)throw new Error("animation not registered");return we(re)},_register:Q=>{Qe.indexOf(Q)<0&&Qe.push(Q)},_unregister:Q=>{const re=Qe.indexOf(Q);re>-1&&Qe.splice(re,1)},_setOpen:Vt}})()},9483:(un,ft,O)=>{"use strict";O.d(ft,{a:()=>le,b:()=>vn,c:()=>ce,i:()=>pt});var c=O(4261);class L{constructor(){this.m=new Map}reset(q){this.m=new Map(Object.entries(q))}get(q,Q){const re=this.m.get(q);return void 0!==re?re:Q}getBoolean(q,Q=!1){const re=this.m.get(q);return void 0===re?Q:"string"==typeof re?"true"===re:!!re}getNumber(q,Q){const re=parseFloat(this.m.get(q));return isNaN(re)?void 0!==Q?Q:NaN:re}set(q,Q){this.m.set(q,Q)}}const ce=new L,Ge="ionic-persist-config",le=(_e,q)=>("string"==typeof _e&&(q=_e,_e=void 0),(_e=>Oe(_e))(_e).includes(q)),Oe=(_e=window)=>{if(typeof _e>"u")return[];_e.Ionic=_e.Ionic||{};let q=_e.Ionic.platforms;return null==q&&(q=_e.Ionic.platforms=Ve(_e),q.forEach(Q=>_e.document.documentElement.classList.add(`plt-${Q}`))),q},Ve=_e=>{const q=ce.get("platform");return Object.keys(pn).filter(Q=>{const re=q?.[Q];return"function"==typeof re?re(_e):pn[Q](_e)})},Qe=_e=>!!(Ft(_e,/iPad/i)||Ft(_e,/Macintosh/i)&&ge(_e)),He=_e=>Ft(_e,/android|sink/i),ge=_e=>Vt(_e,"(any-pointer:coarse)"),je=_e=>Ye(_e)||Ue(_e),Ye=_e=>!!(_e.cordova||_e.phonegap||_e.PhoneGap),Ue=_e=>{const q=_e.Capacitor;return!!q?.isNative},Ft=(_e,q)=>q.test(_e.navigator.userAgent),Vt=(_e,q)=>{var Q;return null===(Q=_e.matchMedia)||void 0===Q?void 0:Q.call(_e,q).matches},pn={ipad:Qe,iphone:_e=>Ft(_e,/iPhone/i),ios:_e=>Ft(_e,/iPhone|iPod/i)||Qe(_e),android:He,phablet:_e=>{const q=_e.innerWidth,Q=_e.innerHeight,re=Math.min(q,Q),we=Math.max(q,Q);return re>390&&re<520&&we>620&&we<800},tablet:_e=>{const q=_e.innerWidth,Q=_e.innerHeight,re=Math.min(q,Q),we=Math.max(q,Q);return Qe(_e)||(_e=>He(_e)&&!Ft(_e,/mobile/i))(_e)||re>460&&re<820&&we>780&&we<1400},cordova:Ye,capacitor:Ue,electron:_e=>Ft(_e,/electron/i),pwa:_e=>{var q;return!!(null!==(q=_e.matchMedia)&&void 0!==q&&q.call(_e,"(display-mode: standalone)").matches||_e.navigator.standalone)},mobile:ge,mobileweb:_e=>ge(_e)&&!je(_e),desktop:_e=>!ge(_e),hybrid:je};let qt;const vn=_e=>_e&&(0,c.g)(_e)||qt,pt=(_e={})=>{if(typeof window>"u")return;const q=window.document,Q=window,re=Q.Ionic=Q.Ionic||{},we={};_e._ael&&(we.ael=_e._ael),_e._rel&&(we.rel=_e._rel),_e._ce&&(we.ce=_e._ce),(0,c.a)(we);const gt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(_e=>{try{const q=_e.sessionStorage.getItem(Ge);return null!==q?JSON.parse(q):{}}catch{return{}}})(Q)),{persistConfig:!1}),re.config),(_e=>{const q={};return _e.location.search.slice(1).split("&").map(Q=>Q.split("=")).map(([Q,re])=>{try{return[decodeURIComponent(Q),decodeURIComponent(re)]}catch{return["",""]}}).filter(([Q])=>((_e,q)=>_e.substr(0,q.length)===q)(Q,"ionic:")).map(([Q,re])=>[Q.slice(6),re]).forEach(([Q,re])=>{q[Q]=re}),q})(Q)),_e);ce.reset(gt),ce.getBoolean("persistConfig")&&((_e,q)=>{try{_e.sessionStorage.setItem(Ge,JSON.stringify(q))}catch{return}})(Q,gt),Oe(Q),re.config=ce,re.mode=qt=ce.get("mode",q.documentElement.getAttribute("mode")||(le(Q,"ios")?"ios":"md")),ce.set("mode",qt),q.documentElement.setAttribute("mode",qt),q.documentElement.classList.add(qt),ce.getBoolean("_testing")&&ce.set("animated",!1);const Ie=qe=>{var en;return null===(en=qe.tagName)||void 0===en?void 0:en.startsWith("ION-")},ht=qe=>["ios","md"].includes(qe);(0,c.c)(qe=>{for(;qe;){const en=qe.mode||qe.getAttribute("mode");if(en){if(ht(en))return en;Ie(qe)&&console.warn('Invalid ionic mode: "'+en+'", expected: "ios" or "md"')}qe=qe.parentElement}return qt})}},5022:(un,ft,O)=>{"use strict";O.r(ft),O.d(ft,{iosTransitionAnimation:()=>ke,shadow:()=>Fe});var c=O(9986),L=O(3604);O(8476),O(9483),O(4261);const Ae=rt=>document.querySelector(`${rt}.ion-cloned-element`),Fe=rt=>rt.shadowRoot||rt,Ge=rt=>{const Ze="ION-TABS"===rt.tagName?rt:rt.querySelector("ion-tabs"),He="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Ze){const st=Ze.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=st?st.querySelector(He):null}return rt.querySelector(He)},ye=(rt,Ze)=>{const He="ION-TABS"===rt.tagName?rt:rt.querySelector("ion-tabs");let st=[];if(null!=He){const pe=He.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=pe&&(st=pe.querySelectorAll("ion-buttons"))}else st=rt.querySelectorAll("ion-buttons");for(const pe of st){const Je=pe.closest("ion-header"),ge=Je&&!Je.classList.contains("header-collapse-condense-inactive"),me=pe.querySelector("ion-back-button"),je=pe.classList.contains("buttons-collapse");if(null!==me&&("start"===pe.slot||""===pe.slot)&&(je&&ge&&Ze||!je))return me}return null},Oe=(rt,Ze,He,st,pe,Je,ge,me,je)=>{var Ye,Ue;const Tt=Ze?`calc(100% - ${pe.right+4}px)`:pe.left-4+"px",Re=Ze?"right":"left",Ft=Ze?"left":"right",Vt=Ze?"right":"left";let pn=1,qt=1,vn=`scale(${qt})`;const pt="scale(1)";if(Je&&ge){const _t=(null===(Ye=Je.textContent)||void 0===Ye?void 0:Ye.trim())===(null===(Ue=me.textContent)||void 0===Ue?void 0:Ue.trim());pn=je.width/ge.width,qt=(je.height-Qe)/ge.height,vn=_t?`scale(${pn}, ${qt})`:`scale(${qt})`}const q=Fe(st).querySelector("ion-icon").getBoundingClientRect(),Q=Ze?q.width/2-(q.right-pe.right)+"px":pe.left-q.width/2+"px",re=Ze?`-${window.innerWidth-pe.right}px`:`${pe.left}px`,we=`${je.top}px`,gt=`${pe.top}px`,qe=He?[{offset:0,transform:`translate3d(${re}, ${gt}, 0)`},{offset:1,transform:`translate3d(${Q}, ${we}, 0)`}]:[{offset:0,transform:`translate3d(${Q}, ${we}, 0)`},{offset:1,transform:`translate3d(${re}, ${gt}, 0)`}],ut=He?[{offset:0,opacity:1,transform:pt},{offset:1,opacity:0,transform:vn}]:[{offset:0,opacity:0,transform:vn},{offset:1,opacity:1,transform:pt}],Dn=He?[{offset:0,opacity:1,transform:"scale(1)"},{offset:.2,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:0,transform:"scale(0.6)"}]:[{offset:0,opacity:0,transform:"scale(0.6)"},{offset:.6,opacity:0,transform:"scale(0.6)"},{offset:1,opacity:1,transform:"scale(1)"}],Ht=(0,c.c)(),$t=(0,c.c)(),Bn=(0,c.c)(),xt=Ae("ion-back-button"),Se=Fe(xt).querySelector(".button-text"),Pe=Fe(xt).querySelector("ion-icon");xt.text=st.text,xt.mode=st.mode,xt.icon=st.icon,xt.color=st.color,xt.disabled=st.disabled,xt.style.setProperty("display","block"),xt.style.setProperty("position","fixed"),$t.addElement(Pe),Ht.addElement(Se),Bn.addElement(xt),Bn.beforeStyles({position:"absolute",top:"0px",[Vt]:"0px"}).beforeAddWrite(()=>{st.style.setProperty("display","none"),xt.style.setProperty(Re,Tt)}).afterAddWrite(()=>{st.style.setProperty("display",""),xt.style.setProperty("display","none"),xt.style.removeProperty(Re)}).keyframes(qe),Ht.beforeStyles({"transform-origin":`${Re} top`}).keyframes(ut),$t.beforeStyles({"transform-origin":`${Ft} center`}).keyframes(Dn),rt.addAnimation([Ht,$t,Bn])},Ve=(rt,Ze,He,st,pe,Je,ge,me,je)=>{var Ye,Ue;const Tt=Ze?"right":"left",Re=Ze?`calc(100% - ${pe.right}px)`:`${pe.left}px`,Vt=`${pe.top}px`;let qt=Ze?`-${window.innerWidth-ge.right-8}px`:`${ge.x+8}px`,vn=.5;const pt="scale(1)";let _e=`scale(${vn})`;if(me&&je){qt=Ze?`-${window.innerWidth-je.right-8}px`:je.x-8+"px";const en=(null===(Ye=me.textContent)||void 0===Ye?void 0:Ye.trim())===(null===(Ue=st.textContent)||void 0===Ue?void 0:Ue.trim());vn=je.height/(Je.height-Qe),_e=en?`scale(${je.width/Je.width}, ${vn})`:`scale(${vn})`}const re=ge.top+ge.height/2-pe.height*vn/2+"px",Ie=He?[{offset:0,opacity:0,transform:`translate3d(${qt}, ${re}, 0) ${_e}`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0px, ${Vt}, 0) ${pt}`}]:[{offset:0,opacity:.99,transform:`translate3d(0px, ${Vt}, 0) ${pt}`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${qt}, ${re}, 0) ${_e}`}],ht=Ae("ion-title"),qe=(0,c.c)();ht.innerText=st.innerText,ht.size=st.size,ht.color=st.color,qe.addElement(ht),qe.beforeStyles({"transform-origin":`${Tt} top`,height:`${pe.height}px`,display:"",position:"relative",[Tt]:Re}).beforeAddWrite(()=>{st.style.setProperty("opacity","0")}).afterAddWrite(()=>{st.style.setProperty("opacity",""),ht.style.setProperty("display","none")}).keyframes(Ie),rt.addAnimation(qe)},ke=(rt,Ze)=>{var He;try{const st="cubic-bezier(0.32,0.72,0,1)",pe="opacity",Je="transform",ge="0%",je="rtl"===rt.ownerDocument.dir,Ye=je?"-99.5%":"99.5%",Ue=je?"33%":"-33%",Tt=Ze.enteringEl,Re=Ze.leavingEl,Ft="back"===Ze.direction,Vt=Tt.querySelector(":scope > ion-content"),pn=Tt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),qt=Tt.querySelectorAll(":scope > ion-header > ion-toolbar"),vn=(0,c.c)(),pt=(0,c.c)();if(vn.addElement(Tt).duration((null!==(He=Ze.duration)&&void 0!==He?He:0)||540).easing(Ze.easing||st).fill("both").beforeRemoveClass("ion-page-invisible"),Re&&null!=rt){const re=(0,c.c)();re.addElement(rt),vn.addAnimation(re)}if(Vt||0!==qt.length||0!==pn.length?(pt.addElement(Vt),pt.addElement(pn)):pt.addElement(Tt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),vn.addAnimation(pt),Ft?pt.beforeClearStyles([pe]).fromTo("transform",`translateX(${Ue})`,`translateX(${ge})`).fromTo(pe,.8,1):pt.beforeClearStyles([pe]).fromTo("transform",`translateX(${Ye})`,`translateX(${ge})`),Vt){const re=Fe(Vt).querySelector(".transition-effect");if(re){const we=re.querySelector(".transition-cover"),gt=re.querySelector(".transition-shadow"),Ie=(0,c.c)(),ht=(0,c.c)(),qe=(0,c.c)();Ie.addElement(re).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ht.addElement(we).beforeClearStyles([pe]).fromTo(pe,0,.1),qe.addElement(gt).beforeClearStyles([pe]).fromTo(pe,.03,.7),Ie.addAnimation([ht,qe]),pt.addAnimation([Ie])}}const _e=Tt.querySelector("ion-header.header-collapse-condense"),{forward:q,backward:Q}=((rt,Ze,He,st,pe)=>{const Je=ye(st,He),ge=Ge(pe),me=Ge(st),je=ye(pe,He),Ye=null!==Je&&null!==ge&&!He,Ue=null!==me&&null!==je&&He;if(Ye){const Tt=ge.getBoundingClientRect(),Re=Je.getBoundingClientRect(),Ft=Fe(Je).querySelector(".button-text"),Vt=Ft?.getBoundingClientRect(),qt=Fe(ge).querySelector(".toolbar-title").getBoundingClientRect();Ve(rt,Ze,He,ge,Tt,qt,Re,Ft,Vt),Oe(rt,Ze,He,Je,Re,Ft,Vt,ge,qt)}else if(Ue){const Tt=me.getBoundingClientRect(),Re=je.getBoundingClientRect(),Ft=Fe(je).querySelector(".button-text"),Vt=Ft?.getBoundingClientRect(),qt=Fe(me).querySelector(".toolbar-title").getBoundingClientRect();Ve(rt,Ze,He,me,Tt,qt,Re,Ft,Vt),Oe(rt,Ze,He,je,Re,Ft,Vt,me,qt)}return{forward:Ye,backward:Ue}})(vn,je,Ft,Tt,Re);if(qt.forEach(re=>{const we=(0,c.c)();we.addElement(re),vn.addAnimation(we);const gt=(0,c.c)();gt.addElement(re.querySelector("ion-title"));const Ie=(0,c.c)(),ht=Array.from(re.querySelectorAll("ion-buttons,[menuToggle]")),qe=re.closest("ion-header"),en=qe?.classList.contains("header-collapse-condense-inactive");let Mt;Mt=ht.filter(Ft?Ht=>{const $t=Ht.classList.contains("buttons-collapse");return $t&&!en||!$t}:Ht=>!Ht.classList.contains("buttons-collapse")),Ie.addElement(Mt);const ut=(0,c.c)();ut.addElement(re.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const Jt=(0,c.c)();Jt.addElement(Fe(re).querySelector(".toolbar-background"));const Cn=(0,c.c)(),Dn=re.querySelector("ion-back-button");if(Dn&&Cn.addElement(Dn),we.addAnimation([gt,Ie,ut,Jt,Cn]),Ie.fromTo(pe,.01,1),ut.fromTo(pe,.01,1),Ft)en||gt.fromTo("transform",`translateX(${Ue})`,`translateX(${ge})`).fromTo(pe,.01,1),ut.fromTo("transform",`translateX(${Ue})`,`translateX(${ge})`),Cn.fromTo(pe,.01,1);else if(_e||gt.fromTo("transform",`translateX(${Ye})`,`translateX(${ge})`).fromTo(pe,.01,1),ut.fromTo("transform",`translateX(${Ye})`,`translateX(${ge})`),Jt.beforeClearStyles([pe,"transform"]),qe?.translucent?Jt.fromTo("transform",je?"translateX(-100%)":"translateX(100%)","translateX(0px)"):Jt.fromTo(pe,.01,"var(--opacity)"),q||Cn.fromTo(pe,.01,1),Dn&&!q){const $t=(0,c.c)();$t.addElement(Fe(Dn).querySelector(".button-text")).fromTo("transform",je?"translateX(-100px)":"translateX(100px)","translateX(0px)"),we.addAnimation($t)}}),Re){const re=(0,c.c)(),we=Re.querySelector(":scope > ion-content"),gt=Re.querySelectorAll(":scope > ion-header > ion-toolbar"),Ie=Re.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(we||0!==gt.length||0!==Ie.length?(re.addElement(we),re.addElement(Ie)):re.addElement(Re.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),vn.addAnimation(re),Ft){re.beforeClearStyles([pe]).fromTo("transform",`translateX(${ge})`,je?"translateX(-100%)":"translateX(100%)");const ht=(0,L.g)(Re);vn.afterAddWrite(()=>{"normal"===vn.getDirection()&&ht.style.setProperty("display","none")})}else re.fromTo("transform",`translateX(${ge})`,`translateX(${Ue})`).fromTo(pe,1,.8);if(we){const ht=Fe(we).querySelector(".transition-effect");if(ht){const qe=ht.querySelector(".transition-cover"),en=ht.querySelector(".transition-shadow"),Mt=(0,c.c)(),ut=(0,c.c)(),Jt=(0,c.c)();Mt.addElement(ht).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),ut.addElement(qe).beforeClearStyles([pe]).fromTo(pe,.1,0),Jt.addElement(en).beforeClearStyles([pe]).fromTo(pe,.7,.03),Mt.addAnimation([ut,Jt]),re.addAnimation([Mt])}}gt.forEach(ht=>{const qe=(0,c.c)();qe.addElement(ht);const en=(0,c.c)();en.addElement(ht.querySelector("ion-title"));const Mt=(0,c.c)(),ut=ht.querySelectorAll("ion-buttons,[menuToggle]"),Jt=ht.closest("ion-header"),Cn=Jt?.classList.contains("header-collapse-condense-inactive"),Dn=Array.from(ut).filter(Pe=>{const _t=Pe.classList.contains("buttons-collapse");return _t&&!Cn||!_t});Mt.addElement(Dn);const Ht=(0,c.c)(),$t=ht.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");$t.length>0&&Ht.addElement($t);const Bn=(0,c.c)();Bn.addElement(Fe(ht).querySelector(".toolbar-background"));const xt=(0,c.c)(),Se=ht.querySelector("ion-back-button");if(Se&&xt.addElement(Se),qe.addAnimation([en,Mt,Ht,xt,Bn]),vn.addAnimation(qe),xt.fromTo(pe,.99,0),Mt.fromTo(pe,.99,0),Ht.fromTo(pe,.99,0),Ft){if(Cn||en.fromTo("transform",`translateX(${ge})`,je?"translateX(-100%)":"translateX(100%)").fromTo(pe,.99,0),Ht.fromTo("transform",`translateX(${ge})`,je?"translateX(-100%)":"translateX(100%)"),Bn.beforeClearStyles([pe,"transform"]),Jt?.translucent?Bn.fromTo("transform","translateX(0px)",je?"translateX(-100%)":"translateX(100%)"):Bn.fromTo(pe,"var(--opacity)",0),Se&&!Q){const _t=(0,c.c)();_t.addElement(Fe(Se).querySelector(".button-text")).fromTo("transform",`translateX(${ge})`,`translateX(${(je?-124:124)+"px"})`),qe.addAnimation(_t)}}else Cn||en.fromTo("transform",`translateX(${ge})`,`translateX(${Ue})`).fromTo(pe,.99,0).afterClearStyles([Je,pe]),Ht.fromTo("transform",`translateX(${ge})`,`translateX(${Ue})`).afterClearStyles([Je,pe]),xt.afterClearStyles([pe]),en.afterClearStyles([pe]),Mt.afterClearStyles([pe])})}return vn}catch(st){throw st}},Qe=10},3615:(un,ft,O)=>{"use strict";O.r(ft),O.d(ft,{mdTransitionAnimation:()=>ae});var c=O(9986),L=O(3604);O(8476),O(9483),O(4261);const ae=(Ae,Fe)=>{var Ge,ye,le;const ke="back"===Fe.direction,rt=Fe.leavingEl,Ze=(0,L.g)(Fe.enteringEl),He=Ze.querySelector("ion-toolbar"),st=(0,c.c)();if(st.addElement(Ze).fill("both").beforeRemoveClass("ion-page-invisible"),ke?st.duration((null!==(Ge=Fe.duration)&&void 0!==Ge?Ge:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):st.duration((null!==(ye=Fe.duration)&&void 0!==ye?ye:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),He){const pe=(0,c.c)();pe.addElement(He),st.addAnimation(pe)}if(rt&&ke){st.duration((null!==(le=Fe.duration)&&void 0!==le?le:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const pe=(0,c.c)();pe.addElement((0,L.g)(rt)).onFinish(Je=>{1===Je&&pe.elements.length>0&&pe.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),st.addAnimation(pe)}return st}},9440:(un,ft,O)=>{"use strict";O.d(ft,{B:()=>ut,F:()=>xt,G:()=>Jt,O:()=>Cn,a:()=>Ze,b:()=>He,c:()=>ge,d:()=>Dn,e:()=>Ht,f:()=>q,g:()=>re,h:()=>Ie,i:()=>qe,j:()=>je,k:()=>Ye,m:()=>pe,n:()=>ye,o:()=>pt,q:()=>le,s:()=>Mt});var c=O(467),L=O(8476),ce=O(4920),Z=O(7192),be=O(9483),ae=O(8621),Ae=O(1970),Fe=O(4929);const Ge='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',ye=(Se,Pe)=>{const _t=Se.querySelector(Ge);Oe(_t,Pe??Se)},le=(Se,Pe)=>{const _t=Array.from(Se.querySelectorAll(Ge));Oe(_t.length>0?_t[_t.length-1]:null,Pe??Se)},Oe=(Se,Pe)=>{let _t=Se;const nn=Se?.shadowRoot;nn&&(_t=nn.querySelector(Ge)||Se),_t?(0,ce.f)(_t):Pe.focus()};let Ve=0,ke=0;const Qe=new WeakMap,rt=Se=>({create:Pe=>Ue(Se,Pe),dismiss:(Pe,_t,nn)=>pn(document,Pe,_t,Se,nn),getTop:()=>(0,c.A)(function*(){return pt(document,Se)})()}),Ze=rt("ion-alert"),He=rt("ion-action-sheet"),pe=rt("ion-modal"),ge=rt("ion-popover"),je=Se=>{typeof document<"u"&&Vt(document);const Pe=Ve++;Se.overlayIndex=Pe},Ye=Se=>(Se.hasAttribute("id")||(Se.id="ion-overlay-"+ ++ke),Se.id),Ue=(Se,Pe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(Se).then(()=>{const _t=document.createElement(Se);return _t.classList.add("overlay-hidden"),Object.assign(_t,Object.assign(Object.assign({},Pe),{hasController:!0})),we(document).appendChild(_t),new Promise(nn=>(0,ce.c)(_t,nn))}):Promise.resolve(),Re=(Se,Pe)=>{let _t=Se;const nn=Se?.shadowRoot;nn&&(_t=nn.querySelector(Ge)||Se),_t?(0,ce.f)(_t):Pe.focus()},Vt=Se=>{0===Ve&&(Ve=1,Se.addEventListener("focus",Pe=>{((Se,Pe)=>{const _t=pt(Pe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover"),nn=Se.target;_t&&nn&&!_t.classList.contains(xt)&&(_t.shadowRoot?(()=>{if(_t.contains(nn))_t.lastFocus=nn;else if("ION-TOAST"===nn.tagName)Re(_t.lastFocus,_t);else{const Mn=_t.lastFocus;ye(_t),Mn===Pe.activeElement&&le(_t),_t.lastFocus=Pe.activeElement}})():(()=>{if(_t===nn)_t.lastFocus=void 0;else if("ION-TOAST"===nn.tagName)Re(_t.lastFocus,_t);else{const Mn=(0,ce.g)(_t);if(!Mn.contains(nn))return;const yn=Mn.querySelector(".ion-overlay-wrapper");if(!yn)return;if(yn.contains(nn)||nn===Mn.querySelector("ion-backdrop"))_t.lastFocus=nn;else{const kt=_t.lastFocus;ye(yn,_t),kt===Pe.activeElement&&le(yn,_t),_t.lastFocus=Pe.activeElement}}})())})(Pe,Se)},!0),Se.addEventListener("ionBackButton",Pe=>{const _t=pt(Se);_t?.backdropDismiss&&Pe.detail.register(Z.OVERLAY_BACK_BUTTON_PRIORITY,()=>{_t.dismiss(void 0,ut)})}),(0,Z.shouldUseCloseWatcher)()||Se.addEventListener("keydown",Pe=>{if("Escape"===Pe.key){const _t=pt(Se);_t?.backdropDismiss&&_t.dismiss(void 0,ut)}}))},pn=(Se,Pe,_t,nn,An)=>{const hr=pt(Se,nn,An);return hr?hr.dismiss(Pe,_t):Promise.reject("overlay does not exist")},vn=(Se,Pe)=>((Se,Pe)=>(void 0===Pe&&(Pe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker-legacy,ion-popover,ion-toast"),Array.from(Se.querySelectorAll(Pe)).filter(_t=>_t.overlayIndex>0)))(Se,Pe).filter(_t=>!(Se=>Se.classList.contains("overlay-hidden"))(_t)),pt=(Se,Pe,_t)=>{const nn=vn(Se,Pe);return void 0===_t?nn[nn.length-1]:nn.find(An=>An.id===_t)},_e=(Se=!1)=>{const _t=we(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");_t&&(Se?_t.setAttribute("aria-hidden","true"):_t.removeAttribute("aria-hidden"))},q=function(){var Se=(0,c.A)(function*(Pe,_t,nn,An,hr){var Mn,yn;if(Pe.presented)return;_e(!0),document.body.classList.add(Ae.B),$t(Pe.el),Pe.presented=!0,Pe.willPresent.emit(),null===(Mn=Pe.willPresentShorthand)||void 0===Mn||Mn.emit();const kt=(0,be.b)(Pe),vr=Pe.enterAnimation?Pe.enterAnimation:be.c.get(_t,"ios"===kt?nn:An);(yield gt(Pe,vr,Pe.el,hr))&&(Pe.didPresent.emit(),null===(yn=Pe.didPresentShorthand)||void 0===yn||yn.emit()),"ION-TOAST"!==Pe.el.tagName&&Q(Pe.el),Pe.keyboardClose&&(null===document.activeElement||!Pe.el.contains(document.activeElement))&&Pe.el.focus(),Pe.el.removeAttribute("aria-hidden")});return function(_t,nn,An,hr,Mn){return Se.apply(this,arguments)}}(),Q=function(){var Se=(0,c.A)(function*(Pe){let _t=document.activeElement;if(!_t)return;const nn=_t?.shadowRoot;nn&&(_t=nn.querySelector(Ge)||_t),yield Pe.onDidDismiss(),(null===document.activeElement||document.activeElement===document.body)&&_t.focus()});return function(_t){return Se.apply(this,arguments)}}(),re=function(){var Se=(0,c.A)(function*(Pe,_t,nn,An,hr,Mn,yn){var kt,vr;if(!Pe.presented)return!1;void 0!==L.d&&1===vn(L.d).length&&(_e(!1),document.body.classList.remove(Ae.B)),Pe.presented=!1;try{Pe.el.style.setProperty("pointer-events","none"),Pe.willDismiss.emit({data:_t,role:nn}),null===(kt=Pe.willDismissShorthand)||void 0===kt||kt.emit({data:_t,role:nn});const yr=(0,be.b)(Pe),Jn=Pe.leaveAnimation?Pe.leaveAnimation:be.c.get(An,"ios"===yr?hr:Mn);nn!==Jt&&(yield gt(Pe,Jn,Pe.el,yn)),Pe.didDismiss.emit({data:_t,role:nn}),null===(vr=Pe.didDismissShorthand)||void 0===vr||vr.emit({data:_t,role:nn}),(Qe.get(Pe)||[]).forEach(Nn=>Nn.destroy()),Qe.delete(Pe),Pe.el.classList.add("overlay-hidden"),Pe.el.style.removeProperty("pointer-events"),void 0!==Pe.el.lastFocus&&(Pe.el.lastFocus=void 0)}catch(yr){console.error(yr)}return Pe.el.remove(),Bn(),!0});return function(_t,nn,An,hr,Mn,yn,kt){return Se.apply(this,arguments)}}(),we=Se=>Se.querySelector("ion-app")||Se.body,gt=function(){var Se=(0,c.A)(function*(Pe,_t,nn,An){nn.classList.remove("overlay-hidden");const Mn=_t(Pe.el,An);(!Pe.animated||!be.c.getBoolean("animated",!0))&&Mn.duration(0),Pe.keyboardClose&&Mn.beforeAddWrite(()=>{const kt=nn.ownerDocument.activeElement;kt?.matches("input,ion-input, ion-textarea")&&kt.blur()});const yn=Qe.get(Pe)||[];return Qe.set(Pe,[...yn,Mn]),yield Mn.play(),!0});return function(_t,nn,An,hr){return Se.apply(this,arguments)}}(),Ie=(Se,Pe)=>{let _t;const nn=new Promise(An=>_t=An);return ht(Se,Pe,An=>{_t(An.detail)}),nn},ht=(Se,Pe,_t)=>{const nn=An=>{(0,ce.b)(Se,Pe,nn),_t(An)};(0,ce.a)(Se,Pe,nn)},qe=Se=>"cancel"===Se||Se===ut,en=Se=>Se(),Mt=(Se,Pe)=>{if("function"==typeof Se)return be.c.get("_zoneGate",en)(()=>{try{return Se(Pe)}catch(nn){throw nn}})},ut="backdrop",Jt="gesture",Cn=39,Dn=Se=>{let _t,Pe=!1;const nn=(0,ae.C)(),An=(yn=!1)=>{if(_t&&!yn)return{delegate:_t,inline:Pe};const{el:kt,hasController:vr,delegate:pr}=Se;return Pe=null!==kt.parentNode&&!vr,_t=Pe?pr||nn:pr,{inline:Pe,delegate:_t}};return{attachViewToDom:function(){var yn=(0,c.A)(function*(kt){const{delegate:vr}=An(!0);if(vr)return yield vr.attachViewToDom(Se.el,kt);const{hasController:pr}=Se;if(pr&&void 0!==kt)throw new Error("framework delegate is missing");return null});return function(vr){return yn.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:yn}=An();yn&&void 0!==Se.el&&yn.removeViewFromDom(Se.el.parentElement,Se.el)}}},Ht=()=>{let Se;const Pe=()=>{Se&&(Se(),Se=void 0)};return{addClickListener:(nn,An)=>{Pe();const hr=void 0!==An?document.getElementById(An):null;hr?Se=((yn,kt)=>{const vr=()=>{kt.present()};return yn.addEventListener("click",vr),()=>{yn.removeEventListener("click",vr)}})(hr,nn):(0,Fe.p)(`A trigger element with the ID "${An}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,nn)},removeClickListener:Pe}},$t=Se=>{var Pe;if(void 0===L.d)return;const _t=vn(L.d);for(let nn=_t.length-1;nn>=0;nn--){const An=_t[nn],hr=null!==(Pe=_t[nn+1])&&void 0!==Pe?Pe:Se;(hr.hasAttribute("aria-hidden")||"ION-TOAST"!==hr.tagName)&&An.setAttribute("aria-hidden","true")}},Bn=()=>{if(void 0===L.d)return;const Se=vn(L.d);for(let Pe=Se.length-1;Pe>=0;Pe--){const _t=Se[Pe];if(_t.removeAttribute("aria-hidden"),"ION-TOAST"!==_t.tagName)break}},xt="ion-disable-focus-trap"},2111:(un,ft,O)=>{"use strict";var c=O(345),L=O(4964),ce=O(4742),Z=O(9253);const be_firebaseConfig={apiKey:"AIzaSyCocYOrryg8sZLG9_h6DMqeSJK6UbBsKXA",authDomain:"conteggio-ore-7fa32.firebaseapp.com",projectId:"conteggio-ore-7fa32",storageBucket:"conteggio-ore-7fa32.appspot.com",messagingSenderId:"843599729652",appId:"1:843599729652:web:8066e671159e4fd7925fa1"};var ae=O(3953);let Ae=(()=>{class st{constructor(){}static{this.\u0275fac=function(ge){return new(ge||st)}}static{this.\u0275cmp=ae.VBU({type:st,selectors:[["app-root"]],decls:2,vars:0,template:function(ge,me){1&ge&&(ae.j41(0,"ion-app"),ae.nrm(1,"ion-router-outlet"),ae.k0s())},dependencies:[ce.U1,ce.Rg]})}}return st})();var Fe=O(7935),ye=(O(7955),O(1182));let le=(()=>{class st{constructor(Je,ge){this.afAuth=Je,this.router=ge}login(Je,ge){return this.afAuth.signInWithEmailAndPassword(Je,ge).then(()=>{this.router.navigate(["/home"])}).catch(me=>{console.error("Login error:",me)})}loginWithGoogle(){console.log("Attempting to login with Google...");const Je=new Fe.A.auth.GoogleAuthProvider;return this.afAuth.signInWithPopup(Je).then(()=>{this.router.navigate(["/home"])}).catch(ge=>{console.error("Google login error:",ge)})}logout(){return this.afAuth.signOut().then(()=>{this.router.navigate(["/login"])})}static{this.\u0275fac=function(ge){return new(ge||st)(ae.KVO(ye.DS),ae.KVO(L.Ix))}}static{this.\u0275prov=ae.jDH({token:st,factory:st.\u0275fac,providedIn:"root"})}}return st})();var Oe=O(4341);const ke=[{path:"home",loadChildren:()=>O.e(2331).then(O.bind(O,2331)).then(st=>st.HomePageModule)},{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class st{constructor(Je){this.authService=Je,this.email="",this.password=""}login(){this.authService.login(this.email,this.password)}loginWithGoogle(){this.authService.loginWithGoogle()}static{this.\u0275fac=function(ge){return new(ge||st)(ae.rXU(le))}}static{this.\u0275cmp=ae.VBU({type:st,selectors:[["app-login"]],decls:18,vars:3,consts:[[3,"ngSubmit"],["position","floating"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["expand","full","type","submit",3,"disabled"],["expand","full",3,"click"]],template:function(ge,me){1&ge&&(ae.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),ae.EFF(3,"Login"),ae.k0s()()(),ae.j41(4,"ion-content")(5,"form",0),ae.bIt("ngSubmit",function(){return me.login()}),ae.j41(6,"ion-item")(7,"ion-label",1),ae.EFF(8,"Email"),ae.k0s(),ae.j41(9,"ion-input",2),ae.mxI("ngModelChange",function(Ye){return ae.DH7(me.email,Ye)||(me.email=Ye),Ye}),ae.k0s()(),ae.j41(10,"ion-item")(11,"ion-label",1),ae.EFF(12,"Password"),ae.k0s(),ae.j41(13,"ion-input",3),ae.mxI("ngModelChange",function(Ye){return ae.DH7(me.password,Ye)||(me.password=Ye),Ye}),ae.k0s()(),ae.j41(14,"ion-button",4),ae.EFF(15,"Login"),ae.k0s(),ae.j41(16,"ion-button",5),ae.bIt("click",function(){return me.loginWithGoogle()}),ae.EFF(17,"Login con Google"),ae.k0s()()()),2&ge&&(ae.R7$(9),ae.R50("ngModel",me.email),ae.R7$(4),ae.R50("ngModel",me.password),ae.R7$(),ae.Y8G("disabled",!me.email||!me.password))},dependencies:[ce.Jm,ce.W9,ce.eU,ce.$w,ce.uz,ce.he,ce.BC,ce.ai,ce.Gw,Oe.qT,Oe.BC,Oe.cb,Oe.YS,Oe.vS,Oe.cV]})}}return st})()}];let Qe=(()=>{class st{static{this.\u0275fac=function(ge){return new(ge||st)}}static{this.\u0275mod=ae.$C({type:st})}static{this.\u0275inj=ae.G2t({imports:[L.iI.forRoot(ke,{preloadingStrategy:L.Kp}),L.iI]})}}return st})();var rt=O(8079),Ze=O(2872);let He=(()=>{class st{static{this.\u0275fac=function(ge){return new(ge||st)}}static{this.\u0275mod=ae.$C({type:st,bootstrap:[Ae]})}static{this.\u0275inj=ae.G2t({providers:[{provide:L.b,useClass:Ze.jM}],imports:[c.Bb,ce.bv.forRoot(),Qe,Z.bf.initializeApp(be_firebaseConfig),Oe.YN,Oe.X1,rt.cM,ye.X8]})}}return st})();c.sG().bootstrapModule(He).catch(st=>console.log(st))},4412:(un,ft,O)=>{"use strict";O.d(ft,{t:()=>L});var c=O(1413);class L extends c.B{constructor(Z){super(),this._value=Z}get value(){return this.getValue()}_subscribe(Z){const be=super._subscribe(Z);return!be.closed&&Z.next(this._value),be}getValue(){const{hasError:Z,thrownError:be,_value:ae}=this;if(Z)throw be;return this._throwIfClosed(),ae}next(Z){super.next(this._value=Z)}}},1985:(un,ft,O)=>{"use strict";O.d(ft,{c:()=>Fe});var c=O(7707),L=O(8359),ce=O(3494),Z=O(1203),be=O(1026),ae=O(8071),Ae=O(9786);let Fe=(()=>{class Oe{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Qe=new Oe;return Qe.source=this,Qe.operator=ke,Qe}subscribe(ke,Qe,rt){const Ze=function le(Oe){return Oe&&Oe instanceof c.vU||function ye(Oe){return Oe&&(0,ae.T)(Oe.next)&&(0,ae.T)(Oe.error)&&(0,ae.T)(Oe.complete)}(Oe)&&(0,L.Uv)(Oe)}(ke)?ke:new c.Ms(ke,Qe,rt);return(0,Ae.Y)(()=>{const{operator:He,source:st}=this;Ze.add(He?He.call(Ze,st):st?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Qe){ke.error(Qe)}}forEach(ke,Qe){return new(Qe=Ge(Qe))((rt,Ze)=>{const He=new c.Ms({next:st=>{try{ke(st)}catch(pe){Ze(pe),He.unsubscribe()}},error:Ze,complete:rt});this.subscribe(He)})}_subscribe(ke){var Qe;return null===(Qe=this.source)||void 0===Qe?void 0:Qe.subscribe(ke)}[ce.s](){return this}pipe(...ke){return(0,Z.m)(ke)(this)}toPromise(ke){return new(ke=Ge(ke))((Qe,rt)=>{let Ze;this.subscribe(He=>Ze=He,He=>rt(He),()=>Qe(Ze))})}}return Oe.create=Ve=>new Oe(Ve),Oe})();function Ge(Oe){var Ve;return null!==(Ve=Oe??be.$.Promise)&&void 0!==Ve?Ve:Promise}},1413:(un,ft,O)=>{"use strict";O.d(ft,{B:()=>Ae});var c=O(1985),L=O(8359);const Z=(0,O(1853).L)(Ge=>function(){Ge(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var be=O(7908),ae=O(9786);let Ae=(()=>{class Ge extends c.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(le){const Oe=new Fe(this,this);return Oe.operator=le,Oe}_throwIfClosed(){if(this.closed)throw new Z}next(le){(0,ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Oe of this.currentObservers)Oe.next(le)}})}error(le){(0,ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=le;const{observers:Oe}=this;for(;Oe.length;)Oe.shift().error(le)}})}complete(){(0,ae.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:le}=this;for(;le.length;)le.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var le;return(null===(le=this.observers)||void 0===le?void 0:le.length)>0}_trySubscribe(le){return this._throwIfClosed(),super._trySubscribe(le)}_subscribe(le){return this._throwIfClosed(),this._checkFinalizedStatuses(le),this._innerSubscribe(le)}_innerSubscribe(le){const{hasError:Oe,isStopped:Ve,observers:ke}=this;return Oe||Ve?L.Kn:(this.currentObservers=null,ke.push(le),new L.yU(()=>{this.currentObservers=null,(0,be.o)(ke,le)}))}_checkFinalizedStatuses(le){const{hasError:Oe,thrownError:Ve,isStopped:ke}=this;Oe?le.error(Ve):ke&&le.complete()}asObservable(){const le=new c.c;return le.source=this,le}}return Ge.create=(ye,le)=>new Fe(ye,le),Ge})();class Fe extends Ae{constructor(ye,le){super(),this.destination=ye,this.source=le}next(ye){var le,Oe;null===(Oe=null===(le=this.destination)||void 0===le?void 0:le.next)||void 0===Oe||Oe.call(le,ye)}error(ye){var le,Oe;null===(Oe=null===(le=this.destination)||void 0===le?void 0:le.error)||void 0===Oe||Oe.call(le,ye)}complete(){var ye,le;null===(le=null===(ye=this.destination)||void 0===ye?void 0:ye.complete)||void 0===le||le.call(ye)}_subscribe(ye){var le,Oe;return null!==(Oe=null===(le=this.source)||void 0===le?void 0:le.subscribe(ye))&&void 0!==Oe?Oe:L.Kn}}},7707:(un,ft,O)=>{"use strict";O.d(ft,{Ms:()=>rt,vU:()=>Oe});var c=O(8071),L=O(8359),ce=O(1026),Z=O(5334),be=O(5343);const ae=Ge("C",void 0,void 0);function Ge(Je,ge,me){return{kind:Je,value:ge,error:me}}var ye=O(9270),le=O(9786);class Oe extends L.yU{constructor(ge){super(),this.isStopped=!1,ge?(this.destination=ge,(0,L.Uv)(ge)&&ge.add(this)):this.destination=pe}static create(ge,me,je){return new rt(ge,me,je)}next(ge){this.isStopped?st(function Fe(Je){return Ge("N",Je,void 0)}(ge),this):this._next(ge)}error(ge){this.isStopped?st(function Ae(Je){return Ge("E",void 0,Je)}(ge),this):(this.isStopped=!0,this._error(ge))}complete(){this.isStopped?st(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ge){this.destination.next(ge)}_error(ge){try{this.destination.error(ge)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function ke(Je,ge){return Ve.call(Je,ge)}class Qe{constructor(ge){this.partialObserver=ge}next(ge){const{partialObserver:me}=this;if(me.next)try{me.next(ge)}catch(je){Ze(je)}}error(ge){const{partialObserver:me}=this;if(me.error)try{me.error(ge)}catch(je){Ze(je)}else Ze(ge)}complete(){const{partialObserver:ge}=this;if(ge.complete)try{ge.complete()}catch(me){Ze(me)}}}class rt extends Oe{constructor(ge,me,je){let Ye;if(super(),(0,c.T)(ge)||!ge)Ye={next:ge??void 0,error:me??void 0,complete:je??void 0};else{let Ue;this&&ce.$.useDeprecatedNextContext?(Ue=Object.create(ge),Ue.unsubscribe=()=>this.unsubscribe(),Ye={next:ge.next&&ke(ge.next,Ue),error:ge.error&&ke(ge.error,Ue),complete:ge.complete&&ke(ge.complete,Ue)}):Ye=ge}this.destination=new Qe(Ye)}}function Ze(Je){ce.$.useDeprecatedSynchronousErrorHandling?(0,le.l)(Je):(0,Z.m)(Je)}function st(Je,ge){const{onStoppedNotification:me}=ce.$;me&&ye.f.setTimeout(()=>me(Je,ge))}const pe={closed:!0,next:be.l,error:function He(Je){throw Je},complete:be.l}},8359:(un,ft,O)=>{"use strict";O.d(ft,{Kn:()=>ae,yU:()=>be,Uv:()=>Ae});var c=O(8071);const ce=(0,O(1853).L)(Ge=>function(le){Ge(this),this.message=le?`${le.length} errors occurred during unsubscription:\n${le.map((Oe,Ve)=>`${Ve+1}) ${Oe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=le});var Z=O(7908);class be{constructor(ye){this.initialTeardown=ye,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ye;if(!this.closed){this.closed=!0;const{_parentage:le}=this;if(le)if(this._parentage=null,Array.isArray(le))for(const ke of le)ke.remove(this);else le.remove(this);const{initialTeardown:Oe}=this;if((0,c.T)(Oe))try{Oe()}catch(ke){ye=ke instanceof ce?ke.errors:[ke]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const ke of Ve)try{Fe(ke)}catch(Qe){ye=ye??[],Qe instanceof ce?ye=[...ye,...Qe.errors]:ye.push(Qe)}}if(ye)throw new ce(ye)}}add(ye){var le;if(ye&&ye!==this)if(this.closed)Fe(ye);else{if(ye instanceof be){if(ye.closed||ye._hasParent(this))return;ye._addParent(this)}(this._finalizers=null!==(le=this._finalizers)&&void 0!==le?le:[]).push(ye)}}_hasParent(ye){const{_parentage:le}=this;return le===ye||Array.isArray(le)&&le.includes(ye)}_addParent(ye){const{_parentage:le}=this;this._parentage=Array.isArray(le)?(le.push(ye),le):le?[le,ye]:ye}_removeParent(ye){const{_parentage:le}=this;le===ye?this._parentage=null:Array.isArray(le)&&(0,Z.o)(le,ye)}remove(ye){const{_finalizers:le}=this;le&&(0,Z.o)(le,ye),ye instanceof be&&ye._removeParent(this)}}be.EMPTY=(()=>{const Ge=new be;return Ge.closed=!0,Ge})();const ae=be.EMPTY;function Ae(Ge){return Ge instanceof be||Ge&&"closed"in Ge&&(0,c.T)(Ge.remove)&&(0,c.T)(Ge.add)&&(0,c.T)(Ge.unsubscribe)}function Fe(Ge){(0,c.T)(Ge)?Ge():Ge.unsubscribe()}},1026:(un,ft,O)=>{"use strict";O.d(ft,{$:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},4572:(un,ft,O)=>{"use strict";O.d(ft,{z:()=>ye});var c=O(1985),L=O(3073),ce=O(8455),Z=O(3669),be=O(6450),ae=O(3794),Ae=O(8496),Fe=O(4360),Ge=O(5225);function ye(...Ve){const ke=(0,ae.lI)(Ve),Qe=(0,ae.ms)(Ve),{args:rt,keys:Ze}=(0,L.D)(Ve);if(0===rt.length)return(0,ce.H)([],ke);const He=new c.c(function le(Ve,ke,Qe=Z.D){return rt=>{Oe(ke,()=>{const{length:Ze}=Ve,He=new Array(Ze);let st=Ze,pe=Ze;for(let Je=0;Je<Ze;Je++)Oe(ke,()=>{const ge=(0,ce.H)(Ve[Je],ke);let me=!1;ge.subscribe((0,Fe._)(rt,je=>{He[Je]=je,me||(me=!0,pe--),pe||rt.next(Qe(He.slice()))},()=>{--st||rt.complete()}))},rt)},rt)}}(rt,ke,Ze?st=>(0,Ae.e)(Ze,st):Z.D));return Qe?He.pipe((0,be.I)(Qe)):He}function Oe(Ve,ke,Qe){Ve?(0,Ge.N)(Qe,Ve,ke):ke()}},8793:(un,ft,O)=>{"use strict";O.d(ft,{x:()=>be});var c=O(6365),ce=O(3794),Z=O(8455);function be(...ae){return function L(){return(0,c.U)(1)}()((0,Z.H)(ae,(0,ce.lI)(ae)))}},983:(un,ft,O)=>{"use strict";O.d(ft,{w:()=>L});const L=new(O(1985).c)(be=>be.complete())},8455:(un,ft,O)=>{"use strict";O.d(ft,{H:()=>ge});var c=O(8750),L=O(941),ce=O(6745),ae=O(1985),Fe=O(4761),Ge=O(8071),ye=O(5225);function Oe(me,je){if(!me)throw new Error("Iterable cannot be null");return new ae.c(Ye=>{(0,ye.N)(Ye,je,()=>{const Ue=me[Symbol.asyncIterator]();(0,ye.N)(Ye,je,()=>{Ue.next().then(Tt=>{Tt.done?Ye.complete():Ye.next(Tt.value)})},0,!0)})})}var Ve=O(5055),ke=O(9858),Qe=O(7441),rt=O(5397),Ze=O(7953),He=O(591),st=O(5196);function ge(me,je){return je?function Je(me,je){if(null!=me){if((0,Ve.l)(me))return function Z(me,je){return(0,c.Tg)(me).pipe((0,ce._)(je),(0,L.Q)(je))}(me,je);if((0,Qe.X)(me))return function Ae(me,je){return new ae.c(Ye=>{let Ue=0;return je.schedule(function(){Ue===me.length?Ye.complete():(Ye.next(me[Ue++]),Ye.closed||this.schedule())})})}(me,je);if((0,ke.y)(me))return function be(me,je){return(0,c.Tg)(me).pipe((0,ce._)(je),(0,L.Q)(je))}(me,je);if((0,Ze.T)(me))return Oe(me,je);if((0,rt.x)(me))return function le(me,je){return new ae.c(Ye=>{let Ue;return(0,ye.N)(Ye,je,()=>{Ue=me[Fe.l](),(0,ye.N)(Ye,je,()=>{let Tt,Re;try{({value:Tt,done:Re}=Ue.next())}catch(Ft){return void Ye.error(Ft)}Re?Ye.complete():Ye.next(Tt)},0,!0)}),()=>(0,Ge.T)(Ue?.return)&&Ue.return()})}(me,je);if((0,st.U)(me))return function pe(me,je){return Oe((0,st.C)(me),je)}(me,je)}throw(0,He.L)(me)}(me,je):(0,c.Tg)(me)}},3726:(un,ft,O)=>{"use strict";O.d(ft,{R:()=>ye});var c=O(8750),L=O(1985),ce=O(1397),Z=O(7441),be=O(8071),ae=O(6450);const Ae=["addListener","removeListener"],Fe=["addEventListener","removeEventListener"],Ge=["on","off"];function ye(Qe,rt,Ze,He){if((0,be.T)(Ze)&&(He=Ze,Ze=void 0),He)return ye(Qe,rt,Ze).pipe((0,ae.I)(He));const[st,pe]=function ke(Qe){return(0,be.T)(Qe.addEventListener)&&(0,be.T)(Qe.removeEventListener)}(Qe)?Fe.map(Je=>ge=>Qe[Je](rt,ge,Ze)):function Oe(Qe){return(0,be.T)(Qe.addListener)&&(0,be.T)(Qe.removeListener)}(Qe)?Ae.map(le(Qe,rt)):function Ve(Qe){return(0,be.T)(Qe.on)&&(0,be.T)(Qe.off)}(Qe)?Ge.map(le(Qe,rt)):[];if(!st&&(0,Z.X)(Qe))return(0,ce.Z)(Je=>ye(Je,rt,Ze))((0,c.Tg)(Qe));if(!st)throw new TypeError("Invalid event target");return new L.c(Je=>{const ge=(...me)=>Je.next(1<me.length?me:me[0]);return st(ge),()=>pe(ge)})}function le(Qe,rt){return Ze=>He=>Qe[Ze](rt,He)}},8750:(un,ft,O)=>{"use strict";O.d(ft,{Tg:()=>Ve});var c=O(1635),L=O(7441),ce=O(9858),Z=O(1985),be=O(5055),ae=O(7953),Ae=O(591),Fe=O(5397),Ge=O(5196),ye=O(8071),le=O(5334),Oe=O(3494);function Ve(Je){if(Je instanceof Z.c)return Je;if(null!=Je){if((0,be.l)(Je))return function ke(Je){return new Z.c(ge=>{const me=Je[Oe.s]();if((0,ye.T)(me.subscribe))return me.subscribe(ge);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Je);if((0,L.X)(Je))return function Qe(Je){return new Z.c(ge=>{for(let me=0;me<Je.length&&!ge.closed;me++)ge.next(Je[me]);ge.complete()})}(Je);if((0,ce.y)(Je))return function rt(Je){return new Z.c(ge=>{Je.then(me=>{ge.closed||(ge.next(me),ge.complete())},me=>ge.error(me)).then(null,le.m)})}(Je);if((0,ae.T)(Je))return He(Je);if((0,Fe.x)(Je))return function Ze(Je){return new Z.c(ge=>{for(const me of Je)if(ge.next(me),ge.closed)return;ge.complete()})}(Je);if((0,Ge.U)(Je))return function st(Je){return He((0,Ge.C)(Je))}(Je)}throw(0,Ae.L)(Je)}function He(Je){return new Z.c(ge=>{(function pe(Je,ge){var me,je,Ye,Ue;return(0,c.sH)(this,void 0,void 0,function*(){try{for(me=(0,c.xN)(Je);!(je=yield me.next()).done;)if(ge.next(je.value),ge.closed)return}catch(Tt){Ye={error:Tt}}finally{try{je&&!je.done&&(Ue=me.return)&&(yield Ue.call(me))}finally{if(Ye)throw Ye.error}}ge.complete()})})(Je,ge).catch(me=>ge.error(me))})}},7673:(un,ft,O)=>{"use strict";O.d(ft,{of:()=>ce});var c=O(3794),L=O(8455);function ce(...Z){const be=(0,c.lI)(Z);return(0,L.H)(Z,be)}},4360:(un,ft,O)=>{"use strict";O.d(ft,{_:()=>L});var c=O(7707);function L(Z,be,ae,Ae,Fe){return new ce(Z,be,ae,Ae,Fe)}class ce extends c.vU{constructor(be,ae,Ae,Fe,Ge,ye){super(be),this.onFinalize=Ge,this.shouldUnsubscribe=ye,this._next=ae?function(le){try{ae(le)}catch(Oe){be.error(Oe)}}:super._next,this._error=Fe?function(le){try{Fe(le)}catch(Oe){be.error(Oe)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(le){be.error(le)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var be;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(be=this.onFinalize)||void 0===be||be.call(this))}}}},9901:(un,ft,O)=>{"use strict";O.d(ft,{U:()=>ce});var c=O(9974),L=O(4360);function ce(Z){return(0,c.N)((be,ae)=>{let Ae=!1;be.subscribe((0,L._)(ae,Fe=>{Ae=!0,ae.next(Fe)},()=>{Ae||ae.next(Z),ae.complete()}))})}},3294:(un,ft,O)=>{"use strict";O.d(ft,{F:()=>Z});var c=O(3669),L=O(9974),ce=O(4360);function Z(ae,Ae=c.D){return ae=ae??be,(0,L.N)((Fe,Ge)=>{let ye,le=!0;Fe.subscribe((0,ce._)(Ge,Oe=>{const Ve=Ae(Oe);(le||!ae(ye,Ve))&&(le=!1,ye=Ve,Ge.next(Oe))}))})}function be(ae,Ae){return ae===Ae}},5964:(un,ft,O)=>{"use strict";O.d(ft,{p:()=>ce});var c=O(9974),L=O(4360);function ce(Z,be){return(0,c.N)((ae,Ae)=>{let Fe=0;ae.subscribe((0,L._)(Ae,Ge=>Z.call(be,Ge,Fe++)&&Ae.next(Ge)))})}},1594:(un,ft,O)=>{"use strict";O.d(ft,{$:()=>Ae});var c=O(9350),L=O(5964),ce=O(6697),Z=O(9901),be=O(3774),ae=O(3669);function Ae(Fe,Ge){const ye=arguments.length>=2;return le=>le.pipe(Fe?(0,L.p)((Oe,Ve)=>Fe(Oe,Ve,le)):ae.D,(0,ce.s)(1),ye?(0,Z.U)(Ge):(0,be.v)(()=>new c.G))}},6354:(un,ft,O)=>{"use strict";O.d(ft,{T:()=>ce});var c=O(9974),L=O(4360);function ce(Z,be){return(0,c.N)((ae,Ae)=>{let Fe=0;ae.subscribe((0,L._)(Ae,Ge=>{Ae.next(Z.call(be,Ge,Fe++))}))})}},6365:(un,ft,O)=>{"use strict";O.d(ft,{U:()=>ce});var c=O(1397),L=O(3669);function ce(Z=1/0){return(0,c.Z)(L.D,Z)}},1397:(un,ft,O)=>{"use strict";O.d(ft,{Z:()=>Fe});var c=O(6354),L=O(8750),ce=O(9974),Z=O(5225),be=O(4360),Ae=O(8071);function Fe(Ge,ye,le=1/0){return(0,Ae.T)(ye)?Fe((Oe,Ve)=>(0,c.T)((ke,Qe)=>ye(Oe,ke,Ve,Qe))((0,L.Tg)(Ge(Oe,Ve))),le):("number"==typeof ye&&(le=ye),(0,ce.N)((Oe,Ve)=>function ae(Ge,ye,le,Oe,Ve,ke,Qe,rt){const Ze=[];let He=0,st=0,pe=!1;const Je=()=>{pe&&!Ze.length&&!He&&ye.complete()},ge=je=>He<Oe?me(je):Ze.push(je),me=je=>{ke&&ye.next(je),He++;let Ye=!1;(0,L.Tg)(le(je,st++)).subscribe((0,be._)(ye,Ue=>{Ve?.(Ue),ke?ge(Ue):ye.next(Ue)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(He--;Ze.length&&He<Oe;){const Ue=Ze.shift();Qe?(0,Z.N)(ye,Qe,()=>me(Ue)):me(Ue)}Je()}catch(Ue){ye.error(Ue)}}))};return Ge.subscribe((0,be._)(ye,ge,()=>{pe=!0,Je()})),()=>{rt?.()}}(Oe,Ve,Ge,le)))}},941:(un,ft,O)=>{"use strict";O.d(ft,{Q:()=>Z});var c=O(5225),L=O(9974),ce=O(4360);function Z(be,ae=0){return(0,L.N)((Ae,Fe)=>{Ae.subscribe((0,ce._)(Fe,Ge=>(0,c.N)(Fe,be,()=>Fe.next(Ge),ae),()=>(0,c.N)(Fe,be,()=>Fe.complete(),ae),Ge=>(0,c.N)(Fe,be,()=>Fe.error(Ge),ae)))})}},2816:(un,ft,O)=>{"use strict";O.d(ft,{S:()=>Z});var c=O(9974),L=O(4360);function Z(be,ae){return(0,c.N)(function ce(be,ae,Ae,Fe,Ge){return(ye,le)=>{let Oe=Ae,Ve=ae,ke=0;ye.subscribe((0,L._)(le,Qe=>{const rt=ke++;Ve=Oe?be(Ve,Qe,rt):(Oe=!0,Qe),Fe&&le.next(Ve)},Ge&&(()=>{Oe&&le.next(Ve),le.complete()})))}}(be,ae,arguments.length>=2,!0))}},9172:(un,ft,O)=>{"use strict";O.d(ft,{Z:()=>Z});var c=O(8793),L=O(3794),ce=O(9974);function Z(...be){const ae=(0,L.lI)(be);return(0,ce.N)((Ae,Fe)=>{(ae?(0,c.x)(be,Ae,ae):(0,c.x)(be,Ae)).subscribe(Fe)})}},6745:(un,ft,O)=>{"use strict";O.d(ft,{_:()=>L});var c=O(9974);function L(ce,Z=0){return(0,c.N)((be,ae)=>{ae.add(ce.schedule(()=>be.subscribe(ae),Z))})}},5558:(un,ft,O)=>{"use strict";O.d(ft,{n:()=>Z});var c=O(8750),L=O(9974),ce=O(4360);function Z(be,ae){return(0,L.N)((Ae,Fe)=>{let Ge=null,ye=0,le=!1;const Oe=()=>le&&!Ge&&Fe.complete();Ae.subscribe((0,ce._)(Fe,Ve=>{Ge?.unsubscribe();let ke=0;const Qe=ye++;(0,c.Tg)(be(Ve,Qe)).subscribe(Ge=(0,ce._)(Fe,rt=>Fe.next(ae?ae(Ve,rt,Qe,ke++):rt),()=>{Ge=null,Oe()}))},()=>{le=!0,Oe()}))})}},6697:(un,ft,O)=>{"use strict";O.d(ft,{s:()=>Z});var c=O(983),L=O(9974),ce=O(4360);function Z(be){return be<=0?()=>c.w:(0,L.N)((ae,Ae)=>{let Fe=0;ae.subscribe((0,ce._)(Ae,Ge=>{++Fe<=be&&(Ae.next(Ge),be<=Fe&&Ae.complete())}))})}},8141:(un,ft,O)=>{"use strict";O.d(ft,{M:()=>be});var c=O(8071),L=O(9974),ce=O(4360),Z=O(3669);function be(ae,Ae,Fe){const Ge=(0,c.T)(ae)||Ae||Fe?{next:ae,error:Ae,complete:Fe}:ae;return Ge?(0,L.N)((ye,le)=>{var Oe;null===(Oe=Ge.subscribe)||void 0===Oe||Oe.call(Ge);let Ve=!0;ye.subscribe((0,ce._)(le,ke=>{var Qe;null===(Qe=Ge.next)||void 0===Qe||Qe.call(Ge,ke),le.next(ke)},()=>{var ke;Ve=!1,null===(ke=Ge.complete)||void 0===ke||ke.call(Ge),le.complete()},ke=>{var Qe;Ve=!1,null===(Qe=Ge.error)||void 0===Qe||Qe.call(Ge,ke),le.error(ke)},()=>{var ke,Qe;Ve&&(null===(ke=Ge.unsubscribe)||void 0===ke||ke.call(Ge)),null===(Qe=Ge.finalize)||void 0===Qe||Qe.call(Ge)}))}):Z.D}},3774:(un,ft,O)=>{"use strict";O.d(ft,{v:()=>Z});var c=O(9350),L=O(9974),ce=O(4360);function Z(ae=be){return(0,L.N)((Ae,Fe)=>{let Ge=!1;Ae.subscribe((0,ce._)(Fe,ye=>{Ge=!0,Fe.next(ye)},()=>Ge?Fe.complete():Fe.error(ae())))})}function be(){return new c.G}},6780:(un,ft,O)=>{"use strict";O.d(ft,{R:()=>be});var c=O(8359);class L extends c.yU{constructor(Ae,Fe){super()}schedule(Ae,Fe=0){return this}}const ce={setInterval(ae,Ae,...Fe){const{delegate:Ge}=ce;return Ge?.setInterval?Ge.setInterval(ae,Ae,...Fe):setInterval(ae,Ae,...Fe)},clearInterval(ae){const{delegate:Ae}=ce;return(Ae?.clearInterval||clearInterval)(ae)},delegate:void 0};var Z=O(7908);class be extends L{constructor(Ae,Fe){super(Ae,Fe),this.scheduler=Ae,this.work=Fe,this.pending=!1}schedule(Ae,Fe=0){var Ge;if(this.closed)return this;this.state=Ae;const ye=this.id,le=this.scheduler;return null!=ye&&(this.id=this.recycleAsyncId(le,ye,Fe)),this.pending=!0,this.delay=Fe,this.id=null!==(Ge=this.id)&&void 0!==Ge?Ge:this.requestAsyncId(le,this.id,Fe),this}requestAsyncId(Ae,Fe,Ge=0){return ce.setInterval(Ae.flush.bind(Ae,this),Ge)}recycleAsyncId(Ae,Fe,Ge=0){if(null!=Ge&&this.delay===Ge&&!1===this.pending)return Fe;null!=Fe&&ce.clearInterval(Fe)}execute(Ae,Fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ge=this._execute(Ae,Fe);if(Ge)return Ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,Fe){let ye,Ge=!1;try{this.work(Ae)}catch(le){Ge=!0,ye=le||new Error("Scheduled action threw falsy error")}if(Ge)return this.unsubscribe(),ye}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:Fe}=this,{actions:Ge}=Fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Z.o)(Ge,this),null!=Ae&&(this.id=this.recycleAsyncId(Fe,Ae,null)),this.delay=null,super.unsubscribe()}}}},9687:(un,ft,O)=>{"use strict";O.d(ft,{q:()=>ce});var c=O(6129);class L{constructor(be,ae=L.now){this.schedulerActionCtor=be,this.now=ae}schedule(be,ae=0,Ae){return new this.schedulerActionCtor(this,be).schedule(Ae,ae)}}L.now=c.U.now;class ce extends L{constructor(be,ae=L.now){super(be,ae),this.actions=[],this._active=!1}flush(be){const{actions:ae}=this;if(this._active)return void ae.push(be);let Ae;this._active=!0;do{if(Ae=be.execute(be.state,be.delay))break}while(be=ae.shift());if(this._active=!1,Ae){for(;be=ae.shift();)be.unsubscribe();throw Ae}}}},3236:(un,ft,O)=>{"use strict";O.d(ft,{E:()=>ce});var c=O(6780);const ce=new(O(9687).q)(c.R)},6129:(un,ft,O)=>{"use strict";O.d(ft,{U:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},9270:(un,ft,O)=>{"use strict";O.d(ft,{f:()=>c});const c={setTimeout(L,ce,...Z){const{delegate:be}=c;return be?.setTimeout?be.setTimeout(L,ce,...Z):setTimeout(L,ce,...Z)},clearTimeout(L){const{delegate:ce}=c;return(ce?.clearTimeout||clearTimeout)(L)},delegate:void 0}},4761:(un,ft,O)=>{"use strict";O.d(ft,{l:()=>L});const L=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(un,ft,O)=>{"use strict";O.d(ft,{s:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9350:(un,ft,O)=>{"use strict";O.d(ft,{G:()=>L});const L=(0,O(1853).L)(ce=>function(){ce(this),this.name="EmptyError",this.message="no elements in sequence"})},3794:(un,ft,O)=>{"use strict";O.d(ft,{R0:()=>ae,ms:()=>Z,lI:()=>be});var c=O(8071);function ce(Ae){return Ae[Ae.length-1]}function Z(Ae){return(0,c.T)(ce(Ae))?Ae.pop():void 0}function be(Ae){return function L(Ae){return Ae&&(0,c.T)(Ae.schedule)}(ce(Ae))?Ae.pop():void 0}function ae(Ae,Fe){return"number"==typeof ce(Ae)?Ae.pop():Fe}},3073:(un,ft,O)=>{"use strict";O.d(ft,{D:()=>be});const{isArray:c}=Array,{getPrototypeOf:L,prototype:ce,keys:Z}=Object;function be(Ae){if(1===Ae.length){const Fe=Ae[0];if(c(Fe))return{args:Fe,keys:null};if(function ae(Ae){return Ae&&"object"==typeof Ae&&L(Ae)===ce}(Fe)){const Ge=Z(Fe);return{args:Ge.map(ye=>Fe[ye]),keys:Ge}}}return{args:Ae,keys:null}}},7908:(un,ft,O)=>{"use strict";function c(L,ce){if(L){const Z=L.indexOf(ce);0<=Z&&L.splice(Z,1)}}O.d(ft,{o:()=>c})},1853:(un,ft,O)=>{"use strict";function c(L){const Z=L(be=>{Error.call(be),be.stack=(new Error).stack});return Z.prototype=Object.create(Error.prototype),Z.prototype.constructor=Z,Z}O.d(ft,{L:()=>c})},8496:(un,ft,O)=>{"use strict";function c(L,ce){return L.reduce((Z,be,ae)=>(Z[be]=ce[ae],Z),{})}O.d(ft,{e:()=>c})},9786:(un,ft,O)=>{"use strict";O.d(ft,{Y:()=>ce,l:()=>Z});var c=O(1026);let L=null;function ce(be){if(c.$.useDeprecatedSynchronousErrorHandling){const ae=!L;if(ae&&(L={errorThrown:!1,error:null}),be(),ae){const{errorThrown:Ae,error:Fe}=L;if(L=null,Ae)throw Fe}}else be()}function Z(be){c.$.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=be)}},5225:(un,ft,O)=>{"use strict";function c(L,ce,Z,be=0,ae=!1){const Ae=ce.schedule(function(){Z(),ae?L.add(this.schedule(null,be)):this.unsubscribe()},be);if(L.add(Ae),!ae)return Ae}O.d(ft,{N:()=>c})},3669:(un,ft,O)=>{"use strict";function c(L){return L}O.d(ft,{D:()=>c})},7441:(un,ft,O)=>{"use strict";O.d(ft,{X:()=>c});const c=L=>L&&"number"==typeof L.length&&"function"!=typeof L},7953:(un,ft,O)=>{"use strict";O.d(ft,{T:()=>L});var c=O(8071);function L(ce){return Symbol.asyncIterator&&(0,c.T)(ce?.[Symbol.asyncIterator])}},8071:(un,ft,O)=>{"use strict";function c(L){return"function"==typeof L}O.d(ft,{T:()=>c})},5055:(un,ft,O)=>{"use strict";O.d(ft,{l:()=>ce});var c=O(3494),L=O(8071);function ce(Z){return(0,L.T)(Z[c.s])}},5397:(un,ft,O)=>{"use strict";O.d(ft,{x:()=>ce});var c=O(4761),L=O(8071);function ce(Z){return(0,L.T)(Z?.[c.l])}},9858:(un,ft,O)=>{"use strict";O.d(ft,{y:()=>L});var c=O(8071);function L(ce){return(0,c.T)(ce?.then)}},5196:(un,ft,O)=>{"use strict";O.d(ft,{C:()=>ce,U:()=>Z});var c=O(1635),L=O(8071);function ce(be){return(0,c.AQ)(this,arguments,function*(){const Ae=be.getReader();try{for(;;){const{value:Fe,done:Ge}=yield(0,c.N3)(Ae.read());if(Ge)return yield(0,c.N3)(void 0);yield yield(0,c.N3)(Fe)}}finally{Ae.releaseLock()}})}function Z(be){return(0,L.T)(be?.getReader)}},9974:(un,ft,O)=>{"use strict";O.d(ft,{N:()=>ce,S:()=>L});var c=O(8071);function L(Z){return(0,c.T)(Z?.lift)}function ce(Z){return be=>{if(L(be))return be.lift(function(ae){try{return Z(ae,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},6450:(un,ft,O)=>{"use strict";O.d(ft,{I:()=>Z});var c=O(6354);const{isArray:L}=Array;function Z(be){return(0,c.T)(ae=>function ce(be,ae){return L(ae)?be(...ae):be(ae)}(be,ae))}},5343:(un,ft,O)=>{"use strict";function c(){}O.d(ft,{l:()=>c})},1203:(un,ft,O)=>{"use strict";O.d(ft,{F:()=>L,m:()=>ce});var c=O(3669);function L(...Z){return ce(Z)}function ce(Z){return 0===Z.length?c.D:1===Z.length?Z[0]:function(ae){return Z.reduce((Ae,Fe)=>Fe(Ae),ae)}}},5334:(un,ft,O)=>{"use strict";O.d(ft,{m:()=>ce});var c=O(1026),L=O(9270);function ce(Z){L.f.setTimeout(()=>{const{onUnhandledError:be}=c.$;if(!be)throw Z;be(Z)})}},591:(un,ft,O)=>{"use strict";function c(L){return new TypeError(`You provided ${null!==L&&"object"==typeof L?"an invalid object":`'${L}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(ft,{L:()=>c})},8996:(un,ft,O)=>{var c={"./ion-accordion_2.entry.js":[2375,2076,2375],"./ion-action-sheet.entry.js":[8814,2076,8814],"./ion-alert.entry.js":[5222,2076,5222],"./ion-app_8.entry.js":[7720,2076,7720],"./ion-avatar_3.entry.js":[1049,1049],"./ion-back-button.entry.js":[3162,2076,3162],"./ion-backdrop.entry.js":[7240,7240],"./ion-breadcrumb_2.entry.js":[8314,2076,8314],"./ion-button_2.entry.js":[4591,4591],"./ion-card_5.entry.js":[8584,8584],"./ion-checkbox.entry.js":[3511,3511],"./ion-chip.entry.js":[6024,6024],"./ion-col_3.entry.js":[5100,5100],"./ion-datetime-button.entry.js":[7428,1293,7428],"./ion-datetime_3.entry.js":[2885,1293,2076,2885],"./ion-fab_3.entry.js":[4463,2076,4463],"./ion-img.entry.js":[4183,4183],"./ion-infinite-scroll_2.entry.js":[4171,2076,4171],"./ion-input-password-toggle.entry.js":[6521,2076,6521],"./ion-input.entry.js":[9344,2076,9344],"./ion-item-option_3.entry.js":[5949,2076,5949],"./ion-item_8.entry.js":[3506,2076,3506],"./ion-loading.entry.js":[7372,2076,7372],"./ion-menu_3.entry.js":[2075,2076,2075],"./ion-modal.entry.js":[441,2076,441],"./ion-nav_2.entry.js":[5712,2076,5712],"./ion-picker-column-option.entry.js":[9013,9013],"./ion-picker-column.entry.js":[1459,2076,1459],"./ion-picker.entry.js":[6840,6840],"./ion-popover.entry.js":[6433,2076,6433],"./ion-progress-bar.entry.js":[9977,9977],"./ion-radio_2.entry.js":[8066,2076,8066],"./ion-range.entry.js":[8477,2076,8477],"./ion-refresher_2.entry.js":[5197,2076,5197],"./ion-reorder_2.entry.js":[7030,2076,7030],"./ion-ripple-effect.entry.js":[964,964],"./ion-route_4.entry.js":[8970,8970],"./ion-searchbar.entry.js":[8193,2076,8193],"./ion-segment_2.entry.js":[2560,2076,2560],"./ion-select_3.entry.js":[7076,2076,7076],"./ion-spinner.entry.js":[8805,2076,8805],"./ion-split-pane.entry.js":[5887,5887],"./ion-tab-bar_2.entry.js":[4406,2076,4406],"./ion-tab_2.entry.js":[1102,1102],"./ion-text.entry.js":[1577,1577],"./ion-textarea.entry.js":[2348,2076,2348],"./ion-toast.entry.js":[2415,2076,2415],"./ion-toggle.entry.js":[3814,2076,3814]};function L(ce){if(!O.o(c,ce))return Promise.resolve().then(()=>{var ae=new Error("Cannot find module '"+ce+"'");throw ae.code="MODULE_NOT_FOUND",ae});var Z=c[ce],be=Z[0];return Promise.all(Z.slice(1).map(O.e)).then(()=>O(be))}L.keys=()=>Object.keys(c),L.id=8996,un.exports=L},177:(un,ft,O)=>{"use strict";O.d(ft,{AJ:()=>Lt,MD:()=>ct,N0:()=>xr,QT:()=>ce,Sm:()=>rt,Sq:()=>Oi,T3:()=>as,VF:()=>be,Vy:()=>Wt,Xr:()=>_n,ZD:()=>Z,_b:()=>de,aZ:()=>He,bT:()=>ii,fw:()=>Ze,hb:()=>ke,hj:()=>Ge,qQ:()=>Ae});var c=O(3953);let L=null;function ce(){return L}function Z(w){L??=w}class be{}const Ae=new c.nKC("");let Fe=(()=>{class w{historyGo(N){throw new Error("")}static{this.\u0275fac=function(K){return new(K||w)}}static{this.\u0275prov=c.jDH({token:w,factory:()=>(0,c.WQX)(ye),providedIn:"platform"})}}return w})();const Ge=new c.nKC("");let ye=(()=>{class w extends Fe{constructor(){super(),this._doc=(0,c.WQX)(Ae),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ce().getBaseHref(this._doc)}onPopState(N){const K=ce().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",N,!1),()=>K.removeEventListener("popstate",N)}onHashChange(N){const K=ce().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",N,!1),()=>K.removeEventListener("hashchange",N)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(N){this._location.pathname=N}pushState(N,K,De){this._history.pushState(N,K,De)}replaceState(N,K,De){this._history.replaceState(N,K,De)}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}static{this.\u0275fac=function(K){return new(K||w)}}static{this.\u0275prov=c.jDH({token:w,factory:()=>new w,providedIn:"platform"})}}return w})();function le(w,Y){if(0==w.length)return Y;if(0==Y.length)return w;let N=0;return w.endsWith("/")&&N++,Y.startsWith("/")&&N++,2==N?w+Y.substring(1):1==N?w+Y:w+"/"+Y}function Oe(w){const Y=w.match(/#|\?|$/),N=Y&&Y.index||w.length;return w.slice(0,N-("/"===w[N-1]?1:0))+w.slice(N)}function Ve(w){return w&&"?"!==w[0]?"?"+w:w}let ke=(()=>{class w{historyGo(N){throw new Error("")}static{this.\u0275fac=function(K){return new(K||w)}}static{this.\u0275prov=c.jDH({token:w,factory:()=>(0,c.WQX)(rt),providedIn:"root"})}}return w})();const Qe=new c.nKC("");let rt=(()=>{class w extends ke{constructor(N,K){super(),this._platformLocation=N,this._removeListenerFns=[],this._baseHref=K??this._platformLocation.getBaseHrefFromDOM()??(0,c.WQX)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return le(this._baseHref,N)}path(N=!1){const K=this._platformLocation.pathname+Ve(this._platformLocation.search),De=this._platformLocation.hash;return De&&N?`${K}${De}`:K}pushState(N,K,De,Rt){const Xt=this.prepareExternalUrl(De+Ve(Rt));this._platformLocation.pushState(N,K,Xt)}replaceState(N,K,De,Rt){const Xt=this.prepareExternalUrl(De+Ve(Rt));this._platformLocation.replaceState(N,K,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static{this.\u0275fac=function(K){return new(K||w)(c.KVO(Fe),c.KVO(Qe,8))}}static{this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac,providedIn:"root"})}}return w})(),Ze=(()=>{class w extends ke{constructor(N,K){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){const K=this._platformLocation.hash??"#";return K.length>0?K.substring(1):K}prepareExternalUrl(N){const K=le(this._baseHref,N);return K.length>0?"#"+K:K}pushState(N,K,De,Rt){let Xt=this.prepareExternalUrl(De+Ve(Rt));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.pushState(N,K,Xt)}replaceState(N,K,De,Rt){let Xt=this.prepareExternalUrl(De+Ve(Rt));0==Xt.length&&(Xt=this._platformLocation.pathname),this._platformLocation.replaceState(N,K,Xt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}static{this.\u0275fac=function(K){return new(K||w)(c.KVO(Fe),c.KVO(Qe,8))}}static{this.\u0275prov=c.jDH({token:w,factory:w.\u0275fac})}}return w})(),He=(()=>{class w{constructor(N){this._subject=new c.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const K=this._locationStrategy.getBaseHref();this._basePath=function ge(w){if(new RegExp("^(https?:)?//").test(w)){const[,N]=w.split(/\/\/[^\/]+/);return N}return w}(Oe(Je(K))),this._locationStrategy.onPopState(De=>{this._subject.emit({url:this.path(!0),pop:!0,state:De.state,type:De.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,K=""){return this.path()==this.normalize(N+Ve(K))}normalize(N){return w.stripTrailingSlash(function pe(w,Y){if(!w||!Y.startsWith(w))return Y;const N=Y.substring(w.length);return""===N||["/",";","?","#"].includes(N[0])?N:Y}(this._basePath,Je(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,K="",De=null){this._locationStrategy.pushState(De,"",N,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ve(K)),De)}replaceState(N,K="",De=null){this._locationStrategy.replaceState(De,"",N,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+Ve(K)),De)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription??=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)}),()=>{const K=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(K,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",K){this._urlChangeListeners.forEach(De=>De(N,K))}subscribe(N,K,De){return this._subject.subscribe({next:N,error:K,complete:De})}static{this.normalizeQueryParams=Ve}static{this.joinWithSlash=le}static{this.stripTrailingSlash=Oe}static{this.\u0275fac=function(K){return new(K||w)(c.KVO(ke))}}static{this.\u0275prov=c.jDH({token:w,factory:()=>function st(){return new He((0,c.KVO)(ke))}(),providedIn:"root"})}}return w})();function Je(w){return w.replace(/\/index.html$/,"")}function de(w,Y){Y=encodeURIComponent(Y);for(const N of w.split(";")){const K=N.indexOf("="),[De,Rt]=-1==K?[N,""]:[N.slice(0,K),N.slice(K+1)];if(De.trim()===Y)return decodeURIComponent(Rt)}return null}class Kn{constructor(Y,N,K,De){this.$implicit=Y,this.ngForOf=N,this.index=K,this.count=De}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Oi=(()=>{class w{set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}constructor(N,K,De){this._viewContainer=N,this._template=K,this._differs=De,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const K=this._viewContainer;N.forEachOperation((De,Rt,Xt)=>{if(null==De.previousIndex)K.createEmbeddedView(this._template,new Kn(De.item,this._ngForOf,-1,-1),null===Xt?void 0:Xt);else if(null==Xt)K.remove(null===Rt?void 0:Rt);else if(null!==Rt){const Sn=K.get(Rt);K.move(Sn,Xt),Xr(Sn,De)}});for(let De=0,Rt=K.length;De<Rt;De++){const Sn=K.get(De).context;Sn.index=De,Sn.count=Rt,Sn.ngForOf=this._ngForOf}N.forEachIdentityChange(De=>{Xr(K.get(De.currentIndex),De)})}static ngTemplateContextGuard(N,K){return!0}static{this.\u0275fac=function(K){return new(K||w)(c.rXU(c.c1b),c.rXU(c.C4Q),c.rXU(c._q3))}}static{this.\u0275dir=c.FsC({type:w,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return w})();function Xr(w,Y){w.context.$implicit=Y.item}let ii=(()=>{class w{constructor(N,K){this._viewContainer=N,this._context=new Bo,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){ai("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){ai("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,K){return!0}static{this.\u0275fac=function(K){return new(K||w)(c.rXU(c.c1b),c.rXU(c.C4Q))}}static{this.\u0275dir=c.FsC({type:w,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return w})();class Bo{constructor(){this.$implicit=null,this.ngIf=null}}function ai(w,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${w} must be a TemplateRef, but received '${(0,c.Tbb)(Y)}'.`)}let as=(()=>{class w{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(this._shouldRecreateView(N)){const K=this._viewContainerRef;if(this._viewRef&&K.remove(K.indexOf(this._viewRef)),!this.ngTemplateOutlet)return void(this._viewRef=null);const De=this._createContextForwardProxy();this._viewRef=K.createEmbeddedView(this.ngTemplateOutlet,De,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(N){return!!N.ngTemplateOutlet||!!N.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(N,K,De)=>!!this.ngTemplateOutletContext&&Reflect.set(this.ngTemplateOutletContext,K,De),get:(N,K,De)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,K,De)}})}static{this.\u0275fac=function(K){return new(K||w)(c.rXU(c.c1b))}}static{this.\u0275dir=c.FsC({type:w,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[c.OA$]})}}return w})(),ct=(()=>{class w{static{this.\u0275fac=function(K){return new(K||w)}}static{this.\u0275mod=c.$C({type:w})}static{this.\u0275inj=c.G2t({})}}return w})();const Lt="browser",Kt="server";function Wt(w){return w===Kt}let _n=(()=>{class w{static{this.\u0275prov=(0,c.jDH)({token:w,providedIn:"root",factory:()=>function Bt(w){return w===Lt}((0,c.WQX)(c.Agw))?new Pn((0,c.WQX)(Ae),window):new Ar})}}return w})();class Pn{constructor(Y,N){this.document=Y,this.window=N,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(Y){this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){const N=function Fn(w,Y){const N=w.getElementById(Y)||w.getElementsByName(Y)[0];if(N)return N;if("function"==typeof w.createTreeWalker&&w.body&&"function"==typeof w.body.attachShadow){const K=w.createTreeWalker(w.body,NodeFilter.SHOW_ELEMENT);let De=K.currentNode;for(;De;){const Rt=De.shadowRoot;if(Rt){const Xt=Rt.getElementById(Y)||Rt.querySelector(`[name="${Y}"]`);if(Xt)return Xt}De=K.nextNode()}}return null}(this.document,Y);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(Y){this.window.history.scrollRestoration=Y}scrollToElement(Y){const N=Y.getBoundingClientRect(),K=N.left+this.window.pageXOffset,De=N.top+this.window.pageYOffset,Rt=this.offset();this.window.scrollTo(K-Rt[0],De-Rt[1])}}class Ar{setOffset(Y){}getScrollPosition(){return[0,0]}scrollToPosition(Y){}scrollToAnchor(Y){}setHistoryScrollRestoration(Y){}}class xr{}},3953:(un,ft,O)=>{"use strict";function c(e,n){return Object.is(e,n)}O.d(ft,{iLQ:()=>SE,sZ2:()=>ru,hnV:()=>ES,Hbi:()=>B1,o8S:()=>Iu,BIS:()=>iu,gRc:()=>FS,Ql9:()=>l1,Ocv:()=>m1,Z63:()=>ys,aKT:()=>_i,uvJ:()=>es,zcH:()=>Bc,bkB:()=>uc,$GK:()=>Ir,nKC:()=>rr,zZn:()=>ns,_q3:()=>IT,MKu:()=>TT,xe9:()=>pT,Co$:()=>Dw,Vns:()=>Xf,SKi:()=>Hi,Xx1:()=>ho,Agw:()=>ff,PLl:()=>hf,sFG:()=>YR,_9s:()=>n0,czy:()=>Or,kdw:()=>Jo,C4Q:()=>Hf,NYb:()=>n1,giA:()=>yS,xvI:()=>Mx,RxE:()=>uS,c1b:()=>tE,gXe:()=>Na,mal:()=>lE,L39:()=>vk,EWP:()=>_k,a0P:()=>Ak,Ol2:()=>_0,w6W:()=>jM,oH4:()=>NS,Rfq:()=>nr,WQX:()=>cn,naY:()=>w1,QuC:()=>mo,fpN:()=>U1,HJs:()=>bk,N4e:()=>Nh,vPA:()=>sw,O8t:()=>Ek,H3F:()=>dS,zAP:()=>aR,H8p:()=>ol,KH2:()=>tm,TgB:()=>_l,wOt:()=>rn,WHO:()=>mS,e01:()=>vS,H5H:()=>G0,mq5:()=>RA,JZv:()=>Ai,LfX:()=>Ao,plB:()=>Th,jNT:()=>uT,zjR:()=>_S,TL$:()=>Hp,Tbb:()=>Ur,Vt3:()=>m0,GFd:()=>Cw,OA$:()=>ql,Jv_:()=>Bb,aNF:()=>$b,R7$:()=>wv,BMQ:()=>N0,AVh:()=>V0,wni:()=>hb,VBU:()=>se,FsC:()=>or,jDH:()=>dr,G2t:()=>Qr,$C:()=>yt,EJ8:()=>gr,rXU:()=>du,nrm:()=>H0,eu8:()=>z0,bVm:()=>yE,qex:()=>vE,k0s:()=>mE,j41:()=>gE,RV6:()=>AA,xGo:()=>wy,KVO:()=>ar,kS0:()=>ef,QTQ:()=>__,bIt:()=>q0,lsd:()=>gb,XpG:()=>eb,SdG:()=>nb,NAR:()=>tb,Y8G:()=>F0,mGM:()=>pb,Njj:()=>$u,eBV:()=>yp,n$t:()=>l_,DNE:()=>I0,EFF:()=>wb,SpI:()=>CE,DH7:()=>Fb,mxI:()=>J0,R50:()=>Z0,GBs:()=>fb});let L=null,ce=!1,Z=1;const be=Symbol("SIGNAL");function ae(e){const n=L;return L=e,n}const ye={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function le(e){if(ce)throw new Error("");if(null===L)return;L.consumerOnSignalRead(e);const n=L.nextProducerIndex++;je(L),n<L.producerNode.length&&L.producerNode[n]!==e&&me(L)&&ge(L.producerNode[n],L.producerIndexOfThis[n]),L.producerNode[n]!==e&&(L.producerNode[n]=e,L.producerIndexOfThis[n]=me(L)?Je(e,L,n):0),L.producerLastReadVersion[n]=e.version}function Ve(e){if((!me(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Z)){if(!e.producerMustRecompute(e)&&!st(e))return e.dirty=!1,void(e.lastCleanEpoch=Z);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Z}}function ke(e){if(void 0===e.liveConsumerNode)return;const n=ce;ce=!0;try{for(const r of e.liveConsumerNode)r.dirty||rt(r)}finally{ce=n}}function Qe(){return!1!==L?.consumerAllowSignalWrites}function rt(e){e.dirty=!0,ke(e),e.consumerMarkedDirty?.(e)}function Ze(e){return e&&(e.nextProducerIndex=0),ae(e)}function He(e,n){if(ae(n),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(me(e))for(let r=e.nextProducerIndex;r<e.producerNode.length;r++)ge(e.producerNode[r],e.producerIndexOfThis[r]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function st(e){je(e);for(let n=0;n<e.producerNode.length;n++){const r=e.producerNode[n],o=e.producerLastReadVersion[n];if(o!==r.version||(Ve(r),o!==r.version))return!0}return!1}function pe(e){if(je(e),me(e))for(let n=0;n<e.producerNode.length;n++)ge(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Je(e,n,r){if(Ye(e),0===e.liveConsumerNode.length&&Ue(e))for(let o=0;o<e.producerNode.length;o++)e.producerIndexOfThis[o]=Je(e.producerNode[o],e,o);return e.liveConsumerIndexOfThis.push(r),e.liveConsumerNode.push(n)-1}function ge(e,n){if(Ye(e),1===e.liveConsumerNode.length&&Ue(e))for(let o=0;o<e.producerNode.length;o++)ge(e.producerNode[o],e.producerIndexOfThis[o]);const r=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[r],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[r],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){const o=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];je(a),a.producerIndexOfThis[o]=n}}function me(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function je(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Ye(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function Ue(e){return void 0!==e.producerNode}const Re=Symbol("UNSET"),Ft=Symbol("COMPUTING"),Vt=Symbol("ERRORED"),pn={...ye,value:Re,dirty:!0,error:null,equal:c,producerMustRecompute:e=>e.value===Re||e.value===Ft,producerRecomputeValue(e){if(e.value===Ft)throw new Error("Detected cycle in computations.");const n=e.value;e.value=Ft;const r=Ze(e);let o;try{o=e.computation()}catch(a){o=Vt,e.error=a}finally{He(e,r)}n!==Re&&n!==Vt&&o!==Vt&&e.equal(n,o)?e.value=n:(e.value=o,e.version++)}};let vn=function qt(){throw new Error};function pt(){vn()}let q=null;function gt(e,n){Qe()||pt(),e.equal(e.value,n)||(e.value=n,function en(e){e.version++,function Oe(){Z++}(),ke(e),q?.()}(e))}const qe={...ye,equal:c,value:void 0};var Dn=O(4412),Ht=O(1413),$t=O(8359),Bn=O(6354);typeof navigator<"u"&&navigator,typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||navigator),typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&navigator,typeof navigator<"u"&&navigator;const Nr="https://g.co/ng/security#xss";class rn extends Error{constructor(n,r){super(function Qi(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,r)),this.code=n}}function Zi(e){return{toString:e}.toString()}const Ji="__parameters__";function uo(e,n,r){return Zi(()=>{const o=function zo(e){return function(...r){if(e){const o=e(...r);for(const a in o)this[a]=o[a]}}}(n);function a(...d){if(this instanceof a)return o.apply(this,d),this;const g=new a(...d);return _.annotation=g,_;function _(D,x,G){const he=D.hasOwnProperty(Ji)?D[Ji]:Object.defineProperty(D,Ji,{value:[]})[Ji];for(;he.length<=G;)he.push(null);return(he[G]=he[G]||[]).push(g),D}}return r&&(a.prototype=Object.create(r.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a})}const Ai=globalThis;function br(e){for(let n in e)if(e[n]===br)return n;throw Error("Could not find renamed property on target object.")}function za(e,n){for(const r in n)n.hasOwnProperty(r)&&!e.hasOwnProperty(r)&&(e[r]=n[r])}function Ur(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Ur).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const r=n.indexOf("\n");return-1===r?n:n.substring(0,r)}function ds(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const Er=br({__forward_ref__:br});function nr(e){return e.__forward_ref__=nr,e.toString=function(){return Ur(this())},e}function jn(e){return ba(e)?e():e}function ba(e){return"function"==typeof e&&e.hasOwnProperty(Er)&&e.__forward_ref__===nr}function dr(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Qr(e){return{providers:e.providers||[],imports:e.imports||[]}}function hs(e){return Ks(e,xi)||Ks(e,qa)}function Ao(e){return null!==hs(e)}function Ks(e,n){return e.hasOwnProperty(n)?e[n]:null}function bo(e){return e&&(e.hasOwnProperty(Ra)||e.hasOwnProperty(aa))?e[Ra]:null}const xi=br({\u0275prov:br}),Ra=br({\u0275inj:br}),qa=br({ngInjectableDef:br}),aa=br({ngInjectorDef:br});class rr{constructor(n,r){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof r?this.__NG_ELEMENT_ID__=r:void 0!==r&&(this.\u0275prov=dr({token:this,providedIn:r.providedIn||"root",factory:r.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Qc(e){return e&&!!e.\u0275providers}const Wo=br({\u0275cmp:br}),Yc=br({\u0275dir:br}),So=br({\u0275pipe:br}),Qa=br({\u0275mod:br}),Ro=br({\u0275fac:br}),Ma=br({__NG_ELEMENT_ID__:br}),Zc=br({__NG_ENV_ID__:br});function mn(e){return"string"==typeof e?e:null==e?"":String(e)}function el(e,n){throw new rn(-201,!1)}var Ir=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Ir||{});let qs;function Xs(){return qs}function ki(e){const n=qs;return qs=e,n}function la(e,n,r){const o=hs(e);return o&&"root"==o.providedIn?void 0===o.value?o.value=o.factory():o.value:r&Ir.Optional?null:void 0!==n?n:void el()}const gs={},Cc="__NG_DI_FLAG__",w="ngTempTokenPath",N=/\n/gm,De="__source";let Rt;function Sn(e){const n=Rt;return Rt=e,n}function li(e,n=Ir.Default){if(void 0===Rt)throw new rn(-203,!1);return null===Rt?la(e,void 0,n):Rt.get(e,n&Ir.Optional?null:void 0,n)}function ar(e,n=Ir.Default){return(Xs()||li)(jn(e),n)}function cn(e,n=Ir.Default){return ar(e,Wr(n))}function Wr(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sr(e){const n=[];for(let r=0;r<e.length;r++){const o=jn(e[r]);if(Array.isArray(o)){if(0===o.length)throw new rn(900,!1);let a,d=Ir.Default;for(let g=0;g<o.length;g++){const _=o[g],D=Qs(_);"number"==typeof D?-1===D?a=_.token:d|=D:a=_}n.push(ar(a,d))}else n.push(ar(o))}return n}function bi(e,n){return e[Cc]=n,e.prototype[Cc]=n,e}function Qs(e){return e[Cc]}const ho=bi(uo("Optional"),8),Jo=bi(uo("SkipSelf"),4);function Ya(e,n){return e.hasOwnProperty(Ro)?e[Ro]:null}function Ns(e,n){e.forEach(r=>Array.isArray(r)?Ns(r,n):n(r))}function Rl(e,n,r){n>=e.length?e.push(r):e.splice(n,0,r)}function ua(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Mo(e,n,r){let o=Os(e,n);return o>=0?e[1|o]=r:(o=~o,function Sh(e,n,r,o){let a=e.length;if(a==n)e.push(r,o);else if(1===a)e.push(o,e[0]),e[0]=r;else{for(a--,e.push(e[a-1],e[a]);a>n;)e[a]=e[a-2],a--;e[n]=r,e[n+1]=o}}(e,o,n,r)),o}function Po(e,n){const r=Os(e,n);if(r>=0)return e[1|r]}function Os(e,n){return function Ja(e,n,r){let o=0,a=e.length>>r;for(;a!==o;){const d=o+(a-o>>1),g=e[d<<r];if(n===g)return d<<r;g>n?a=d:o=d+1}return~(a<<r)}(e,n,1)}const xs={},Zn=[],ys=new rr(""),nl=new rr("",-1),wu=new rr("");class rl{get(n,r=gs){if(r===gs){const o=new Error(`NullInjectorError: No provider for ${Ur(n)}!`);throw o.name="NullInjectorError",o}return r}}var Au=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Au||{}),Na=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Na||{}),da=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(da||{});function gd(e,n,r){let o=e.length;for(;;){const a=e.indexOf(n,r);if(-1===a)return a;if(0===a||e.charCodeAt(a-1)<=32){const d=n.length;if(a+d===o||e.charCodeAt(a+d)<=32)return a}r=a+1}}function _s(e,n,r){let o=0;for(;o<r.length;){const a=r[o];if("number"==typeof a){if(0!==a)break;o++;const d=r[o++],g=r[o++],_=r[o++];e.setAttribute(n,g,_,d)}else{const d=a,g=r[++o];wc(d)?e.setProperty(n,d,g):e.setAttribute(n,d,g),o++}}return o}function Pl(e){return 3===e||4===e||6===e}function wc(e){return 64===e.charCodeAt(0)}function oi(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let r=-1;for(let o=0;o<n.length;o++){const a=n[o];"number"==typeof a?r=a:0===r||Nl(e,r,a,null,-1===r||2===r?n[++o]:null)}}return e}function Nl(e,n,r,o,a){let d=0,g=e.length;if(-1===n)g=-1;else for(;d<e.length;){const _=e[d++];if("number"==typeof _){if(_===n){g=-1;break}if(_>n){g=d-1;break}}}for(;d<e.length;){const _=e[d];if("number"==typeof _)break;if(_===r){if(null===o)return void(null!==a&&(e[d+1]=a));if(o===e[d+1])return void(e[d+2]=a)}d++,null!==o&&d++,null!==a&&d++}-1!==g&&(e.splice(g,0,n),d=g+1),e.splice(d++,0,r),null!==o&&e.splice(d++,0,o),null!==a&&e.splice(d++,0,a)}const Ac="ng-template";function bu(e,n,r,o){let a=0;if(o){for(;a<n.length&&"string"==typeof n[a];a+=2)if("class"===n[a]&&-1!==gd(n[a+1].toLowerCase(),r,0))return!0}else if(ha(e))return!1;if(a=n.indexOf(1,a),a>-1){let d;for(;++a<n.length&&"string"==typeof(d=n[a]);)if(d.toLowerCase()===r)return!0}return!1}function ha(e){return 4===e.type&&e.value!==Ac}function ks(e,n,r){return n===(4!==e.type||r?e.value:Ac)}function Ol(e,n,r){let o=4;const a=e.attrs,d=null!==a?function bc(e){for(let n=0;n<e.length;n++)if(Pl(e[n]))return n;return e.length}(a):0;let g=!1;for(let _=0;_<n.length;_++){const D=n[_];if("number"!=typeof D){if(!g)if(4&o){if(o=2|1&o,""!==D&&!ks(e,D,r)||""===D&&1===n.length){if(Es(o))return!1;g=!0}}else if(8&o){if(null===a||!bu(e,a,D,r)){if(Es(o))return!1;g=!0}}else{const x=n[++_],G=md(D,a,ha(e),r);if(-1===G){if(Es(o))return!1;g=!0;continue}if(""!==x){let he;if(he=G>d?"":a[G+1].toLowerCase(),2&o&&x!==he){if(Es(o))return!1;g=!0}}}}else{if(!g&&!Es(o)&&!Es(D))return!1;if(g&&Es(D))continue;g=!1,o=D|1&o}}return Es(o)||g}function Es(e){return!(1&e)}function md(e,n,r,o){if(null===n)return-1;let a=0;if(o||!r){let d=!1;for(;a<n.length;){const g=n[a];if(g===e)return a;if(3===g||6===g)d=!0;else{if(1===g||2===g){let _=n[++a];for(;"string"==typeof _;)_=n[++a];continue}if(4===g)break;if(0===g){a+=4;continue}}a+=d?1:2}return-1}return function np(e,n){let r=e.indexOf(4);if(r>-1)for(r++;r<e.length;){const o=e[r];if("number"==typeof o)return-1;if(o===n)return r;r++}return-1}(n,e)}function vd(e,n,r=!1){for(let o=0;o<n.length;o++)if(Ol(e,n[o],r))return!0;return!1}function I(e,n){e:for(let r=0;r<n.length;r++){const o=n[r];if(e.length===o.length){for(let a=0;a<e.length;a++)if(e[a]!==o[a])continue e;return!0}}return!1}function A(e,n){return e?":not("+n.trim()+")":n}function T(e){let n=e[0],r=1,o=2,a="",d=!1;for(;r<e.length;){let g=e[r];if("string"==typeof g)if(2&o){const _=e[++r];a+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&o?a+="."+g:4&o&&(a+=" "+g);else""!==a&&!Es(g)&&(n+=A(d,a),a=""),o=g,d=d||!Es(o);r++}return""!==a&&(n+=A(d,a)),n}function se(e){return Zi(()=>{const n=fa(e),r={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Au.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Na.Emulated,styles:e.styles||Zn,_:null,schemas:e.schemas||null,tView:null,id:""};Ys(r);const o=e.dependencies;return r.directiveDefs=Zs(o,!1),r.pipeDefs=Zs(o,!0),r.id=function yd(e){let n=0;const r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const a of r)n=Math.imul(31,n)+a.charCodeAt(0)|0;return n+=2147483648,"c"+n}(r),r})}function Ne(e){return Hn(e)||kr(e)}function Ot(e){return null!==e}function yt(e){return Zi(()=>({type:e.type,bootstrap:e.bootstrap||Zn,declarations:e.declarations||Zn,imports:e.imports||Zn,exports:e.exports||Zn,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function In(e,n){if(null==e)return xs;const r={};for(const o in e)if(e.hasOwnProperty(o)){const a=e[o];let d,g,_=da.None;Array.isArray(a)?(_=a[0],d=a[1],g=a[2]??d):(d=a,g=a),n?(r[d]=_!==da.None?[o,_]:o,n[d]=g):r[d]=o}return r}function or(e){return Zi(()=>{const n=fa(e);return Ys(n),n})}function gr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function Hn(e){return e[Wo]||null}function kr(e){return e[Yc]||null}function Fr(e){return e[So]||null}function mo(e){const n=Hn(e)||kr(e)||Fr(e);return null!==n&&n.standalone}function fi(e,n){const r=e[Qa]||null;if(!r&&!0===n)throw new Error(`Type ${Ur(e)} does not have '\u0275mod' property.`);return r}function fa(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||xs,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||Zn,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:In(e.inputs,n),outputs:In(e.outputs),debugInfo:null}}function Ys(e){e.features?.forEach(n=>n(e))}function Zs(e,n){if(!e)return null;const r=n?Fr:Ne;return()=>("function"==typeof e?e():e).map(o=>r(o)).filter(Ot)}function ec(...e){return{\u0275providers:Js(0,e),\u0275fromNgModule:!0}}function Js(e,...n){const r=[],o=new Set;let a;const d=g=>{r.push(g)};return Ns(n,g=>{const _=g;Sc(_,d,[],o)&&(a||=[],a.push(_))}),void 0!==a&&Oa(a,d),r}function Oa(e,n){for(let r=0;r<e.length;r++){const{ngModule:o,providers:a}=e[r];tc(a,d=>{n(d,o)})}}function Sc(e,n,r,o){if(!(e=jn(e)))return!1;let a=null,d=bo(e);const g=!d&&Hn(e);if(d||g){if(g&&!g.standalone)return!1;a=e}else{const D=e.ngModule;if(d=bo(D),!d)return!1;a=D}const _=o.has(a);if(g){if(_)return!1;if(o.add(a),g.dependencies){const D="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const x of D)Sc(x,n,r,o)}}else{if(!d)return!1;{if(null!=d.imports&&!_){let x;o.add(a);try{Ns(d.imports,G=>{Sc(G,n,r,o)&&(x||=[],x.push(G))})}finally{}void 0!==x&&Oa(x,n)}if(!_){const x=Ya(a)||(()=>new a);n({provide:a,useFactory:x,deps:Zn},a),n({provide:wu,useValue:a,multi:!0},a),n({provide:ys,useValue:()=>ar(a),multi:!0},a)}const D=d.providers;if(null!=D&&!_){const x=e;tc(D,G=>{n(G,x)})}}}return a!==e&&void 0!==e.providers}function tc(e,n){for(let r of e)Qc(r)&&(r=r.\u0275providers),Array.isArray(r)?tc(r,n):n(r)}const nc=br({provide:String,useValue:br});function xl(e){return null!==e&&"object"==typeof e&&nc in e}function Rc(e){return"function"==typeof e}const ol=new rr(""),Mc={},sm={};let pa;function Ed(){return void 0===pa&&(pa=new rl),pa}class es{}class kl extends es{get destroyed(){return this._destroyed}constructor(n,r,o,a){super(),this.parent=r,this.source=o,this.scopes=a,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mu(n,g=>this.processProvider(g)),this.records.set(nl,Fs(void 0,this)),a.has("environment")&&this.records.set(es,Fs(void 0,this));const d=this.records.get(ol);null!=d&&"string"==typeof d.value&&this.scopes.add(d.value),this.injectorDefTypes=new Set(this.get(wu,Zn,Ir.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const n=ae(null);try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const r=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of r)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ae(n)}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const r=Sn(this),o=ki(void 0);try{return n()}finally{Sn(r),ki(o)}}get(n,r=gs,o=Ir.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(Zc))return n[Zc](this);o=Wr(o);const d=Sn(this),g=ki(void 0);try{if(!(o&Ir.SkipSelf)){let D=this.records.get(n);if(void 0===D){const x=function Td(e){return"function"==typeof e||"object"==typeof e&&e instanceof rr}(n)&&hs(n);D=x&&this.injectableDefInScope(x)?Fs(Su(n),Mc):null,this.records.set(n,D)}if(null!=D)return this.hydrate(n,D)}return(o&Ir.Self?Ed():this.parent).get(n,r=o&Ir.Optional&&r===gs?null:r)}catch(_){if("NullInjectorError"===_.name){if((_[w]=_[w]||[]).unshift(Ur(n)),d)throw _;return function vi(e,n,r,o){const a=e[w];throw n[De]&&a.unshift(n[De]),e.message=function eo(e,n,r,o=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let a=Ur(n);if(Array.isArray(n))a=n.map(Ur).join(" -> ");else if("object"==typeof n){let d=[];for(let g in n)if(n.hasOwnProperty(g)){let _=n[g];d.push(g+":"+("string"==typeof _?JSON.stringify(_):Ur(_)))}a=`{${d.join(", ")}}`}return`${r}${o?"("+o+")":""}[${a}]: ${e.replace(N,"\n  ")}`}("\n"+e.message,a,r,o),e.ngTokenPath=a,e[w]=null,e}(_,n,"R3InjectorError",this.source)}throw _}finally{ki(g),Sn(d)}}resolveInjectorInitializers(){const n=ae(null),r=Sn(this),o=ki(void 0);try{const d=this.get(ys,Zn,Ir.Self);for(const g of d)g()}finally{Sn(r),ki(o),ae(n)}}toString(){const n=[],r=this.records;for(const o of r.keys())n.push(Ur(o));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new rn(205,!1)}processProvider(n){let r=Rc(n=jn(n))?n:jn(n&&n.provide);const o=function Ru(e){return xl(e)?Fs(void 0,e.useValue):Fs(ea(e),Mc)}(n);if(!Rc(n)&&!0===n.multi){let a=this.records.get(r);a||(a=Fs(void 0,Mc,!0),a.factory=()=>Sr(a.multi),this.records.set(r,a)),r=n,a.multi.push(n)}this.records.set(r,o)}hydrate(n,r){const o=ae(null);try{return r.value===Mc&&(r.value=sm,r.value=r.factory()),"object"==typeof r.value&&r.value&&function Id(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(r.value)&&this._ngOnDestroyHooks.add(r.value),r.value}finally{ae(o)}}injectableDefInScope(n){if(!n.providedIn)return!1;const r=jn(n.providedIn);return"string"==typeof r?"any"===r||this.scopes.has(r):this.injectorDefTypes.has(r)}removeOnDestroy(n){const r=this._onDestroyHooks.indexOf(n);-1!==r&&this._onDestroyHooks.splice(r,1)}}function Su(e){const n=hs(e),r=null!==n?n.factory:Ya(e);if(null!==r)return r;if(e instanceof rr)throw new rn(204,!1);if(e instanceof Function)return function Ph(e){if(e.length>0)throw new rn(204,!1);const r=function Sa(e){return e&&(e[xi]||e[qa])||null}(e);return null!==r?()=>r.factory(e):()=>new e}(e);throw new rn(204,!1)}function ea(e,n,r){let o;if(Rc(e)){const a=jn(e);return Ya(a)||Su(a)}if(xl(e))o=()=>jn(e.useValue);else if(function rp(e){return!(!e||!e.useFactory)}(e))o=()=>e.useFactory(...Sr(e.deps||[]));else if(function Mh(e){return!(!e||!e.useExisting)}(e))o=()=>ar(jn(e.useExisting));else{const a=jn(e&&(e.useClass||e.provide));if(!function ip(e){return!!e.deps}(e))return Ya(a)||Su(a);o=()=>new a(...Sr(e.deps))}return o}function Fs(e,n,r=!1){return{factory:e,value:n,multi:r?[]:void 0}}function Mu(e,n){for(const r of e)Array.isArray(r)?Mu(r,n):r&&Qc(r)?Mu(r.\u0275providers,n):n(r)}function Nh(e,n){e instanceof kl&&e.assertNotDestroyed();const o=Sn(e),a=ki(void 0);try{return n()}finally{Sn(o),ki(a)}}function Fl(){return void 0!==Xs()||null!=function Xt(){return Rt}()}const yi=0,fn=1,Wn=2,Ki=3,fo=4,qi=5,No=6,Is=7,Si=8,Pi=9,ga=10,Xn=11,Vl=12,cp=13,Oc=14,Li=15,ma=16,Ul=17,ta=18,sl=19,lp=20,ic=21,Cd=22,Ls=23,Un=25,oc=1,va=7,al=9,no=10;var xu=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(xu||{});function po(e){return Array.isArray(e)&&"object"==typeof e[oc]}function vo(e){return Array.isArray(e)&&!0===e[oc]}function so(e){return!!(4&e.flags)}function cl(e){return e.componentOffset>-1}function wd(e){return!(1&~e.flags)}function Vs(e){return!!e.template}function ll(e){return!!(512&e[Wn])}class Wl{constructor(n,r,o){this.previousValue=n,this.currentValue=r,this.firstChange=o}isFirstChange(){return this.firstChange}}function Kl(e,n,r,o){null!==n?n.applyValueToInputSignal(n,o):e[r]=o}function ql(){return Lu}function Lu(e){return e.type.prototype.ngOnChanges&&(e.setInput=pp),fp}function fp(){const e=Rd(this),n=e?.current;if(n){const r=e.previous;if(r===xs)e.previous=n;else for(let o in n)r[o]=n[o];e.current=null,this.ngOnChanges(n)}}function pp(e,n,r,o,a){const d=this.declaredInputs[o],g=Rd(e)||function pm(e,n){return e[Sd]=n}(e,{previous:xs,current:null}),_=g.current||(g.current={}),D=g.previous,x=D[d];_[d]=new Wl(x&&x.currentValue,r,D===xs),Kl(e,n,a,r)}ql.ngInherit=!0;const Sd="__ngSimpleChanges__";function Rd(e){return e[Sd]||null}const ya=function(e,n,r){};function Lr(e){for(;Array.isArray(e);)e=e[yi];return e}function sc(e,n){return Lr(n[e])}function Oo(e,n){return Lr(n[e.index])}function xc(e,n){return e.data[n]}function Ts(e,n){const r=n[e];return po(r)?r:r[yi]}function kc(e){return!(128&~e[Wn])}function na(e,n){return null==n?null:e[n]}function xo(e){e[Ul]=0}function Bh(e){1024&e[Wn]||(e[Wn]|=1024,kc(e)&&Xl(e))}function hl(e){return!!(9216&e[Wn]||e[Ls]?.dirty)}function fl(e){e[ga].changeDetectionScheduler?.notify(8),64&e[Wn]&&(e[Wn]|=1024),hl(e)&&Xl(e)}function Xl(e){e[ga].changeDetectionScheduler?.notify(0);let n=ka(e);for(;null!==n&&!(8192&n[Wn])&&(n[Wn]|=8192,kc(n));)n=ka(n)}function cc(e,n){if(!(256&~e[Wn]))throw new rn(911,!1);null===e[ic]&&(e[ic]=[]),e[ic].push(n)}function ka(e){const n=e[Ki];return vo(n)?n[Ki]:n}const fr={lFrame:Gt(null),bindingsEnabled:!0,skipHydrationRootTNode:null};let Ql=!1;function pl(){return fr.bindingsEnabled}function _a(){return null!==fr.skipHydrationRootTNode}function zt(){return fr.lFrame.lView}function Tr(){return fr.lFrame.tView}function yp(e){return fr.lFrame.contextLView=e,e[Si]}function $u(e){return fr.lFrame.contextLView=null,e}function ui(){let e=Ea();for(;null!==e&&64===e.type;)e=e.parent;return e}function Ea(){return fr.lFrame.currentTNode}function Us(e,n){const r=fr.lFrame;r.currentTNode=e,r.isParent=n}function Zl(){return fr.lFrame.isParent}function ju(){fr.lFrame.isParent=!1}function _p(){return Ql}function Ia(e){Ql=e}function Ta(){return fr.lFrame.bindingIndex++}function vm(e,n){const r=fr.lFrame;r.bindingIndex=r.bindingRootIndex=e,y(n)}function y(e){fr.lFrame.currentDirectiveIndex=e}function p(){return fr.lFrame.currentQueryIndex}function E(e){fr.lFrame.currentQueryIndex=e}function F(e){const n=e[fn];return 2===n.type?n.declTNode:1===n.type?e[qi]:null}function ne(e,n,r){if(r&Ir.SkipSelf){let a=n,d=e;for(;!(a=a.parent,null!==a||r&Ir.Host||(a=F(d),null===a||(d=d[Oc],10&a.type))););if(null===a)return!1;n=a,e=d}const o=fr.lFrame=vt();return o.currentTNode=n,o.lView=e,!0}function ze(e){const n=vt(),r=e[fn];fr.lFrame=n,n.currentTNode=r.firstChild,n.lView=e,n.tView=r,n.contextLView=e,n.bindingIndex=r.bindingStartIndex,n.inI18n=!1}function vt(){const e=fr.lFrame,n=null===e?null:e.child;return null===n?Gt(e):n}function Gt(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Tn(){const e=fr.lFrame;return fr.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const On=Tn;function Vn(){const e=Tn();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function pi(){return fr.lFrame.selectedIndex}function ra(e){fr.lFrame.selectedIndex=e}function di(){const e=fr.lFrame;return xc(e.tView,e.selectedIndex)}let Wu=!0;function Lc(){return Wu}function $s(e){Wu=e}function ml(e,n){for(let r=n.directiveStart,o=n.directiveEnd;r<o;r++){const d=e.data[r].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:D,ngAfterViewChecked:x,ngOnDestroy:G}=d;g&&(e.contentHooks??=[]).push(-r,g),_&&((e.contentHooks??=[]).push(r,_),(e.contentCheckHooks??=[]).push(r,_)),D&&(e.viewHooks??=[]).push(-r,D),x&&((e.viewHooks??=[]).push(r,x),(e.viewCheckHooks??=[]).push(r,x)),null!=G&&(e.destroyHooks??=[]).push(r,G)}}function Vd(e,n,r){_m(e,n,3,r)}function Kh(e,n,r,o){(3&e[Wn])===r&&_m(e,n,r,o)}function Ip(e,n){let r=e[Wn];(3&r)===n&&(r&=16383,r+=1,e[Wn]=r)}function _m(e,n,r,o){const d=o??-1,g=n.length-1;let _=0;for(let D=void 0!==o?65535&e[Ul]:0;D<g;D++)if("number"==typeof n[D+1]){if(_=n[D],null!=o&&_>=o)break}else n[D]<0&&(e[Ul]+=65536),(_<d||-1==d)&&($E(e,r,n,D),e[Ul]=(4294901760&e[Ul])+D+2),D++}function Em(e,n){ya(4,e,n);const r=ae(null);try{n.call(e)}finally{ae(r),ya(5,e,n)}}function $E(e,n,r,o){const a=r[o]<0,d=r[o+1],_=e[a?-r[o]:r[o]];a?e[Wn]>>14<e[Ul]>>16&&(3&e[Wn])===n&&(e[Wn]+=16384,Em(_,d)):Em(_,d)}const Ud=-1;class qh{constructor(n,r,o){this.factory=n,this.resolving=!1,this.canSeeViewProviders=r,this.injectImpl=o}}const Cm={};class vl{constructor(n,r){this.injector=n,this.parentInjector=r}get(n,r,o){o=Wr(o);const a=this.injector.get(n,Cm,o);return a!==Cm||r===Cm?a:this.parentInjector.get(n,r,o)}}function Dm(e){return e!==Ud}function Ku(e){return 32767&e}function qu(e,n){let r=function HE(e){return e>>16}(e),o=n;for(;r>0;)o=o[Oc],r--;return o}let Qh=!0;function Yh(e){const n=Qh;return Qh=e,n}const Tp=255,Iy=5;let wm=0;const Vc={};function Cp(e,n){const r=Dp(e,n);if(-1!==r)return r;const o=n[fn];o.firstCreatePass&&(e.injectorIndex=n.length,Zh(o.data,e),Zh(n,null),Zh(o.blueprint,null));const a=Bd(e,n),d=e.injectorIndex;if(Dm(a)){const g=Ku(a),_=qu(a,n),D=_[fn].data;for(let x=0;x<8;x++)n[d+x]=_[g+x]|D[g+x]}return n[d+8]=a,d}function Zh(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Dp(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function Bd(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let r=0,o=null,a=n;for(;null!==a;){if(o=Rp(a),null===o)return Ud;if(r++,a=a[Oc],-1!==o.injectorIndex)return o.injectorIndex|r<<16}return Ud}function Jl(e,n,r){!function Am(e,n,r){let o;"string"==typeof r?o=r.charCodeAt(0)||0:r.hasOwnProperty(Ma)&&(o=r[Ma]),null==o&&(o=r[Ma]=wm++);const a=o&Tp;n.data[e+(a>>Iy)]|=1<<a}(e,n,r)}function wp(e,n,r){if(r&Ir.Optional||void 0!==e)return e;el()}function Cy(e,n,r,o){if(r&Ir.Optional&&void 0===o&&(o=null),!(r&(Ir.Self|Ir.Host))){const a=e[Pi],d=ki(void 0);try{return a?a.get(n,o,r&Ir.Optional):la(n,o,r&Ir.Optional)}finally{ki(d)}}return wp(o,0,r)}function Ap(e,n,r,o=Ir.Default,a){if(null!==e){if(2048&n[Wn]&&!(o&Ir.Self)){const g=function Ay(e,n,r,o,a){let d=e,g=n;for(;null!==d&&null!==g&&2048&g[Wn]&&!(512&g[Wn]);){const _=Uc(d,g,r,o|Ir.Self,Vc);if(_!==Vc)return _;let D=d.parent;if(!D){const x=g[lp];if(x){const G=x.get(r,Vc,o);if(G!==Vc)return G}D=Rp(g),g=g[Oc]}d=D}return a}(e,n,r,o,Vc);if(g!==Vc)return g}const d=Uc(e,n,r,o,Vc);if(d!==Vc)return d}return Cy(n,r,o,a)}function Uc(e,n,r,o,a){const d=function zE(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Ma)?e[Ma]:void 0;return"number"==typeof n?n>=0?n&Tp:Sm:n}(r);if("function"==typeof d){if(!ne(n,e,o))return o&Ir.Host?wp(a,0,o):Cy(n,r,o,a);try{let g;if(g=d(o),null!=g||o&Ir.Optional)return g;el()}finally{On()}}else if("number"==typeof d){let g=null,_=Dp(e,n),D=Ud,x=o&Ir.Host?n[Li][qi]:null;for((-1===_||o&Ir.SkipSelf)&&(D=-1===_?Bd(e,n):n[_+8],D!==Ud&&Sp(o,!1)?(g=n[fn],_=Ku(D),n=qu(D,n)):_=-1);-1!==_;){const G=n[fn];if(Dy(d,_,G.data)){const he=bm(_,n,r,g,o,x);if(he!==Vc)return he}D=n[_+8],D!==Ud&&Sp(o,n[fn].data[_+8]===x)&&Dy(d,_,n)?(g=G,_=Ku(D),n=qu(D,n)):_=-1}}return a}function bm(e,n,r,o,a,d){const g=n[fn],_=g.data[e+8],G=bp(_,g,r,null==o?cl(_)&&Qh:o!=g&&!!(3&_.type),a&Ir.Host&&d===_);return null!==G?yl(n,g,G,_):Vc}function bp(e,n,r,o,a){const d=e.providerIndexes,g=n.data,_=1048575&d,D=e.directiveStart,G=d>>20,$e=a?_+G:e.directiveEnd;for(let et=o?_:_+G;et<$e;et++){const It=g[et];if(et<D&&r===It||et>=D&&It.type===r)return et}if(a){const et=g[D];if(et&&Vs(et)&&et.type===r)return D}return null}function yl(e,n,r,o){let a=e[r];const d=n.data;if(function jE(e){return e instanceof qh}(a)){const g=a;g.resolving&&function Tc(e,n){throw n&&n.join(" > "),new rn(-200,e)}(function Gr(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():mn(e)}(d[r]));const _=Yh(g.canSeeViewProviders);g.resolving=!0;const x=g.injectImpl?ki(g.injectImpl):null;ne(e,o,Ir.Default);try{a=e[r]=g.factory(void 0,d,e,o),n.firstCreatePass&&r>=o.directiveStart&&function ym(e,n,r){const{ngOnChanges:o,ngOnInit:a,ngDoCheck:d}=n.type.prototype;if(o){const g=Lu(n);(r.preOrderHooks??=[]).push(e,g),(r.preOrderCheckHooks??=[]).push(e,g)}a&&(r.preOrderHooks??=[]).push(0-e,a),d&&((r.preOrderHooks??=[]).push(e,d),(r.preOrderCheckHooks??=[]).push(e,d))}(r,d[r],n)}finally{null!==x&&ki(x),Yh(_),g.resolving=!1,On()}}return a}function Dy(e,n,r){return!!(r[n+(e>>Iy)]&1<<e)}function Sp(e,n){return!(e&Ir.Self||e&Ir.Host&&n)}class ko{constructor(n,r){this._tNode=n,this._lView=r}get(n,r,o){return Ap(this._tNode,this._lView,n,Wr(o),r)}}function Sm(){return new ko(ui(),zt())}function wy(e){return Zi(()=>{const n=e.prototype.constructor,r=n[Ro]||Jh(n),o=Object.prototype;let a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==o;){const d=a[Ro]||Jh(a);if(d&&d!==r)return d;a=Object.getPrototypeOf(a)}return d=>new d})}function Jh(e){return ba(e)?()=>{const n=Jh(jn(e));return n&&n()}:Ya(e)}function Rp(e){const n=e[fn],r=n.type;return 2===r?n.declTNode:1===r?e[qi]:null}function ef(e){return function Ty(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const r=e.attrs;if(r){const o=r.length;let a=0;for(;a<o;){const d=r[a];if(Pl(d))break;if(0===d)a+=2;else if("number"==typeof d)for(a++;a<o&&"string"==typeof r[a];)a++;else{if(d===n)return r[a+1];a+=2}}}return null}(ui(),e)}function nf(e,n=null,r=null,o){const a=Ry(e,n,r,o);return a.resolveInjectorInitializers(),a}function Ry(e,n=null,r=null,o,a=new Set){const d=[r||Zn,ec(e)];return o=o||("object"==typeof e?void 0:Ur(e)),new kl(d,n||Ed(),o||null,a)}class ns{static{this.THROW_IF_NOT_FOUND=gs}static{this.NULL=new rl}static create(n,r){if(Array.isArray(n))return nf({name:""},r,n,"");{const o=n.name??"";return nf({name:o},n.parent,n.providers,o)}}static{this.\u0275prov=dr({token:ns,providedIn:"any",factory:()=>ar(nl)})}static{this.__NG_ELEMENT_ID__=-1}}new rr("").__NG_ELEMENT_ID__=e=>{const n=ui();if(null===n)throw new rn(204,!1);if(2&n.type)return n.value;if(e&Ir.Optional)return null;throw new rn(204,!1)};function rf(e){return e.ngOriginalError}const Pm=!0;let Qu=(()=>{class e{static{this.__NG_ELEMENT_ID__=kp}static{this.__NG_ENV_ID__=r=>r}}return e})();class Nm extends Qu{constructor(n){super(),this._lView=n}onDestroy(n){return cc(this._lView,n),()=>function jh(e,n){if(null===e[ic])return;const r=e[ic].indexOf(n);-1!==r&&e[ic].splice(r,1)}(this._lView,n)}}function kp(){return new Nm(zt())}let _l=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Dn.t(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=dr({token:e,providedIn:"root",factory:()=>new e})}}return e})();const uc=class Hd extends Ht.B{constructor(n=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=n,Fl()&&(this.destroyRef=cn(Qu,{optional:!0})??void 0,this.pendingTasks=cn(_l,{optional:!0})??void 0)}emit(n){const r=ae(null);try{super.next(n)}finally{ae(r)}}subscribe(n,r,o){let a=n,d=r||(()=>null),g=o;if(n&&"object"==typeof n){const D=n;a=D.next?.bind(D),d=D.error?.bind(D),g=D.complete?.bind(D)}this.__isAsync&&(d=this.wrapInTimeout(d),a&&(a=this.wrapInTimeout(a)),g&&(g=this.wrapInTimeout(g)));const _=super.subscribe({next:a,error:d,complete:g});return n instanceof $t.yU&&n.add(_),_}wrapInTimeout(n){return r=>{const o=this.pendingTasks?.add();setTimeout(()=>{n(r),void 0!==o&&this.pendingTasks?.remove(o)})}}};function zd(...e){}function Om(e){let n,r;function o(){e=zd;try{void 0!==r&&"function"==typeof cancelAnimationFrame&&cancelAnimationFrame(r),void 0!==n&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),o()}),"function"==typeof requestAnimationFrame&&(r=requestAnimationFrame(()=>{e(),o()})),()=>o()}function Yu(e){return queueMicrotask(()=>e()),()=>{e=zd}}const xm="isAngularZone",Fp=xm+"_ID";let YE=0;class Hi{constructor(n){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new uc(!1),this.onMicrotaskEmpty=new uc(!1),this.onStable=new uc(!1),this.onError=new uc(!1);const{enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:d=Pm}=n;if(typeof Zone>"u")throw new rn(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!a&&o,g.shouldCoalesceRunChangeDetection=a,g.callbackScheduled=!1,g.scheduleInRootZone=d,function eI(e){const n=()=>{!function JE(e){function n(){Om(()=>{e.callbackScheduled=!1,km(e),e.isCheckStableRunning=!0,Lp(e),e.isCheckStableRunning=!1})}e.isCheckStableRunning||e.callbackScheduled||(e.callbackScheduled=!0,e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),km(e))}(e)},r=YE++;e._inner=e._inner.fork({name:"angular",properties:{[xm]:!0,[Fp]:r,[Fp+r]:!0},onInvokeTask:(o,a,d,g,_,D)=>{if(function tI(e){return Lm(e,"__ignore_ng_zone__")}(D))return o.invokeTask(d,g,_,D);try{return Ny(e),o.invokeTask(d,g,_,D)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||e.shouldCoalesceRunChangeDetection)&&n(),Oy(e)}},onInvoke:(o,a,d,g,_,D,x)=>{try{return Ny(e),o.invoke(d,g,_,D,x)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!function xy(e){return Lm(e,"__scheduler_tick__")}(D)&&n(),Oy(e)}},onHasTask:(o,a,d,g)=>{o.hasTask(d,g),a===d&&("microTask"==g.change?(e._hasPendingMicrotasks=g.microTask,km(e),Lp(e)):"macroTask"==g.change&&(e.hasPendingMacrotasks=g.macroTask))},onHandleError:(o,a,d,g)=>(o.handleError(d,g),e.runOutsideAngular(()=>e.onError.emit(g)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get(xm)}static assertInAngularZone(){if(!Hi.isInAngularZone())throw new rn(909,!1)}static assertNotInAngularZone(){if(Hi.isInAngularZone())throw new rn(909,!1)}run(n,r,o){return this._inner.run(n,r,o)}runTask(n,r,o,a){const d=this._inner,g=d.scheduleEventTask("NgZoneEvent: "+a,n,ZE,zd,zd);try{return d.runTask(g,r,o)}finally{d.cancelTask(g)}}runGuarded(n,r,o){return this._inner.runGuarded(n,r,o)}runOutsideAngular(n){return this._outer.run(n)}}const ZE={};function Lp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function km(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&!0===e.callbackScheduled)}function Ny(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Oy(e){e._nesting--,Lp(e)}class Fm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new uc,this.onMicrotaskEmpty=new uc,this.onStable=new uc,this.onError=new uc}run(n,r,o){return n.apply(r,o)}runGuarded(n,r,o){return n.apply(r,o)}runOutsideAngular(n){return n()}runTask(n,r,o,a){return n.apply(r,o)}}function Lm(e,n){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0]?.data?.[n]}class Bc{constructor(){this._console=console}handleError(n){const r=this._findOriginalError(n);this._console.error("ERROR",n),r&&this._console.error("ORIGINAL ERROR",r)}_findOriginalError(n){let r=n&&rf(n);for(;r&&rf(r);)r=rf(r);return r||null}}const ky=new rr("",{providedIn:"root",factory:()=>{const e=cn(Hi),n=cn(Bc);return r=>e.runOutsideAngular(()=>n.handleError(r))}});function Fy(){return co(ui(),zt())}function co(e,n){return new _i(Oo(e,n))}let _i=(()=>{class e{constructor(r){this.nativeElement=r}static{this.__NG_ELEMENT_ID__=Fy}}return e})();function dc(e){return e instanceof _i?e.nativeElement:e}function Ly(){return this._results[Symbol.iterator]()}class $m{get changes(){return this._changes??=new uc}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const r=$m.prototype;r[Symbol.iterator]||(r[Symbol.iterator]=Ly)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,r){return this._results.reduce(n,r)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,r){this.dirty=!1;const o=function cr(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function to(e,n,r){if(e.length!==n.length)return!1;for(let o=0;o<e.length;o++){let a=e[o],d=n[o];if(r&&(a=r(a),d=r(d)),d!==a)return!1}return!0}(this._results,o,r))&&(this._results=o,this.length=o.length,this.last=o[this.length-1],this.first=o[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(n){this._onDirty=n}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Zu(e){return!(128&~e.flags)}const gi=new Map;let sD=0;function Hm(e){gi.delete(e[sl])}const Up="__ngContext__";function Cs(e,n){po(n)?(e[Up]=n[sl],function Xi(e){gi.set(e[sl],e)}(n)):e[Up]=n}function Wm(e){return Hy(e[Vl])}function lf(e){return Hy(e[fo])}function Hy(e){for(;null!==e&&!vo(e);)e=e[fo];return e}let qd;function Hp(e){qd=e}const ru=new rr("",{providedIn:"root",factory:()=>uI}),uI="ng",hf=new rr(""),ff=new rr("",{providedIn:"platform",factory:()=>"unknown"}),iu=new rr("",{providedIn:"root",factory:()=>function Il(){if(void 0!==qd)return qd;if(typeof document<"u")return document;throw new rn(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let vf=()=>null;function Xy(e,n,r=!1){return vf(e,n,r)}const nd=new rr("",{providedIn:"root",factory:()=>!1});let cv;function mI(e){return function lv(){if(void 0===cv&&(cv=null,Ai.trustedTypes))try{cv=Ai.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return cv}()?.createScriptURL(e)||e}class i_{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Nr})`}}function cu(e){return e instanceof i_?e.changingThisBreaksApplicationSecurity:e}function Ef(e,n){const r=function EI(e){return e instanceof i_&&e.getTypeName()||null}(e);if(null!=r&&r!==n){if("ResourceURL"===r&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${r} (see ${Nr})`)}return r===n}const _D=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var _o=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(_o||{});function od(e){const n=th();return n?n.sanitize(_o.URL,e)||"":Ef(e,"URL")?cu(e):function eg(e){return(e=String(e)).match(_D)?e:"unsafe:"+e}(mn(e))}function lu(e){const n=th();if(n)return mI(n.sanitize(_o.RESOURCE_URL,e)||"");if(Ef(e,"ResourceURL"))return mI(cu(e));throw new rn(904,!1)}function l_(e,n,r){return function MI(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?lu:od}(n,r)(e)}function th(){const e=zt();return e&&e[ga].sanitizer}const PI=/^>|^->|<!--|-->|--!>|<!-$/g,gv=/(<|>)/g,u_="\u200b$1\u200b";function ve(e){return e instanceof Function?e():e}var Or=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Or||{});let Dr;function mt(e,n){return Dr(e,n)}function ot(e,n,r,o,a){if(null!=o){let d,g=!1;vo(o)?d=o:po(o)&&(g=!0,o=o[yi]);const _=Lr(o);0===e&&null!==r?null==a?g_(n,r,_):ad(n,r,_,a||null,!0):1===e&&null!==r?ad(n,r,_,a||null,!0):2===e?function ih(e,n,r){e.removeChild(null,n,r)}(n,_,g):3===e&&n.destroyNode(_),null!=d&&function Hs(e,n,r,o,a){const d=r[va];d!==Lr(r)&&ot(n,e,o,d,a);for(let _=no;_<r.length;_++){const D=r[_];oh(D[fn],D,e,n,o,d)}}(n,e,d,r,a)}}function Pt(e,n){return e.createComment(function Df(e){return e.replace(PI,n=>n.replace(gv,u_))}(n))}function it(e,n,r){return e.createElement(n,r)}function p_(e,n){n[ga].changeDetectionScheduler?.notify(9),oh(e,n,n[Xn],2,null,null)}function ag(e,n){const r=e[al],o=n[Ki];(po(o)||n[Li]!==o[Ki][Li])&&(e[Wn]|=xu.HasTransplantedViews),null===r?e[al]=[n]:r.push(n)}function cg(e,n){const r=e[al],o=r.indexOf(n);r.splice(o,1)}function Sf(e,n){if(e.length<=no)return;const r=no+n,o=e[r];if(o){const a=o[ma];null!==a&&a!==e&&cg(a,o),n>0&&(e[r-1][fo]=o[fo]);const d=ua(e,no+n);!function Cl(e,n){p_(e,n),n[yi]=null,n[qi]=null}(o[fn],o);const g=d[ta];null!==g&&g.detachView(d[fn]),o[Ki]=null,o[fo]=null,o[Wn]&=-129}return o}function pc(e,n){if(!(256&n[Wn])){const r=n[Xn];r.destroyNode&&oh(e,n,r,3,null,null),function Af(e){let n=e[Vl];if(!n)return qo(e[fn],e);for(;n;){let r=null;if(po(n))r=n[Vl];else{const o=n[no];o&&(r=o)}if(!r){for(;n&&!n[fo]&&n!==e;)po(n)&&qo(n[fn],n),n=n[Ki];null===n&&(n=e),po(n)&&qo(n[fn],n),r=n&&n[fo]}n=r}}(n)}}function qo(e,n){if(256&n[Wn])return;const r=ae(null);try{n[Wn]&=-129,n[Wn]|=256,n[Ls]&&pe(n[Ls]),function Rf(e,n){let r;if(null!=e&&null!=(r=e.destroyHooks))for(let o=0;o<r.length;o+=2){const a=n[r[o]];if(!(a instanceof qh)){const d=r[o+1];if(Array.isArray(d))for(let g=0;g<d.length;g+=2){const _=a[d[g]],D=d[g+1];ya(4,_,D);try{D.call(_)}finally{ya(5,_,D)}}else{ya(4,a,d);try{d.call(a)}finally{ya(5,a,d)}}}}}(e,n),function VI(e,n){const r=e.cleanup,o=n[Is];if(null!==r)for(let d=0;d<r.length-1;d+=2)if("string"==typeof r[d]){const g=r[d+3];g>=0?o[g]():o[-g].unsubscribe(),d+=2}else r[d].call(o[r[d+1]]);null!==o&&(n[Is]=null);const a=n[ic];if(null!==a){n[ic]=null;for(let d=0;d<a.length;d++)(0,a[d])()}}(e,n),1===n[fn].type&&n[Xn].destroy();const o=n[ma];if(null!==o&&vo(n[Ki])){o!==n[Ki]&&cg(o,n);const a=n[ta];null!==a&&a.detachView(e)}Hm(n)}finally{ae(r)}}function _v(e,n,r){return function nh(e,n,r){let o=n;for(;null!==o&&168&o.type;)o=(n=o).parent;if(null===o)return r[yi];{const{componentOffset:a}=o;if(a>-1){const{encapsulation:d}=e.data[o.directiveStart+a];if(d===Na.None||d===Na.Emulated)return null}return Oo(o,r)}}(e,n.parent,r)}function ad(e,n,r,o,a){e.insertBefore(n,r,o,a)}function g_(e,n,r){e.appendChild(n,r)}function Mf(e,n,r,o,a){null!==o?ad(e,n,r,o,a):g_(e,n,r)}function rh(e,n){return e.parentNode(n)}function lg(e,n,r){return dg(e,n,r)}let hg,dg=function ug(e,n,r){return 40&e.type?Oo(e,r):null};function fg(e,n,r,o){const a=_v(e,o,n),d=n[Xn],_=lg(o.parent||n[qi],o,n);if(null!=a)if(Array.isArray(r))for(let D=0;D<r.length;D++)Mf(d,a,r[D],_,!1);else Mf(d,a,r,_,!1);void 0!==hg&&hg(d,o,n,r,a)}function uu(e,n){if(null!==n){const r=n.type;if(3&r)return Oo(n,e);if(4&r)return Pf(-1,e[n.index]);if(8&r){const o=n.child;if(null!==o)return uu(e,o);{const a=e[n.index];return vo(a)?Pf(-1,a):Lr(a)}}if(128&r)return uu(e,n.next);if(32&r)return mt(n,e)()||Lr(e[n.index]);{const o=Tv(e,n);return null!==o?Array.isArray(o)?o[0]:uu(ka(e[Li]),o):uu(e,n.next)}}return null}function Tv(e,n){return null!==n?e[Li][qi].projection[n.projection]:null}function Pf(e,n){const r=no+e+1;if(r<n.length){const o=n[r],a=o[fn].firstChild;if(null!==a)return uu(o,a)}return n[va]}function Nf(e,n,r,o,a,d,g){for(;null!=r;){if(128===r.type){r=r.next;continue}const _=o[r.index],D=r.type;if(g&&0===n&&(_&&Cs(Lr(_),o),r.flags|=2),32&~r.flags)if(8&D)Nf(e,n,r.child,o,a,d,!1),ot(n,e,a,_,d);else if(32&D){const x=mt(r,o);let G;for(;G=x();)ot(n,e,a,G,d);ot(n,e,a,_,d)}else 16&D?rs(e,n,o,r,a,d):ot(n,e,a,_,d);r=g?r.projectionNext:r.next}}function oh(e,n,r,o,a,d){Nf(r,o,e.firstChild,n,a,d,!1)}function rs(e,n,r,o,a,d){const g=r[Li],D=g[qi].projection[o.projection];if(Array.isArray(D))for(let x=0;x<D.length;x++)ot(n,e,a,D[x],d);else{let x=D;const G=g[Ki];Zu(o)&&(x.flags|=128),Nf(e,n,x,G,a,d,!0)}}function Dv(e,n,r){""===r?e.removeAttribute(n,"class"):e.setAttribute(n,"class",r)}function y_(e,n,r){const{mergedAttrs:o,classes:a,styles:d}=r;null!==o&&_s(e,n,o),null!==a&&Dv(e,n,a),null!==d&&function v_(e,n,r){e.setAttribute(n,"style",r)}(e,n,d)}const mr={};function wv(e=1){Av(Tr(),zt(),pi()+e,!1)}function Av(e,n,r,o){if(!o)if(3&~n[Wn]){const d=e.preOrderHooks;null!==d&&Kh(n,d,0,r)}else{const d=e.preOrderCheckHooks;null!==d&&Vd(n,d,r)}ra(r)}function du(e,n=Ir.Default){const r=zt();return null===r?ar(e,n):Ap(ui(),r,jn(e),n)}function __(){throw new Error("invalid")}function E_(e,n,r,o,a,d){const g=ae(null);try{let _=null;a&da.SignalBased&&(_=n[o][be]),null!==_&&void 0!==_.transformFn&&(d=_.transformFn(d)),a&da.HasDecoratorInputTransform&&(d=e.inputTransforms[o].call(n,d)),null!==e.setInput?e.setInput(n,_,d,r,o):Kl(n,_,o,d)}finally{ae(g)}}function Of(e,n,r,o,a,d,g,_,D,x,G){const he=n.blueprint.slice();return he[yi]=a,he[Wn]=204|o,(null!==x||e&&2048&e[Wn])&&(he[Wn]|=2048),xo(he),he[Ki]=he[Oc]=e,he[Si]=r,he[ga]=g||e&&e[ga],he[Xn]=_||e&&e[Xn],he[Pi]=D||e&&e[Pi]||null,he[qi]=d,he[sl]=function aD(){return sD++}(),he[No]=G,he[lp]=x,he[Li]=2==n.type?e[Li]:he,he}function hu(e,n,r,o,a){let d=e.data[n];if(null===d)d=function cd(e,n,r,o,a){const d=Ea(),g=Zl(),D=e.data[n]=function ch(e,n,r,o,a,d){let g=n?n.injectorIndex:-1,_=0;return _a()&&(_|=128),{type:r,index:o,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:a,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?d:d&&d.parent,r,n,o,a);return null===e.firstChild&&(e.firstChild=D),null!==d&&(g?null==d.child&&null!==D.parent&&(d.child=D):null===d.next&&(d.next=D,D.prev=d)),D}(e,n,r,o,a),function mm(){return fr.lFrame.inI18n}()&&(d.flags|=32);else if(64&d.type){d.type=r,d.value=o,d.attrs=a;const g=function Yl(){const e=fr.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();d.injectorIndex=null===g?-1:g.injectorIndex}return Us(d,!0),d}function ld(e,n,r,o){if(0===r)return-1;const a=n.length;for(let d=0;d<r;d++)n.push(o),e.blueprint.push(o),e.data.push(null);return a}function gg(e,n,r,o,a){const d=pi(),g=2&o;try{ra(-1),g&&n.length>Un&&Av(e,n,Un,!1),ya(g?2:0,a),r(o,a)}finally{ra(d),ya(g?3:1,a)}}function Dl(e,n,r){if(so(n)){const o=ae(null);try{const d=n.directiveEnd;for(let g=n.directiveStart;g<d;g++){const _=e.data[g];_.contentQueries&&_.contentQueries(1,r[g],g)}}finally{ae(o)}}}function mg(e,n,r){pl()&&(function b_(e,n,r,o){const a=r.directiveStart,d=r.directiveEnd;cl(r)&&function M_(e,n,r){const o=Oo(n,e),a=Sv(r);let g=16;r.signals?g=4096:r.onPush&&(g=64);const _=Cg(e,Of(e,a,null,g,o,n,null,e[ga].rendererFactory.createRenderer(o,r),null,null,null));e[n.index]=_}(n,r,e.data[a+r.componentOffset]),e.firstCreatePass||Cp(r,n),Cs(o,n);const g=r.initialInputs;for(let _=a;_<d;_++){const D=e.data[_],x=yl(n,e,_,r);Cs(x,n),null!==g&&Pv(0,_-a,x,D,0,g),Vs(D)&&(Ts(r.index,n)[Si]=yl(n,e,_,r))}}(e,n,r,Oo(r,n)),!(64&~r.flags)&&S_(e,n,r))}function sh(e,n,r=Oo){const o=n.localNames;if(null!==o){let a=n.index+1;for(let d=0;d<o.length;d+=2){const g=o[d+1],_=-1===g?r(n,e):e[g];e[a++]=_}}}function Sv(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=ud(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function ud(e,n,r,o,a,d,g,_,D,x,G){const he=Un+o,$e=he+a,et=function I_(e,n){const r=[];for(let o=0;o<n;o++)r.push(o<e?null:mr);return r}(he,$e),It="function"==typeof x?x():x;return et[fn]={type:e,blueprint:et,template:r,queries:null,viewQuery:_,declTNode:n,data:et.slice().fill(null,he),bindingStartIndex:he,expandoStartIndex:$e,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:D,consts:It,incompleteFirstPass:!1,ssrId:G}}let ah=()=>null;function C_(e,n,r,o,a){for(let d in n){if(!n.hasOwnProperty(d))continue;const g=n[d];if(void 0===g)continue;o??={};let _,D=da.None;Array.isArray(g)?(_=g[0],D=g[1]):_=g;let x=d;if(null!==a){if(!a.hasOwnProperty(d))continue;x=a[d]}0===e?D_(o,r,x,_,D):D_(o,r,x,_)}return o}function D_(e,n,r,o,a){let d;e.hasOwnProperty(r)?(d=e[r]).push(n,o):d=e[r]=[n,o],void 0!==a&&d.push(a)}function ws(e,n,r,o,a,d,g,_){const D=Oo(n,r);let G,x=n.inputs;!_&&null!=x&&(G=x[o])?(lh(e,r,G,o,a),cl(n)&&function yg(e,n){const r=Ts(n,e);16&r[Wn]||(r[Wn]|=64)}(r,n.index)):3&n.type&&(o=function w_(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(o),a=null!=g?g(a,n.value||"",o):a,d.setProperty(D,o,a))}function _g(e,n,r,o){if(pl()){const a=null===o?null:{"":-1},d=function R_(e,n){const r=e.directiveRegistry;let o=null,a=null;if(r)for(let d=0;d<r.length;d++){const g=r[d];if(vd(n,g.selectors,!1))if(o||(o=[]),Vs(g))if(null!==g.findHostDirectiveDefs){const _=[];a=a||new Map,g.findHostDirectiveDefs(g,_,a),o.unshift(..._,g),kf(e,n,_.length)}else o.unshift(g),kf(e,n,0);else a=a||new Map,g.findHostDirectiveDefs?.(g,o,a),o.push(g)}return null===o?null:[o,a]}(e,r);let g,_;null===d?g=_=null:[g,_]=d,null!==g&&Eg(e,n,r,g,a,_),a&&function Ff(e,n,r){if(n){const o=e.localNames=[];for(let a=0;a<n.length;a+=2){const d=r[n[a+1]];if(null==d)throw new rn(-301,!1);o.push(n[a],d)}}}(r,o,a)}r.mergedAttrs=oi(r.mergedAttrs,r.attrs)}function Eg(e,n,r,o,a,d){for(let x=0;x<o.length;x++)Jl(Cp(r,n),e,o[x].type);!function Mv(e,n,r){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+r,e.providerIndexes=n}(r,e.data.length,o.length);for(let x=0;x<o.length;x++){const G=o[x];G.providersResolver&&G.providersResolver(G)}let g=!1,_=!1,D=ld(e,n,o.length,null);for(let x=0;x<o.length;x++){const G=o[x];r.mergedAttrs=oi(r.mergedAttrs,G.hostAttrs),jI(e,r,n,D,G),dd(D,G,a),null!==G.contentQueries&&(r.flags|=4),(null!==G.hostBindings||null!==G.hostAttrs||0!==G.hostVars)&&(r.flags|=64);const he=G.type.prototype;!g&&(he.ngOnChanges||he.ngOnInit||he.ngDoCheck)&&((e.preOrderHooks??=[]).push(r.index),g=!0),!_&&(he.ngOnChanges||he.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(r.index),_=!0),D++}!function vg(e,n,r){const a=n.directiveEnd,d=e.data,g=n.attrs,_=[];let D=null,x=null;for(let G=n.directiveStart;G<a;G++){const he=d[G],$e=r?r.get(he):null,It=$e?$e.outputs:null;D=C_(0,he.inputs,G,D,$e?$e.inputs:null),x=C_(1,he.outputs,G,x,It);const Qt=null===D||null===g||ha(n)?null:Nv(D,G,g);_.push(Qt)}null!==D&&(D.hasOwnProperty("class")&&(n.flags|=8),D.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=_,n.inputs=D,n.outputs=x}(e,r,d)}function S_(e,n,r){const o=r.directiveStart,a=r.directiveEnd,d=r.index,g=function Gh(){return fr.lFrame.currentDirectiveIndex}();try{ra(d);for(let _=o;_<a;_++){const D=e.data[_],x=n[_];y(_),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Ig(D,x)}}finally{ra(-1),y(g)}}function Ig(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function kf(e,n,r){n.componentOffset=r,(e.components??=[]).push(n.index)}function dd(e,n,r){if(r){if(n.exportAs)for(let o=0;o<n.exportAs.length;o++)r[n.exportAs[o]]=e;Vs(n)&&(r[""]=e)}}function jI(e,n,r,o,a){e.data[o]=a;const d=a.factory||(a.factory=Ya(a.type)),g=new qh(d,Vs(a),du);e.blueprint[o]=g,r[o]=g,function Rv(e,n,r,o,a){const d=a.hostBindings;if(d){let g=e.hostBindingOpCodes;null===g&&(g=e.hostBindingOpCodes=[]);const _=~n.index;(function A_(e){let n=e.length;for(;n>0;){const r=e[--n];if("number"==typeof r&&r<0)return r}return 0})(g)!=_&&g.push(_),g.push(r,o,d)}}(e,n,o,ld(e,r,a.hostVars,mr),a)}function gc(e,n,r,o,a,d){const g=Oo(e,n);!function Tg(e,n,r,o,a,d,g){if(null==d)e.removeAttribute(n,a,r);else{const _=null==g?mn(d):g(d,o||"",a);e.setAttribute(n,a,_,r)}}(n[Xn],g,d,e.value,r,o,a)}function Pv(e,n,r,o,a,d){const g=d[n];if(null!==g)for(let _=0;_<g.length;)E_(o,r,g[_++],g[_++],g[_++],g[_++])}function Nv(e,n,r){let o=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;if(e.hasOwnProperty(d)){null===o&&(o=[]);const g=e[d];for(let _=0;_<g.length;_+=3)if(g[_]===n){o.push(d,g[_+1],g[_+2],r[a+1]);break}}a+=2}else a+=2;else a+=4}return o}function Ov(e,n,r,o){return[e,!0,0,n,null,o,null,r,null,null]}function xv(e,n){const r=e.contentQueries;if(null!==r){const o=ae(null);try{for(let a=0;a<r.length;a+=2){const g=r[a+1];if(-1!==g){const _=e.data[g];E(r[a]),_.contentQueries(2,n[g],g)}}}finally{ae(o)}}}function Cg(e,n){return e[Vl]?e[cp][fo]=n:e[Vl]=n,e[cp]=n,n}function kv(e,n,r){E(0);const o=ae(null);try{n(e,r)}finally{ae(o)}}function Fv(e){return e[Is]??=[]}function P_(e){return e.cleanup??=[]}function Va(e,n){const r=e[Pi],o=r?r.get(Bc,null):null;o&&o.handleError(n)}function lh(e,n,r,o,a){for(let d=0;d<r.length;){const g=r[d++],_=r[d++],D=r[d++];E_(e.data[g],n[g],o,_,D,a)}}function N_(e,n){const r=Ts(n,e),o=r[fn];!function zi(e,n){for(let r=n.length;r<e.blueprint.length;r++)n.push(e.blueprint[r])}(o,r);const a=r[yi];null!==a&&null===r[No]&&(r[No]=Xy(a,r[Pi])),uh(o,r,r[Si])}function uh(e,n,r){ze(n);try{const o=e.viewQuery;null!==o&&kv(1,o,r);const a=e.template;null!==a&&gg(e,n,a,1,r),e.firstCreatePass&&(e.firstCreatePass=!1),n[ta]?.finishViewCreation(e),e.staticContentQueries&&xv(e,n),e.staticViewQueries&&kv(2,e.viewQuery,r);const d=e.components;null!==d&&function Lf(e,n){for(let r=0;r<n.length;r++)N_(e,n[r])}(n,d)}catch(o){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),o}finally{n[Wn]&=-5,Vn()}}function zc(e,n,r,o){const a=ae(null);try{const d=n.tView,D=Of(e,d,r,4096&e[Wn]?4096:16,null,n,null,null,o?.injector??null,o?.embeddedViewInjector??null,o?.dehydratedView??null);D[ma]=e[n.index];const G=e[ta];return null!==G&&(D[ta]=G.createEmbeddedView(d)),uh(d,D,r),D}finally{ae(a)}}function gu(e,n){return!n||null===n.firstChild||Zu(e)}function dh(e,n,r,o=!0){const a=n[fn];if(function bf(e,n,r,o){const a=no+o,d=r.length;o>0&&(r[a-1][fo]=n),o<d-no?(n[fo]=r[a],Rl(r,no+o,n)):(r.push(n),n[fo]=null),n[Ki]=r;const g=n[ma];null!==g&&r!==g&&ag(g,n);const _=n[ta];null!==_&&_.insertView(e),fl(n),n[Wn]|=128}(a,n,e,r),o){const g=Pf(r,e),_=n[Xn],D=rh(_,e[va]);null!==D&&function wf(e,n,r,o,a,d){o[yi]=a,o[qi]=n,oh(e,o,r,1,a,d)}(a,e[qi],_,n,D,g)}const d=n[No];null!==d&&null!==d.firstChild&&(d.firstChild=null)}function Vf(e,n,r,o,a=!1){for(;null!==r;){if(128===r.type){r=a?r.projectionNext:r.next;continue}const d=n[r.index];null!==d&&o.push(Lr(d)),vo(d)&&x_(d,o);const g=r.type;if(8&g)Vf(e,n,r.child,o);else if(32&g){const _=mt(r,n);let D;for(;D=_();)o.push(D)}else if(16&g){const _=Tv(n,r);if(Array.isArray(_))o.push(..._);else{const D=ka(n[Li]);Vf(D[fn],D,_,o,!0)}}r=a?r.projectionNext:r.next}return o}function x_(e,n){for(let r=no;r<e.length;r++){const o=e[r],a=o[fn].firstChild;null!==a&&Vf(o[fn],o,a,n)}e[va]!==e[yi]&&n.push(e[va])}let hh=[];const L_={...ye,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{Xl(e.lView)},consumerOnSignalRead(){this.lView[Ls]=this}},zI={...ye,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{let n=ka(e.lView);for(;n&&!V_(n[fn]);)n=ka(n);n&&Bh(n)},consumerOnSignalRead(){this.lView[Ls]=this}};function V_(e){return 2!==e.type}const GI=100;function mc(e,n=!0,r=0){const o=e[ga],a=o.rendererFactory;a.begin?.();try{!function WI(e,n){const r=_p();try{Ia(!0),Dg(e,n);let o=0;for(;hl(e);){if(o===GI)throw new rn(103,!1);o++,Dg(e,1)}}finally{Ia(r)}}(e,r)}catch(g){throw n&&Va(e,g),g}finally{a.end?.(),o.inlineEffectRunner?.flush()}}function Uf(e,n,r,o){const a=n[Wn];if(!(256&~a))return;n[ga].inlineEffectRunner?.flush(),ze(n);let _=!0,D=null,x=null;V_(e)?(x=function mu(e){return e[Ls]??function k_(e){const n=hh.pop()??Object.create(L_);return n.lView=e,n}(e)}(n),D=Ze(x)):null===function Ae(){return L}()?(_=!1,x=function fh(e){const n=e[Ls]??Object.create(zI);return n.lView=e,n}(n),D=Ze(x)):n[Ls]&&(pe(n[Ls]),n[Ls]=null);try{xo(n),function Hu(e){return fr.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==r&&gg(e,n,r,2,o);const G=!(3&~a);if(G){const et=e.preOrderCheckHooks;null!==et&&Vd(n,et,null)}else{const et=e.preOrderHooks;null!==et&&Kh(n,et,0,null),Ip(n,0)}if(function B_(e){for(let n=Wm(e);null!==n;n=lf(n)){if(!(n[Wn]&xu.HasTransplantedViews))continue;const r=n[al];for(let o=0;o<r.length;o++)Bh(r[o])}}(n),Bf(n,0),null!==e.contentQueries&&xv(e,n),G){const et=e.contentCheckHooks;null!==et&&Vd(n,et)}else{const et=e.contentHooks;null!==et&&Kh(n,et,1),Ip(n,1)}!function bv(e,n){const r=e.hostBindingOpCodes;if(null!==r)try{for(let o=0;o<r.length;o++){const a=r[o];if(a<0)ra(~a);else{const d=a,g=r[++o],_=r[++o];vm(g,d),_(2,n[d])}}}finally{ra(-1)}}(e,n);const he=e.components;null!==he&&wg(n,he,0);const $e=e.viewQuery;if(null!==$e&&kv(2,$e,o),G){const et=e.viewCheckHooks;null!==et&&Vd(n,et)}else{const et=e.viewHooks;null!==et&&Kh(n,et,2),Ip(n,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Cd]){for(const et of n[Cd])et();n[Cd]=null}n[Wn]&=-73}catch(G){throw Xl(n),G}finally{null!==x&&(He(x,D),_&&function F_(e){e.lView[Ls]!==e&&(e.lView=null,hh.push(e))}(x)),Vn()}}function Bf(e,n){for(let r=Wm(e);null!==r;r=lf(r))for(let o=no;o<r.length;o++)ph(r[o],n)}function $f(e,n,r){ph(Ts(n,e),r)}function ph(e,n){kc(e)&&Dg(e,n)}function Dg(e,n){const o=e[fn],a=e[Wn],d=e[Ls];let g=!!(0===n&&16&a);if(g||=!!(64&a&&0===n),g||=!!(1024&a),g||=!(!d?.dirty||!st(d)),g||=!1,d&&(d.dirty=!1),e[Wn]&=-9217,g)Uf(o,e,o.template,e[Si]);else if(8192&a){Bf(e,1);const _=o.components;null!==_&&wg(e,_,1)}}function wg(e,n,r){for(let o=0;o<n.length;o++)$f(e,n[o],r)}function Vi(e,n){const r=_p()?64:1088;for(e[ga].changeDetectionScheduler?.notify(n);e;){e[Wn]|=r;const o=ka(e);if(ll(e)&&!o)return e;e=o}return null}class jf{get rootNodes(){const n=this._lView,r=n[fn];return Vf(r,n,r.firstChild,[])}constructor(n,r,o=!0){this._lView=n,this._cdRefInjectingView=r,this.notifyErrorHandler=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Si]}set context(n){this._lView[Si]=n}get destroyed(){return!(256&~this._lView[Wn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Ki];if(vo(n)){const r=n[8],o=r?r.indexOf(this):-1;o>-1&&(Sf(n,o),ua(r,o))}this._attachedToViewContainer=!1}pc(this._lView[fn],this._lView)}onDestroy(n){cc(this._lView,n)}markForCheck(){Vi(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Wn]&=-129}reattach(){fl(this._lView),this._lView[Wn]|=128}detectChanges(){this._lView[Wn]|=1024,mc(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new rn(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;const n=ll(this._lView),r=this._lView[ma];null!==r&&!n&&cg(r,this._lView),p_(this._lView[fn],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new rn(902,!1);this._appRef=n;const r=ll(this._lView),o=this._lView[ma];null!==o&&!r&&ag(o,this._lView),fl(this._lView)}}let Hf=(()=>{class e{static{this.__NG_ELEMENT_ID__=H_}}return e})();const $_=Hf,j_=class extends $_{constructor(n,r,o){super(),this._declarationLView=n,this._declarationTContainer=r,this.elementRef=o}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,o){const a=zc(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:o});return new jf(a)}};function H_(){return hd(ui(),zt())}function hd(e,n){return 4&e.type?new j_(n,e,co(e,n)):null}let LD=()=>null;function qf(e,n){return LD(e,n)}class xg{}const zv=new rr("",{providedIn:"root",factory:()=>!1}),VD=new rr(""),t0=new rr("");class qR{}class UD{}class QR{resolveComponentFactory(n){throw function XR(e){const n=Error(`No component factory found for ${Ur(e)}.`);return n.ngComponent=e,n}(n)}}class Z_{static{this.NULL=new QR}}class n0{}let YR=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function ZR(){const e=zt(),r=Ts(ui().index,e);return(po(r)?r:e)[Xn]}()}}return e})(),JR=(()=>{class e{static{this.\u0275prov=dr({token:e,providedIn:"root",factory:()=>null})}}return e})();function Th(e){return!!fi(e)}function eE(e,n,r){let o=r?e.styles:null,a=r?e.classes:null,d=0;if(null!==n)for(let g=0;g<n.length;g++){const _=n[g];"number"==typeof _?d=_:1==d?a=ds(a,_):2==d&&(o=ds(o,_+": "+n[++g]+";"))}r?e.styles=o:e.stylesWithoutHost=o,r?e.classes=a:e.classesWithoutHost=a}class HD extends Z_{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const r=Hn(n);return new Kv(r,this.ngModule)}}function zD(e,n){const r=[];for(const o in e){if(!e.hasOwnProperty(o))continue;const a=e[o];if(void 0===a)continue;const d=Array.isArray(a),g=d?a[0]:a;r.push(n?{propName:g,templateName:o,isSignal:!!((d?a[1]:da.None)&da.SignalBased)}:{propName:g,templateName:o})}return r}class Kv extends UD{get inputs(){const n=this.componentDef,r=n.inputTransforms,o=zD(n.inputs,!0);if(null!==r)for(const a of o)r.hasOwnProperty(a.propName)&&(a.transform=r[a.propName]);return o}get outputs(){return zD(this.componentDef.outputs,!1)}constructor(n,r){super(),this.componentDef=n,this.ngModule=r,this.componentType=n.type,this.selector=function b(e){return e.map(T).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!r}create(n,r,o,a){const d=ae(null);try{let g=(a=a||this.ngModule)instanceof es?a:a?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const _=g?new vl(n,g):n,D=_.get(n0,null);if(null===D)throw new rn(407,!1);const he={rendererFactory:D,sanitizer:_.get(JR,null),inlineEffectRunner:null,changeDetectionScheduler:_.get(xg,null)},$e=D.createRenderer(null,this.componentDef),et=this.componentDef.selectors[0][0]||"div",It=o?function zs(e,n,r,o){const d=o.get(nd,!1)||r===Na.ShadowDom,g=e.selectRootElement(n,d);return function T_(e){ah(e)}(g),g}($e,o,this.componentDef.encapsulation,_):it($e,et,function nM(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(et));let Qt=512;this.componentDef.signals?Qt|=4096:this.componentDef.onPush||(Qt|=16);let En=null;null!==It&&(En=Xy(It,_,!0));const wn=ud(0,null,null,1,0,null,null,null,null,null,null),Yt=Of(null,wn,null,Qt,null,null,he,$e,_,null,En);ze(Yt);let wr,Yr,Ui=null;try{const Uo=this.componentDef;let $a,im=null;Uo.findHostDirectiveDefs?($a=[],im=new Map,Uo.findHostDirectiveDefs(Uo,$a,im),$a.push(Uo)):$a=[Uo];const vR=function iM(e,n){const r=e[fn],o=Un;return e[o]=n,hu(r,o,2,"#host",null)}(Yt,It);Ui=function oM(e,n,r,o,a,d,g){const _=a[fn];!function sM(e,n,r,o){for(const a of e)n.mergedAttrs=oi(n.mergedAttrs,a.hostAttrs);null!==n.mergedAttrs&&(eE(n,n.mergedAttrs,!0),null!==r&&y_(o,r,n))}(o,e,n,g);let D=null;null!==n&&(D=Xy(n,a[Pi]));const x=d.rendererFactory.createRenderer(n,r);let G=16;r.signals?G=4096:r.onPush&&(G=64);const he=Of(a,Sv(r),null,G,a[e.index],e,d,x,null,null,D);return _.firstCreatePass&&kf(_,e,o.length-1),Cg(a,he),a[e.index]=he}(vR,It,Uo,$a,Yt,he,$e),Yr=xc(wn,Un),It&&function cM(e,n,r,o){if(o)_s(e,r,["ng-version","18.2.5"]);else{const{attrs:a,classes:d}=function $(e){const n=[],r=[];let o=1,a=2;for(;o<e.length;){let d=e[o];if("string"==typeof d)2===a?""!==d&&n.push(d,e[++o]):8===a&&r.push(d);else{if(!Es(a))break;a=d}o++}return{attrs:n,classes:r}}(n.selectors[0]);a&&_s(e,r,a),d&&d.length>0&&Dv(e,r,d.join(" "))}}($e,Uo,It,o),void 0!==r&&function lM(e,n,r){const o=e.projection=[];for(let a=0;a<n.length;a++){const d=r[a];o.push(null!=d?Array.from(d):null)}}(Yr,this.ngContentSelectors,r),wr=function aM(e,n,r,o,a,d){const g=ui(),_=a[fn],D=Oo(g,a);Eg(_,a,g,r,null,o);for(let G=0;G<r.length;G++)Cs(yl(a,_,g.directiveStart+G,g),a);S_(_,a,g),D&&Cs(D,a);const x=yl(a,_,g.directiveStart+g.componentOffset,g);if(e[Si]=a[Si]=x,null!==d)for(const G of d)G(x,n);return Dl(_,g,a),x}(Ui,Uo,$a,im,Yt,[uM]),uh(wn,Yt,null)}catch(Uo){throw null!==Ui&&Hm(Ui),Hm(Yt),Uo}finally{Vn()}return new rM(this.componentType,wr,co(Yr,Yt),Yt,Yr)}finally{ae(d)}}}class rM extends qR{constructor(n,r,o,a,d){super(),this.location=o,this._rootLView=a,this._tNode=d,this.previousInputValues=null,this.instance=r,this.hostView=this.changeDetectorRef=new jf(a,void 0,!1),this.componentType=n}setInput(n,r){const o=this._tNode.inputs;let a;if(null!==o&&(a=o[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),r))return;const d=this._rootLView;lh(d[fn],d,a,n,r),this.previousInputValues.set(n,r),Vi(Ts(this._tNode.index,d),1)}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function uM(){const e=ui();ml(zt()[fn],e)}let tE=(()=>{class e{static{this.__NG_ELEMENT_ID__=dM}}return e})();function dM(){return KD(ui(),zt())}const hM=tE,GD=class extends hM{constructor(n,r,o){super(),this._lContainer=n,this._hostTNode=r,this._hostLView=o}get element(){return co(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const n=Bd(this._hostTNode,this._hostLView);if(Dm(n)){const r=qu(n,this._hostLView),o=Ku(n);return new ko(r[fn].data[o+8],r)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const r=WD(this._lContainer);return null!==r&&r[n]||null}get length(){return this._lContainer.length-no}createEmbeddedView(n,r,o){let a,d;"number"==typeof o?a=o:null!=o&&(a=o.index,d=o.injector);const g=qf(this._lContainer,n.ssrId),_=n.createEmbeddedViewImpl(r||{},d,g);return this.insertImpl(_,a,gu(this._hostTNode,g)),_}createComponent(n,r,o,a,d){const g=n&&!function xa(e){return"function"==typeof e}(n);let _;if(g)_=r;else{const It=r||{};_=It.index,o=It.injector,a=It.projectableNodes,d=It.environmentInjector||It.ngModuleRef}const D=g?n:new Kv(Hn(n)),x=o||this.parentInjector;if(!d&&null==D.ngModule){const Qt=(g?x:this.parentInjector).get(es,null);Qt&&(d=Qt)}const G=Hn(D.componentType??{}),he=qf(this._lContainer,G?.id??null),et=D.create(x,a,he?.firstChild??null,d);return this.insertImpl(et.hostView,_,gu(this._hostTNode,he)),et}insert(n,r){return this.insertImpl(n,r,!0)}insertImpl(n,r,o){const a=n._lView;if(function gm(e){return vo(e[Ki])}(a)){const _=this.indexOf(n);if(-1!==_)this.detach(_);else{const D=a[Ki],x=new GD(D,D[qi],D[Ki]);x.detach(x.indexOf(n))}}const d=this._adjustIndex(r),g=this._lContainer;return dh(g,a,d,o),n.attachToViewContainerRef(),Rl(s0(g),d,n),n}move(n,r){return this.insert(n,r)}indexOf(n){const r=WD(this._lContainer);return null!==r?r.indexOf(n):-1}remove(n){const r=this._adjustIndex(n,-1),o=Sf(this._lContainer,r);o&&(ua(s0(this._lContainer),r),pc(o[fn],o))}detach(n){const r=this._adjustIndex(n,-1),o=Sf(this._lContainer,r);return o&&null!=ua(s0(this._lContainer),r)?new jf(o):null}_adjustIndex(n,r=0){return n??this.length+r}};function WD(e){return e[8]}function s0(e){return e[8]||(e[8]=[])}function KD(e,n){let r;const o=n[e.index];return vo(o)?r=o:(r=Ov(o,n,null,e),n[e.index]=r,Cg(n,r)),qD(r,n,e,o),new GD(r,e,n)}let qD=function QD(e,n,r,o){if(e[va])return;let a;a=8&r.type?Lr(o):function fM(e,n){const r=e[Xn],o=r.createComment(""),a=Oo(n,e);return ad(r,rh(r,a),o,function Ev(e,n){return e.nextSibling(n)}(r,a),!1),o}(n,r),e[va]=a},a0=()=>!1;class c0{constructor(n){this.queryList=n,this.matches=null}clone(){return new c0(this.queryList)}setDirty(){this.queryList.setDirty()}}class l0{constructor(n=[]){this.queries=n}createEmbeddedView(n){const r=n.queries;if(null!==r){const o=null!==n.contentQueries?n.contentQueries[0]:r.length,a=[];for(let d=0;d<o;d++){const g=r.getByIndex(d);a.push(this.queries[g.indexInDeclarationView].clone())}return new l0(a)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}finishViewCreation(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let r=0;r<this.queries.length;r++)null!==p0(n,r).matches&&this.queries[r].setDirty()}}class YD{constructor(n,r,o=null){this.flags=r,this.read=o,this.predicate="string"==typeof n?function IM(e){return e.split(",").map(n=>n.trim())}(n):n}}class u0{constructor(n=[]){this.queries=n}elementStart(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementStart(n,r)}elementEnd(n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementEnd(n)}embeddedTView(n){let r=null;for(let o=0;o<this.length;o++){const a=null!==r?r.length:0,d=this.getByIndex(o).embeddedTView(n,a);d&&(d.indexInDeclarationView=o,null!==r?r.push(d):r=[d])}return null!==r?new u0(r):null}template(n,r){for(let o=0;o<this.queries.length;o++)this.queries[o].template(n,r)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class d0{constructor(n,r=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=r}elementStart(n,r){this.isApplyingToNode(r)&&this.matchTNode(n,r)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,r){this.elementStart(n,r)}embeddedTView(n,r){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,r),new d0(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1&~this.metadata.flags){const r=this._declarationNodeIndex;let o=n.parent;for(;null!==o&&8&o.type&&o.index!==r;)o=o.parent;return r===(null!==o?o.index:-1)}return this._appliesToNextNode}matchTNode(n,r){const o=this.metadata.predicate;if(Array.isArray(o))for(let a=0;a<o.length;a++){const d=o[a];this.matchTNodeWithReadOption(n,r,vM(r,d)),this.matchTNodeWithReadOption(n,r,bp(r,n,d,!1,!1))}else o===Hf?4&r.type&&this.matchTNodeWithReadOption(n,r,-1):this.matchTNodeWithReadOption(n,r,bp(r,n,o,!1,!1))}matchTNodeWithReadOption(n,r,o){if(null!==o){const a=this.metadata.read;if(null!==a)if(a===_i||a===tE||a===Hf&&4&r.type)this.addMatch(r.index,-2);else{const d=bp(r,n,a,!1,!1);null!==d&&this.addMatch(r.index,d)}else this.addMatch(r.index,o)}}addMatch(n,r){null===this.matches?this.matches=[n,r]:this.matches.push(n,r)}}function vM(e,n){const r=e.localNames;if(null!==r)for(let o=0;o<r.length;o+=2)if(r[o]===n)return r[o+1];return null}function _M(e,n,r,o){return-1===r?function yM(e,n){return 11&e.type?co(e,n):4&e.type?hd(e,n):null}(n,e):-2===r?function EM(e,n,r){return r===_i?co(n,e):r===Hf?hd(n,e):r===tE?KD(n,e):void 0}(e,n,o):yl(e,e[fn],r,n)}function ZD(e,n,r,o){const a=n[ta].queries[o];if(null===a.matches){const d=e.data,g=r.matches,_=[];for(let D=0;null!==g&&D<g.length;D+=2){const x=g[D];_.push(x<0?null:_M(n,d[x],g[D+1],r.metadata.read))}a.matches=_}return a.matches}function h0(e,n,r,o){const a=e.queries.getByIndex(r),d=a.matches;if(null!==d){const g=ZD(e,n,a,r);for(let _=0;_<d.length;_+=2){const D=d[_];if(D>0)o.push(g[_/2]);else{const x=d[_+1],G=n[-D];for(let he=no;he<G.length;he++){const $e=G[he];$e[ma]===$e[Ki]&&h0($e[fn],$e,x,o)}if(null!==G[al]){const he=G[al];for(let $e=0;$e<he.length;$e++){const et=he[$e];h0(et[fn],et,x,o)}}}}}return o}function JD(e,n,r){const o=new $m(!(4&~r));return function BI(e,n,r,o){const a=Fv(n);a.push(r),e.firstCreatePass&&P_(e).push(o,a.length-1)}(e,n,o,o.destroy),(n[ta]??=new l0).queries.push(new c0(o))-1}function nw(e,n,r){null===e.queries&&(e.queries=new u0),e.queries.track(new d0(n,r))}function p0(e,n){return e.queries.getByIndex(n)}function rw(e,n){const r=e[fn],o=p0(r,n);return o.crossesNgTemplate?h0(r,e,n,[]):ZD(r,e,o,n)}const iw=new Set;function Da(e){iw.has(e)||(iw.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function sw(e,n){Da("NgSignals");const r=function Q(e){const n=Object.create(qe);n.value=e;const r=()=>(le(n),n.value);return r[be]=n,r}(e),o=r[be];return n?.equal&&(o.equal=n.equal),r.set=a=>gt(o,a),r.update=a=>function Ie(e,n){Qe()||pt(),gt(e,n(e.value))}(o,a),r.asReadonly=aw.bind(r),r}function aw(){const e=this[be];if(void 0===e.readonlyFn){const n=()=>this();n[be]=e,e.readonlyFn=n}return e.readonlyFn}function cw(e){return function ow(e){return"function"==typeof e&&void 0!==e[be]}(e)&&"function"==typeof e.set}function m0(e){let n=function _w(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),r=!0;const o=[e];for(;n;){let a;if(Vs(e))a=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new rn(903,!1);a=n.\u0275dir}if(a){if(r){o.push(a);const g=e;g.inputs=rE(e.inputs),g.inputTransforms=rE(e.inputTransforms),g.declaredInputs=rE(e.declaredInputs),g.outputs=rE(e.outputs);const _=a.hostBindings;_&&FM(e,_);const D=a.viewQuery,x=a.contentQueries;if(D&&xM(e,D),x&&kM(e,x),NM(e,a),za(e.outputs,a.outputs),Vs(a)&&a.data.animation){const G=e.data;G.animation=(G.animation||[]).concat(a.data.animation)}}const d=a.features;if(d)for(let g=0;g<d.length;g++){const _=d[g];_&&_.ngInherit&&_(e),_===m0&&(r=!1)}}n=Object.getPrototypeOf(n)}!function OM(e){let n=0,r=null;for(let o=e.length-1;o>=0;o--){const a=e[o];a.hostVars=n+=a.hostVars,a.hostAttrs=oi(a.hostAttrs,r=oi(r,a.hostAttrs))}}(o)}function NM(e,n){for(const r in n.inputs){if(!n.inputs.hasOwnProperty(r)||e.inputs.hasOwnProperty(r))continue;const o=n.inputs[r];if(void 0!==o&&(e.inputs[r]=o,e.declaredInputs[r]=n.declaredInputs[r],null!==n.inputTransforms)){const a=Array.isArray(o)?o[0]:o;if(!n.inputTransforms.hasOwnProperty(a))continue;e.inputTransforms??={},e.inputTransforms[a]=n.inputTransforms[a]}}}function rE(e){return e===xs?{}:e===Zn?[]:e}function xM(e,n){const r=e.viewQuery;e.viewQuery=r?(o,a)=>{n(o,a),r(o,a)}:n}function kM(e,n){const r=e.contentQueries;e.contentQueries=r?(o,a,d)=>{n(o,a,d),r(o,a,d)}:n}function FM(e,n){const r=e.hostBindings;e.hostBindings=r?(o,a)=>{n(o,a),r(o,a)}:n}function Cw(e){const n=e.inputConfig,r={};for(const o in n)if(n.hasOwnProperty(o)){const a=n[o];Array.isArray(a)&&a[3]&&(r[o]=a[3])}e.inputTransforms=r}class Xf{}class Dw{}function jM(e,n){return new v0(e,n??null,[])}class v0 extends Xf{constructor(n,r,o,a=!0){super(),this.ngModuleType=n,this._parent=r,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new HD(this);const d=fi(n);this._bootstrapComponents=ve(d.bootstrap),this._r3Injector=Ry(n,r,[{provide:Xf,useValue:this},{provide:Z_,useValue:this.componentFactoryResolver},...o],Ur(n),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(r=>r()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class y0 extends Dw{constructor(n){super(),this.moduleType=n}create(n){return new v0(this.moduleType,n,[])}}class ww extends Xf{constructor(n){super(),this.componentFactoryResolver=new HD(this),this.instance=null;const r=new kl([...n.providers,{provide:Xf,useValue:this},{provide:Z_,useValue:this.componentFactoryResolver}],n.parent||Ed(),n.debugName,new Set(["environment"]));this.injector=r,n.runEnvironmentInitializers&&r.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function _0(e,n,r=null){return new ww({providers:e,parent:n,debugName:r,runEnvironmentInitializers:!0}).injector}function iE(e){return!!E0(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function E0(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Fo(e,n,r){return!Object.is(e[n],r)&&(e[n]=r,!0)}function Qv(e,n,r,o,a,d,g,_,D,x){const G=r+Un,he=n.firstCreatePass?function qM(e,n,r,o,a,d,g,_,D){const x=n.consts,G=hu(n,e,4,g||null,_||null);_g(n,r,G,na(x,D)),ml(n,G);const he=G.tView=ud(2,G,o,a,d,n.directiveRegistry,n.pipeRegistry,null,n.schemas,x,null);return null!==n.queries&&(n.queries.template(n,G),he.queries=n.queries.embeddedTView(G)),G}(G,n,e,o,a,d,g,_,D):n.data[G];Us(he,!1);const $e=Aw(n,e,he,r);Lc()&&fg(n,e,$e,he),Cs($e,e);const et=Ov($e,e,$e,he);return e[G]=et,Cg(e,et),function XD(e,n,r){return a0(e,n,r)}(et,he,e),wd(he)&&mg(n,e,he),null!=D&&sh(e,he,x),he}function I0(e,n,r,o,a,d,g,_){const D=zt(),x=Tr();return Qv(D,x,e,n,r,o,a,na(x.consts,d),g,_),I0}let Aw=function bw(e,n,r,o){return $s(!0),n[Xn].createComment("")};var Vg=function(e){return e[e.EarlyRead=0]="EarlyRead",e[e.Write=1]="Write",e[e.MixedReadWrite=2]="MixedReadWrite",e[e.Read=3]="Read",e}(Vg||{});let Ow=(()=>{class e{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=dr({token:e,providedIn:"root",factory:()=>new e})}}return e})();class Jv{constructor(){this.ngZone=cn(Hi),this.scheduler=cn(xg),this.errorHandler=cn(Bc,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Vg.EarlyRead,Vg.Write,Vg.MixedReadWrite,Vg.Read]}execute(){this.executing=!0;for(const n of Jv.PHASES)for(const r of this.sequences)if(!r.erroredOrDestroyed&&r.hooks[n])try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>r.hooks[n](r.pipelinedValue))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(const n of this.sequences)n.afterRun(),n.once&&this.sequences.delete(n);for(const n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(6))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}static{this.\u0275prov=dr({token:Jv,providedIn:"root",factory:()=>new Jv})}}class ZM{constructor(n,r,o,a){this.impl=n,this.hooks=r,this.once=o,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=a.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}}function lE(e,n){!n?.injector&&function Pu(e){if(!Fl())throw new rn(-203,!1)}();const r=n?.injector??cn(ns);return function Ke(e){return"browser"===(e??cn(ns)).get(ff)}(r)?(Da("NgAfterNextRender"),function xw(e,n,r,o){const a=n.get(Ow);a.impl??=n.get(Jv);const g=new ZM(a.impl,function eP(e,n){if(e instanceof Function){const r=[void 0,void 0,void 0,void 0];return r[n]=e,r}return[e.earlyRead,e.write,e.mixedReadWrite,e.read]}(e,r?.phase??Vg.MixedReadWrite),o,n.get(Qu));return a.impl.register(g),g}(e,r,n,!0)):kw}const kw={destroy(){}};function N0(e,n,r,o){const a=zt();return Fo(a,Ta(),n)&&(Tr(),gc(di(),a,e,n,r,o)),N0}function hE(e,n){return e<<17|n<<2}function wh(e){return e>>17&32767}function O0(e){return 2|e}function Zf(e){return(131068&e)>>2}function x0(e,n){return-131069&e|n<<2}function k0(e){return 1|e}function aA(e,n,r,o){const a=e[r+1],d=null===n;let g=o?wh(a):Zf(a),_=!1;for(;0!==g&&(!1===_||d);){const x=e[g+1];FP(e[g],n)&&(_=!0,e[g+1]=o?k0(x):O0(x)),g=o?wh(x):Zf(x)}_&&(e[r+1]=o?O0(a):k0(a))}function FP(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Os(e,n)>=0}function F0(e,n,r){const o=zt();return Fo(o,Ta(),n)&&ws(Tr(),di(),o,e,n,o[Xn],r,!1),F0}function L0(e,n,r,o,a){const g=a?"class":"style";lh(e,r,n.inputs[g],g,o)}function V0(e,n){return function Al(e,n,r,o){const a=zt(),d=Tr(),g=function Bs(e){const n=fr.lFrame,r=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,r}(2);d.firstUpdatePass&&function mA(e,n,r,o){const a=e.data;if(null===a[r+1]){const d=a[pi()],g=function gA(e,n){return n>=e.expandoStartIndex}(e,r);(function EA(e,n){return!!(e.flags&(n?8:16))})(d,o)&&null===n&&!g&&(n=!1),n=function GP(e,n,r,o){const a=function h(e){const n=fr.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let d=o?n.residualClasses:n.residualStyles;if(null===a)0===(o?n.classBindings:n.styleBindings)&&(r=ty(r=U0(null,e,n,r,o),n.attrs,o),d=null);else{const g=n.directiveStylingLast;if(-1===g||e[g]!==a)if(r=U0(a,e,n,r,o),null===d){let D=function WP(e,n,r){const o=r?n.classBindings:n.styleBindings;if(0!==Zf(o))return e[wh(o)]}(e,n,o);void 0!==D&&Array.isArray(D)&&(D=U0(null,e,n,D[1],o),D=ty(D,n.attrs,o),function KP(e,n,r,o){e[wh(r?n.classBindings:n.styleBindings)]=o}(e,n,o,D))}else d=function qP(e,n,r){let o;const a=n.directiveEnd;for(let d=1+n.directiveStylingLast;d<a;d++)o=ty(o,e[d].hostAttrs,r);return ty(o,n.attrs,r)}(e,n,o)}return void 0!==d&&(o?n.residualClasses=d:n.residualStyles=d),r}(a,d,n,o),function xP(e,n,r,o,a,d){let g=d?n.classBindings:n.styleBindings,_=wh(g),D=Zf(g);e[o]=r;let G,x=!1;if(Array.isArray(r)?(G=r[1],(null===G||Os(r,G)>0)&&(x=!0)):G=r,a)if(0!==D){const $e=wh(e[_+1]);e[o+1]=hE($e,_),0!==$e&&(e[$e+1]=x0(e[$e+1],o)),e[_+1]=function NP(e,n){return 131071&e|n<<17}(e[_+1],o)}else e[o+1]=hE(_,0),0!==_&&(e[_+1]=x0(e[_+1],o)),_=o;else e[o+1]=hE(D,0),0===_?_=o:e[D+1]=x0(e[D+1],o),D=o;x&&(e[o+1]=O0(e[o+1])),aA(e,G,o,!0),aA(e,G,o,!1),function kP(e,n,r,o,a){const d=a?e.residualClasses:e.residualStyles;null!=d&&"string"==typeof n&&Os(d,n)>=0&&(r[o+1]=k0(r[o+1]))}(n,G,e,o,d),g=hE(_,D),d?n.classBindings=g:n.styleBindings=g}(a,d,n,r,g,o)}}(d,e,g,o),n!==mr&&Fo(a,g,n)&&function yA(e,n,r,o,a,d,g,_){if(!(3&n.type))return;const D=e.data,x=D[_+1],G=function OP(e){return!(1&~e)}(x)?_A(D,n,r,a,Zf(x),g):void 0;fE(G)||(fE(d)||function PP(e){return!(2&~e)}(x)&&(d=_A(D,null,r,a,_,g)),function pg(e,n,r,o,a){if(n)a?e.addClass(r,o):e.removeClass(r,o);else{let d=-1===o.indexOf("-")?void 0:Or.DashCase;null==a?e.removeStyle(r,o,d):("string"==typeof a&&a.endsWith("!important")&&(a=a.slice(0,-10),d|=Or.Important),e.setStyle(r,o,a,d))}}(o,g,sc(pi(),r),a,d))}(d,d.data[pi()],a,a[Xn],e,a[g+1]=function ZP(e,n){return null==e||""===e||("string"==typeof n?e+=n:"object"==typeof e&&(e=Ur(cu(e)))),e}(n,r),o,g)}(e,n,null,!0),V0}function U0(e,n,r,o,a){let d=null;const g=r.directiveEnd;let _=r.directiveStylingLast;for(-1===_?_=r.directiveStart:_++;_<g&&(d=n[_],o=ty(o,d.hostAttrs,a),d!==e);)_++;return null!==e&&(r.directiveStylingLast=_),o}function ty(e,n,r){const o=r?1:2;let a=-1;if(null!==n)for(let d=0;d<n.length;d++){const g=n[d];"number"==typeof g?a=g:a===o&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Mo(e,g,!!r||n[++d]))}return void 0===e?null:e}function _A(e,n,r,o,a,d){const g=null===n;let _;for(;a>0;){const D=e[a],x=Array.isArray(D),G=x?D[1]:D,he=null===G;let $e=r[a+1];$e===mr&&($e=he?Zn:void 0);let et=he?Po($e,o):G===o?$e:void 0;if(x&&!fE(et)&&(et=Po(D,o)),fE(et)&&(_=et,g))return _;const It=e[a+1];a=g?wh(It):Zf(It)}if(null!==n){let D=d?n.residualClasses:n.residualStyles;null!=D&&(_=Po(D,o))}return _}function fE(e){return void 0!==e}function gE(e,n,r,o){const a=zt(),d=Tr(),g=Un+e,_=a[Xn],D=d.firstCreatePass?function IN(e,n,r,o,a,d){const g=n.consts,D=hu(n,e,2,o,na(g,a));return _g(n,r,D,na(g,d)),null!==D.attrs&&eE(D,D.attrs,!1),null!==D.mergedAttrs&&eE(D,D.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,D),D}(g,d,a,n,r,o):d.data[g],x=DA(d,a,D,_,n,e);a[g]=x;const G=wd(D);return Us(D,!0),y_(_,x,D),!function Fg(e){return!(32&~e.flags)}(D)&&Lc()&&fg(d,a,x,D),0===function Fc(){return fr.lFrame.elementDepthCount}()&&Cs(x,a),function Uu(){fr.lFrame.elementDepthCount++}(),G&&(mg(d,a,D),Dl(d,D,a)),null!==o&&sh(a,D),gE}function mE(){let e=ui();Zl()?ju():(e=e.parent,Us(e,!1));const n=e;(function mp(e){return fr.skipHydrationRootTNode===e})(n)&&function vp(){fr.skipHydrationRootTNode=null}(),function Bu(){fr.lFrame.elementDepthCount--}();const r=Tr();return r.firstCreatePass&&(ml(r,e),so(e)&&r.queries.elementEnd(e)),null!=n.classesWithoutHost&&function vy(e){return!!(8&e.flags)}(n)&&L0(r,n,zt(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function Tm(e){return!!(16&e.flags)}(n)&&L0(r,n,zt(),n.stylesWithoutHost,!1),mE}function H0(e,n,r,o){return gE(e,n,r,o),mE(),H0}let DA=(e,n,r,o,a,d)=>($s(!0),it(o,a,function Gu(){return fr.lFrame.currentNamespace}()));function vE(e,n,r){const o=zt(),a=Tr(),d=e+Un,g=a.firstCreatePass?function DN(e,n,r,o,a){const d=n.consts,g=na(d,o),_=hu(n,e,8,"ng-container",g);return null!==g&&eE(_,g,!0),_g(n,r,_,na(d,a)),null!==n.queries&&n.queries.elementStart(n,_),_}(d,a,o,n,r):a.data[d];Us(g,!0);const _=wA(a,o,g,e);return o[d]=_,Lc()&&fg(a,o,_,g),Cs(_,o),wd(g)&&(mg(a,o,g),Dl(a,g,o)),null!=r&&sh(o,g),vE}function yE(){let e=ui();const n=Tr();return Zl()?ju():(e=e.parent,Us(e,!1)),n.firstCreatePass&&(ml(n,e),so(e)&&n.queries.elementEnd(e)),yE}function z0(e,n,r){return vE(e,n,r),yE(),z0}let wA=(e,n,r,o)=>($s(!0),Pt(n[Xn],""));function AA(){return zt()}const Jf=void 0;var SN=["en",[["a","p"],["AM","PM"],Jf],[["AM","PM"],Jf,Jf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jf,"{1} 'at' {0}",Jf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bN(e){const r=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length;return 1===r&&0===o?1:5}];let em={};function G0(e){const n=function RN(e){return e.toLowerCase().replace(/_/g,"-")}(e);let r=MA(n);if(r)return r;const o=n.split("-")[0];if(r=MA(o),r)return r;if("en"===o)return SN;throw new rn(701,!1)}function RA(e){return G0(e)[tm.PluralCase]}function MA(e){return e in em||(em[e]=Ai.ng&&Ai.ng.common&&Ai.ng.common.locales&&Ai.ng.common.locales[e]),em[e]}var tm=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(tm||{});const _E="en-US";let PA=_E,XA=(e,n,r)=>{};function q0(e,n,r,o){const a=zt(),d=Tr(),g=ui();return X0(d,a,a[Xn],g,e,n,o),q0}function X0(e,n,r,o,a,d,g){const _=wd(o),x=e.firstCreatePass&&P_(e),G=n[Si],he=Fv(n);let $e=!0;if(3&o.type||g){const Qt=Oo(o,n),En=g?g(Qt):Qt,wn=he.length,Yt=g?Yr=>g(Lr(Yr[o.index])):o.index;let wr=null;if(!g&&_&&(wr=function vO(e,n,r,o){const a=e.cleanup;if(null!=a)for(let d=0;d<a.length-1;d+=2){const g=a[d];if(g===r&&a[d+1]===o){const _=n[Is],D=a[d+2];return _.length>D?_[D]:null}"string"==typeof g&&(d+=2)}return null}(e,n,a,o.index)),null!==wr)(wr.__ngLastListenerFn__||wr).__ngNextListenerFn__=d,wr.__ngLastListenerFn__=d,$e=!1;else{d=JA(o,n,G,d),XA(Qt,a,d);const Yr=r.listen(En,a,d);he.push(d,Yr),x&&x.push(a,Yt,wn,wn+1)}}else d=JA(o,n,G,d);const et=o.outputs;let It;if($e&&null!==et&&(It=et[a])){const Qt=It.length;if(Qt)for(let En=0;En<Qt;En+=2){const Ui=n[It[En]][It[En+1]].subscribe(d),Uo=he.length;he.push(d,Ui),x&&x.push(a,o.index,Uo,-(Uo+1))}}}function ZA(e,n,r,o){const a=ae(null);try{return ya(6,n,r),!1!==r(o)}catch(d){return Va(e,d),!1}finally{ya(7,n,r),ae(a)}}function JA(e,n,r,o){return function a(d){if(d===Function)return o;Vi(e.componentOffset>-1?Ts(e.index,n):n,5);let _=ZA(n,r,o,d),D=a.__ngNextListenerFn__;for(;D;)_=ZA(n,r,D,d)&&_,D=D.__ngNextListenerFn__;return _}}function eb(e=1){return function ji(e){return(fr.lFrame.contextLView=function $h(e,n){for(;e>0;)n=n[Oc],e--;return n}(e,fr.lFrame.contextLView))[Si]}(e)}function yO(e,n){let r=null;const o=function tp(e){const n=e.attrs;if(null!=n){const r=n.indexOf(5);if(!(1&r))return n[r+1]}return null}(e);for(let a=0;a<n.length;a++){const d=n[a];if("*"!==d){if(null===o?vd(e,d,!0):I(o,d))return a}else r=a}return r}function tb(e){const n=zt()[Li][qi];if(!n.projection){const o=n.projection=function Za(e,n){const r=[];for(let o=0;o<e;o++)r.push(n);return r}(e?e.length:1,null),a=o.slice();let d=n.child;for(;null!==d;){if(128!==d.type){const g=e?yO(d,e):0;null!==g&&(a[g]?a[g].projectionNext=d:o[g]=d,a[g]=d)}d=d.next}}}function nb(e,n=0,r,o,a,d){const g=zt(),_=Tr(),D=o?e+1:null;null!==D&&Qv(g,_,D,o,a,d,null,r);const x=hu(_,Un+e,16,null,r||null);null===x.projection&&(x.projection=n),ju();const he=!g[No]||_a();null===g[Li][qi].projection[x.projection]&&null!==D?function _O(e,n,r){const o=Un+r,a=n.data[o],d=e[o],g=qf(d,a.tView.ssrId);dh(d,zc(e,a,void 0,{dehydratedView:g}),0,gu(a,g))}(g,_,D):he&&32&~x.flags&&function Cv(e,n,r){rs(n[Xn],0,n,r,_v(e,r,n),lg(r.parent||n[qi],r,n))}(_,g,x)}function hb(e,n,r,o){!function tw(e,n,r,o){const a=Tr();if(a.firstCreatePass){const d=ui();nw(a,new YD(n,r,o),d.index),function TM(e,n){const r=e.contentQueries||(e.contentQueries=[]);n!==(r.length?r[r.length-1]:-1)&&r.push(e.queries.length-1,n)}(a,e),!(2&~r)&&(a.staticContentQueries=!0)}return JD(a,zt(),r)}(e,n,r,o)}function fb(e,n,r){!function ew(e,n,r){const o=Tr();return o.firstCreatePass&&(nw(o,new YD(e,n,r),-1),!(2&~n)&&(o.staticViewQueries=!0)),JD(o,zt(),n)}(e,n,r)}function pb(e){const n=zt(),r=Tr(),o=p();E(o+1);const a=p0(r,o);if(e.dirty&&function Pd(e){return!(4&~e[Wn])}(n)===!(2&~a.metadata.flags)){if(null===a.matches)e.reset([]);else{const d=rw(n,o);e.reset(d,dc),e.notifyOnChanges()}return!0}return!1}function gb(){return function f0(e,n){return e[ta].queries[n].queryList}(zt(),p())}function wb(e,n=""){const r=zt(),o=Tr(),a=e+Un,d=o.firstCreatePass?hu(o,a,1,n,null):o.data[a],g=Ab(o,r,d,n,e);r[a]=g,Lc()&&fg(o,r,g,d),Us(d,!1)}let Ab=(e,n,r,o,a)=>($s(!0),function Et(e,n){return e.createText(n)}(n[Xn],o));function CE(e,n,r){const o=zt(),a=function Gg(e,n,r,o){return Fo(e,Ta(),r)?n+mn(r)+o:mr}(o,e,n,r);return a!==mr&&function Ua(e,n,r){const o=sc(n,e);!function Ct(e,n,r){e.setValue(n,r)}(e[Xn],o,r)}(o,pi(),a),CE}function Z0(e,n,r){cw(n)&&(n=n());const o=zt();return Fo(o,Ta(),n)&&ws(Tr(),di(),o,e,n,o[Xn],r,!1),Z0}function Fb(e,n){const r=cw(e);return r&&e.set(n),r}function J0(e,n){const r=zt(),o=Tr(),a=ui();return X0(o,r,r[Xn],a,e,n),J0}function eT(e,n,r,o,a){if(e=jn(e),Array.isArray(e))for(let d=0;d<e.length;d++)eT(e[d],n,r,o,a);else{const d=Tr(),g=zt(),_=ui();let D=Rc(e)?e:jn(e.provide);const x=ea(e),G=1048575&_.providerIndexes,he=_.directiveStart,$e=_.providerIndexes>>20;if(Rc(e)||!e.multi){const et=new qh(x,a,du),It=nT(D,n,a?G:G+$e,he);-1===It?(Jl(Cp(_,g),d,D),tT(d,e,n.length),n.push(D),_.directiveStart++,_.directiveEnd++,a&&(_.providerIndexes+=1048576),r.push(et),g.push(et)):(r[It]=et,g[It]=et)}else{const et=nT(D,n,G+$e,he),It=nT(D,n,G,G+$e),En=It>=0&&r[It];if(a&&!En||!a&&!(et>=0&&r[et])){Jl(Cp(_,g),d,D);const wn=function BO(e,n,r,o,a){const d=new qh(e,r,du);return d.multi=[],d.index=n,d.componentProviders=0,Ub(d,a,o&&!r),d}(a?UO:VO,r.length,a,o,x);!a&&En&&(r[It].providerFactory=wn),tT(d,e,n.length,0),n.push(D),_.directiveStart++,_.directiveEnd++,a&&(_.providerIndexes+=1048576),r.push(wn),g.push(wn)}else tT(d,e,et>-1?et:It,Ub(r[a?It:et],x,!a&&o));!a&&o&&En&&r[It].componentProviders++}}}function tT(e,n,r,o){const a=Rc(n),d=function _d(e){return!!e.useClass}(n);if(a||d){const D=(d?jn(n.useClass):n).prototype.ngOnDestroy;if(D){const x=e.destroyHooks||(e.destroyHooks=[]);if(!a&&n.multi){const G=x.indexOf(r);-1===G?x.push(r,[o,D]):x[G+1].push(o,D)}else x.push(r,D)}}}function Ub(e,n,r){return r&&e.componentProviders++,e.multi.push(n)-1}function nT(e,n,r,o){for(let a=r;a<o;a++)if(n[a]===e)return a;return-1}function VO(e,n,r,o){return rT(this.multi,[])}function UO(e,n,r,o){const a=this.multi;let d;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=yl(r,r[fn],this.providerFactory.index,o);d=_.slice(0,g),rT(a,d);for(let D=g;D<_.length;D++)d.push(_[D])}else d=[],rT(a,d);return d}function rT(e,n){for(let r=0;r<e.length;r++)n.push((0,e[r])());return n}function Bb(e,n=[]){return r=>{r.providersResolver=(o,a)=>function LO(e,n,r){const o=Tr();if(o.firstCreatePass){const a=Vs(e);eT(r,o.data,o.blueprint,a,!0),eT(n,o.data,o.blueprint,a,!1)}}(o,a?a(e):e,n)}}let $O=(()=>{class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const o=Js(0,r.type),a=o.length>0?_0([o],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,a)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=dr({token:e,providedIn:"environment",factory:()=>new e(ar(es))})}}return e})();function $b(e){Da("NgStandalone"),e.getStandaloneInjector=n=>n.get($O).getOrCreateStandaloneInjector(e)}class uS{constructor(n){this.full=n;const r=n.split(".");this.major=r[0],this.minor=r[1],this.patch=r.slice(2).join(".")}}const Mx=new uS("18.2.5");let dS=(()=>{class e{log(r){console.log(r)}warn(r){console.warn(r)}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const mS=new rr(""),vS=new rr("");let lT,n1=(()=>{class e{constructor(r,o,a){this._ngZone=r,this.registry=o,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,lT||(function r1(e){lT=e}(a),a.addToWindow(o)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(o=>!o.updateCb||!o.updateCb(r)||(clearTimeout(o.timeoutId),!1))}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,o,a){let d=-1;o&&o>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==d),r()},o)),this._callbacks.push({doneCb:r,timeoutId:d,updateCb:a})}whenStable(r,o,a){if(a&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,o,a),this._runCallbacksIfReady()}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,o,a){return[]}static{this.\u0275fac=function(o){return new(o||e)(ar(Hi),ar(yS),ar(vS))}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac})}}return e})(),yS=(()=>{class e{constructor(){this._applications=new Map}registerApplication(r,o){this._applications.set(r,o)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,o=!0){return lT?.findTestabilityInTree(this,r,o)??null}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();function uT(e){return!!e&&"function"==typeof e.then}function _S(e){return!!e&&"function"==typeof e.subscribe}const ES=new rr("");let IS=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,o)=>{this.resolve=r,this.reject=o}),this.appInits=cn(ES,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const a of this.appInits){const d=a();if(uT(d))r.push(d);else if(_S(d)){const g=new Promise((_,D)=>{d.subscribe({complete:_,error:D})});r.push(g)}}const o=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{o()}).catch(a=>{this.reject(a)}),0===r.length&&o(),this.initialized=!0}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const SE=new rr("");function CS(e,n){return Array.isArray(n)?n.reduce(CS,e):{...e,...n}}let Iu=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=cn(ky),this.afterRenderManager=cn(Ow),this.zonelessEnabled=cn(zv),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Ht.B,this.afterTick=new Ht.B,this.componentTypes=[],this.components=[],this.isStable=cn(_l).hasPendingTasks.pipe((0,Bn.T)(r=>!r)),this._injector=cn(es)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(o=>{r=this.isStable.subscribe({next:a=>{a&&o()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,o){const a=r instanceof UD;if(!this._injector.get(IS).done)throw!a&&mo(r),new rn(405,!1);let g;g=a?r:this._injector.get(Z_).resolveComponentFactory(r),this.componentTypes.push(g.componentType);const _=function i1(e){return e.isBoundToModule}(g)?void 0:this._injector.get(Xf),x=g.create(ns.NULL,[],o||g.selector,_),G=x.location.nativeElement,he=x.injector.get(mS,null);return he?.registerApplication(G),x.onDestroy(()=>{this.detachView(x.hostView),RE(this.components,x),he?.unregisterApplication(G)}),this._loadComponent(x),x}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new rn(101,!1);const r=ae(null);try{this._runningTick=!0,this.synchronize()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1,ae(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(n0,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let o=0;for(;0!==this.dirtyFlags&&o++<10;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,7&this.dirtyFlags){const o=!!(1&this.dirtyFlags);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(o);for(let{_lView:a,notifyErrorHandler:d}of this._views)a1(a,d,o,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),7&this.dirtyFlags)return}else r?.begin?.(),r?.end?.();8&this.dirtyFlags&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){this.allViews.some(({_lView:r})=>hl(r))?this.dirtyFlags|=2:this.dirtyFlags&=-8}attachView(r){const o=r;this._views.push(o),o.attachToAppRef(this)}detachView(r){const o=r;RE(this._views,o),o.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const o=this._injector.get(SE,[]);[...this._bootstrapListeners,...o].forEach(a=>a(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>RE(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new rn(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function RE(e,n){const r=e.indexOf(n);r>-1&&e.splice(r,1)}function a1(e,n,r,o){(r||hl(e))&&mc(e,n,r&&!o?0:1)}class c1{constructor(n,r){this.ngModuleFactory=n,this.componentFactories=r}}let l1=(()=>{class e{compileModuleSync(r){return new y0(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const o=this.compileModuleSync(r),d=ve(fi(r).declarations).reduce((g,_)=>{const D=Hn(_);return D&&g.push(new Kv(D)),g},[]);return new c1(o,d)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),h1=(()=>{class e{constructor(){this.zone=cn(Hi),this.changeDetectionScheduler=cn(xg),this.applicationRef=cn(Iu)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function dT({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:r}){return e??=()=>new Hi({...hT(),scheduleInRootZone:r}),[{provide:Hi,useFactory:e},{provide:ys,multi:!0,useFactory:()=>{const o=cn(h1,{optional:!0});return()=>o.initialize()}},{provide:ys,multi:!0,useFactory:()=>{const o=cn(p1);return()=>{o.initialize()}}},!0===n?{provide:VD,useValue:!0}:[],{provide:t0,useValue:r??Pm}]}function hT(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}let p1=(()=>{class e{constructor(){this.subscription=new $t.yU,this.initialized=!1,this.zone=cn(Hi),this.pendingTasks=cn(_l)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Hi.assertNotInAngularZone(),queueMicrotask(()=>{null!==r&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Hi.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),dy=(()=>{class e{constructor(){this.appRef=cn(Iu),this.taskService=cn(_l),this.ngZone=cn(Hi),this.zonelessEnabled=cn(zv),this.disableScheduling=cn(VD,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new $t.yU,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Fp):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(cn(t0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Fm||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&5===r)return;switch(r){case 0:this.appRef.dirtyFlags|=2;break;case 3:case 2:case 4:case 5:case 1:this.appRef.dirtyFlags|=4;break;case 7:this.appRef.deferredDirtyFlags|=8;break;default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;const o=this.useMicrotaskScheduler?Yu:Om;this.pendingRenderTaskId=this.taskService.add(),this.cancelScheduledCallback=this.scheduleInRootZone?Zone.root.run(()=>o(()=>this.tick())):this.ngZone.runOutsideAngular(()=>o(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||null!==this.pendingRenderTaskId||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Fp+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&7&this.appRef.dirtyFlags&&(this.appRef.dirtyFlags|=1);const r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(o){throw this.taskService.remove(r),o}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Yu(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,null!==this.pendingRenderTaskId){const r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const pT=new rr("",{providedIn:"root",factory:()=>cn(pT,Ir.Optional|Ir.SkipSelf)||function g1(){return typeof $localize<"u"&&$localize.locale||_E}()}),m1=new rr("",{providedIn:"root",factory:()=>"USD"}),gT=new rr("");function PE(e){return!!e.platformInjector}let MS=(()=>{class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,o){const a=o?.scheduleInRootZone,g=o?.ignoreChangesOutsideZone,_=[dT({ngZoneFactory:()=>function Vm(e="zone.js",n){return"noop"===e?new Fm:"zone.js"===e?new Hi(n):e}(o?.ngZone,{...hT({eventCoalescing:o?.ngZoneEventCoalescing,runCoalescing:o?.ngZoneRunCoalescing}),scheduleInRootZone:a}),ignoreChangesOutsideZone:g}),{provide:xg,useExisting:dy}],D=function HM(e,n,r){return new v0(e,n,r,!1)}(r.moduleType,this.injector,_);return function RS(e){const n=PE(e)?e.r3Injector:e.moduleRef.injector,r=n.get(Hi);return r.run(()=>{PE(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();const o=n.get(Bc,null);let a;if(r.runOutsideAngular(()=>{a=r.onError.subscribe({next:d=>{o.handleError(d)}})}),PE(e)){const d=()=>n.destroy(),g=e.platformInjector.get(gT);g.add(d),n.onDestroy(()=>{a.unsubscribe(),g.delete(d)})}else e.moduleRef.onDestroy(()=>{RE(e.allPlatformModules,e.moduleRef),a.unsubscribe()});return function s1(e,n,r){try{const o=r();return uT(o)?o.catch(a=>{throw n.runOutsideAngular(()=>e.handleError(a)),a}):o}catch(o){throw n.runOutsideAngular(()=>e.handleError(o)),o}}(o,r,()=>{const d=n.get(IS);return d.runInitializers(),d.donePromise.then(()=>{if(function ON(e){"string"==typeof e&&(PA=e.toLowerCase().replace(/_/g,"-"))}(n.get(pT,_E)||_E),PE(e)){const _=n.get(Iu);return void 0!==e.rootComponent&&_.bootstrap(e.rootComponent),_}return function I1(e,n){const r=e.injector.get(Iu);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(o=>r.bootstrap(o));else{if(!e.instance.ngDoBootstrap)throw new rn(-403,!1);e.instance.ngDoBootstrap(r)}n.push(e)}(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}({moduleRef:D,allPlatformModules:this._modules})}bootstrapModule(r,o=[]){const a=CS({},o);return function d1(e,n,r){const o=new y0(r);return Promise.resolve(o)}(0,0,r).then(d=>this.bootstrapModuleFactory(d,a))}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new rn(404,!1);this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o());const r=this._injector.get(gT,null);r&&(r.forEach(o=>o()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(o){return new(o||e)(ar(ns))}}static{this.\u0275prov=dr({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})(),Ah=null;const PS=new rr("");function NS(e,n,r=[]){const o=`Platform: ${n}`,a=new rr(o);return(d=[])=>{let g=mT();if(!g||g.injector.get(PS,!1)){const _=[...r,...d,{provide:a,useValue:!0}];e?e(_):function T1(e){if(Ah&&!Ah.get(PS,!1))throw new rn(400,!1);(function TS(){!function _e(e){vn=e}(()=>{throw new rn(600,!1)})})(),Ah=e;const n=e.get(MS);(function xS(e){e.get(hf,null)?.forEach(r=>r())})(e)}(function OS(e=[],n){return ns.create({name:n,providers:[{provide:ol,useValue:"platform"},{provide:gT,useValue:new Set([()=>Ah=null])},...e]})}(_,o))}return function C1(){const n=mT();if(!n)throw new rn(401,!1);return n}()}}function mT(){return Ah?.get(MS)??null}function w1(){return!1}let FS=(()=>{class e{static{this.__NG_ELEMENT_ID__=A1}}return e})();function A1(e){return function b1(e,n,r){if(cl(e)&&!r){const o=Ts(e.index,n);return new jf(o,o)}return 175&e.type?new jf(n[Li],n):null}(ui(),zt(),!(16&~e))}class BS{constructor(){}supports(n){return iE(n)}create(n){return new N1(n)}}const P1=(e,n)=>n;class N1{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||P1}forEachItem(n){let r;for(r=this._itHead;null!==r;r=r._next)n(r)}forEachOperation(n){let r=this._itHead,o=this._removalsHead,a=0,d=null;for(;r||o;){const g=!o||r&&r.currentIndex<jS(o,a,d)?r:o,_=jS(g,a,d),D=g.currentIndex;if(g===o)a--,o=o._nextRemoved;else if(r=r._next,null==g.previousIndex)a++;else{d||(d=[]);const x=_-a,G=D-a;if(x!=G){for(let $e=0;$e<x;$e++){const et=$e<d.length?d[$e]:d[$e]=0,It=et+$e;G<=It&&It<x&&(d[$e]=et+1)}d[g.previousIndex]=G-x}}_!==D&&n(g,_,D)}}forEachPreviousItem(n){let r;for(r=this._previousItHead;null!==r;r=r._nextPrevious)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachMovedItem(n){let r;for(r=this._movesHead;null!==r;r=r._nextMoved)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}forEachIdentityChange(n){let r;for(r=this._identityChangesHead;null!==r;r=r._nextIdentityChange)n(r)}diff(n){if(null==n&&(n=[]),!iE(n))throw new rn(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let a,d,g,r=this._itHead,o=!1;if(Array.isArray(n)){this.length=n.length;for(let _=0;_<this.length;_++)d=n[_],g=this._trackByFn(_,d),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,d,g,_)),Object.is(r.item,d)||this._addIdentityChange(r,d)):(r=this._mismatch(r,d,g,_),o=!0),r=r._next}else a=0,function WM(e,n){if(Array.isArray(e))for(let r=0;r<e.length;r++)n(e[r]);else{const r=e[Symbol.iterator]();let o;for(;!(o=r.next()).done;)n(o.value)}}(n,_=>{g=this._trackByFn(a,_),null!==r&&Object.is(r.trackById,g)?(o&&(r=this._verifyReinsertion(r,_,g,a)),Object.is(r.item,_)||this._addIdentityChange(r,_)):(r=this._mismatch(r,_,g,a),o=!0),r=r._next,a++}),this.length=a;return this._truncate(r),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,r,o,a){let d;return null===n?d=this._itTail:(d=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._reinsertAfter(n,d,a)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(o,a))?(Object.is(n.item,r)||this._addIdentityChange(n,r),this._moveAfter(n,d,a)):n=this._addAfter(new O1(r,o),d,a),n}_verifyReinsertion(n,r,o,a){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(o,null);return null!==d?n=this._reinsertAfter(d,n._prev,a):n.currentIndex!=a&&(n.currentIndex=a,this._addToMoves(n,a)),n}_truncate(n){for(;null!==n;){const r=n._next;this._addToRemovals(this._unlink(n)),n=r}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,r,o){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const a=n._prevRemoved,d=n._nextRemoved;return null===a?this._removalsHead=d:a._nextRemoved=d,null===d?this._removalsTail=a:d._prevRemoved=a,this._insertAfter(n,r,o),this._addToMoves(n,o),n}_moveAfter(n,r,o){return this._unlink(n),this._insertAfter(n,r,o),this._addToMoves(n,o),n}_addAfter(n,r,o){return this._insertAfter(n,r,o),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,r,o){const a=null===r?this._itHead:r._next;return n._next=a,n._prev=r,null===a?this._itTail=n:a._prev=n,null===r?this._itHead=n:r._next=n,null===this._linkedRecords&&(this._linkedRecords=new $S),this._linkedRecords.put(n),n.currentIndex=o,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const r=n._prev,o=n._next;return null===r?this._itHead=o:r._next=o,null===o?this._itTail=r:o._prev=r,n}_addToMoves(n,r){return n.previousIndex===r||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new $S),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,r){return n.item=r,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class O1{constructor(n,r){this.item=n,this.trackById=r,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class x1{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,r){let o;for(o=this._head;null!==o;o=o._nextDup)if((null===r||r<=o.currentIndex)&&Object.is(o.trackById,n))return o;return null}remove(n){const r=n._prevDup,o=n._nextDup;return null===r?this._head=o:r._nextDup=o,null===o?this._tail=r:o._prevDup=r,null===this._head}}class $S{constructor(){this.map=new Map}put(n){const r=n.trackById;let o=this.map.get(r);o||(o=new x1,this.map.set(r,o)),o.add(n)}get(n,r){const a=this.map.get(n);return a?a.get(n,r):null}remove(n){const r=n.trackById;return this.map.get(r).remove(n)&&this.map.delete(r),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jS(e,n,r){const o=e.previousIndex;if(null===o)return o;let a=0;return r&&o<r.length&&(a=r[o]),o+n+a}class HS{constructor(){}supports(n){return n instanceof Map||E0(n)}create(){return new k1}}class k1{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let r;for(r=this._mapHead;null!==r;r=r._next)n(r)}forEachPreviousItem(n){let r;for(r=this._previousMapHead;null!==r;r=r._nextPrevious)n(r)}forEachChangedItem(n){let r;for(r=this._changesHead;null!==r;r=r._nextChanged)n(r)}forEachAddedItem(n){let r;for(r=this._additionsHead;null!==r;r=r._nextAdded)n(r)}forEachRemovedItem(n){let r;for(r=this._removalsHead;null!==r;r=r._nextRemoved)n(r)}diff(n){if(n){if(!(n instanceof Map||E0(n)))throw new rn(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let r=this._mapHead;if(this._appendAfter=null,this._forEach(n,(o,a)=>{if(r&&r.key===a)this._maybeAddToChanges(r,o),this._appendAfter=r,r=r._next;else{const d=this._getOrCreateRecordForKey(a,o);r=this._insertBeforeOrAppend(r,d)}}),r){r._prev&&(r._prev._next=null),this._removalsHead=r;for(let o=r;null!==o;o=o._nextRemoved)o===this._mapHead&&(this._mapHead=null),this._records.delete(o.key),o._nextRemoved=o._next,o.previousValue=o.currentValue,o.currentValue=null,o._prev=null,o._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,r){if(n){const o=n._prev;return r._next=n,r._prev=o,n._prev=r,o&&(o._next=r),n===this._mapHead&&(this._mapHead=r),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=r,r._prev=this._appendAfter):this._mapHead=r,this._appendAfter=r,null}_getOrCreateRecordForKey(n,r){if(this._records.has(n)){const a=this._records.get(n);this._maybeAddToChanges(a,r);const d=a._prev,g=a._next;return d&&(d._next=g),g&&(g._prev=d),a._next=null,a._prev=null,a}const o=new F1(n);return this._records.set(n,o),o.currentValue=r,this._addToAdditions(o),o}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,r){Object.is(r,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=r,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,r){n instanceof Map?n.forEach(r):Object.keys(n).forEach(o=>r(n[o],o))}}class F1{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function zS(){return new IT([new BS])}let IT=(()=>{class e{static{this.\u0275prov=dr({token:e,providedIn:"root",factory:zS})}constructor(r){this.factories=r}static create(r,o){if(null!=o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||zS()),deps:[[e,new Jo,new ho]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(null!=o)return o;throw new rn(901,!1)}}return e})();function GS(){return new TT([new HS])}let TT=(()=>{class e{static{this.\u0275prov=dr({token:e,providedIn:"root",factory:GS})}constructor(r){this.factories=r}static create(r,o){if(o){const a=o.factories.slice();r=r.concat(a)}return new e(r)}static extend(r){return{provide:e,useFactory:o=>e.create(r,o||GS()),deps:[[e,new Jo,new ho]]}}find(r){const o=this.factories.find(a=>a.supports(r));if(o)return o;throw new rn(901,!1)}}return e})();const U1=NS(null,"core",[]);let B1=(()=>{class e{constructor(r){}static{this.\u0275fac=function(o){return new(o||e)(ar(Iu))}}static{this.\u0275mod=yt({type:e})}static{this.\u0275inj=Qr({})}}return e})();const aR=new rr("");function vk(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}function _k(e,n){Da("NgSignals");const r=function Tt(e){const n=Object.create(pn);n.computation=e;const r=()=>{if(Ve(n),le(n),n.value===Vt)throw n.error;return n.value};return r[be]=n,r}(e);return n?.equal&&(r[be].equal=n.equal),r}function Ek(e){const n=ae(null);try{return e()}finally{ae(n)}}function Ak(e,n){const r=Hn(e),o=n.elementInjector||Ed();return new Kv(r).create(o,n.projectableNodes,n.hostElement,n.environmentInjector)}function bk(e){const n=Hn(e);if(!n)return null;const r=new Kv(n);return{get selector(){return r.selector},get type(){return r.componentType},get inputs(){return r.inputs},get outputs(){return r.outputs},get ngContentSelectors(){return r.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}},1182:(un,ft,O)=>{"use strict";O.d(ft,{DS:()=>we,X8:()=>gt,$z:()=>_e,UB:()=>Q,yy:()=>vn,ZP:()=>pt,AU:()=>q,CP:()=>qt,gF:()=>re}),O(7955);var L=O(177),ce=O(3953),Z=O(1825),be=O(9253),ae=O(1413),Ae=O(7673),Fe=O(1985),Ge=O(8455),ye=O(6365),le=O(8750),Oe=O(983),Ve=O(3794),Qe=O(941),rt=O(5558),Ze=O(6354),He=O(6129);class st extends ae.B{constructor(ht=1/0,qe=1/0,en=He.U){super(),this._bufferSize=ht,this._windowTime=qe,this._timestampProvider=en,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=qe===1/0,this._bufferSize=Math.max(1,ht),this._windowTime=Math.max(1,qe)}next(ht){const{isStopped:qe,_buffer:en,_infiniteTimeWindow:Mt,_timestampProvider:ut,_windowTime:Jt}=this;qe||(en.push(ht),!Mt&&en.push(ut.now()+Jt)),this._trimBuffer(),super.next(ht)}_subscribe(ht){this._throwIfClosed(),this._trimBuffer();const qe=this._innerSubscribe(ht),{_infiniteTimeWindow:en,_buffer:Mt}=this,ut=Mt.slice();for(let Jt=0;Jt<ut.length&&!ht.closed;Jt+=en?1:2)ht.next(ut[Jt]);return this._checkFinalizedStatuses(ht),qe}_trimBuffer(){const{_bufferSize:ht,_timestampProvider:qe,_buffer:en,_infiniteTimeWindow:Mt}=this,ut=(Mt?1:2)*ht;if(ht<1/0&&ut<en.length&&en.splice(0,en.length-ut),!Mt){const Jt=qe.now();let Cn=0;for(let Dn=1;Dn<en.length&&en[Dn]<=Jt;Dn+=2)Cn=Dn;Cn&&en.splice(0,Cn+1)}}}var pe=O(7707),Je=O(9974);function me(Ie,ht,...qe){if(!0===ht)return void Ie();if(!1===ht)return;const en=new pe.Ms({next:()=>{en.unsubscribe(),Ie()}});return(0,le.Tg)(ht(...qe)).subscribe(en)}function je(Ie,ht,qe){let en,Mt=!1;return Ie&&"object"==typeof Ie?({bufferSize:en=1/0,windowTime:ht=1/0,refCount:Mt=!1,scheduler:qe}=Ie):en=Ie??1/0,function ge(Ie={}){const{connector:ht=()=>new ae.B,resetOnError:qe=!0,resetOnComplete:en=!0,resetOnRefCountZero:Mt=!0}=Ie;return ut=>{let Jt,Cn,Dn,Ht=0,$t=!1,Bn=!1;const xt=()=>{Cn?.unsubscribe(),Cn=void 0},Se=()=>{xt(),Jt=Dn=void 0,$t=Bn=!1},Pe=()=>{const _t=Jt;Se(),_t?.unsubscribe()};return(0,Je.N)((_t,nn)=>{Ht++,!Bn&&!$t&&xt();const An=Dn=Dn??ht();nn.add(()=>{Ht--,0===Ht&&!Bn&&!$t&&(Cn=me(Pe,Mt))}),An.subscribe(nn),!Jt&&Ht>0&&(Jt=new pe.Ms({next:hr=>An.next(hr),error:hr=>{Bn=!0,xt(),Cn=me(Se,qe,hr),An.error(hr)},complete:()=>{$t=!0,xt(),Cn=me(Se,en),An.complete()}}),(0,le.Tg)(_t).subscribe(Jt))})(ut)}}({connector:()=>new st(en,ht,qe),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Mt})}var Ye=O(1594),Ue=O(8071);function Tt(Ie,ht){return(0,Ue.T)(ht)?(0,rt.n)(()=>Ie,ht):(0,rt.n)(()=>Ie)}var Re=O(6745),Ft=O(5964),Vt=O(7935);const qt=new ce.nKC("angularfire2.auth.use-emulator"),vn=new ce.nKC("angularfire2.auth.settings"),pt=new ce.nKC("angularfire2.auth.tenant-id"),_e=new ce.nKC("angularfire2.auth.langugage-code"),q=new ce.nKC("angularfire2.auth.use-device-language"),Q=new ce.nKC("angularfire.auth.persistence"),re=(Ie,ht,qe,en,Mt,ut,Jt,Cn)=>(0,be.BM)(`${Ie.name}.auth`,"AngularFireAuth",Ie.name,()=>{const Dn=ht.runOutsideAngular(()=>Ie.auth());if(qe&&Dn.useEmulator(...qe),en&&(Dn.tenantId=en),Dn.languageCode=Mt,ut&&Dn.useDeviceLanguage(),Jt)for(const[Ht,$t]of Object.entries(Jt))Dn.settings[Ht]=$t;return Cn&&Dn.setPersistence(Cn),Dn},[qe,en,Mt,ut,Jt,Cn]);let we=(()=>{class Ie{authState;idToken;user;idTokenResult;credential;constructor(qe,en,Mt,ut,Jt,Cn,Dn,Ht,$t,Bn,xt,Se){const Pe=new ae.B,_t=(0,Ae.of)(void 0).pipe((0,Qe.Q)(Jt.outsideAngular),(0,rt.n)(()=>ut.runOutsideAngular(()=>Promise.resolve().then(O.bind(O,7955)))),(0,Ze.T)(()=>(0,be.iB)(qe,ut,en)),(0,Ze.T)(nn=>re(nn,ut,Cn,Ht,$t,Bn,Dn,xt)),je({bufferSize:1,refCount:!1}));if((0,L.Vy)(Mt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Ae.of)(null);else{_t.pipe((0,Ye.$)()).subscribe();const nn=_t.pipe((0,rt.n)(Mn=>Mn.getRedirectResult().then(yn=>yn,()=>null)),Z.U0,je({bufferSize:1,refCount:!1})),An=_t.pipe((0,rt.n)(Mn=>new Fe.c(yn=>({unsubscribe:ut.runOutsideAngular(()=>Mn.onAuthStateChanged(kt=>yn.next(kt),kt=>yn.error(kt),()=>yn.complete()))})))),hr=_t.pipe((0,rt.n)(Mn=>new Fe.c(yn=>({unsubscribe:ut.runOutsideAngular(()=>Mn.onIdTokenChanged(kt=>yn.next(kt),kt=>yn.error(kt),()=>yn.complete()))}))));this.authState=nn.pipe(Tt(An),(0,Re._)(Jt.outsideAngular),(0,Qe.Q)(Jt.insideAngular)),this.user=nn.pipe(Tt(hr),(0,Re._)(Jt.outsideAngular),(0,Qe.Q)(Jt.insideAngular)),this.idToken=this.user.pipe((0,rt.n)(Mn=>Mn?(0,Ge.H)(Mn.getIdToken()):(0,Ae.of)(null))),this.idTokenResult=this.user.pipe((0,rt.n)(Mn=>Mn?(0,Ge.H)(Mn.getIdTokenResult()):(0,Ae.of)(null))),this.credential=function ke(...Ie){const ht=(0,Ve.lI)(Ie),qe=(0,Ve.R0)(Ie,1/0),en=Ie;return en.length?1===en.length?(0,le.Tg)(en[0]):(0,ye.U)(qe)((0,Ge.H)(en,ht)):Oe.w}(nn,Pe,this.authState.pipe((0,Ft.p)(Mn=>!Mn))).pipe((0,Ze.T)(Mn=>Mn?.user?Mn:null),(0,Re._)(Jt.outsideAngular),(0,Qe.Q)(Jt.insideAngular))}return(0,be.Gt)(this,_t,ut,{spy:{apply:(nn,An,hr)=>{(nn.startsWith("signIn")||nn.startsWith("createUser"))&&hr.then(Mn=>Pe.next(Mn))}}})}static \u0275fac=function(en){return new(en||Ie)(ce.KVO(be.rx),ce.KVO(be.uP,8),ce.KVO(ce.Agw),ce.KVO(ce.SKi),ce.KVO(Z.u0),ce.KVO(qt,8),ce.KVO(vn,8),ce.KVO(pt,8),ce.KVO(_e,8),ce.KVO(q,8),ce.KVO(Q,8),ce.KVO(Z.Jv,8))};static \u0275prov=ce.jDH({token:Ie,factory:Ie.\u0275fac,providedIn:"any"})}return Ie})(),gt=(()=>{class Ie{constructor(){Vt.A.registerVersion("angularfire",Z.xv.full,"auth-compat")}static \u0275fac=function(en){return new(en||Ie)};static \u0275mod=ce.$C({type:Ie});static \u0275inj=ce.G2t({providers:[we]})}return Ie})()},8079:(un,ft,O)=>{"use strict";O.d(ft,{Qe:()=>LI,cM:()=>wD});var c=O(177),L=O(3953),ce=O(1825),Z=O(9253),be=O(1182),ae=O(3236),Ae=O(1985),Fe=O(8455),Ge=O(7673),ye=O(9172),le=O(9974),Oe=O(4360);function Ve(){return(0,le.N)((l,t)=>{let i,s=!1;l.subscribe((0,Oe._)(t,u=>{const f=i;i=u,s&&t.next([f,u]),s=!0}))})}var Tt,Re,ke=O(6354),Qe=O(2816),rt=O(3294),Ze=O(5964),st=(O(7955),O(3345)),pe=O(467),Je=O(7852),ge=O(1362),me=O(8041),je=O(1076),Ye=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ue={};(function(){var l;function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function u(mt,We,ot){ot||(ot=0);var Et=Array(16);if("string"==typeof We)for(var Ct=0;16>Ct;++Ct)Et[Ct]=We.charCodeAt(ot++)|We.charCodeAt(ot++)<<8|We.charCodeAt(ot++)<<16|We.charCodeAt(ot++)<<24;else for(Ct=0;16>Ct;++Ct)Et[Ct]=We[ot++]|We[ot++]<<8|We[ot++]<<16|We[ot++]<<24;var Pt=mt.g[3],it=(We=mt.g[0])+(Pt^(ot=mt.g[1])&((Ct=mt.g[2])^Pt))+Et[0]+3614090360&4294967295;it=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=(ot=(Ct=(Pt=(We=ot+(it<<7&4294967295|it>>>25))+((it=Pt+(Ct^We&(ot^Ct))+Et[1]+3905402710&4294967295)<<12&4294967295|it>>>20))+((it=Ct+(ot^Pt&(We^ot))+Et[2]+606105819&4294967295)<<17&4294967295|it>>>15))+((it=ot+(We^Ct&(Pt^We))+Et[3]+3250441966&4294967295)<<22&4294967295|it>>>10))+((it=We+(Pt^ot&(Ct^Pt))+Et[4]+4118548399&4294967295)<<7&4294967295|it>>>25))+((it=Pt+(Ct^We&(ot^Ct))+Et[5]+1200080426&4294967295)<<12&4294967295|it>>>20))+((it=Ct+(ot^Pt&(We^ot))+Et[6]+2821735955&4294967295)<<17&4294967295|it>>>15))+((it=ot+(We^Ct&(Pt^We))+Et[7]+4249261313&4294967295)<<22&4294967295|it>>>10))+((it=We+(Pt^ot&(Ct^Pt))+Et[8]+1770035416&4294967295)<<7&4294967295|it>>>25))+((it=Pt+(Ct^We&(ot^Ct))+Et[9]+2336552879&4294967295)<<12&4294967295|it>>>20))+((it=Ct+(ot^Pt&(We^ot))+Et[10]+4294925233&4294967295)<<17&4294967295|it>>>15))+((it=ot+(We^Ct&(Pt^We))+Et[11]+2304563134&4294967295)<<22&4294967295|it>>>10))+((it=We+(Pt^ot&(Ct^Pt))+Et[12]+1804603682&4294967295)<<7&4294967295|it>>>25))+((it=Pt+(Ct^We&(ot^Ct))+Et[13]+4254626195&4294967295)<<12&4294967295|it>>>20))+((it=Ct+(ot^Pt&(We^ot))+Et[14]+2792965006&4294967295)<<17&4294967295|it>>>15))+((it=ot+(We^Ct&(Pt^We))+Et[15]+1236535329&4294967295)<<22&4294967295|it>>>10))+((it=We+(Ct^Pt&(ot^Ct))+Et[1]+4129170786&4294967295)<<5&4294967295|it>>>27))+((it=Pt+(ot^Ct&(We^ot))+Et[6]+3225465664&4294967295)<<9&4294967295|it>>>23))+((it=Ct+(We^ot&(Pt^We))+Et[11]+643717713&4294967295)<<14&4294967295|it>>>18))+((it=ot+(Pt^We&(Ct^Pt))+Et[0]+3921069994&4294967295)<<20&4294967295|it>>>12))+((it=We+(Ct^Pt&(ot^Ct))+Et[5]+3593408605&4294967295)<<5&4294967295|it>>>27))+((it=Pt+(ot^Ct&(We^ot))+Et[10]+38016083&4294967295)<<9&4294967295|it>>>23))+((it=Ct+(We^ot&(Pt^We))+Et[15]+3634488961&4294967295)<<14&4294967295|it>>>18))+((it=ot+(Pt^We&(Ct^Pt))+Et[4]+3889429448&4294967295)<<20&4294967295|it>>>12))+((it=We+(Ct^Pt&(ot^Ct))+Et[9]+568446438&4294967295)<<5&4294967295|it>>>27))+((it=Pt+(ot^Ct&(We^ot))+Et[14]+3275163606&4294967295)<<9&4294967295|it>>>23))+((it=Ct+(We^ot&(Pt^We))+Et[3]+4107603335&4294967295)<<14&4294967295|it>>>18))+((it=ot+(Pt^We&(Ct^Pt))+Et[8]+1163531501&4294967295)<<20&4294967295|it>>>12))+((it=We+(Ct^Pt&(ot^Ct))+Et[13]+2850285829&4294967295)<<5&4294967295|it>>>27))+((it=Pt+(ot^Ct&(We^ot))+Et[2]+4243563512&4294967295)<<9&4294967295|it>>>23))+((it=Ct+(We^ot&(Pt^We))+Et[7]+1735328473&4294967295)<<14&4294967295|it>>>18))+((it=ot+(Pt^We&(Ct^Pt))+Et[12]+2368359562&4294967295)<<20&4294967295|it>>>12))+((it=We+(ot^Ct^Pt)+Et[5]+4294588738&4294967295)<<4&4294967295|it>>>28))+((it=Pt+(We^ot^Ct)+Et[8]+2272392833&4294967295)<<11&4294967295|it>>>21))+((it=Ct+(Pt^We^ot)+Et[11]+1839030562&4294967295)<<16&4294967295|it>>>16))+((it=ot+(Ct^Pt^We)+Et[14]+4259657740&4294967295)<<23&4294967295|it>>>9))+((it=We+(ot^Ct^Pt)+Et[1]+2763975236&4294967295)<<4&4294967295|it>>>28))+((it=Pt+(We^ot^Ct)+Et[4]+1272893353&4294967295)<<11&4294967295|it>>>21))+((it=Ct+(Pt^We^ot)+Et[7]+4139469664&4294967295)<<16&4294967295|it>>>16))+((it=ot+(Ct^Pt^We)+Et[10]+3200236656&4294967295)<<23&4294967295|it>>>9))+((it=We+(ot^Ct^Pt)+Et[13]+681279174&4294967295)<<4&4294967295|it>>>28))+((it=Pt+(We^ot^Ct)+Et[0]+3936430074&4294967295)<<11&4294967295|it>>>21))+((it=Ct+(Pt^We^ot)+Et[3]+3572445317&4294967295)<<16&4294967295|it>>>16))+((it=ot+(Ct^Pt^We)+Et[6]+76029189&4294967295)<<23&4294967295|it>>>9))+((it=We+(ot^Ct^Pt)+Et[9]+3654602809&4294967295)<<4&4294967295|it>>>28))+((it=Pt+(We^ot^Ct)+Et[12]+3873151461&4294967295)<<11&4294967295|it>>>21))+((it=Ct+(Pt^We^ot)+Et[15]+530742520&4294967295)<<16&4294967295|it>>>16))+((it=ot+(Ct^Pt^We)+Et[2]+3299628645&4294967295)<<23&4294967295|it>>>9))+((it=We+(Ct^(ot|~Pt))+Et[0]+4096336452&4294967295)<<6&4294967295|it>>>26))+((it=Pt+(ot^(We|~Ct))+Et[7]+1126891415&4294967295)<<10&4294967295|it>>>22))+((it=Ct+(We^(Pt|~ot))+Et[14]+2878612391&4294967295)<<15&4294967295|it>>>17))+((it=ot+(Pt^(Ct|~We))+Et[5]+4237533241&4294967295)<<21&4294967295|it>>>11))+((it=We+(Ct^(ot|~Pt))+Et[12]+1700485571&4294967295)<<6&4294967295|it>>>26))+((it=Pt+(ot^(We|~Ct))+Et[3]+2399980690&4294967295)<<10&4294967295|it>>>22))+((it=Ct+(We^(Pt|~ot))+Et[10]+4293915773&4294967295)<<15&4294967295|it>>>17))+((it=ot+(Pt^(Ct|~We))+Et[1]+2240044497&4294967295)<<21&4294967295|it>>>11))+((it=We+(Ct^(ot|~Pt))+Et[8]+1873313359&4294967295)<<6&4294967295|it>>>26))+((it=Pt+(ot^(We|~Ct))+Et[15]+4264355552&4294967295)<<10&4294967295|it>>>22))+((it=Ct+(We^(Pt|~ot))+Et[6]+2734768916&4294967295)<<15&4294967295|it>>>17))+((it=ot+(Pt^(Ct|~We))+Et[13]+1309151649&4294967295)<<21&4294967295|it>>>11))+((Pt=(We=ot+((it=We+(Ct^(ot|~Pt))+Et[4]+4149444226&4294967295)<<6&4294967295|it>>>26))+((it=Pt+(ot^(We|~Ct))+Et[11]+3174756917&4294967295)<<10&4294967295|it>>>22))^((Ct=Pt+((it=Ct+(We^(Pt|~ot))+Et[2]+718787259&4294967295)<<15&4294967295|it>>>17))|~We))+Et[9]+3951481745&4294967295,mt.g[0]=mt.g[0]+We&4294967295,mt.g[1]=mt.g[1]+(Ct+(it<<21&4294967295|it>>>11))&4294967295,mt.g[2]=mt.g[2]+Ct&4294967295,mt.g[3]=mt.g[3]+Pt&4294967295}function v(mt,We){this.h=We;for(var ot=[],Et=!0,Ct=mt.length-1;0<=Ct;Ct--){var Pt=0|mt[Ct];Et&&Pt==We||(ot[Ct]=Pt,Et=!1)}this.g=ot}(function t(mt,We){function ot(){}ot.prototype=We.prototype,mt.D=We.prototype,mt.prototype=new ot,mt.prototype.constructor=mt,mt.C=function(Et,Ct,Pt){for(var it=Array(arguments.length-2),Cl=2;Cl<arguments.length;Cl++)it[Cl-2]=arguments[Cl];return We.prototype[Ct].apply(Et,it)}})(s,function i(){this.blockSize=-1}),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},s.prototype.u=function(mt,We){void 0===We&&(We=mt.length);for(var ot=We-this.blockSize,Et=this.B,Ct=this.h,Pt=0;Pt<We;){if(0==Ct)for(;Pt<=ot;)u(this,mt,Pt),Pt+=this.blockSize;if("string"==typeof mt){for(;Pt<We;)if(Et[Ct++]=mt.charCodeAt(Pt++),Ct==this.blockSize){u(this,Et),Ct=0;break}}else for(;Pt<We;)if(Et[Ct++]=mt[Pt++],Ct==this.blockSize){u(this,Et),Ct=0;break}}this.h=Ct,this.o+=We},s.prototype.v=function(){var mt=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);mt[0]=128;for(var We=1;We<mt.length-8;++We)mt[We]=0;var ot=8*this.o;for(We=mt.length-8;We<mt.length;++We)mt[We]=255&ot,ot/=256;for(this.u(mt),mt=Array(16),We=ot=0;4>We;++We)for(var Et=0;32>Et;Et+=8)mt[ot++]=this.g[We]>>>Et&255;return mt};var C={};function R(mt){return-128<=mt&&128>mt?function f(mt,We){var ot=C;return Object.prototype.hasOwnProperty.call(ot,mt)?ot[mt]:ot[mt]=We(mt)}(mt,function(We){return new v([0|We],0>We?-1:0)}):new v([0|mt],0>mt?-1:0)}function j(mt){if(isNaN(mt)||!isFinite(mt))return ve;if(0>mt)return ln(j(-mt));for(var We=[],ot=1,Et=0;mt>=ot;Et++)We[Et]=mt/ot|0,ot*=4294967296;return new v(We,0)}var ve=R(0),Ke=R(1),wt=R(16777216);function Zt(mt){if(0!=mt.h)return!1;for(var We=0;We<mt.g.length;We++)if(0!=mt.g[We])return!1;return!0}function hn(mt){return-1==mt.h}function ln(mt){for(var We=mt.g.length,ot=[],Et=0;Et<We;Et++)ot[Et]=~mt.g[Et];return new v(ot,~mt.h).add(Ke)}function Gn(mt,We){return mt.add(ln(We))}function Qn(mt,We){for(;(65535&mt[We])!=mt[We];)mt[We+1]+=mt[We]>>>16,mt[We]&=65535,We++}function zn(mt,We){this.g=mt,this.h=We}function _r(mt,We){if(Zt(We))throw Error("division by zero");if(Zt(mt))return new zn(ve,ve);if(hn(mt))return We=_r(ln(mt),We),new zn(ln(We.g),ln(We.h));if(hn(We))return We=_r(mt,ln(We)),new zn(ln(We.g),We.h);if(30<mt.g.length){if(hn(mt)||hn(We))throw Error("slowDivide_ only works with positive integers.");for(var ot=Ke,Et=We;0>=Et.l(mt);)ot=Or(ot),Et=Or(Et);var Ct=Dr(ot,1),Pt=Dr(Et,1);for(Et=Dr(Et,2),ot=Dr(ot,2);!Zt(Et);){var it=Pt.add(Et);0>=it.l(mt)&&(Ct=Ct.add(ot),Pt=it),Et=Dr(Et,1),ot=Dr(ot,1)}return We=Gn(mt,Ct.j(We)),new zn(Ct,We)}for(Ct=ve;0<=mt.l(We);){for(ot=Math.max(1,Math.floor(mt.m()/We.m())),Et=48>=(Et=Math.ceil(Math.log(ot)/Math.LN2))?1:Math.pow(2,Et-48),it=(Pt=j(ot)).j(We);hn(it)||0<it.l(mt);)it=(Pt=j(ot-=Et)).j(We);Zt(Pt)&&(Pt=Ke),Ct=Ct.add(Pt),mt=Gn(mt,it)}return new zn(Ct,mt)}function Or(mt){for(var We=mt.g.length+1,ot=[],Et=0;Et<We;Et++)ot[Et]=mt.i(Et)<<1|mt.i(Et-1)>>>31;return new v(ot,mt.h)}function Dr(mt,We){var ot=We>>5;We%=32;for(var Et=mt.g.length-ot,Ct=[],Pt=0;Pt<Et;Pt++)Ct[Pt]=0<We?mt.i(Pt+ot)>>>We|mt.i(Pt+ot+1)<<32-We:mt.i(Pt+ot);return new v(Ct,mt.h)}(l=v.prototype).m=function(){if(hn(this))return-ln(this).m();for(var mt=0,We=1,ot=0;ot<this.g.length;ot++){var Et=this.i(ot);mt+=(0<=Et?Et:4294967296+Et)*We,We*=4294967296}return mt},l.toString=function(mt){if(2>(mt=mt||10)||36<mt)throw Error("radix out of range: "+mt);if(Zt(this))return"0";if(hn(this))return"-"+ln(this).toString(mt);for(var We=j(Math.pow(mt,6)),ot=this,Et="";;){var Ct=_r(ot,We).g,Pt=((0<(ot=Gn(ot,Ct.j(We))).g.length?ot.g[0]:ot.h)>>>0).toString(mt);if(Zt(ot=Ct))return Pt+Et;for(;6>Pt.length;)Pt="0"+Pt;Et=Pt+Et}},l.i=function(mt){return 0>mt?0:mt<this.g.length?this.g[mt]:this.h},l.l=function(mt){return hn(mt=Gn(this,mt))?-1:Zt(mt)?0:1},l.abs=function(){return hn(this)?ln(this):this},l.add=function(mt){for(var We=Math.max(this.g.length,mt.g.length),ot=[],Et=0,Ct=0;Ct<=We;Ct++){var Pt=Et+(65535&this.i(Ct))+(65535&mt.i(Ct)),it=(Pt>>>16)+(this.i(Ct)>>>16)+(mt.i(Ct)>>>16);Et=it>>>16,ot[Ct]=(it&=65535)<<16|(Pt&=65535)}return new v(ot,-2147483648&ot[ot.length-1]?-1:0)},l.j=function(mt){if(Zt(this)||Zt(mt))return ve;if(hn(this))return hn(mt)?ln(this).j(ln(mt)):ln(ln(this).j(mt));if(hn(mt))return ln(this.j(ln(mt)));if(0>this.l(wt)&&0>mt.l(wt))return j(this.m()*mt.m());for(var We=this.g.length+mt.g.length,ot=[],Et=0;Et<2*We;Et++)ot[Et]=0;for(Et=0;Et<this.g.length;Et++)for(var Ct=0;Ct<mt.g.length;Ct++){var Pt=this.i(Et)>>>16,it=65535&this.i(Et),Cl=mt.i(Ct)>>>16,wf=65535&mt.i(Ct);ot[2*Et+2*Ct]+=it*wf,Qn(ot,2*Et+2*Ct),ot[2*Et+2*Ct+1]+=Pt*wf,Qn(ot,2*Et+2*Ct+1),ot[2*Et+2*Ct+1]+=it*Cl,Qn(ot,2*Et+2*Ct+1),ot[2*Et+2*Ct+2]+=Pt*Cl,Qn(ot,2*Et+2*Ct+2)}for(Et=0;Et<We;Et++)ot[Et]=ot[2*Et+1]<<16|ot[2*Et];for(Et=We;Et<2*We;Et++)ot[Et]=0;return new v(ot,0)},l.A=function(mt){return _r(this,mt).h},l.and=function(mt){for(var We=Math.max(this.g.length,mt.g.length),ot=[],Et=0;Et<We;Et++)ot[Et]=this.i(Et)&mt.i(Et);return new v(ot,this.h&mt.h)},l.or=function(mt){for(var We=Math.max(this.g.length,mt.g.length),ot=[],Et=0;Et<We;Et++)ot[Et]=this.i(Et)|mt.i(Et);return new v(ot,this.h|mt.h)},l.xor=function(mt){for(var We=Math.max(this.g.length,mt.g.length),ot=[],Et=0;Et<We;Et++)ot[Et]=this.i(Et)^mt.i(Et);return new v(ot,this.h^mt.h)},s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Re=Ue.Md5=s,v.prototype.add=v.prototype.add,v.prototype.multiply=v.prototype.j,v.prototype.modulo=v.prototype.A,v.prototype.compare=v.prototype.l,v.prototype.toNumber=v.prototype.m,v.prototype.toString=v.prototype.toString,v.prototype.getBits=v.prototype.i,v.fromNumber=j,v.fromString=function ie(mt,We){if(0==mt.length)throw Error("number format error: empty string");if(2>(We=We||10)||36<We)throw Error("radix out of range: "+We);if("-"==mt.charAt(0))return ln(ie(mt.substring(1),We));if(0<=mt.indexOf("-"))throw Error('number format error: interior "-" character');for(var ot=j(Math.pow(We,8)),Et=ve,Ct=0;Ct<mt.length;Ct+=8){var Pt=Math.min(8,mt.length-Ct),it=parseInt(mt.substring(Ct,Ct+Pt),We);8>Pt?(Pt=j(Math.pow(We,Pt)),Et=Et.j(Pt).add(j(it))):Et=(Et=Et.j(ot)).add(j(it))}return Et},Tt=Ue.Integer=v}).apply(typeof Ye<"u"?Ye:typeof self<"u"?self:typeof window<"u"?window:{});var pn,qt,vn,pt,_e,q,Q,re,we,Ft=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vt={};(function(){var l,t="function"==typeof Object.defineProperties?Object.defineProperty:function(m,P,W){return m==Array.prototype||m==Object.prototype||(m[P]=W.value),m},s=function i(m){m=["object"==typeof globalThis&&globalThis,m,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ft&&Ft];for(var P=0;P<m.length;++P){var W=m[P];if(W&&W.Math==Math)return W}throw Error("Cannot find global object")}(this);!function u(m,P){if(P)e:{var W=s;m=m.split(".");for(var fe=0;fe<m.length-1;fe++){var At=m[fe];if(!(At in W))break e;W=W[At]}(P=P(fe=W[m=m[m.length-1]]))!=fe&&null!=P&&t(W,m,{configurable:!0,writable:!0,value:P})}}("Array.prototype.values",function(m){return m||function(){return function f(m,P){m instanceof String&&(m+="");var W=0,fe=!1,At={next:function(){if(!fe&&W<m.length){var jt=W++;return{value:P(jt,m[jt]),done:!1}}return fe=!0,{done:!0,value:void 0}}};return At[Symbol.iterator]=function(){return At},At}(this,function(P,W){return W})}});var v=v||{},C=this||self;function R(m){var P=typeof m;return"array"==(P="object"!=P?P:m?Array.isArray(m)?"array":P:"null")||"object"==P&&"number"==typeof m.length}function j(m){var P=typeof m;return"object"==P&&null!=m||"function"==P}function ie(m,P,W){return m.call.apply(m.bind,arguments)}function ve(m,P,W){if(!m)throw Error();if(2<arguments.length){var fe=Array.prototype.slice.call(arguments,2);return function(){var At=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(At,fe),m.apply(P,At)}}return function(){return m.apply(P,arguments)}}function Ke(m,P,W){return(Ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ie:ve).apply(null,arguments)}function wt(m,P){var W=Array.prototype.slice.call(arguments,1);return function(){var fe=W.slice();return fe.push.apply(fe,arguments),m.apply(this,fe)}}function Zt(m,P){function W(){}W.prototype=P.prototype,m.aa=P.prototype,m.prototype=new W,m.prototype.constructor=m,m.Qb=function(fe,At,jt){for(var Rn=Array(arguments.length-2),Ei=2;Ei<arguments.length;Ei++)Rn[Ei-2]=arguments[Ei];return P.prototype[At].apply(fe,Rn)}}function hn(m){const P=m.length;if(0<P){const W=Array(P);for(let fe=0;fe<P;fe++)W[fe]=m[fe];return W}return[]}function ln(m,P){for(let W=1;W<arguments.length;W++){const fe=arguments[W];if(R(fe)){const At=m.length||0,jt=fe.length||0;m.length=At+jt;for(let Rn=0;Rn<jt;Rn++)m[At+Rn]=fe[Rn]}else m.push(fe)}}function Qn(m){return/^[\s\xa0]*$/.test(m)}function zn(){var m=C.navigator;return m&&(m=m.userAgent)?m:""}function _r(m){return _r[" "](m),m}_r[" "]=function(){};var Or=!(-1==zn().indexOf("Gecko")||-1!=zn().toLowerCase().indexOf("webkit")&&-1==zn().indexOf("Edge")||-1!=zn().indexOf("Trident")||-1!=zn().indexOf("MSIE")||-1!=zn().indexOf("Edge"));function Dr(m,P,W){for(const fe in m)P.call(W,m[fe],fe,m)}function We(m){const P={};for(const W in m)P[W]=m[W];return P}const ot="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Et(m,P){let W,fe;for(let At=1;At<arguments.length;At++){for(W in fe=arguments[At],fe)m[W]=fe[W];for(let jt=0;jt<ot.length;jt++)W=ot[jt],Object.prototype.hasOwnProperty.call(fe,W)&&(m[W]=fe[W])}}function Ct(m){var P=1;m=m.split(":");const W=[];for(;0<P&&m.length;)W.push(m.shift()),P--;return m.length&&W.push(m.join(":")),W}function Pt(m){C.setTimeout(()=>{throw m},0)}function it(){var m=ag;let P=null;return m.g&&(P=m.g,m.g=m.g.next,m.g||(m.h=null),P.next=null),P}var wf=new class Gn{constructor(P,W){this.i=P,this.j=W,this.h=0,this.g=null}get(){let P;return 0<this.h?(this.h--,P=this.g,this.g=P.next,P.next=null):P=this.i(),P}}(()=>new p_,m=>m.reset());class p_{constructor(){this.next=this.g=this.h=null}set(P,W){this.h=P,this.g=W,this.next=null}reset(){this.next=this.g=this.h=null}}let Af,bf=!1,ag=new class Cl{constructor(){this.h=this.g=null}add(P,W){const fe=wf.get();fe.set(P,W),this.h?this.h.next=fe:this.g=fe,this.h=fe}},cg=()=>{const m=C.Promise.resolve(void 0);Af=()=>{m.then(Sf)}};var Sf=()=>{for(var m;m=it();){try{m.h.call(m.g)}catch(W){Pt(W)}var P=wf;P.j(m),100>P.h&&(P.h++,m.next=P.g,P.g=m)}bf=!1};function pc(){this.s=this.s,this.C=this.C}function qo(m,P){this.type=m,this.g=this.target=P,this.defaultPrevented=!1}pc.prototype.s=!1,pc.prototype.ma=function(){this.s||(this.s=!0,this.N())},pc.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},qo.prototype.h=function(){this.defaultPrevented=!0};var VI=function(){if(!C.addEventListener||!Object.defineProperty)return!1;var m=!1,P=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const W=()=>{};C.addEventListener("test",W,P),C.removeEventListener("test",W,P)}catch{}return m}();function Rf(m,P){if(qo.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var W=this.type=m.type,fe=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=P,P=m.relatedTarget){if(Or){e:{try{_r(P.nodeName);var At=!0;break e}catch{}At=!1}At||(P=null)}}else"mouseover"==W?P=m.fromElement:"mouseout"==W&&(P=m.toElement);this.relatedTarget=P,fe?(this.clientX=void 0!==fe.clientX?fe.clientX:fe.pageX,this.clientY=void 0!==fe.clientY?fe.clientY:fe.pageY,this.screenX=fe.screenX||0,this.screenY=fe.screenY||0):(this.clientX=void 0!==m.clientX?m.clientX:m.pageX,this.clientY=void 0!==m.clientY?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType="string"==typeof m.pointerType?m.pointerType:_v[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Rf.aa.h.call(this)}}Zt(Rf,qo);var _v={2:"touch",3:"pen",4:"mouse"};Rf.prototype.h=function(){Rf.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var nh="closure_listenable_"+(1e6*Math.random()|0),ad=0;function g_(m,P,W,fe,At){this.listener=m,this.proxy=null,this.src=P,this.type=W,this.capture=!!fe,this.ha=At,this.key=++ad,this.da=this.fa=!1}function Mf(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function rh(m){this.src=m,this.g={},this.h=0}function Ev(m,P){var W=P.type;if(W in m.g){var jt,fe=m.g[W],At=Array.prototype.indexOf.call(fe,P,void 0);(jt=0<=At)&&Array.prototype.splice.call(fe,At,1),jt&&(Mf(P),0==m.g[W].length&&(delete m.g[W],m.h--))}}function lg(m,P,W,fe){for(var At=0;At<m.length;++At){var jt=m[At];if(!jt.da&&jt.listener==P&&jt.capture==!!W&&jt.ha==fe)return At}return-1}rh.prototype.add=function(m,P,W,fe,At){var jt=m.toString();(m=this.g[jt])||(m=this.g[jt]=[],this.h++);var Rn=lg(m,P,fe,At);return-1<Rn?(P=m[Rn],W||(P.fa=!1)):((P=new g_(P,this.src,jt,!!fe,At)).fa=W,m.push(P)),P};var ug="closure_lm_"+(1e6*Math.random()|0),dg={};function hg(m,P,W,fe,At){if(fe&&fe.once)return uu(m,P,W,fe,At);if(Array.isArray(P)){for(var jt=0;jt<P.length;jt++)hg(m,P[jt],W,fe,At);return null}return W=Cv(W),m&&m[nh]?m.K(P,W,j(fe)?!!fe.capture:!!fe,At):Iv(m,P,W,!1,fe,At)}function Iv(m,P,W,fe,At,jt){if(!P)throw Error("Invalid event type");var Rn=j(At)?!!At.capture:!!At,Ei=Nf(m);if(Ei||(m[ug]=Ei=new rh(m)),(W=Ei.add(P,W,fe,Rn,jt)).proxy)return W;if(fe=function fg(){const P=m_;return function m(W){return P.call(m.src,m.listener,W)}}(),W.proxy=fe,fe.src=m,fe.listener=W,m.addEventListener)VI||(At=Rn),void 0===At&&(At=!1),m.addEventListener(P.toString(),fe,At);else if(m.attachEvent)m.attachEvent(ih(P.toString()),fe);else{if(!m.addListener||!m.removeListener)throw Error("addEventListener and attachEvent are unavailable.");m.addListener(fe)}return W}function uu(m,P,W,fe,At){if(Array.isArray(P)){for(var jt=0;jt<P.length;jt++)uu(m,P[jt],W,fe,At);return null}return W=Cv(W),m&&m[nh]?m.L(P,W,j(fe)?!!fe.capture:!!fe,At):Iv(m,P,W,!0,fe,At)}function Tv(m,P,W,fe,At){if(Array.isArray(P))for(var jt=0;jt<P.length;jt++)Tv(m,P[jt],W,fe,At);else fe=j(fe)?!!fe.capture:!!fe,W=Cv(W),m&&m[nh]?(m=m.i,(P=String(P).toString())in m.g&&-1<(W=lg(jt=m.g[P],W,fe,At))&&(Mf(jt[W]),Array.prototype.splice.call(jt,W,1),0==jt.length&&(delete m.g[P],m.h--))):m&&(m=Nf(m))&&(P=m.g[P.toString()],m=-1,P&&(m=lg(P,W,fe,At)),(W=-1<m?P[m]:null)&&Pf(W))}function Pf(m){if("number"!=typeof m&&m&&!m.da){var P=m.src;if(P&&P[nh])Ev(P.i,m);else{var W=m.type,fe=m.proxy;P.removeEventListener?P.removeEventListener(W,fe,m.capture):P.detachEvent?P.detachEvent(ih(W),fe):P.addListener&&P.removeListener&&P.removeListener(fe),(W=Nf(P))?(Ev(W,m),0==W.h&&(W.src=null,P[ug]=null)):Mf(m)}}}function ih(m){return m in dg?dg[m]:dg[m]="on"+m}function m_(m,P){if(m.da)m=!0;else{P=new Rf(P,this);var W=m.listener,fe=m.ha||m.src;m.fa&&Pf(m),m=W.call(fe,P)}return m}function Nf(m){return(m=m[ug])instanceof rh?m:null}var oh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cv(m){return"function"==typeof m?m:(m[oh]||(m[oh]=function(P){return m.handleEvent(P)}),m[oh])}function rs(){pc.call(this),this.i=new rh(this),this.M=this,this.F=null}function Hs(m,P){var W,fe=m.F;if(fe)for(W=[];fe;fe=fe.F)W.push(fe);if(m=m.M,fe=P.type||P,"string"==typeof P)P=new qo(P,m);else if(P instanceof qo)P.target=P.target||m;else{var At=P;Et(P=new qo(fe,m),At)}if(At=!0,W)for(var jt=W.length-1;0<=jt;jt--){var Rn=P.g=W[jt];At=pg(Rn,fe,!0,P)&&At}if(At=pg(Rn=P.g=m,fe,!0,P)&&At,At=pg(Rn,fe,!1,P)&&At,W)for(jt=0;jt<W.length;jt++)At=pg(Rn=P.g=W[jt],fe,!1,P)&&At}function pg(m,P,W,fe){if(!(P=m.i.g[String(P)]))return!0;P=P.concat();for(var At=!0,jt=0;jt<P.length;++jt){var Rn=P[jt];if(Rn&&!Rn.da&&Rn.capture==W){var Ei=Rn.listener,Eo=Rn.ha||Rn.src;Rn.fa&&Ev(m.i,Rn),At=!1!==Ei.call(Eo,fe)&&At}}return At&&!fe.defaultPrevented}function v_(m,P,W){if("function"==typeof m)W&&(m=Ke(m,W));else{if(!m||"function"!=typeof m.handleEvent)throw Error("Invalid listener argument");m=Ke(m.handleEvent,m)}return 2147483647<Number(P)?-1:C.setTimeout(m,P||0)}function Dv(m){m.g=v_(()=>{m.g=null,m.i&&(m.i=!1,Dv(m))},m.l);const P=m.h;m.h=null,m.m.apply(null,P)}Zt(rs,pc),rs.prototype[nh]=!0,rs.prototype.removeEventListener=function(m,P,W,fe){Tv(this,m,P,W,fe)},rs.prototype.N=function(){if(rs.aa.N.call(this),this.i){var P,m=this.i;for(P in m.g){for(var W=m.g[P],fe=0;fe<W.length;fe++)Mf(W[fe]);delete m.g[P],m.h--}}this.F=null},rs.prototype.K=function(m,P,W,fe){return this.i.add(String(m),P,!1,W,fe)},rs.prototype.L=function(m,P,W,fe){return this.i.add(String(m),P,!0,W,fe)};class y_ extends pc{constructor(P,W){super(),this.m=P,this.l=W,this.h=null,this.i=!1,this.g=null}j(P){this.h=arguments,this.g?this.i=!0:Dv(this)}N(){super.N(),this.g&&(C.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(m){pc.call(this),this.h=m,this.g={}}Zt(mr,pc);var wv=[];function Av(m){Dr(m.g,function(P,W){this.g.hasOwnProperty(W)&&Pf(P)},m),m.g={}}mr.prototype.N=function(){mr.aa.N.call(this),Av(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var du=C.JSON.stringify,__=C.JSON.parse,E_=class{stringify(m){return C.JSON.stringify(m,void 0)}parse(m){return C.JSON.parse(m,void 0)}};function bv(){}function hu(){}bv.prototype.h=null;var cd={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ld(){qo.call(this,"d")}function gg(){qo.call(this,"c")}Zt(ld,qo),Zt(gg,qo);var Dl={},mg=null;function sh(){return mg=mg||new rs}function Sv(m){qo.call(this,Dl.La,m)}function ud(m){const P=sh();Hs(P,new Sv(P))}function I_(m,P){qo.call(this,Dl.STAT_EVENT,m),this.stat=P}function zs(m){const P=sh();Hs(P,new I_(P,m))}function T_(m,P){qo.call(this,Dl.Ma,m),this.size=P}function ah(m,P){if("function"!=typeof m)throw Error("Fn must not be null and must be a function");return C.setTimeout(function(){m()},P)}function xf(){this.g=!0}function ch(m,P,W,fe){m.info(function(){return"XMLHTTP TEXT ("+P+"): "+function D_(m,P){if(!m.g)return P;if(!P)return null;try{var W=JSON.parse(P);if(W)for(m=0;m<W.length;m++)if(Array.isArray(W[m])){var fe=W[m];if(!(2>fe.length)){var At=fe[1];if(Array.isArray(At)&&!(1>At.length)){var jt=At[0];if("noop"!=jt&&"stop"!=jt&&"close"!=jt)for(var Rn=1;Rn<At.length;Rn++)At[Rn]=""}}}return du(W)}catch{return P}}(m,W)+(fe?" "+fe:"")})}Dl.La="serverreachability",Zt(Sv,qo),Dl.STAT_EVENT="statevent",Zt(I_,qo),Dl.Ma="timingevent",Zt(T_,qo),xf.prototype.xa=function(){this.g=!1},xf.prototype.info=function(){};var ws,vg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},w_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function yg(){}function fu(m,P,W,fe){this.j=m,this.i=P,this.l=W,this.R=fe||1,this.U=new mr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $I}function $I(){this.i=null,this.g="",this.h=!1}Zt(yg,bv),yg.prototype.g=function(){return new XMLHttpRequest},yg.prototype.i=function(){return{}},ws=new yg;var _g={},Eg={};function Rv(m,P,W){m.L=1,m.v=uh(Va(P)),m.m=W,m.P=!0,A_(m,null)}function A_(m,P){m.F=Date.now(),Ig(m),m.A=Va(m.v);var W=m.A,fe=m.R;Array.isArray(fe)||(fe=[String(fe)]),L_(W.i,"t",fe),m.C=0,W=m.j.J,m.h=new $I,m.g=Bv(m.j,W?P:null,!m.m),0<m.O&&(m.M=new y_(Ke(m.Y,m,m.g),m.O)),P=m.U,W=m.g,fe=m.ca;var At="readystatechange";Array.isArray(At)||(At&&(wv[0]=At.toString()),At=wv);for(var jt=0;jt<At.length;jt++){var Rn=hg(W,At[jt],fe||P.handleEvent,!1,P.h||P);if(!Rn)break;P.g[Rn.key]=Rn}P=m.H?We(m.H):{},m.m?(m.u||(m.u="POST"),P["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,P)):(m.u="GET",m.g.ea(m.A,m.u,null,P)),ud(),function UI(m,P,W,fe,At,jt){m.info(function(){if(m.g)if(jt)for(var Rn="",Ei=jt.split("&"),Eo=0;Eo<Ei.length;Eo++){var si=Ei[Eo].split("=");if(1<si.length){var As=si[0];si=si[1];var bs=As.split("_");Rn=2<=bs.length&&"type"==bs[1]?Rn+(As+"=")+si+"&":Rn+(As+"=redacted&")}}else Rn=null;else Rn=jt;return"XMLHTTP REQ ("+fe+") [attempt "+At+"]: "+P+"\n"+W+"\n"+Rn})}(m.i,m.u,m.A,m.l,m.R,m.m)}function b_(m){return!!m.g&&"GET"==m.u&&2!=m.L&&m.j.Ca}function S_(m,P){var W=m.C,fe=P.indexOf("\n",W);return-1==fe?Eg:(W=Number(P.substring(W,fe)),isNaN(W)?_g:(fe+=1)+W>P.length?Eg:(P=P.slice(fe,fe+W),m.C=fe+W,P))}function Ig(m){m.S=Date.now()+m.I,R_(m,m.I)}function R_(m,P){if(null!=m.B)throw Error("WatchDog timer not null");m.B=ah(Ke(m.ba,m),P)}function kf(m){m.B&&(C.clearTimeout(m.B),m.B=null)}function Ff(m){0==m.j.G||m.J||K_(m.j,m)}function dd(m){kf(m);var P=m.M;P&&"function"==typeof P.ma&&P.ma(),m.M=null,Av(m.U),m.g&&(P=m.g,m.g=null,P.abort(),P.ma())}function Mv(m,P){try{var W=m.j;if(0!=W.G&&(W.g==m||Pv(W.h,m)))if(!m.K&&Pv(W.h,m)&&3==W.G){try{var fe=W.Da.g.parse(P)}catch{fe=null}if(Array.isArray(fe)&&3==fe.length){var At=fe;if(0==At[0]){e:if(!W.u){if(W.g){if(!(W.g.F+3e3<m.F))break e;Gf(W),bg(W)}mh(W),zs(18)}}else W.za=At[1],0<W.za-W.T&&37500>At[2]&&W.F&&0==W.v&&!W.C&&(W.C=ah(Ke(W.Za,W),6e3));if(1>=Tg(W.h)&&W.ca){try{W.ca()}catch{}W.ca=void 0}}else vu(W,11)}else if((m.K||W.g==m)&&Gf(W),!Qn(P))for(At=W.Da.g.parse(P),P=0;P<At.length;P++){let si=At[P];if(W.T=si[0],si=si[1],2==W.G)if("c"==si[0]){W.K=si[1],W.ia=si[2];const As=si[3];null!=As&&(W.la=As,W.j.info("VER="+W.la));const bs=si[4];null!=bs&&(W.Aa=bs,W.j.info("SVER="+W.Aa));const Ih=si[5];null!=Ih&&"number"==typeof Ih&&0<Ih&&(W.L=fe=1.5*Ih,W.j.info("backChannelRequestTimeoutMs_="+fe)),fe=W;const vc=m.g;if(vc){const Ng=vc.g?vc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ng){var jt=fe.h;jt.g||-1==Ng.indexOf("spdy")&&-1==Ng.indexOf("quic")&&-1==Ng.indexOf("h2")||(jt.j=jt.l,jt.g=new Set,jt.h&&(Nv(jt,jt.h),jt.h=null))}if(fe.D){const Wf=vc.g?vc.g.getResponseHeader("X-HTTP-Session-Id"):null;Wf&&(fe.ya=Wf,zi(fe.I,fe.D,Wf))}}W.G=3,W.l&&W.l.ua(),W.ba&&(W.R=Date.now()-m.F,W.j.info("Handshake RTT: "+W.R+"ms"));var Rn=m;if((fe=W).qa=Uv(fe,fe.J?fe.ia:null,fe.W),Rn.K){Ov(fe.h,Rn);var Ei=Rn,Eo=fe.L;Eo&&(Ei.I=Eo),Ei.B&&(kf(Ei),Ig(Ei)),fe.g=Rn}else Rg(fe);0<W.i.length&&Sg(W)}else"stop"!=si[0]&&"close"!=si[0]||vu(W,7);else 3==W.G&&("stop"==si[0]||"close"==si[0]?"stop"==si[0]?vu(W,7):G_(W):"noop"!=si[0]&&W.l&&W.l.ta(si),W.v=0)}ud()}catch{}}fu.prototype.ca=function(m){m=m.target;const P=this.M;P&&3==wl(m)?P.j():this.Y(m)},fu.prototype.Y=function(m){try{if(m==this.g)e:{const bs=wl(this.g);var P=this.g.Ba();if(this.g.Z(),!(3>bs)&&(3!=bs||this.g&&(this.h.h||this.g.oa()||KI(this.g)))){this.J||4!=bs||7==P||ud(),kf(this);var W=this.g.Z();this.X=W;t:if(b_(this)){var fe=KI(this.g);m="";var At=fe.length,jt=4==wl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){dd(this),Ff(this);var Rn="";break t}this.h.i=new C.TextDecoder}for(P=0;P<At;P++)this.h.h=!0,m+=this.h.i.decode(fe[P],{stream:!(jt&&P==At-1)});fe.length=0,this.h.g+=m,this.C=0,Rn=this.h.g}else Rn=this.g.oa();if(this.o=200==W,function BI(m,P,W,fe,At,jt,Rn){m.info(function(){return"XMLHTTP RESP ("+fe+") [ attempt "+At+"]: "+P+"\n"+W+"\n"+jt+" "+Rn})}(this.i,this.u,this.A,this.l,this.R,bs,W),this.o){if(this.T&&!this.K){t:{if(this.g){var Ei,Eo=this.g;if((Ei=Eo.g?Eo.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qn(Ei)){var si=Ei;break t}}si=null}if(!(W=si)){this.o=!1,this.s=3,zs(12),dd(this),Ff(this);break e}ch(this.i,this.l,W,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Mv(this,W)}if(this.P){let vc;for(W=!0;!this.J&&this.C<Rn.length;){if(vc=S_(this,Rn),vc==Eg){4==bs&&(this.s=4,zs(14),W=!1),ch(this.i,this.l,null,"[Incomplete Response]");break}if(vc==_g){this.s=4,zs(15),ch(this.i,this.l,Rn,"[Invalid Chunk]"),W=!1;break}ch(this.i,this.l,vc,null),Mv(this,vc)}if(b_(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=bs||0!=Rn.length||this.h.h||(this.s=1,zs(16),W=!1),this.o=this.o&&W,W){if(0<Rn.length&&!this.W){this.W=!0;var As=this.j;As.g==this&&As.ba&&!As.M&&(As.j.info("Great, no buffering proxy detected. Bytes received: "+Rn.length),Mg(As),As.M=!0,zs(11))}}else ch(this.i,this.l,Rn,"[Invalid Chunked Response]"),dd(this),Ff(this)}else ch(this.i,this.l,Rn,null),Mv(this,Rn);4==bs&&dd(this),this.o&&!this.J&&(4==bs?K_(this.j,this):(this.o=!1,Ig(this)))}else(function AD(m){const P={};m=(m.g&&2<=wl(m)&&m.g.getAllResponseHeaders()||"").split("\r\n");for(let fe=0;fe<m.length;fe++){if(Qn(m[fe]))continue;var W=Ct(m[fe]);const At=W[0];if("string"!=typeof(W=W[1]))continue;W=W.trim();const jt=P[At]||[];P[At]=jt,jt.push(W)}!function mt(m,P){for(const W in m)P.call(void 0,m[W],W,m)}(P,function(fe){return fe.join(", ")})})(this.g),400==W&&0<Rn.indexOf("Unknown SID")?(this.s=3,zs(12)):(this.s=0,zs(13)),dd(this),Ff(this)}}}catch{}},fu.prototype.cancel=function(){this.J=!0,dd(this)},fu.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(function C_(m,P){m.info(function(){return"TIMEOUT: "+P})}(this.i,this.A),2!=this.L&&(ud(),zs(17)),dd(this),this.s=2,Ff(this)):R_(this,this.S-m)};var jI=class{constructor(m,P){this.g=m,this.map=P}};function M_(m){this.l=m||10,m=C.PerformanceNavigationTiming?0<(m=C.performance.getEntriesByType("navigation")).length&&("hq"==m[0].nextHopProtocol||"h2"==m[0].nextHopProtocol):!!(C.chrome&&C.chrome.loadTimes&&C.chrome.loadTimes()&&C.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gc(m){return!!m.h||!!m.g&&m.g.size>=m.j}function Tg(m){return m.h?1:m.g?m.g.size:0}function Pv(m,P){return m.h?m.h==P:!!m.g&&m.g.has(P)}function Nv(m,P){m.g?m.g.add(P):m.h=P}function Ov(m,P){m.h&&m.h==P?m.h=null:m.g&&m.g.has(P)&&m.g.delete(P)}function xv(m){if(null!=m.h)return m.i.concat(m.h.D);if(null!=m.g&&0!==m.g.size){let P=m.i;for(const W of m.g.values())P=P.concat(W.D);return P}return hn(m.i)}function HI(m,P){if(m.forEach&&"function"==typeof m.forEach)m.forEach(P,void 0);else if(R(m)||"string"==typeof m)Array.prototype.forEach.call(m,P,void 0);else for(var W=function kv(m){if(m.na&&"function"==typeof m.na)return m.na();if(!m.V||"function"!=typeof m.V){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(R(m)||"string"==typeof m){var P=[];m=m.length;for(var W=0;W<m;W++)P.push(W);return P}P=[],W=0;for(const fe in m)P[W++]=fe;return P}}}(m),fe=function Cg(m){if(m.V&&"function"==typeof m.V)return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if("string"==typeof m)return m.split("");if(R(m)){for(var P=[],W=m.length,fe=0;fe<W;fe++)P.push(m[fe]);return P}for(fe in P=[],W=0,m)P[W++]=m[fe];return P}(m),At=fe.length,jt=0;jt<At;jt++)P.call(void 0,fe[jt],W&&W[jt],m)}M_.prototype.cancel=function(){if(this.i=xv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const m of this.g.values())m.cancel();this.g.clear()}};var Fv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pu(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof pu){this.h=m.h,lh(this,m.j),this.o=m.o,this.g=m.g,Ua(this,m.s),this.l=m.l;var P=m.i,W=new hh;W.i=P.i,P.g&&(W.g=new Map(P.g),W.h=P.h),N_(this,W),this.m=m.m}else m&&(P=String(m).match(Fv))?(this.h=!1,lh(this,P[1]||"",!0),this.o=Lf(P[2]||""),this.g=Lf(P[3]||"",!0),Ua(this,P[4]),this.l=Lf(P[5]||"",!0),N_(this,P[6]||"",!0),this.m=Lf(P[7]||"")):(this.h=!1,this.i=new hh(null,this.h))}function Va(m){return new pu(m)}function lh(m,P,W){m.j=W?Lf(P,!0):P,m.j&&(m.j=m.j.replace(/:$/,""))}function Ua(m,P){if(P){if(P=Number(P),isNaN(P)||0>P)throw Error("Bad port number "+P);m.s=P}else m.s=null}function N_(m,P,W){P instanceof hh?(m.i=P,function zI(m,P){P&&!m.j&&(mu(m),m.i=null,m.g.forEach(function(W,fe){var At=fe.toLowerCase();fe!=At&&(k_(this,fe),L_(this,At,W))},m)),m.j=P}(m.i,m.h)):(W||(P=zc(P,Vf)),m.i=new hh(P,m.h))}function zi(m,P,W){m.i.set(P,W)}function uh(m){return zi(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Lf(m,P){return m?P?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function zc(m,P,W){return"string"==typeof m?(m=encodeURI(m).replace(P,O_),W&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function O_(m){return"%"+((m=m.charCodeAt(0))>>4&15).toString(16)+(15&m).toString(16)}pu.prototype.toString=function(){var m=[],P=this.j;P&&m.push(zc(P,gu,!0),":");var W=this.g;return(W||"file"==P)&&(m.push("//"),(P=this.o)&&m.push(zc(P,gu,!0),"@"),m.push(encodeURIComponent(String(W)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(W=this.s)&&m.push(":",String(W))),(W=this.l)&&(this.g&&"/"!=W.charAt(0)&&m.push("/"),m.push(zc(W,"/"==W.charAt(0)?Lv:dh,!0))),(W=this.i.toString())&&m.push("?",W),(W=this.m)&&m.push("#",zc(W,x_)),m.join("")};var gu=/[#\/\?@]/g,dh=/[#\?:]/g,Lv=/[#\?]/g,Vf=/[#\?@]/g,x_=/#/g;function hh(m,P){this.h=this.g=null,this.i=m||null,this.j=!!P}function mu(m){m.g||(m.g=new Map,m.h=0,m.i&&function P_(m,P){if(m){m=m.split("&");for(var W=0;W<m.length;W++){var fe=m[W].indexOf("="),At=null;if(0<=fe){var jt=m[W].substring(0,fe);At=m[W].substring(fe+1)}else jt=m[W];P(jt,At?decodeURIComponent(At.replace(/\+/g," ")):"")}}}(m.i,function(P,W){m.add(decodeURIComponent(P.replace(/\+/g," ")),W)}))}function k_(m,P){mu(m),P=fh(m,P),m.g.has(P)&&(m.i=null,m.h-=m.g.get(P).length,m.g.delete(P))}function F_(m,P){return mu(m),P=fh(m,P),m.g.has(P)}function L_(m,P,W){k_(m,P),0<W.length&&(m.i=null,m.g.set(fh(m,P),hn(W)),m.h+=W.length)}function fh(m,P){return P=String(P),m.j&&(P=P.toLowerCase()),P}function mc(m,P,W,fe,At){try{At&&(At.onload=null,At.onerror=null,At.onabort=null,At.ontimeout=null),fe(W)}catch{}}function WI(){this.g=new E_}function U_(m,P,W){const fe=W||"";try{HI(m,function(At,jt){let Rn=At;j(At)&&(Rn=du(At)),P.push(fe+jt+"="+encodeURIComponent(Rn))})}catch(At){throw P.push(fe+"type="+encodeURIComponent("_badmap")),At}}function Uf(m){this.l=m.Ub||null,this.j=m.eb||!1}function Bf(m,P){rs.call(this),this.D=m,this.o=P,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function B_(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}function $f(m){m.readyState=4,m.l=null,m.j=null,m.v=null,ph(m)}function ph(m){m.onreadystatechange&&m.onreadystatechange.call(m)}function Dg(m){let P="";return Dr(m,function(W,fe){P+=fe,P+=":",P+=W,P+="\r\n"}),P}function wg(m,P,W){e:{for(fe in W){var fe=!1;break e}fe=!0}fe||(W=Dg(W),"string"==typeof m?null!=W&&encodeURIComponent(String(W)):zi(m,P,W))}function Vi(m){rs.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(l=hh.prototype).add=function(m,P){mu(this),this.i=null,m=fh(this,m);var W=this.g.get(m);return W||this.g.set(m,W=[]),W.push(P),this.h+=1,this},l.forEach=function(m,P){mu(this),this.g.forEach(function(W,fe){W.forEach(function(At){m.call(P,At,fe,this)},this)},this)},l.na=function(){mu(this);const m=Array.from(this.g.values()),P=Array.from(this.g.keys()),W=[];for(let fe=0;fe<P.length;fe++){const At=m[fe];for(let jt=0;jt<At.length;jt++)W.push(P[fe])}return W},l.V=function(m){mu(this);let P=[];if("string"==typeof m)F_(this,m)&&(P=P.concat(this.g.get(fh(this,m))));else{m=Array.from(this.g.values());for(let W=0;W<m.length;W++)P=P.concat(m[W])}return P},l.set=function(m,P){return mu(this),this.i=null,F_(this,m=fh(this,m))&&(this.h-=this.g.get(m).length),this.g.set(m,[P]),this.h+=1,this},l.get=function(m,P){return m&&0<(m=this.V(m)).length?String(m[0]):P},l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],P=Array.from(this.g.keys());for(var W=0;W<P.length;W++){var fe=P[W];const jt=encodeURIComponent(String(fe)),Rn=this.V(fe);for(fe=0;fe<Rn.length;fe++){var At=jt;""!==Rn[fe]&&(At+="="+encodeURIComponent(String(Rn[fe]))),m.push(At)}}return this.i=m.join("&")},Zt(Uf,bv),Uf.prototype.g=function(){return new Bf(this.l,this.j)},Uf.prototype.i=function(m){return function(){return m}}({}),Zt(Bf,rs),(l=Bf.prototype).open=function(m,P){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=P,this.readyState=1,ph(this)},l.send=function(m){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const P={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(P.body=m),(this.D||C).fetch(new Request(this.A,P)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$f(this)),this.readyState=0},l.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,ph(this)),this.g&&(this.readyState=3,ph(this),this.g)))if("arraybuffer"===this.responseType)m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof C.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;B_(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))},l.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var P=m.value?m.value:new Uint8Array(0);(P=this.v.decode(P,{stream:!m.done}))&&(this.response=this.responseText+=P)}m.done?$f(this):ph(this),3==this.readyState&&B_(this)}},l.Ra=function(m){this.g&&(this.response=this.responseText=m,$f(this))},l.Qa=function(m){this.g&&(this.response=m,$f(this))},l.ga=function(){this.g&&$f(this)},l.setRequestHeader=function(m,P){this.u.append(m,P)},l.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],P=this.h.entries();for(var W=P.next();!W.done;)m.push((W=W.value)[0]+": "+W[1]),W=P.next();return m.join("\r\n")},Object.defineProperty(Bf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(m){this.m=m?"include":"same-origin"}}),Zt(Vi,rs);var jf=/^https?$/i,Hf=["POST","PUT"];function $_(m,P){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=P,m.m=5,j_(m),hd(m)}function j_(m){m.A||(m.A=!0,Hs(m,"complete"),Hs(m,"error"))}function H_(m){if(m.h&&typeof v<"u"&&(!m.v[1]||4!=wl(m)||2!=m.Z()))if(m.u&&4==wl(m))v_(m.Ea,0,m);else if(Hs(m,"readystatechange"),4==wl(m)){m.h=!1;try{const Rn=m.Z();e:switch(Rn){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var P=!0;break e;default:P=!1}var W;if(!(W=P)){var fe;if(fe=0===Rn){var At=String(m.D).match(Fv)[1]||null;!At&&C.self&&C.self.location&&(At=C.self.location.protocol.slice(0,-1)),fe=!jf.test(At?At.toLowerCase():"")}W=fe}if(W)Hs(m,"complete"),Hs(m,"success");else{m.m=6;try{var jt=2<wl(m)?m.g.statusText:""}catch{jt=""}m.l=jt+" ["+m.Z()+"]",j_(m)}}finally{hd(m)}}}function hd(m,P){if(m.g){Ag(m);const W=m.g,fe=m.v[0]?()=>{}:null;m.g=null,m.v=null,P||Hs(m,"ready");try{W.onreadystatechange=fe}catch{}}}function Ag(m){m.I&&(C.clearTimeout(m.I),m.I=null)}function wl(m){return m.g?m.g.readyState:0}function KI(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function zf(m,P,W){return W&&W.internalChannelParams&&W.internalChannelParams[m]||P}function z_(m){this.Aa=0,this.i=[],this.j=new xf,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zf("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zf("baseRetryDelayMs",5e3,m),this.cb=zf("retryDelaySeedMs",1e4,m),this.Wa=zf("forwardChannelMaxRetries",2,m),this.wa=zf("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new M_(m&&m.concurrentRequestLimit),this.Da=new WI,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function G_(m){if(qI(m),3==m.G){var P=m.U++,W=Va(m.I);if(zi(W,"SID",m.K),zi(W,"RID",P),zi(W,"TYPE","terminate"),fd(m,W),(P=new fu(m,m.j,P)).L=2,P.v=uh(Va(W)),W=!1,C.navigator&&C.navigator.sendBeacon)try{W=C.navigator.sendBeacon(P.v.toString(),"")}catch{}!W&&C.Image&&((new Image).src=P.v,W=!0),W||(P.g=Bv(P.j,null),P.g.ea(P.v)),P.F=Date.now(),Ig(P)}Vv(m)}function bg(m){m.g&&(Mg(m),m.g.cancel(),m.g=null)}function qI(m){bg(m),m.u&&(C.clearTimeout(m.u),m.u=null),Gf(m),m.h.cancel(),m.s&&("number"==typeof m.s&&C.clearTimeout(m.s),m.s=null)}function Sg(m){if(!gc(m.h)&&!m.s){m.s=!0;var P=m.Ga;Af||cg(),bf||(Af(),bf=!0),ag.add(P,m),m.B=0}}function W_(m,P){var W;W=P?P.l:m.U++;const fe=Va(m.I);zi(fe,"SID",m.K),zi(fe,"RID",W),zi(fe,"AID",m.T),fd(m,fe),m.m&&m.o&&wg(fe,m.m,m.o),W=new fu(m,m.j,W,m.B+1),null===m.m&&(W.H=m.o),P&&(m.i=P.D.concat(m.i)),P=gh(m,W,1e3),W.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),Nv(m.h,W),Rv(W,fe,P)}function fd(m,P){m.H&&Dr(m.H,function(W,fe){zi(P,fe,W)}),m.l&&HI({},function(W,fe){zi(P,fe,W)})}function gh(m,P,W){W=Math.min(m.i.length,W);var fe=m.l?Ke(m.l.Na,m.l,m):null;e:{var At=m.i;let jt=-1;for(;;){const Rn=["count="+W];-1==jt?0<W?(jt=At[0].g,Rn.push("ofs="+jt)):jt=0:Rn.push("ofs="+jt);let Ei=!0;for(let Eo=0;Eo<W;Eo++){let si=At[Eo].g;const As=At[Eo].map;if(si-=jt,0>si)jt=Math.max(0,At[Eo].g-100),Ei=!1;else try{U_(As,Rn,"req"+si+"_")}catch{fe&&fe(As)}}if(Ei){fe=Rn.join("&");break e}}}return m=m.i.splice(0,W),P.D=m,fe}function Rg(m){if(!m.g&&!m.u){m.Y=1;var P=m.Fa;Af||cg(),bf||(Af(),bf=!0),ag.add(P,m),m.v=0}}function mh(m){return!(m.g||m.u||3<=m.v||(m.Y++,m.u=ah(Ke(m.Fa,m),yh(m,m.v)),m.v++,0))}function Mg(m){null!=m.A&&(C.clearTimeout(m.A),m.A=null)}function vh(m){m.g=new fu(m,m.j,"rpc",m.Y),null===m.m&&(m.g.H=m.o),m.g.O=0;var P=Va(m.qa);zi(P,"RID","rpc"),zi(P,"SID",m.K),zi(P,"AID",m.T),zi(P,"CI",m.F?"0":"1"),!m.F&&m.ja&&zi(P,"TO",m.ja),zi(P,"TYPE","xmlhttp"),fd(m,P),m.m&&m.o&&wg(P,m.m,m.o),m.L&&(m.g.I=m.L);var W=m.g;m=m.ia,W.L=1,W.v=uh(Va(P)),W.m=null,W.P=!0,A_(W,m)}function Gf(m){null!=m.C&&(C.clearTimeout(m.C),m.C=null)}function K_(m,P){var W=null;if(m.g==P){Gf(m),Mg(m),m.g=null;var fe=2}else{if(!Pv(m.h,P))return;W=P.D,Ov(m.h,P),fe=1}if(0!=m.G)if(P.o)if(1==fe){W=P.m?P.m.length:0,P=Date.now()-P.F;var At=m.B;Hs(fe=sh(),new T_(fe,W)),Sg(m)}else Rg(m);else if(3==(At=P.s)||0==At&&0<P.X||!(1==fe&&function XI(m,P){return!(Tg(m.h)>=m.h.j-(m.s?1:0)||(m.s?(m.i=P.D.concat(m.i),0):1==m.G||2==m.G||m.B>=(m.Va?0:m.Wa)||(m.s=ah(Ke(m.Ga,m,P),yh(m,m.B)),m.B++,0)))}(m,P)||2==fe&&mh(m)))switch(W&&0<W.length&&(P=m.h,P.i=P.i.concat(W)),At){case 1:vu(m,5);break;case 4:vu(m,10);break;case 3:vu(m,6);break;default:vu(m,2)}}function yh(m,P){let W=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(W*=2),W*P}function vu(m,P){if(m.j.info("Error code "+P),2==P){var W=Ke(m.fb,m),fe=m.Xa;const At=!fe;fe=new pu(fe||"//www.google.com/images/cleardot.gif"),C.location&&"http"==C.location.protocol||lh(fe,"https"),uh(fe),At?function V_(m,P){const W=new xf;if(C.Image){const fe=new Image;fe.onload=wt(mc,W,"TestLoadImage: loaded",!0,P,fe),fe.onerror=wt(mc,W,"TestLoadImage: error",!1,P,fe),fe.onabort=wt(mc,W,"TestLoadImage: abort",!1,P,fe),fe.ontimeout=wt(mc,W,"TestLoadImage: timeout",!1,P,fe),C.setTimeout(function(){fe.ontimeout&&fe.ontimeout()},1e4),fe.src=m}else P(!1)}(fe.toString(),W):function GI(m,P){new xf;const fe=new AbortController,At=setTimeout(()=>{fe.abort(),mc(0,0,!1,P)},1e4);fetch(m,{signal:fe.signal}).then(jt=>{clearTimeout(At),mc(0,0,!!jt.ok,P)}).catch(()=>{clearTimeout(At),mc(0,0,!1,P)})}(fe.toString(),W)}else zs(2);m.G=0,m.l&&m.l.sa(P),Vv(m),qI(m)}function Vv(m){if(m.G=0,m.ka=[],m.l){const P=xv(m.h);(0!=P.length||0!=m.i.length)&&(ln(m.ka,P),ln(m.ka,m.i),m.h.i.length=0,hn(m.i),m.i.length=0),m.l.ra()}}function Uv(m,P,W){var fe=W instanceof pu?Va(W):new pu(W);if(""!=fe.g)P&&(fe.g=P+"."+fe.g),Ua(fe,fe.s);else{var At=C.location;fe=At.protocol,P=P?P+"."+At.hostname:At.hostname,At=+At.port;var jt=new pu(null);fe&&lh(jt,fe),P&&(jt.g=P),At&&Ua(jt,At),W&&(jt.l=W),fe=jt}return P=m.ya,(W=m.D)&&P&&zi(fe,W,P),zi(fe,"VER",m.la),fd(m,fe),fe}function Bv(m,P,W){if(P&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return(P=new Vi(m.Ca&&!m.pa?new Uf({eb:W}):m.pa)).Ha(m.J),P}function q_(){}function Pg(){}function Ca(m,P){rs.call(this),this.g=new z_(P),this.l=m,this.h=P&&P.messageUrlParams||null,m=P&&P.messageHeaders||null,P&&P.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=P&&P.initMessageHeaders||null,P&&P.messageContentType&&(m?m["X-WebChannel-Content-Type"]=P.messageContentType:m={"X-WebChannel-Content-Type":P.messageContentType}),P&&P.va&&(m?m["X-WebChannel-Client-Profile"]=P.va:m={"X-WebChannel-Client-Profile":P.va}),this.g.S=m,(m=P&&P.Sb)&&!Qn(m)&&(this.g.m=m),this.v=P&&P.supportsCrossDomainXhr||!1,this.u=P&&P.sendRawJson||!1,(P=P&&P.httpSessionIdParam)&&!Qn(P)&&(this.g.D=P,null!==(m=this.h)&&P in m&&P in(m=this.h)&&delete m[P]),this.j=new Eh(this)}function _h(m){ld.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var P=m.__sm__;if(P){e:{for(const W in P){m=W;break e}m=void 0}(this.i=m)&&(m=this.i,P=null!==P&&m in P?P[m]:void 0),this.data=P}else this.data=m}function X_(){gg.call(this),this.status=1}function Eh(m){this.g=m}(l=Vi.prototype).Ha=function(m){this.J=m},l.ea=function(m,P,W,fe){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);P=P?P.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ws.g(),this.v=function Of(m){return m.h||(m.h=m.i())}(this.o?this.o:ws),this.g.onreadystatechange=Ke(this.Ea,this);try{this.B=!0,this.g.open(P,String(m),!0),this.B=!1}catch(jt){return void $_(this,jt)}if(m=W||"",W=new Map(this.headers),fe)if(Object.getPrototypeOf(fe)===Object.prototype)for(var At in fe)W.set(At,fe[At]);else{if("function"!=typeof fe.keys||"function"!=typeof fe.get)throw Error("Unknown input type for opt_headers: "+String(fe));for(const jt of fe.keys())W.set(jt,fe.get(jt))}fe=Array.from(W.keys()).find(jt=>"content-type"==jt.toLowerCase()),At=C.FormData&&m instanceof C.FormData,!(0<=Array.prototype.indexOf.call(Hf,P,void 0))||fe||At||W.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[jt,Rn]of W)this.g.setRequestHeader(jt,Rn);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ag(this),this.u=!0,this.g.send(m),this.u=!1}catch(jt){$_(this,jt)}},l.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Hs(this,"complete"),Hs(this,"abort"),hd(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hd(this,!0)),Vi.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?H_(this):this.bb())},l.bb=function(){H_(this)},l.isActive=function(){return!!this.g},l.Z=function(){try{return 2<wl(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(m){if(this.g){var P=this.g.responseText;return m&&0==P.indexOf(m)&&(P=P.substring(m.length)),__(P)}},l.Ba=function(){return this.m},l.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(l=z_.prototype).la=8,l.G=1,l.connect=function(m,P,W,fe){zs(0),this.W=m,this.H=P||{},W&&void 0!==fe&&(this.H.OSID=W,this.H.OAID=fe),this.F=this.X,this.I=Uv(this,null,this.W),Sg(this)},l.Ga=function(m){if(this.s)if(this.s=null,1==this.G){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const At=new fu(this,this.j,m);let jt=this.o;if(this.S&&(jt?(jt=We(jt),Et(jt,this.S)):jt=this.S),null!==this.m||this.O||(At.H=jt,jt=null),this.P)e:{for(var P=0,W=0;W<this.i.length;W++){var fe=this.i[W];if(void 0===(fe="__data__"in fe.map&&"string"==typeof(fe=fe.map.__data__)?fe.length:void 0))break;if(4096<(P+=fe)){P=W;break e}if(4096===P||W===this.i.length-1){P=W+1;break e}}P=1e3}else P=1e3;P=gh(this,At,P),zi(W=Va(this.I),"RID",m),zi(W,"CVER",22),this.D&&zi(W,"X-HTTP-Session-Id",this.D),fd(this,W),jt&&(this.O?P="headers="+encodeURIComponent(String(Dg(jt)))+"&"+P:this.m&&wg(W,this.m,jt)),Nv(this.h,At),this.Ua&&zi(W,"TYPE","init"),this.P?(zi(W,"$req",P),zi(W,"SID","null"),At.T=!0,Rv(At,W,null)):Rv(At,W,P),this.G=2}}else 3==this.G&&(m?W_(this,m):0==this.i.length||gc(this.h)||W_(this))},l.Fa=function(){if(this.u=null,vh(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=ah(Ke(this.ab,this),m)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,zs(10),bg(this),vh(this))},l.Za=function(){null!=this.C&&(this.C=null,bg(this),mh(this),zs(19))},l.fb=function(m){m?(this.j.info("Successfully pinged google.com"),zs(2)):(this.j.info("Failed to ping google.com"),zs(1))},l.isActive=function(){return!!this.l&&this.l.isActive(this)},(l=q_.prototype).ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){},Pg.prototype.g=function(m,P){return new Ca(m,P)},Zt(Ca,rs),Ca.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ca.prototype.close=function(){G_(this.g)},Ca.prototype.o=function(m){var P=this.g;if("string"==typeof m){var W={};W.__data__=m,m=W}else this.u&&((W={}).__data__=du(m),m=W);P.i.push(new jI(P.Ya++,m)),3==P.G&&Sg(P)},Ca.prototype.N=function(){this.g.l=null,delete this.j,G_(this.g),delete this.g,Ca.aa.N.call(this)},Zt(_h,ld),Zt(X_,gg),Zt(Eh,q_),Eh.prototype.ua=function(){Hs(this.g,"a")},Eh.prototype.ta=function(m){Hs(this.g,new _h(m))},Eh.prototype.sa=function(m){Hs(this.g,new X_)},Eh.prototype.ra=function(){Hs(this.g,"b")},Pg.prototype.createWebChannel=Pg.prototype.g,Ca.prototype.send=Ca.prototype.o,Ca.prototype.open=Ca.prototype.m,Ca.prototype.close=Ca.prototype.close,we=Vt.createWebChannelTransport=function(){return new Pg},re=Vt.getStatEventTarget=function(){return sh()},Q=Vt.Event=Dl,q=Vt.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vg.NO_ERROR=0,vg.TIMEOUT=8,vg.HTTP_ERROR=6,_e=Vt.ErrorCode=vg,w_.COMPLETE="complete",pt=Vt.EventType=w_,hu.EventType=cd,cd.OPEN="a",cd.CLOSE="b",cd.ERROR="c",cd.MESSAGE="d",rs.prototype.listen=rs.prototype.K,vn=Vt.WebChannel=hu,qt=Vt.FetchXmlHttpFactory=Uf,Vi.prototype.listenOnce=Vi.prototype.L,Vi.prototype.getLastError=Vi.prototype.Ka,Vi.prototype.getLastErrorCode=Vi.prototype.Ba,Vi.prototype.getStatus=Vi.prototype.Z,Vi.prototype.getResponseJson=Vi.prototype.Oa,Vi.prototype.getResponseText=Vi.prototype.oa,Vi.prototype.send=Vi.prototype.ea,Vi.prototype.setWithCredentials=Vi.prototype.Ha,pn=Vt.XhrIo=Vi}).apply(typeof Ft<"u"?Ft:typeof self<"u"?self:typeof window<"u"?window:{});const gt="@firebase/firestore";class Ie{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ie.UNAUTHENTICATED=new Ie(null),Ie.GOOGLE_CREDENTIALS=new Ie("google-credentials-uid"),Ie.FIRST_PARTY=new Ie("first-party-uid"),Ie.MOCK_USER=new Ie("mock-user");let ht="10.13.2";const qe=new me.Vy("@firebase/firestore");function en(){return qe.logLevel}function ut(l,...t){if(qe.logLevel<=me.$b.DEBUG){const i=t.map(Dn);qe.debug(`Firestore (${ht}): ${l}`,...i)}}function Jt(l,...t){if(qe.logLevel<=me.$b.ERROR){const i=t.map(Dn);qe.error(`Firestore (${ht}): ${l}`,...i)}}function Cn(l,...t){if(qe.logLevel<=me.$b.WARN){const i=t.map(Dn);qe.warn(`Firestore (${ht}): ${l}`,...i)}}function Dn(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch{return l}}function Ht(l="Unexpected state"){const t=`FIRESTORE (${ht}) INTERNAL ASSERTION FAILED: `+l;throw Jt(t),new Error(t)}function $t(l,t){l||Ht()}function xt(l,t){return l}const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends je.g{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _t{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}class nn{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class An{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(Ie.UNAUTHENTICATED))}shutdown(){}}class hr{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Mn{constructor(t){this.t=t,this.currentUser=Ie.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){var s=this;let u=this.i;const f=j=>this.i!==u?(u=this.i,i(j)):Promise.resolve();let v=new _t;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new _t,t.enqueueRetryable(()=>f(this.currentUser))};const C=()=>{const j=v;t.enqueueRetryable((0,pe.A)(function*(){yield j.promise,yield f(s.currentUser)}))},R=j=>{ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=j,this.auth.addAuthTokenListener(this.o),C()};this.t.onInit(j=>R(j)),setTimeout(()=>{if(!this.auth){const j=this.t.getImmediate({optional:!0});j?R(j):(ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new _t)}},0),C()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($t("string"==typeof s.accessToken),new nn(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return $t(null===t||"string"==typeof t),new Ie(t)}}class yn{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=Ie.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class kt{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new yn(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(Ie.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vr{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class pr{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,i){const s=f=>{null!=f.error&&ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const v=f.token!==this.R;return this.R=f.token,ut("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?i(f.token):Promise.resolve()};this.o=f=>{t.enqueueRetryable(()=>s(f))};const u=f=>{ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.A.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.A.getImmediate({optional:!0});f?u(f):ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?($t("string"==typeof i.token),this.R=i.token,new vr(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Jn(l){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(l);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(i);else for(let s=0;s<l;s++)i[s]=Math.floor(256*Math.random());return i}class Rr{static newId(){const i=62*Math.floor(256/62);let s="";for(;s.length<20;){const u=Jn(40);for(let f=0;f<u.length;++f)s.length<20&&u[f]<i&&(s+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(u[f]%62))}return s}}function Nn(l,t){return l<t?-1:l>t?1:0}function ir(l,t,i){return l.length===t.length&&l.every((s,u)=>i(s,t[u]))}function Ri(l){return l+"\0"}class bn{constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new Pe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Pe(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<-62135596800)throw new Pe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Pe(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return bn.fromMillis(Date.now())}static fromDate(t){return bn.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*i));return new bn(i,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Nn(this.nanoseconds,t.nanoseconds):Nn(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class tn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new tn(t)}static min(){return new tn(new bn(0,0))}static max(){return new tn(new bn(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class hi{constructor(t,i,s){void 0===i?i=0:i>t.length&&Ht(),void 0===s?s=t.length-i:s>t.length-i&&Ht(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return 0===hi.comparator(this,t)}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof hi?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let u=0;u<s;u++){const f=t.get(u),v=i.get(u);if(f<v)return-1;if(f>v)return 1}return t.length<i.length?-1:t.length>i.length?1:0}}class xn extends hi{construct(t,i,s){return new xn(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new Pe(Se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(u=>u.length>0))}return new xn(i)}static emptyPath(){return new xn([])}}const ri=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lr extends hi{construct(t,i,s){return new lr(t,i,s)}static isValidIdentifier(t){return ri.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lr.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new lr(["__name__"])}static fromServerFormat(t){const i=[];let s="",u=0;const f=()=>{if(0===s.length)throw new Pe(Se.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let v=!1;for(;u<t.length;){const C=t[u];if("\\"===C){if(u+1===t.length)throw new Pe(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const R=t[u+1];if("\\"!==R&&"."!==R&&"`"!==R)throw new Pe(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=R,u+=2}else"`"===C?(v=!v,u++):"."!==C||v?(s+=C,u++):(f(),u++)}if(f(),v)throw new Pe(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new lr(i)}static emptyPath(){return new lr([])}}class on{constructor(t){this.path=t}static fromPath(t){return new on(xn.fromString(t))}static fromName(t){return new on(xn.fromString(t).popFirst(5))}static empty(){return new on(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===xn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,i){return xn.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new on(new xn(t.slice()))}}class Kr{constructor(t,i,s,u){this.indexId=t,this.collectionGroup=i,this.fields=s,this.indexState=u}}function Zr(l){return l.fields.find(t=>2===t.kind)}function bt(l){return l.fields.filter(t=>2!==t.kind)}Kr.UNKNOWN_ID=-1;class Me{constructor(t,i){this.fieldPath=t,this.kind=i}}class Ut{constructor(t,i){this.sequenceNumber=t,this.offset=i}static empty(){return new Ut(0,Be.min())}}function Ee(l,t){const i=l.toTimestamp().seconds,s=l.toTimestamp().nanoseconds+1,u=tn.fromTimestamp(1e9===s?new bn(i+1,0):new bn(i,s));return new Be(u,on.empty(),t)}function Te(l){return new Be(l.readTime,l.key,-1)}class Be{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Be(tn.min(),on.empty(),-1)}static max(){return new Be(tn.max(),on.empty(),-1)}}function St(l,t){let i=l.readTime.compareTo(t.readTime);return 0!==i?i:(i=on.comparator(l.documentKey,t.documentKey),0!==i?i:Nn(l.largestBatchId,t.largestBatchId))}const dt="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class gn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function dn(l){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,pe.A)(function*(l){if(l.code!==Se.FAILED_PRECONDITION||l.message!==dt)throw l;ut("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new at((s,u)=>{this.nextCallback=f=>{this.wrapSuccess(t,f).next(s,u)},this.catchCallback=f=>{this.wrapFailure(i,f).next(s,u)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof at?i:at.resolve(i)}catch(i){return at.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):at.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):at.reject(i)}static resolve(t){return new at((i,s)=>{i(t)})}static reject(t){return new at((i,s)=>{s(t)})}static waitFor(t){return new at((i,s)=>{let u=0,f=0,v=!1;t.forEach(C=>{++u,C.next(()=>{++f,v&&f===u&&i()},R=>s(R))}),v=!0,f===u&&i()})}static or(t){let i=at.resolve(!1);for(const s of t)i=i.next(u=>u?at.resolve(u):s());return i}static forEach(t,i){const s=[];return t.forEach((u,f)=>{s.push(i.call(this,u,f))}),this.waitFor(s)}static mapArray(t,i){return new at((s,u)=>{const f=t.length,v=new Array(f);let C=0;for(let R=0;R<f;R++){const j=R;i(t[j]).next(ie=>{v[j]=ie,++C,C===f&&s(v)},ie=>u(ie))}})}static doWhile(t,i){return new at((s,u)=>{const f=()=>{!0===t()?i().next(()=>{f()},u):s()};f()})}}class er{constructor(t,i){this.action=t,this.transaction=i,this.aborted=!1,this.V=new _t,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{i.error?this.V.reject(new qr(t,i.error)):this.V.resolve()},this.transaction.onerror=s=>{const u=Ni(s.target.error);this.V.reject(new qr(t,u))}}static open(t,i,s,u){try{return new er(i,t.transaction(u,s))}catch(f){throw new qr(i,f)}}get m(){return this.V.promise}abort(t){t&&this.V.reject(t),this.aborted||(ut("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const i=this.transaction.objectStore(t);return new Mi(i)}}class qn{constructor(t,i,s){this.name=t,this.version=i,this.p=s,12.2===qn.S((0,je.ZQ)())&&Jt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return ut("SimpleDb","Removing database:",t),Hr(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,je.zW)())return!1;if(qn.v())return!0;const t=(0,je.ZQ)(),i=qn.S(t),s=0<i&&i<10,u=$n(t),f=0<u&&u<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||s||f)}static v(){var t;return typeof process<"u"&&"YES"===(null===(t=process.__PRIVATE_env)||void 0===t?void 0:t.C)}static F(t,i){return t.store(i)}static S(t){const i=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(s)}M(t){var i=this;return(0,pe.A)(function*(){return i.db||(ut("SimpleDb","Opening database:",i.name),i.db=yield new Promise((s,u)=>{const f=indexedDB.open(i.name,i.version);f.onsuccess=v=>{s(v.target.result)},f.onblocked=()=>{u(new qr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=v=>{const C=v.target.error;u("VersionError"===C.name?new Pe(Se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===C.name?new Pe(Se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+C):new qr(t,C))},f.onupgradeneeded=v=>{ut("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',v.oldVersion),i.p.O(v.target.result,f.transaction,v.oldVersion,i.version).next(()=>{ut("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.N&&(i.db.onversionchange=s=>i.N(s)),i.db})()}L(t){this.N=t,this.db&&(this.db.onversionchange=i=>t(i))}runTransaction(t,i,s,u){var f=this;return(0,pe.A)(function*(){const v="readonly"===i;let C=0;for(;;){++C;try{f.db=yield f.M(t);const R=er.open(f.db,t,v?"readonly":"readwrite",s),j=u(R).next(ie=>(R.g(),ie)).catch(ie=>(R.abort(ie),at.reject(ie))).toPromise();return j.catch(()=>{}),yield R.m,j}catch(R){const j=R,ie="FirebaseError"!==j.name&&C<3;if(ut("SimpleDb","Transaction failed with error:",j.message,"Retrying:",ie),f.close(),!ie)return Promise.reject(j)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}function $n(l){const t=l.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}class Mr{constructor(t){this.B=t,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(t){this.B=t}done(){this.k=!0}$(t){this.q=t}delete(){return Hr(this.B.delete())}}class qr extends Pe{constructor(t,i){super(Se.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function Vr(l){return"IndexedDbTransactionError"===l.name}class Mi{constructor(t){this.store=t}put(t,i){let s;return void 0!==i?(ut("SimpleDb","PUT",this.store.name,t,i),s=this.store.put(i,t)):(ut("SimpleDb","PUT",this.store.name,"<auto-key>",t),s=this.store.put(t)),Hr(s)}add(t){return ut("SimpleDb","ADD",this.store.name,t,t),Hr(this.store.add(t))}get(t){return Hr(this.store.get(t)).next(i=>(void 0===i&&(i=null),ut("SimpleDb","GET",this.store.name,t,i),i))}delete(t){return ut("SimpleDb","DELETE",this.store.name,t),Hr(this.store.delete(t))}count(){return ut("SimpleDb","COUNT",this.store.name),Hr(this.store.count())}U(t,i){const s=this.options(t,i),u=s.index?this.store.index(s.index):this.store;if("function"==typeof u.getAll){const f=u.getAll(s.range);return new at((v,C)=>{f.onerror=R=>{C(R.target.error)},f.onsuccess=R=>{v(R.target.result)}})}{const f=this.cursor(s),v=[];return this.W(f,(C,R)=>{v.push(R)}).next(()=>v)}}G(t,i){const s=this.store.getAll(t,null===i?void 0:i);return new at((u,f)=>{s.onerror=v=>{f(v.target.error)},s.onsuccess=v=>{u(v.target.result)}})}j(t,i){ut("SimpleDb","DELETE ALL",this.store.name);const s=this.options(t,i);s.H=!1;const u=this.cursor(s);return this.W(u,(f,v,C)=>C.delete())}J(t,i){let s;i?s=t:(s={},i=t);const u=this.cursor(s);return this.W(u,i)}Y(t){const i=this.cursor({});return new at((s,u)=>{i.onerror=f=>{const v=Ni(f.target.error);u(v)},i.onsuccess=f=>{const v=f.target.result;v?t(v.primaryKey,v.value).next(C=>{C?v.continue():s()}):s()}})}W(t,i){const s=[];return new at((u,f)=>{t.onerror=v=>{f(v.target.error)},t.onsuccess=v=>{const C=v.target.result;if(!C)return void u();const R=new Mr(C),j=i(C.primaryKey,C.value,R);if(j instanceof at){const ie=j.catch(ve=>(R.done(),at.reject(ve)));s.push(ie)}R.isDone?u():null===R.K?C.continue():C.continue(R.K)}}).next(()=>at.waitFor(s))}options(t,i){let s;return void 0!==t&&("string"==typeof t?s=t:i=t),{index:s,range:i}}cursor(t){let i="next";if(t.reverse&&(i="prev"),t.index){const s=this.store.index(t.index);return t.H?s.openKeyCursor(t.range,i):s.openCursor(t.range,i)}return this.store.openCursor(t.range,i)}}function Hr(l){return new at((t,i)=>{l.onsuccess=s=>{t(s.target.result)},l.onerror=s=>{const u=Ni(s.target.error);i(u)}})}let Ii=!1;function Ni(l){const t=qn.S((0,je.ZQ)());if(t>=12.2&&t<13){const i="An internal error was encountered in the Indexed Database server";if(l.message.indexOf(i)>=0){const s=new Pe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ii||(Ii=!0,setTimeout(()=>{throw s},0)),s}}return l}class Bi{constructor(t,i){this.asyncQueue=t,this.Z=i,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(t){var i=this;ut("IndexBackfiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,pe.A)(function*(){i.task=null;try{ut("IndexBackfiller",`Documents written: ${yield i.Z.ee()}`)}catch(s){Vr(s)?ut("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):yield dn(s)}yield i.X(6e4)}))}}class te{constructor(t,i){this.localStore=t,this.persistence=i}ee(t=50){var i=this;return(0,pe.A)(function*(){return i.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>i.te(s,t))})()}te(t,i){const s=new Set;let u=i,f=!0;return at.doWhile(()=>!0===f&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(v=>{if(null!==v&&!s.has(v))return ut("IndexBackfiller",`Processing collection: ${v}`),this.ne(t,v,u).next(C=>{u-=C,s.add(v)});f=!1})).next(()=>i-u)}ne(t,i,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,i).next(u=>this.localStore.localDocuments.getNextDocuments(t,i,u,s).next(f=>{const v=f.changes;return this.localStore.indexManager.updateIndexEntries(t,v).next(()=>this.re(u,f)).next(C=>(ut("IndexBackfiller",`Updating offset: ${C}`),this.localStore.indexManager.updateCollectionGroup(t,i,C))).next(()=>v.size)}))}re(t,i){let s=t;return i.changes.forEach((u,f)=>{const v=Te(f);St(v,s)>0&&(s=v)}),new Be(s.readTime,s.documentKey,Math.max(i.batchId,t.largestBatchId))}}let X=(()=>{class l{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=u=>this.ie(u),this.se=u=>s.writeSequenceNumber(u))}ie(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.se&&this.se(i),i}}return l.oe=-1,l})();function U(l){return null==l}function ee(l){return 0===l&&1/l==-1/0}function Le(l){return"number"==typeof l&&Number.isInteger(l)&&!ee(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}function de(l){let t="";for(let i=0;i<l.length;i++)t.length>0&&(t=Nt(t)),t=tt(l.get(i),t);return Nt(t)}function tt(l,t){let i=t;const s=l.length;for(let u=0;u<s;u++){const f=l.charAt(u);switch(f){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=f}}return i}function Nt(l){return l+"\x01\x01"}function sn(l){const t=l.length;if($t(t>=2),2===t)return $t("\x01"===l.charAt(0)&&"\x01"===l.charAt(1)),xn.emptyPath();const i=t-2,s=[];let u="";for(let f=0;f<t;){const v=l.indexOf("\x01",f);switch((v<0||v>i)&&Ht(),l.charAt(v+1)){case"\x01":const C=l.substring(f,v);let R;0===u.length?R=C:(u+=C,R=u,u=""),s.push(R);break;case"\x10":u+=l.substring(f,v),u+="\0";break;case"\x11":u+=l.substring(f,v+1);break;default:Ht()}f=v+2}return new xn(s)}const kn=["userId","batchId"];function ur(l,t){return[l,de(t)]}function Kn(l,t,i){return[l,de(t),i]}const Oi={},Xr=["prefixPath","collectionGroup","readTime","documentId"],sr=["prefixPath","collectionGroup","documentId"],ii=["collectionGroup","readTime","prefixPath","documentId"],Bo=["canonicalId","targetId"],ai=["targetId","path"],Jr=["path","targetId"],Gi=["collectionId","parent"],Ti=["indexId","uid"],Ci=["uid","sequenceNumber"],Ss=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Rs=["indexId","uid","orderedDocumentKey"],$o=["userId","collectionPath","documentId"],ss=["userId","collectionPath","largestBatchId"],Xo=["userId","collectionGroup","largestBatchId"],as=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],jo=[...as,"documentOverlays"],Di=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ms=Di,Io=[...Ms,"indexConfiguration","indexState","indexEntries"],cs=Io,ja=[...Io,"globals"];class ls extends gn{constructor(t,i){super(),this._e=t,this.currentSequenceNumber=i}}function ei(l,t){const i=xt(l);return qn.F(i._e,t)}function ro(l){let t=0;for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&t++;return t}function Ho(l,t){for(const i in l)Object.prototype.hasOwnProperty.call(l,i)&&t(i,l[i])}function Aa(l){for(const t in l)if(Object.prototype.hasOwnProperty.call(l,t))return!1;return!0}class jr{constructor(t,i){this.comparator=t,this.root=i||ci.EMPTY}insert(t,i){return new jr(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(t){return new jr(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ci.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(0===s)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(0===u)return i+s.left.size;u<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qo(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qo(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qo(this.root,t,this.comparator,!0)}}class Qo{constructor(t,i,s,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!t.isEmpty();)if(f=i?s(t.key,i):1,i&&u&&(f*=-1),f<0)t=this.isReverse?t.left:t.right;else{if(0===f){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ci{constructor(t,i,s,u,f){this.key=t,this.value=i,this.color=s??ci.RED,this.left=u??ci.EMPTY,this.right=f??ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,u,f){return new ci(t??this.key,i??this.value,s??this.color,u??this.left,f??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let u=this;const f=s(t,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(t,i,s),null):0===f?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(t,i,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,u=this;if(i(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(t,u.key)){if(u.right.isEmpty())return ci.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ht();const t=this.left.check();if(t!==this.right.check())throw Ht();return t+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1,ci.EMPTY=new class{constructor(){this.size=0}get key(){throw Ht()}get value(){throw Ht()}get color(){throw Ht()}get left(){throw Ht()}get right(){throw Ht()}copy(t,i,s,u,f){return this}insert(t,i,s){return new ci(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(t){this.comparator=t,this.data=new jr(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;i(u.key)}}forEachWhile(t,i){let s;for(s=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new To(this.data.getIterator())}getIteratorFrom(t){return new To(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof Pr)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new Pr(this.comparator);return i.data=t,i}}class To{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Co(l){return l.hasNext()?l.getNext():void 0}class wi{constructor(t){this.fields=t,t.sort(lr.comparator)}static empty(){return new wi([])}unionWith(t){let i=new Pr(lr.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new wi(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ir(this.fields,t.fields,(i,s)=>i.isEqual(s))}}class H extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class z{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(u){try{return atob(u)}catch(f){throw typeof DOMException<"u"&&f instanceof DOMException?new H("Invalid base64 string: "+f):f}}(t);return new z(i)}static fromUint8Array(t){const i=function(u){let f="";for(let v=0;v<u.length;++v)f+=String.fromCharCode(u[v]);return f}(t);return new z(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let u=0;u<i.length;u++)s[u]=i.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nn(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}z.EMPTY_BYTE_STRING=new z("");const M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ue(l){if($t(!!l),"string"==typeof l){let t=0;const i=M.exec(l);if($t(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(l);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:k(l.seconds),nanos:k(l.nanos)}}function k(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function J(l){return"string"==typeof l?z.fromBase64String(l):z.fromUint8Array(l)}function Ce(l){var t,i;return"server_timestamp"===(null===(i=((null===(t=l?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function xe(l){const t=l.mapValue.fields.__previous_value__;return Ce(t)?xe(t):t}function nt(l){const t=ue(l.mapValue.fields.__local_write_time__.timestampValue);return new bn(t.seconds,t.nanos)}class ct{constructor(t,i,s,u,f,v,C,R,j){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=u,this.ssl=f,this.forceLongPolling=v,this.autoDetectLongPolling=C,this.longPollingOptions=R,this.useFetchStreams=j}}class Lt{constructor(t,i){this.projectId=t,this.database=i||"(default)"}static empty(){return new Lt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Lt&&t.projectId===this.projectId&&t.database===this.database}}const Kt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bt={nullValue:"NULL_VALUE"};function Wt(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Ce(l)?4:lo(l)?9007199254740991:Ws(l)?10:11:Ht()}function an(l,t){if(l===t)return!0;const i=Wt(l);if(i!==Wt(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===t.booleanValue;case 4:return nt(l).isEqual(nt(t));case 3:return function(u,f){if("string"==typeof u.timestampValue&&"string"==typeof f.timestampValue&&u.timestampValue.length===f.timestampValue.length)return u.timestampValue===f.timestampValue;const v=ue(u.timestampValue),C=ue(f.timestampValue);return v.seconds===C.seconds&&v.nanos===C.nanos}(l,t);case 5:return l.stringValue===t.stringValue;case 6:return f=t,J(l.bytesValue).isEqual(J(f.bytesValue));case 7:return l.referenceValue===t.referenceValue;case 8:return function(u,f){return k(u.geoPointValue.latitude)===k(f.geoPointValue.latitude)&&k(u.geoPointValue.longitude)===k(f.geoPointValue.longitude)}(l,t);case 2:return function(u,f){if("integerValue"in u&&"integerValue"in f)return k(u.integerValue)===k(f.integerValue);if("doubleValue"in u&&"doubleValue"in f){const v=k(u.doubleValue),C=k(f.doubleValue);return v===C?ee(v)===ee(C):isNaN(v)&&isNaN(C)}return!1}(l,t);case 9:return ir(l.arrayValue.values||[],t.arrayValue.values||[],an);case 10:case 11:return function(u,f){const v=u.mapValue.fields||{},C=f.mapValue.fields||{};if(ro(v)!==ro(C))return!1;for(const R in v)if(v.hasOwnProperty(R)&&(void 0===C[R]||!an(v[R],C[R])))return!1;return!0}(l,t);default:return Ht()}var f}function _n(l,t){return void 0!==(l.values||[]).find(i=>an(i,t))}function Pn(l,t){if(l===t)return 0;const i=Wt(l),s=Wt(t);if(i!==s)return Nn(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nn(l.booleanValue,t.booleanValue);case 2:return function(f,v){const C=k(f.integerValue||f.doubleValue),R=k(v.integerValue||v.doubleValue);return C<R?-1:C>R?1:C===R?0:isNaN(C)?isNaN(R)?0:-1:1}(l,t);case 3:return Fn(l.timestampValue,t.timestampValue);case 4:return Fn(nt(l),nt(t));case 5:return Nn(l.stringValue,t.stringValue);case 6:return function(f,v){const C=J(f),R=J(v);return C.compareTo(R)}(l.bytesValue,t.bytesValue);case 7:return function(f,v){const C=f.split("/"),R=v.split("/");for(let j=0;j<C.length&&j<R.length;j++){const ie=Nn(C[j],R[j]);if(0!==ie)return ie}return Nn(C.length,R.length)}(l.referenceValue,t.referenceValue);case 8:return function(f,v){const C=Nn(k(f.latitude),k(v.latitude));return 0!==C?C:Nn(k(f.longitude),k(v.longitude))}(l.geoPointValue,t.geoPointValue);case 9:return Ar(l.arrayValue,t.arrayValue);case 10:return function(f,v){var C,R,j,ie;const wt=null===(C=(f.fields||{}).value)||void 0===C?void 0:C.arrayValue,Zt=null===(R=(v.fields||{}).value)||void 0===R?void 0:R.arrayValue,hn=Nn((null===(j=wt?.values)||void 0===j?void 0:j.length)||0,(null===(ie=Zt?.values)||void 0===ie?void 0:ie.length)||0);return 0!==hn?hn:Ar(wt,Zt)}(l.mapValue,t.mapValue);case 11:return function(f,v){if(f===Kt.mapValue&&v===Kt.mapValue)return 0;if(f===Kt.mapValue)return 1;if(v===Kt.mapValue)return-1;const C=f.fields||{},R=Object.keys(C),j=v.fields||{},ie=Object.keys(j);R.sort(),ie.sort();for(let ve=0;ve<R.length&&ve<ie.length;++ve){const Ke=Nn(R[ve],ie[ve]);if(0!==Ke)return Ke;const wt=Pn(C[R[ve]],j[ie[ve]]);if(0!==wt)return wt}return Nn(R.length,ie.length)}(l.mapValue,t.mapValue);default:throw Ht()}}function Fn(l,t){if("string"==typeof l&&"string"==typeof t&&l.length===t.length)return Nn(l,t);const i=ue(l),s=ue(t),u=Nn(i.seconds,s.seconds);return 0!==u?u:Nn(i.nanos,s.nanos)}function Ar(l,t){const i=l.values||[],s=t.values||[];for(let u=0;u<i.length&&u<s.length;++u){const f=Pn(i[u],s[u]);if(f)return f}return Nn(i.length,s.length)}function xr(l){return ti(l)}function ti(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(i){const s=ue(i);return`time(${s.seconds},${s.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?J(l.bytesValue).toBase64():"referenceValue"in l?on.fromName(l.referenceValue).toString():"geoPointValue"in l?function(i){return`geo(${i.latitude},${i.longitude})`}(l.geoPointValue):"arrayValue"in l?function(i){let s="[",u=!0;for(const f of i.values||[])u?u=!1:s+=",",s+=ti(f);return s+"]"}(l.arrayValue):"mapValue"in l?function(i){const s=Object.keys(i.fields||{}).sort();let u="{",f=!0;for(const v of s)f?f=!1:u+=",",u+=`${v}:${ti(i.fields[v])}`;return u+"}"}(l.mapValue):Ht()}function rn(l,t){return{referenceValue:`projects/${l.projectId}/databases/${l.database}/documents/${t.path.canonicalString()}`}}function Qi(l){return!!l&&"integerValue"in l}function mi(l){return!!l&&"arrayValue"in l}function Ha(l){return!!l&&"nullValue"in l}function Gs(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Yi(l){return!!l&&"mapValue"in l}function Ws(l){var t,i;return"__vector__"===(null===(i=((null===(t=l?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function Zi(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const t={mapValue:{fields:{}}};return Ho(l.mapValue.fields,(i,s)=>t.mapValue.fields[i]=Zi(s)),t}if(l.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(l.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Zi(l.arrayValue.values[i]);return t}return Object.assign({},l)}function lo(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}const Ji={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function us(l){return"nullValue"in l?Bt:"booleanValue"in l?{booleanValue:!1}:"integerValue"in l||"doubleValue"in l?{doubleValue:NaN}:"timestampValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in l?{stringValue:""}:"bytesValue"in l?{bytesValue:""}:"referenceValue"in l?rn(Lt.empty(),on.empty()):"geoPointValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in l?{arrayValue:{}}:"mapValue"in l?Ws(l)?Ji:{mapValue:{}}:Ht()}function Do(l){return"nullValue"in l?{booleanValue:!1}:"booleanValue"in l?{doubleValue:NaN}:"integerValue"in l||"doubleValue"in l?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in l?{stringValue:""}:"stringValue"in l?{bytesValue:""}:"bytesValue"in l?rn(Lt.empty(),on.empty()):"referenceValue"in l?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in l?{arrayValue:{}}:"arrayValue"in l?Ji:"mapValue"in l?Ws(l)?{mapValue:{}}:Kt:Ht()}function zo(l,t){const i=Pn(l.value,t.value);return 0!==i?i:l.inclusive&&!t.inclusive?-1:!l.inclusive&&t.inclusive?1:0}function uo(l,t){const i=Pn(l.value,t.value);return 0!==i?i:l.inclusive&&!t.inclusive?1:!l.inclusive&&t.inclusive?-1:0}class $i{constructor(t){this.value=t}static empty(){return new $i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Yi(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Zi(i)}setAll(t){let i=lr.emptyPath(),s={},u=[];t.forEach((v,C)=>{if(!i.isImmediateParentOf(C)){const R=this.getFieldsMap(i);this.applyChanges(R,s,u),s={},u=[],i=C.popLast()}v?s[C.lastSegment()]=Zi(v):u.push(C.lastSegment())});const f=this.getFieldsMap(i);this.applyChanges(f,s,u)}delete(t){const i=this.field(t.popLast());Yi(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return an(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=i.mapValue.fields[t.get(s)];Yi(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=u),i=u}return i.mapValue.fields}applyChanges(t,i,s){Ho(i,(u,f)=>t[u]=f);for(const u of s)delete t[u]}clone(){return new $i(Zi(this.value))}}function Ai(l){const t=[];return Ho(l.fields,(i,s)=>{const u=new lr([i]);if(Yi(s)){const f=Ai(s.mapValue).fields;if(0===f.length)t.push(u);else for(const v of f)t.push(u.child(v))}else t.push(u)}),new wi(t)}class zr{constructor(t,i,s,u,f,v,C){this.key=t,this.documentType=i,this.version=s,this.readTime=u,this.createTime=f,this.data=v,this.documentState=C}static newInvalidDocument(t){return new zr(t,0,tn.min(),tn.min(),tn.min(),$i.empty(),0)}static newFoundDocument(t,i,s,u){return new zr(t,1,i,tn.min(),s,u,0)}static newNoDocument(t,i){return new zr(t,2,i,tn.min(),tn.min(),$i.empty(),0)}static newUnknownDocument(t,i){return new zr(t,3,i,tn.min(),tn.min(),$i.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(tn.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=tn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof zr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new zr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class wo{constructor(t,i){this.position=t,this.inclusive=i}}function br(l,t,i){let s=0;for(let u=0;u<l.position.length;u++){const f=t[u],v=l.position[u];if(s=f.field.isKeyField()?on.comparator(on.fromName(v.referenceValue),i.key):Pn(v,i.data.field(f.field)),"desc"===f.dir&&(s*=-1),0!==s)break}return s}function za(l,t){if(null===l)return null===t;if(null===t||l.inclusive!==t.inclusive||l.position.length!==t.position.length)return!1;for(let i=0;i<l.position.length;i++)if(!an(l.position[i],t.position[i]))return!1;return!0}class Ur{constructor(t,i="asc"){this.field=t,this.dir=i}}function ds(l,t){return l.dir===t.dir&&l.field.isEqual(t.field)}class _c{}class Er extends _c{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?"in"===i||"not-in"===i?this.createKeyFieldInFilter(t,i,s):new Br(t,i,s):"array-contains"===i?new Tu(t,s):"in"===i?new Ka(t,s):"not-in"===i?new Sl(t,s):"array-contains-any"===i?new B(t,s):new Er(t,i,s)}static createKeyFieldInFilter(t,i,s){return"in"===i?new sa(t,s):new Kc(t,s)}matches(t){const i=t.data.field(this.field);return"!="===this.op?null!==i&&this.matchesComparison(Pn(i,this.value)):null!==i&&Wt(this.value)===Wt(i)&&this.matchesComparison(Pn(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nr extends _c{constructor(t,i){super(),this.filters=t,this.op=i,this.ae=null}static create(t,i){return new nr(t,i)}matches(t){return jn(this)?void 0===this.filters.find(i=>!i.matches(t)):void 0!==this.filters.find(i=>i.matches(t))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function jn(l){return"and"===l.op}function ba(l){return"or"===l.op}function Wi(l){return Ga(l)&&jn(l)}function Ga(l){for(const t of l.filters)if(t instanceof nr)return!1;return!0}function oa(l){if(l instanceof Er)return l.field.canonicalString()+l.op.toString()+xr(l.value);if(Wi(l))return l.filters.map(t=>oa(t)).join(",");{const t=l.filters.map(i=>oa(i)).join(",");return`${l.op}(${t})`}}function Wc(l,t){return l instanceof Er?(s=l,(u=t)instanceof Er&&s.op===u.op&&s.field.isEqual(u.field)&&an(s.value,u.value)):l instanceof nr?function(s,u){return u instanceof nr&&s.op===u.op&&s.filters.length===u.filters.length&&s.filters.reduce((f,v,C)=>f&&Wc(v,u.filters[C]),!0)}(l,t):void Ht();var s,u}function Yo(l,t){const i=l.filters.concat(t);return nr.create(i,l.op)}function Wa(l){return l instanceof Er?`${(i=l).field.canonicalString()} ${i.op} ${xr(i.value)}`:l instanceof nr?function(i){return i.op.toString()+" {"+i.getFilters().map(Wa).join(" ,")+"}"}(l):"Filter";var i}class Br extends Er{constructor(t,i,s){super(t,i,s),this.key=on.fromName(s.referenceValue)}matches(t){const i=on.comparator(t.key,this.key);return this.matchesComparison(i)}}class sa extends Er{constructor(t,i){super(t,"in",i),this.keys=Ec(0,i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class Kc extends Er{constructor(t,i){super(t,"not-in",i),this.keys=Ec(0,i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function Ec(l,t){var i;return((null===(i=t.arrayValue)||void 0===i?void 0:i.values)||[]).map(s=>on.fromName(s.referenceValue))}class Tu extends Er{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return mi(i)&&_n(i.arrayValue,this.value)}}class Ka extends Er{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return null!==i&&_n(this.value.arrayValue,i)}}class Sl extends Er{constructor(t,i){super(t,"not-in",i)}matches(t){if(_n(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return null!==i&&!_n(this.value.arrayValue,i)}}class B extends Er{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!mi(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>_n(this.value.arrayValue,s))}}class V{constructor(t,i=null,s=[],u=[],f=null,v=null,C=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=u,this.limit=f,this.startAt=v,this.endAt=C,this.ue=null}}function S(l,t=null,i=[],s=[],u=null,f=null,v=null){return new V(l,t,i,s,u,f,v)}function oe(l){const t=xt(l);if(null===t.ue){let i=t.path.canonicalString();null!==t.collectionGroup&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>oa(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>{return(f=s).field.canonicalString()+f.dir;var f}).join(","),U(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>xr(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>xr(s)).join(",")),t.ue=i}return t.ue}function Xe(l,t){if(l.limit!==t.limit||l.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<l.orderBy.length;i++)if(!ds(l.orderBy[i],t.orderBy[i]))return!1;if(l.filters.length!==t.filters.length)return!1;for(let i=0;i<l.filters.length;i++)if(!Wc(l.filters[i],t.filters[i]))return!1;return l.collectionGroup===t.collectionGroup&&!!l.path.isEqual(t.path)&&!!za(l.startAt,t.startAt)&&za(l.endAt,t.endAt)}function Ln(l){return on.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}function Yn(l,t){return l.filters.filter(i=>i instanceof Er&&i.field.isEqual(t))}function dr(l,t,i){let s=Bt,u=!0;for(const f of Yn(l,t)){let v=Bt,C=!0;switch(f.op){case"<":case"<=":v=us(f.value);break;case"==":case"in":case">=":v=f.value;break;case">":v=f.value,C=!1;break;case"!=":case"not-in":v=Bt}zo({value:s,inclusive:u},{value:v,inclusive:C})<0&&(s=v,u=C)}if(null!==i)for(let f=0;f<l.orderBy.length;++f)if(l.orderBy[f].field.isEqual(t)){const v=i.position[f];zo({value:s,inclusive:u},{value:v,inclusive:i.inclusive})<0&&(s=v,u=i.inclusive);break}return{value:s,inclusive:u}}function io(l,t,i){let s=Kt,u=!0;for(const f of Yn(l,t)){let v=Kt,C=!0;switch(f.op){case">=":case">":v=Do(f.value),C=!1;break;case"==":case"in":case"<=":v=f.value;break;case"<":v=f.value,C=!1;break;case"!=":case"not-in":v=Kt}uo({value:s,inclusive:u},{value:v,inclusive:C})>0&&(s=v,u=C)}if(null!==i)for(let f=0;f<l.orderBy.length;++f)if(l.orderBy[f].field.isEqual(t)){const v=i.position[f];uo({value:s,inclusive:u},{value:v,inclusive:i.inclusive})>0&&(s=v,u=i.inclusive);break}return{value:s,inclusive:u}}class Qr{constructor(t,i=null,s=[],u=[],f=null,v="F",C=null,R=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=u,this.limit=f,this.limitType=v,this.startAt=C,this.endAt=R,this.ce=null,this.le=null,this.he=null}}function hs(l,t,i,s,u,f,v,C){return new Qr(l,t,i,s,u,f,v,C)}function Ao(l){return new Qr(l)}function Ks(l){return 0===l.filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())}function Sa(l){return null!==l.collectionGroup}function bo(l){const t=xt(l);if(null===t.ce){t.ce=[];const i=new Set;for(const f of t.explicitOrderBy)t.ce.push(f),i.add(f.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(v){let C=new Pr(lr.comparator);return v.filters.forEach(R=>{R.getFlattenedFilters().forEach(j=>{j.isInequality()&&(C=C.add(j.field))})}),C})(t).forEach(f=>{i.has(f.canonicalString())||f.isKeyField()||t.ce.push(new Ur(f,s))}),i.has(lr.keyField().canonicalString())||t.ce.push(new Ur(lr.keyField(),s))}return t.ce}function xi(l){const t=xt(l);return t.le||(t.le=function qa(l,t){if("F"===l.limitType)return S(l.path,l.collectionGroup,t,l.filters,l.limit,l.startAt,l.endAt);{t=t.map(u=>new Ur(u.field,"desc"===u.dir?"asc":"desc"));const i=l.endAt?new wo(l.endAt.position,l.endAt.inclusive):null,s=l.startAt?new wo(l.startAt.position,l.startAt.inclusive):null;return S(l.path,l.collectionGroup,t,l.filters,l.limit,i,s)}}(t,bo(l))),t.le}function aa(l,t){const i=l.filters.concat([t]);return new Qr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),i,l.limit,l.limitType,l.startAt,l.endAt)}function rr(l,t,i){return new Qr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),t,i,l.startAt,l.endAt)}function Ps(l,t){return Xe(xi(l),xi(t))&&l.limitType===t.limitType}function Xa(l){return`${oe(xi(l))}|lt:${l.limitType}`}function go(l){return`Query(target=${function(i){let s=i.path.canonicalString();return null!==i.collectionGroup&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(u=>Wa(u)).join(", ")}]`),U(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(u=>{return`${(v=u).field.canonicalString()} (${v.dir})`;var v}).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(u=>xr(u)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(u=>xr(u)).join(",")),`Target(${s})`}(xi(l))}; limitType=${l.limitType})`}function fs(l,t){return t.isFoundDocument()&&function(s,u){const f=u.key.path;return null!==s.collectionGroup?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(f):on.isDocumentKey(s.path)?s.path.isEqual(f):s.path.isImmediateParentOf(f)}(l,t)&&function(s,u){for(const f of bo(s))if(!f.field.isKeyField()&&null===u.data.field(f.field))return!1;return!0}(l,t)&&function(s,u){for(const f of s.filters)if(!f.matches(u))return!1;return!0}(l,t)&&(u=t,!((s=l).startAt&&!function(v,C,R){const j=br(v,C,R);return v.inclusive?j<=0:j<0}(s.startAt,bo(s),u)||s.endAt&&!function(v,C,R){const j=br(v,C,R);return v.inclusive?j>=0:j>0}(s.endAt,bo(s),u)));var s,u}function qc(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Xc(l){return(t,i)=>{let s=!1;for(const u of bo(l)){const f=Cu(u,t,i);if(0!==f)return f;s=s||u.field.isKeyField()}return 0}}function Cu(l,t,i){const s=l.field.isKeyField()?on.comparator(t.key,i.key):function(f,v,C){const R=v.data.field(f),j=C.data.field(f);return null!==R&&null!==j?Pn(R,j):Ht()}(l.field,t,i);switch(l.dir){case"asc":return s;case"desc":return-1*s;default:return Ht()}}class ca{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0!==s)for(const[u,f]of s)if(this.equalsFn(u,t))return f}has(t){return void 0!==this.get(t)}set(t,i){const s=this.mapKeyFn(t),u=this.inner[s];if(void 0===u)return this.inner[s]=[[t,i]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],t))return void(u[f]=[t,i]);u.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(void 0===s)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return 1===s.length?delete this.inner[i]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Ho(this.inner,(i,s)=>{for(const[u,f]of s)t(u,f)})}isEmpty(){return Aa(this.inner)}size(){return this.innerSize}}const Du=new jr(on.comparator);function Go(){return Du}const Qc=new jr(on.comparator);function Wo(...l){let t=Qc;for(const i of l)t=t.insert(i.key,i);return t}function Yc(l){let t=Qc;return l.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function So(){return Ro()}function Qa(){return Ro()}function Ro(){return new ca(l=>l.toString(),(l,t)=>l.isEqual(t))}const Ma=new jr(on.comparator),Zc=new Pr(on.comparator);function mn(...l){let t=Zc;for(const i of l)t=t.add(i);return t}const Gr=new Pr(Nn);function Jc(){return Gr}function Ic(l,t){if(l.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ee(t)?"-0":t}}function Tc(l){return{integerValue:""+l}}function pd(l,t){return Le(t)?Tc(t):Ic(l,t)}class ps{constructor(){this._=void 0}}function el(l,t,i){return l instanceof Xs?function(u,f){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return f&&Ce(f)&&(f=xe(f)),f&&(v.fields.__previous_value__=f),{mapValue:v}}(i,t):l instanceof ki?la(l,t):l instanceof Pa?Zo(l,t):function(u,f){const v=qs(u,f),C=Cc(v)+Cc(u.Pe);return Qi(v)&&Qi(u.Pe)?Tc(C):Ic(u.serializer,C)}(l,t)}function Ir(l,t,i){return l instanceof ki?la(l,t):l instanceof Pa?Zo(l,t):i}function qs(l,t){return l instanceof gs?Qi(s=t)||(f=s)&&"doubleValue"in f?t:{integerValue:0}:null;var s,f}class Xs extends ps{}class ki extends ps{constructor(t){super(),this.elements=t}}function la(l,t){const i=w(t);for(const s of l.elements)i.some(u=>an(u,s))||i.push(s);return{arrayValue:{values:i}}}class Pa extends ps{constructor(t){super(),this.elements=t}}function Zo(l,t){let i=w(t);for(const s of l.elements)i=i.filter(u=>!an(u,s));return{arrayValue:{values:i}}}class gs extends ps{constructor(t,i){super(),this.serializer=t,this.Pe=i}}function Cc(l){return k(l.integerValue||l.doubleValue)}function w(l){return mi(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Y{constructor(t,i){this.field=t,this.transform=i}}class K{constructor(t,i){this.version=t,this.transformResults=i}}class De{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new De}static exists(t){return new De(void 0,t)}static updateTime(t){return new De(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Rt(l,t){return void 0!==l.updateTime?t.isFoundDocument()&&t.version.isEqual(l.updateTime):void 0===l.exists||l.exists===t.isFoundDocument()}class Xt{}function Sn(l,t){if(!l.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return l.isNoDocument()?new eo(l.key,De.none()):new Wr(l.key,l.data,De.none());{const i=l.data,s=$i.empty();let u=new Pr(lr.comparator);for(let f of t.fields)if(!u.has(f)){let v=i.field(f);null===v&&f.length>1&&(f=f.popLast(),v=i.field(f)),null===v?s.delete(f):s.set(f,v),u=u.add(f)}return new Sr(l.key,s,new wi(u.toArray()),De.none())}}function li(l,t,i){l instanceof Wr?function(u,f,v){const C=u.value.clone(),R=Qs(u.fieldTransforms,f,v.transformResults);C.setAll(R),f.convertToFoundDocument(v.version,C).setHasCommittedMutations()}(l,t,i):l instanceof Sr?function(u,f,v){if(!Rt(u.precondition,f))return void f.convertToUnknownDocument(v.version);const C=Qs(u.fieldTransforms,f,v.transformResults),R=f.data;R.setAll(bi(u)),R.setAll(C),f.convertToFoundDocument(v.version,R).setHasCommittedMutations()}(l,t,i):t.convertToNoDocument(i.version).setHasCommittedMutations()}function ar(l,t,i,s){return l instanceof Wr?function(f,v,C,R){if(!Rt(f.precondition,v))return C;const j=f.value.clone(),ie=vi(f.fieldTransforms,R,v);return j.setAll(ie),v.convertToFoundDocument(v.version,j).setHasLocalMutations(),null}(l,t,i,s):l instanceof Sr?function(f,v,C,R){if(!Rt(f.precondition,v))return C;const j=vi(f.fieldTransforms,R,v),ie=v.data;return ie.setAll(bi(f)),ie.setAll(j),v.convertToFoundDocument(v.version,ie).setHasLocalMutations(),null===C?null:C.unionWith(f.fieldMask.fields).unionWith(f.fieldTransforms.map(ve=>ve.field))}(l,t,i,s):(C=i,Rt(l.precondition,v=t)?(v.convertToNoDocument(v.version).setHasLocalMutations(),null):C);var v,C}function ni(l,t){let i=null;for(const s of l.fieldTransforms){const u=t.data.field(s.field),f=qs(s.transform,u||null);null!=f&&(null===i&&(i=$i.empty()),i.set(s.field,f))}return i||null}function cn(l,t){return l.type===t.type&&!!l.key.isEqual(t.key)&&!!l.precondition.isEqual(t.precondition)&&(u=t.fieldTransforms,!!(void 0===(s=l.fieldTransforms)&&void 0===u||s&&u&&ir(s,u,(f,v)=>function N(l,t){return l.field.isEqual(t.field)&&(u=t.transform,(s=l.transform)instanceof ki&&u instanceof ki||s instanceof Pa&&u instanceof Pa?ir(s.elements,u.elements,an):s instanceof gs&&u instanceof gs?an(s.Pe,u.Pe):s instanceof Xs&&u instanceof Xs);var s,u}(f,v))))&&(0===l.type?l.value.isEqual(t.value):1!==l.type||l.data.isEqual(t.data)&&l.fieldMask.isEqual(t.fieldMask));var s,u}class Wr extends Xt{constructor(t,i,s,u=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Sr extends Xt{constructor(t,i,s,u,f=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=u,this.fieldTransforms=f,this.type=1}getFieldMask(){return this.fieldMask}}function bi(l){const t=new Map;return l.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=l.data.field(i);t.set(i,s)}}),t}function Qs(l,t,i){const s=new Map;$t(l.length===i.length);for(let u=0;u<i.length;u++){const f=l[u],v=f.transform,C=t.data.field(f.field);s.set(f.field,Ir(v,C,i[u]))}return s}function vi(l,t,i){const s=new Map;for(const u of l){const f=u.transform,v=i.data.field(u.field);s.set(u.field,el(f,v,t))}return s}class eo extends Xt{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ko extends Xt{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ho{constructor(t,i,s,u){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(t.key)&&li(f,t,s[u])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=ar(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=ar(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=Qa();return this.mutations.forEach(u=>{const f=t.get(u.key),v=f.overlayedDocument;let C=this.applyToLocalView(v,f.mutatedFields);C=i.has(u.key)?null:C;const R=Sn(v,C);null!==R&&s.set(u.key,R),v.isValidDocument()||v.convertToNoDocument(tn.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),mn())}isEqual(t){return this.batchId===t.batchId&&ir(this.mutations,t.mutations,(i,s)=>cn(i,s))&&ir(this.baseMutations,t.baseMutations,(i,s)=>cn(i,s))}}class ms{constructor(t,i,s,u){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=u}static from(t,i,s){$t(t.mutations.length===s.length);let u=function(){return Ma}();const f=t.mutations;for(let v=0;v<f.length;v++)u=u.insert(f[v].key,s[v].version);return new ms(t,i,s,u)}}class Jo{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ya{constructor(t,i){this.count=t,this.unchangedNames=i}}var to,cr;function Ns(l){switch(l){default:return Ht();case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0}}function Rl(l){if(void 0===l)return Jt("GRPC error has no .code"),Se.UNKNOWN;switch(l){case to.OK:return Se.OK;case to.CANCELLED:return Se.CANCELLED;case to.UNKNOWN:return Se.UNKNOWN;case to.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case to.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case to.INTERNAL:return Se.INTERNAL;case to.UNAVAILABLE:return Se.UNAVAILABLE;case to.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case to.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case to.NOT_FOUND:return Se.NOT_FOUND;case to.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case to.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case to.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case to.ABORTED:return Se.ABORTED;case to.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case to.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case to.DATA_LOSS:return Se.DATA_LOSS;default:return Ht()}}(cr=to||(to={}))[cr.OK=0]="OK",cr[cr.CANCELLED=1]="CANCELLED",cr[cr.UNKNOWN=2]="UNKNOWN",cr[cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",cr[cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",cr[cr.NOT_FOUND=5]="NOT_FOUND",cr[cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",cr[cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",cr[cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",cr[cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",cr[cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",cr[cr.ABORTED=10]="ABORTED",cr[cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",cr[cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",cr[cr.INTERNAL=13]="INTERNAL",cr[cr.UNAVAILABLE=14]="UNAVAILABLE",cr[cr.DATA_LOSS=15]="DATA_LOSS";function Za(){return new TextEncoder}const vs=new Tt([4294967295,4294967295],0);function bh(l){const t=Za().encode(l),i=new Re;return i.update(t),new Uint8Array(i.digest())}function Sh(l){const t=new DataView(l.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),f=t.getUint32(12,!0);return[new Tt([i,s],0),new Tt([u,f],0)]}class Ml{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Mo(`Invalid padding: ${i}`);if(s<0)throw new Mo(`Invalid hash count: ${s}`);if(t.length>0&&0===this.hashCount)throw new Mo(`Invalid hash count: ${s}`);if(0===t.length&&0!==i)throw new Mo(`Invalid padding when bitmap length is 0: ${i}`);this.Ie=8*t.length-i,this.Te=Tt.fromNumber(this.Ie)}Ee(t,i,s){let u=t.add(i.multiply(Tt.fromNumber(s)));return 1===u.compare(vs)&&(u=new Tt([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Te).toNumber()}de(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const i=bh(t),[s,u]=Sh(i);for(let f=0;f<this.hashCount;f++){const v=this.Ee(s,u,f);if(!this.de(v))return!1}return!0}static create(t,i,s){const u=t%8==0?0:8-t%8,f=new Uint8Array(Math.ceil(t/8)),v=new Ml(f,u,i);return s.forEach(C=>v.insert(C)),v}insert(t){if(0===this.Ie)return;const i=bh(t),[s,u]=Sh(i);for(let f=0;f<this.hashCount;f++){const v=this.Ee(s,u,f);this.Ae(v)}}Ae(t){const i=Math.floor(t/8);this.bitmap[i]|=1<<t%8}}class Mo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Po{constructor(t,i,s,u,f){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const u=new Map;return u.set(t,Os.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Po(tn.min(),u,new jr(Nn),Go(),mn())}}class Os{constructor(t,i,s,u,f){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new Os(s,i,mn(),mn(),mn())}}class tl{constructor(t,i,s,u){this.Re=t,this.removedTargetIds=i,this.key=s,this.Ve=u}}class Ja{constructor(t,i){this.targetId=t,this.me=i}}class xs{constructor(t,i,s=z.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=u}}class Zn{constructor(){this.fe=0,this.ge=wu(),this.pe=z.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=mn(),i=mn(),s=mn();return this.ge.forEach((u,f)=>{switch(f){case 0:t=t.add(u);break;case 2:i=i.add(u);break;case 1:s=s.add(u);break;default:Ht()}}),new Os(this.pe,this.ye,t,i,s)}Ce(){this.we=!1,this.ge=wu()}Fe(t,i){this.we=!0,this.ge=this.ge.insert(t,i)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,$t(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ys{constructor(t){this.Le=t,this.Be=new Map,this.ke=Go(),this.qe=nl(),this.Qe=new jr(Nn)}Ke(t){for(const i of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(i,t.Ve):this.Ue(i,t.key,t.Ve);for(const i of t.removedTargetIds)this.Ue(i,t.key,t.Ve)}We(t){this.forEachTarget(t,i=>{const s=this.Ge(i);switch(t.state){case 0:this.ze(i)&&s.De(t.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(t.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(i);break;case 3:this.ze(i)&&(s.Ne(),s.De(t.resumeToken));break;case 4:this.ze(i)&&(this.je(i),s.De(t.resumeToken));break;default:Ht()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.Be.forEach((s,u)=>{this.ze(u)&&i(u)})}He(t){const i=t.targetId,s=t.me.count,u=this.Je(i);if(u){const f=u.target;if(Ln(f))if(0===s){const v=new on(f.path);this.Ue(i,v,zr.newNoDocument(v,tn.min()))}else $t(1===s);else{const v=this.Ye(i);if(v!==s){const C=this.Ze(t),R=C?this.Xe(C,t,v):1;0!==R&&(this.je(i),this.Qe=this.Qe.insert(i,2===R?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(t){const i=t.me.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:u=0},hashCount:f=0}=i;let v,C;try{v=J(s).toUint8Array()}catch(R){if(R instanceof H)return Cn("Decoding the base64 bloom filter in existence filter failed ("+R.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw R}try{C=new Ml(v,u,f)}catch(R){return Cn(R instanceof Mo?"BloomFilter error: ":"Applying bloom filter failed: ",R),null}return 0===C.Ie?null:C}Xe(t,i,s){return i.me.count===s-this.nt(t,i.targetId)?0:2}nt(t,i){const s=this.Le.getRemoteKeysForTarget(i);let u=0;return s.forEach(f=>{const v=this.Le.tt(),C=`projects/${v.projectId}/databases/${v.database}/documents/${f.path.canonicalString()}`;t.mightContain(C)||(this.Ue(i,f,null),u++)}),u}rt(t){const i=new Map;this.Be.forEach((f,v)=>{const C=this.Je(v);if(C){if(f.current&&Ln(C.target)){const R=new on(C.target.path);null!==this.ke.get(R)||this.it(v,R)||this.Ue(v,R,zr.newNoDocument(R,t))}f.be&&(i.set(v,f.ve()),f.Ce())}});let s=mn();this.qe.forEach((f,v)=>{let C=!0;v.forEachWhile(R=>{const j=this.Je(R);return!j||"TargetPurposeLimboResolution"===j.purpose||(C=!1,!1)}),C&&(s=s.add(f))}),this.ke.forEach((f,v)=>v.setReadTime(t));const u=new Po(t,i,this.Qe,this.ke,s);return this.ke=Go(),this.qe=nl(),this.Qe=new jr(Nn),u}$e(t,i){if(!this.ze(t))return;const s=this.it(t,i.key)?2:0;this.Ge(t).Fe(i.key,s),this.ke=this.ke.insert(i.key,i),this.qe=this.qe.insert(i.key,this.st(i.key).add(t))}Ue(t,i,s){if(!this.ze(t))return;const u=this.Ge(t);this.it(t,i)?u.Fe(i,1):u.Me(i),this.qe=this.qe.insert(i,this.st(i).delete(t)),s&&(this.ke=this.ke.insert(i,s))}removeTarget(t){this.Be.delete(t)}Ye(t){const i=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let i=this.Be.get(t);return i||(i=new Zn,this.Be.set(t,i)),i}st(t){let i=this.qe.get(t);return i||(i=new Pr(Nn),this.qe=this.qe.insert(t,i)),i}ze(t){const i=null!==this.Je(t);return i||ut("WatchChangeAggregator","Detected inactive target",t),i}Je(t){const i=this.Be.get(t);return i&&i.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Zn),this.Le.getRemoteKeysForTarget(t).forEach(i=>{this.Ue(t,i,null)})}it(t,i){return this.Le.getRemoteKeysForTarget(t).has(i)}}function nl(){return new jr(on.comparator)}function wu(){return new jr(on.comparator)}const rl={asc:"ASCENDING",desc:"DESCENDING"},Au={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Na={and:"AND",or:"OR"};class da{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function gd(l,t){return l.useProto3Json||U(t)?t:{value:t}}function _s(l,t){return l.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pl(l,t){return l.useProto3Json?t.toBase64():t.toUint8Array()}function wc(l,t){return _s(l,t.toTimestamp())}function oi(l){return $t(!!l),tn.fromTimestamp(function(i){const s=ue(i);return new bn(s.seconds,s.nanos)}(l))}function Nl(l,t){return Ac(l,t).canonicalString()}function Ac(l,t){const i=(u=l,new xn(["projects",u.projectId,"databases",u.database])).child("documents");var u;return void 0===t?i:i.child(t)}function bu(l){const t=xn.fromString(l);return $t(fa(t)),t}function ha(l,t){return Nl(l.databaseId,t.path)}function ks(l,t){const i=bu(t);if(i.get(1)!==l.databaseId.projectId)throw new Pe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+l.databaseId.projectId);if(i.get(3)!==l.databaseId.database)throw new Pe(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+l.databaseId.database);return new on(vd(i))}function Ol(l,t){return Nl(l.databaseId,t)}function Es(l){const t=bu(l);return 4===t.length?xn.emptyPath():vd(t)}function md(l){return new xn(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function vd(l){return $t(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function tp(l,t,i){return{name:ha(l,t),fields:i.value.mapValue.fields}}function bc(l,t,i){const s=ks(l,t.name),u=oi(t.updateTime),f=t.createTime?oi(t.createTime):tn.min(),v=new $i({mapValue:{fields:t.fields}}),C=zr.newFoundDocument(s,u,f,v);return i&&C.setHasCommittedMutations(),i?C.setHasCommittedMutations():C}function A(l,t){let i;if(t instanceof Wr)i={update:tp(l,t.key,t.value)};else if(t instanceof eo)i={delete:ha(l,t.key)};else if(t instanceof Sr)i={update:tp(l,t.key,t.data),updateMask:fi(t.fieldMask)};else{if(!(t instanceof Ko))return Ht();i={verify:ha(l,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map(s=>function(f,v){const C=v.transform;if(C instanceof Xs)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(C instanceof ki)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:C.elements}};if(C instanceof Pa)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:C.elements}};if(C instanceof gs)return{fieldPath:v.field.canonicalString(),increment:C.Pe};throw Ht()}(0,s))),t.precondition.isNone||(i.currentDocument=void 0!==(f=t.precondition).updateTime?{updateTime:wc(l,f.updateTime)}:void 0!==f.exists?{exists:f.exists}:Ht()),i;var f}function T(l,t){const i=t.currentDocument?void 0!==(f=t.currentDocument).updateTime?De.updateTime(oi(f.updateTime)):void 0!==f.exists?De.exists(f.exists):De.none():De.none(),s=t.updateTransforms?t.updateTransforms.map(u=>function(v,C){let R=null;"setToServerValue"in C?($t("REQUEST_TIME"===C.setToServerValue),R=new Xs):"appendMissingElements"in C?R=new ki(C.appendMissingElements.values||[]):"removeAllFromArray"in C?R=new Pa(C.removeAllFromArray.values||[]):"increment"in C?R=new gs(v,C.increment):Ht();const j=lr.fromServerFormat(C.fieldPath);return new Y(j,R)}(l,u)):[];var f;if(t.update){const u=ks(l,t.update.name),f=new $i({mapValue:{fields:t.update.fields}});if(t.updateMask){const v=new wi((t.updateMask.fieldPaths||[]).map(ie=>lr.fromServerFormat(ie)));return new Sr(u,f,v,i,s)}return new Wr(u,f,i,s)}if(t.delete){const u=ks(l,t.delete);return new eo(u,i)}if(t.verify){const u=ks(l,t.verify);return new Ko(u,i)}return Ht()}function $(l,t){return{documents:[Ol(l,t.path)]}}function se(l,t){const i={structuredQuery:{}},s=t.path;let u;null!==t.collectionGroup?(u=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=Ol(l,u);const f=function(j){if(0!==j.length)return mo(nr.create(j,"and"))}(t.filters);f&&(i.structuredQuery.where=f);const v=function(j){if(0!==j.length)return j.map(ie=>{return{field:kr((Ke=ie).field),direction:or(Ke.dir)};var Ke})}(t.orderBy);v&&(i.structuredQuery.orderBy=v);const C=gd(l,t.limit);return null!==C&&(i.structuredQuery.limit=C),t.startAt&&(i.structuredQuery.startAt={before:(j=t.startAt).inclusive,values:j.position}),t.endAt&&(i.structuredQuery.endAt=function(j){return{before:!j.inclusive,values:j.position}}(t.endAt)),{_t:i,parent:u};var j}function Ot(l){let t=Es(l.parent);const i=l.structuredQuery,s=i.from?i.from.length:0;let u=null;if(s>0){$t(1===s);const ie=i.from[0];ie.allDescendants?u=ie.collectionId:t=t.child(ie.collectionId)}let f=[];i.where&&(f=function(ve){const Ke=In(ve);return Ke instanceof nr&&Wi(Ke)?Ke.getFilters():[Ke]}(i.where));let v=[];i.orderBy&&(v=i.orderBy.map(Ke=>{return new Ur(Fr((Zt=Ke).field),function(ln){switch(ln){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Zt.direction));var Zt}));let C=null;i.limit&&(C=function(ve){let Ke;return Ke="object"==typeof ve?ve.value:ve,U(Ke)?null:Ke}(i.limit));let R=null;var ve;i.startAt&&(R=new wo((ve=i.startAt).values||[],!!ve.before));let j=null;return i.endAt&&(j=function(ve){return new wo(ve.values||[],!ve.before)}(i.endAt)),hs(t,u,v,f,C,"F",R,j)}function In(l){return void 0!==l.unaryFilter?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Fr(i.unaryFilter.field);return Er.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Fr(i.unaryFilter.field);return Er.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const f=Fr(i.unaryFilter.field);return Er.create(f,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const v=Fr(i.unaryFilter.field);return Er.create(v,"!=",{nullValue:"NULL_VALUE"});default:return Ht()}}(l):void 0!==l.fieldFilter?Er.create(Fr((i=l).fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ht()}}(i.fieldFilter.op),i.fieldFilter.value):void 0!==l.compositeFilter?function(i){return nr.create(i.compositeFilter.filters.map(s=>In(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return Ht()}}(i.compositeFilter.op))}(l):Ht();var i}function or(l){return rl[l]}function gr(l){return Au[l]}function Hn(l){return Na[l]}function kr(l){return{fieldPath:l.canonicalString()}}function Fr(l){return lr.fromServerFormat(l.fieldPath)}function mo(l){return l instanceof Er?function(i){if("=="===i.op){if(Gs(i.value))return{unaryFilter:{field:kr(i.field),op:"IS_NAN"}};if(Ha(i.value))return{unaryFilter:{field:kr(i.field),op:"IS_NULL"}}}else if("!="===i.op){if(Gs(i.value))return{unaryFilter:{field:kr(i.field),op:"IS_NOT_NAN"}};if(Ha(i.value))return{unaryFilter:{field:kr(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kr(i.field),op:gr(i.op),value:i.value}}}(l):l instanceof nr?function(i){const s=i.getFilters().map(u=>mo(u));return 1===s.length?s[0]:{compositeFilter:{op:Hn(i.op),filters:s}}}(l):Ht()}function fi(l){const t=[];return l.fields.forEach(i=>t.push(i.canonicalString())),{fieldPaths:t}}function fa(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}class Ys{constructor(t,i,s,u,f=tn.min(),v=tn.min(),C=z.EMPTY_BYTE_STRING,R=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=C,this.expectedCount=R}withSequenceNumber(t){return new Ys(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Zs{constructor(t){this.ct=t}}function yd(l,t){const i=t.key,s={prefixPath:i.getCollectionPath().popLast().toArray(),collectionGroup:i.collectionGroup,documentId:i.path.lastSegment(),readTime:il(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())s.document={name:ha(f=l.ct,(v=t).key),fields:v.data.value.mapValue.fields,updateTime:_s(f,v.version.toTimestamp()),createTime:_s(f,v.createTime.toTimestamp())};else if(t.isNoDocument())s.noDocument={path:i.path.toArray(),readTime:ec(t.version)};else{if(!t.isUnknownDocument())return Ht();s.unknownDocument={path:i.path.toArray(),version:ec(t.version)}}var f,v;return s}function il(l){const t=l.toTimestamp();return[t.seconds,t.nanoseconds]}function ec(l){const t=l.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Js(l){const t=new bn(l.seconds,l.nanoseconds);return tn.fromTimestamp(t)}function Oa(l,t){const i=(t.baseMutations||[]).map(f=>T(l.ct,f));for(let f=0;f<t.mutations.length-1;++f)f+1<t.mutations.length&&void 0!==t.mutations[f+1].transform&&(t.mutations[f].updateTransforms=t.mutations[f+1].transform.fieldTransforms,t.mutations.splice(f+1,1),++f);const s=t.mutations.map(f=>T(l.ct,f)),u=bn.fromMillis(t.localWriteTimeMs);return new ho(t.batchId,u,i,s)}function Sc(l){const t=Js(l.readTime),i=void 0!==l.lastLimboFreeSnapshotVersion?Js(l.lastLimboFreeSnapshotVersion):tn.min();let s;return s=void 0!==l.query.documents?($t(1===(f=l.query).documents.length),xi(Ao(Es(f.documents[0])))):function(f){return xi(Ot(f))}(l.query),new Ys(s,l.targetId,"TargetPurposeListen",l.lastListenSequenceNumber,t,i,z.fromBase64String(l.resumeToken));var f}function Rh(l,t){const i=ec(t.snapshotVersion),s=ec(t.lastLimboFreeSnapshotVersion);let u;u=Ln(t.target)?$(l.ct,t.target):se(l.ct,t.target)._t;const f=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:oe(t.target),readTime:i,resumeToken:f,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:u}}function tc(l){const t=Ot({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?rr(t,t.limit,"L"):t}function nc(l,t){return new Jo(t.largestBatchId,T(l.ct,t.overlayMutation))}function xl(l,t){const i=t.path.lastSegment();return[l,de(t.path.popLast()),i]}function Mh(l,t,i,s){return{indexId:l,uid:t,sequenceNumber:i,readTime:ec(s.readTime),documentKey:de(s.documentKey.path),largestBatchId:s.largestBatchId}}class rp{getBundleMetadata(t,i){return Rc(t).get(i).next(s=>{if(s)return{id:(f=s).bundleId,createTime:Js(f.createTime),version:f.version};var f})}saveBundleMetadata(t,i){return Rc(t).put({bundleId:(u=i).id,createTime:ec(oi(u.createTime)),version:u.version});var u}getNamedQuery(t,i){return _d(t).get(i).next(s=>{if(s)return{name:(f=s).name,query:tc(f.bundledQuery),readTime:Js(f.readTime)};var f})}saveNamedQuery(t,i){return _d(t).put({name:(u=i).name,readTime:ec(oi(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Rc(l){return ei(l,"bundles")}function _d(l){return ei(l,"namedQueries")}class ol{constructor(t,i){this.serializer=t,this.userId=i}static lt(t,i){return new ol(t,i.uid||"")}getOverlay(t,i){return Mc(t).get(xl(this.userId,i)).next(s=>s?nc(this.serializer,s):null)}getOverlays(t,i){const s=So();return at.forEach(i,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,i,s){const u=[];return s.forEach((f,v)=>{const C=new Jo(i,v);u.push(this.ht(t,C))}),at.waitFor(u)}removeOverlaysForBatchId(t,i,s){const u=new Set;i.forEach(v=>u.add(de(v.getCollectionPath())));const f=[];return u.forEach(v=>{const C=IDBKeyRange.bound([this.userId,v,s],[this.userId,v,s+1],!1,!0);f.push(Mc(t).j("collectionPathOverlayIndex",C))}),at.waitFor(f)}getOverlaysForCollection(t,i,s){const u=So(),f=de(i),v=IDBKeyRange.bound([this.userId,f,s],[this.userId,f,Number.POSITIVE_INFINITY],!0);return Mc(t).U("collectionPathOverlayIndex",v).next(C=>{for(const R of C){const j=nc(this.serializer,R);u.set(j.getKey(),j)}return u})}getOverlaysForCollectionGroup(t,i,s,u){const f=So();let v;const C=IDBKeyRange.bound([this.userId,i,s],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Mc(t).J({index:"collectionGroupOverlayIndex",range:C},(R,j,ie)=>{const ve=nc(this.serializer,j);f.size()<u||ve.largestBatchId===v?(f.set(ve.getKey(),ve),v=ve.largestBatchId):ie.done()}).next(()=>f)}ht(t,i){return Mc(t).put(function(u,f,v){const[C,R,j]=xl(f,v.mutation.key);return{userId:f,collectionPath:R,documentId:j,collectionGroup:v.mutation.key.getCollectionGroup(),largestBatchId:v.largestBatchId,overlayMutation:A(u.ct,v.mutation)}}(this.serializer,this.userId,i))}}function Mc(l){return ei(l,"documentOverlays")}class sm{Pt(t){return ei(t,"globals")}getSessionToken(t){return this.Pt(t).get("sessionToken").next(i=>{const s=i?.value;return s?z.fromUint8Array(s):z.EMPTY_BYTE_STRING})}setSessionToken(t,i){return this.Pt(t).put({name:"sessionToken",value:i.toUint8Array()})}}class pa{constructor(){}It(t,i){this.Tt(t,i),i.Et()}Tt(t,i){if("nullValue"in t)this.dt(i,5);else if("booleanValue"in t)this.dt(i,10),i.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(i,15),i.At(k(t.integerValue));else if("doubleValue"in t){const s=k(t.doubleValue);isNaN(s)?this.dt(i,13):(this.dt(i,15),ee(s)?i.At(0):i.At(s))}else if("timestampValue"in t){let s=t.timestampValue;this.dt(i,20),"string"==typeof s&&(s=ue(s)),i.Rt(`${s.seconds||""}`),i.At(s.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,i),this.ft(i);else if("bytesValue"in t)this.dt(i,30),i.gt(J(t.bytesValue)),this.ft(i);else if("referenceValue"in t)this.yt(t.referenceValue,i);else if("geoPointValue"in t){const s=t.geoPointValue;this.dt(i,45),i.At(s.latitude||0),i.At(s.longitude||0)}else"mapValue"in t?lo(t)?this.dt(i,Number.MAX_SAFE_INTEGER):Ws(t)?this.wt(t.mapValue,i):(this.St(t.mapValue,i),this.ft(i)):"arrayValue"in t?(this.bt(t.arrayValue,i),this.ft(i)):Ht()}Vt(t,i){this.dt(i,25),this.Dt(t,i)}Dt(t,i){i.Rt(t)}St(t,i){const s=t.fields||{};this.dt(i,55);for(const u of Object.keys(s))this.Vt(u,i),this.Tt(s[u],i)}wt(t,i){var s,u;const f=t.fields||{};this.dt(i,53);const v="value",C=(null===(u=null===(s=f[v].arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.length)||0;this.dt(i,15),i.At(k(C)),this.Vt(v,i),this.Tt(f[v],i)}bt(t,i){const s=t.values||[];this.dt(i,50);for(const u of s)this.Tt(u,i)}yt(t,i){this.dt(i,37),on.fromName(t).path.forEach(s=>{this.dt(i,60),this.Dt(s,i)})}dt(t,i){t.At(i)}ft(t){t.At(2)}}function Ed(l){if(0===l)return 8;let t=0;return!(l>>4)&&(t+=4,l<<=4),!(l>>6)&&(t+=2,l<<=2),!(l>>7)&&(t+=1),t}function es(l){const t=64-function(s){let u=0;for(let f=0;f<8;++f){const v=Ed(255&s[f]);if(u+=v,8!==v)break}return u}(l);return Math.ceil(t/8)}pa.vt=new pa;class kl{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ft(s.value),s=i.next();this.Mt()}xt(t){const i=t[Symbol.iterator]();let s=i.next();for(;!s.done;)this.Ot(s.value),s=i.next();this.Nt()}Lt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ft(s);else if(s<2048)this.Ft(960|s>>>6),this.Ft(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ft(480|s>>>12),this.Ft(128|63&s>>>6),this.Ft(128|63&s);else{const u=i.codePointAt(0);this.Ft(240|u>>>18),this.Ft(128|63&u>>>12),this.Ft(128|63&u>>>6),this.Ft(128|63&u)}}this.Mt()}Bt(t){for(const i of t){const s=i.charCodeAt(0);if(s<128)this.Ot(s);else if(s<2048)this.Ot(960|s>>>6),this.Ot(128|63&s);else if(i<"\ud800"||"\udbff"<i)this.Ot(480|s>>>12),this.Ot(128|63&s>>>6),this.Ot(128|63&s);else{const u=i.codePointAt(0);this.Ot(240|u>>>18),this.Ot(128|63&u>>>12),this.Ot(128|63&u>>>6),this.Ot(128|63&u)}}this.Nt()}kt(t){const i=this.qt(t),s=es(i);this.Qt(1+s),this.buffer[this.position++]=255&s;for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=255&i[u]}Kt(t){const i=this.qt(t),s=es(i);this.Qt(1+s),this.buffer[this.position++]=~(255&s);for(let u=i.length-s;u<i.length;++u)this.buffer[this.position++]=~(255&i[u])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(t){this.Qt(t.length),this.buffer.set(t,this.position),this.position+=t.length}zt(){return this.buffer.slice(0,this.position)}qt(t){const i=function(f){const v=new DataView(new ArrayBuffer(8));return v.setFloat64(0,f,!1),new Uint8Array(v.buffer)}(t),s=!!(128&i[0]);i[0]^=s?255:128;for(let u=1;u<i.length;++u)i[u]^=s?255:0;return i}Ft(t){const i=255&t;0===i?(this.Ut(0),this.Ut(255)):255===i?(this.Ut(255),this.Ut(0)):this.Ut(i)}Ot(t){const i=255&t;0===i?(this.Gt(0),this.Gt(255)):255===i?(this.Gt(255),this.Gt(0)):this.Gt(t)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(t){this.Qt(1),this.buffer[this.position++]=t}Gt(t){this.Qt(1),this.buffer[this.position++]=~t}Qt(t){const i=t+this.position;if(i<=this.buffer.length)return;let s=2*this.buffer.length;s<i&&(s=i);const u=new Uint8Array(s);u.set(this.buffer),this.buffer=u}}class Su{constructor(t){this.jt=t}gt(t){this.jt.Ct(t)}Rt(t){this.jt.Lt(t)}At(t){this.jt.kt(t)}Et(){this.jt.$t()}}class Ph{constructor(t){this.jt=t}gt(t){this.jt.xt(t)}Rt(t){this.jt.Bt(t)}At(t){this.jt.Kt(t)}Et(){this.jt.Wt()}}class Ru{constructor(){this.jt=new kl,this.Ht=new Su(this.jt),this.Jt=new Ph(this.jt)}seed(t){this.jt.seed(t)}Yt(t){return 0===t?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}class ea{constructor(t,i,s,u){this.indexId=t,this.documentKey=i,this.arrayValue=s,this.directionalValue=u}Zt(){const t=this.directionalValue.length,i=0===t||255===this.directionalValue[t-1]?t+1:t,s=new Uint8Array(i);return s.set(this.directionalValue,0),i!==t?s.set([0],this.directionalValue.length):++s[s.length-1],new ea(this.indexId,this.documentKey,this.arrayValue,s)}}function Fs(l,t){let i=l.indexId-t.indexId;return 0!==i?i:(i=ip(l.arrayValue,t.arrayValue),0!==i?i:(i=ip(l.directionalValue,t.directionalValue),0!==i?i:on.comparator(l.documentKey,t.documentKey)))}function ip(l,t){for(let i=0;i<l.length&&i<t.length;++i){const s=l[i]-t[i];if(0!==s)return s}return l.length-t.length}class Id{constructor(t){this.Xt=new Pr((i,s)=>lr.comparator(i.field,s.field)),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.en=t.orderBy,this.tn=[];for(const i of t.filters){const s=i;s.isInequality()?this.Xt=this.Xt.add(s):this.tn.push(s)}}get nn(){return this.Xt.size>1}rn(t){if($t(t.collectionGroup===this.collectionId),this.nn)return!1;const i=Zr(t);if(void 0!==i&&!this.sn(i))return!1;const s=bt(t);let u=new Set,f=0,v=0;for(;f<s.length&&this.sn(s[f]);++f)u=u.add(s[f].fieldPath.canonicalString());if(f===s.length)return!0;if(this.Xt.size>0){const C=this.Xt.getIterator().getNext();if(!u.has(C.field.canonicalString())){const R=s[f];if(!this.on(C,R)||!this._n(this.en[v++],R))return!1}++f}for(;f<s.length;++f)if(v>=this.en.length||!this._n(this.en[v++],s[f]))return!1;return!0}an(){if(this.nn)return null;let t=new Pr(lr.comparator);const i=[];for(const s of this.tn)if(!s.field.isKeyField())if("array-contains"===s.op||"array-contains-any"===s.op)i.push(new Me(s.field,2));else{if(t.has(s.field))continue;t=t.add(s.field),i.push(new Me(s.field,0))}for(const s of this.en)s.field.isKeyField()||t.has(s.field)||(t=t.add(s.field),i.push(new Me(s.field,"asc"===s.dir?0:1)));return new Kr(Kr.UNKNOWN_ID,this.collectionId,i,Ut.empty())}sn(t){for(const i of this.tn)if(this.on(i,t))return!0;return!1}on(t,i){return!(void 0===t||!t.field.isEqual(i.fieldPath))&&2===i.kind==("array-contains"===t.op||"array-contains-any"===t.op)}_n(t,i){return!!t.field.isEqual(i.fieldPath)&&(0===i.kind&&"asc"===t.dir||1===i.kind&&"desc"===t.dir)}}function Td(l){var t,i;if($t(l instanceof Er||l instanceof nr),l instanceof Er){if(l instanceof Ka){const u=(null===(i=null===(t=l.value.arrayValue)||void 0===t?void 0:t.values)||void 0===i?void 0:i.map(f=>Er.create(l.field,"==",f)))||[];return nr.create(u,"or")}return l}const s=l.filters.map(u=>Td(u));return nr.create(s,l.op)}function Mu(l){if(0===l.getFilters().length)return[];const t=rc(Td(l));return $t(Pu(t)),Nh(t)||Fl(t)?[t]:t.getFilters()}function Nh(l){return l instanceof Er}function Fl(l){return l instanceof nr&&Wi(l)}function Pu(l){return Nh(l)||Fl(l)||function(i){if(i instanceof nr&&ba(i)){for(const s of i.getFilters())if(!Nh(s)&&!Fl(s))return!1;return!0}return!1}(l)}function rc(l){if($t(l instanceof Er||l instanceof nr),l instanceof Er)return l;if(1===l.filters.length)return rc(l.filters[0]);const t=l.filters.map(s=>rc(s));let i=nr.create(t,l.op);return i=Fi(i),Pu(i)?i:($t(i instanceof nr),$t(jn(i)),$t(i.filters.length>1),i.filters.reduce((s,u)=>Oh(s,u)))}function Oh(l,t){let i;return $t(l instanceof Er||l instanceof nr),$t(t instanceof Er||t instanceof nr),i=l instanceof Er?t instanceof Er?nr.create([l,t],"and"):op(l,t):t instanceof Er?op(t,l):function(u,f){if($t(u.filters.length>0&&f.filters.length>0),jn(u)&&jn(f))return Yo(u,f.getFilters());const v=ba(u)?u:f,C=ba(u)?f:u,R=v.filters.map(j=>Oh(j,C));return nr.create(R,"or")}(l,t),Fi(i)}function op(l,t){if(jn(t))return Yo(t,l.getFilters());{const i=t.filters.map(s=>Oh(l,s));return nr.create(i,"or")}}function Fi(l){if($t(l instanceof Er||l instanceof nr),l instanceof Er)return l;const t=l.getFilters();if(1===t.length)return Fi(t[0]);if(Ga(l))return l;const i=t.map(u=>Fi(u)),s=[];return i.forEach(u=>{u instanceof Er?s.push(u):u instanceof nr&&(u.op===l.op?s.push(...u.filters):s.push(u))}),1===s.length?s[0]:nr.create(s,l.op)}class sp{constructor(){this.un=new xh}addToCollectionParentIndex(t,i){return this.un.add(i),at.resolve()}getCollectionParents(t,i){return at.resolve(this.un.getEntries(i))}addFieldIndex(t,i){return at.resolve()}deleteFieldIndex(t,i){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,i){return at.resolve()}getDocumentsMatchingTarget(t,i){return at.resolve(null)}getIndexType(t,i){return at.resolve(0)}getFieldIndexes(t,i){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,i){return at.resolve(Be.min())}getMinOffsetFromCollectionGroup(t,i){return at.resolve(Be.min())}updateCollectionGroup(t,i,s){return at.resolve()}updateIndexEntries(t,i){return at.resolve()}}class xh{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i]||new Pr(xn.comparator),f=!u.has(s);return this.index[i]=u.add(s),f}has(t){const i=t.lastSegment(),s=t.popLast(),u=this.index[i];return u&&u.has(s)}getEntries(t){return(this.index[t]||new Pr(xn.comparator)).toArray()}}const xa=new Uint8Array(0);class am{constructor(t,i){this.databaseId=i,this.cn=new xh,this.ln=new ca(s=>oe(s),(s,u)=>Xe(s,u)),this.uid=t.uid||""}addToCollectionParentIndex(t,i){if(!this.cn.has(i)){const s=i.lastSegment(),u=i.popLast();t.addOnCommittedListener(()=>{this.cn.add(i)});const f={collectionId:s,parent:de(u)};return ap(t).put(f)}return at.resolve()}getCollectionParents(t,i){const s=[],u=IDBKeyRange.bound([i,""],[Ri(i),""],!1,!0);return ap(t).U(u).next(f=>{for(const v of f){if(v.collectionId!==i)break;s.push(sn(v.parent))}return s})}addFieldIndex(t,i){const s=Nu(t),u={indexId:(C=i).indexId,collectionGroup:C.collectionGroup,fields:C.fields.map(R=>[R.fieldPath.canonicalString(),R.kind])};var C;delete u.indexId;const f=s.add(u);if(i.indexState){const v=Nc(t);return f.next(C=>{v.put(Mh(C,this.uid,i.indexState.sequenceNumber,i.indexState.offset))})}return f.next()}deleteFieldIndex(t,i){const s=Nu(t),u=Nc(t),f=Pc(t);return s.delete(i.indexId).next(()=>u.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([i.indexId],[i.indexId+1],!1,!0)))}deleteAllFieldIndexes(t){const i=Nu(t),s=Pc(t),u=Nc(t);return i.j().next(()=>s.j()).next(()=>u.j())}createTargetIndexes(t,i){return at.forEach(this.hn(i),s=>this.getIndexType(t,s).next(u=>{if(0===u||1===u){const f=new Id(s).an();if(null!=f)return this.addFieldIndex(t,f)}}))}getDocumentsMatchingTarget(t,i){const s=Pc(t);let u=!0;const f=new Map;return at.forEach(this.hn(i),v=>this.Pn(t,v).next(C=>{u&&(u=!!C),f.set(v,C)})).next(()=>{if(u){let v=mn();const C=[];return at.forEach(f,(R,j)=>{var zn;ut("IndexedDbIndexManager",`Using index ${zn=R,`id=${zn.indexId}|cg=${zn.collectionGroup}|f=${zn.fields.map(_r=>`${_r.fieldPath}:${_r.kind}`).join(",")}`} to execute ${oe(i)}`);const ie=function(zn,_r){const Or=Zr(_r);if(void 0===Or)return null;for(const Dr of Yn(zn,Or.fieldPath))switch(Dr.op){case"array-contains-any":return Dr.value.arrayValue.values||[];case"array-contains":return[Dr.value]}return null}(j,R),ve=function(zn,_r){const Or=new Map;for(const Dr of bt(_r))for(const mt of Yn(zn,Dr.fieldPath))switch(mt.op){case"==":case"in":Or.set(Dr.fieldPath.canonicalString(),mt.value);break;case"not-in":case"!=":return Or.set(Dr.fieldPath.canonicalString(),mt.value),Array.from(Or.values())}return null}(j,R),Ke=function(zn,_r){const Or=[];let Dr=!0;for(const mt of bt(_r)){const We=0===mt.kind?dr(zn,mt.fieldPath,zn.startAt):io(zn,mt.fieldPath,zn.startAt);Or.push(We.value),Dr&&(Dr=We.inclusive)}return new wo(Or,Dr)}(j,R),wt=function(zn,_r){const Or=[];let Dr=!0;for(const mt of bt(_r)){const We=0===mt.kind?io(zn,mt.fieldPath,zn.endAt):dr(zn,mt.fieldPath,zn.endAt);Or.push(We.value),Dr&&(Dr=We.inclusive)}return new wo(Or,Dr)}(j,R),Zt=this.In(R,j,Ke),hn=this.In(R,j,wt),ln=this.Tn(R,j,ve),Gn=this.En(R.indexId,ie,Zt,Ke.inclusive,hn,wt.inclusive,ln);return at.forEach(Gn,Qn=>s.G(Qn,i.limit).next(zn=>{zn.forEach(_r=>{const Or=on.fromSegments(_r.documentKey);v.has(Or)||(v=v.add(Or),C.push(Or))})}))}).next(()=>C)}return at.resolve(null)})}hn(t){let i=this.ln.get(t);return i||(i=0===t.filters.length?[t]:Mu(nr.create(t.filters,"and")).map(s=>S(t.path,t.collectionGroup,t.orderBy,s.getFilters(),t.limit,t.startAt,t.endAt)),this.ln.set(t,i),i)}En(t,i,s,u,f,v,C){const R=(null!=i?i.length:1)*Math.max(s.length,f.length),j=R/(null!=i?i.length:1),ie=[];for(let ve=0;ve<R;++ve){const Ke=i?this.dn(i[ve/j]):xa,wt=this.An(t,Ke,s[ve%j],u),Zt=this.Rn(t,Ke,f[ve%j],v),hn=C.map(ln=>this.An(t,Ke,ln,!0));ie.push(...this.createRange(wt,Zt,hn))}return ie}An(t,i,s,u){const f=new ea(t,on.empty(),i,s);return u?f:f.Zt()}Rn(t,i,s,u){const f=new ea(t,on.empty(),i,s);return u?f.Zt():f}Pn(t,i){const s=new Id(i),u=null!=i.collectionGroup?i.collectionGroup:i.path.lastSegment();return this.getFieldIndexes(t,u).next(f=>{let v=null;for(const C of f)s.rn(C)&&(!v||C.fields.length>v.fields.length)&&(v=C);return v})}getIndexType(t,i){let s=2;const u=this.hn(i);return at.forEach(u,f=>this.Pn(t,f).next(v=>{v?0!==s&&v.fields.length<function(R){let j=new Pr(lr.comparator),ie=!1;for(const ve of R.filters)for(const Ke of ve.getFlattenedFilters())Ke.field.isKeyField()||("array-contains"===Ke.op||"array-contains-any"===Ke.op?ie=!0:j=j.add(Ke.field));for(const ve of R.orderBy)ve.field.isKeyField()||(j=j.add(ve.field));return j.size+(ie?1:0)}(f)&&(s=1):s=0})).next(()=>null!==i.limit&&u.length>1&&2===s?1:s)}Vn(t,i){const s=new Ru;for(const u of bt(t)){const f=i.data.field(u.fieldPath);if(null==f)return null;const v=s.Yt(u.kind);pa.vt.It(f,v)}return s.zt()}dn(t){const i=new Ru;return pa.vt.It(t,i.Yt(0)),i.zt()}mn(t,i){const s=new Ru;return pa.vt.It(rn(this.databaseId,i),s.Yt(function(f){const v=bt(f);return 0===v.length?0:v[v.length-1].kind}(t))),s.zt()}Tn(t,i,s){if(null===s)return[];let u=[];u.push(new Ru);let f=0;for(const v of bt(t)){const C=s[f++];for(const R of u)if(this.fn(i,v.fieldPath)&&mi(C))u=this.gn(u,v,C);else{const j=R.Yt(v.kind);pa.vt.It(C,j)}}return this.pn(u)}In(t,i,s){return this.Tn(t,i,s.position)}pn(t){const i=[];for(let s=0;s<t.length;++s)i[s]=t[s].zt();return i}gn(t,i,s){const u=[...t],f=[];for(const v of s.arrayValue.values||[])for(const C of u){const R=new Ru;R.seed(C.zt()),pa.vt.It(v,R.Yt(i.kind)),f.push(R)}return f}fn(t,i){return!!t.filters.find(s=>s instanceof Er&&s.field.isEqual(i)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(t,i){const s=Nu(t),u=Nc(t);return(i?s.U("collectionGroupIndex",IDBKeyRange.bound(i,i)):s.U()).next(f=>{const v=[];return at.forEach(f,C=>u.get([C.indexId,this.uid]).next(R=>{v.push(function(ie,ve){const Ke=ve?new Ut(ve.sequenceNumber,new Be(Js(ve.readTime),new on(sn(ve.documentKey)),ve.largestBatchId)):Ut.empty(),wt=ie.fields.map(([Zt,hn])=>new Me(lr.fromServerFormat(Zt),hn));return new Kr(ie.indexId,ie.collectionGroup,wt,Ke)}(C,R))})).next(()=>v)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(i=>0===i.length?null:(i.sort((s,u)=>{const f=s.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Nn(s.collectionGroup,u.collectionGroup)}),i[0].collectionGroup))}updateCollectionGroup(t,i,s){const u=Nu(t),f=Nc(t);return this.yn(t).next(v=>u.U("collectionGroupIndex",IDBKeyRange.bound(i,i)).next(C=>at.forEach(C,R=>f.put(Mh(R.indexId,this.uid,v,s)))))}updateIndexEntries(t,i){const s=new Map;return at.forEach(i,(u,f)=>{const v=s.get(u.collectionGroup);return(v?at.resolve(v):this.getFieldIndexes(t,u.collectionGroup)).next(C=>(s.set(u.collectionGroup,C),at.forEach(C,R=>this.wn(t,u,R).next(j=>{const ie=this.Sn(f,R);return j.isEqual(ie)?at.resolve():this.bn(t,f,R,j,ie)}))))})}Dn(t,i,s,u){return Pc(t).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.mn(s,i.key),documentKey:i.key.path.toArray()})}vn(t,i,s,u){return Pc(t).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.mn(s,i.key),i.key.path.toArray()])}wn(t,i,s){const u=Pc(t);let f=new Pr(Fs);return u.J({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.mn(s,i)])},(v,C)=>{f=f.add(new ea(s.indexId,i,C.arrayValue,C.directionalValue))}).next(()=>f)}Sn(t,i){let s=new Pr(Fs);const u=this.Vn(i,t);if(null==u)return s;const f=Zr(i);if(null!=f){const v=t.data.field(f.fieldPath);if(mi(v))for(const C of v.arrayValue.values||[])s=s.add(new ea(i.indexId,t.key,this.dn(C),u))}else s=s.add(new ea(i.indexId,t.key,xa,u));return s}bn(t,i,s,u,f){ut("IndexedDbIndexManager","Updating index entries for document '%s'",i.key);const v=[];return function(R,j,ie,ve,Ke){const wt=R.getIterator(),Zt=j.getIterator();let hn=Co(wt),ln=Co(Zt);for(;hn||ln;){let Gn=!1,Qn=!1;if(hn&&ln){const zn=ie(hn,ln);zn<0?Qn=!0:zn>0&&(Gn=!0)}else null!=hn?Qn=!0:Gn=!0;Gn?(ve(ln),ln=Co(Zt)):Qn?(Ke(hn),hn=Co(wt)):(hn=Co(wt),ln=Co(Zt))}}(u,f,Fs,C=>{v.push(this.Dn(t,i,s,C))},C=>{v.push(this.vn(t,i,s,C))}),at.waitFor(v)}yn(t){let i=1;return Nc(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,u,f)=>{f.done(),i=u.sequenceNumber+1}).next(()=>i)}createRange(t,i,s){s=s.sort((v,C)=>Fs(v,C)).filter((v,C,R)=>!C||0!==Fs(v,R[C-1]));const u=[];u.push(t);for(const v of s){const C=Fs(v,t),R=Fs(v,i);if(0===C)u[0]=t.Zt();else if(C>0&&R<0)u.push(v),u.push(v.Zt());else if(R>0)break}u.push(i);const f=[];for(let v=0;v<u.length;v+=2){if(this.Cn(u[v],u[v+1]))return[];f.push(IDBKeyRange.bound([u[v].indexId,this.uid,u[v].arrayValue,u[v].directionalValue,xa,[]],[u[v+1].indexId,this.uid,u[v+1].arrayValue,u[v+1].directionalValue,xa,[]]))}return f}Cn(t,i){return Fs(t,i)>0}getMinOffsetFromCollectionGroup(t,i){return this.getFieldIndexes(t,i).next(Ou)}getMinOffset(t,i){return at.mapArray(this.hn(i),s=>this.Pn(t,s).next(u=>u||Ht())).next(Ou)}}function ap(l){return ei(l,"collectionParents")}function Pc(l){return ei(l,"indexEntries")}function Nu(l){return ei(l,"indexConfiguration")}function Nc(l){return ei(l,"indexState")}function Ou(l){$t(0!==l.length);let t=l[0].indexState.offset,i=t.largestBatchId;for(let s=1;s<l.length;s++){const u=l[s].indexState.offset;St(u,t)<0&&(t=u),i<u.largestBatchId&&(i=u.largestBatchId)}return new Be(t.readTime,t.documentKey,i)}const Ll={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class oo{constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}static withCacheSize(t){return new oo(t,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function yi(l,t,i){const s=l.store("mutations"),u=l.store("documentMutations"),f=[],v=IDBKeyRange.only(i.batchId);let C=0;const R=s.J({range:v},(ie,ve,Ke)=>(C++,Ke.delete()));f.push(R.next(()=>{$t(1===C)}));const j=[];for(const ie of i.mutations){const ve=Kn(t,ie.key.path,i.batchId);f.push(u.delete(ve)),j.push(ie.key)}return at.waitFor(f).next(()=>j)}function fn(l){if(!l)return 0;let t;if(l.document)t=l.document;else if(l.unknownDocument)t=l.unknownDocument;else{if(!l.noDocument)throw Ht();t=l.noDocument}return JSON.stringify(t).length}oo.DEFAULT_COLLECTION_PERCENTILE=10,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oo.DEFAULT=new oo(41943040,oo.DEFAULT_COLLECTION_PERCENTILE,oo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oo.DISABLED=new oo(-1,0,0);class Wn{constructor(t,i,s,u){this.userId=t,this.serializer=i,this.indexManager=s,this.referenceDelegate=u,this.Fn={}}static lt(t,i,s,u){$t(""!==t.uid);const f=t.isAuthenticated()?t.uid:"";return new Wn(f,i,s,u)}checkEmpty(t){let i=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fo(t).J({index:"userMutationsIndex",range:s},(u,f,v)=>{i=!1,v.done()}).next(()=>i)}addMutationBatch(t,i,s,u){const f=qi(t),v=fo(t);return v.add({}).next(C=>{$t("number"==typeof C);const R=new ho(C,i,s,u),j=function(wt,Zt,hn){const ln=hn.baseMutations.map(Qn=>A(wt.ct,Qn)),Gn=hn.mutations.map(Qn=>A(wt.ct,Qn));return{userId:Zt,batchId:hn.batchId,localWriteTimeMs:hn.localWriteTime.toMillis(),baseMutations:ln,mutations:Gn}}(this.serializer,this.userId,R),ie=[];let ve=new Pr((Ke,wt)=>Nn(Ke.canonicalString(),wt.canonicalString()));for(const Ke of u){const wt=Kn(this.userId,Ke.key.path,C);ve=ve.add(Ke.key.path.popLast()),ie.push(v.put(j)),ie.push(f.put(wt,Oi))}return ve.forEach(Ke=>{ie.push(this.indexManager.addToCollectionParentIndex(t,Ke))}),t.addOnCommittedListener(()=>{this.Fn[C]=R.keys()}),at.waitFor(ie).next(()=>R)})}lookupMutationBatch(t,i){return fo(t).get(i).next(s=>s?($t(s.userId===this.userId),Oa(this.serializer,s)):null)}Mn(t,i){return this.Fn[i]?at.resolve(this.Fn[i]):this.lookupMutationBatch(t,i).next(s=>{if(s){const u=s.keys();return this.Fn[i]=u,u}return null})}getNextMutationBatchAfterBatchId(t,i){const s=i+1,u=IDBKeyRange.lowerBound([this.userId,s]);let f=null;return fo(t).J({index:"userMutationsIndex",range:u},(v,C,R)=>{C.userId===this.userId&&($t(C.batchId>=s),f=Oa(this.serializer,C)),R.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(t){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return fo(t).J({index:"userMutationsIndex",range:i,reverse:!0},(u,f,v)=>{s=f.batchId,v.done()}).next(()=>s)}getAllMutationBatches(t){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fo(t).U("userMutationsIndex",i).next(s=>s.map(u=>Oa(this.serializer,u)))}getAllMutationBatchesAffectingDocumentKey(t,i){const s=ur(this.userId,i.path),u=IDBKeyRange.lowerBound(s),f=[];return qi(t).J({range:u},(v,C,R)=>{const[j,ie,ve]=v,Ke=sn(ie);if(j===this.userId&&i.path.isEqual(Ke))return fo(t).get(ve).next(wt=>{if(!wt)throw Ht();$t(wt.userId===this.userId),f.push(Oa(this.serializer,wt))});R.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Pr(Nn);const u=[];return i.forEach(f=>{const v=ur(this.userId,f.path),C=IDBKeyRange.lowerBound(v),R=qi(t).J({range:C},(j,ie,ve)=>{const[Ke,wt,Zt]=j,hn=sn(wt);Ke===this.userId&&f.path.isEqual(hn)?s=s.add(Zt):ve.done()});u.push(R)}),at.waitFor(u).next(()=>this.xn(t,s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1,f=ur(this.userId,s),v=IDBKeyRange.lowerBound(f);let C=new Pr(Nn);return qi(t).J({range:v},(R,j,ie)=>{const[ve,Ke,wt]=R,Zt=sn(Ke);ve===this.userId&&s.isPrefixOf(Zt)?Zt.length===u&&(C=C.add(wt)):ie.done()}).next(()=>this.xn(t,C))}xn(t,i){const s=[],u=[];return i.forEach(f=>{u.push(fo(t).get(f).next(v=>{if(null===v)throw Ht();$t(v.userId===this.userId),s.push(Oa(this.serializer,v))}))}),at.waitFor(u).next(()=>s)}removeMutationBatch(t,i){return yi(t._e,this.userId,i).next(s=>(t.addOnCommittedListener(()=>{this.On(i.batchId)}),at.forEach(s,u=>this.referenceDelegate.markPotentiallyOrphaned(t,u))))}On(t){delete this.Fn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(i=>{if(!i)return at.resolve();const s=IDBKeyRange.lowerBound(function(v){return[v]}(this.userId)),u=[];return qi(t).J({range:s},(f,v,C)=>{if(f[0]===this.userId){const R=sn(f[1]);u.push(R)}else C.done()}).next(()=>{$t(0===u.length)})})}containsKey(t,i){return Ki(t,this.userId,i)}Nn(t){return No(t).get(this.userId).next(i=>i||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Ki(l,t,i){const s=ur(t,i.path),u=s[1],f=IDBKeyRange.lowerBound(s);let v=!1;return qi(l).J({range:f,H:!0},(C,R,j)=>{const[ie,ve,Ke]=C;ie===t&&ve===u&&(v=!0),j.done()}).next(()=>v)}function fo(l){return ei(l,"mutations")}function qi(l){return ei(l,"documentMutations")}function No(l){return ei(l,"mutationQueues")}class Is{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new Is(0)}static kn(){return new Is(-1)}}class Si{constructor(t,i){this.referenceDelegate=t,this.serializer=i}allocateTargetId(t){return this.qn(t).next(i=>{const s=new Is(i.highestTargetId);return i.highestTargetId=s.next(),this.Qn(t,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.qn(t).next(i=>tn.fromTimestamp(new bn(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.qn(t).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(t,i,s){return this.qn(t).next(u=>(u.highestListenSequenceNumber=i,s&&(u.lastRemoteSnapshotVersion=s.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.Qn(t,u)))}addTargetData(t,i){return this.Kn(t,i).next(()=>this.qn(t).next(s=>(s.targetCount+=1,this.$n(i,s),this.Qn(t,s))))}updateTargetData(t,i){return this.Kn(t,i)}removeTargetData(t,i){return this.removeMatchingKeysForTargetId(t,i.targetId).next(()=>Pi(t).delete(i.targetId)).next(()=>this.qn(t)).next(s=>($t(s.targetCount>0),s.targetCount-=1,this.Qn(t,s)))}removeTargets(t,i,s){let u=0;const f=[];return Pi(t).J((v,C)=>{const R=Sc(C);R.sequenceNumber<=i&&null===s.get(R.targetId)&&(u++,f.push(this.removeTargetData(t,R)))}).next(()=>at.waitFor(f)).next(()=>u)}forEachTarget(t,i){return Pi(t).J((s,u)=>{const f=Sc(u);i(f)})}qn(t){return ga(t).get("targetGlobalKey").next(i=>($t(null!==i),i))}Qn(t,i){return ga(t).put("targetGlobalKey",i)}Kn(t,i){return Pi(t).put(Rh(this.serializer,i))}$n(t,i){let s=!1;return t.targetId>i.highestTargetId&&(i.highestTargetId=t.targetId,s=!0),t.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t.sequenceNumber,s=!0),s}getTargetCount(t){return this.qn(t).next(i=>i.targetCount)}getTargetData(t,i){const s=oe(i),u=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let f=null;return Pi(t).J({range:u,index:"queryTargetsIndex"},(v,C,R)=>{const j=Sc(C);Xe(i,j.target)&&(f=j,R.done())}).next(()=>f)}addMatchingKeys(t,i,s){const u=[],f=Xn(t);return i.forEach(v=>{const C=de(v.path);u.push(f.put({targetId:s,path:C})),u.push(this.referenceDelegate.addReference(t,s,v))}),at.waitFor(u)}removeMatchingKeys(t,i,s){const u=Xn(t);return at.forEach(i,f=>{const v=de(f.path);return at.waitFor([u.delete([s,v]),this.referenceDelegate.removeReference(t,s,f)])})}removeMatchingKeysForTargetId(t,i){const s=Xn(t),u=IDBKeyRange.bound([i],[i+1],!1,!0);return s.delete(u)}getMatchingKeysForTargetId(t,i){const s=IDBKeyRange.bound([i],[i+1],!1,!0),u=Xn(t);let f=mn();return u.J({range:s,H:!0},(v,C,R)=>{const j=sn(v[1]),ie=new on(j);f=f.add(ie)}).next(()=>f)}containsKey(t,i){const s=de(i.path),u=IDBKeyRange.bound([s],[Ri(s)],!1,!0);let f=0;return Xn(t).J({index:"documentTargetsIndex",H:!0,range:u},([v,C],R,j)=>{0!==v&&(f++,j.done())}).next(()=>f>0)}ot(t,i){return Pi(t).get(i).next(s=>s?Sc(s):null)}}function Pi(l){return ei(l,"targets")}function ga(l){return ei(l,"targetGlobal")}function Xn(l){return ei(l,"targetDocuments")}function Vl([l,t],[i,s]){const u=Nn(l,i);return 0===u?Nn(t,s):u}class cp{constructor(t){this.Un=t,this.buffer=new Pr(Vl),this.Wn=0}Gn(){return++this.Wn}zn(t){const i=[t,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Vl(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Oc{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return null!==this.jn}Hn(t){var i=this;ut("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,pe.A)(function*(){i.jn=null;try{yield i.localStore.collectGarbage(i.garbageCollector)}catch(s){Vr(s)?ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield dn(s)}yield i.Hn(3e5)}))}}class Li{constructor(t,i){this.Jn=t,this.params=i}calculateTargetCount(t,i){return this.Jn.Yn(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(0===i)return at.resolve(X.oe);const s=new cp(i);return this.Jn.forEachTarget(t,u=>s.zn(u.sequenceNumber)).next(()=>this.Jn.Zn(t,u=>s.zn(u))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.Jn.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.Jn.removeOrphanedDocuments(t,i)}collect(t,i){return-1===this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(Ll)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ll):this.Xn(t,i))}getCacheSize(t){return this.Jn.getCacheSize(t)}Xn(t,i){let s,u,f,v,C,R,j;const ie=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(ve=>(ve>this.params.maximumSequenceNumbersToCollect?(ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ve}`),u=this.params.maximumSequenceNumbersToCollect):u=ve,v=Date.now(),this.nthSequenceNumber(t,u))).next(ve=>(s=ve,C=Date.now(),this.removeTargets(t,s,i))).next(ve=>(f=ve,R=Date.now(),this.removeOrphanedDocuments(t,s))).next(ve=>(j=Date.now(),en()<=me.$b.DEBUG&&ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-ie}ms\n\tDetermined least recently used ${u} in `+(C-v)+`ms\n\tRemoved ${f} targets in `+(R-C)+`ms\n\tRemoved ${ve} documents in `+(j-R)+`ms\nTotal Duration: ${j-ie}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:ve})))}}class Ul{constructor(t,i){this.db=t,this.garbageCollector=function ma(l,t){return new Li(l,t)}(this,i)}Yn(t){const i=this.er(t);return this.db.getTargetCache().getTargetCount(t).next(s=>i.next(u=>s+u))}er(t){let i=0;return this.Zn(t,s=>{i++}).next(()=>i)}forEachTarget(t,i){return this.db.getTargetCache().forEachTarget(t,i)}Zn(t,i){return this.tr(t,(s,u)=>i(u))}addReference(t,i,s){return ta(t,s)}removeReference(t,i,s){return ta(t,s)}removeTargets(t,i,s){return this.db.getTargetCache().removeTargets(t,i,s)}markPotentiallyOrphaned(t,i){return ta(t,i)}nr(t,i){return function(u,f){let v=!1;return No(u).Y(C=>Ki(u,C,f).next(R=>(R&&(v=!0),at.resolve(!R)))).next(()=>v)}(t,i)}removeOrphanedDocuments(t,i){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.tr(t,(v,C)=>{if(C<=i){const R=this.nr(t,v).next(j=>{if(!j)return f++,s.getEntry(t,v).next(()=>(s.removeEntry(v,tn.min()),Xn(t).delete([0,de(v.path)])))});u.push(R)}}).next(()=>at.waitFor(u)).next(()=>s.apply(t)).next(()=>f)}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,s)}updateLimboDocument(t,i){return ta(t,i)}tr(t,i){const s=Xn(t);let u,f=X.oe;return s.J({index:"documentTargetsIndex"},([v,C],{path:R,sequenceNumber:j})=>{0===v?(f!==X.oe&&i(new on(sn(u)),f),f=j,u=R):f=X.oe}).next(()=>{f!==X.oe&&i(new on(sn(u)),f)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function ta(l,t){return Xn(l).put((u=l.currentSequenceNumber,{targetId:0,path:de(t.path),sequenceNumber:u}));var u}class sl{constructor(){this.changes=new ca(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,zr.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return void 0!==s?at.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class lp{constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,i,s){return Un(t).put(s)}removeEntry(t,i,s){return Un(t).delete(function(f,v){const C=f.path.toArray();return[C.slice(0,C.length-2),C[C.length-2],il(v),C[C.length-1]]}(i,s))}updateMetadata(t,i){return this.getMetadata(t).next(s=>(s.byteSize+=i,this.rr(t,s)))}getEntry(t,i){let s=zr.newInvalidDocument(i);return Un(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(i))},(u,f)=>{s=this.ir(i,f)}).next(()=>s)}sr(t,i){let s={size:0,document:zr.newInvalidDocument(i)};return Un(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(oc(i))},(u,f)=>{s={document:this.ir(i,f),size:fn(f)}}).next(()=>s)}getEntries(t,i){let s=Go();return this._r(t,i,(u,f)=>{const v=this.ir(u,f);s=s.insert(u,v)}).next(()=>s)}ar(t,i){let s=Go(),u=new jr(on.comparator);return this._r(t,i,(f,v)=>{const C=this.ir(f,v);s=s.insert(f,C),u=u.insert(f,fn(v))}).next(()=>({documents:s,ur:u}))}_r(t,i,s){if(i.isEmpty())return at.resolve();let u=new Pr(va);i.forEach(R=>u=u.add(R));const f=IDBKeyRange.bound(oc(u.first()),oc(u.last())),v=u.getIterator();let C=v.getNext();return Un(t).J({index:"documentKeyIndex",range:f},(R,j,ie)=>{const ve=on.fromSegments([...j.prefixPath,j.collectionGroup,j.documentId]);for(;C&&va(C,ve)<0;)s(C,null),C=v.getNext();C&&C.isEqual(ve)&&(s(C,j),C=v.hasNext()?v.getNext():null),C?ie.$(oc(C)):ie.done()}).next(()=>{for(;C;)s(C,null),C=v.hasNext()?v.getNext():null})}getDocumentsMatchingQuery(t,i,s,u,f){const v=i.path,C=[v.popLast().toArray(),v.lastSegment(),il(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],R=[v.popLast().toArray(),v.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Un(t).U(IDBKeyRange.bound(C,R,!0)).next(j=>{f?.incrementDocumentReadCount(j.length);let ie=Go();for(const ve of j){const Ke=this.ir(on.fromSegments(ve.prefixPath.concat(ve.collectionGroup,ve.documentId)),ve);Ke.isFoundDocument()&&(fs(i,Ke)||u.has(Ke.key))&&(ie=ie.insert(Ke.key,Ke))}return ie})}getAllFromCollectionGroup(t,i,s,u){let f=Go();const v=Bl(i,s),C=Bl(i,Be.max());return Un(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,C,!0)},(R,j,ie)=>{const ve=this.ir(on.fromSegments(j.prefixPath.concat(j.collectionGroup,j.documentId)),j);f=f.insert(ve.key,ve),f.size===u&&ie.done()}).next(()=>f)}newChangeBuffer(t){return new Cd(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(i=>i.byteSize)}getMetadata(t){return Ls(t).get("remoteDocumentGlobalKey").next(i=>($t(!!i),i))}rr(t,i){return Ls(t).put("remoteDocumentGlobalKey",i)}ir(t,i){if(i){const s=function om(l,t){let i;if(t.document)i=bc(l.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const s=on.fromSegments(t.noDocument.path),u=Js(t.noDocument.readTime);i=zr.newNoDocument(s,u),t.hasCommittedMutations&&i.setHasCommittedMutations()}else{if(!t.unknownDocument)return Ht();{const s=on.fromSegments(t.unknownDocument.path),u=Js(t.unknownDocument.version);i=zr.newUnknownDocument(s,u)}}return t.readTime&&i.setReadTime(function(u){const f=new bn(u[0],u[1]);return tn.fromTimestamp(f)}(t.readTime)),i}(this.serializer,i);if(!s.isNoDocument()||!s.version.isEqual(tn.min()))return s}return zr.newInvalidDocument(t)}}function ic(l){return new lp(l)}class Cd extends sl{constructor(t,i){super(),this.cr=t,this.trackRemovals=i,this.lr=new ca(s=>s.toString(),(s,u)=>s.isEqual(u))}applyChanges(t){const i=[];let s=0,u=new Pr((f,v)=>Nn(f.canonicalString(),v.canonicalString()));return this.changes.forEach((f,v)=>{const C=this.lr.get(f);if(i.push(this.cr.removeEntry(t,f,C.readTime)),v.isValidDocument()){const R=yd(this.cr.serializer,v);u=u.add(f.path.popLast());const j=fn(R);s+=j-C.size,i.push(this.cr.addEntry(t,f,R))}else if(s-=C.size,this.trackRemovals){const R=yd(this.cr.serializer,v.convertToNoDocument(tn.min()));i.push(this.cr.addEntry(t,f,R))}}),u.forEach(f=>{i.push(this.cr.indexManager.addToCollectionParentIndex(t,f))}),i.push(this.cr.updateMetadata(t,s)),at.waitFor(i)}getFromCache(t,i){return this.cr.sr(t,i).next(s=>(this.lr.set(i,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(t,i){return this.cr.ar(t,i).next(({documents:s,ur:u})=>(u.forEach((f,v)=>{this.lr.set(f,{size:v,readTime:s.get(f).readTime})}),s))}}function Ls(l){return ei(l,"remoteDocumentGlobal")}function Un(l){return ei(l,"remoteDocumentsV14")}function oc(l){const t=l.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Bl(l,t){const i=t.documentKey.path.toArray();return[l,il(t.readTime),i.slice(0,i.length-2),i.length>0?i[i.length-1]:""]}function va(l,t){const i=l.path.toArray(),s=t.path.toArray();let u=0;for(let f=0;f<i.length-2&&f<s.length-2;++f)if(u=Nn(i[f],s[f]),u)return u;return u=Nn(i.length,s.length),u||(u=Nn(i[i.length-2],s[s.length-2]),u||Nn(i[i.length-1],s[s.length-1]))}class Dd{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class al{constructor(t,i,s,u){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,i))).next(u=>(null!==s&&ar(s.mutation,u,wi.empty(),bn.now()),u))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,mn()).next(()=>s))}getLocalViewOfDocuments(t,i,s=mn()){const u=So();return this.populateOverlays(t,u,i).next(()=>this.computeViews(t,i,u,s).next(f=>{let v=Wo();return f.forEach((C,R)=>{v=v.insert(C,R.overlayedDocument)}),v}))}getOverlayedDocuments(t,i){const s=So();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,mn()))}populateOverlays(t,i,s){const u=[];return s.forEach(f=>{i.has(f)||u.push(f)}),this.documentOverlayCache.getOverlays(t,u).next(f=>{f.forEach((v,C)=>{i.set(v,C)})})}computeViews(t,i,s,u){let f=Go();const v=Ro(),C=Ro();return i.forEach((R,j)=>{const ie=s.get(j.key);u.has(j.key)&&(void 0===ie||ie.mutation instanceof Sr)?f=f.insert(j.key,j):void 0!==ie?(v.set(j.key,ie.mutation.getFieldMask()),ar(ie.mutation,j,ie.mutation.getFieldMask(),bn.now())):v.set(j.key,wi.empty())}),this.recalculateAndSaveOverlays(t,f).next(R=>(R.forEach((j,ie)=>v.set(j,ie)),i.forEach((j,ie)=>{var ve;return C.set(j,new Dd(ie,null!==(ve=v.get(j))&&void 0!==ve?ve:null))}),C))}recalculateAndSaveOverlays(t,i){const s=Ro();let u=new jr((v,C)=>v-C),f=mn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(v=>{for(const C of v)C.keys().forEach(R=>{const j=i.get(R);if(null===j)return;let ie=s.get(R)||wi.empty();ie=C.applyToLocalView(j,ie),s.set(R,ie);const ve=(u.get(C.batchId)||mn()).add(R);u=u.insert(C.batchId,ve)})}).next(()=>{const v=[],C=u.getReverseIterator();for(;C.hasNext();){const R=C.getNext(),j=R.key,ie=R.value,ve=Qa();ie.forEach(Ke=>{if(!f.has(Ke)){const wt=Sn(i.get(Ke),s.get(Ke));null!==wt&&ve.set(Ke,wt),f=f.add(Ke)}}),v.push(this.documentOverlayCache.saveOverlays(t,j,ve))}return at.waitFor(v)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,u){return on.isDocumentKey((v=i).path)&&null===v.collectionGroup&&0===v.filters.length?this.getDocumentsMatchingDocumentQuery(t,i.path):Sa(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,u):this.getDocumentsMatchingCollectionQuery(t,i,s,u);var v}getNextDocuments(t,i,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,u).next(f=>{const v=u-f.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,u-f.size):at.resolve(So());let C=-1,R=f;return v.next(j=>at.forEach(j,(ie,ve)=>(C<ve.largestBatchId&&(C=ve.largestBatchId),f.get(ie)?at.resolve():this.remoteDocumentCache.getEntry(t,ie).next(Ke=>{R=R.insert(ie,Ke)}))).next(()=>this.populateOverlays(t,j,f)).next(()=>this.computeViews(t,R,j,mn())).next(ie=>({batchId:C,changes:Yc(ie)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new on(i)).next(s=>{let u=Wo();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,i,s,u){const f=i.collectionGroup;let v=Wo();return this.indexManager.getCollectionParents(t,f).next(C=>at.forEach(C,R=>{const j=(ve=i,Ke=R.child(f),new Qr(Ke,null,ve.explicitOrderBy.slice(),ve.filters.slice(),ve.limit,ve.limitType,ve.startAt,ve.endAt));var ve,Ke;return this.getDocumentsMatchingCollectionQuery(t,j,s,u).next(ie=>{ie.forEach((ve,Ke)=>{v=v.insert(ve,Ke)})})}).next(()=>v))}getDocumentsMatchingCollectionQuery(t,i,s,u){let f;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(v=>(f=v,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,f,u))).next(v=>{f.forEach((R,j)=>{const ie=j.getKey();null===v.get(ie)&&(v=v.insert(ie,zr.newInvalidDocument(ie)))});let C=Wo();return v.forEach((R,j)=>{const ie=f.get(R);void 0!==ie&&ar(ie.mutation,j,wi.empty(),bn.now()),fs(i,j)&&(C=C.insert(R,j))}),C})}}class no{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,i){return at.resolve(this.hr.get(i))}saveBundleMetadata(t,i){return this.hr.set(i.id,{id:(u=i).id,version:u.version,createTime:oi(u.createTime)}),at.resolve();var u}getNamedQuery(t,i){return at.resolve(this.Pr.get(i))}saveNamedQuery(t,i){return this.Pr.set(i.name,{name:(u=i).name,query:tc(u.bundledQuery),readTime:oi(u.readTime)}),at.resolve();var u}}class xu{constructor(){this.overlays=new jr(on.comparator),this.Ir=new Map}getOverlay(t,i){return at.resolve(this.overlays.get(i))}getOverlays(t,i){const s=So();return at.forEach(i,u=>this.getOverlay(t,u).next(f=>{null!==f&&s.set(u,f)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((u,f)=>{this.ht(t,i,f)}),at.resolve()}removeOverlaysForBatchId(t,i,s){const u=this.Ir.get(s);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.Ir.delete(s)),at.resolve()}getOverlaysForCollection(t,i,s){const u=So(),f=i.length+1,v=new on(i.child("")),C=this.overlays.getIteratorFrom(v);for(;C.hasNext();){const R=C.getNext().value,j=R.getKey();if(!i.isPrefixOf(j.path))break;j.path.length===f&&R.largestBatchId>s&&u.set(R.getKey(),R)}return at.resolve(u)}getOverlaysForCollectionGroup(t,i,s,u){let f=new jr((j,ie)=>j-ie);const v=this.overlays.getIterator();for(;v.hasNext();){const j=v.getNext().value;if(j.getKey().getCollectionGroup()===i&&j.largestBatchId>s){let ie=f.get(j.largestBatchId);null===ie&&(ie=So(),f=f.insert(j.largestBatchId,ie)),ie.set(j.getKey(),j)}}const C=So(),R=f.getIterator();for(;R.hasNext()&&(R.getNext().value.forEach((j,ie)=>C.set(j,ie)),!(C.size()>=u)););return at.resolve(C)}ht(t,i,s){const u=this.overlays.get(s.key);if(null!==u){const v=this.Ir.get(u.largestBatchId).delete(s.key);this.Ir.set(u.largestBatchId,v)}this.overlays=this.overlays.insert(s.key,new Jo(i,s));let f=this.Ir.get(i);void 0===f&&(f=mn(),this.Ir.set(i,f)),this.Ir.set(i,f.add(s.key))}}class po{constructor(){this.sessionToken=z.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,at.resolve()}}class vo{constructor(){this.Tr=new Pr(so.Er),this.dr=new Pr(so.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,i){const s=new so(t,i);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.Vr(new so(t,i))}mr(t,i){t.forEach(s=>this.removeReference(s,i))}gr(t){const i=new on(new xn([])),s=new so(i,t),u=new so(i,t+1),f=[];return this.dr.forEachInRange([s,u],v=>{this.Vr(v),f.push(v.key)}),f}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){const i=new on(new xn([])),s=new so(i,t),u=new so(i,t+1);let f=mn();return this.dr.forEachInRange([s,u],v=>{f=f.add(v.key)}),f}containsKey(t){const i=new so(t,0),s=this.Tr.firstAfterOrEqual(i);return null!==s&&t.isEqual(s.key)}}class so{constructor(t,i){this.key=t,this.wr=i}static Er(t,i){return on.comparator(t.key,i.key)||Nn(t.wr,i.wr)}static Ar(t,i){return Nn(t.wr,i.wr)||on.comparator(t.key,i.key)}}class cl{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Sr=1,this.br=new Pr(so.Er)}checkEmpty(t){return at.resolve(0===this.mutationQueue.length)}addMutationBatch(t,i,s,u){const f=this.Sr;this.Sr++;const v=new ho(f,i,s,u);this.mutationQueue.push(v);for(const C of u)this.br=this.br.add(new so(C.key,f)),this.indexManager.addToCollectionParentIndex(t,C.key.path.popLast());return at.resolve(v)}lookupMutationBatch(t,i){return at.resolve(this.Dr(i))}getNextMutationBatchAfterBatchId(t,i){const u=this.vr(i+1),f=u<0?0:u;return at.resolve(this.mutationQueue.length>f?this.mutationQueue[f]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new so(i,0),u=new so(i,Number.POSITIVE_INFINITY),f=[];return this.br.forEachInRange([s,u],v=>{const C=this.Dr(v.wr);f.push(C)}),at.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Pr(Nn);return i.forEach(u=>{const f=new so(u,0),v=new so(u,Number.POSITIVE_INFINITY);this.br.forEachInRange([f,v],C=>{s=s.add(C.wr)})}),at.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,u=s.length+1;let f=s;on.isDocumentKey(f)||(f=f.child(""));const v=new so(new on(f),0);let C=new Pr(Nn);return this.br.forEachWhile(R=>{const j=R.key.path;return!!s.isPrefixOf(j)&&(j.length===u&&(C=C.add(R.wr)),!0)},v),at.resolve(this.Cr(C))}Cr(t){const i=[];return t.forEach(s=>{const u=this.Dr(s);null!==u&&i.push(u)}),i}removeMutationBatch(t,i){$t(0===this.Fr(i.batchId,"removed")),this.mutationQueue.shift();let s=this.br;return at.forEach(i.mutations,u=>{const f=new so(u.key,i.batchId);return s=s.delete(f),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.br=s})}On(t){}containsKey(t,i){const s=new so(i,0),u=this.br.firstAfterOrEqual(s);return at.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(t){return at.resolve()}Fr(t,i){return this.vr(t)}vr(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Dr(t){const i=this.vr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class wd{constructor(t){this.Mr=t,this.docs=new jr(on.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,u=this.docs.get(s),f=u?u.size:0,v=this.Mr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:v}),this.size+=v-f,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return at.resolve(s?s.document.mutableCopy():zr.newInvalidDocument(i))}getEntries(t,i){let s=Go();return i.forEach(u=>{const f=this.docs.get(u);s=s.insert(u,f?f.document.mutableCopy():zr.newInvalidDocument(u))}),at.resolve(s)}getDocumentsMatchingQuery(t,i,s,u){let f=Go();const v=i.path,C=new on(v.child("")),R=this.docs.getIteratorFrom(C);for(;R.hasNext();){const{key:j,value:{document:ie}}=R.getNext();if(!v.isPrefixOf(j.path))break;j.path.length>v.length+1||St(Te(ie),s)<=0||(u.has(ie.key)||fs(i,ie))&&(f=f.insert(ie.key,ie.mutableCopy()))}return at.resolve(f)}getAllFromCollectionGroup(t,i,s,u){Ht()}Or(t,i){return at.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new Vs(this)}getSize(t){return at.resolve(this.size)}}class Vs extends sl{constructor(t){super(),this.cr=t}applyChanges(t){const i=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?i.push(this.cr.addEntry(t,u)):this.cr.removeEntry(s)}),at.waitFor(i)}getFromCache(t,i){return this.cr.getEntry(t,i)}getAllFromCache(t,i){return this.cr.getEntries(t,i)}}class ll{constructor(t){this.persistence=t,this.Nr=new ca(i=>oe(i),Xe),this.lastRemoteSnapshotVersion=tn.min(),this.highestTargetId=0,this.Lr=0,this.Br=new vo,this.targetCount=0,this.kr=Is.Bn()}forEachTarget(t,i){return this.Nr.forEach((s,u)=>i(u)),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.Lr&&(this.Lr=i),at.resolve()}Kn(t){this.Nr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.kr=new Is(i),this.highestTargetId=i),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,i){return this.Kn(i),this.targetCount+=1,at.resolve()}updateTargetData(t,i){return this.Kn(i),at.resolve()}removeTargetData(t,i){return this.Nr.delete(i.target),this.Br.gr(i.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,i,s){let u=0;const f=[];return this.Nr.forEach((v,C)=>{C.sequenceNumber<=i&&null===s.get(C.targetId)&&(this.Nr.delete(v),f.push(this.removeMatchingKeysForTargetId(t,C.targetId)),u++)}),at.waitFor(f).next(()=>u)}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,i){const s=this.Nr.get(i)||null;return at.resolve(s)}addMatchingKeys(t,i,s){return this.Br.Rr(i,s),at.resolve()}removeMatchingKeys(t,i,s){this.Br.mr(i,s);const u=this.persistence.referenceDelegate,f=[];return u&&i.forEach(v=>{f.push(u.markPotentiallyOrphaned(t,v))}),at.waitFor(f)}removeMatchingKeysForTargetId(t,i){return this.Br.gr(i),at.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Br.yr(i);return at.resolve(s)}containsKey(t,i){return at.resolve(this.Br.containsKey(i))}}class Ad{constructor(t,i){this.qr={},this.overlays={},this.Qr=new X(0),this.Kr=!1,this.Kr=!0,this.$r=new po,this.referenceDelegate=t(this),this.Ur=new ll(this),this.indexManager=new sp,this.remoteDocumentCache=new wd(s=>this.referenceDelegate.Wr(s)),this.serializer=new Zs(i),this.Gr=new no(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new xu,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.qr[t.toKey()];return s||(s=new cl(i,this.referenceDelegate),this.qr[t.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,i,s){ut("MemoryPersistence","Starting transaction:",t);const u=new kh(this.Qr.next());return this.referenceDelegate.zr(),s(u).next(f=>this.referenceDelegate.jr(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Hr(t,i){return at.or(Object.values(this.qr).map(s=>()=>s.containsKey(t,i)))}}class kh extends gn{constructor(t){super(),this.currentSequenceNumber=t}}class $l{constructor(t){this.persistence=t,this.Jr=new vo,this.Yr=null}static Zr(t){return new $l(t)}get Xr(){if(this.Yr)return this.Yr;throw Ht()}addReference(t,i,s){return this.Jr.addReference(s,i),this.Xr.delete(s.toString()),at.resolve()}removeReference(t,i,s){return this.Jr.removeReference(s,i),this.Xr.add(s.toString()),at.resolve()}markPotentiallyOrphaned(t,i){return this.Xr.add(i.toString()),at.resolve()}removeTarget(t,i){this.Jr.gr(i.targetId).forEach(u=>this.Xr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(u=>{u.forEach(f=>this.Xr.add(f.toString()))}).next(()=>s.removeTargetData(t,i))}zr(){this.Yr=new Set}jr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.Xr,s=>{const u=on.fromPath(s);return this.ei(t,u).next(f=>{f||i.removeEntry(u,tn.min())})}).next(()=>(this.Yr=null,i.apply(t)))}updateLimboDocument(t,i){return this.ei(t,i).next(s=>{s?this.Xr.delete(i.toString()):this.Xr.add(i.toString())})}Wr(t){return 0}ei(t,i){return at.or([()=>at.resolve(this.Jr.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Hr(t,i)])}}class up{constructor(t){this.serializer=t}O(t,i,s,u){const f=new er("createOrUpgrade",i);var R;s<1&&u>=1&&(t.createObjectStore("owner"),(R=t).createObjectStore("mutationQueues",{keyPath:"userId"}),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kn,{unique:!0}),R.createObjectStore("documentMutations"),Hl(t),function(R){R.createObjectStore("remoteDocuments")}(t));let v=at.resolve();return s<3&&u>=3&&(0!==s&&(function(R){R.deleteObjectStore("targetDocuments"),R.deleteObjectStore("targets"),R.deleteObjectStore("targetGlobal")}(t),Hl(t)),v=v.next(()=>function(R){const j=R.store("targetGlobal"),ie={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:tn.min().toTimestamp(),targetCount:0};return j.put("targetGlobalKey",ie)}(f))),s<4&&u>=4&&(0!==s&&(v=v.next(()=>function(R,j){return j.store("mutations").U().next(ie=>{R.deleteObjectStore("mutations"),R.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kn,{unique:!0});const ve=j.store("mutations"),Ke=ie.map(wt=>ve.put(wt));return at.waitFor(Ke)})}(t,f))),v=v.next(()=>{!function(R){R.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),s<5&&u>=5&&(v=v.next(()=>this.ni(f))),s<6&&u>=6&&(v=v.next(()=>(function(R){R.createObjectStore("remoteDocumentGlobal")}(t),this.ri(f)))),s<7&&u>=7&&(v=v.next(()=>this.ii(f))),s<8&&u>=8&&(v=v.next(()=>this.si(t,f))),s<9&&u>=9&&(v=v.next(()=>{!function(R){R.objectStoreNames.contains("remoteDocumentChanges")&&R.deleteObjectStore("remoteDocumentChanges")}(t)})),s<10&&u>=10&&(v=v.next(()=>this.oi(f))),s<11&&u>=11&&(v=v.next(()=>{(function(R){R.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(R){R.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),s<12&&u>=12&&(v=v.next(()=>{!function(R){const j=R.createObjectStore("documentOverlays",{keyPath:$o});j.createIndex("collectionPathOverlayIndex",ss,{unique:!1}),j.createIndex("collectionGroupOverlayIndex",Xo,{unique:!1})}(t)})),s<13&&u>=13&&(v=v.next(()=>function(R){const j=R.createObjectStore("remoteDocumentsV14",{keyPath:Xr});j.createIndex("documentKeyIndex",sr),j.createIndex("collectionGroupIndex",ii)}(t)).next(()=>this._i(t,f)).next(()=>t.deleteObjectStore("remoteDocuments"))),s<14&&u>=14&&(v=v.next(()=>this.ai(t,f))),s<15&&u>=15&&(v=v.next(()=>function(R){R.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),R.createObjectStore("indexState",{keyPath:Ti}).createIndex("sequenceNumberIndex",Ci,{unique:!1}),R.createObjectStore("indexEntries",{keyPath:Ss}).createIndex("documentKeyIndex",Rs,{unique:!1})}(t))),s<16&&u>=16&&(v=v.next(()=>{i.objectStore("indexState").clear()}).next(()=>{i.objectStore("indexEntries").clear()})),s<17&&u>=17&&(v=v.next(()=>{!function(R){R.createObjectStore("globals",{keyPath:"name"})}(t)})),v}ri(t){let i=0;return t.store("remoteDocuments").J((s,u)=>{i+=fn(u)}).next(()=>{const s={byteSize:i};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}ni(t){const i=t.store("mutationQueues"),s=t.store("mutations");return i.U().next(u=>at.forEach(u,f=>{const v=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return s.U("userMutationsIndex",v).next(C=>at.forEach(C,R=>{$t(R.userId===f.userId);const j=Oa(this.serializer,R);return yi(t,f.userId,j).next(()=>{})}))}))}ii(t){const i=t.store("targetDocuments"),s=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return s.J((v,C)=>{const R=new xn(v),j=[0,de(R)];f.push(i.get(j).next(ie=>ie?at.resolve():i.put({targetId:0,path:de(R),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>at.waitFor(f))})}si(t,i){t.createObjectStore("collectionParents",{keyPath:Gi});const s=i.store("collectionParents"),u=new xh,f=v=>{if(u.add(v)){const C=v.lastSegment(),R=v.popLast();return s.put({collectionId:C,parent:de(R)})}};return i.store("remoteDocuments").J({H:!0},(v,C)=>{const R=new xn(v);return f(R.popLast())}).next(()=>i.store("documentMutations").J({H:!0},([v,C,R],j)=>{const ie=sn(C);return f(ie.popLast())}))}oi(t){const i=t.store("targets");return i.J((s,u)=>{const f=Sc(u),v=Rh(this.serializer,f);return i.put(v)})}_i(t,i){const s=i.store("remoteDocuments"),u=[];return s.J((f,v)=>{const C=i.store("remoteDocumentsV14"),R=(ve=v,ve.document?new on(xn.fromString(ve.document.name).popFirst(5)):ve.noDocument?on.fromSegments(ve.noDocument.path):ve.unknownDocument?on.fromSegments(ve.unknownDocument.path):Ht()).path.toArray(),j={prefixPath:R.slice(0,R.length-2),collectionGroup:R[R.length-2],documentId:R[R.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};var ve;u.push(C.put(j))}).next(()=>at.waitFor(u))}ai(t,i){const s=i.store("mutations"),u=ic(this.serializer),f=new Ad($l.Zr,this.serializer.ct);return s.U().next(v=>{const C=new Map;return v.forEach(R=>{var j;let ie=null!==(j=C.get(R.userId))&&void 0!==j?j:mn();Oa(this.serializer,R).keys().forEach(ve=>ie=ie.add(ve)),C.set(R.userId,ie)}),at.forEach(C,(R,j)=>{const ie=new Ie(j),ve=ol.lt(this.serializer,ie),Ke=f.getIndexManager(ie),wt=Wn.lt(ie,this.serializer,Ke,f.referenceDelegate);return new al(u,wt,ve,Ke).recalculateAndSaveOverlaysForDocumentKeys(new ls(i,X.oe),R).next()})})}}function Hl(l){l.createObjectStore("targetDocuments",{keyPath:ai}).createIndex("documentTargetsIndex",Jr,{unique:!0}),l.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Bo,{unique:!0}),l.createObjectStore("targetGlobal")}const dp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cm{constructor(t,i,s,u,f,v,C,R,j,ie,ve=17){if(this.allowTabSynchronization=t,this.persistenceKey=i,this.clientId=s,this.ui=f,this.window=v,this.document=C,this.ci=j,this.li=ie,this.hi=ve,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=Ke=>Promise.resolve(),!cm.D())throw new Pe(Se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ul(this,u),this.Ai=i+"main",this.serializer=new Zs(R),this.Ri=new qn(this.Ai,this.hi,new up(this.serializer)),this.$r=new sm,this.Ur=new Si(this.referenceDelegate,this.serializer),this.remoteDocumentCache=ic(this.serializer),this.Gr=new rp,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,!1===ie&&Jt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Pe(Se.FAILED_PRECONDITION,dp);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Ur.getHighestSequenceNumber(t))}).then(t=>{this.Qr=new X(t,this.ci)}).then(()=>{this.Kr=!0}).catch(t=>(this.Ri&&this.Ri.close(),Promise.reject(t)))}yi(t){var i=this;return this.di=function(){var s=(0,pe.A)(function*(u){if(i.started)return t(u)});return function(u){return s.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ri.L(function(){var i=(0,pe.A)(function*(s){null===s.newVersion&&(yield t())});return function(s){return i.apply(this,arguments)}}())}setNetworkEnabled(t){var i=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ui.enqueueAndForget((0,pe.A)(function*(){i.started&&(yield i.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>bd(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(t).next(i=>{i||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(t)).next(i=>this.isPrimary&&!i?this.bi(t).next(()=>!1):!!i&&this.Di(t).next(()=>!0))).catch(t=>{if(Vr(t))return ut("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ui.enqueueRetryable(()=>this.di(t)),this.isPrimary=t})}wi(t){return zl(t).get("owner").next(i=>at.resolve(this.vi(i)))}Ci(t){return bd(t).delete(this.clientId)}Fi(){var t=this;return(0,pe.A)(function*(){if(t.isPrimary&&!t.Mi(t.Ei,18e5)){t.Ei=Date.now();const i=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const u=ei(s,"clientMetadata");return u.U().next(f=>{const v=t.xi(f,18e5),C=f.filter(R=>-1===v.indexOf(R));return at.forEach(C,R=>u.delete(R.clientId)).next(()=>C)})}).catch(()=>[]);if(t.Vi)for(const s of i)t.Vi.removeItem(t.Oi(s.clientId))}})()}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(t){return!!t&&t.ownerId===this.clientId}Si(t){return this.li?at.resolve(!0):zl(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)){if(this.vi(i)&&this.networkEnabled)return!0;if(!this.vi(i)){if(!i.allowTabSynchronization)throw new Pe(Se.FAILED_PRECONDITION,dp);return!1}}return!(!this.networkEnabled||!this.inForeground)||bd(t).U().next(s=>void 0===this.xi(s,5e3).find(u=>!(this.clientId===u.clientId||!(!this.networkEnabled&&u.networkEnabled||!this.inForeground&&u.inForeground&&this.networkEnabled===u.networkEnabled))))}).next(i=>(this.isPrimary!==i&&ut("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var t=this;return(0,pe.A)(function*(){t.Kr=!1,t.Li(),t.Ti&&(t.Ti.cancel(),t.Ti=null),t.Bi(),t.ki(),yield t.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new ls(i,X.oe);return t.bi(s).next(()=>t.Ci(s))}),t.Ri.close(),t.qi()})()}xi(t,i){return t.filter(s=>this.Mi(s.updateTimeMs,i)&&!this.Ni(s.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",t=>bd(t).U().next(i=>this.xi(i,18e5).map(s=>s.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(t,i){return Wn.lt(t,this.serializer,i,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new am(t,this.serializer.ct.databaseId)}getDocumentOverlayCache(t){return ol.lt(this.serializer,t)}getBundleCache(){return this.Gr}runTransaction(t,i,s){ut("IndexedDbPersistence","Starting transaction:",t);const u="readonly"===i?"readonly":"readwrite",f=17===(R=this.hi)?ja:16===R?cs:15===R?Io:14===R?Ms:13===R?Di:12===R?jo:11===R?as:void Ht();var R;let v;return this.Ri.runTransaction(t,u,f,C=>(v=new ls(C,this.Qr?this.Qr.next():X.oe),"readwrite-primary"===i?this.wi(v).next(R=>!!R||this.Si(v)).next(R=>{if(!R)throw Jt(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new Pe(Se.FAILED_PRECONDITION,dt);return s(v)}).next(R=>this.Di(v).next(()=>R)):this.Ki(v).next(()=>s(v)))).then(C=>(v.raiseOnCommittedEvent(),C))}Ki(t){return zl(t).get("owner").next(i=>{if(null!==i&&this.Mi(i.leaseTimestampMs,5e3)&&!this.Ni(i.ownerId)&&!this.vi(i)&&!(this.li||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Pe(Se.FAILED_PRECONDITION,dp)})}Di(t){const i={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return zl(t).put("owner",i)}static D(){return qn.D()}bi(t){const i=zl(t);return i.get("owner").next(s=>this.vi(s)?(ut("IndexedDbPersistence","Releasing primary lease."),i.delete("owner")):at.resolve())}Mi(t,i){const s=Date.now();return!(t<s-i||t>s&&(Jt(`Detected an update time that is in the future: ${t} > ${s}`),1))}fi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground="visible"===this.document.visibilityState)}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Pi=()=>{this.Li();const i=/(?:Version|Mobile)\/1[456]/;(0,je.nr)()&&(navigator.appVersion.match(i)||navigator.userAgent.match(i))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(t){var i;try{const s=null!==(null===(i=this.Vi)||void 0===i?void 0:i.getItem(this.Oi(t)));return ut("IndexedDbPersistence",`Client '${t}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return Jt("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(t){Jt("Failed to set zombie client id.",t)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function zl(l){return ei(l,"owner")}function bd(l){return ei(l,"clientMetadata")}function ku(l,t){let i=l.projectId;return l.isDefaultDatabase||(i+="."+l.database),"firestore/"+t+"/"+i+"/"}class Fh{constructor(t,i,s,u){this.targetId=t,this.fromCache=i,this.$i=s,this.Ui=u}static Wi(t,i){let s=mn(),u=mn();for(const f of i.docChanges)switch(f.type){case 0:s=s.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new Fh(t,i.fromCache,s,u)}}class lm{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class um{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,je.nr)()?8:$n((0,je.ZQ)())>0?6:4}initialize(t,i){this.Ji=t,this.indexManager=i,this.Gi=!0}getDocumentsMatchingQuery(t,i,s,u){const f={result:null};return this.Yi(t,i).next(v=>{f.result=v}).next(()=>{if(!f.result)return this.Zi(t,i,u,s).next(v=>{f.result=v})}).next(()=>{if(f.result)return;const v=new lm;return this.Xi(t,i,v).next(C=>{if(f.result=C,this.zi)return this.es(t,i,v,C.size)})}).next(()=>f.result)}es(t,i,s,u){return s.documentReadCount<this.ji?(en()<=me.$b.DEBUG&&ut("QueryEngine","SDK will not create cache indexes for query:",go(i),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),at.resolve()):(en()<=me.$b.DEBUG&&ut("QueryEngine","Query:",go(i),"scans",s.documentReadCount,"local documents and returns",u,"documents as results."),s.documentReadCount>this.Hi*u?(en()<=me.$b.DEBUG&&ut("QueryEngine","The SDK decides to create cache indexes for query:",go(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(i))):at.resolve())}Yi(t,i){if(Ks(i))return at.resolve(null);let s=xi(i);return this.indexManager.getIndexType(t,s).next(u=>0===u?null:(null!==i.limit&&1===u&&(i=rr(i,null,"F"),s=xi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(f=>{const v=mn(...f);return this.Ji.getDocuments(t,v).next(C=>this.indexManager.getMinOffset(t,s).next(R=>{const j=this.ts(i,C);return this.ns(i,j,v,R.readTime)?this.Yi(t,rr(i,null,"F")):this.rs(t,j,i,R)}))})))}Zi(t,i,s,u){return Ks(i)||u.isEqual(tn.min())?at.resolve(null):this.Ji.getDocuments(t,s).next(f=>{const v=this.ts(i,f);return this.ns(i,v,s,u)?at.resolve(null):(en()<=me.$b.DEBUG&&ut("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),go(i)),this.rs(t,v,i,Ee(u,-1)).next(C=>C))})}ts(t,i){let s=new Pr(Xc(t));return i.forEach((u,f)=>{fs(t,f)&&(s=s.add(f))}),s}ns(t,i,s,u){if(null===t.limit)return!1;if(s.size!==i.size)return!0;const f="F"===t.limitType?i.last():i.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Xi(t,i,s){return en()<=me.$b.DEBUG&&ut("QueryEngine","Using full collection scan to execute query:",go(i)),this.Ji.getDocumentsMatchingQuery(t,i,Be.min(),s)}rs(t,i,s,u){return this.Ji.getDocumentsMatchingQuery(t,s,u).next(f=>(i.forEach(v=>{f=f.insert(v.key,v)}),f))}}class gy{constructor(t,i,s,u){this.persistence=t,this.ss=i,this.serializer=u,this.os=new jr(Nn),this._s=new ca(f=>oe(f),Xe),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(s)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new al(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.os))}}function dm(l,t,i,s){return new gy(l,t,i,s)}function hm(l,t){return hp.apply(this,arguments)}function hp(){return(hp=(0,pe.A)(function*(l,t){const i=xt(l);return yield i.persistence.runTransaction("Handle user change","readonly",s=>{let u;return i.mutationQueue.getAllMutationBatches(s).next(f=>(u=f,i.ls(t),i.mutationQueue.getAllMutationBatches(s))).next(f=>{const v=[],C=[];let R=mn();for(const j of u){v.push(j.batchId);for(const ie of j.mutations)R=R.add(ie.key)}for(const j of f){C.push(j.batchId);for(const ie of j.mutations)R=R.add(ie.key)}return i.localDocuments.getDocuments(s,R).next(j=>({hs:j,removedBatchIds:v,addedBatchIds:C}))})})})).apply(this,arguments)}function Vh(l){const t=xt(l);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Ur.getLastRemoteSnapshotVersion(i))}function fm(l,t,i){let s=mn(),u=mn();return i.forEach(f=>s=s.add(f)),t.getEntries(l,s).next(f=>{let v=Go();return i.forEach((C,R)=>{const j=f.get(C);R.isFoundDocument()!==j.isFoundDocument()&&(u=u.add(C)),R.isNoDocument()&&R.version.isEqual(tn.min())?(t.removeEntry(C,R.readTime),v=v.insert(C,R)):!j.isValidDocument()||R.version.compareTo(j.version)>0||0===R.version.compareTo(j.version)&&j.hasPendingWrites?(t.addEntry(R),v=v.insert(C,R)):ut("LocalStore","Ignoring outdated watch update for ",C,". Current version:",j.version," Watch version:",R.version)}),{Ps:v,Is:u}})}function Gl(l,t){const i=xt(l);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===t&&(t=-1),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function Fu(l,t){const i=xt(l);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return i.Ur.getTargetData(s,t).next(f=>f?(u=f,at.resolve(u)):i.Ur.allocateTargetId(s).next(v=>(u=new Ys(t,v,"TargetPurposeListen",s.currentSequenceNumber),i.Ur.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=i.os.get(s.targetId);return(null===u||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.os=i.os.insert(s.targetId,s),i._s.set(t,s.targetId)),s})}function Wl(l,t,i){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,pe.A)(function*(l,t,i){const s=xt(l),u=s.os.get(t),f=i?"readwrite":"readwrite-primary";try{i||(yield s.persistence.runTransaction("Release target",f,v=>s.persistence.referenceDelegate.removeTarget(v,u)))}catch(v){if(!Vr(v))throw v;ut("LocalStore",`Failed to update sequence numbers for target ${t}: ${v}`)}s.os=s.os.remove(t),s._s.delete(u.target)})).apply(this,arguments)}function ql(l,t,i){const s=xt(l);let u=tn.min(),f=mn();return s.persistence.runTransaction("Execute query","readwrite",v=>function(R,j,ie){const ve=xt(R),Ke=ve._s.get(ie);return void 0!==Ke?at.resolve(ve.os.get(Ke)):ve.Ur.getTargetData(j,ie)}(s,v,xi(t)).next(C=>{if(C)return u=C.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(v,C.targetId).next(R=>{f=R})}).next(()=>s.ss.getDocumentsMatchingQuery(v,t,i?u:tn.min(),i?f:mn())).next(C=>(pp(s,qc(t),C),{documents:C,Ts:f})))}function Lu(l,t){const i=xt(l),s=xt(i.Ur),u=i.os.get(t);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",f=>s.ot(f,t).next(v=>v?v.target:null))}function fp(l,t){const i=xt(l),s=i.us.get(t)||tn.min();return i.persistence.runTransaction("Get new document changes","readonly",u=>i.cs.getAllFromCollectionGroup(u,t,Ee(s,-1),Number.MAX_SAFE_INTEGER)).then(u=>(pp(i,t,u),u))}function pp(l,t,i){let s=l.us.get(t)||tn.min();i.forEach((u,f)=>{f.readTime.compareTo(s)>0&&(s=f.readTime)}),l.us.set(t,s)}function Rd(){return(Rd=(0,pe.A)(function*(l,t,i,s){const u=xt(l);let f=mn(),v=Go();for(const j of i){const ie=t.Es(j.metadata.name);j.document&&(f=f.add(ie));const ve=t.ds(j);ve.setReadTime(t.As(j.metadata.readTime)),v=v.insert(ie,ve)}const C=u.cs.newChangeBuffer({trackRemovals:!0}),R=yield Fu(u,(ie=s,xi(Ao(xn.fromString(`__bundle__/docs/${ie}`)))));var ie;return u.persistence.runTransaction("Apply bundle documents","readwrite",j=>fm(j,C,v).next(ie=>(C.apply(j),ie)).next(ie=>u.Ur.removeMatchingKeysForTargetId(j,R.targetId).next(()=>u.Ur.addMatchingKeys(j,f,R.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(j,ie.Ps,ie.Is)).next(()=>ie.Ps)))})).apply(this,arguments)}function pm(l,t){return ul.apply(this,arguments)}function ul(){return(ul=(0,pe.A)(function*(l,t,i=mn()){const s=yield Fu(l,xi(tc(t.bundledQuery))),u=xt(l);return u.persistence.runTransaction("Save named query","readwrite",f=>{const v=oi(t.readTime);if(s.snapshotVersion.compareTo(v)>=0)return u.Gr.saveNamedQuery(f,t);const C=s.withResumeToken(z.EMPTY_BYTE_STRING,v);return u.os=u.os.insert(C.targetId,C),u.Ur.updateTargetData(f,C).next(()=>u.Ur.removeMatchingKeysForTargetId(f,s.targetId)).next(()=>u.Ur.addMatchingKeys(f,i,s.targetId)).next(()=>u.Gr.saveNamedQuery(f,t))})})).apply(this,arguments)}function gp(l,t){return`firestore_clients_${l}_${t}`}function ya(l,t,i){let s=`firestore_mutations_${l}_${i}`;return t.isAuthenticated()&&(s+=`_${t.uid}`),s}function Md(l,t){return`firestore_targets_${l}_${t}`}class Vu{constructor(t,i,s,u){this.user=t,this.batchId=i,this.state=s,this.error=u}static Rs(t,i,s){const u=JSON.parse(s);let f,v="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return v&&u.error&&(v="string"==typeof u.error.message&&"string"==typeof u.error.code,v&&(f=new Pe(u.error.code,u.error.message))),v?new Vu(t,i,u.state,f):(Jt("SharedClientState",`Failed to parse mutation state for ID '${i}': ${s}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Lr{constructor(t,i,s){this.targetId=t,this.state=i,this.error=s}static Rs(t,i){const s=JSON.parse(i);let u,f="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return f&&s.error&&(f="string"==typeof s.error.message&&"string"==typeof s.error.code,f&&(u=new Pe(s.error.code,s.error.message))),f?new Lr(t,s.state,u):(Jt("SharedClientState",`Failed to parse target state for ID '${t}': ${i}`),null)}Vs(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class dl{constructor(t,i){this.clientId=t,this.activeTargetIds=i}static Rs(t,i){const s=JSON.parse(i);let u="object"==typeof s&&s.activeTargetIds instanceof Array,f=Jc();for(let v=0;u&&v<s.activeTargetIds.length;++v)u=Le(s.activeTargetIds[v]),f=f.add(s.activeTargetIds[v]);return u?new dl(t,f):(Jt("SharedClientState",`Failed to parse client data for instance '${t}': ${i}`),null)}}class sc{constructor(t,i){this.clientId=t,this.onlineState=i}static Rs(t){const i=JSON.parse(t);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new sc(i.clientId,i.onlineState):(Jt("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Oo{constructor(){this.activeTargetIds=Jc()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Uh{constructor(t,i,s,u,f){this.window=t,this.ui=i,this.persistenceKey=s,this.ps=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new jr(Nn),this.started=!1,this.bs=[];const v=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Ds=gp(this.persistenceKey,this.ps),this.vs=`firestore_sequence_number_${this.persistenceKey}`,this.Ss=this.Ss.insert(this.ps,new Oo),this.Cs=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.xs=`firestore_online_state_${this.persistenceKey}`,this.Os=function(R){return`firestore_bundle_loaded_v2_${R}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,pe.A)(function*(){const i=yield t.syncEngine.Qi();for(const u of i){if(u===t.ps)continue;const f=t.getItem(gp(t.persistenceKey,u));if(f){const v=dl.Rs(u,f);v&&(t.Ss=t.Ss.insert(v.clientId,v))}}t.Ns();const s=t.storage.getItem(t.xs);if(s){const u=t.Ls(s);u&&t.Bs(u)}for(const u of t.bs)t.ws(u);t.bs=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.vs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(t){let i=!1;return this.Ss.forEach((s,u)=>{u.activeTargetIds.has(t)&&(i=!0)}),i}addPendingMutation(t){this.qs(t,"pending")}updateMutationState(t,i,s){this.qs(t,i,s),this.Qs(t)}addLocalQueryTarget(t,i=!0){let s="not-current";if(this.isActiveQueryTarget(t)){const u=this.storage.getItem(Md(this.persistenceKey,t));if(u){const f=Lr.Rs(t,u);f&&(s=f.state)}}return i&&this.Ks.fs(t),this.Ns(),s}removeLocalQueryTarget(t){this.Ks.gs(t),this.Ns()}isLocalQueryTarget(t){return this.Ks.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Md(this.persistenceKey,t))}updateQueryState(t,i,s){this.$s(t,i,s)}handleUserChange(t,i,s){i.forEach(u=>{this.Qs(u)}),this.currentUser=t,s.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(t){this.Us(t)}notifyBundleLoaded(t){this.Ws(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(t){const i=this.storage.getItem(t);return ut("SharedClientState","READ",t,i),i}setItem(t,i){ut("SharedClientState","SET",t,i),this.storage.setItem(t,i)}removeItem(t){ut("SharedClientState","REMOVE",t),this.storage.removeItem(t)}ws(t){var i=this;const s=t;if(s.storageArea===this.storage){if(ut("SharedClientState","EVENT",s.key,s.newValue),s.key===this.Ds)return void Jt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable((0,pe.A)(function*(){if(i.started){if(null!==s.key)if(i.Cs.test(s.key)){if(null==s.newValue){const u=i.Gs(s.key);return i.zs(u,null)}{const u=i.js(s.key,s.newValue);if(u)return i.zs(u.clientId,u)}}else if(i.Fs.test(s.key)){if(null!==s.newValue){const u=i.Hs(s.key,s.newValue);if(u)return i.Js(u)}}else if(i.Ms.test(s.key)){if(null!==s.newValue){const u=i.Ys(s.key,s.newValue);if(u)return i.Zs(u)}}else if(s.key===i.xs){if(null!==s.newValue){const u=i.Ls(s.newValue);if(u)return i.Bs(u)}}else if(s.key===i.vs){const u=function(v){let C=X.oe;if(null!=v)try{const R=JSON.parse(v);$t("number"==typeof R),C=R}catch(R){Jt("SharedClientState","Failed to read sequence number from WebStorage",R)}return C}(s.newValue);u!==X.oe&&i.sequenceNumberHandler(u)}else if(s.key===i.Os){const u=i.Xs(s.newValue);yield Promise.all(u.map(f=>i.syncEngine.eo(f)))}}else i.bs.push(s)}))}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(t,i,s){const u=new Vu(this.currentUser,t,i,s),f=ya(this.persistenceKey,this.currentUser,t);this.setItem(f,u.Vs())}Qs(t){const i=ya(this.persistenceKey,this.currentUser,t);this.removeItem(i)}Us(t){this.storage.setItem(this.xs,JSON.stringify({clientId:this.ps,onlineState:t}))}$s(t,i,s){const u=Md(this.persistenceKey,t),f=new Lr(t,i,s);this.setItem(u,f.Vs())}Ws(t){const i=JSON.stringify(Array.from(t));this.setItem(this.Os,i)}Gs(t){const i=this.Cs.exec(t);return i?i[1]:null}js(t,i){const s=this.Gs(t);return dl.Rs(s,i)}Hs(t,i){const s=this.Fs.exec(t),u=Number(s[1]);return Vu.Rs(new Ie(void 0!==s[2]?s[2]:null),u,i)}Ys(t,i){const s=this.Ms.exec(t),u=Number(s[1]);return Lr.Rs(u,i)}Ls(t){return sc.Rs(t)}Xs(t){return JSON.parse(t)}Js(t){var i=this;return(0,pe.A)(function*(){if(t.user.uid===i.currentUser.uid)return i.syncEngine.no(t.batchId,t.state,t.error);ut("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Zs(t){return this.syncEngine.ro(t.targetId,t.state,t.error)}zs(t,i){const s=i?this.Ss.insert(t,i):this.Ss.remove(t),u=this.ks(this.Ss),f=this.ks(s),v=[],C=[];return f.forEach(R=>{u.has(R)||v.push(R)}),u.forEach(R=>{f.has(R)||C.push(R)}),this.syncEngine.io(v,C).then(()=>{this.Ss=s})}Bs(t){this.Ss.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ks(t){let i=Jc();return t.forEach((s,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class xc{constructor(){this.so=new Oo,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,i,s){this.oo[t]=i}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new Oo,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class ac{_o(t){}shutdown(){}}class Ts{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ho)t(0)}lo(){ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ho)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Pd=null;function kc(){return null===Pd?Pd=268435456+Math.round(2147483648*Math.random()):Pd++,"0x"+Pd.toString(16)}const gm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class na{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}}const xo="WebChannelConnection";class Bh extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId;const s=i.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),f=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+i.host,this.vo=`projects/${u}/databases/${f}`,this.Co="(default)"===this.databaseId.database?`project_id=${u}`:`project_id=${u}&database_id=${f}`}get Fo(){return!1}Mo(i,s,u,f,v){const C=kc(),R=this.xo(i,s.toUriEncodedString());ut("RestConnection",`Sending RPC '${i}' ${C}:`,R,u);const j={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(j,f,v),this.No(i,R,j,u).then(ie=>(ut("RestConnection",`Received RPC '${i}' ${C}: `,ie),ie),ie=>{throw Cn("RestConnection",`RPC '${i}' ${C} failed with error: `,ie,"url: ",R,"request:",u),ie})}Lo(i,s,u,f,v,C){return this.Mo(i,s,u,f,v)}Oo(i,s,u){i["X-Goog-Api-Client"]="gl-js/ fire/"+ht,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((f,v)=>i[v]=f),u&&u.headers.forEach((f,v)=>i[v]=f)}xo(i,s){return`${this.Do}/v1/${s}:${gm[i]}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,i,s,u){const f=kc();return new Promise((v,C)=>{const R=new pn;R.setWithCredentials(!0),R.listenOnce(pt.COMPLETE,()=>{try{switch(R.getLastErrorCode()){case _e.NO_ERROR:const ie=R.getResponseJson();ut(xo,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(ie)),v(ie);break;case _e.TIMEOUT:ut(xo,`RPC '${t}' ${f} timed out`),C(new Pe(Se.DEADLINE_EXCEEDED,"Request time out"));break;case _e.HTTP_ERROR:const ve=R.getStatus();if(ut(xo,`RPC '${t}' ${f} failed with status:`,ve,"response text:",R.getResponseText()),ve>0){let Ke=R.getResponseJson();Array.isArray(Ke)&&(Ke=Ke[0]);const wt=Ke?.error;if(wt&&wt.status&&wt.message){const Zt=function(ln){const Gn=ln.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(Gn)>=0?Gn:Se.UNKNOWN}(wt.status);C(new Pe(Zt,wt.message))}else C(new Pe(Se.UNKNOWN,"Server responded with status "+R.getStatus()))}else C(new Pe(Se.UNAVAILABLE,"Connection failed."));break;default:Ht()}}finally{ut(xo,`RPC '${t}' ${f} completed.`)}});const j=JSON.stringify(u);ut(xo,`RPC '${t}' ${f} sending request:`,u),R.send(i,"POST",j,s,15)})}Bo(t,i,s){const u=kc(),f=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],v=we(),C=re(),R={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},j=this.longPollingOptions.timeoutSeconds;void 0!==j&&(R.longPollingTimeout=Math.round(1e3*j)),this.useFetchStreams&&(R.xmlHttpFactory=new qt({})),this.Oo(R.initMessageHeaders,i,s),R.encodeInitMessageHeaders=!0;const ie=f.join("");ut(xo,`Creating RPC '${t}' stream ${u}: ${ie}`,R);const ve=v.createWebChannel(ie,R);let Ke=!1,wt=!1;const Zt=new na({Io:ln=>{wt?ut(xo,`Not sending because RPC '${t}' stream ${u} is closed:`,ln):(Ke||(ut(xo,`Opening RPC '${t}' stream ${u} transport.`),ve.open(),Ke=!0),ut(xo,`RPC '${t}' stream ${u} sending:`,ln),ve.send(ln))},To:()=>ve.close()}),hn=(ln,Gn,Qn)=>{ln.listen(Gn,zn=>{try{Qn(zn)}catch(_r){setTimeout(()=>{throw _r},0)}})};return hn(ve,vn.EventType.OPEN,()=>{wt||(ut(xo,`RPC '${t}' stream ${u} transport opened.`),Zt.yo())}),hn(ve,vn.EventType.CLOSE,()=>{wt||(wt=!0,ut(xo,`RPC '${t}' stream ${u} transport closed`),Zt.So())}),hn(ve,vn.EventType.ERROR,ln=>{wt||(wt=!0,Cn(xo,`RPC '${t}' stream ${u} transport errored:`,ln),Zt.So(new Pe(Se.UNAVAILABLE,"The operation could not be completed")))}),hn(ve,vn.EventType.MESSAGE,ln=>{var Gn;if(!wt){const Qn=ln.data[0];$t(!!Qn);const _r=Qn.error||(null===(Gn=Qn[0])||void 0===Gn?void 0:Gn.error);if(_r){ut(xo,`RPC '${t}' stream ${u} received error:`,_r);const Or=_r.status;let Dr=function(ot){const Et=to[ot];if(void 0!==Et)return Rl(Et)}(Or),mt=_r.message;void 0===Dr&&(Dr=Se.INTERNAL,mt="Unknown error status: "+Or+" with message "+_r.message),wt=!0,Zt.So(new Pe(Dr,mt)),ve.close()}else ut(xo,`RPC '${t}' stream ${u} received:`,Qn),Zt.bo(Qn)}}),hn(C,Q.STAT_EVENT,ln=>{ln.stat===q.PROXY?ut(xo,`RPC '${t}' stream ${u} detected buffering proxy`):ln.stat===q.NOPROXY&&ut(xo,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{Zt.wo()},0),Zt}}function $h(){return typeof window<"u"?window:null}function hl(){return typeof document<"u"?document:null}function fl(l){return new da(l,!0)}class Xl{constructor(t,i,s=1e3,u=1.5,f=6e4){this.ui=t,this.timerId=i,this.ko=s,this.qo=u,this.Qo=f,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();const i=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),u=Math.max(0,i-s);u>0&&ut("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ko} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,u,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class cc{constructor(t,i,s,u,f,v,C,R){this.ui=t,this.Ho=s,this.Jo=u,this.connection=f,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=C,this.listener=R,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Xl(t,i)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var t=this;return(0,pe.A)(function*(){t.n_()&&(yield t.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){var t=this;return(0,pe.A)(function*(){if(t.r_())return t.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,i){var s=this;return(0,pe.A)(function*(){s.u_(),s.c_(),s.t_.cancel(),s.Yo++,4!==t?s.t_.reset():i&&i.code===Se.RESOURCE_EXHAUSTED?(Jt(i.toString()),Jt("Using maximum backoff delay to prevent overloading the backend."),s.t_.Wo()):i&&i.code===Se.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.l_(),s.stream.close(),s.stream=null),s.state=t,yield s.listener.mo(i)})()}l_(){}auth(){this.state=1;const t=this.h_(this.Yo),i=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.Yo===i&&this.P_(s,u)},s=>{t(()=>{const u=new Pe(Se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(u)})})}P_(t,i){const s=this.h_(this.Yo);this.stream=this.T_(t,i),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(u=>{s(()=>this.I_(u))}),this.stream.onMessage(u=>{s(()=>1==++this.e_?this.E_(u):this.onNext(u))})}i_(){var t=this;this.state=5,this.t_.Go((0,pe.A)(function*(){t.state=0,t.start()}))}I_(t){return ut("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return i=>{this.ui.enqueueAndForget(()=>this.Yo===t?i():(ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jh extends cc{constructor(t,i,s,u,f,v){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,u,v),this.serializer=f}T_(t,i){return this.connection.Bo("Listen",t,i)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();const i=function I(l,t){let i;if("targetChange"in t){const s="NO_CHANGE"===(j=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===j?1:"REMOVE"===j?2:"CURRENT"===j?3:"RESET"===j?4:Ht(),u=t.targetChange.targetIds||[],f=function(j,ie){return j.useProto3Json?($t(void 0===ie||"string"==typeof ie),z.fromBase64String(ie||"")):($t(void 0===ie||ie instanceof Buffer||ie instanceof Uint8Array),z.fromUint8Array(ie||new Uint8Array))}(l,t.targetChange.resumeToken),v=t.targetChange.cause,C=v&&function(j){const ie=void 0===j.code?Se.UNKNOWN:Rl(j.code);return new Pe(ie,j.message||"")}(v);i=new xs(s,u,f,C||null)}else if("documentChange"in t){const s=t.documentChange,u=ks(l,s.document.name),f=oi(s.document.updateTime),v=s.document.createTime?oi(s.document.createTime):tn.min(),C=new $i({mapValue:{fields:s.document.fields}}),R=zr.newFoundDocument(u,f,v,C);i=new tl(s.targetIds||[],s.removedTargetIds||[],R.key,R)}else if("documentDelete"in t){const s=t.documentDelete,u=ks(l,s.document),f=s.readTime?oi(s.readTime):tn.min(),v=zr.newNoDocument(u,f);i=new tl([],s.removedTargetIds||[],v.key,v)}else if("documentRemove"in t){const s=t.documentRemove,u=ks(l,s.document);i=new tl([],s.removedTargetIds||[],u,null)}else{if(!("filter"in t))return Ht();{const s=t.filter,{count:u=0,unchangedNames:f}=s,v=new Ya(u,f);i=new Ja(s.targetId,v)}}var j;return i}(this.serializer,t),s=function(f){if(!("targetChange"in f))return tn.min();const v=f.targetChange;return v.targetIds&&v.targetIds.length?tn.min():v.readTime?oi(v.readTime):tn.min()}(t);return this.listener.d_(i,s)}A_(t){const i={};i.database=md(this.serializer),i.addTarget=function(f,v){let C;const R=v.target;if(C=Ln(R)?{documents:$(f,R)}:{query:se(f,R)._t},C.targetId=v.targetId,v.resumeToken.approximateByteSize()>0){C.resumeToken=Pl(f,v.resumeToken);const j=gd(f,v.expectedCount);null!==j&&(C.expectedCount=j)}else if(v.snapshotVersion.compareTo(tn.min())>0){C.readTime=_s(f,v.snapshotVersion.toTimestamp());const j=gd(f,v.expectedCount);null!==j&&(C.expectedCount=j)}return C}(this.serializer,t);const s=function yt(l,t){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ht()}}(t.purpose);return null==i?null:{"goog-listen-tags":i}}(0,t);s&&(i.labels=s),this.a_(i)}R_(t){const i={};i.database=md(this.serializer),i.removeTarget=t,this.a_(i)}}class ka extends cc{constructor(t,i,s,u,f,v){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,u,v),this.serializer=f}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,i){return this.connection.Bo("Write",t,i)}E_(t){return $t(!!t.streamToken),this.lastStreamToken=t.streamToken,$t(!t.writeResults||0===t.writeResults.length),this.listener.f_()}onNext(t){$t(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();const i=function b(l,t){return l&&l.length>0?($t(void 0!==t),l.map(i=>function(u,f){let v=oi(u.updateTime?u.updateTime:f);return v.isEqual(tn.min())&&(v=oi(f)),new K(v,u.transformResults||[])}(i,t))):[]}(t.writeResults,t.commitTime),s=oi(t.commitTime);return this.listener.g_(s,i)}p_(){const t={};t.database=md(this.serializer),this.a_(t)}m_(t){const i={streamToken:this.lastStreamToken,writes:t.map(s=>A(this.serializer,s))};this.a_(i)}}class fr extends class{}{constructor(t,i,s,u){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=u,this.y_=!1}w_(){if(this.y_)throw new Pe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,i,s,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,v])=>this.connection.Mo(t,Ac(i,s),u,f,v)).catch(f=>{throw"FirebaseError"===f.name?(f.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new Pe(Se.UNKNOWN,f.toString())})}Lo(t,i,s,u,f){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([v,C])=>this.connection.Lo(t,Ac(i,s),u,v,C,f)).catch(v=>{throw"FirebaseError"===v.name?(v.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),v):new Pe(Se.UNKNOWN,v.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Nd{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,"Online"===t&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){const i=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Jt(i),this.D_=!1):ut("OnlineStateTracker",i)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Hh{constructor(t,i,s,u,f){var v=this;this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=f,this.k_._o(C=>{s.enqueueAndForget((0,pe.A)(function*(){var R;lc(v)&&(ut("RemoteStore","Restarting streams for network reachability change."),yield(R=(0,pe.A)(function*(ie){const ve=xt(ie);ve.L_.add(4),yield Fc(ve),ve.q_.set("Unknown"),ve.L_.delete(4),yield Ql(ve)}),function j(ie){return R.apply(this,arguments)})(v))}))}),this.q_=new Nd(s,u)}}function Ql(l){return zh.apply(this,arguments)}function zh(){return(zh=(0,pe.A)(function*(l){if(lc(l))for(const t of l.B_)yield t(!0)})).apply(this,arguments)}function Fc(l){return Uu.apply(this,arguments)}function Uu(){return(Uu=(0,pe.A)(function*(l){for(const t of l.B_)yield t(!1)})).apply(this,arguments)}function Bu(l,t){const i=xt(l);i.N_.has(t.targetId)||(i.N_.set(t.targetId,t),gl(i)?ts(i):F(i).r_()&&_a(i,t))}function pl(l,t){const i=xt(l),s=F(i);i.N_.delete(t),s.r_()&&mp(i,t),0===i.N_.size&&(s.r_()?s.o_():lc(i)&&i.q_.set("Unknown"))}function _a(l,t){if(l.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(tn.min())>0){const i=l.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}F(l).A_(t)}function mp(l,t){l.Q_.xe(t),F(l).R_(t)}function ts(l){l.Q_=new ys({getRemoteKeysForTarget:t=>l.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>l.N_.get(t)||null,tt:()=>l.datastore.serializer.databaseId}),F(l).start(),l.q_.v_()}function gl(l){return lc(l)&&!F(l).n_()&&l.N_.size>0}function lc(l){return 0===xt(l).L_.size}function vp(l){l.Q_=void 0}function zt(l){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,pe.A)(function*(l){l.q_.set("Online")})).apply(this,arguments)}function yp(l){return $u.apply(this,arguments)}function $u(){return($u=(0,pe.A)(function*(l){l.N_.forEach((t,i)=>{_a(l,t)})})).apply(this,arguments)}function ui(l,t){return Ea.apply(this,arguments)}function Ea(){return(Ea=(0,pe.A)(function*(l,t){vp(l),gl(l)?(l.q_.M_(t),ts(l)):l.q_.set("Unknown")})).apply(this,arguments)}function Yl(l,t,i){return Us.apply(this,arguments)}function Us(){return Us=(0,pe.A)(function*(l,t,i){if(l.q_.set("Online"),t instanceof xs&&2===t.state&&t.cause)try{yield(s=(0,pe.A)(function*(f,v){const C=v.cause;for(const R of v.targetIds)f.N_.has(R)&&(yield f.remoteSyncer.rejectListen(R,C),f.N_.delete(R),f.Q_.removeTarget(R))}),function u(f,v){return s.apply(this,arguments)})(l,t)}catch(s){ut("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),yield Zl(l,s)}else if(t instanceof tl?l.Q_.Ke(t):t instanceof Ja?l.Q_.He(t):l.Q_.We(t),!i.isEqual(tn.min()))try{const s=yield Vh(l.localStore);i.compareTo(s)>=0&&(yield function(f,v){const C=f.Q_.rt(v);return C.targetChanges.forEach((R,j)=>{if(R.resumeToken.approximateByteSize()>0){const ie=f.N_.get(j);ie&&f.N_.set(j,ie.withResumeToken(R.resumeToken,v))}}),C.targetMismatches.forEach((R,j)=>{const ie=f.N_.get(R);if(!ie)return;f.N_.set(R,ie.withResumeToken(z.EMPTY_BYTE_STRING,ie.snapshotVersion)),mp(f,R);const ve=new Ys(ie.target,R,j,ie.sequenceNumber);_a(f,ve)}),f.remoteSyncer.applyRemoteEvent(C)}(l,i))}catch(s){ut("RemoteStore","Failed to raise snapshot:",s),yield Zl(l,s)}var s}),Us.apply(this,arguments)}function Zl(l,t,i){return ju.apply(this,arguments)}function ju(){return(ju=(0,pe.A)(function*(l,t,i){if(!Vr(t))throw t;l.L_.add(1),yield Fc(l),l.q_.set("Offline"),i||(i=()=>Vh(l.localStore)),l.asyncQueue.enqueueRetryable((0,pe.A)(function*(){ut("RemoteStore","Retrying IndexedDB access"),yield i(),l.L_.delete(1),yield Ql(l)}))})).apply(this,arguments)}function Od(l,t){return t().catch(i=>Zl(l,i,t))}function yo(l){return xd.apply(this,arguments)}function xd(){return(xd=(0,pe.A)(function*(l){const t=xt(l),i=ne(t);let s=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;kd(t);)try{const u=yield Gl(t.localStore,s);if(null===u){0===t.O_.length&&i.o_();break}s=u.batchId,_p(t,u)}catch(u){yield Zl(t,u)}Ia(t)&&ao(t)})).apply(this,arguments)}function kd(l){return lc(l)&&l.O_.length<10}function _p(l,t){l.O_.push(t);const i=ne(l);i.r_()&&i.V_&&i.m_(t.mutations)}function Ia(l){return lc(l)&&!ne(l).n_()&&l.O_.length>0}function ao(l){ne(l).start()}function Fa(l){return Hu.apply(this,arguments)}function Hu(){return(Hu=(0,pe.A)(function*(l){ne(l).p_()})).apply(this,arguments)}function Ta(l){return Bs.apply(this,arguments)}function Bs(){return(Bs=(0,pe.A)(function*(l){const t=ne(l);for(const i of l.O_)t.m_(i.mutations)})).apply(this,arguments)}function mm(l,t,i){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,pe.A)(function*(l,t,i){const s=l.O_.shift(),u=ms.from(s,t,i);yield Od(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),yield yo(l)})).apply(this,arguments)}function vm(l,t){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,pe.A)(function*(l,t){var i;t&&ne(l).V_&&(yield(i=(0,pe.A)(function*(u,f){if(Ns(C=f.code)&&C!==Se.ABORTED){const v=u.O_.shift();ne(u).s_(),yield Od(u,()=>u.remoteSyncer.rejectFailedWrite(v.batchId,f)),yield yo(u)}var C}),function s(u,f){return i.apply(this,arguments)})(l,t)),Ia(l)&&ao(l)}),Gh.apply(this,arguments)}function y(l,t){return h.apply(this,arguments)}function h(){return(h=(0,pe.A)(function*(l,t){const i=xt(l);i.asyncQueue.verifyOperationInProgress(),ut("RemoteStore","RemoteStore received new credentials");const s=lc(i);i.L_.add(3),yield Fc(i),s&&i.q_.set("Unknown"),yield i.remoteSyncer.handleCredentialChange(t),i.L_.delete(3),yield Ql(i)})).apply(this,arguments)}function p(l,t){return E.apply(this,arguments)}function E(){return(E=(0,pe.A)(function*(l,t){const i=xt(l);t?(i.L_.delete(2),yield Ql(i)):t||(i.L_.add(2),yield Fc(i),i.q_.set("Unknown"))})).apply(this,arguments)}function F(l){return l.K_||(l.K_=function(i,s,u){const f=xt(i);return f.w_(),new jh(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(l.datastore,l.asyncQueue,{Eo:zt.bind(null,l),Ro:yp.bind(null,l),mo:ui.bind(null,l),d_:Yl.bind(null,l)}),l.B_.push(function(){var t=(0,pe.A)(function*(i){i?(l.K_.s_(),gl(l)?ts(l):l.q_.set("Unknown")):(yield l.K_.stop(),vp(l))});return function(i){return t.apply(this,arguments)}}())),l.K_}function ne(l){return l.U_||(l.U_=function(i,s,u){const f=xt(i);return f.w_(),new ka(s,f.connection,f.authCredentials,f.appCheckCredentials,f.serializer,u)}(l.datastore,l.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Fa.bind(null,l),mo:vm.bind(null,l),f_:Ta.bind(null,l),g_:mm.bind(null,l)}),l.B_.push(function(){var t=(0,pe.A)(function*(i){i?(l.U_.s_(),yield yo(l)):(yield l.U_.stop(),l.O_.length>0&&(ut("RemoteStore",`Stopping write stream with ${l.O_.length} pending writes`),l.O_=[]))});return function(i){return t.apply(this,arguments)}}())),l.U_}class ze{constructor(t,i,s,u,f){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=u,this.removalCallback=f,this.deferred=new _t,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,u,f){const v=Date.now()+s,C=new ze(t,i,v,u,f);return C.start(s),C}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Pe(Se.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vt(l,t){if(Jt("AsyncQueue",`${t}: ${l}`),Vr(l))return new Pe(Se.UNAVAILABLE,`${t}: ${l}`);throw l}class Gt{constructor(t){this.comparator=t?(i,s)=>t(i,s)||on.comparator(i.key,s.key):(i,s)=>on.comparator(i.key,s.key),this.keyedMap=Wo(),this.sortedSet=new jr(this.comparator)}static emptySet(t){return new Gt(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Gt)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,f=s.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,i){const s=new Gt;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}class Tn{constructor(){this.W_=new jr(on.comparator)}track(t){const i=t.doc.key,s=this.W_.get(i);s?0!==t.type&&3===s.type?this.W_=this.W_.insert(i,t):3===t.type&&1!==s.type?this.W_=this.W_.insert(i,{type:s.type,doc:t.doc}):2===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):2===t.type&&0===s.type?this.W_=this.W_.insert(i,{type:0,doc:t.doc}):1===t.type&&0===s.type?this.W_=this.W_.remove(i):1===t.type&&2===s.type?this.W_=this.W_.insert(i,{type:1,doc:s.doc}):0===t.type&&1===s.type?this.W_=this.W_.insert(i,{type:2,doc:t.doc}):Ht():this.W_=this.W_.insert(i,t)}G_(){const t=[];return this.W_.inorderTraversal((i,s)=>{t.push(s)}),t}}class On{constructor(t,i,s,u,f,v,C,R,j){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=f,this.fromCache=v,this.syncStateChanged=C,this.excludesMetadataChanges=R,this.hasCachedResults=j}static fromInitialDocuments(t,i,s,u,f){const v=[];return i.forEach(C=>{v.push({type:0,doc:C})}),new On(t,i,Gt.emptySet(i),v,s,u,!0,!1,f)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ps(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==s[u].type||!i[u].doc.isEqual(s[u].doc))return!1;return!0}}class Vn{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}}class ji{constructor(){this.queries=pi(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(i,s){const u=xt(i),f=u.queries;u.queries=pi(),f.forEach((v,C)=>{for(const R of C.j_)R.onError(s)})}(this,new Pe(Se.ABORTED,"Firestore shutting down"))}}function pi(){return new ca(l=>Xa(l),Ps)}function ra(l,t){return di.apply(this,arguments)}function di(){return(di=(0,pe.A)(function*(l,t){const i=xt(l);let s=3;const u=t.query;let f=i.queries.get(u);f?!f.H_()&&t.J_()&&(s=2):(f=new Vn,s=t.J_()?0:1);try{switch(s){case 0:f.z_=yield i.onListen(u,!0);break;case 1:f.z_=yield i.onListen(u,!1);break;case 2:yield i.onFirstRemoteStoreListen(u)}}catch(v){const C=vt(v,`Initialization of query '${go(t.query)}' failed`);return void t.onError(C)}i.queries.set(u,f),f.j_.push(t),t.Z_(i.onlineState),f.z_&&t.X_(f.z_)&&Gu(i)})).apply(this,arguments)}function zu(l,t){return Ld.apply(this,arguments)}function Ld(){return(Ld=(0,pe.A)(function*(l,t){const i=xt(l),s=t.query;let u=3;const f=i.queries.get(s);if(f){const v=f.j_.indexOf(t);v>=0&&(f.j_.splice(v,1),0===f.j_.length?u=t.J_()?0:1:!f.H_()&&t.J_()&&(u=2))}switch(u){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}})).apply(this,arguments)}function Ep(l,t){const i=xt(l);let s=!1;for(const u of t){const v=i.queries.get(u.query);if(v){for(const C of v.j_)C.X_(u)&&(s=!0);v.z_=u}}s&&Gu(i)}function Wh(l,t,i){const s=xt(l),u=s.queries.get(t);if(u)for(const f of u.j_)f.onError(i);s.queries.delete(t)}function Gu(l){l.Y_.forEach(t=>{t.next()})}var Wu,Lc;(Lc=Wu||(Wu={})).ea="default",Lc.Cache="cache";class $s{constructor(t,i,s){this.query=t,this.ta=i,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)3!==u.type&&s.push(u);t=new On(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.na?this.ia(t)&&(this.ta.next(t),i=!0):this.sa(t,this.onlineState)&&(this.oa(t),i=!0),this.ra=t,i}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let i=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),i=!0),i}sa(t,i){return!t.fromCache||!this.J_()||(!this.options._a||!("Offline"!==i))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===i)}ia(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(t){t=On.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Wu.Cache}}class ym{constructor(t,i){this.aa=t,this.byteLength=i}ua(){return"metadata"in this.aa}}class ml{constructor(t){this.serializer=t}Es(t){return ks(this.serializer,t)}ds(t){return t.metadata.exists?bc(this.serializer,t.document,!1):zr.newNoDocument(this.Es(t.metadata.name),this.As(t.metadata.readTime))}As(t){return oi(t)}}class Vd{constructor(t,i,s){this.ca=t,this.localStore=i,this.serializer=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Kh(t)}la(t){this.progress.bytesLoaded+=t.byteLength;let i=this.progress.documentsLoaded;if(t.aa.namedQuery)this.queries.push(t.aa.namedQuery);else if(t.aa.documentMetadata){this.documents.push({metadata:t.aa.documentMetadata}),t.aa.documentMetadata.exists||++i;const s=xn.fromString(t.aa.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else t.aa.document&&(this.documents[this.documents.length-1].document=t.aa.document,++i);return i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}ha(t){const i=new Map,s=new ml(this.serializer);for(const u of t)if(u.metadata.queries){const f=s.Es(u.metadata.name);for(const v of u.metadata.queries){const C=(i.get(v)||mn()).add(f);i.set(v,C)}}return i}complete(){var t=this;return(0,pe.A)(function*(){const i=yield function Sd(l,t,i,s){return Rd.apply(this,arguments)}(t.localStore,new ml(t.serializer),t.documents,t.ca.id),s=t.ha(t.documents);for(const u of t.queries)yield pm(t.localStore,u,s.get(u.name));return t.progress.taskState="Success",{progress:t.progress,Pa:t.collectionGroups,Ia:i}})()}}function Kh(l){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:l.totalDocuments,totalBytes:l.totalBytes}}class Ip{constructor(t){this.key=t}}class _m{constructor(t){this.key=t}}class Em{constructor(t,i){this.query=t,this.Ta=i,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=mn(),this.mutatedKeys=mn(),this.Aa=Xc(t),this.Ra=new Gt(this.Aa)}get Va(){return this.Ta}ma(t,i){const s=i?i.fa:new Tn,u=i?i.Ra:this.Ra;let f=i?i.mutatedKeys:this.mutatedKeys,v=u,C=!1;const R="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,j="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((ie,ve)=>{const Ke=u.get(ie),wt=fs(this.query,ve)?ve:null,Zt=!!Ke&&this.mutatedKeys.has(Ke.key),hn=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let ln=!1;Ke&&wt?Ke.data.isEqual(wt.data)?Zt!==hn&&(s.track({type:3,doc:wt}),ln=!0):this.ga(Ke,wt)||(s.track({type:2,doc:wt}),ln=!0,(R&&this.Aa(wt,R)>0||j&&this.Aa(wt,j)<0)&&(C=!0)):!Ke&&wt?(s.track({type:0,doc:wt}),ln=!0):Ke&&!wt&&(s.track({type:1,doc:Ke}),ln=!0,(R||j)&&(C=!0)),ln&&(wt?(v=v.add(wt),f=hn?f.add(ie):f.delete(ie)):(v=v.delete(ie),f=f.delete(ie)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const ie="F"===this.query.limitType?v.last():v.first();v=v.delete(ie.key),f=f.delete(ie.key),s.track({type:1,doc:ie})}return{Ra:v,fa:s,ns:C,mutatedKeys:f}}ga(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,u){const f=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;const v=t.fa.G_();v.sort((ie,ve)=>function(wt,Zt){const hn=ln=>{switch(ln){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ht()}};return hn(wt)-hn(Zt)}(ie.type,ve.type)||this.Aa(ie.doc,ve.doc)),this.pa(s),u=null!=u&&u;const C=i&&!u?this.ya():[],R=0===this.da.size&&this.current&&!u?1:0,j=R!==this.Ea;return this.Ea=R,0!==v.length||j?{snapshot:new On(this.query,t.Ra,f,v,t.mutatedKeys,0===R,j,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:C}:{wa:C}}Z_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Tn,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(i=>this.Ta=this.Ta.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.Ta=this.Ta.delete(i)),this.current=t.current)}ya(){if(!this.current)return[];const t=this.da;this.da=mn(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const i=[];return t.forEach(s=>{this.da.has(s)||i.push(new _m(s))}),this.da.forEach(s=>{t.has(s)||i.push(new Ip(s))}),i}ba(t){this.Ta=t.Ts,this.da=mn();const i=this.ma(t.documents);return this.applyChanges(i,!0)}Da(){return On.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class $E{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class Ud{constructor(t){this.key=t,this.va=!1}}class qh{constructor(t,i,s,u,f,v){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=v,this.Ca={},this.Fa=new ca(C=>Xa(C),Ps),this.Ma=new Map,this.xa=new Set,this.Oa=new jr(on.comparator),this.Na=new Map,this.La=new vo,this.Ba={},this.ka=new Map,this.qa=Is.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function jE(l,t){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,pe.A)(function*(l,t,i=!0){const s=Np(l);let u;const f=s.Fa.get(t);return f?(s.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Da()):u=yield vy(s,t,i,!0),u})).apply(this,arguments)}function my(l,t){return Im.apply(this,arguments)}function Im(){return(Im=(0,pe.A)(function*(l,t){const i=Np(l);yield vy(i,t,!0,!1)})).apply(this,arguments)}function vy(l,t,i,s){return Tm.apply(this,arguments)}function Tm(){return(Tm=(0,pe.A)(function*(l,t,i,s){const u=yield Fu(l.localStore,xi(t)),f=u.targetId,v=l.sharedClientState.addLocalQueryTarget(f,i);let C;return s&&(C=yield yy(l,t,f,"current"===v,u.resumeToken)),l.isPrimaryClient&&i&&Bu(l.remoteStore,u),C})).apply(this,arguments)}function yy(l,t,i,s,u){return _y.apply(this,arguments)}function _y(){return _y=(0,pe.A)(function*(l,t,i,s,u){l.Ka=(ve,Ke,wt)=>{return(Zt=(0,pe.A)(function*(ln,Gn,Qn,zn){let _r=Gn.view.ma(Qn);_r.ns&&(_r=yield ql(ln.localStore,Gn.query,!1).then(({documents:We})=>Gn.view.ma(We,_r)));const Or=zn&&zn.targetChanges.get(Gn.targetId),Dr=zn&&null!=zn.targetMismatches.get(Gn.targetId),mt=Gn.view.applyChanges(_r,ln.isPrimaryClient,Or,Dr);return wp(ln,Gn.targetId,mt.wa),mt.snapshot}),function hn(ln,Gn,Qn,zn){return Zt.apply(this,arguments)})(l,ve,Ke,wt);var Zt};const f=yield ql(l.localStore,t,!0),v=new Em(t,f.Ts),C=v.ma(f.documents),R=Os.createSynthesizedTargetChangeForCurrentChange(i,s&&"Offline"!==l.onlineState,u),j=v.applyChanges(C,l.isPrimaryClient,R);wp(l,i,j.wa);const ie=new $E(t,i,v);return l.Fa.set(t,ie),l.Ma.has(i)?l.Ma.get(i).push(t):l.Ma.set(i,[t]),j.snapshot}),_y.apply(this,arguments)}function Cm(l,t,i){return vl.apply(this,arguments)}function vl(){return(vl=(0,pe.A)(function*(l,t,i){const s=xt(l),u=s.Fa.get(t),f=s.Ma.get(u.targetId);if(f.length>1)return s.Ma.set(u.targetId,f.filter(v=>!Ps(v,t))),void s.Fa.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(u.targetId),s.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Wl(s.localStore,u.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(u.targetId),i&&pl(s.remoteStore,u.targetId),Jl(s,u.targetId)}).catch(dn))):(Jl(s,u.targetId),yield Wl(s.localStore,u.targetId,!0))})).apply(this,arguments)}function Dm(l,t){return Ku.apply(this,arguments)}function Ku(){return(Ku=(0,pe.A)(function*(l,t){const i=xt(l),s=i.Fa.get(t),u=i.Ma.get(s.targetId);i.isPrimaryClient&&1===u.length&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),pl(i.remoteStore,s.targetId))})).apply(this,arguments)}function qu(){return(qu=(0,pe.A)(function*(l,t,i){const s=Rm(l);try{const u=yield function(v,C){const R=xt(v),j=bn.now(),ie=C.reduce((wt,Zt)=>wt.add(Zt.key),mn());let ve,Ke;return R.persistence.runTransaction("Locally write mutations","readwrite",wt=>{let Zt=Go(),hn=mn();return R.cs.getEntries(wt,ie).next(ln=>{Zt=ln,Zt.forEach((Gn,Qn)=>{Qn.isValidDocument()||(hn=hn.add(Gn))})}).next(()=>R.localDocuments.getOverlayedDocuments(wt,Zt)).next(ln=>{ve=ln;const Gn=[];for(const Qn of C){const zn=ni(Qn,ve.get(Qn.key).overlayedDocument);null!=zn&&Gn.push(new Sr(Qn.key,zn,Ai(zn.value.mapValue),De.exists(!0)))}return R.mutationQueue.addMutationBatch(wt,j,Gn,C)}).next(ln=>{Ke=ln;const Gn=ln.applyToLocalDocumentSet(ve,hn);return R.documentOverlayCache.saveOverlays(wt,ln.batchId,Gn)})}).then(()=>({batchId:Ke.batchId,changes:Yc(ve)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(v,C,R){let j=v.Ba[v.currentUser.toKey()];j||(j=new jr(Nn)),j=j.insert(C,R),v.Ba[v.currentUser.toKey()]=j}(s,u.batchId,i),yield Uc(s,u.changes),yield yo(s.remoteStore)}catch(u){const f=vt(u,"Failed to persist write");i.reject(f)}})).apply(this,arguments)}function Ey(l,t){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,pe.A)(function*(l,t){const i=xt(l);try{const s=yield function BE(l,t){const i=xt(l),s=t.snapshotVersion;let u=i.os;return i.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const v=i.cs.newChangeBuffer({trackRemovals:!0});u=i.os;const C=[];t.targetChanges.forEach((ie,ve)=>{const Ke=u.get(ve);if(!Ke)return;C.push(i.Ur.removeMatchingKeys(f,ie.removedDocuments,ve).next(()=>i.Ur.addMatchingKeys(f,ie.addedDocuments,ve)));let wt=Ke.withSequenceNumber(f.currentSequenceNumber);var hn,ln,Gn;null!==t.targetMismatches.get(ve)?wt=wt.withResumeToken(z.EMPTY_BYTE_STRING,tn.min()).withLastLimboFreeSnapshotVersion(tn.min()):ie.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(ie.resumeToken,s)),u=u.insert(ve,wt),ln=wt,Gn=ie,(0===(hn=Ke).resumeToken.approximateByteSize()||ln.snapshotVersion.toMicroseconds()-hn.snapshotVersion.toMicroseconds()>=3e8||Gn.addedDocuments.size+Gn.modifiedDocuments.size+Gn.removedDocuments.size>0)&&C.push(i.Ur.updateTargetData(f,wt))});let R=Go(),j=mn();if(t.documentUpdates.forEach(ie=>{t.resolvedLimboDocuments.has(ie)&&C.push(i.persistence.referenceDelegate.updateLimboDocument(f,ie))}),C.push(fm(f,v,t.documentUpdates).next(ie=>{R=ie.Ps,j=ie.Is})),!s.isEqual(tn.min())){const ie=i.Ur.getLastRemoteSnapshotVersion(f).next(ve=>i.Ur.setTargetsMetadata(f,f.currentSequenceNumber,s));C.push(ie)}return at.waitFor(C).next(()=>v.apply(f)).next(()=>i.localDocuments.getLocalViewOfDocuments(f,R,j)).next(()=>R)}).then(f=>(i.os=u,f))}(i.localStore,t);t.targetChanges.forEach((u,f)=>{const v=i.Na.get(f);v&&($t(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?v.va=!0:u.modifiedDocuments.size>0?$t(v.va):u.removedDocuments.size>0&&($t(v.va),v.va=!1))}),yield Uc(i,s,t)}catch(s){yield dn(s)}})).apply(this,arguments)}function Yh(l,t,i){const s=xt(l);if(s.isPrimaryClient&&0===i||!s.isPrimaryClient&&1===i){const u=[];s.Fa.forEach((f,v)=>{const C=v.view.Z_(t);C.snapshot&&u.push(C.snapshot)}),function(v,C){const R=xt(v);R.onlineState=C;let j=!1;R.queries.forEach((ie,ve)=>{for(const Ke of ve.j_)Ke.Z_(C)&&(j=!0)}),j&&Gu(R)}(s.eventManager,t),u.length&&s.Ca.d_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}function iD(l,t,i){return Tp.apply(this,arguments)}function Tp(){return(Tp=(0,pe.A)(function*(l,t,i){const s=xt(l);s.sharedClientState.updateQueryState(t,"rejected",i);const u=s.Na.get(t),f=u&&u.key;if(f){let v=new jr(on.comparator);v=v.insert(f,zr.newNoDocument(f,tn.min()));const C=mn().add(f),R=new Po(tn.min(),new Map,new jr(Nn),v,C);yield Ey(s,R),s.Oa=s.Oa.remove(f),s.Na.delete(t),Ap(s)}else yield Wl(s.localStore,t,!1).then(()=>Jl(s,t,i)).catch(dn)})).apply(this,arguments)}function Iy(l,t){return wm.apply(this,arguments)}function wm(){return(wm=(0,pe.A)(function*(l,t){const i=xt(l),s=t.batch.batchId;try{const u=yield function Lh(l,t){const i=xt(l);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),f=i.cs.newChangeBuffer({trackRemovals:!0});return function(C,R,j,ie){const ve=j.batch,Ke=ve.keys();let wt=at.resolve();return Ke.forEach(Zt=>{wt=wt.next(()=>ie.getEntry(R,Zt)).next(hn=>{const ln=j.docVersions.get(Zt);$t(null!==ln),hn.version.compareTo(ln)<0&&(ve.applyToRemoteDocument(hn,j),hn.isValidDocument()&&(hn.setReadTime(j.commitVersion),ie.addEntry(hn)))})}),wt.next(()=>C.mutationQueue.removeMutationBatch(R,ve))}(i,s,t,f).next(()=>f.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(C){let R=mn();for(let j=0;j<C.mutationResults.length;++j)C.mutationResults[j].transformResults.length>0&&(R=R.add(C.batch.mutations[j].key));return R}(t))).next(()=>i.localDocuments.getDocuments(s,u))})}(i.localStore,t);Bd(i,s,null),Dp(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),yield Uc(i,u)}catch(u){yield dn(u)}})).apply(this,arguments)}function Vc(l,t,i){return Am.apply(this,arguments)}function Am(){return(Am=(0,pe.A)(function*(l,t,i){const s=xt(l);try{const u=yield function(v,C){const R=xt(v);return R.persistence.runTransaction("Reject batch","readwrite-primary",j=>{let ie;return R.mutationQueue.lookupMutationBatch(j,C).next(ve=>($t(null!==ve),ie=ve.keys(),R.mutationQueue.removeMutationBatch(j,ve))).next(()=>R.mutationQueue.performConsistencyCheck(j)).next(()=>R.documentOverlayCache.removeOverlaysForBatchId(j,ie,C)).next(()=>R.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(j,ie)).next(()=>R.localDocuments.getDocuments(j,ie))})}(s.localStore,t);Bd(s,t,i),Dp(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),yield Uc(s,u)}catch(u){yield dn(u)}})).apply(this,arguments)}function Zh(){return(Zh=(0,pe.A)(function*(l,t){const i=xt(l);lc(i.remoteStore)||ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(v){const C=xt(v);return C.persistence.runTransaction("Get highest unacknowledged batch id","readonly",R=>C.mutationQueue.getHighestUnacknowledgedBatchId(R))}(i.localStore);if(-1===s)return void t.resolve();const u=i.ka.get(s)||[];u.push(t),i.ka.set(s,u)}catch(s){const u=vt(s,"Initialization of waitForPendingWrites() operation failed");t.reject(u)}})).apply(this,arguments)}function Dp(l,t){(l.ka.get(t)||[]).forEach(i=>{i.resolve()}),l.ka.delete(t)}function Bd(l,t,i){const s=xt(l);let u=s.Ba[s.currentUser.toKey()];if(u){const f=u.get(t);f&&(i?f.reject(i):f.resolve(),u=u.remove(t)),s.Ba[s.currentUser.toKey()]=u}}function Jl(l,t,i=null){l.sharedClientState.removeLocalQueryTarget(t);for(const s of l.Ma.get(t))l.Fa.delete(s),i&&l.Ca.$a(s,i);l.Ma.delete(t),l.isPrimaryClient&&l.La.gr(t).forEach(s=>{l.La.containsKey(s)||Ty(l,s)})}function Ty(l,t){l.xa.delete(t.path.canonicalString());const i=l.Oa.get(t);null!==i&&(pl(l.remoteStore,i),l.Oa=l.Oa.remove(t),l.Na.delete(i),Ap(l))}function wp(l,t,i){for(const s of i)s instanceof Ip?(l.La.addReference(s.key,t),Cy(l,s)):s instanceof _m?(ut("SyncEngine","Document no longer in limbo: "+s.key),l.La.removeReference(s.key,t),l.La.containsKey(s.key)||Ty(l,s.key)):Ht()}function Cy(l,t){const i=t.key,s=i.path.canonicalString();l.Oa.get(i)||l.xa.has(s)||(ut("SyncEngine","New document in limbo: "+i),l.xa.add(s),Ap(l))}function Ap(l){for(;l.xa.size>0&&l.Oa.size<l.maxConcurrentLimboResolutions;){const t=l.xa.values().next().value;l.xa.delete(t);const i=new on(xn.fromString(t)),s=l.qa.next();l.Na.set(s,new Ud(i)),l.Oa=l.Oa.insert(i,s),Bu(l.remoteStore,new Ys(xi(Ao(i.path)),s,"TargetPurposeLimboResolution",X.oe))}}function Uc(l,t,i){return bm.apply(this,arguments)}function bm(){return bm=(0,pe.A)(function*(l,t,i){const s=xt(l),u=[],f=[],v=[];var C;s.Fa.isEmpty()||(s.Fa.forEach((C,R)=>{v.push(s.Ka(R,t,i).then(j=>{var ie;if((j||i)&&s.isPrimaryClient){const ve=j?!j.fromCache:null===(ie=i?.targetChanges.get(R.targetId))||void 0===ie?void 0:ie.current;s.sharedClientState.updateQueryState(R.targetId,ve?"current":"not-current")}if(j){u.push(j);const ve=Fh.Wi(R.targetId,j);f.push(ve)}}))}),yield Promise.all(v),s.Ca.d_(u),yield(C=(0,pe.A)(function*(j,ie){const ve=xt(j);try{yield ve.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ke=>at.forEach(ie,wt=>at.forEach(wt.$i,Zt=>ve.persistence.referenceDelegate.addReference(Ke,wt.targetId,Zt)).next(()=>at.forEach(wt.Ui,Zt=>ve.persistence.referenceDelegate.removeReference(Ke,wt.targetId,Zt)))))}catch(Ke){if(!Vr(Ke))throw Ke;ut("LocalStore","Failed to update sequence numbers: "+Ke)}for(const Ke of ie){const wt=Ke.targetId;if(!Ke.fromCache){const Zt=ve.os.get(wt),ln=Zt.withLastLimboFreeSnapshotVersion(Zt.snapshotVersion);ve.os=ve.os.insert(wt,ln)}}}),function R(j,ie){return C.apply(this,arguments)})(s.localStore,f))}),bm.apply(this,arguments)}function bp(l,t){return yl.apply(this,arguments)}function yl(){return(yl=(0,pe.A)(function*(l,t){const i=xt(l);if(!i.currentUser.isEqual(t)){ut("SyncEngine","User change. New user:",t.toKey());const s=yield hm(i.localStore,t);i.currentUser=t,(f=i).ka.forEach(C=>{C.forEach(R=>{R.reject(new Pe(Se.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ka.clear(),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),yield Uc(i,s.hs)}var f})).apply(this,arguments)}function zE(l,t){const i=xt(l),s=i.Na.get(t);if(s&&s.va)return mn().add(s.key);{let u=mn();const f=i.Ma.get(t);if(!f)return u;for(const v of f){const C=i.Fa.get(v);u=u.unionWith(C.view.Va)}return u}}function Dy(l,t){return Sp.apply(this,arguments)}function Sp(){return(Sp=(0,pe.A)(function*(l,t){const i=xt(l),s=yield ql(i.localStore,t.query,!0),u=t.view.ba(s);return i.isPrimaryClient&&wp(i,t.targetId,u.wa),u})).apply(this,arguments)}function $d(l,t){return eu.apply(this,arguments)}function eu(){return(eu=(0,pe.A)(function*(l,t){const i=xt(l);return fp(i.localStore,t).then(s=>Uc(i,s))})).apply(this,arguments)}function ko(l,t,i,s){return Sm.apply(this,arguments)}function Sm(){return(Sm=(0,pe.A)(function*(l,t,i,s){const u=xt(l),f=yield function(C,R){const j=xt(C),ie=xt(j.mutationQueue);return j.persistence.runTransaction("Lookup mutation documents","readonly",ve=>ie.Mn(ve,R).next(Ke=>Ke?j.localDocuments.getDocuments(ve,Ke):at.resolve(null)))}(u.localStore,t);var R;null!==f?("pending"===i?yield yo(u.remoteStore):"acknowledged"===i||"rejected"===i?(Bd(u,t,s||null),Dp(u,t),R=t,xt(xt(u.localStore).mutationQueue).On(R)):Ht(),yield Uc(u,f)):ut("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function Jh(){return(Jh=(0,pe.A)(function*(l,t){const i=xt(l);if(Np(i),Rm(i),!0===t&&!0!==i.Qa){const s=i.sharedClientState.getAllActiveQueryTargets(),u=yield Ay(i,s.toArray());i.Qa=!0,yield p(i.remoteStore,!0);for(const f of u)Bu(i.remoteStore,f)}else if(!1===t&&!1!==i.Qa){const s=[];let u=Promise.resolve();i.Ma.forEach((f,v)=>{i.sharedClientState.isLocalQueryTarget(v)?s.push(v):u=u.then(()=>(Jl(i,v),Wl(i.localStore,v,!0))),pl(i.remoteStore,v)}),yield u,yield Ay(i,s),function(v){const C=xt(v);C.Na.forEach((R,j)=>{pl(C.remoteStore,j)}),C.La.pr(),C.Na=new Map,C.Oa=new jr(on.comparator)}(i),i.Qa=!1,yield p(i.remoteStore,!1)}})).apply(this,arguments)}function Ay(l,t,i){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,pe.A)(function*(l,t,i){const s=xt(l),u=[],f=[];for(const v of t){let C;const R=s.Ma.get(v);if(R&&0!==R.length){C=yield Fu(s.localStore,xi(R[0]));for(const j of R){const ie=s.Fa.get(j),ve=yield Dy(s,ie);ve.snapshot&&f.push(ve.snapshot)}}else{const j=yield Lu(s.localStore,v);C=yield Fu(s.localStore,j),yield yy(s,ef(j),v,!1,C.resumeToken)}u.push(C)}return s.Ca.d_(f),u})).apply(this,arguments)}function ef(l){return hs(l.path,l.collectionGroup,l.orderBy,l.filters,l.limit,"F",l.startAt,l.endAt)}function GE(l){return i=xt(l).localStore,xt(xt(i).persistence).Qi();var i}function by(l,t,i,s){return tf.apply(this,arguments)}function tf(){return(tf=(0,pe.A)(function*(l,t,i,s){const u=xt(l);if(u.Qa)return void ut("SyncEngine","Ignoring unexpected query state notification.");const f=u.Ma.get(t);if(f&&f.length>0)switch(i){case"current":case"not-current":{const v=yield fp(u.localStore,qc(f[0])),C=Po.createSynthesizedRemoteEventForCurrentChange(t,"current"===i,z.EMPTY_BYTE_STRING);yield Uc(u,v,C);break}case"rejected":yield Wl(u.localStore,t,!0),Jl(u,t,s);break;default:Ht()}})).apply(this,arguments)}function Mp(l,t,i){return Pp.apply(this,arguments)}function Pp(){return(Pp=(0,pe.A)(function*(l,t,i){const s=Np(l);if(s.Qa){for(const u of t){if(s.Ma.has(u)&&s.sharedClientState.isActiveQueryTarget(u)){ut("SyncEngine","Adding an already active target "+u);continue}const f=yield Lu(s.localStore,u),v=yield Fu(s.localStore,f);yield yy(s,ef(f),v.targetId,!1,v.resumeToken),Bu(s.remoteStore,v)}for(const u of i)s.Ma.has(u)&&(yield Wl(s.localStore,u,!1).then(()=>{pl(s.remoteStore,u),Jl(s,u)}).catch(dn))}})).apply(this,arguments)}function Np(l){const t=xt(l);return t.remoteStore.remoteSyncer.applyRemoteEvent=Ey.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zE.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iD.bind(null,t),t.Ca.d_=Ep.bind(null,t.eventManager),t.Ca.$a=Wh.bind(null,t.eventManager),t}function Rm(l){const t=xt(l);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Iy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Vc.bind(null,t),t}class Xu{constructor(){this.synchronizeTabs=!1}initialize(t){var i=this;return(0,pe.A)(function*(){i.serializer=fl(t.databaseInfo.databaseId),i.sharedClientState=i.createSharedClientState(t),i.persistence=i.createPersistence(t),yield i.persistence.start(),i.localStore=i.createLocalStore(t),i.gcScheduler=i.createGarbageCollectionScheduler(t,i.localStore),i.indexBackfillerScheduler=i.createIndexBackfillerScheduler(t,i.localStore)})()}createGarbageCollectionScheduler(t,i){return null}createIndexBackfillerScheduler(t,i){return null}createLocalStore(t){return dm(this.persistence,new um,t.initialUser,this.serializer)}createPersistence(t){return new Ad($l.Zr,this.serializer)}createSharedClientState(t){return new xc}terminate(){var t=this;return(0,pe.A)(function*(){var i,s;null===(i=t.gcScheduler)||void 0===i||i.stop(),null===(s=t.indexBackfillerScheduler)||void 0===s||s.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class Op extends Xu{constructor(t,i,s){super(),this.Wa=t,this.cacheSizeBytes=i,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(t){var i=()=>super.initialize,s=this;return(0,pe.A)(function*(){yield i().call(s,t),yield s.Wa.initialize(s,t),yield Rm(s.Wa.syncEngine),yield yo(s.Wa.remoteStore),yield s.persistence.yi(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return dm(this.persistence,new um,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,i){return new Oc(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,i)}createIndexBackfillerScheduler(t,i){const s=new te(i,this.persistence);return new Bi(t.asyncQueue,s)}createPersistence(t){const i=ku(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?oo.withCacheSize(this.cacheSizeBytes):oo.DEFAULT;return new cm(this.synchronizeTabs,i,t.clientId,s,t.asyncQueue,$h(),hl(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new xc}}class Sy extends Op{constructor(t,i){super(t,i,!1),this.Wa=t,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(t){var i=()=>super.initialize,s=this;return(0,pe.A)(function*(){yield i().call(s,t);const u=s.Wa.syncEngine;s.sharedClientState instanceof Uh&&(s.sharedClientState.syncEngine={no:ko.bind(null,u),ro:by.bind(null,u),io:Mp.bind(null,u),Qi:GE.bind(null,u),eo:$d.bind(null,u)},yield s.sharedClientState.start()),yield s.persistence.yi(function(){var f=(0,pe.A)(function*(v){yield function wy(l,t){return Jh.apply(this,arguments)}(s.Wa.syncEngine,v),s.gcScheduler&&(v&&!s.gcScheduler.started?s.gcScheduler.start():v||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(v&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():v||s.indexBackfillerScheduler.stop())});return function(v){return f.apply(this,arguments)}}())})()}createSharedClientState(t){const i=$h();if(!Uh.D(i))throw new Pe(Se.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=ku(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Uh(i,t.asyncQueue,s,t.clientId,t.initialUser)}}class jd{initialize(t,i){var s=this;return(0,pe.A)(function*(){s.localStore||(s.localStore=t.localStore,s.sharedClientState=t.sharedClientState,s.datastore=s.createDatastore(i),s.remoteStore=s.createRemoteStore(i),s.eventManager=s.createEventManager(i),s.syncEngine=s.createSyncEngine(i,!t.synchronizeTabs),s.sharedClientState.onlineStateHandler=u=>Yh(s.syncEngine,u,1),s.remoteStore.remoteSyncer.handleCredentialChange=bp.bind(null,s.syncEngine),yield p(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(t){return new ji}createDatastore(t){const i=fl(t.databaseInfo.databaseId),s=new Bh(t.databaseInfo);return new fr(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return s=this.localStore,u=this.datastore,f=t.asyncQueue,v=i=>Yh(this.syncEngine,i,0),C=Ts.D()?new Ts:new ac,new Hh(s,u,f,v,C);var s,u,f,v,C}createSyncEngine(t,i){return function(u,f,v,C,R,j,ie){const ve=new qh(u,f,v,C,R,j);return ie&&(ve.Qa=!0),ve}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}terminate(){var t=this;return(0,pe.A)(function*(){var i,s,u;yield(u=(0,pe.A)(function*(v){const C=xt(v);ut("RemoteStore","RemoteStore shutting down."),C.L_.add(5),yield Fc(C),C.k_.shutdown(),C.q_.set("Unknown")}),function f(v){return u.apply(this,arguments)})(t.remoteStore),null===(i=t.datastore)||void 0===i||i.terminate(),null===(s=t.eventManager)||void 0===s||s.terminate()})()}}function qE(l,t=10240){let i=0;return{read:()=>(0,pe.A)(function*(){if(i<l.byteLength){const s={value:l.slice(i,i+t),done:!1};return i+=t,s}return{done:!0}})(),cancel:()=>(0,pe.A)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class nf{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ga(this.observer.next,t)}error(t){this.observer.error?this.Ga(this.observer.error,t):Jt("Uncaught Error in snapshot listener:",t.toString())}za(){this.muted=!0}Ga(t,i){this.muted||setTimeout(()=>{this.muted||t(i)},0)}}class Ry{constructor(t,i){this.ja=t,this.serializer=i,this.metadata=new _t,this.buffer=new Uint8Array,this.Ha=new TextDecoder("utf-8"),this.Ja().then(s=>{s&&s.ua()?this.metadata.resolve(s.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.aa)}`))},s=>this.metadata.reject(s))}close(){return this.ja.cancel()}getMetadata(){var t=this;return(0,pe.A)(function*(){return t.metadata.promise})()}Ua(){var t=this;return(0,pe.A)(function*(){return yield t.getMetadata(),t.Ja()})()}Ja(){var t=this;return(0,pe.A)(function*(){const i=yield t.Ya();if(null===i)return null;const s=t.Ha.decode(i),u=Number(s);isNaN(u)&&t.Za(`length string (${s}) is not valid number`);const f=yield t.Xa(u);return new ym(JSON.parse(f),i.length+u)})()}eu(){return this.buffer.findIndex(t=>123===t)}Ya(){var t=this;return(0,pe.A)(function*(){for(;t.eu()<0&&!(yield t.tu()););if(0===t.buffer.length)return null;const i=t.eu();i<0&&t.Za("Reached the end of bundle when a length string is expected.");const s=t.buffer.slice(0,i);return t.buffer=t.buffer.slice(i),s})()}Xa(t){var i=this;return(0,pe.A)(function*(){for(;i.buffer.length<t;)(yield i.tu())&&i.Za("Reached the end of bundle when more is expected.");const s=i.Ha.decode(i.buffer.slice(0,t));return i.buffer=i.buffer.slice(t),s})()}Za(t){throw this.ja.cancel(),new Error(`Invalid bundle format: ${t}`)}tu(){var t=this;return(0,pe.A)(function*(){const i=yield t.ja.read();if(!i.done){const s=new Uint8Array(t.buffer.length+i.value.length);s.set(t.buffer),s.set(i.value,t.buffer.length),t.buffer=s}return i.done})()}}class ns{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}lookup(t){var i=this;return(0,pe.A)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw i.lastTransactionError=new Pe(Se.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),i.lastTransactionError;const s=yield(u=(0,pe.A)(function*(v,C){const R=xt(v),j={documents:C.map(wt=>ha(R.serializer,wt))},ie=yield R.Lo("BatchGetDocuments",R.serializer.databaseId,xn.emptyPath(),j,C.length),ve=new Map;ie.forEach(wt=>{const Zt=function np(l,t){return"found"in t?function(s,u){$t(!!u.found);const f=ks(s,u.found.name),v=oi(u.found.updateTime),C=u.found.createTime?oi(u.found.createTime):tn.min(),R=new $i({mapValue:{fields:u.found.fields}});return zr.newFoundDocument(f,v,C,R)}(l,t):"missing"in t?function(s,u){$t(!!u.missing),$t(!!u.readTime);const f=ks(s,u.missing),v=oi(u.readTime);return zr.newNoDocument(f,v)}(l,t):Ht()}(R.serializer,wt);ve.set(Zt.key.toString(),Zt)});const Ke=[];return C.forEach(wt=>{const Zt=ve.get(wt.toString());$t(!!Zt),Ke.push(Zt)}),Ke}),function f(v,C){return u.apply(this,arguments)})(i.datastore,t);var u;return s.forEach(u=>i.recordVersion(u)),s})()}set(t,i){this.write(i.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,i){try{this.write(i.toMutation(t,this.preconditionForUpdate(t)))}catch(s){this.lastTransactionError=s}this.writtenDocs.add(t.toString())}delete(t){this.write(new eo(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,pe.A)(function*(){if(t.ensureCommitNotCalled(),t.lastTransactionError)throw t.lastTransactionError;const i=t.readVersions;var s;t.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,u)=>{const f=on.fromPath(u);t.mutations.push(new Ko(f,t.precondition(f)))}),yield(s=(0,pe.A)(function*(f,v){const C=xt(f),R={writes:v.map(j=>A(C.serializer,j))};yield C.Mo("Commit",C.serializer.databaseId,xn.emptyPath(),R)}),function u(f,v){return s.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let i;if(t.isFoundDocument())i=t.version;else{if(!t.isNoDocument())throw Ht();i=tn.min()}const s=this.readVersions.get(t.key.toString());if(s){if(!i.isEqual(s))throw new Pe(Se.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),i)}precondition(t){const i=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&i?i.isEqual(tn.min())?De.exists(!1):De.updateTime(i):De.none()}preconditionForUpdate(t){const i=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&i){if(i.isEqual(tn.min()))throw new Pe(Se.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return De.updateTime(i)}return De.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class oD{constructor(t,i,s,u,f){this.asyncQueue=t,this.datastore=i,this.options=s,this.updateFunction=u,this.deferred=f,this.nu=s.maxAttempts,this.t_=new Xl(this.asyncQueue,"transaction_retry")}ru(){this.nu-=1,this.iu()}iu(){var t=this;this.t_.Go((0,pe.A)(function*(){const i=new ns(t.datastore),s=t.su(i);s&&s.then(u=>{t.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{t.deferred.resolve(u)}).catch(f=>{t.ou(f)}))}).catch(u=>{t.ou(u)})}))}su(t){try{const i=this.updateFunction(t);return!U(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ou(t){this.nu>0&&this._u(t)?(this.nu-=1,this.asyncQueue.enqueueAndForget(()=>(this.iu(),Promise.resolve()))):this.deferred.reject(t)}_u(t){if("FirebaseError"===t.name){const i=t.code;return"aborted"===i||"failed-precondition"===i||"already-exists"===i||!Ns(i)}return!1}}class XE{constructor(t,i,s,u){var f=this;this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=u,this.user=Ie.UNAUTHENTICATED,this.clientId=Rr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var v=(0,pe.A)(function*(C){ut("FirestoreClient","Received user=",C.uid),yield f.authCredentialListener(C),f.user=C});return function(C){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(s,v=>(ut("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(Se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const i=new _t;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.A)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),i.resolve()}catch(s){const u=vt(s,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function Mm(l,t){return xp.apply(this,arguments)}function xp(){return xp=(0,pe.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress(),ut("FirestoreClient","Initializing OfflineComponentProvider");const i=l.configuration;yield t.initialize(i);let s=i.initialUser;l.setCredentialChangeListener(function(){var u=(0,pe.A)(function*(f){s.isEqual(f)||(yield hm(t.localStore,f),s=f)});return function(f){return u.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=t}),xp.apply(this,arguments)}function My(l,t){return rf.apply(this,arguments)}function rf(){return(rf=(0,pe.A)(function*(l,t){l.asyncQueue.verifyOperationInProgress();const i=yield Qu(l);ut("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(i,l.configuration),l.setCredentialChangeListener(s=>y(t.remoteStore,s)),l.setAppCheckTokenChangeListener((s,u)=>y(t.remoteStore,u)),l._onlineComponents=t})).apply(this,arguments)}function Pm(l){return"FirebaseError"===l.name?l.code===Se.FAILED_PRECONDITION||l.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code}function Qu(l){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,pe.A)(function*(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){ut("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Mm(l,l._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!Pm(i))throw i;Cn("Error using user provided cache. Falling back to memory cache: "+i),yield Mm(l,new Xu)}}else ut("FirestoreClient","Using default OfflineComponentProvider"),yield Mm(l,new Xu);return l._offlineComponents})).apply(this,arguments)}function kp(l){return _l.apply(this,arguments)}function _l(){return(_l=(0,pe.A)(function*(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(ut("FirestoreClient","Using user provided OnlineComponentProvider"),yield My(l,l._uninitializedComponentsProvider._online)):(ut("FirestoreClient","Using default OnlineComponentProvider"),yield My(l,new jd))),l._onlineComponents})).apply(this,arguments)}function QE(l){return Qu(l).then(t=>t.persistence)}function Hd(l){return Qu(l).then(t=>t.localStore)}function uc(l){return kp(l).then(t=>t.remoteStore)}function zd(l){return kp(l).then(t=>t.syncEngine)}function Yu(l){return Py.apply(this,arguments)}function Py(){return(Py=(0,pe.A)(function*(l){const t=yield kp(l),i=t.eventManager;return i.onListen=jE.bind(null,t.syncEngine),i.onUnlisten=Cm.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=my.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Dm.bind(null,t.syncEngine),i})).apply(this,arguments)}function Hi(l,t,i={}){const s=new _t;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function(f,v,C,R,j){const ie=new nf({next:Ke=>{v.enqueueAndForget(()=>zu(f,ve));const wt=Ke.docs.has(C);!wt&&Ke.fromCache?j.reject(new Pe(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):wt&&Ke.fromCache&&R&&"server"===R.source?j.reject(new Pe(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):j.resolve(Ke)},error:Ke=>j.reject(Ke)}),ve=new $s(Ao(C.path),ie,{includeMetadataChanges:!0,_a:!0});return ra(f,ve)}(yield Yu(l),l.asyncQueue,t,i,s)})),s.promise}function Lp(l,t,i={}){const s=new _t;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function(f,v,C,R,j){const ie=new nf({next:Ke=>{v.enqueueAndForget(()=>zu(f,ve)),Ke.fromCache&&"server"===R.source?j.reject(new Pe(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):j.resolve(Ke)},error:Ke=>j.reject(Ke)}),ve=new $s(C,ie,{includeMetadataChanges:!0,_a:!0});return ra(f,ve)}(yield Yu(l),l.asyncQueue,t,i,s)})),s.promise}function xy(l){const t={};return void 0!==l.timeoutSeconds&&(t.timeoutSeconds=l.timeoutSeconds),t}const Lm=new Map;function Vm(l,t,i){if(!i)throw new Pe(Se.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${t}.`)}function Bc(l,t,i,s){if(!0===t&&!0===s)throw new Pe(Se.INVALID_ARGUMENT,`${l} and ${i} cannot be used together.`)}function ky(l){if(!on.isDocumentKey(l))throw new Pe(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Um(l){if(on.isDocumentKey(l))throw new Pe(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Bm(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const t=(s=l).constructor?s.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var s;return"function"==typeof l?"a function":Ht()}function $r(l,t){if("_delegate"in l&&(l=l._delegate),!(l instanceof t)){if(t.name===l.constructor.name)throw new Pe(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bm(l);throw new Pe(Se.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return l}function nI(l,t){if(t<=0)throw new Pe(Se.INVALID_ARGUMENT,`Function ${l}() requires a positive number, but it was: ${t}.`)}class rI{constructor(t){var i,s;if(void 0===t.host){if(void 0!==t.ssl)throw new Pe(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(i=t.ssl)||void 0===i||i;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Pe(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Bc("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=xy(null!==(s=t.experimentalLongPollingOptions)&&void 0!==s?s:{}),function(f){if(void 0!==f.timeoutSeconds){if(isNaN(f.timeoutSeconds))throw new Pe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (must not be NaN)`);if(f.timeoutSeconds<5)throw new Pe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (minimum allowed value is 5)`);if(f.timeoutSeconds>30)throw new Pe(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${f.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Vp{constructor(t,i,s,u){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rI({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Pe(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rI(t),void 0!==t.credentials&&(this._authCredentials=function(s){if(!s)return new An;switch(s.type){case"firstParty":return new kt(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Pe(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Lm.get(i);s&&(ut("ComponentProvider","Removing Datastore"),Lm.delete(i),s.terminate())}(this),Promise.resolve()}}class co{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new co(this.firestore,t,this._query)}}class _i{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _i(this.firestore,t,this._key)}}class dc extends co{constructor(t,i,s){super(t,i,Ao(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _i(this.firestore,null,new on(t))}withConverter(t){return new dc(this.firestore,t,this._path)}}function Ly(l,t,...i){if(l=(0,je.Ku)(l),Vm("collection","path",t),l instanceof Vp){const s=xn.fromString(t,...i);return Um(s),new dc(l,null,s)}{if(!(l instanceof _i||l instanceof dc))throw new Pe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(xn.fromString(t,...i));return Um(s),new dc(l.firestore,null,s)}}function tu(l,t,...i){if(l=(0,je.Ku)(l),1===arguments.length&&(t=Rr.newId()),Vm("doc","path",t),l instanceof Vp){const s=xn.fromString(t,...i);return ky(s),new _i(l,null,new on(s))}{if(!(l instanceof _i||l instanceof dc))throw new Pe(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=l._path.child(xn.fromString(t,...i));return ky(s),new _i(l.firestore,l instanceof dc?l.converter:null,new on(s))}}function Vy(l,t){return l=(0,je.Ku)(l),t=(0,je.Ku)(t),(l instanceof _i||l instanceof dc)&&(t instanceof _i||t instanceof dc)&&l.firestore===t.firestore&&l.path===t.path&&l.converter===t.converter}function sf(l,t){return l=(0,je.Ku)(l),t=(0,je.Ku)(t),l instanceof co&&t instanceof co&&l.firestore===t.firestore&&Ps(l._query,t._query)&&l.converter===t.converter}class Uy{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Xl(this,"async_queue_retry"),this.Eu=()=>{const i=hl();i&&ut("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()};const t=hl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.du(),this.Au(t)}enterRestrictedMode(t){if(!this.cu){this.cu=!0,this.Iu=t||!1;const i=hl();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Eu)}}enqueue(t){if(this.du(),this.cu)return new Promise(()=>{});const i=new _t;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.uu.push(t),this.Ru()))}Ru(){var t=this;return(0,pe.A)(function*(){if(0!==t.uu.length){try{yield t.uu[0](),t.uu.shift(),t.t_.reset()}catch(i){if(!Vr(i))throw i;ut("AsyncQueue","Operation failed with retryable error: "+i)}t.uu.length>0&&t.t_.Go(()=>t.Ru())}})()}Au(t){const i=this.au.then(()=>(this.Pu=!0,t().catch(s=>{throw this.hu=s,this.Pu=!1,Jt("INTERNAL UNHANDLED ERROR: ",function(v){let C=v.message||"";return v.stack&&(C=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),C}(s)),s}).then(s=>(this.Pu=!1,s))));return this.au=i,i}enqueueAfterDelay(t,i,s){this.du(),this.Tu.indexOf(t)>-1&&(i=0);const u=ze.createAndSchedule(this,t,i,s,f=>this.Vu(f));return this.lu.push(u),u}du(){this.hu&&Ht()}verifyOperationInProgress(){}mu(){var t=this;return(0,pe.A)(function*(){let i;do{i=t.au,yield i}while(i!==t.au)})()}fu(t){for(const i of this.lu)if(i.timerId===t)return!0;return!1}gu(t){return this.mu().then(()=>{this.lu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.lu)if(i.skipDelay(),"all"!==t&&i.timerId===t)break;return this.mu()})}pu(t){this.Tu.push(t)}Vu(t){const i=this.lu.indexOf(t);this.lu.splice(i,1)}}function Zu(l){return function(i){if("object"!=typeof i||null===i)return!1;const u=i;for(const f of["next","error","complete"])if(f in u&&"function"==typeof u[f])return!0;return!1}(l)}class af{constructor(){this._progressObserver={},this._taskCompletionResolver=new _t,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,i,s){this._progressObserver={next:t,error:i,complete:s}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,i){return this._taskCompletionResolver.promise.then(t,i)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class gi extends Vp{constructor(t,i,s,u){super(t,i,s,u),this.type="firestore",this._queue=new Uy,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jm(this),this._firestoreClient.terminate()}}function Xi(l){return l._firestoreClient||jm(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function jm(l){var t,i,s;const u=l._freezeSettings(),f=(R=(null===(t=l._app)||void 0===t?void 0:t.options.appId)||"",new ct(l._databaseId,R,l._persistenceKey,(ie=u).host,ie.ssl,ie.experimentalForceLongPolling,ie.experimentalAutoDetectLongPolling,xy(ie.experimentalLongPollingOptions),ie.useFetchStreams));var R,ie;l._firestoreClient=new XE(l._authCredentials,l._appCheckCredentials,l._queue,f),null!==(i=u.localCache)&&void 0!==i&&i._offlineComponentProvider&&null!==(s=u.localCache)&&void 0!==s&&s._onlineComponentProvider&&(l._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}function js(l,t,i){const s=new _t;return l.asyncQueue.enqueue((0,pe.A)(function*(){try{yield Mm(l,i),yield My(l,t),s.resolve()}catch(u){const f=u;if(!Pm(f))throw f;Cn("Error enabling indexeddb cache. Falling back to memory cache: "+f),s.reject(f)}})).then(()=>s.promise)}function Gm(l){if(l._initialized||l._terminated)throw new Pe(Se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new hc(z.fromBase64String(t))}catch(i){throw new Pe(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new hc(z.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class El{constructor(...t){for(let i=0;i<t.length;++i)if(0===t[i].length)throw new Pe(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lr(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Ju{constructor(t){this._methodName=t}}class cf{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new Pe(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new Pe(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Nn(this._lat,t._lat)||Nn(this._long,t._long)}}class Bp{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,u){if(s.length!==u.length)return!1;for(let f=0;f<s.length;++f)if(s[f]!==u[f])return!1;return!0}(this._values,t._values)}}const aI=/^__.*__$/;class cI{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return null!==this.fieldMask?new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Wr(t,this.data,i,this.fieldTransforms)}}class jy{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function Wm(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ht()}}class lf{constructor(t,i,s,u,f,v){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=u,void 0===f&&this.yu(),this.fieldTransforms=f||[],this.fieldMask=v||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(t){return new lf(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Su({path:s,Du:!1});return u.vu(t),u}Cu(t){var i;const s=null===(i=this.path)||void 0===i?void 0:i.child(t),u=this.Su({path:s,Du:!1});return u.yu(),u}Fu(t){return this.Su({path:void 0,Du:!0})}Mu(t){return Hp(t,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(t){return void 0!==this.fieldMask.find(i=>t.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>t.isPrefixOf(i.field))}yu(){if(this.path)for(let t=0;t<this.path.length;t++)this.vu(this.path.get(t))}vu(t){if(0===t.length)throw this.Mu("Document fields must not be empty");if(Wm(this.wu)&&aI.test(t))throw this.Mu('Document fields cannot begin and end with "__"')}}class Hy{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||fl(t)}Nu(t,i,s,u=!1){return new lf({wu:t,methodName:i,Ou:s,path:lr.emptyPath(),Du:!1,xu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $c(l){const t=l._freezeSettings(),i=fl(l._databaseId);return new Hy(l._databaseId,!!t.ignoreUndefinedProperties,i)}function uf(l,t,i,s,u,f={}){const v=l.Nu(f.merge||f.mergeFields?2:0,t,i,u);Wy("Data must be an object, but it was:",v,s);const C=zy(s,v);let R,j;if(f.merge)R=new wi(v.fieldMask),j=v.fieldTransforms;else if(f.mergeFields){const ie=[];for(const ve of f.mergeFields){const Ke=df(t,ve,i);if(!v.contains(Ke))throw new Pe(Se.INVALID_ARGUMENT,`Field '${Ke}' is specified in your field mask but missing from your input data.`);Il(ie,Ke)||ie.push(Ke)}R=new wi(ie),j=v.fieldTransforms.filter(ve=>R.covers(ve.field))}else R=null,j=v.fieldTransforms;return new cI(new $i(C),R,j)}class Kd extends Ju{_toFieldTransform(t){if(2!==t.wu)throw t.Mu(1===t.wu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Kd}}function Km(l,t,i){return new lf({wu:3,Ou:t.settings.Ou,methodName:l._methodName,Du:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class $p extends Ju{_toFieldTransform(t){return new Y(t.path,new Xs)}isEqual(t){return t instanceof $p}}class qm extends Ju{constructor(t,i){super(t),this.Lu=i}_toFieldTransform(t){const i=Km(this,t,!0),s=this.Lu.map(f=>nu(f,i)),u=new ki(s);return new Y(t.path,u)}isEqual(t){return t instanceof qm&&(0,je.bD)(this.Lu,t.Lu)}}class Xm extends Ju{constructor(t,i){super(t),this.Lu=i}_toFieldTransform(t){const i=Km(this,t,!0),s=this.Lu.map(f=>nu(f,i)),u=new Pa(s);return new Y(t.path,u)}isEqual(t){return t instanceof Xm&&(0,je.bD)(this.Lu,t.Lu)}}class Qm extends Ju{constructor(t,i){super(t),this.Bu=i}_toFieldTransform(t){const i=new gs(t.serializer,pd(t.serializer,this.Bu));return new Y(t.path,i)}isEqual(t){return t instanceof Qm&&this.Bu===t.Bu}}function Ym(l,t,i,s){const u=l.Nu(1,t,i);Wy("Data must be an object, but it was:",u,s);const f=[],v=$i.empty();Ho(s,(R,j)=>{const ie=qd(t,R,i);j=(0,je.Ku)(j);const ve=u.Cu(ie);if(j instanceof Kd)f.push(ie);else{const Ke=nu(j,ve);null!=Ke&&(f.push(ie),v.set(ie,Ke))}});const C=new wi(f);return new jy(v,C,u.fieldTransforms)}function jp(l,t,i,s,u,f){const v=l.Nu(1,t,i),C=[df(t,s,i)],R=[u];if(f.length%2!=0)throw new Pe(Se.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ke=0;Ke<f.length;Ke+=2)C.push(df(t,f[Ke])),R.push(f[Ke+1]);const j=[],ie=$i.empty();for(let Ke=C.length-1;Ke>=0;--Ke)if(!Il(j,C[Ke])){const wt=C[Ke];let Zt=R[Ke];Zt=(0,je.Ku)(Zt);const hn=v.Cu(wt);if(Zt instanceof Kd)j.push(wt);else{const ln=nu(Zt,hn);null!=ln&&(j.push(wt),ie.set(wt,ln))}}const ve=new wi(j);return new jy(ie,ve,v.fieldTransforms)}function lI(l,t,i,s=!1){return nu(i,l.Nu(s?4:3,t))}function nu(l,t){if(Gy(l=(0,je.Ku)(l)))return Wy("Unsupported field value:",t,l),zy(l,t);if(l instanceof Ju)return function(s,u){if(!Wm(u.wu))throw u.Mu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Mu(`${s._methodName}() is not currently supported inside arrays`);const f=s._toFieldTransform(u);f&&u.fieldTransforms.push(f)}(l,t),null;if(void 0===l&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),l instanceof Array){if(t.settings.Du&&4!==t.wu)throw t.Mu("Nested arrays are not supported");return function(s,u){const f=[];let v=0;for(const C of s){let R=nu(C,u.Fu(v));null==R&&(R={nullValue:"NULL_VALUE"}),f.push(R),v++}return{arrayValue:{values:f}}}(l,t)}return function(s,u){if(null===(s=(0,je.Ku)(s)))return{nullValue:"NULL_VALUE"};if("number"==typeof s)return pd(u.serializer,s);if("boolean"==typeof s)return{booleanValue:s};if("string"==typeof s)return{stringValue:s};if(s instanceof Date){const f=bn.fromDate(s);return{timestampValue:_s(u.serializer,f)}}if(s instanceof bn){const f=new bn(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_s(u.serializer,f)}}if(s instanceof cf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof hc)return{bytesValue:Pl(u.serializer,s._byteString)};if(s instanceof _i){const f=u.databaseId,v=s.firestore._databaseId;if(!v.isEqual(f))throw u.Mu(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${f.projectId}/${f.database}`);return{referenceValue:Nl(s.firestore._databaseId||u.databaseId,s._key.path)}}if(s instanceof Bp)return C=u,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(R=>{if("number"!=typeof R)throw C.Mu("VectorValues must only contain numeric values.");return Ic(C.serializer,R)})}}}}};var C;throw u.Mu(`Unsupported field value: ${Bm(s)}`)}(l,t)}function zy(l,t){const i={};return Aa(l)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ho(l,(s,u)=>{const f=nu(u,t.bu(s));null!=f&&(i[s]=f)}),{mapValue:{fields:i}}}function Gy(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof bn||l instanceof cf||l instanceof hc||l instanceof _i||l instanceof Ju||l instanceof Bp)}function Wy(l,t,i){if(!Gy(i)||"object"!=typeof(u=i)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const s=Bm(i);throw t.Mu("an object"===s?l+" a custom object":l+" "+s)}var u}function df(l,t,i){if((t=(0,je.Ku)(t))instanceof El)return t._internalPath;if("string"==typeof t)return qd(l,t);throw Hp("Field path arguments must be of type string or ",l,!1,void 0,i)}const Ky=new RegExp("[~\\*/\\[\\]]");function qd(l,t,i){if(t.search(Ky)>=0)throw Hp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,i);try{return new El(...t.split("."))._internalPath}catch{throw Hp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,i)}}function Hp(l,t,i,s,u){const f=s&&!s.isEmpty(),v=void 0!==u;let C=`Function ${t}() called with invalid data`;i&&(C+=" (via `toFirestore()`)"),C+=". ";let R="";return(f||v)&&(R+=" (found",f&&(R+=` in field ${s}`),v&&(R+=` in document ${u}`),R+=")"),new Pe(Se.INVALID_ARGUMENT,C+l+R)}function Il(l,t){return l.some(i=>i.isEqual(t))}class ru{constructor(t,i,s,u,f){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new _i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new uI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(hf("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i)}}}class uI extends ru{data(){return super.data()}}function hf(l,t){return"string"==typeof t?qd(l,t):t instanceof El?t._internalPath:t._delegate._internalPath}function ff(l){if("L"===l.limitType&&0===l.explicitOrderBy.length)throw new Pe(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qy{}class zp extends qy{}function iu(l,t,...i){let s=[];t instanceof qy&&s.push(t),s=s.concat(i),function(f){const v=f.filter(R=>R instanceof gf).length,C=f.filter(R=>R instanceof pf).length;if(v>1||v>0&&C>0)throw new Pe(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)l=u._apply(l);return l}class pf extends zp{constructor(t,i,s){super(),this._field=t,this._op=i,this._value=s,this.type="where"}static _create(t,i,s){return new pf(t,i,s)}_apply(t){const i=this._parse(t);return Xp(t._query,i),new co(t.firestore,t.converter,aa(t._query,i))}_parse(t){const i=$c(t.firestore);return function(f,v,C,R,j,ie,ve){let Ke;if(j.isKeyField()){if("array-contains"===ie||"array-contains-any"===ie)throw new Pe(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${ie}' queries on documentId().`);if("in"===ie||"not-in"===ie){hI(ve,ie);const wt=[];for(const Zt of ve)wt.push(qp(R,f,Zt));Ke={arrayValue:{values:wt}}}else Ke=qp(R,f,ve)}else"in"!==ie&&"not-in"!==ie&&"array-contains-any"!==ie||hI(ve,ie),Ke=lI(C,"where",ve,"in"===ie||"not-in"===ie);return Er.create(j,ie,Ke)}(t._query,0,i,t.firestore._databaseId,this._field,this._op,this._value)}}class gf extends qy{constructor(t,i){super(),this.type=t,this._queryConstraints=i}static _create(t,i){return new gf(t,i)}_parse(t){const i=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return 1===i.length?i[0]:nr.create(i,this._getOperator())}_apply(t){const i=this._parse(t);return 0===i.getFilters().length?t:(function(u,f){let v=u;const C=f.getFlattenedFilters();for(const R of C)Xp(v,R),v=aa(v,R)}(t._query,i),new co(t.firestore,t.converter,aa(t._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Jm extends zp{constructor(t,i){super(),this._field=t,this._direction=i,this.type="orderBy"}static _create(t,i){return new Jm(t,i)}_apply(t){const i=function(u,f,v){if(null!==u.startAt)throw new Pe(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new Pe(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ur(f,v)}(t._query,this._field,this._direction);return new co(t.firestore,t.converter,function(u,f){const v=u.explicitOrderBy.concat([f]);return new Qr(u.path,u.collectionGroup,v,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t._query,i))}}class Xd extends zp{constructor(t,i,s){super(),this.type=t,this._limit=i,this._limitType=s}static _create(t,i,s){return new Xd(t,i,s)}_apply(t){return new co(t.firestore,t.converter,rr(t._query,this._limit,this._limitType))}}class Yd extends zp{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new Yd(t,i,s)}_apply(t){const i=Zd(t,this.type,this._docOrFields,this._inclusive);return new co(t.firestore,t.converter,(f=i,new Qr((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)));var u,f}}class Tl extends zp{constructor(t,i,s){super(),this.type=t,this._docOrFields=i,this._inclusive=s}static _create(t,i,s){return new Tl(t,i,s)}_apply(t){const i=Zd(t,this.type,this._docOrFields,this._inclusive);return new co(t.firestore,t.converter,(f=i,new Qr((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)));var u,f}}function Zd(l,t,i,s){if(i[0]=(0,je.Ku)(i[0]),i[0]instanceof ru)return function(f,v,C,R,j){if(!R)throw new Pe(Se.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${C}().`);const ie=[];for(const ve of bo(f))if(ve.field.isKeyField())ie.push(rn(v,R.key));else{const Ke=R.data.field(ve.field);if(Ce(Ke))throw new Pe(Se.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+ve.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ke){const wt=ve.field.canonicalString();throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${wt}' (used as the orderBy) does not exist.`)}ie.push(Ke)}return new wo(ie,j)}(l._query,l.firestore._databaseId,t,i[0]._document,s);{const u=$c(l.firestore);return function(v,C,R,j,ie,ve){const Ke=v.explicitOrderBy;if(ie.length>Ke.length)throw new Pe(Se.INVALID_ARGUMENT,`Too many arguments provided to ${j}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const wt=[];for(let Zt=0;Zt<ie.length;Zt++){const hn=ie[Zt];if(Ke[Zt].field.isKeyField()){if("string"!=typeof hn)throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${j}(), but got a ${typeof hn}`);if(!Sa(v)&&-1!==hn.indexOf("/"))throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${j}() must be a plain document ID, but '${hn}' contains a slash.`);const ln=v.path.child(xn.fromString(hn));if(!on.isDocumentKey(ln))throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${j}() must result in a valid document path, but '${ln}' is not because it contains an odd number of segments.`);const Gn=new on(ln);wt.push(rn(C,Gn))}else{const ln=lI(R,j,hn);wt.push(ln)}}return new wo(wt,ve)}(l._query,l.firestore._databaseId,u,t,i,s)}}function qp(l,t,i){if("string"==typeof(i=(0,je.Ku)(i))){if(""===i)throw new Pe(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Sa(t)&&-1!==i.indexOf("/"))throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=t.path.child(xn.fromString(i));if(!on.isDocumentKey(s))throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return rn(l,new on(s))}if(i instanceof _i)return rn(l,i._key);throw new Pe(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bm(i)}.`)}function hI(l,t){if(!Array.isArray(l)||0===l.length)throw new Pe(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Xp(l,t){const i=function(u,f){for(const v of u)for(const C of v.getFlattenedFilters())if(f.indexOf(C.op)>=0)return C.op;return null}(l.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw new Pe(Se.INVALID_ARGUMENT,i===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${i.toString()}' filters.`)}class nv{convertValue(t,i="none"){switch(Wt(t)){case 0:return null;case 1:return t.booleanValue;case 2:return k(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(J(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Ht()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return Ho(t,(u,f)=>{s[u]=this.convertValue(f,i)}),s}convertVectorValue(t){var i,s,u;const f=null===(u=null===(s=null===(i=t.fields)||void 0===i?void 0:i.value.arrayValue)||void 0===s?void 0:s.values)||void 0===u?void 0:u.map(v=>k(v.doubleValue));return new Bp(f)}convertGeoPoint(t){return new cf(k(t.latitude),k(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=xe(t);return null==s?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(nt(t));default:return null}}convertTimestamp(t){const i=ue(t);return new bn(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=xn.fromString(t);$t(fa(s));const u=new Lt(s.get(1),s.get(3)),f=new on(s.popFirst(5));return u.isEqual(i)||Jt(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),f}}function vf(l,t,i){let s;return s=l?i&&(i.merge||i.mergeFields)?l.toFirestore(t,i):l.toFirestore(t):t,s}class fI extends nv{constructor(t){super(),this.firestore=t}convertBytes(t){return new hc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new _i(this.firestore,null,i)}}class fc{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jc extends ru{constructor(t,i,s,u,f,v){super(t,i,s,u,v),this._firestore=t,this._firestoreImpl=t,this.metadata=f}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new ed(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(hf("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ed extends jc{data(t={}){return super.data(t)}}class ou{constructor(t,i,s,u){this._firestore=t,this._userDataWriter=i,this._snapshot=u,this.metadata=new fc(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new ed(this._firestore,this._userDataWriter,s.key,s,new fc(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Pe(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,f){if(u._snapshot.oldDocs.isEmpty()){let v=0;return u._snapshot.docChanges.map(C=>({type:"added",doc:new ed(u._firestore,u._userDataWriter,C.doc.key,C.doc,new fc(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:v++}))}{let v=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(C=>f||3!==C.type).map(C=>{const R=new ed(u._firestore,u._userDataWriter,C.doc.key,C.doc,new fc(u._snapshot.mutatedKeys.has(C.doc.key),u._snapshot.fromCache),u.query.converter);let j=-1,ie=-1;return 0!==C.type&&(j=v.indexOf(C.doc.key),v=v.delete(C.doc.key)),1!==C.type&&(v=v.add(C.doc),ie=v.indexOf(C.doc.key)),{type:hD(C.type),doc:R,oldIndex:j,newIndex:ie}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function hD(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ht()}}function pI(l,t){return l instanceof jc&&t instanceof jc?l._firestore===t._firestore&&l._key.isEqual(t._key)&&(null===l._document?null===t._document:l._document.isEqual(t._document))&&l._converter===t._converter:l instanceof ou&&t instanceof ou&&l._firestore===t._firestore&&sf(l.query,t.query)&&l.metadata.isEqual(t.metadata)&&l._snapshot.isEqual(t._snapshot)}class su extends nv{constructor(t){super(),this.firestore=t}convertBytes(t){return new hc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new _i(this.firestore,null,i)}}function Yp(l,t,i){l=$r(l,_i);const s=$r(l.firestore,gi),u=vf(l.converter,t,i);return nd(s,[uf($c(s),"setDoc",l._key,u,null!==l.converter,i).toMutation(l._key,De.none())])}function iv(l,t,i,...s){l=$r(l,_i);const u=$r(l.firestore,gi),f=$c(u);let v;return v="string"==typeof(t=(0,je.Ku)(t))||t instanceof El?jp(f,"updateDoc",l._key,t,i,s):Ym(f,"updateDoc",l._key,t),nd(u,[v.toMutation(l._key,De.exists(!0))])}function _f(l,...t){var i,s,u;l=(0,je.Ku)(l);let f={includeMetadataChanges:!1,source:"default"},v=0;"object"!=typeof t[v]||Zu(t[v])||(f=t[v],v++);const C={includeMetadataChanges:f.includeMetadataChanges,source:f.source};if(Zu(t[v])){const ve=t[v];t[v]=null===(i=ve.next)||void 0===i?void 0:i.bind(ve),t[v+1]=null===(s=ve.error)||void 0===s?void 0:s.bind(ve),t[v+2]=null===(u=ve.complete)||void 0===u?void 0:u.bind(ve)}let R,j,ie;if(l instanceof _i)j=$r(l.firestore,gi),ie=Ao(l._key.path),R={next:ve=>{t[v]&&t[v](Zp(j,l,ve))},error:t[v+1],complete:t[v+2]};else{const ve=$r(l,co);j=$r(ve.firestore,gi),ie=ve._query;const Ke=new su(j);R={next:wt=>{t[v]&&t[v](new ou(j,Ke,ve,wt))},error:t[v+1],complete:t[v+2]},ff(l._query)}return function(Ke,wt,Zt,hn){const ln=new nf(hn),Gn=new $s(wt,ln,Zt);return Ke.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return ra(yield Yu(Ke),Gn)})),()=>{ln.za(),Ke.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return zu(yield Yu(Ke),Gn)}))}}(Xi(j),ie,C,R)}function nd(l,t){return function(s,u){const f=new _t;return s.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function HE(l,t,i){return qu.apply(this,arguments)}(yield zd(s),u,f)})),f.promise}(Xi(l),t)}function Zp(l,t,i){const s=i.docs.get(t._key),u=new su(l);return new jc(l,u,t._key,s,new fc(i.hasPendingWrites,i.fromCache),t.converter)}const i_={maxAttempts:5};class o_{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=$c(t)}set(t,i,s){this._verifyNotCommitted();const u=au(t,this._firestore),f=vf(u.converter,i,s),v=uf(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,s);return this._mutations.push(v.toMutation(u._key,De.none())),this}update(t,i,s,...u){this._verifyNotCommitted();const f=au(t,this._firestore);let v;return v="string"==typeof(i=(0,je.Ku)(i))||i instanceof El?jp(this._dataReader,"WriteBatch.update",f._key,i,s,u):Ym(this._dataReader,"WriteBatch.update",f._key,i),this._mutations.push(v.toMutation(f._key,De.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=au(t,this._firestore);return this._mutations=this._mutations.concat(new eo(i._key,De.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Pe(Se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function au(l,t){if((l=(0,je.Ku)(l)).firestore!==t)throw new Pe(Se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class vI extends class{constructor(i,s){this._firestore=i,this._transaction=s,this._dataReader=$c(i)}get(i){const s=au(i,this._firestore),u=new fI(this._firestore);return this._transaction.lookup([s._key]).then(f=>{if(!f||1!==f.length)return Ht();const v=f[0];if(v.isFoundDocument())return new ru(this._firestore,u,v.key,v,s.converter);if(v.isNoDocument())return new ru(this._firestore,u,s._key,null,s.converter);throw Ht()})}set(i,s,u){const f=au(i,this._firestore),v=vf(f.converter,s,u),C=uf(this._dataReader,"Transaction.set",f._key,v,null!==f.converter,u);return this._transaction.set(f._key,C),this}update(i,s,u,...f){const v=au(i,this._firestore);let C;return C="string"==typeof(s=(0,je.Ku)(s))||s instanceof El?jp(this._dataReader,"Transaction.update",v._key,s,u,f):Ym(this._dataReader,"Transaction.update",v._key,s),this._transaction.update(v._key,C),this}delete(i){const s=au(i,this._firestore);return this._transaction.delete(s._key),this}}{constructor(t,i){super(t,i),this._firestore=t}get(t){const i=au(t,this._firestore),s=new su(this._firestore);return super.get(t).then(u=>new jc(this._firestore,s,i._key,u._document,new fc(!1,!1),i.converter))}}function If(l,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Pe("invalid-argument",`Invalid options passed to function ${l}(): You cannot specify both "merge" and "mergeFields".`);return t}function rg(){if(typeof Uint8Array>"u")throw new Pe("unimplemented","Uint8Arrays are not available in this environment.")}function DI(){if(!function tr(){return typeof atob<"u"}())throw new Pe("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(t,i=!0){ht=Je.SDK_VERSION,(0,Je._registerComponent)(new ge.uA("firestore",(s,{instanceIdentifier:u,options:f})=>{const v=s.getProvider("app").getImmediate(),C=new gi(new Mn(s.getProvider("auth-internal")),new pr(s.getProvider("app-check-internal")),function(j,ie){if(!Object.prototype.hasOwnProperty.apply(j.options,["projectId"]))throw new Pe(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lt(j.options.projectId,ie)}(v,u),v);return f=Object.assign({useFetchStreams:i},f),C._setSettings(f),C},"PUBLIC").setMultipleInstances(!0)),(0,Je.registerVersion)(gt,"4.7.2",t),(0,Je.registerVersion)(gt,"4.7.2","esm2017")}();class ig{constructor(t){this._delegate=t}static fromBase64String(t){return DI(),new ig(hc.fromBase64String(t))}static fromUint8Array(t){return rg(),new ig(hc.fromUint8Array(t))}toBase64(){return DI(),this._delegate.toBase64()}toUint8Array(){return rg(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function og(l){return function wI(l,t){if("object"!=typeof l||null===l)return!1;const i=l;for(const s of t)if(s in i&&"function"==typeof i[s])return!0;return!1}(l,["next","error","complete"])}class AI{enableIndexedDbPersistence(t,i){return function Hm(l,t){Gm(l=$r(l,gi));const i=Xi(l);if(i._uninitializedComponentsProvider)throw new Pe(Se.FAILED_PRECONDITION,"SDK cache is already specified.");Cn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=l._freezeSettings(),u=new jd;return js(i,u,new Op(u,s.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(t){return function iI(l){Gm(l=$r(l,gi));const t=Xi(l);if(t._uninitializedComponentsProvider)throw new Pe(Se.FAILED_PRECONDITION,"SDK cache is already specified.");Cn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=l._freezeSettings(),s=new jd;return js(t,s,new Sy(s,i.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function zm(l){if(l._initialized&&!l._terminated)throw new Pe(Se.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new _t;return l._queue.enqueueAndForgetEvenWhileRestricted((0,pe.A)(function*(){try{yield(i=(0,pe.A)(function*(u){if(!qn.D())return Promise.resolve();const f=u+"main";yield qn.delete(f)}),function s(u){return i.apply(this,arguments)})(ku(l._databaseId,l._persistenceKey)),t.resolve()}catch(i){t.reject(i)}var i})),t.promise}(t._delegate)}}class a_{constructor(t,i,s){this._delegate=i,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},t instanceof Lt||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const i=this._delegate._getSettings();!t.merge&&i.host!==t.host&&Cn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},i),t)).merge,this._delegate._setSettings(t)}useEmulator(t,i,s={}){!function Fy(l,t,i,s={}){var u;const f=(l=$r(l,Vp))._getSettings(),v=`${t}:${i}`;if("firestore.googleapis.com"!==f.host&&f.host!==v&&Cn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),l._setSettings(Object.assign(Object.assign({},f),{host:v,ssl:!1})),s.mockUserToken){let C,R;if("string"==typeof s.mockUserToken)C=s.mockUserToken,R=Ie.MOCK_USER;else{C=(0,je.Fy)(s.mockUserToken,null===(u=l._app)||void 0===u?void 0:u.options.projectId);const j=s.mockUserToken.sub||s.mockUserToken.user_id;if(!j)throw new Pe(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new Ie(j)}l._authCredentials=new hr(new nn(C,R))}}(this._delegate,t,i,s)}enableNetwork(){return function Up(l){return function xm(l){return l.asyncQueue.enqueue((0,pe.A)(function*(){const t=yield QE(l),i=yield uc(l);return t.setNetworkEnabled(!0),function(u){const f=xt(u);return f.L_.delete(0),Ql(f)}(i)}))}(Xi(l=$r(l,gi)))}(this._delegate)}disableNetwork(){return function cD(l){return function Fp(l){return l.asyncQueue.enqueue((0,pe.A)(function*(){const t=yield QE(l),i=yield uc(l);return t.setNetworkEnabled(!1),(s=(0,pe.A)(function*(f){const v=xt(f);v.L_.add(0),yield Fc(v),v.q_.set("Offline")}),function u(f){return s.apply(this,arguments)})(i);var s}))}(Xi(l=$r(l,gi)))}(this._delegate)}enablePersistence(t){let i=!1,s=!1;return t&&(i=!!t.synchronizeTabs,s=!!t.experimentalForceOwningTab,Bc("synchronizeTabs",i,"experimentalForceOwningTab",s)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function $y(l){return function(i){const s=new _t;return i.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return function Cp(l,t){return Zh.apply(this,arguments)}(yield zd(i),s)})),s.promise}(Xi(l=$r(l,gi)))}(this._delegate)}onSnapshotsInSync(t){return function e_(l,t){return function eI(l,t){const i=new nf(t);return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return u=yield Yu(l),f=i,xt(u).Y_.add(f),void f.next();var u,f})),()=>{i.za(),l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return u=yield Yu(l),f=i,void xt(u).Y_.delete(f);var u,f}))}}(Xi(l=$r(l,gi)),Zu(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Pe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new od(this,Ly(this._delegate,t))}catch(i){throw Ds(i,"collection()","Firestore.collection()")}}doc(t){try{return new La(this,tu(this._delegate,t))}catch(i){throw Ds(i,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new _o(this,function $m(l,t){if(l=$r(l,Vp),Vm("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Pe(Se.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new co(l,null,(s=t,new Qr(xn.emptyPath(),s)));var s}(this._delegate,t))}catch(i){throw Ds(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function yI(l,t,i){l=$r(l,gi);const s=Object.assign(Object.assign({},i_),i);return function(f){if(f.maxAttempts<1)throw new Pe(Se.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(f,v,C){const R=new _t;return f.asyncQueue.enqueueAndForget((0,pe.A)(function*(){const j=yield function Om(l){return kp(l).then(t=>t.datastore)}(f);new oD(f.asyncQueue,j,C,v,R).ru()})),R.promise}(Xi(l),u=>t(new vI(l,u)),s)}(this._delegate,i=>t(new dv(this,i)))}batch(){return Xi(this._delegate),new hv(new o_(this._delegate,t=>nd(this._delegate,t)))}loadBundle(t){return function Cs(l,t){const i=Xi(l=$r(l,gi)),s=new af;return function km(l,t,i,s){const u=function(v,C){let R;return R="string"==typeof v?Za().encode(v):v,ie=function(ie){if(ie instanceof Uint8Array)return qE(ie,void 0);if(ie instanceof ArrayBuffer)return qE(new Uint8Array(ie),void 0);if(ie instanceof ReadableStream)return ie.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(R),new Ry(ie,C);var ie}(i,fl(t));l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){!function WE(l,t,i){const s=xt(l);var u;(u=(0,pe.A)(function*(v,C,R){try{const j=yield C.getMetadata();if(yield function(Zt,hn){const ln=xt(Zt),Gn=oi(hn.createTime);return ln.persistence.runTransaction("hasNewerBundle","readonly",Qn=>ln.Gr.getBundleMetadata(Qn,hn.id)).then(Qn=>!!Qn&&Qn.createTime.compareTo(Gn)>=0)}(v.localStore,j))return yield C.close(),R._completeWith({taskState:"Success",documentsLoaded:(Zt=j).totalDocuments,bytesLoaded:Zt.totalBytes,totalDocuments:Zt.totalDocuments,totalBytes:Zt.totalBytes}),Promise.resolve(new Set);R._updateProgress(Kh(j));const ie=new Vd(j,v.localStore,C.serializer);let ve=yield C.Ua();for(;ve;){const wt=yield ie.la(ve);wt&&R._updateProgress(wt),ve=yield C.Ua()}const Ke=yield ie.complete();return yield Uc(v,Ke.Ia,void 0),yield function(Zt,hn){const ln=xt(Zt);return ln.persistence.runTransaction("Save bundle","readwrite",Gn=>ln.Gr.saveBundleMetadata(Gn,hn))}(v.localStore,j),R._completeWith(Ke.progress),Promise.resolve(Ke.Pa)}catch(j){return Cn("SyncEngine",`Loading bundle failed with ${j}`),R._failWith(j),Promise.resolve(new Set)}var Zt}),function f(v,C,R){return u.apply(this,arguments)})(s,t,i).then(u=>{s.sharedClientState.notifyBundleLoaded(u)})}(yield zd(l),u,s)}))}(i,l._databaseId,t,s),s}(this._delegate,t)}namedQuery(t){return function Gd(l,t){return function Ny(l,t){return l.asyncQueue.enqueue((0,pe.A)(function*(){return function(s,u){const f=xt(s);return f.persistence.runTransaction("Get named query","readonly",v=>f.Gr.getNamedQuery(v,u))}(yield Hd(l),t)}))}(Xi(l=$r(l,gi)),t).then(i=>i?new co(l,null,i.query):null)}(this._delegate,t).then(i=>i?new _o(this,i):null)}}class sg extends nv{constructor(t){super(),this.firestore=t}convertBytes(t){return new ig(new hc(t))}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return La.forKey(i,this.firestore,null)}}class dv{constructor(t,i){this._firestore=t,this._delegate=i,this._userDataWriter=new sg(t)}get(t){const i=lu(t);return this._delegate.get(i).then(s=>new id(this._firestore,new jc(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,i.converter)))}set(t,i,s){const u=lu(t);return s?(If("Transaction.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const f=lu(t);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,s,...u),this}delete(t){const i=lu(t);return this._delegate.delete(i),this}}class hv{constructor(t){this._delegate=t}set(t,i,s){const u=lu(t);return s?(If("WriteBatch.set",s),this._delegate.set(u,i,s)):this._delegate.set(u,i),this}update(t,i,s,...u){const f=lu(t);return 2===arguments.length?this._delegate.update(f,i):this._delegate.update(f,i,s,...u),this}delete(t){const i=lu(t);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class rd{constructor(t,i,s){this._firestore=t,this._userDataWriter=i,this._delegate=s}fromFirestore(t,i){const s=new ed(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Cf(this._firestore,s),i??{})}toFirestore(t,i){return i?this._delegate.toFirestore(t,i):this._delegate.toFirestore(t)}static getInstance(t,i){const s=rd.INSTANCES;let u=s.get(t);u||(u=new WeakMap,s.set(t,u));let f=u.get(i);return f||(f=new rd(t,new sg(t),i),u.set(i,f)),f}}rd.INSTANCES=new WeakMap;class La{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new sg(t)}static forPath(t,i,s){if(t.length%2!=0)throw new Pe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new La(i,new _i(i._delegate,s,new on(t)))}static forKey(t,i,s){return new La(i,new _i(i._delegate,s,t))}get id(){return this._delegate.id}get parent(){return new od(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new od(this.firestore,Ly(this._delegate,t))}catch(i){throw Ds(i,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,je.Ku)(t))instanceof _i&&Vy(this._delegate,t)}set(t,i){i=If("DocumentReference.set",i);try{return i?Yp(this._delegate,t,i):Yp(this._delegate,t)}catch(s){throw Ds(s,"setDoc()","DocumentReference.set()")}}update(t,i,...s){try{return 1===arguments.length?iv(this._delegate,t):iv(this._delegate,t,i,...s)}catch(u){throw Ds(u,"updateDoc()","DocumentReference.update()")}}delete(){return function td(l){return nd($r(l.firestore,gi),[new eo(l._key,De.none())])}(this._delegate)}onSnapshot(...t){const i=Tf(t),s=c_(t,u=>new id(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return _f(this._delegate,i,s)}get(t){let i;return i="cache"===t?.source?function Qp(l){l=$r(l,_i);const t=$r(l.firestore,gi),i=Xi(t),s=new su(t);return function YE(l,t){const i=new _t;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return(s=(0,pe.A)(function*(f,v,C){try{const R=yield function(ie,ve){const Ke=xt(ie);return Ke.persistence.runTransaction("read document","readonly",wt=>Ke.localDocuments.getDocument(wt,ve))}(f,v);R.isFoundDocument()?C.resolve(R):R.isNoDocument()?C.resolve(null):C.reject(new Pe(Se.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(R){const j=vt(R,`Failed to get document '${v} from cache`);C.reject(j)}}),function u(f,v,C){return s.apply(this,arguments)})(yield Hd(l),t,i);var s})),i.promise}(i,l._key).then(u=>new jc(t,s,l._key,u,new fc(null!==u&&u.hasLocalMutations,!0),l.converter))}(this._delegate):"server"===t?.source?function rv(l){l=$r(l,_i);const t=$r(l.firestore,gi);return Hi(Xi(t),l._key,{source:"server"}).then(i=>Zp(t,l,i))}(this._delegate):function yf(l){l=$r(l,_i);const t=$r(l.firestore,gi);return Hi(Xi(t),l._key).then(i=>Zp(t,l,i))}(this._delegate),i.then(s=>new id(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(t){return new La(this.firestore,this._delegate.withConverter(t?rd.getInstance(this.firestore,t):null))}}function Ds(l,t,i){return l.message=l.message.replace(t,i),l}function Tf(l){for(const t of l)if("object"==typeof t&&!og(t))return t;return{}}function c_(l,t){var i,s;let u;return u=og(l[0])?l[0]:og(l[1])?l[1]:"function"==typeof l[0]?{next:l[0],error:l[1],complete:l[2]}:{next:l[1],error:l[2],complete:l[3]},{next:f=>{u.next&&u.next(t(f))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(s=u.complete)||void 0===s?void 0:s.bind(u)}}class id{constructor(t,i){this._firestore=t,this._delegate=i}get ref(){return new La(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,i){return this._delegate.get(t,i)}isEqual(t){return pI(this._delegate,t._delegate)}}class Cf extends id{data(t){const i=this._delegate.data(t);return this._delegate._converter||function Bn(l){l||Ht()}(void 0!==i),i}}class _o{constructor(t,i){this.firestore=t,this._delegate=i,this._userDataWriter=new sg(t)}where(t,i,s){try{return new _o(this.firestore,iu(this._delegate,function dI(l,t,i){const s=t,u=hf("where",l);return pf._create(u,s,i)}(t,i,s)))}catch(u){throw Ds(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,i){try{return new _o(this.firestore,iu(this._delegate,function ev(l,t="asc"){const i=t,s=hf("orderBy",l);return Jm._create(s,i)}(t,i)))}catch(s){throw Ds(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new _o(this.firestore,iu(this._delegate,function Qd(l){return nI("limit",l),Xd._create("limit",l,"F")}(t)))}catch(i){throw Ds(i,"limit()","Query.limit()")}}limitToLast(t){try{return new _o(this.firestore,iu(this._delegate,function Gp(l){return nI("limitToLast",l),Xd._create("limitToLast",l,"L")}(t)))}catch(i){throw Ds(i,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new _o(this.firestore,iu(this._delegate,function mf(...l){return Yd._create("startAt",l,!0)}(...t)))}catch(i){throw Ds(i,"startAt()","Query.startAt()")}}startAfter(...t){try{return new _o(this.firestore,iu(this._delegate,function Wp(...l){return Yd._create("startAfter",l,!1)}(...t)))}catch(i){throw Ds(i,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new _o(this.firestore,iu(this._delegate,function tv(...l){return Tl._create("endBefore",l,!1)}(...t)))}catch(i){throw Ds(i,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new _o(this.firestore,iu(this._delegate,function Kp(...l){return Tl._create("endAt",l,!0)}(...t)))}catch(i){throw Ds(i,"endAt()","Query.endAt()")}}isEqual(t){return sf(this._delegate,t._delegate)}get(t){let i;return i="cache"===t?.source?function gI(l){l=$r(l,co);const t=$r(l.firestore,gi),i=Xi(t),s=new su(t);return function ZE(l,t){const i=new _t;return l.asyncQueue.enqueueAndForget((0,pe.A)(function*(){return(s=(0,pe.A)(function*(f,v,C){try{const R=yield ql(f,v,!0),j=new Em(v,R.Ts),ie=j.ma(R.documents),ve=j.applyChanges(ie,!1);C.resolve(ve.snapshot)}catch(R){const j=vt(R,`Failed to execute query '${v} against cache`);C.reject(j)}}),function u(f,v,C){return s.apply(this,arguments)})(yield Hd(l),t,i);var s})),i.promise}(i,l._query).then(u=>new ou(t,s,l,u))}(this._delegate):"server"===t?.source?function Zy(l){l=$r(l,co);const t=$r(l.firestore,gi),i=Xi(t),s=new su(t);return Lp(i,l._query,{source:"server"}).then(u=>new ou(t,s,l,u))}(this._delegate):function Yy(l){l=$r(l,co);const t=$r(l.firestore,gi),i=Xi(t),s=new su(t);return ff(l._query),Lp(i,l._query).then(u=>new ou(t,s,l,u))}(this._delegate),i.then(s=>new fv(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...t){const i=Tf(t),s=c_(t,u=>new fv(this.firestore,new ou(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return _f(this._delegate,i,s)}withConverter(t){return new _o(this.firestore,this._delegate.withConverter(t?rd.getInstance(this.firestore,t):null))}}class SI{constructor(t,i){this._firestore=t,this._delegate=i}get type(){return this._delegate.type}get doc(){return new Cf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class fv{constructor(t,i){this._firestore=t,this._delegate=i}get query(){return new _o(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Cf(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(i=>new SI(this._firestore,i))}forEach(t,i){this._delegate.forEach(s=>{t.call(i,new Cf(this._firestore,s))})}isEqual(t){return pI(this._delegate,t._delegate)}}class od extends _o{constructor(t,i){super(t,i),this.firestore=t,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new La(this.firestore,t):null}doc(t){try{return new La(this.firestore,void 0===t?tu(this._delegate):tu(this._delegate,t))}catch(i){throw Ds(i,"doc()","CollectionReference.doc()")}}add(t){return function Jy(l,t){const i=$r(l.firestore,gi),s=tu(l),u=vf(l.converter,t);return nd(i,[uf($c(l.firestore),"addDoc",s._key,u,null!==l.converter,{}).toMutation(s._key,De.exists(!1))]).then(()=>s)}(this._delegate,t).then(i=>new La(this.firestore,i))}isEqual(t){return Vy(this._delegate,t._delegate)}withConverter(t){return new od(this.firestore,this._delegate.withConverter(t?rd.getInstance(this.firestore,t):null))}}function lu(l){return $r(l,_i)}class pv{constructor(...t){this._delegate=new El(...t)}static documentId(){return new pv(lr.keyField().canonicalString())}isEqual(t){return(t=(0,je.Ku)(t))instanceof El&&this._delegate._internalPath.isEqual(t._internalPath)}}class sd{constructor(t){this._delegate=t}static serverTimestamp(){const t=function cu(){return new $p("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new sd(t)}static delete(){const t=function _I(){return new Kd("deleteField")}();return t._methodName="FieldValue.delete",new sd(t)}static arrayUnion(...t){const i=function Ef(...l){return new qm("arrayUnion",l)}(...t);return i._methodName="FieldValue.arrayUnion",new sd(i)}static arrayRemove(...t){const i=function EI(...l){return new Xm("arrayRemove",l)}(...t);return i._methodName="FieldValue.arrayRemove",new sd(i)}static increment(t){const i=function gD(l){return new Qm("increment",l)}(t);return i._methodName="FieldValue.increment",new sd(i)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const RI={Firestore:a_,GeoPoint:cf,Timestamp:bn,Blob:ig,Transaction:dv,WriteBatch:hv,DocumentReference:La,DocumentSnapshot:id,Query:_o,QueryDocumentSnapshot:Cf,QuerySnapshot:fv,CollectionReference:od,FieldPath:pv,FieldValue:sd,setLogLevel:function bI(l){!function Mt(l){qe.setLogLevel(l)}(l)},CACHE_SIZE_UNLIMITED:-1};!function l_(l){(function MI(l,t){l.INTERNAL.registerComponent(new ge.uA("firestore-compat",i=>{const s=i.getProvider("app-compat").getImmediate(),u=i.getProvider("firestore").getImmediate();return t(s,u)},"PUBLIC").setServiceProps(Object.assign({},RI)))})(l,(t,i)=>new a_(t,i,new AI)),l.registerVersion("@firebase/firestore-compat","0.3.37")}(st.A);var TD=O(7935);function th(l,t){return function CD(l,t=ae.E){return new Ae.c(i=>{let s;return null!=t?t.schedule(()=>{s=l.onSnapshot({includeMetadataChanges:!0},i)}):s=l.onSnapshot({includeMetadataChanges:!0},i),()=>{s?.()}})}(l,t)}function gv(l,t){return th(l,t).pipe((0,ke.T)(i=>({payload:i,type:"query"})))}class u_{ref;afs;constructor(t,i){this.ref=t,this.afs=i}set(t,i){return this.ref.set(t,i)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,i){const s=this.ref.collection(t),{ref:u,query:f}=FI(s,i);return new f_(u,f,this.afs)}snapshotChanges(){return function PI(l,t){return th(l,t).pipe((0,ye.Z)(void 0),Ve(),(0,ke.T)(i=>{const[s,u]=i;return u.exists?s?.exists?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(t={}){return this.snapshotChanges().pipe((0,ke.T)(({payload:i})=>t.idField?{...i.data(),[t.idField]:i.id}:i.data()))}get(t){return(0,Fe.H)(this.ref.get(t)).pipe(ce.U0)}}function Df(l,t){return gv(l,t).pipe((0,ye.Z)(void 0),Ve(),(0,ke.T)(i=>{const[s,u]=i,f=u.payload.docChanges(),v=f.map(C=>({type:C.type,payload:C}));return s&&JSON.stringify(s.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((C,R)=>{const j=f.find(ve=>ve.doc.ref.isEqual(C.ref)),ie=s?.payload.docs.find(ve=>ve.ref.isEqual(C.ref));j&&JSON.stringify(j.doc.metadata)===JSON.stringify(C.metadata)||!j&&ie&&JSON.stringify(ie.metadata)===JSON.stringify(C.metadata)||v.push({type:"modified",payload:{oldIndex:R,newIndex:R,type:"modified",doc:C}})}),v}))}function d_(l,t,i){return Df(l,i).pipe((0,Qe.S)((s,u)=>function NI(l,t,i){return t.forEach(s=>{i.indexOf(s.type)>-1&&(l=function OI(l,t){switch(t.type){case"added":if(!l[t.newIndex]||!l[t.newIndex].doc.ref.isEqual(t.doc.ref))return mv(l,t.newIndex,0,t);break;case"modified":if(null==l[t.oldIndex]||l[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const i=l.slice();return i.splice(t.oldIndex,1),i.splice(t.newIndex,0,t),i}return mv(l,t.newIndex,1,t)}break;case"removed":if(l[t.oldIndex]&&l[t.oldIndex].doc.ref.isEqual(t.doc.ref))return mv(l,t.oldIndex,1)}return l}(l,s))}),l}(s,u.map(f=>f.payload),t),[]),(0,rt.F)(),(0,ke.T)(s=>s.map(u=>({type:u.type,payload:u}))))}function mv(l,t,i,...s){const u=l.slice();return u.splice(t,i,...s),u}function h_(l){return(!l||0===l.length)&&(l=["added","removed","modified"]),l}class f_{ref;query;afs;constructor(t,i,s){this.ref=t,this.query=i,this.afs=s}stateChanges(t){let i=Df(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(i=i.pipe((0,ke.T)(s=>s.filter(u=>t.indexOf(u.type)>-1)))),i.pipe((0,ye.Z)(void 0),Ve(),(0,Ze.p)(([s,u])=>u.length>0||!s),(0,ke.T)(([,s])=>s),ce.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Qe.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=h_(t);return d_(this.query,i,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(t={}){return gv(this.query,this.afs.schedulers.outsideAngular).pipe((0,ke.T)(i=>i.payload.docs.map(s=>t.idField?{...s.data(),[t.idField]:s.id}:s.data())),ce.U0)}get(t){return(0,Fe.H)(this.query.get(t)).pipe(ce.U0)}add(t){return this.ref.add(t)}doc(t){return new u_(this.ref.doc(t),this.afs)}}class vv{query;afs;constructor(t,i){this.query=t,this.afs=i}stateChanges(t){return t&&0!==t.length?Df(this.query,this.afs.schedulers.outsideAngular).pipe((0,ke.T)(i=>i.filter(s=>t.indexOf(s.type)>-1)),(0,Ze.p)(i=>i.length>0),ce.U0):Df(this.query,this.afs.schedulers.outsideAngular).pipe(ce.U0)}auditTrail(t){return this.stateChanges(t).pipe((0,Qe.S)((i,s)=>[...i,...s],[]))}snapshotChanges(t){const i=h_(t);return d_(this.query,i,this.afs.schedulers.outsideAngular).pipe(ce.U0)}valueChanges(t={}){return gv(this.query,this.afs.schedulers.outsideAngular).pipe((0,ke.T)(s=>s.payload.docs.map(u=>t.idField?{[t.idField]:u.id,...u.data()}:u.data())),ce.U0)}get(t){return(0,Fe.H)(this.query.get(t)).pipe(ce.U0)}}const xI=new L.nKC("angularfire2.enableFirestorePersistence"),kI=new L.nKC("angularfire2.firestore.persistenceSettings"),yv=new L.nKC("angularfire2.firestore.settings"),DD=new L.nKC("angularfire2.firestore.use-emulator");function FI(l,t=i=>i){return{query:t(l),ref:l}}let LI=(()=>{class l{schedulers;firestore;persistenceEnabled$;constructor(i,s,u,f,v,C,R,j,ie,ve,Ke,wt,Zt,hn,ln,Gn,Qn){this.schedulers=R;const zn=(0,Z.iB)(i,C,s),_r=ie;ve&&(0,be.gF)(zn,C,Ke,Zt,hn,ln,wt,Gn),[this.firestore,this.persistenceEnabled$]=(0,Z.BM)(`${zn.name}.firestore`,"AngularFirestore",zn.name,()=>{const Or=C.runOutsideAngular(()=>zn.firestore());if(f&&Or.settings(f),_r&&Or.useEmulator(..._r),u&&!(0,c.Vy)(v)){const Dr=()=>{try{return(0,Fe.H)(Or.enablePersistence(j||void 0).then(()=>!0,()=>!1))}catch(mt){return typeof console<"u"&&console.warn(mt),(0,Ge.of)(!1)}};return[Or,C.runOutsideAngular(Dr)]}return[Or,(0,Ge.of)(!1)]},[f,_r,u])}collection(i,s){let u;u="string"==typeof i?this.firestore.collection(i):i;const{ref:f,query:v}=FI(u,s),C=this.schedulers.ngZone.run(()=>f);return new f_(C,v,this)}collectionGroup(i,s){const u=s||(v=>v),f=this.firestore.collectionGroup(i);return new vv(u(f),this)}doc(i){let s;s="string"==typeof i?this.firestore.doc(i):i;const u=this.schedulers.ngZone.run(()=>s);return new u_(u,this)}createId(){return this.firestore.collection("_").doc().id}static \u0275fac=function(s){return new(s||l)(L.KVO(Z.rx),L.KVO(Z.uP,8),L.KVO(xI,8),L.KVO(yv,8),L.KVO(L.Agw),L.KVO(L.SKi),L.KVO(ce.u0),L.KVO(kI,8),L.KVO(DD,8),L.KVO(be.DS,8),L.KVO(be.CP,8),L.KVO(be.yy,8),L.KVO(be.ZP,8),L.KVO(be.$z,8),L.KVO(be.AU,8),L.KVO(be.UB,8),L.KVO(ce.Jv,8))};static \u0275prov=L.jDH({token:l,factory:l.\u0275fac,providedIn:"any"})}return l})(),wD=(()=>{class l{constructor(){TD.A.registerVersion("angularfire",ce.xv.full,"fst-compat")}static enablePersistence(i){return{ngModule:l,providers:[{provide:xI,useValue:!0},{provide:kI,useValue:i}]}}static \u0275fac=function(s){return new(s||l)};static \u0275mod=L.$C({type:l});static \u0275inj=L.G2t({providers:[LI]})}return l})()},9253:(un,ft,O)=>{"use strict";O.d(ft,{BM:()=>ke,Gt:()=>be,bf:()=>Ve,e7:()=>ae,iB:()=>ye,rx:()=>Fe,uP:()=>Ge});var c=O(3953),L=O(1825),ce=O(7935);const Z=["ngOnDestroy"],be=(He,st,pe,Je={})=>new Proxy(He,{get:(ge,me)=>pe.runOutsideAngular(()=>{if(He[me])return Je?.spy?.get&&Je.spy.get(me,He[me]),He[me];if(Z.indexOf(me)>-1)return()=>{};const je=st.toPromise().then(Ye=>{const Ue=Ye?.[me];return"function"==typeof Ue?Ue.bind(Ye):Ue?.then?Ue.then(Tt=>pe.run(()=>Tt)):pe.run(()=>Ue)});return new Proxy(()=>{},{get:(Ye,Ue)=>je[Ue],apply:(Ye,Ue,Tt)=>je.then(Re=>{const Ft=Re?.(...Tt);return Je?.spy?.apply&&Je.spy.apply(me,Tt,Ft),Ft})})})}),ae=(He,st)=>{st.forEach(pe=>{Object.getOwnPropertyNames(pe.prototype||pe).forEach(Je=>{Object.defineProperty(He.prototype,Je,Object.getOwnPropertyDescriptor(pe.prototype||pe,Je))})})};class Ae{constructor(st){return st}}const Fe=new c.nKC("angularfire2.app.options"),Ge=new c.nKC("angularfire2.app.name");function ye(He,st,pe){const ge="object"==typeof pe&&pe||{};ge.name=ge.name||"string"==typeof pe&&pe||"[DEFAULT]";const je=ce.A.apps.filter(Ye=>Ye&&Ye.name===ge.name)[0]||st.runOutsideAngular(()=>ce.A.initializeApp(He,ge));try{if(JSON.stringify(He)!==JSON.stringify(je.options)){const Ye=!!module.hot;le("error",`${je.name} Firebase App already initialized with different options${Ye?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ae(je)}const le=(He,...st)=>{(0,c.naY)()&&typeof console<"u"&&console[He](...st)},Oe={provide:Ae,useFactory:ye,deps:[Fe,c.SKi,[new c.Xx1,Ge]]};let Ve=(()=>{class He{static initializeApp(pe,Je){return{ngModule:He,providers:[{provide:Fe,useValue:pe},{provide:Ge,useValue:Je}]}}constructor(pe){ce.A.registerVersion("angularfire",L.xv.full,"core"),ce.A.registerVersion("angularfire",L.xv.full,"app-compat"),ce.A.registerVersion("angular",c.xvI.full,pe.toString())}static \u0275fac=function(Je){return new(Je||He)(c.KVO(c.Agw))};static \u0275mod=c.$C({type:He});static \u0275inj=c.G2t({providers:[Oe]})}return He})();function ke(He,st,pe,Je,ge){const[,me,je]=globalThis.\u0275AngularfireInstanceCache.find(Ye=>Ye[0]===He)||[];if(me)return function Qe(He,st){try{return He.toString()===st.toString()}catch{return He===st}}(ge,je)||(Ze("error",`${st} was already initialized on the ${pe} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:ge,was:je})),me;{const Ye=Je();return globalThis.\u0275AngularfireInstanceCache.push([He,Ye,ge]),Ye}}const rt=typeof module<"u"&&!!module.hot,Ze=(He,...st)=>{(0,c.naY)()&&typeof console<"u"&&console[He](...st)};globalThis.\u0275AngularfireInstanceCache||=[]},1825:(un,ft,O)=>{"use strict";O.d(ft,{xv:()=>Qe,U0:()=>Vt,u0:()=>je,Jv:()=>st});var c=O(3953),L=O(7852);(0,L.registerVersion)("firebase","10.13.2","app");var be=O(6780),Ae=O(9687);const Ge=new class Fe extends Ae.q{}(class ae extends be.R{constructor(_e,q){super(_e,q),this.scheduler=_e,this.work=q}schedule(_e,q=0){return q>0?super.schedule(_e,q):(this.delay=q,this.state=_e,this.scheduler.flush(this),this)}execute(_e,q){return q>0||this.closed?super.execute(_e,q):this._execute(_e,q)}requestAsyncId(_e,q,Q=0){return null!=Q&&Q>0||null==Q&&this.delay>0?super.requestAsyncId(_e,q,Q):(_e.flush(this),0)}});var le=O(3236),Oe=O(8141),Ve=O(6745),ke=O(941);const Qe=new c.RxE("ANGULARFIRE2_VERSION");class st{constructor(){return(pt=>{const q=(0,L.getApps)(),Q=[];return q.forEach(re=>{re.container.getProvider(pt).instances.forEach(gt=>{Q.includes(gt)||Q.push(gt)})}),Q})(pe)}}const pe="app-check";function Je(){}class ge{zone;delegate;constructor(_e,q=Ge){this.zone=_e,this.delegate=q}now(){return this.delegate.now()}schedule(_e,q,Q){const re=this.zone;return this.delegate.schedule(function(gt){re.runGuarded(()=>{_e.apply(this,[gt])})},q,Q)}}class me{zone;task=null;constructor(_e){this.zone=_e}call(_e,q){const Q=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Je,{},Je,Je)),q.pipe((0,Oe.M)({next:Q,complete:Q,error:Q})).subscribe(_e).add(Q)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let je=(()=>{class pt{ngZone;outsideAngular;insideAngular;constructor(q){this.ngZone=q,this.outsideAngular=q.runOutsideAngular(()=>new ge(Zone.current)),this.insideAngular=q.run(()=>new ge(Zone.current,le.E)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(Q){return new(Q||pt)(c.KVO(c.SKi))};static \u0275prov=c.jDH({token:pt,factory:pt.\u0275fac,providedIn:"root"})}return pt})();function Vt(pt){return function pn(pt){return function(q){return(q=q.lift(new me(pt.ngZone))).pipe((0,Ve._)(pt.outsideAngular),(0,ke.Q)(pt.insideAngular))}}(function Ye(){const pt=globalThis.\u0275AngularFireScheduler;if(!pt)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return pt}())(pt)}},4341:(un,ft,O)=>{"use strict";O.d(ft,{YN:()=>Ka,zX:()=>Do,VZ:()=>uo,cz:()=>Ye,kq:()=>rt,vO:()=>nn,BC:()=>yn,cb:()=>kt,cV:()=>Di,vS:()=>To,X1:()=>Sl,YS:()=>zr,qT:()=>Co});var c=O(3953),L=O(177),ce=O(8455),Z=O(1985),be=O(3073),ae=O(8750),Ae=O(3794),Fe=O(4360),Ge=O(6450),ye=O(8496),Oe=O(1413),Ve=O(6354);let ke=(()=>{class B{constructor(S,oe){this._renderer=S,this._elementRef=oe,this.onChange=Xe=>{},this.onTouched=()=>{}}setProperty(S,oe){this._renderer.setProperty(this._elementRef.nativeElement,S,oe)}registerOnTouched(S){this.onTouched=S}registerOnChange(S){this.onChange=S}setDisabledState(S){this.setProperty("disabled",S)}static{this.\u0275fac=function(oe){return new(oe||B)(c.rXU(c.sFG),c.rXU(c.aKT))}}static{this.\u0275dir=c.FsC({type:B})}}return B})(),Qe=(()=>{class B extends ke{static{this.\u0275fac=(()=>{let S;return function(Xe){return(S||(S=c.xGo(B)))(Xe||B)}})()}static{this.\u0275dir=c.FsC({type:B,features:[c.Vt3]})}}return B})();const rt=new c.nKC(""),st={provide:rt,useExisting:(0,c.Rfq)(()=>ge),multi:!0},Je=new c.nKC("");let ge=(()=>{class B extends ke{constructor(S,oe,Xe){super(S,oe),this._compositionMode=Xe,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function pe(){const B=(0,L.QT)()?(0,L.QT)().getUserAgent():"";return/android (\d+)/.test(B.toLowerCase())}())}writeValue(S){this.setProperty("value",S??"")}_handleInput(S){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(S)}_compositionStart(){this._composing=!0}_compositionEnd(S){this._composing=!1,this._compositionMode&&this.onChange(S)}static{this.\u0275fac=function(oe){return new(oe||B)(c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(Je,8))}}static{this.\u0275dir=c.FsC({type:B,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(oe,Xe){1&oe&&c.bIt("input",function(Yn){return Xe._handleInput(Yn.target.value)})("blur",function(){return Xe.onTouched()})("compositionstart",function(){return Xe._compositionStart()})("compositionend",function(Yn){return Xe._compositionEnd(Yn.target.value)})},features:[c.Jv_([st]),c.Vt3]})}}return B})();function me(B){return null==B||("string"==typeof B||Array.isArray(B))&&0===B.length}const Ye=new c.nKC(""),Ue=new c.nKC("");function pn(B){return me(B.value)?{required:!0}:null}function Q(B){return null}function re(B){return null!=B}function we(B){return(0,c.jNT)(B)?(0,ce.H)(B):B}function gt(B){let V={};return B.forEach(S=>{V=null!=S?{...V,...S}:V}),0===Object.keys(V).length?null:V}function Ie(B,V){return V.map(S=>S(B))}function qe(B){return B.map(V=>function ht(B){return!B.validate}(V)?V:S=>V.validate(S))}function Mt(B){return null!=B?function en(B){if(!B)return null;const V=B.filter(re);return 0==V.length?null:function(S){return gt(Ie(S,V))}}(qe(B)):null}function Jt(B){return null!=B?function ut(B){if(!B)return null;const V=B.filter(re);return 0==V.length?null:function(S){return function le(...B){const V=(0,Ae.ms)(B),{args:S,keys:oe}=(0,be.D)(B),Xe=new Z.c(Ln=>{const{length:Yn}=S;if(!Yn)return void Ln.complete();const dr=new Array(Yn);let io=Yn,Qr=Yn;for(let hs=0;hs<Yn;hs++){let Ao=!1;(0,ae.Tg)(S[hs]).subscribe((0,Fe._)(Ln,Ks=>{Ao||(Ao=!0,Qr--),dr[hs]=Ks},()=>io--,void 0,()=>{(!io||!Ao)&&(Qr||Ln.next(oe?(0,ye.e)(oe,dr):dr),Ln.complete())}))}});return V?Xe.pipe((0,Ge.I)(V)):Xe}(Ie(S,V).map(we)).pipe((0,Ve.T)(gt))}}(qe(B)):null}function Cn(B,V){return null===B?[V]:Array.isArray(B)?[...B,V]:[B,V]}function $t(B){return B?Array.isArray(B)?B:[B]:[]}function Bn(B,V){return Array.isArray(B)?B.includes(V):B===V}function xt(B,V){const S=$t(V);return $t(B).forEach(Xe=>{Bn(S,Xe)||S.push(Xe)}),S}function Se(B,V){return $t(V).filter(S=>!Bn(B,S))}class Pe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(V){this._rawValidators=V||[],this._composedValidatorFn=Mt(this._rawValidators)}_setAsyncValidators(V){this._rawAsyncValidators=V||[],this._composedAsyncValidatorFn=Jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(V){this._onDestroyCallbacks.push(V)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(V=>V()),this._onDestroyCallbacks=[]}reset(V=void 0){this.control&&this.control.reset(V)}hasError(V,S){return!!this.control&&this.control.hasError(V,S)}getError(V,S){return this.control?this.control.getError(V,S):null}}class _t extends Pe{get formDirective(){return null}get path(){return null}}class nn extends Pe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class An{constructor(V){this._cd=V}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}}let yn=(()=>{class B extends An{constructor(S){super(S)}static{this.\u0275fac=function(oe){return new(oe||B)(c.rXU(nn,2))}}static{this.\u0275dir=c.FsC({type:B,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(oe,Xe){2&oe&&c.AVh("ng-untouched",Xe.isUntouched)("ng-touched",Xe.isTouched)("ng-pristine",Xe.isPristine)("ng-dirty",Xe.isDirty)("ng-valid",Xe.isValid)("ng-invalid",Xe.isInvalid)("ng-pending",Xe.isPending)},features:[c.Vt3]})}}return B})(),kt=(()=>{class B extends An{constructor(S){super(S)}static{this.\u0275fac=function(oe){return new(oe||B)(c.rXU(_t,10))}}static{this.\u0275dir=c.FsC({type:B,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(oe,Xe){2&oe&&c.AVh("ng-untouched",Xe.isUntouched)("ng-touched",Xe.isTouched)("ng-pristine",Xe.isPristine)("ng-dirty",Xe.isDirty)("ng-valid",Xe.isValid)("ng-invalid",Xe.isInvalid)("ng-pending",Xe.isPending)("ng-submitted",Xe.isSubmitted)},features:[c.Vt3]})}}return B})();const Dt="VALID",Me="INVALID",lt="PENDING",Ut="DISABLED";class Ee{}class Te extends Ee{constructor(V,S){super(),this.value=V,this.source=S}}class Be extends Ee{constructor(V,S){super(),this.pristine=V,this.source=S}}class St extends Ee{constructor(V,S){super(),this.touched=V,this.source=S}}class dt extends Ee{constructor(V,S){super(),this.status=V,this.source=S}}function Cr(B){return($n(B)?B.validators:B)||null}function er(B,V){return($n(V)?V.asyncValidators:B)||null}function $n(B){return null!=B&&!Array.isArray(B)&&"object"==typeof B}class Vr{constructor(V,S){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=(0,c.EWP)(()=>this.statusReactive()),this.statusReactive=(0,c.vPA)(void 0),this._pristine=(0,c.EWP)(()=>this.pristineReactive()),this.pristineReactive=(0,c.vPA)(!0),this._touched=(0,c.EWP)(()=>this.touchedReactive()),this.touchedReactive=(0,c.vPA)(!1),this._events=new Oe.B,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(V),this._assignAsyncValidators(S)}get validator(){return this._composedValidatorFn}set validator(V){this._rawValidators=this._composedValidatorFn=V}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(V){this._rawAsyncValidators=this._composedAsyncValidatorFn=V}get parent(){return this._parent}get status(){return(0,c.O8t)(this.statusReactive)}set status(V){(0,c.O8t)(()=>this.statusReactive.set(V))}get valid(){return this.status===Dt}get invalid(){return this.status===Me}get pending(){return this.status==lt}get disabled(){return this.status===Ut}get enabled(){return this.status!==Ut}get pristine(){return(0,c.O8t)(this.pristineReactive)}set pristine(V){(0,c.O8t)(()=>this.pristineReactive.set(V))}get dirty(){return!this.pristine}get touched(){return(0,c.O8t)(this.touchedReactive)}set touched(V){(0,c.O8t)(()=>this.touchedReactive.set(V))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(V){this._assignValidators(V)}setAsyncValidators(V){this._assignAsyncValidators(V)}addValidators(V){this.setValidators(xt(V,this._rawValidators))}addAsyncValidators(V){this.setAsyncValidators(xt(V,this._rawAsyncValidators))}removeValidators(V){this.setValidators(Se(V,this._rawValidators))}removeAsyncValidators(V){this.setAsyncValidators(Se(V,this._rawAsyncValidators))}hasValidator(V){return Bn(this._rawValidators,V)}hasAsyncValidator(V){return Bn(this._rawAsyncValidators,V)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(V={}){const S=!1===this.touched;this.touched=!0;const oe=V.sourceControl??this;this._parent&&!V.onlySelf&&this._parent.markAsTouched({...V,sourceControl:oe}),S&&!1!==V.emitEvent&&this._events.next(new St(!0,oe))}markAllAsTouched(V={}){this.markAsTouched({onlySelf:!0,emitEvent:V.emitEvent,sourceControl:this}),this._forEachChild(S=>S.markAllAsTouched(V))}markAsUntouched(V={}){const S=!0===this.touched;this.touched=!1,this._pendingTouched=!1;const oe=V.sourceControl??this;this._forEachChild(Xe=>{Xe.markAsUntouched({onlySelf:!0,emitEvent:V.emitEvent,sourceControl:oe})}),this._parent&&!V.onlySelf&&this._parent._updateTouched(V,oe),S&&!1!==V.emitEvent&&this._events.next(new St(!1,oe))}markAsDirty(V={}){const S=!0===this.pristine;this.pristine=!1;const oe=V.sourceControl??this;this._parent&&!V.onlySelf&&this._parent.markAsDirty({...V,sourceControl:oe}),S&&!1!==V.emitEvent&&this._events.next(new Be(!1,oe))}markAsPristine(V={}){const S=!1===this.pristine;this.pristine=!0,this._pendingDirty=!1;const oe=V.sourceControl??this;this._forEachChild(Xe=>{Xe.markAsPristine({onlySelf:!0,emitEvent:V.emitEvent})}),this._parent&&!V.onlySelf&&this._parent._updatePristine(V,oe),S&&!1!==V.emitEvent&&this._events.next(new Be(!0,oe))}markAsPending(V={}){this.status=lt;const S=V.sourceControl??this;!1!==V.emitEvent&&(this._events.next(new dt(this.status,S)),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.markAsPending({...V,sourceControl:S})}disable(V={}){const S=this._parentMarkedDirty(V.onlySelf);this.status=Ut,this.errors=null,this._forEachChild(Xe=>{Xe.disable({...V,onlySelf:!0})}),this._updateValue();const oe=V.sourceControl??this;!1!==V.emitEvent&&(this._events.next(new Te(this.value,oe)),this._events.next(new dt(this.status,oe)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...V,skipPristineCheck:S},this),this._onDisabledChange.forEach(Xe=>Xe(!0))}enable(V={}){const S=this._parentMarkedDirty(V.onlySelf);this.status=Dt,this._forEachChild(oe=>{oe.enable({...V,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent}),this._updateAncestors({...V,skipPristineCheck:S},this),this._onDisabledChange.forEach(oe=>oe(!1))}_updateAncestors(V,S){this._parent&&!V.onlySelf&&(this._parent.updateValueAndValidity(V),V.skipPristineCheck||this._parent._updatePristine({},S),this._parent._updateTouched({},S))}setParent(V){this._parent=V}getRawValue(){return this.value}updateValueAndValidity(V={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){const oe=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dt||this.status===lt)&&this._runAsyncValidator(oe,V.emitEvent)}const S=V.sourceControl??this;!1!==V.emitEvent&&(this._events.next(new Te(this.value,S)),this._events.next(new dt(this.status,S)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!V.onlySelf&&this._parent.updateValueAndValidity({...V,sourceControl:S})}_updateTreeValidity(V={emitEvent:!0}){this._forEachChild(S=>S._updateTreeValidity(V)),this.updateValueAndValidity({onlySelf:!0,emitEvent:V.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ut:Dt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(V,S){if(this.asyncValidator){this.status=lt,this._hasOwnPendingAsyncValidator={emitEvent:!1!==S};const oe=we(this.asyncValidator(this));this._asyncValidationSubscription=oe.subscribe(Xe=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(Xe,{emitEvent:S,shouldHaveEmitted:V})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();const V=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,V}return!1}setErrors(V,S={}){this.errors=V,this._updateControlsErrors(!1!==S.emitEvent,this,S.shouldHaveEmitted)}get(V){let S=V;return null==S||(Array.isArray(S)||(S=S.split(".")),0===S.length)?null:S.reduce((oe,Xe)=>oe&&oe._find(Xe),this)}getError(V,S){const oe=S?this.get(S):this;return oe&&oe.errors?oe.errors[V]:null}hasError(V,S){return!!this.getError(V,S)}get root(){let V=this;for(;V._parent;)V=V._parent;return V}_updateControlsErrors(V,S,oe){this.status=this._calculateStatus(),V&&this.statusChanges.emit(this.status),(V||oe)&&this._events.next(new dt(this.status,S)),this._parent&&this._parent._updateControlsErrors(V,S,oe)}_initObservables(){this.valueChanges=new c.bkB,this.statusChanges=new c.bkB}_calculateStatus(){return this._allControlsDisabled()?Ut:this.errors?Me:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lt)?lt:this._anyControlsHaveStatus(Me)?Me:Dt}_anyControlsHaveStatus(V){return this._anyControls(S=>S.status===V)}_anyControlsDirty(){return this._anyControls(V=>V.dirty)}_anyControlsTouched(){return this._anyControls(V=>V.touched)}_updatePristine(V,S){const oe=!this._anyControlsDirty(),Xe=this.pristine!==oe;this.pristine=oe,this._parent&&!V.onlySelf&&this._parent._updatePristine(V,S),Xe&&this._events.next(new Be(this.pristine,S))}_updateTouched(V={},S){this.touched=this._anyControlsTouched(),this._events.next(new St(this.touched,S)),this._parent&&!V.onlySelf&&this._parent._updateTouched(V,S)}_registerOnCollectionChange(V){this._onCollectionChange=V}_setUpdateStrategy(V){$n(V)&&null!=V.updateOn&&(this._updateOn=V.updateOn)}_parentMarkedDirty(V){return!V&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(V){return null}_assignValidators(V){this._rawValidators=Array.isArray(V)?V.slice():V,this._composedValidatorFn=function at(B){return Array.isArray(B)?Mt(B):B||null}(this._rawValidators)}_assignAsyncValidators(V){this._rawAsyncValidators=Array.isArray(V)?V.slice():V,this._composedAsyncValidatorFn=function qn(B){return Array.isArray(B)?Jt(B):B||null}(this._rawAsyncValidators)}}class Mi extends Vr{constructor(V,S,oe){super(Cr(S),er(oe,S)),this.controls=V,this._initObservables(),this._setUpdateStrategy(S),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(V,S){return this.controls[V]?this.controls[V]:(this.controls[V]=S,S.setParent(this),S._registerOnCollectionChange(this._onCollectionChange),S)}addControl(V,S,oe={}){this.registerControl(V,S),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}removeControl(V,S={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],this.updateValueAndValidity({emitEvent:S.emitEvent}),this._onCollectionChange()}setControl(V,S,oe={}){this.controls[V]&&this.controls[V]._registerOnCollectionChange(()=>{}),delete this.controls[V],S&&this.registerControl(V,S),this.updateValueAndValidity({emitEvent:oe.emitEvent}),this._onCollectionChange()}contains(V){return this.controls.hasOwnProperty(V)&&this.controls[V].enabled}setValue(V,S={}){(function qr(B,V,S){B._forEachChild((oe,Xe)=>{if(void 0===S[Xe])throw new c.wOt(1002,"")})})(this,0,V),Object.keys(V).forEach(oe=>{(function Mr(B,V,S){const oe=B.controls;if(!(V?Object.keys(oe):oe).length)throw new c.wOt(1e3,"");if(!oe[S])throw new c.wOt(1001,"")})(this,!0,oe),this.controls[oe].setValue(V[oe],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S)}patchValue(V,S={}){null!=V&&(Object.keys(V).forEach(oe=>{const Xe=this.controls[oe];Xe&&Xe.patchValue(V[oe],{onlySelf:!0,emitEvent:S.emitEvent})}),this.updateValueAndValidity(S))}reset(V={},S={}){this._forEachChild((oe,Xe)=>{oe.reset(V?V[Xe]:null,{onlySelf:!0,emitEvent:S.emitEvent})}),this._updatePristine(S,this),this._updateTouched(S,this),this.updateValueAndValidity(S)}getRawValue(){return this._reduceChildren({},(V,S,oe)=>(V[oe]=S.getRawValue(),V))}_syncPendingControls(){let V=this._reduceChildren(!1,(S,oe)=>!!oe._syncPendingControls()||S);return V&&this.updateValueAndValidity({onlySelf:!0}),V}_forEachChild(V){Object.keys(this.controls).forEach(S=>{const oe=this.controls[S];oe&&V(oe,S)})}_setUpControls(){this._forEachChild(V=>{V.setParent(this),V._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(V){for(const[S,oe]of Object.entries(this.controls))if(this.contains(S)&&V(oe))return!0;return!1}_reduceValue(){return this._reduceChildren({},(S,oe,Xe)=>((oe.enabled||this.disabled)&&(S[Xe]=oe.value),S))}_reduceChildren(V,S){let oe=V;return this._forEachChild((Xe,Ln)=>{oe=S(oe,Xe,Ln)}),oe}_allControlsDisabled(){for(const V of Object.keys(this.controls))if(this.controls[V].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(V){return this.controls.hasOwnProperty(V)?this.controls[V]:null}}const X=new c.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>U}),U="always";function Le(B,V,S=U){sn(B,V),V.valueAccessor.writeValue(B.value),(B.disabled||"always"===S)&&V.valueAccessor.setDisabledState?.(B.disabled),function ur(B,V){V.valueAccessor.registerOnChange(S=>{B._pendingValue=S,B._pendingChange=!0,B._pendingDirty=!0,"change"===B.updateOn&&Oi(B,V)})}(B,V),function Xr(B,V){const S=(oe,Xe)=>{V.valueAccessor.writeValue(oe),Xe&&V.viewToModelUpdate(oe)};B.registerOnChange(S),V._registerOnDestroy(()=>{B._unregisterOnChange(S)})}(B,V),function Kn(B,V){V.valueAccessor.registerOnTouched(()=>{B._pendingTouched=!0,"blur"===B.updateOn&&B._pendingChange&&Oi(B,V),"submit"!==B.updateOn&&B.markAsTouched()})}(B,V),function Nt(B,V){if(V.valueAccessor.setDisabledState){const S=oe=>{V.valueAccessor.setDisabledState(oe)};B.registerOnDisabledChange(S),V._registerOnDestroy(()=>{B._unregisterOnDisabledChange(S)})}}(B,V)}function tt(B,V){B.forEach(S=>{S.registerOnValidatorChange&&S.registerOnValidatorChange(V)})}function sn(B,V){const S=function Dn(B){return B._rawValidators}(B);null!==V.validator?B.setValidators(Cn(S,V.validator)):"function"==typeof S&&B.setValidators([S]);const oe=function Ht(B){return B._rawAsyncValidators}(B);null!==V.asyncValidator?B.setAsyncValidators(Cn(oe,V.asyncValidator)):"function"==typeof oe&&B.setAsyncValidators([oe]);const Xe=()=>B.updateValueAndValidity();tt(V._rawValidators,Xe),tt(V._rawAsyncValidators,Xe)}function Oi(B,V){B._pendingDirty&&B.markAsDirty(),B.setValue(B._pendingValue,{emitModelToViewChange:!1}),V.viewToModelUpdate(B._pendingValue),B._pendingChange=!1}const as={provide:_t,useExisting:(0,c.Rfq)(()=>Di)},jo=Promise.resolve();let Di=(()=>{class B extends _t{get submitted(){return(0,c.O8t)(this.submittedReactive)}constructor(S,oe,Xe){super(),this.callSetDisabledState=Xe,this._submitted=(0,c.EWP)(()=>this.submittedReactive()),this.submittedReactive=(0,c.vPA)(!1),this._directives=new Set,this.ngSubmit=new c.bkB,this.form=new Mi({},Mt(S),Jt(oe))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(S){jo.then(()=>{const oe=this._findContainer(S.path);S.control=oe.registerControl(S.name,S.control),Le(S.control,S,this.callSetDisabledState),S.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(S)})}getControl(S){return this.form.get(S.path)}removeControl(S){jo.then(()=>{const oe=this._findContainer(S.path);oe&&oe.removeControl(S.name),this._directives.delete(S)})}addFormGroup(S){jo.then(()=>{const oe=this._findContainer(S.path),Xe=new Mi({});(function sr(B,V){sn(B,V)})(Xe,S),oe.registerControl(S.name,Xe),Xe.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(S){jo.then(()=>{const oe=this._findContainer(S.path);oe&&oe.removeControl(S.name)})}getFormGroup(S){return this.form.get(S.path)}updateModel(S,oe){jo.then(()=>{this.form.get(S.path).setValue(oe)})}setValue(S){this.control.setValue(S)}onSubmit(S){return this.submittedReactive.set(!0),function Rs(B,V){B._syncPendingControls(),V.forEach(S=>{const oe=S.control;"submit"===oe.updateOn&&oe._pendingChange&&(S.viewToModelUpdate(oe._pendingValue),oe._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(S),"dialog"===S?.target?.method}onReset(){this.resetForm()}resetForm(S=void 0){this.form.reset(S),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(S){return S.pop(),S.length?this.form.get(S):this.form}static{this.\u0275fac=function(oe){return new(oe||B)(c.rXU(Ye,10),c.rXU(Ue,10),c.rXU(X,8))}}static{this.\u0275dir=c.FsC({type:B,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(oe,Xe){1&oe&&c.bIt("submit",function(Yn){return Xe.onSubmit(Yn)})("reset",function(){return Xe.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c.Jv_([as]),c.Vt3]})}}return B})();function Ms(B,V){const S=B.indexOf(V);S>-1&&B.splice(S,1)}function Io(B){return"object"==typeof B&&null!==B&&2===Object.keys(B).length&&"value"in B&&"disabled"in B}const cs=class extends Vr{constructor(V=null,S,oe){super(Cr(S),er(oe,S)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(V),this._setUpdateStrategy(S),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$n(S)&&(S.nonNullable||S.initialValueIsDefault)&&(this.defaultValue=Io(V)?V.value:V)}setValue(V,S={}){this.value=this._pendingValue=V,this._onChange.length&&!1!==S.emitModelToViewChange&&this._onChange.forEach(oe=>oe(this.value,!1!==S.emitViewToModelChange)),this.updateValueAndValidity(S)}patchValue(V,S={}){this.setValue(V,S)}reset(V=this.defaultValue,S={}){this._applyFormState(V),this.markAsPristine(S),this.markAsUntouched(S),this.setValue(this.value,S),this._pendingChange=!1}_updateValue(){}_anyControls(V){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(V){this._onChange.push(V)}_unregisterOnChange(V){Ms(this._onChange,V)}registerOnDisabledChange(V){this._onDisabledChange.push(V)}_unregisterOnDisabledChange(V){Ms(this._onDisabledChange,V)}_forEachChild(V){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(V){Io(V)?(this.value=this._pendingValue=V.value,V.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=V}},ci={provide:nn,useExisting:(0,c.Rfq)(()=>To)},Pr=Promise.resolve();let To=(()=>{class B extends nn{constructor(S,oe,Xe,Ln,Yn,dr){super(),this._changeDetectorRef=Yn,this.callSetDisabledState=dr,this.control=new cs,this._registered=!1,this.name="",this.update=new c.bkB,this._parent=S,this._setValidators(oe),this._setAsyncValidators(Xe),this.valueAccessor=function $o(B,V){if(!V)return null;let S,oe,Xe;return Array.isArray(V),V.forEach(Ln=>{Ln.constructor===ge?S=Ln:function Ss(B){return Object.getPrototypeOf(B.constructor)===Qe}(Ln)?oe=Ln:Xe=Ln}),Xe||oe||S||null}(0,Ln)}ngOnChanges(S){if(this._checkForErrors(),!this._registered||"name"in S){if(this._registered&&(this._checkName(),this.formDirective)){const oe=S.name.previousValue;this.formDirective.removeControl({name:oe,path:this._getPath(oe)})}this._setUpControl()}"isDisabled"in S&&this._updateDisabled(S),function Ci(B,V){if(!B.hasOwnProperty("model"))return!1;const S=B.model;return!!S.isFirstChange()||!Object.is(V,S.currentValue)}(S,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(S){this.viewModel=S,this.update.emit(S)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Le(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(S){Pr.then(()=>{this.control.setValue(S,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(S){const oe=S.isDisabled.currentValue,Xe=0!==oe&&(0,c.L39)(oe);Pr.then(()=>{Xe&&!this.control.disabled?this.control.disable():!Xe&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(S){return this._parent?function ee(B,V){return[...V.path,B]}(S,this._parent):[S]}static{this.\u0275fac=function(oe){return new(oe||B)(c.rXU(_t,9),c.rXU(Ye,10),c.rXU(Ue,10),c.rXU(rt,10),c.rXU(c.gRc,8),c.rXU(X,8))}}static{this.\u0275dir=c.FsC({type:B,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c.Jv_([ci]),c.Vt3,c.OA$]})}}return B})(),Co=(()=>{class B{static{this.\u0275fac=function(oe){return new(oe||B)}}static{this.\u0275dir=c.FsC({type:B,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return B})();const Ce=new c.nKC("");function lo(B){return"number"==typeof B?B:parseFloat(B)}let Ji=(()=>{class B{constructor(){this._validator=Q}ngOnChanges(S){if(this.inputName in S){const oe=this.normalizeInput(S[this.inputName].currentValue);this._enabled=this.enabled(oe),this._validator=this._enabled?this.createValidator(oe):Q,this._onChange&&this._onChange()}}validate(S){return this._validator(S)}registerOnValidatorChange(S){this._onChange=S}enabled(S){return null!=S}static{this.\u0275fac=function(oe){return new(oe||B)}}static{this.\u0275dir=c.FsC({type:B,features:[c.OA$]})}}return B})();const us={provide:Ye,useExisting:(0,c.Rfq)(()=>Do),multi:!0};let Do=(()=>{class B extends Ji{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=S=>lo(S),this.createValidator=S=>function Vt(B){return V=>{if(me(V.value)||me(B))return null;const S=parseFloat(V.value);return!isNaN(S)&&S>B?{max:{max:B,actual:V.value}}:null}}(S)}static{this.\u0275fac=(()=>{let S;return function(Xe){return(S||(S=c.xGo(B)))(Xe||B)}})()}static{this.\u0275dir=c.FsC({type:B,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(oe,Xe){2&oe&&c.BMQ("max",Xe._enabled?Xe.max:null)},inputs:{max:"max"},features:[c.Jv_([us]),c.Vt3]})}}return B})();const zo={provide:Ye,useExisting:(0,c.Rfq)(()=>uo),multi:!0};let uo=(()=>{class B extends Ji{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=S=>lo(S),this.createValidator=S=>function Ft(B){return V=>{if(me(V.value)||me(B))return null;const S=parseFloat(V.value);return!isNaN(S)&&S<B?{min:{min:B,actual:V.value}}:null}}(S)}static{this.\u0275fac=(()=>{let S;return function(Xe){return(S||(S=c.xGo(B)))(Xe||B)}})()}static{this.\u0275dir=c.FsC({type:B,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(oe,Xe){2&oe&&c.BMQ("min",Xe._enabled?Xe.min:null)},inputs:{min:"min"},features:[c.Jv_([zo]),c.Vt3]})}}return B})();const $i={provide:Ye,useExisting:(0,c.Rfq)(()=>zr),multi:!0};let zr=(()=>{class B extends Ji{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=c.L39,this.createValidator=S=>pn}enabled(S){return S}static{this.\u0275fac=(()=>{let S;return function(Xe){return(S||(S=c.xGo(B)))(Xe||B)}})()}static{this.\u0275dir=c.FsC({type:B,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(oe,Xe){2&oe&&c.BMQ("required",Xe._enabled?"":null)},inputs:{required:"required"},features:[c.Jv_([$i]),c.Vt3]})}}return B})(),oa=(()=>{class B{static{this.\u0275fac=function(oe){return new(oe||B)}}static{this.\u0275mod=c.$C({type:B})}static{this.\u0275inj=c.G2t({})}}return B})(),Ka=(()=>{class B{static withConfig(S){return{ngModule:B,providers:[{provide:X,useValue:S.callSetDisabledState??U}]}}static{this.\u0275fac=function(oe){return new(oe||B)}}static{this.\u0275mod=c.$C({type:B})}static{this.\u0275inj=c.G2t({imports:[oa]})}}return B})(),Sl=(()=>{class B{static withConfig(S){return{ngModule:B,providers:[{provide:Ce,useValue:S.warnOnNgModelWithFormControl??"always"},{provide:X,useValue:S.callSetDisabledState??U}]}}static{this.\u0275fac=function(oe){return new(oe||B)}}static{this.\u0275mod=c.$C({type:B})}static{this.\u0275inj=c.G2t({imports:[oa]})}}return B})()},345:(un,ft,O)=>{"use strict";O.d(ft,{Bb:()=>$t,hE:()=>Se,sG:()=>Jt});var c=O(177),L=O(3953);class ce extends c.VF{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Z extends ce{static makeCurrent(){(0,c.ZD)(new Z)}onAndCancel(Dt,Me,lt){return Dt.addEventListener(Me,lt),()=>{Dt.removeEventListener(Me,lt)}}dispatchEvent(Dt,Me){Dt.dispatchEvent(Me)}remove(Dt){Dt.remove()}createElement(Dt,Me){return(Me=Me||this.getDefaultDocument()).createElement(Dt)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Dt){return Dt.nodeType===Node.ELEMENT_NODE}isShadowRoot(Dt){return Dt instanceof DocumentFragment}getGlobalEventTarget(Dt,Me){return"window"===Me?window:"document"===Me?Dt:"body"===Me?Dt.body:null}getBaseHref(Dt){const Me=function ae(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==Me?null:function Ae(bt){return new URL(bt,document.baseURI).pathname}(Me)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(Dt){return(0,c._b)(document.cookie,Dt)}}let be=null,Ge=(()=>{class bt{build(){return new XMLHttpRequest}static{this.\u0275fac=function(lt){return new(lt||bt)}}static{this.\u0275prov=L.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const ye=new L.nKC("");let le=(()=>{class bt{constructor(Me,lt){this._zone=lt,this._eventNameToPlugin=new Map,Me.forEach(Ut=>{Ut.manager=this}),this._plugins=Me.slice().reverse()}addEventListener(Me,lt,Ut){return this._findPluginFor(lt).addEventListener(Me,lt,Ut)}getZone(){return this._zone}_findPluginFor(Me){let lt=this._eventNameToPlugin.get(Me);if(lt)return lt;if(lt=this._plugins.find(Ee=>Ee.supports(Me)),!lt)throw new L.wOt(5101,!1);return this._eventNameToPlugin.set(Me,lt),lt}static{this.\u0275fac=function(lt){return new(lt||bt)(L.KVO(ye),L.KVO(L.SKi))}}static{this.\u0275prov=L.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();class Oe{constructor(Dt){this._doc=Dt}}const Ve="ng-app-id";let ke=(()=>{class bt{constructor(Me,lt,Ut,Ee={}){this.doc=Me,this.appId=lt,this.nonce=Ut,this.platformId=Ee,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=(0,c.Vy)(Ee),this.resetHostNodes()}addStyles(Me){for(const lt of Me)1===this.changeUsageCount(lt,1)&&this.onStyleAdded(lt)}removeStyles(Me){for(const lt of Me)this.changeUsageCount(lt,-1)<=0&&this.onStyleRemoved(lt)}ngOnDestroy(){const Me=this.styleNodesInDOM;Me&&(Me.forEach(lt=>lt.remove()),Me.clear());for(const lt of this.getAllStyles())this.onStyleRemoved(lt);this.resetHostNodes()}addHost(Me){this.hostNodes.add(Me);for(const lt of this.getAllStyles())this.addStyleToHost(Me,lt)}removeHost(Me){this.hostNodes.delete(Me)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(Me){for(const lt of this.hostNodes)this.addStyleToHost(lt,Me)}onStyleRemoved(Me){const lt=this.styleRef;lt.get(Me)?.elements?.forEach(Ut=>Ut.remove()),lt.delete(Me)}collectServerRenderedStyles(){const Me=this.doc.head?.querySelectorAll(`style[${Ve}="${this.appId}"]`);if(Me?.length){const lt=new Map;return Me.forEach(Ut=>{null!=Ut.textContent&&lt.set(Ut.textContent,Ut)}),lt}return null}changeUsageCount(Me,lt){const Ut=this.styleRef;if(Ut.has(Me)){const Ee=Ut.get(Me);return Ee.usage+=lt,Ee.usage}return Ut.set(Me,{usage:lt,elements:[]}),lt}getStyleElement(Me,lt){const Ut=this.styleNodesInDOM,Ee=Ut?.get(lt);if(Ee?.parentNode===Me)return Ut.delete(lt),Ee.removeAttribute(Ve),Ee;{const Te=this.doc.createElement("style");return this.nonce&&Te.setAttribute("nonce",this.nonce),Te.textContent=lt,this.platformIsServer&&Te.setAttribute(Ve,this.appId),Me.appendChild(Te),Te}}addStyleToHost(Me,lt){const Ut=this.getStyleElement(Me,lt),Ee=this.styleRef,Te=Ee.get(lt)?.elements;Te?Te.push(Ut):Ee.set(lt,{elements:[Ut],usage:1})}resetHostNodes(){const Me=this.hostNodes;Me.clear(),Me.add(this.doc.head)}static{this.\u0275fac=function(lt){return new(lt||bt)(L.KVO(c.qQ),L.KVO(L.sZ2),L.KVO(L.BIS,8),L.KVO(L.Agw))}}static{this.\u0275prov=L.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const Qe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},rt=/%COMP%/g,Je=new L.nKC("",{providedIn:"root",factory:()=>!0});function je(bt,Dt){return Dt.map(Me=>Me.replace(rt,bt))}let Ye=(()=>{class bt{constructor(Me,lt,Ut,Ee,Te,Be,St,dt=null){this.eventManager=Me,this.sharedStylesHost=lt,this.appId=Ut,this.removeStylesOnCompDestroy=Ee,this.doc=Te,this.platformId=Be,this.ngZone=St,this.nonce=dt,this.rendererByCompId=new Map,this.platformIsServer=(0,c.Vy)(Be),this.defaultRenderer=new Ue(Me,Te,St,this.platformIsServer)}createRenderer(Me,lt){if(!Me||!lt)return this.defaultRenderer;this.platformIsServer&&lt.encapsulation===L.gXe.ShadowDom&&(lt={...lt,encapsulation:L.gXe.Emulated});const Ut=this.getOrCreateRenderer(Me,lt);return Ut instanceof qt?Ut.applyToHost(Me):Ut instanceof pn&&Ut.applyStyles(),Ut}getOrCreateRenderer(Me,lt){const Ut=this.rendererByCompId;let Ee=Ut.get(lt.id);if(!Ee){const Te=this.doc,Be=this.ngZone,St=this.eventManager,dt=this.sharedStylesHost,gn=this.removeStylesOnCompDestroy,dn=this.platformIsServer;switch(lt.encapsulation){case L.gXe.Emulated:Ee=new qt(St,dt,lt,this.appId,gn,Te,Be,dn);break;case L.gXe.ShadowDom:return new Vt(St,dt,Me,lt,Te,Be,this.nonce,dn);default:Ee=new pn(St,dt,lt,gn,Te,Be,dn)}Ut.set(lt.id,Ee)}return Ee}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(lt){return new(lt||bt)(L.KVO(le),L.KVO(ke),L.KVO(L.sZ2),L.KVO(Je),L.KVO(c.qQ),L.KVO(L.Agw),L.KVO(L.SKi),L.KVO(L.BIS))}}static{this.\u0275prov=L.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();class Ue{constructor(Dt,Me,lt,Ut){this.eventManager=Dt,this.doc=Me,this.ngZone=lt,this.platformIsServer=Ut,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(Dt,Me){return Me?this.doc.createElementNS(Qe[Me]||Me,Dt):this.doc.createElement(Dt)}createComment(Dt){return this.doc.createComment(Dt)}createText(Dt){return this.doc.createTextNode(Dt)}appendChild(Dt,Me){(Ft(Dt)?Dt.content:Dt).appendChild(Me)}insertBefore(Dt,Me,lt){Dt&&(Ft(Dt)?Dt.content:Dt).insertBefore(Me,lt)}removeChild(Dt,Me){Me.remove()}selectRootElement(Dt,Me){let lt="string"==typeof Dt?this.doc.querySelector(Dt):Dt;if(!lt)throw new L.wOt(-5104,!1);return Me||(lt.textContent=""),lt}parentNode(Dt){return Dt.parentNode}nextSibling(Dt){return Dt.nextSibling}setAttribute(Dt,Me,lt,Ut){if(Ut){Me=Ut+":"+Me;const Ee=Qe[Ut];Ee?Dt.setAttributeNS(Ee,Me,lt):Dt.setAttribute(Me,lt)}else Dt.setAttribute(Me,lt)}removeAttribute(Dt,Me,lt){if(lt){const Ut=Qe[lt];Ut?Dt.removeAttributeNS(Ut,Me):Dt.removeAttribute(`${lt}:${Me}`)}else Dt.removeAttribute(Me)}addClass(Dt,Me){Dt.classList.add(Me)}removeClass(Dt,Me){Dt.classList.remove(Me)}setStyle(Dt,Me,lt,Ut){Ut&(L.czy.DashCase|L.czy.Important)?Dt.style.setProperty(Me,lt,Ut&L.czy.Important?"important":""):Dt.style[Me]=lt}removeStyle(Dt,Me,lt){lt&L.czy.DashCase?Dt.style.removeProperty(Me):Dt.style[Me]=""}setProperty(Dt,Me,lt){null!=Dt&&(Dt[Me]=lt)}setValue(Dt,Me){Dt.nodeValue=Me}listen(Dt,Me,lt){if("string"==typeof Dt&&!(Dt=(0,c.QT)().getGlobalEventTarget(this.doc,Dt)))throw new Error(`Unsupported event target ${Dt} for event ${Me}`);return this.eventManager.addEventListener(Dt,Me,this.decoratePreventDefault(lt))}decoratePreventDefault(Dt){return Me=>{if("__ngUnwrap__"===Me)return Dt;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>Dt(Me)):Dt(Me))&&Me.preventDefault()}}}function Ft(bt){return"TEMPLATE"===bt.tagName&&void 0!==bt.content}class Vt extends Ue{constructor(Dt,Me,lt,Ut,Ee,Te,Be,St){super(Dt,Ee,Te,St),this.sharedStylesHost=Me,this.hostEl=lt,this.shadowRoot=lt.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const dt=je(Ut.id,Ut.styles);for(const gn of dt){const dn=document.createElement("style");Be&&dn.setAttribute("nonce",Be),dn.textContent=gn,this.shadowRoot.appendChild(dn)}}nodeOrShadowRoot(Dt){return Dt===this.hostEl?this.shadowRoot:Dt}appendChild(Dt,Me){return super.appendChild(this.nodeOrShadowRoot(Dt),Me)}insertBefore(Dt,Me,lt){return super.insertBefore(this.nodeOrShadowRoot(Dt),Me,lt)}removeChild(Dt,Me){return super.removeChild(null,Me)}parentNode(Dt){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Dt)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class pn extends Ue{constructor(Dt,Me,lt,Ut,Ee,Te,Be,St){super(Dt,Ee,Te,Be),this.sharedStylesHost=Me,this.removeStylesOnCompDestroy=Ut,this.styles=St?je(St,lt.styles):lt.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class qt extends pn{constructor(Dt,Me,lt,Ut,Ee,Te,Be,St){const dt=Ut+"-"+lt.id;super(Dt,Me,lt,Ee,Te,Be,St,dt),this.contentAttr=function ge(bt){return"_ngcontent-%COMP%".replace(rt,bt)}(dt),this.hostAttr=function me(bt){return"_nghost-%COMP%".replace(rt,bt)}(dt)}applyToHost(Dt){this.applyStyles(),this.setAttribute(Dt,this.hostAttr,"")}createElement(Dt,Me){const lt=super.createElement(Dt,Me);return super.setAttribute(lt,this.contentAttr,""),lt}}let vn=(()=>{class bt extends Oe{constructor(Me){super(Me)}supports(Me){return!0}addEventListener(Me,lt,Ut){return Me.addEventListener(lt,Ut,!1),()=>this.removeEventListener(Me,lt,Ut)}removeEventListener(Me,lt,Ut){return Me.removeEventListener(lt,Ut)}static{this.\u0275fac=function(lt){return new(lt||bt)(L.KVO(c.qQ))}}static{this.\u0275prov=L.jDH({token:bt,factory:bt.\u0275fac})}}return bt})(),pt=(()=>{class bt extends Oe{constructor(Me){super(Me),this.delegate=(0,L.WQX)(L.zAP,{optional:!0})}supports(Me){return!!this.delegate&&this.delegate.supports(Me)}addEventListener(Me,lt,Ut){return this.delegate.addEventListener(Me,lt,Ut)}removeEventListener(Me,lt,Ut){return this.delegate.removeEventListener(Me,lt,Ut)}static{this.\u0275fac=function(lt){return new(lt||bt)(L.KVO(c.qQ))}}static{this.\u0275prov=L.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const _e=["alt","control","meta","shift"],q={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Q={alt:bt=>bt.altKey,control:bt=>bt.ctrlKey,meta:bt=>bt.metaKey,shift:bt=>bt.shiftKey};let re=(()=>{class bt extends Oe{constructor(Me){super(Me)}supports(Me){return null!=bt.parseEventName(Me)}addEventListener(Me,lt,Ut){const Ee=bt.parseEventName(lt),Te=bt.eventCallback(Ee.fullKey,Ut,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,c.QT)().onAndCancel(Me,Ee.domEventName,Te))}static parseEventName(Me){const lt=Me.toLowerCase().split("."),Ut=lt.shift();if(0===lt.length||"keydown"!==Ut&&"keyup"!==Ut)return null;const Ee=bt._normalizeKey(lt.pop());let Te="",Be=lt.indexOf("code");if(Be>-1&&(lt.splice(Be,1),Te="code."),_e.forEach(dt=>{const gn=lt.indexOf(dt);gn>-1&&(lt.splice(gn,1),Te+=dt+".")}),Te+=Ee,0!=lt.length||0===Ee.length)return null;const St={};return St.domEventName=Ut,St.fullKey=Te,St}static matchEventFullKeyCode(Me,lt){let Ut=q[Me.key]||Me.key,Ee="";return lt.indexOf("code.")>-1&&(Ut=Me.code,Ee="code."),!(null==Ut||!Ut)&&(Ut=Ut.toLowerCase()," "===Ut?Ut="space":"."===Ut&&(Ut="dot"),_e.forEach(Te=>{Te!==Ut&&(0,Q[Te])(Me)&&(Ee+=Te+".")}),Ee+=Ut,Ee===lt)}static eventCallback(Me,lt,Ut){return Ee=>{bt.matchEventFullKeyCode(Ee,Me)&&Ut.runGuarded(()=>lt(Ee))}}static _normalizeKey(Me){return"esc"===Me?"escape":Me}static{this.\u0275fac=function(lt){return new(lt||bt)(L.KVO(c.qQ))}}static{this.\u0275prov=L.jDH({token:bt,factory:bt.\u0275fac})}}return bt})();const Jt=(0,L.oH4)(L.fpN,"browser",[{provide:L.Agw,useValue:c.AJ},{provide:L.PLl,useValue:function qe(){Z.makeCurrent()},multi:!0},{provide:c.qQ,useFactory:function Mt(){return(0,L.TL$)(document),document},deps:[]}]),Cn=new L.nKC(""),Dn=[{provide:L.e01,useClass:class Fe{addToWindow(Dt){L.JZv.getAngularTestability=(lt,Ut=!0)=>{const Ee=Dt.findTestabilityInTree(lt,Ut);if(null==Ee)throw new L.wOt(5103,!1);return Ee},L.JZv.getAllAngularTestabilities=()=>Dt.getAllTestabilities(),L.JZv.getAllAngularRootElements=()=>Dt.getAllRootElements(),L.JZv.frameworkStabilizers||(L.JZv.frameworkStabilizers=[]),L.JZv.frameworkStabilizers.push(lt=>{const Ut=L.JZv.getAllAngularTestabilities();let Ee=Ut.length;const Te=function(){Ee--,0==Ee&&lt()};Ut.forEach(Be=>{Be.whenStable(Te)})})}findTestabilityInTree(Dt,Me,lt){return null==Me?null:Dt.getTestability(Me)??(lt?(0,c.QT)().isShadowRoot(Me)?this.findTestabilityInTree(Dt,Me.host,!0):this.findTestabilityInTree(Dt,Me.parentElement,!0):null)}},deps:[]},{provide:L.WHO,useClass:L.NYb,deps:[L.SKi,L.giA,L.e01]},{provide:L.NYb,useClass:L.NYb,deps:[L.SKi,L.giA,L.e01]}],Ht=[{provide:L.H8p,useValue:"root"},{provide:L.zcH,useFactory:function en(){return new L.zcH},deps:[]},{provide:ye,useClass:vn,multi:!0,deps:[c.qQ,L.SKi,L.Agw]},{provide:ye,useClass:re,multi:!0,deps:[c.qQ]},{provide:ye,useClass:pt,multi:!0},Ye,ke,le,{provide:L._9s,useExisting:Ye},{provide:c.N0,useClass:Ge,deps:[]},[]];let $t=(()=>{class bt{constructor(Me){}static withServerTransition(Me){return{ngModule:bt,providers:[{provide:L.sZ2,useValue:Me.appId}]}}static{this.\u0275fac=function(lt){return new(lt||bt)(L.KVO(Cn,12))}}static{this.\u0275mod=L.$C({type:bt})}static{this.\u0275inj=L.G2t({providers:[...Ht,...Dn],imports:[c.MD,L.Hbi]})}}return bt})(),Se=(()=>{class bt{constructor(Me){this._doc=Me}getTitle(){return this._doc.title}setTitle(Me){this._doc.title=Me||""}static{this.\u0275fac=function(lt){return new(lt||bt)(L.KVO(c.qQ))}}static{this.\u0275prov=L.jDH({token:bt,factory:bt.\u0275fac,providedIn:"root"})}}return bt})()},4964:(un,ft,O)=>{"use strict";O.d(ft,{nX:()=>Bt,Zp:()=>ue,Z:()=>Bo,Xk:()=>Mt,Kp:()=>Ya,b:()=>Xt,Ix:()=>vi,Wk:()=>ho,iI:()=>wc,Sd:()=>bn});var c=O(3953),L=O(1985),ce=O(8071),be=O(8455),ae=O(7673),Ae=O(4412),Fe=O(4572),Ge=O(9350),ye=O(8793),le=O(8750);function Oe(I){return new L.c(A=>{(0,le.Tg)(I()).subscribe(A)})}var Ve=O(1203);function ke(I,A){const T=(0,ce.T)(I)?I:()=>I,b=$=>$.error(T());return new L.c(A?$=>A.schedule(b,0,$):b)}var Qe=O(983),rt=O(8359),Ze=O(9974),He=O(4360);function st(){return(0,Ze.N)((I,A)=>{let T=null;I._refCount++;const b=(0,He._)(A,void 0,void 0,void 0,()=>{if(!I||I._refCount<=0||0<--I._refCount)return void(T=null);const $=I._connection,se=T;T=null,$&&(!se||$===se)&&$.unsubscribe(),A.unsubscribe()});I.subscribe(b),b.closed||(T=I.connect())})}class pe extends L.c{constructor(A,T){super(),this.source=A,this.subjectFactory=T,this._subject=null,this._refCount=0,this._connection=null,(0,Ze.S)(A)&&(this.lift=A.lift)}_subscribe(A){return this.getSubject().subscribe(A)}getSubject(){const A=this._subject;return(!A||A.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:A}=this;this._subject=this._connection=null,A?.unsubscribe()}connect(){let A=this._connection;if(!A){A=this._connection=new rt.yU;const T=this.getSubject();A.add(this.source.subscribe((0,He._)(T,void 0,()=>{this._teardown(),T.complete()},b=>{this._teardown(),T.error(b)},()=>this._teardown()))),A.closed&&(this._connection=null,A=rt.yU.EMPTY)}return A}refCount(){return st()(this)}}var Je=O(1413),ge=O(177),me=O(6354),je=O(5558),Ye=O(6697),Ue=O(9172),Tt=O(5964),Re=O(1397),Ft=O(1594);function Vt(I,A){return(0,ce.T)(A)?(0,Re.Z)(I,A,1):(0,Re.Z)(I,1)}var pn=O(8141);function qt(I){return(0,Ze.N)((A,T)=>{let se,b=null,$=!1;b=A.subscribe((0,He._)(T,void 0,void 0,Ne=>{se=(0,le.Tg)(I(Ne,qt(I)(A))),b?(b.unsubscribe(),b=null,se.subscribe(T)):$=!0})),$&&(b.unsubscribe(),b=null,se.subscribe(T))})}var vn=O(2816),pt=O(9901);function _e(I){return I<=0?()=>Qe.w:(0,Ze.N)((A,T)=>{let b=[];A.subscribe((0,He._)(T,$=>{b.push($),I<b.length&&b.shift()},()=>{for(const $ of b)T.next($);T.complete()},void 0,()=>{b=null}))})}var q=O(3774),Q=O(3669);function gt(I){return(0,Ze.N)((A,T)=>{try{A.subscribe(T)}finally{T.add(I)}})}var Ie=O(5343),qe=O(6365),en=O(345);const Mt="primary",ut=Symbol("RouteTitle");class Jt{constructor(A){this.params=A||{}}has(A){return Object.prototype.hasOwnProperty.call(this.params,A)}get(A){if(this.has(A)){const T=this.params[A];return Array.isArray(T)?T[0]:T}return null}getAll(A){if(this.has(A)){const T=this.params[A];return Array.isArray(T)?T:[T]}return[]}get keys(){return Object.keys(this.params)}}function Cn(I){return new Jt(I)}function Dn(I,A,T){const b=T.path.split("/");if(b.length>I.length||"full"===T.pathMatch&&(A.hasChildren()||b.length<I.length))return null;const $={};for(let se=0;se<b.length;se++){const Ne=b[se],Ot=I[se];if(":"===Ne[0])$[Ne.substring(1)]=Ot;else if(Ne!==Ot.path)return null}return{consumed:I.slice(0,b.length),posParams:$}}function $t(I,A){const T=I?Bn(I):void 0,b=A?Bn(A):void 0;if(!T||!b||T.length!=b.length)return!1;let $;for(let se=0;se<T.length;se++)if($=T[se],!xt(I[$],A[$]))return!1;return!0}function Bn(I){return[...Object.keys(I),...Object.getOwnPropertySymbols(I)]}function xt(I,A){if(Array.isArray(I)&&Array.isArray(A)){if(I.length!==A.length)return!1;const T=[...I].sort(),b=[...A].sort();return T.every(($,se)=>b[se]===$)}return I===A}function Se(I){return I.length>0?I[I.length-1]:null}function Pe(I){return function Z(I){return!!I&&(I instanceof L.c||(0,ce.T)(I.lift)&&(0,ce.T)(I.subscribe))}(I)?I:(0,c.jNT)(I)?(0,be.H)(Promise.resolve(I)):(0,ae.of)(I)}const _t={exact:function Mn(I,A,T){if(!ir(I.segments,A.segments)||!pr(I.segments,A.segments,T)||I.numberOfChildren!==A.numberOfChildren)return!1;for(const b in A.children)if(!I.children[b]||!Mn(I.children[b],A.children[b],T))return!1;return!0},subset:kt},nn={exact:function hr(I,A){return $t(I,A)},subset:function yn(I,A){return Object.keys(A).length<=Object.keys(I).length&&Object.keys(A).every(T=>xt(I[T],A[T]))},ignored:()=>!0};function An(I,A,T){return _t[T.paths](I.root,A.root,T.matrixParams)&&nn[T.queryParams](I.queryParams,A.queryParams)&&!("exact"===T.fragment&&I.fragment!==A.fragment)}function kt(I,A,T){return vr(I,A,A.segments,T)}function vr(I,A,T,b){if(I.segments.length>T.length){const $=I.segments.slice(0,T.length);return!(!ir($,T)||A.hasChildren()||!pr($,T,b))}if(I.segments.length===T.length){if(!ir(I.segments,T)||!pr(I.segments,T,b))return!1;for(const $ in A.children)if(!I.children[$]||!kt(I.children[$],A.children[$],b))return!1;return!0}{const $=T.slice(0,I.segments.length),se=T.slice(I.segments.length);return!!(ir(I.segments,$)&&pr(I.segments,$,b)&&I.children[Mt])&&vr(I.children[Mt],A,se,b)}}function pr(I,A,T){return A.every((b,$)=>nn[T](I[$].parameters,b.parameters))}class yr{constructor(A=new Jn([],{}),T={},b=null){this.root=A,this.queryParams=T,this.fragment=b}get queryParamMap(){return this._queryParamMap??=Cn(this.queryParams),this._queryParamMap}toString(){return hi.serialize(this)}}class Jn{constructor(A,T){this.segments=A,this.children=T,this.parent=null,Object.values(T).forEach(b=>b.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xn(this)}}class Rr{constructor(A,T){this.path=A,this.parameters=T}get parameterMap(){return this._parameterMap??=Cn(this.parameters),this._parameterMap}toString(){return Me(this)}}function ir(I,A){return I.length===A.length&&I.every((T,b)=>T.path===A[b].path)}let bn=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=c.jDH({token:I,factory:()=>new tn,providedIn:"root"})}}return I})();class tn{parse(A){const T=new at(A);return new yr(T.parseRootSegment(),T.parseQueryParams(),T.parseFragment())}serialize(A){const T=`/${ri(A.root,!0)}`,b=function Ut(I){const A=Object.entries(I).map(([T,b])=>Array.isArray(b)?b.map($=>`${on(T)}=${on($)}`).join("&"):`${on(T)}=${on(b)}`).filter(T=>T);return A.length?`?${A.join("&")}`:""}(A.queryParams);return`${T}${b}${"string"==typeof A.fragment?`#${function Kr(I){return encodeURI(I)}(A.fragment)}`:""}`}}const hi=new tn;function xn(I){return I.segments.map(A=>Me(A)).join("/")}function ri(I,A){if(!I.hasChildren())return xn(I);if(A){const T=I.children[Mt]?ri(I.children[Mt],!1):"",b=[];return Object.entries(I.children).forEach(([$,se])=>{$!==Mt&&b.push(`${$}:${ri(se,!1)}`)}),b.length>0?`${T}(${b.join("//")})`:T}{const T=function Ri(I,A){let T=[];return Object.entries(I.children).forEach(([b,$])=>{b===Mt&&(T=T.concat(A($,b)))}),Object.entries(I.children).forEach(([b,$])=>{b!==Mt&&(T=T.concat(A($,b)))}),T}(I,(b,$)=>$===Mt?[ri(I.children[Mt],!1)]:[`${$}:${ri(b,!1)}`]);return 1===Object.keys(I.children).length&&null!=I.children[Mt]?`${xn(I)}/${T[0]}`:`${xn(I)}/(${T.join("//")})`}}function lr(I){return encodeURIComponent(I).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function on(I){return lr(I).replace(/%3B/gi,";")}function Zr(I){return lr(I).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bt(I){return decodeURIComponent(I)}function Dt(I){return bt(I.replace(/\+/g,"%20"))}function Me(I){return`${Zr(I.path)}${function lt(I){return Object.entries(I).map(([A,T])=>`;${Zr(A)}=${Zr(T)}`).join("")}(I.parameters)}`}const Ee=/^[^\/()?;#]+/;function Te(I){const A=I.match(Ee);return A?A[0]:""}const Be=/^[^\/()?;=#]+/,dt=/^[^=?&#]+/,dn=/^[^&#]+/;class at{constructor(A){this.url=A,this.remaining=A}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jn([],{}):new Jn([],this.parseChildren())}parseQueryParams(){const A={};if(this.consumeOptional("?"))do{this.parseQueryParam(A)}while(this.consumeOptional("&"));return A}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const A=[];for(this.peekStartsWith("(")||A.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),A.push(this.parseSegment());let T={};this.peekStartsWith("/(")&&(this.capture("/"),T=this.parseParens(!0));let b={};return this.peekStartsWith("(")&&(b=this.parseParens(!1)),(A.length>0||Object.keys(T).length>0)&&(b[Mt]=new Jn(A,T)),b}parseSegment(){const A=Te(this.remaining);if(""===A&&this.peekStartsWith(";"))throw new c.wOt(4009,!1);return this.capture(A),new Rr(bt(A),this.parseMatrixParams())}parseMatrixParams(){const A={};for(;this.consumeOptional(";");)this.parseParam(A);return A}parseParam(A){const T=function St(I){const A=I.match(Be);return A?A[0]:""}(this.remaining);if(!T)return;this.capture(T);let b="";if(this.consumeOptional("=")){const $=Te(this.remaining);$&&(b=$,this.capture(b))}A[bt(T)]=bt(b)}parseQueryParam(A){const T=function gn(I){const A=I.match(dt);return A?A[0]:""}(this.remaining);if(!T)return;this.capture(T);let b="";if(this.consumeOptional("=")){const Ne=function Cr(I){const A=I.match(dn);return A?A[0]:""}(this.remaining);Ne&&(b=Ne,this.capture(b))}const $=Dt(T),se=Dt(b);if(A.hasOwnProperty($)){let Ne=A[$];Array.isArray(Ne)||(Ne=[Ne],A[$]=Ne),Ne.push(se)}else A[$]=se}parseParens(A){const T={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const b=Te(this.remaining),$=this.remaining[b.length];if("/"!==$&&")"!==$&&";"!==$)throw new c.wOt(4010,!1);let se;b.indexOf(":")>-1?(se=b.slice(0,b.indexOf(":")),this.capture(se),this.capture(":")):A&&(se=Mt);const Ne=this.parseChildren();T[se]=1===Object.keys(Ne).length?Ne[Mt]:new Jn([],Ne),this.consumeOptional("//")}return T}peekStartsWith(A){return this.remaining.startsWith(A)}consumeOptional(A){return!!this.peekStartsWith(A)&&(this.remaining=this.remaining.substring(A.length),!0)}capture(A){if(!this.consumeOptional(A))throw new c.wOt(4011,!1)}}function er(I){return I.segments.length>0?new Jn([],{[Mt]:I}):I}function qn(I){const A={};for(const[b,$]of Object.entries(I.children)){const se=qn($);if(b===Mt&&0===se.segments.length&&se.hasChildren())for(const[Ne,Ot]of Object.entries(se.children))A[Ne]=Ot;else(se.segments.length>0||se.hasChildren())&&(A[b]=se)}return function $n(I){if(1===I.numberOfChildren&&I.children[Mt]){const A=I.children[Mt];return new Jn(I.segments.concat(A.segments),A.children)}return I}(new Jn(I.segments,A))}function Mr(I){return I instanceof yr}function Vr(I){let A;const $=er(function T(se){const Ne={};for(const yt of se.children){const In=T(yt);Ne[yt.outlet]=In}const Ot=new Jn(se.url,Ne);return se===I&&(A=Ot),Ot}(I.root));return A??$}function Mi(I,A,T,b){let $=I;for(;$.parent;)$=$.parent;if(0===A.length)return Ni($,$,$,T,b);const se=function X(I){if("string"==typeof I[0]&&1===I.length&&"/"===I[0])return new te(!0,0,I);let A=0,T=!1;const b=I.reduce(($,se,Ne)=>{if("object"==typeof se&&null!=se){if(se.outlets){const Ot={};return Object.entries(se.outlets).forEach(([yt,In])=>{Ot[yt]="string"==typeof In?In.split("/"):In}),[...$,{outlets:Ot}]}if(se.segmentPath)return[...$,se.segmentPath]}return"string"!=typeof se?[...$,se]:0===Ne?(se.split("/").forEach((Ot,yt)=>{0==yt&&"."===Ot||(0==yt&&""===Ot?T=!0:".."===Ot?A++:""!=Ot&&$.push(Ot))}),$):[...$,se]},[]);return new te(T,A,b)}(A);if(se.toRoot())return Ni($,$,new Jn([],{}),T,b);const Ne=function ee(I,A,T){if(I.isAbsolute)return new U(A,!0,0);if(!T)return new U(A,!1,NaN);if(null===T.parent)return new U(T,!0,0);const b=Hr(I.commands[0])?0:1;return function Le(I,A,T){let b=I,$=A,se=T;for(;se>$;){if(se-=$,b=b.parent,!b)throw new c.wOt(4005,!1);$=b.segments.length}return new U(b,!1,$-se)}(T,T.segments.length-1+b,I.numberOfDoubleDots)}(se,$,I),Ot=Ne.processChildren?Nt(Ne.segmentGroup,Ne.index,se.commands):tt(Ne.segmentGroup,Ne.index,se.commands);return Ni($,Ne.segmentGroup,Ot,T,b)}function Hr(I){return"object"==typeof I&&null!=I&&!I.outlets&&!I.segmentPath}function Ii(I){return"object"==typeof I&&null!=I&&I.outlets}function Ni(I,A,T,b,$){let Ne,se={};b&&Object.entries(b).forEach(([yt,In])=>{se[yt]=Array.isArray(In)?In.map(or=>`${or}`):`${In}`}),Ne=I===A?T:Bi(I,A,T);const Ot=er(qn(Ne));return new yr(Ot,se,$)}function Bi(I,A,T){const b={};return Object.entries(I.children).forEach(([$,se])=>{b[$]=se===A?T:Bi(se,A,T)}),new Jn(I.segments,b)}class te{constructor(A,T,b){if(this.isAbsolute=A,this.numberOfDoubleDots=T,this.commands=b,A&&b.length>0&&Hr(b[0]))throw new c.wOt(4003,!1);const $=b.find(Ii);if($&&$!==Se(b))throw new c.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class U{constructor(A,T,b){this.segmentGroup=A,this.processChildren=T,this.index=b}}function tt(I,A,T){if(I??=new Jn([],{}),0===I.segments.length&&I.hasChildren())return Nt(I,A,T);const b=function sn(I,A,T){let b=0,$=A;const se={match:!1,pathIndex:0,commandIndex:0};for(;$<I.segments.length;){if(b>=T.length)return se;const Ne=I.segments[$],Ot=T[b];if(Ii(Ot))break;const yt=`${Ot}`,In=b<T.length-1?T[b+1]:null;if($>0&&void 0===yt)break;if(yt&&In&&"object"==typeof In&&void 0===In.outlets){if(!Oi(yt,In,Ne))return se;b+=2}else{if(!Oi(yt,{},Ne))return se;b++}$++}return{match:!0,pathIndex:$,commandIndex:b}}(I,A,T),$=T.slice(b.commandIndex);if(b.match&&b.pathIndex<I.segments.length){const se=new Jn(I.segments.slice(0,b.pathIndex),{});return se.children[Mt]=new Jn(I.segments.slice(b.pathIndex),I.children),Nt(se,0,$)}return b.match&&0===$.length?new Jn(I.segments,{}):b.match&&!I.hasChildren()?kn(I,A,T):b.match?Nt(I,0,$):kn(I,A,T)}function Nt(I,A,T){if(0===T.length)return new Jn(I.segments,{});{const b=function de(I){return Ii(I[0])?I[0].outlets:{[Mt]:I}}(T),$={};if(Object.keys(b).some(se=>se!==Mt)&&I.children[Mt]&&1===I.numberOfChildren&&0===I.children[Mt].segments.length){const se=Nt(I.children[Mt],A,T);return new Jn(I.segments,se.children)}return Object.entries(b).forEach(([se,Ne])=>{"string"==typeof Ne&&(Ne=[Ne]),null!==Ne&&($[se]=tt(I.children[se],A,Ne))}),Object.entries(I.children).forEach(([se,Ne])=>{void 0===b[se]&&($[se]=Ne)}),new Jn(I.segments,$)}}function kn(I,A,T){const b=I.segments.slice(0,A);let $=0;for(;$<T.length;){const se=T[$];if(Ii(se)){const yt=ur(se.outlets);return new Jn(b,yt)}if(0===$&&Hr(T[0])){b.push(new Rr(I.segments[A].path,Kn(T[0]))),$++;continue}const Ne=Ii(se)?se.outlets[Mt]:`${se}`,Ot=$<T.length-1?T[$+1]:null;Ne&&Ot&&Hr(Ot)?(b.push(new Rr(Ne,Kn(Ot))),$+=2):(b.push(new Rr(Ne,{})),$++)}return new Jn(b,{})}function ur(I){const A={};return Object.entries(I).forEach(([T,b])=>{"string"==typeof b&&(b=[b]),null!==b&&(A[T]=kn(new Jn([],{}),0,b))}),A}function Kn(I){const A={};return Object.entries(I).forEach(([T,b])=>A[T]=`${b}`),A}function Oi(I,A,T){return I==T.path&&$t(A,T.parameters)}const Xr="imperative";var sr=function(I){return I[I.NavigationStart=0]="NavigationStart",I[I.NavigationEnd=1]="NavigationEnd",I[I.NavigationCancel=2]="NavigationCancel",I[I.NavigationError=3]="NavigationError",I[I.RoutesRecognized=4]="RoutesRecognized",I[I.ResolveStart=5]="ResolveStart",I[I.ResolveEnd=6]="ResolveEnd",I[I.GuardsCheckStart=7]="GuardsCheckStart",I[I.GuardsCheckEnd=8]="GuardsCheckEnd",I[I.RouteConfigLoadStart=9]="RouteConfigLoadStart",I[I.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",I[I.ChildActivationStart=11]="ChildActivationStart",I[I.ChildActivationEnd=12]="ChildActivationEnd",I[I.ActivationStart=13]="ActivationStart",I[I.ActivationEnd=14]="ActivationEnd",I[I.Scroll=15]="Scroll",I[I.NavigationSkipped=16]="NavigationSkipped",I}(sr||{});class ii{constructor(A,T){this.id=A,this.url=T}}class Bo extends ii{constructor(A,T,b="imperative",$=null){super(A,T),this.type=sr.NavigationStart,this.navigationTrigger=b,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ai extends ii{constructor(A,T,b){super(A,T),this.urlAfterRedirects=b,this.type=sr.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var Jr=function(I){return I[I.Redirect=0]="Redirect",I[I.SupersededByNewNavigation=1]="SupersededByNewNavigation",I[I.NoDataFromResolver=2]="NoDataFromResolver",I[I.GuardRejected=3]="GuardRejected",I}(Jr||{}),Gi=function(I){return I[I.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",I[I.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",I}(Gi||{});class Ti extends ii{constructor(A,T,b,$){super(A,T),this.reason=b,this.code=$,this.type=sr.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ci extends ii{constructor(A,T,b,$){super(A,T),this.reason=b,this.code=$,this.type=sr.NavigationSkipped}}class Ss extends ii{constructor(A,T,b,$){super(A,T),this.error=b,this.target=$,this.type=sr.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Rs extends ii{constructor(A,T,b,$){super(A,T),this.urlAfterRedirects=b,this.state=$,this.type=sr.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $o extends ii{constructor(A,T,b,$){super(A,T),this.urlAfterRedirects=b,this.state=$,this.type=sr.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ss extends ii{constructor(A,T,b,$,se){super(A,T),this.urlAfterRedirects=b,this.state=$,this.shouldActivate=se,this.type=sr.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Xo extends ii{constructor(A,T,b,$){super(A,T),this.urlAfterRedirects=b,this.state=$,this.type=sr.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class as extends ii{constructor(A,T,b,$){super(A,T),this.urlAfterRedirects=b,this.state=$,this.type=sr.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jo{constructor(A){this.route=A,this.type=sr.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Di{constructor(A){this.route=A,this.type=sr.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ms{constructor(A){this.snapshot=A,this.type=sr.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Io{constructor(A){this.snapshot=A,this.type=sr.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cs{constructor(A){this.snapshot=A,this.type=sr.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ja{constructor(A){this.snapshot=A,this.type=sr.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ls{constructor(A,T,b){this.routerEvent=A,this.position=T,this.anchor=b,this.type=sr.Scroll}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ei{}class ro{constructor(A,T){this.url=A,this.navigationBehaviorOptions=T}}function H(I){return I.outlet||Mt}function z(I){if(!I)return null;if(I.routeConfig?._injector)return I.routeConfig._injector;for(let A=I.parent;A;A=A.parent){const T=A.routeConfig;if(T?._loadedInjector)return T._loadedInjector;if(T?._injector)return T._injector}return null}class M{get injector(){return z(this.route?.snapshot)??this.rootInjector}set injector(A){}constructor(A){this.rootInjector=A,this.outlet=null,this.route=null,this.children=new ue(this.rootInjector),this.attachRef=null}}let ue=(()=>{class I{constructor(T){this.rootInjector=T,this.contexts=new Map}onChildOutletCreated(T,b){const $=this.getOrCreateContext(T);$.outlet=b,this.contexts.set(T,$)}onChildOutletDestroyed(T){const b=this.getContext(T);b&&(b.outlet=null,b.attachRef=null)}onOutletDeactivated(){const T=this.contexts;return this.contexts=new Map,T}onOutletReAttached(T){this.contexts=T}getOrCreateContext(T){let b=this.getContext(T);return b||(b=new M(this.rootInjector),this.contexts.set(T,b)),b}getContext(T){return this.contexts.get(T)||null}static{this.\u0275fac=function(b){return new(b||I)(c.KVO(c.uvJ))}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();class k{constructor(A){this._root=A}get root(){return this._root.value}parent(A){const T=this.pathFromRoot(A);return T.length>1?T[T.length-2]:null}children(A){const T=J(A,this._root);return T?T.children.map(b=>b.value):[]}firstChild(A){const T=J(A,this._root);return T&&T.children.length>0?T.children[0].value:null}siblings(A){const T=Ce(A,this._root);return T.length<2?[]:T[T.length-2].children.map($=>$.value).filter($=>$!==A)}pathFromRoot(A){return Ce(A,this._root).map(T=>T.value)}}function J(I,A){if(I===A.value)return A;for(const T of A.children){const b=J(I,T);if(b)return b}return null}function Ce(I,A){if(I===A.value)return[A];for(const T of A.children){const b=Ce(I,T);if(b.length)return b.unshift(A),b}return[]}class xe{constructor(A,T){this.value=A,this.children=T}toString(){return`TreeNode(${this.value})`}}function nt(I){const A={};return I&&I.children.forEach(T=>A[T.value.outlet]=T),A}class ct extends k{constructor(A,T){super(A),this.snapshot=T,Pn(this,A)}toString(){return this.snapshot.toString()}}function Lt(I){const A=function Kt(I){const se=new an([],{},{},"",{},Mt,I,null,{});return new _n("",new xe(se,[]))}(I),T=new Ae.t([new Rr("",{})]),b=new Ae.t({}),$=new Ae.t({}),se=new Ae.t({}),Ne=new Ae.t(""),Ot=new Bt(T,b,se,Ne,$,Mt,I,A.root);return Ot.snapshot=A.root,new ct(new xe(Ot,[]),A)}class Bt{constructor(A,T,b,$,se,Ne,Ot,yt){this.urlSubject=A,this.paramsSubject=T,this.queryParamsSubject=b,this.fragmentSubject=$,this.dataSubject=se,this.outlet=Ne,this.component=Ot,this._futureSnapshot=yt,this.title=this.dataSubject?.pipe((0,me.T)(In=>In[ut]))??(0,ae.of)(void 0),this.url=A,this.params=T,this.queryParams=b,this.fragment=$,this.data=se}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe((0,me.T)(A=>Cn(A))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe((0,me.T)(A=>Cn(A))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wt(I,A,T="emptyOnly"){let b;const{routeConfig:$}=I;return b=null===A||"always"!==T&&""!==$?.path&&(A.component||A.routeConfig?.loadComponent)?{params:{...I.params},data:{...I.data},resolve:{...I.data,...I._resolvedData??{}}}:{params:{...A.params,...I.params},data:{...A.data,...I.data},resolve:{...I.data,...A.data,...$?.data,...I._resolvedData}},$&&ti($)&&(b.resolve[ut]=$.title),b}class an{get title(){return this.data?.[ut]}constructor(A,T,b,$,se,Ne,Ot,yt,In){this.url=A,this.params=T,this.queryParams=b,this.fragment=$,this.data=se,this.outlet=Ne,this.component=Ot,this.routeConfig=yt,this._resolve=In}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Cn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Cn(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(b=>b.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _n extends k{constructor(A,T){super(T),this.url=A,Pn(this,T)}toString(){return Fn(this._root)}}function Pn(I,A){A.value._routerState=I,A.children.forEach(T=>Pn(I,T))}function Fn(I){const A=I.children.length>0?` { ${I.children.map(Fn).join(", ")} } `:"";return`${I.value}${A}`}function Ar(I){if(I.snapshot){const A=I.snapshot,T=I._futureSnapshot;I.snapshot=T,$t(A.queryParams,T.queryParams)||I.queryParamsSubject.next(T.queryParams),A.fragment!==T.fragment&&I.fragmentSubject.next(T.fragment),$t(A.params,T.params)||I.paramsSubject.next(T.params),function Ht(I,A){if(I.length!==A.length)return!1;for(let T=0;T<I.length;++T)if(!$t(I[T],A[T]))return!1;return!0}(A.url,T.url)||I.urlSubject.next(T.url),$t(A.data,T.data)||I.dataSubject.next(T.data)}else I.snapshot=I._futureSnapshot,I.dataSubject.next(I._futureSnapshot.data)}function xr(I,A){const T=$t(I.params,A.params)&&function Nn(I,A){return ir(I,A)&&I.every((T,b)=>$t(T.parameters,A[b].parameters))}(I.url,A.url);return T&&!(!I.parent!=!A.parent)&&(!I.parent||xr(I.parent,A.parent))}function ti(I){return"string"==typeof I.title||null===I.title}let Nr=(()=>{class I{constructor(){this.activated=null,this._activatedRoute=null,this.name=Mt,this.activateEvents=new c.bkB,this.deactivateEvents=new c.bkB,this.attachEvents=new c.bkB,this.detachEvents=new c.bkB,this.parentContexts=(0,c.WQX)(ue),this.location=(0,c.WQX)(c.c1b),this.changeDetector=(0,c.WQX)(c.gRc),this.inputBinder=(0,c.WQX)(Qi,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(T){if(T.name){const{firstChange:b,previousValue:$}=T.name;if(b)return;this.isTrackedInParentContexts($)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed($)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(T){return this.parentContexts.getContext(T)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const T=this.parentContexts.getContext(this.name);T?.route&&(T.attachRef?this.attach(T.attachRef,T.route):this.activateWith(T.route,T.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.wOt(4012,!1);this.location.detach();const T=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(T.instance),T}attach(T,b){this.activated=T,this._activatedRoute=b,this.location.insert(T.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(T.instance)}deactivate(){if(this.activated){const T=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(T)}}activateWith(T,b){if(this.isActivated)throw new c.wOt(4013,!1);this._activatedRoute=T;const $=this.location,Ne=T.snapshot.component,Ot=this.parentContexts.getOrCreateContext(this.name).children,yt=new rn(T,Ot,$.injector);this.activated=$.createComponent(Ne,{index:$.length,injector:yt,environmentInjector:b}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275dir=c.FsC({type:I,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.OA$]})}}return I})();class rn{__ngOutletInjector(A){return new rn(this.route,this.childContexts,A)}constructor(A,T,b){this.route=A,this.childContexts=T,this.parent=b}get(A,T){return A===Bt?this.route:A===ue?this.childContexts:this.parent.get(A,T)}}const Qi=new c.nKC("");let mi=(()=>{class I{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(T){this.unsubscribeFromRouteData(T),this.subscribeToRouteData(T)}unsubscribeFromRouteData(T){this.outletDataSubscriptions.get(T)?.unsubscribe(),this.outletDataSubscriptions.delete(T)}subscribeToRouteData(T){const{activatedRoute:b}=T,$=(0,Fe.z)([b.queryParams,b.params,b.data]).pipe((0,je.n)(([se,Ne,Ot],yt)=>(Ot={...se,...Ne,...Ot},0===yt?(0,ae.of)(Ot):Promise.resolve(Ot)))).subscribe(se=>{if(!T.isActivated||!T.activatedComponentRef||T.activatedRoute!==b||null===b.component)return void this.unsubscribeFromRouteData(T);const Ne=(0,c.HJs)(b.component);if(Ne)for(const{templateName:Ot}of Ne.inputs)T.activatedComponentRef.setInput(Ot,se[Ot]);else this.unsubscribeFromRouteData(T)});this.outletDataSubscriptions.set(T,$)}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac})}}return I})();function Gs(I,A,T){if(T&&I.shouldReuseRoute(A.value,T.value.snapshot)){const b=T.value;b._futureSnapshot=A.value;const $=function Yi(I,A,T){return A.children.map(b=>{for(const $ of T.children)if(I.shouldReuseRoute(b.value,$.value.snapshot))return Gs(I,b,$);return Gs(I,b)})}(I,A,T);return new xe(b,$)}{if(I.shouldAttach(A.value)){const se=I.retrieve(A.value);if(null!==se){const Ne=se.route;return Ne.value._futureSnapshot=A.value,Ne.children=A.children.map(Ot=>Gs(I,Ot)),Ne}}const b=function Ws(I){return new Bt(new Ae.t(I.url),new Ae.t(I.params),new Ae.t(I.queryParams),new Ae.t(I.fragment),new Ae.t(I.data),I.outlet,I.component,I)}(A.value),$=A.children.map(se=>Gs(I,se));return new xe(b,$)}}class Zi{constructor(A,T){this.redirectTo=A,this.navigationBehaviorOptions=T}}const lo="ngNavigationCancelingError";function Ji(I,A){const{redirectTo:T,navigationBehaviorOptions:b}=Mr(A)?{redirectTo:A,navigationBehaviorOptions:void 0}:A,$=us(!1,Jr.Redirect);return $.url=T,$.navigationBehaviorOptions=b,$}function us(I,A){const T=new Error(`NavigationCancelingError: ${I||""}`);return T[lo]=!0,T.cancellationCode=A,T}function zo(I){return!!I&&I[lo]}class Ai{constructor(A,T,b,$,se){this.routeReuseStrategy=A,this.futureState=T,this.currState=b,this.forwardEvent=$,this.inputBindingEnabled=se}activate(A){const T=this.futureState._root,b=this.currState?this.currState._root:null;this.deactivateChildRoutes(T,b,A),Ar(this.futureState.root),this.activateChildRoutes(T,b,A)}deactivateChildRoutes(A,T,b){const $=nt(T);A.children.forEach(se=>{const Ne=se.value.outlet;this.deactivateRoutes(se,$[Ne],b),delete $[Ne]}),Object.values($).forEach(se=>{this.deactivateRouteAndItsChildren(se,b)})}deactivateRoutes(A,T,b){const $=A.value,se=T?T.value:null;if($===se)if($.component){const Ne=b.getContext($.outlet);Ne&&this.deactivateChildRoutes(A,T,Ne.children)}else this.deactivateChildRoutes(A,T,b);else se&&this.deactivateRouteAndItsChildren(T,b)}deactivateRouteAndItsChildren(A,T){A.value.component&&this.routeReuseStrategy.shouldDetach(A.value.snapshot)?this.detachAndStoreRouteSubtree(A,T):this.deactivateRouteAndOutlet(A,T)}detachAndStoreRouteSubtree(A,T){const b=T.getContext(A.value.outlet),$=b&&A.value.component?b.children:T,se=nt(A);for(const Ne of Object.values(se))this.deactivateRouteAndItsChildren(Ne,$);if(b&&b.outlet){const Ne=b.outlet.detach(),Ot=b.children.onOutletDeactivated();this.routeReuseStrategy.store(A.value.snapshot,{componentRef:Ne,route:A,contexts:Ot})}}deactivateRouteAndOutlet(A,T){const b=T.getContext(A.value.outlet),$=b&&A.value.component?b.children:T,se=nt(A);for(const Ne of Object.values(se))this.deactivateRouteAndItsChildren(Ne,$);b&&(b.outlet&&(b.outlet.deactivate(),b.children.onOutletDeactivated()),b.attachRef=null,b.route=null)}activateChildRoutes(A,T,b){const $=nt(T);A.children.forEach(se=>{this.activateRoutes(se,$[se.value.outlet],b),this.forwardEvent(new ja(se.value.snapshot))}),A.children.length&&this.forwardEvent(new Io(A.value.snapshot))}activateRoutes(A,T,b){const $=A.value,se=T?T.value:null;if(Ar($),$===se)if($.component){const Ne=b.getOrCreateContext($.outlet);this.activateChildRoutes(A,T,Ne.children)}else this.activateChildRoutes(A,T,b);else if($.component){const Ne=b.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const Ot=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),Ne.children.onOutletReAttached(Ot.contexts),Ne.attachRef=Ot.componentRef,Ne.route=Ot.route.value,Ne.outlet&&Ne.outlet.attach(Ot.componentRef,Ot.route.value),Ar(Ot.route.value),this.activateChildRoutes(A,null,Ne.children)}else Ne.attachRef=null,Ne.route=$,Ne.outlet&&Ne.outlet.activateWith($,Ne.injector),this.activateChildRoutes(A,null,Ne.children)}else this.activateChildRoutes(A,null,b)}}class zr{constructor(A){this.path=A,this.route=this.path[this.path.length-1]}}class wo{constructor(A,T){this.component=A,this.route=T}}function br(I,A,T){const b=I._root;return ds(b,A?A._root:null,T,[b.value])}function Ur(I,A){const T=Symbol(),b=A.get(I,T);return b===T?"function"!=typeof I||(0,c.LfX)(I)?A.get(I):I:b}function ds(I,A,T,b,$={canDeactivateChecks:[],canActivateChecks:[]}){const se=nt(A);return I.children.forEach(Ne=>{(function _c(I,A,T,b,$={canDeactivateChecks:[],canActivateChecks:[]}){const se=I.value,Ne=A?A.value:null,Ot=T?T.getContext(I.value.outlet):null;if(Ne&&se.routeConfig===Ne.routeConfig){const yt=function Er(I,A,T){if("function"==typeof T)return T(I,A);switch(T){case"pathParamsChange":return!ir(I.url,A.url);case"pathParamsOrQueryParamsChange":return!ir(I.url,A.url)||!$t(I.queryParams,A.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xr(I,A)||!$t(I.queryParams,A.queryParams);default:return!xr(I,A)}}(Ne,se,se.routeConfig.runGuardsAndResolvers);yt?$.canActivateChecks.push(new zr(b)):(se.data=Ne.data,se._resolvedData=Ne._resolvedData),ds(I,A,se.component?Ot?Ot.children:null:T,b,$),yt&&Ot&&Ot.outlet&&Ot.outlet.isActivated&&$.canDeactivateChecks.push(new wo(Ot.outlet.component,Ne))}else Ne&&nr(A,Ot,$),$.canActivateChecks.push(new zr(b)),ds(I,null,se.component?Ot?Ot.children:null:T,b,$)})(Ne,se[Ne.value.outlet],T,b.concat([Ne.value]),$),delete se[Ne.value.outlet]}),Object.entries(se).forEach(([Ne,Ot])=>nr(Ot,T.getContext(Ne),$)),$}function nr(I,A,T){const b=nt(I),$=I.value;Object.entries(b).forEach(([se,Ne])=>{nr(Ne,$.component?A?A.children.getContext(se):null:A,T)}),T.canDeactivateChecks.push(new wo($.component&&A&&A.outlet&&A.outlet.isActivated?A.outlet.component:null,$))}function jn(I){return"function"==typeof I}function Wa(I){return I instanceof Ge.G||"EmptyError"===I?.name}const Br=Symbol("INITIAL_VALUE");function sa(){return(0,je.n)(I=>(0,Fe.z)(I.map(A=>A.pipe((0,Ye.s)(1),(0,Ue.Z)(Br)))).pipe((0,me.T)(A=>{for(const T of A)if(!0!==T){if(T===Br)return Br;if(!1===T||Kc(T))return T}return!0}),(0,Tt.p)(A=>A!==Br),(0,Ye.s)(1)))}function Kc(I){return Mr(I)||I instanceof Zi}function Ln(I){return(0,Ve.F)((0,pn.M)(A=>{if("boolean"!=typeof A)throw Ji(0,A)}),(0,me.T)(A=>!0===A))}class dr{constructor(A){this.segmentGroup=A||null}}class io extends Error{constructor(A){super(),this.urlTree=A}}function Qr(I){return ke(new dr(I))}class Sa{constructor(A,T){this.urlSerializer=A,this.urlTree=T}lineralizeSegments(A,T){let b=[],$=T.root;for(;;){if(b=b.concat($.segments),0===$.numberOfChildren)return(0,ae.of)(b);if($.numberOfChildren>1||!$.children[Mt])return ke(new c.wOt(4e3,!1));$=$.children[Mt]}}applyRedirectCommands(A,T,b,$,se){if("string"!=typeof T){const Ot=T,{queryParams:yt,fragment:In,routeConfig:or,url:gr,outlet:Hn,params:kr,data:Fr,title:mo}=$,fi=(0,c.N4e)(se,()=>Ot({params:kr,data:Fr,queryParams:yt,fragment:In,routeConfig:or,url:gr,outlet:Hn,title:mo}));if(fi instanceof yr)throw new io(fi);T=fi}const Ne=this.applyRedirectCreateUrlTree(T,this.urlSerializer.parse(T),A,b);if("/"===T[0])throw new io(Ne);return Ne}applyRedirectCreateUrlTree(A,T,b,$){const se=this.createSegmentGroup(A,T.root,b,$);return new yr(se,this.createQueryParams(T.queryParams,this.urlTree.queryParams),T.fragment)}createQueryParams(A,T){const b={};return Object.entries(A).forEach(([$,se])=>{if("string"==typeof se&&":"===se[0]){const Ot=se.substring(1);b[$]=T[Ot]}else b[$]=se}),b}createSegmentGroup(A,T,b,$){const se=this.createSegments(A,T.segments,b,$);let Ne={};return Object.entries(T.children).forEach(([Ot,yt])=>{Ne[Ot]=this.createSegmentGroup(A,yt,b,$)}),new Jn(se,Ne)}createSegments(A,T,b,$){return T.map(se=>":"===se.path[0]?this.findPosParam(A,se,$):this.findOrReturn(se,b))}findPosParam(A,T,b){const $=b[T.path.substring(1)];if(!$)throw new c.wOt(4001,!1);return $}findOrReturn(A,T){let b=0;for(const $ of T){if($.path===A.path)return T.splice(b),$;b++}return A}}const bo={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xi(I,A,T,b,$){const se=Ra(I,A,T);return se.matched?(b=function ia(I,A){return I.providers&&!I._injector&&(I._injector=(0,c.Ol2)(I.providers,A,`Route: ${I.path}`)),I._injector??A}(A,b),function Yn(I,A,T,b){const $=A.canMatch;if(!$||0===$.length)return(0,ae.of)(!0);const se=$.map(Ne=>{const Ot=Ur(Ne,I);return Pe(function Yo(I){return I&&jn(I.canMatch)}(Ot)?Ot.canMatch(A,T):(0,c.N4e)(I,()=>Ot(A,T)))});return(0,ae.of)(se).pipe(sa(),Ln())}(b,A,T).pipe((0,me.T)(Ne=>!0===Ne?se:{...bo}))):(0,ae.of)(se)}function Ra(I,A,T){if("**"===A.path)return function qa(I){return{matched:!0,parameters:I.length>0?Se(I).parameters:{},consumedSegments:I,remainingSegments:[],positionalParamSegments:{}}}(T);if(""===A.path)return"full"===A.pathMatch&&(I.hasChildren()||T.length>0)?{...bo}:{matched:!0,consumedSegments:[],remainingSegments:T,parameters:{},positionalParamSegments:{}};const $=(A.matcher||Dn)(T,I,A);if(!$)return{...bo};const se={};Object.entries($.posParams??{}).forEach(([Ot,yt])=>{se[Ot]=yt.path});const Ne=$.consumed.length>0?{...se,...$.consumed[$.consumed.length-1].parameters}:se;return{matched:!0,consumedSegments:$.consumed,remainingSegments:T.slice($.consumed.length),parameters:Ne,positionalParamSegments:$.posParams??{}}}function aa(I,A,T,b){return T.length>0&&function Xa(I,A,T){return T.some(b=>fs(I,A,b)&&H(b)!==Mt)}(I,T,b)?{segmentGroup:new Jn(A,Ps(b,new Jn(T,I.children))),slicedSegments:[]}:0===T.length&&function go(I,A,T){return T.some(b=>fs(I,A,b))}(I,T,b)?{segmentGroup:new Jn(I.segments,rr(I,T,b,I.children)),slicedSegments:T}:{segmentGroup:new Jn(I.segments,I.children),slicedSegments:T}}function rr(I,A,T,b){const $={};for(const se of T)if(fs(I,A,se)&&!b[H(se)]){const Ne=new Jn([],{});$[H(se)]=Ne}return{...b,...$}}function Ps(I,A){const T={};T[Mt]=A;for(const b of I)if(""===b.path&&H(b)!==Mt){const $=new Jn([],{});T[H(b)]=$}return T}function fs(I,A,T){return(!(I.hasChildren()||A.length>0)||"full"!==T.pathMatch)&&""===T.path}class Xc{}class Du{constructor(A,T,b,$,se,Ne,Ot){this.injector=A,this.configLoader=T,this.rootComponentType=b,this.config=$,this.urlTree=se,this.paramsInheritanceStrategy=Ne,this.urlSerializer=Ot,this.applyRedirects=new Sa(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(A){return new c.wOt(4002,`'${A.segmentGroup}'`)}recognize(){const A=aa(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(A).pipe((0,me.T)(({children:T,rootSnapshot:b})=>{const $=new xe(b,T),se=new _n("",$),Ne=function qr(I,A,T=null,b=null){return Mi(Vr(I),A,T,b)}(b,[],this.urlTree.queryParams,this.urlTree.fragment);return Ne.queryParams=this.urlTree.queryParams,se.url=this.urlSerializer.serialize(Ne),{state:se,tree:Ne}}))}match(A){const T=new an([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Object.freeze({}),Mt,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,A,Mt,T).pipe((0,me.T)(b=>({children:b,rootSnapshot:T})),qt(b=>{if(b instanceof io)return this.urlTree=b.urlTree,this.match(b.urlTree.root);throw b instanceof dr?this.noMatchError(b):b}))}processSegmentGroup(A,T,b,$,se){return 0===b.segments.length&&b.hasChildren()?this.processChildren(A,T,b,se):this.processSegment(A,T,b,b.segments,$,!0,se).pipe((0,me.T)(Ne=>Ne instanceof xe?[Ne]:[]))}processChildren(A,T,b,$){const se=[];for(const Ne of Object.keys(b.children))"primary"===Ne?se.unshift(Ne):se.push(Ne);return(0,be.H)(se).pipe(Vt(Ne=>{const Ot=b.children[Ne],yt=function tr(I,A){const T=I.filter(b=>H(b)===A);return T.push(...I.filter(b=>H(b)!==A)),T}(T,Ne);return this.processSegmentGroup(A,yt,Ot,Ne,$)}),(0,vn.S)((Ne,Ot)=>(Ne.push(...Ot),Ne)),(0,pt.U)(null),function re(I,A){const T=arguments.length>=2;return b=>b.pipe(I?(0,Tt.p)(($,se)=>I($,se,b)):Q.D,_e(1),T?(0,pt.U)(A):(0,q.v)(()=>new Ge.G))}(),(0,Re.Z)(Ne=>{if(null===Ne)return Qr(b);const Ot=Wo(Ne);return function Go(I){I.sort((A,T)=>A.value.outlet===Mt?-1:T.value.outlet===Mt?1:A.value.outlet.localeCompare(T.value.outlet))}(Ot),(0,ae.of)(Ot)}))}processSegment(A,T,b,$,se,Ne,Ot){return(0,be.H)(T).pipe(Vt(yt=>this.processSegmentAgainstRoute(yt._injector??A,T,yt,b,$,se,Ne,Ot).pipe(qt(In=>{if(In instanceof dr)return(0,ae.of)(null);throw In}))),(0,Ft.$)(yt=>!!yt),qt(yt=>{if(Wa(yt))return function qc(I,A,T){return 0===A.length&&!I.children[T]}(b,$,se)?(0,ae.of)(new Xc):Qr(b);throw yt}))}processSegmentAgainstRoute(A,T,b,$,se,Ne,Ot,yt){return H(b)===Ne||Ne!==Mt&&fs($,se,b)?void 0===b.redirectTo?this.matchSegmentAgainstRoute(A,$,b,se,Ne,yt):this.allowRedirects&&Ot?this.expandSegmentAgainstRouteUsingRedirect(A,$,T,b,se,Ne,yt):Qr($):Qr($)}expandSegmentAgainstRouteUsingRedirect(A,T,b,$,se,Ne,Ot){const{matched:yt,parameters:In,consumedSegments:or,positionalParamSegments:gr,remainingSegments:Hn}=Ra(T,$,se);if(!yt)return Qr(T);"string"==typeof $.redirectTo&&"/"===$.redirectTo[0]&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const kr=new an(se,In,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,So($),H($),$.component??$._loadedComponent??null,$,Qa($)),Fr=Wt(kr,Ot,this.paramsInheritanceStrategy);kr.params=Object.freeze(Fr.params),kr.data=Object.freeze(Fr.data);const mo=this.applyRedirects.applyRedirectCommands(or,$.redirectTo,gr,kr,A);return this.applyRedirects.lineralizeSegments($,mo).pipe((0,Re.Z)(fi=>this.processSegment(A,b,T,fi.concat(Hn),Ne,!1,Ot)))}matchSegmentAgainstRoute(A,T,b,$,se,Ne){const Ot=xi(T,b,$,A);return"**"===b.path&&(T.children={}),Ot.pipe((0,je.n)(yt=>yt.matched?this.getChildConfig(A=b._injector??A,b,$).pipe((0,je.n)(({routes:In})=>{const or=b._loadedInjector??A,{parameters:gr,consumedSegments:Hn,remainingSegments:kr}=yt,Fr=new an(Hn,gr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,So(b),H(b),b.component??b._loadedComponent??null,b,Qa(b)),mo=Wt(Fr,Ne,this.paramsInheritanceStrategy);Fr.params=Object.freeze(mo.params),Fr.data=Object.freeze(mo.data);const{segmentGroup:fi,slicedSegments:fa}=aa(T,Hn,kr,In);if(0===fa.length&&fi.hasChildren())return this.processChildren(or,In,fi,Fr).pipe((0,me.T)(Zs=>new xe(Fr,Zs)));if(0===In.length&&0===fa.length)return(0,ae.of)(new xe(Fr,[]));const Ys=H(b)===se;return this.processSegment(or,In,fi,fa,Ys?Mt:se,!0,Fr).pipe((0,me.T)(Zs=>new xe(Fr,Zs instanceof xe?[Zs]:[])))})):Qr(T)))}getChildConfig(A,T,b){return T.children?(0,ae.of)({routes:T.children,injector:A}):T.loadChildren?void 0!==T._loadedRoutes?(0,ae.of)({routes:T._loadedRoutes,injector:T._loadedInjector}):function Xe(I,A,T,b){const $=A.canLoad;if(void 0===$||0===$.length)return(0,ae.of)(!0);const se=$.map(Ne=>{const Ot=Ur(Ne,I);return Pe(function Wi(I){return I&&jn(I.canLoad)}(Ot)?Ot.canLoad(A,T):(0,c.N4e)(I,()=>Ot(A,T)))});return(0,ae.of)(se).pipe(sa(),Ln())}(A,T,b).pipe((0,Re.Z)($=>$?this.configLoader.loadChildren(A,T).pipe((0,pn.M)(se=>{T._loadedRoutes=se.routes,T._loadedInjector=se.injector})):function Ks(){return ke(us(!1,Jr.GuardRejected))}())):(0,ae.of)({routes:[],injector:A})}}function Qc(I){const A=I.value.routeConfig;return A&&""===A.path}function Wo(I){const A=[],T=new Set;for(const b of I){if(!Qc(b)){A.push(b);continue}const $=A.find(se=>b.value.routeConfig===se.value.routeConfig);void 0!==$?($.children.push(...b.children),T.add($)):A.push(b)}for(const b of T){const $=Wo(b.children);A.push(new xe(b.value,$))}return A.filter(b=>!T.has(b))}function So(I){return I.data||{}}function Qa(I){return I.resolve||{}}function Zc(I){const A=I.children.map(T=>Zc(T)).flat();return[I,...A]}function Ic(I){return(0,je.n)(A=>{const T=I(A);return T?(0,be.H)(T).pipe((0,me.T)(()=>A)):(0,ae.of)(A)})}let Tc=(()=>{class I{buildTitle(T){let b,$=T.root;for(;void 0!==$;)b=this.getResolvedTitleForRoute($)??b,$=$.children.find(se=>se.outlet===Mt);return b}getResolvedTitleForRoute(T){return T.data[ut]}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(pd),providedIn:"root"})}}return I})(),pd=(()=>{class I extends Tc{constructor(T){super(),this.title=T}updateTitle(T){const b=this.buildTitle(T);void 0!==b&&this.title.setTitle(b)}static{this.\u0275fac=function(b){return new(b||I)(c.KVO(en.hE))}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const ps=new c.nKC("",{providedIn:"root",factory:()=>({})});let el=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275cmp=c.VBU({type:I,selectors:[["ng-component"]],standalone:!0,features:[c.aNF],decls:1,vars:0,template:function(b,$){1&b&&c.nrm(0,"router-outlet")},dependencies:[Nr],encapsulation:2})}}return I})();function Ir(I){const A=I.children&&I.children.map(Ir),T=A?{...I,children:A}:{...I};return!T.component&&!T.loadComponent&&(A||T.loadChildren)&&T.outlet&&T.outlet!==Mt&&(T.component=el),T}const qs=new c.nKC("");let Xs=(()=>{class I{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.WQX)(c.Ql9)}loadComponent(T){if(this.componentLoaders.get(T))return this.componentLoaders.get(T);if(T._loadedComponent)return(0,ae.of)(T._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(T);const b=Pe(T.loadComponent()).pipe((0,me.T)(Pa),(0,pn.M)(se=>{this.onLoadEndListener&&this.onLoadEndListener(T),T._loadedComponent=se}),gt(()=>{this.componentLoaders.delete(T)})),$=new pe(b,()=>new Je.B).pipe(st());return this.componentLoaders.set(T,$),$}loadChildren(T,b){if(this.childrenLoaders.get(b))return this.childrenLoaders.get(b);if(b._loadedRoutes)return(0,ae.of)({routes:b._loadedRoutes,injector:b._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(b);const se=function ki(I,A,T,b){return Pe(I.loadChildren()).pipe((0,me.T)(Pa),(0,Re.Z)($=>$ instanceof c.Co$||Array.isArray($)?(0,ae.of)($):(0,be.H)(A.compileModuleAsync($))),(0,me.T)($=>{b&&b(I);let se,Ne,Ot=!1;return Array.isArray($)?(Ne=$,!0):(se=$.create(T).injector,Ne=se.get(qs,[],{optional:!0,self:!0}).flat()),{routes:Ne.map(Ir),injector:se}}))}(b,this.compiler,T,this.onLoadEndListener).pipe(gt(()=>{this.childrenLoaders.delete(b)})),Ne=new pe(se,()=>new Je.B).pipe(st());return this.childrenLoaders.set(b,Ne),Ne}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function Pa(I){return function la(I){return I&&"object"==typeof I&&"default"in I}(I)?I.default:I}let Zo=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(gs),providedIn:"root"})}}return I})(),gs=(()=>{class I{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,b){return T}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const Cc=new c.nKC(""),w=new c.nKC("");function Y(I,A,T){const b=I.get(w),$=I.get(ge.qQ);return I.get(c.SKi).runOutsideAngular(()=>{if(!$.startViewTransition||b.skipNextTransition)return b.skipNextTransition=!1,new Promise(In=>setTimeout(In));let se;const Ne=new Promise(In=>{se=In}),Ot=$.startViewTransition(()=>(se(),function N(I){return new Promise(A=>{(0,c.mal)({read:()=>setTimeout(A)},{injector:I})})}(I))),{onViewTransitionCreated:yt}=b;return yt&&(0,c.N4e)(I,()=>yt({transition:Ot,from:A,to:T})),Ne})}const K=new c.nKC("");let De=(()=>{class I{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Je.B,this.transitionAbortSubject=new Je.B,this.configLoader=(0,c.WQX)(Xs),this.environmentInjector=(0,c.WQX)(c.uvJ),this.urlSerializer=(0,c.WQX)(bn),this.rootContexts=(0,c.WQX)(ue),this.location=(0,c.WQX)(ge.aZ),this.inputBindingEnabled=null!==(0,c.WQX)(Qi,{optional:!0}),this.titleStrategy=(0,c.WQX)(Tc),this.options=(0,c.WQX)(ps,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=(0,c.WQX)(Zo),this.createViewTransition=(0,c.WQX)(Cc,{optional:!0}),this.navigationErrorHandler=(0,c.WQX)(K,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,ae.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=$=>this.events.next(new Di($)),this.configLoader.onLoadStartListener=$=>this.events.next(new jo($))}complete(){this.transitions?.complete()}handleNavigationRequest(T){const b=++this.navigationId;this.transitions?.next({...this.transitions.value,...T,id:b})}setupNavigations(T,b,$){return this.transitions=new Ae.t({id:0,currentUrlTree:b,currentRawUrl:b,extractedUrl:this.urlHandlingStrategy.extract(b),urlAfterRedirects:this.urlHandlingStrategy.extract(b),rawUrl:b,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Xr,restoredState:null,currentSnapshot:$.snapshot,targetSnapshot:null,currentRouterState:$,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe((0,Tt.p)(se=>0!==se.id),(0,me.T)(se=>({...se,extractedUrl:this.urlHandlingStrategy.extract(se.rawUrl)})),(0,je.n)(se=>{let Ne=!1,Ot=!1;return(0,ae.of)(se).pipe((0,je.n)(yt=>{if(this.navigationId>se.id)return this.cancelNavigationTransition(se,"",Jr.SupersededByNewNavigation),Qe.w;this.currentTransition=se,this.currentNavigation={id:yt.id,initialUrl:yt.rawUrl,extractedUrl:yt.extractedUrl,targetBrowserUrl:"string"==typeof yt.extras.browserUrl?this.urlSerializer.parse(yt.extras.browserUrl):yt.extras.browserUrl,trigger:yt.source,extras:yt.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const In=!T.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!In&&"reload"!==(yt.extras.onSameUrlNavigation??T.onSameUrlNavigation)){const gr="";return this.events.next(new Ci(yt.id,this.urlSerializer.serialize(yt.rawUrl),gr,Gi.IgnoredSameUrlNavigation)),yt.resolve(!1),Qe.w}if(this.urlHandlingStrategy.shouldProcessUrl(yt.rawUrl))return(0,ae.of)(yt).pipe((0,je.n)(gr=>{const Hn=this.transitions?.getValue();return this.events.next(new Bo(gr.id,this.urlSerializer.serialize(gr.extractedUrl),gr.source,gr.restoredState)),Hn!==this.transitions?.getValue()?Qe.w:Promise.resolve(gr)}),function Ro(I,A,T,b,$,se){return(0,Re.Z)(Ne=>function Cu(I,A,T,b,$,se,Ne="emptyOnly"){return new Du(I,A,T,b,$,Ne,se).recognize()}(I,A,T,b,Ne.extractedUrl,$,se).pipe((0,me.T)(({state:Ot,tree:yt})=>({...Ne,targetSnapshot:Ot,urlAfterRedirects:yt}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,T.config,this.urlSerializer,this.paramsInheritanceStrategy),(0,pn.M)(gr=>{se.targetSnapshot=gr.targetSnapshot,se.urlAfterRedirects=gr.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:gr.urlAfterRedirects};const Hn=new Rs(gr.id,this.urlSerializer.serialize(gr.extractedUrl),this.urlSerializer.serialize(gr.urlAfterRedirects),gr.targetSnapshot);this.events.next(Hn)}));if(In&&this.urlHandlingStrategy.shouldProcessUrl(yt.currentRawUrl)){const{id:gr,extractedUrl:Hn,source:kr,restoredState:Fr,extras:mo}=yt,fi=new Bo(gr,this.urlSerializer.serialize(Hn),kr,Fr);this.events.next(fi);const fa=Lt(this.rootComponentType).snapshot;return this.currentTransition=se={...yt,targetSnapshot:fa,urlAfterRedirects:Hn,extras:{...mo,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=Hn,(0,ae.of)(se)}{const gr="";return this.events.next(new Ci(yt.id,this.urlSerializer.serialize(yt.extractedUrl),gr,Gi.IgnoredByUrlHandlingStrategy)),yt.resolve(!1),Qe.w}}),(0,pn.M)(yt=>{const In=new $o(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot);this.events.next(In)}),(0,me.T)(yt=>(this.currentTransition=se={...yt,guards:br(yt.targetSnapshot,yt.currentSnapshot,this.rootContexts)},se)),function Ec(I,A){return(0,Re.Z)(T=>{const{targetSnapshot:b,currentSnapshot:$,guards:{canActivateChecks:se,canDeactivateChecks:Ne}}=T;return 0===Ne.length&&0===se.length?(0,ae.of)({...T,guardsResult:!0}):function Tu(I,A,T,b){return(0,be.H)(I).pipe((0,Re.Z)($=>function oe(I,A,T,b,$){const se=A&&A.routeConfig?A.routeConfig.canDeactivate:null;if(!se||0===se.length)return(0,ae.of)(!0);const Ne=se.map(Ot=>{const yt=z(A)??$,In=Ur(Ot,yt);return Pe(function Wc(I){return I&&jn(I.canDeactivate)}(In)?In.canDeactivate(I,A,T,b):(0,c.N4e)(yt,()=>In(I,A,T,b))).pipe((0,Ft.$)())});return(0,ae.of)(Ne).pipe(sa())}($.component,$.route,T,A,b)),(0,Ft.$)($=>!0!==$,!0))}(Ne,b,$,I).pipe((0,Re.Z)(Ot=>Ot&&function ba(I){return"boolean"==typeof I}(Ot)?function Ka(I,A,T,b){return(0,be.H)(A).pipe(Vt($=>(0,ye.x)(function B(I,A){return null!==I&&A&&A(new Ms(I)),(0,ae.of)(!0)}($.route.parent,b),function Sl(I,A){return null!==I&&A&&A(new cs(I)),(0,ae.of)(!0)}($.route,b),function S(I,A,T){const b=A[A.length-1],se=A.slice(0,A.length-1).reverse().map(Ne=>function za(I){const A=I.routeConfig?I.routeConfig.canActivateChild:null;return A&&0!==A.length?{node:I,guards:A}:null}(Ne)).filter(Ne=>null!==Ne).map(Ne=>Oe(()=>{const Ot=Ne.guards.map(yt=>{const In=z(Ne.node)??T,or=Ur(yt,In);return Pe(function oa(I){return I&&jn(I.canActivateChild)}(or)?or.canActivateChild(b,I):(0,c.N4e)(In,()=>or(b,I))).pipe((0,Ft.$)())});return(0,ae.of)(Ot).pipe(sa())}));return(0,ae.of)(se).pipe(sa())}(I,$.path,T),function V(I,A,T){const b=A.routeConfig?A.routeConfig.canActivate:null;if(!b||0===b.length)return(0,ae.of)(!0);const $=b.map(se=>Oe(()=>{const Ne=z(A)??T,Ot=Ur(se,Ne);return Pe(function Ga(I){return I&&jn(I.canActivate)}(Ot)?Ot.canActivate(A,I):(0,c.N4e)(Ne,()=>Ot(A,I))).pipe((0,Ft.$)())}));return(0,ae.of)($).pipe(sa())}(I,$.route,T))),(0,Ft.$)($=>!0!==$,!0))}(b,se,I,A):(0,ae.of)(Ot)),(0,me.T)(Ot=>({...T,guardsResult:Ot})))})}(this.environmentInjector,yt=>this.events.next(yt)),(0,pn.M)(yt=>{if(se.guardsResult=yt.guardsResult,yt.guardsResult&&"boolean"!=typeof yt.guardsResult)throw Ji(0,yt.guardsResult);const In=new ss(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects),yt.targetSnapshot,!!yt.guardsResult);this.events.next(In)}),(0,Tt.p)(yt=>!!yt.guardsResult||(this.cancelNavigationTransition(yt,"",Jr.GuardRejected),!1)),Ic(yt=>{if(yt.guards.canActivateChecks.length)return(0,ae.of)(yt).pipe((0,pn.M)(In=>{const or=new Xo(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(or)}),(0,je.n)(In=>{let or=!1;return(0,ae.of)(In).pipe(function Ma(I,A){return(0,Re.Z)(T=>{const{targetSnapshot:b,guards:{canActivateChecks:$}}=T;if(!$.length)return(0,ae.of)(T);const se=new Set($.map(yt=>yt.route)),Ne=new Set;for(const yt of se)if(!Ne.has(yt))for(const In of Zc(yt))Ne.add(In);let Ot=0;return(0,be.H)(Ne).pipe(Vt(yt=>se.has(yt)?function mn(I,A,T,b){const $=I.routeConfig,se=I._resolve;return void 0!==$?.title&&!ti($)&&(se[ut]=$.title),function Gr(I,A,T,b){const $=Bn(I);if(0===$.length)return(0,ae.of)({});const se={};return(0,be.H)($).pipe((0,Re.Z)(Ne=>function Jc(I,A,T,b){const $=z(A)??b,se=Ur(I,$);return Pe(se.resolve?se.resolve(A,T):(0,c.N4e)($,()=>se(A,T)))}(I[Ne],A,T,b).pipe((0,Ft.$)(),(0,pn.M)(Ot=>{if(Ot instanceof Zi)throw Ji(new tn,Ot);se[Ne]=Ot}))),_e(1),function we(I){return(0,me.T)(()=>I)}(se),qt(Ne=>Wa(Ne)?Qe.w:ke(Ne)))}(se,I,A,b).pipe((0,me.T)(Ne=>(I._resolvedData=Ne,I.data=Wt(I,I.parent,T).resolve,null)))}(yt,b,I,A):(yt.data=Wt(yt,yt.parent,I).resolve,(0,ae.of)(void 0))),(0,pn.M)(()=>Ot++),_e(1),(0,Re.Z)(yt=>Ot===Ne.size?(0,ae.of)(T):Qe.w))})}(this.paramsInheritanceStrategy,this.environmentInjector),(0,pn.M)({next:()=>or=!0,complete:()=>{or||this.cancelNavigationTransition(In,"",Jr.NoDataFromResolver)}}))}),(0,pn.M)(In=>{const or=new as(In.id,this.urlSerializer.serialize(In.extractedUrl),this.urlSerializer.serialize(In.urlAfterRedirects),In.targetSnapshot);this.events.next(or)}))}),Ic(yt=>{const In=or=>{const gr=[];or.routeConfig?.loadComponent&&!or.routeConfig._loadedComponent&&gr.push(this.configLoader.loadComponent(or.routeConfig).pipe((0,pn.M)(Hn=>{or.component=Hn}),(0,me.T)(()=>{})));for(const Hn of or.children)gr.push(...In(Hn));return gr};return(0,Fe.z)(In(yt.targetSnapshot.root)).pipe((0,pt.U)(null),(0,Ye.s)(1))}),Ic(()=>this.afterPreactivation()),(0,je.n)(()=>{const{currentSnapshot:yt,targetSnapshot:In}=se,or=this.createViewTransition?.(this.environmentInjector,yt.root,In.root);return or?(0,be.H)(or).pipe((0,me.T)(()=>se)):(0,ae.of)(se)}),(0,me.T)(yt=>{const In=function Ha(I,A,T){const b=Gs(I,A._root,T?T._root:void 0);return new ct(b,A)}(T.routeReuseStrategy,yt.targetSnapshot,yt.currentRouterState);return this.currentTransition=se={...yt,targetRouterState:In},this.currentNavigation.targetRouterState=In,se}),(0,pn.M)(()=>{this.events.next(new ei)}),((I,A,T,b)=>(0,me.T)($=>(new Ai(A,$.targetRouterState,$.currentRouterState,T,b).activate(I),$)))(this.rootContexts,T.routeReuseStrategy,yt=>this.events.next(yt),this.inputBindingEnabled),(0,Ye.s)(1),(0,pn.M)({next:yt=>{Ne=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ai(yt.id,this.urlSerializer.serialize(yt.extractedUrl),this.urlSerializer.serialize(yt.urlAfterRedirects))),this.titleStrategy?.updateTitle(yt.targetRouterState.snapshot),yt.resolve(!0)},complete:()=>{Ne=!0}}),function ht(I){return(0,Ze.N)((A,T)=>{(0,le.Tg)(I).subscribe((0,He._)(T,()=>T.complete(),Ie.l)),!T.closed&&A.subscribe(T)})}(this.transitionAbortSubject.pipe((0,pn.M)(yt=>{throw yt}))),gt(()=>{!Ne&&!Ot&&this.cancelNavigationTransition(se,"",Jr.SupersededByNewNavigation),this.currentTransition?.id===se.id&&(this.currentNavigation=null,this.currentTransition=null)}),qt(yt=>{if(Ot=!0,zo(yt))this.events.next(new Ti(se.id,this.urlSerializer.serialize(se.extractedUrl),yt.message,yt.cancellationCode)),function Do(I){return zo(I)&&Mr(I.url)}(yt)?this.events.next(new ro(yt.url,yt.navigationBehaviorOptions)):se.resolve(!1);else{const In=new Ss(se.id,this.urlSerializer.serialize(se.extractedUrl),yt,se.targetSnapshot??void 0);try{const or=(0,c.N4e)(this.environmentInjector,()=>this.navigationErrorHandler?.(In));if(or instanceof Zi){const{message:gr,cancellationCode:Hn}=Ji(0,or);this.events.next(new Ti(se.id,this.urlSerializer.serialize(se.extractedUrl),gr,Hn)),this.events.next(new ro(or.redirectTo,or.navigationBehaviorOptions))}else{this.events.next(In);const gr=T.errorHandler(yt);se.resolve(!!gr)}}catch(or){this.options.resolveNavigationPromiseOnError?se.resolve(!1):se.reject(or)}}return Qe.w}))}))}cancelNavigationTransition(T,b,$){const se=new Ti(T.id,this.urlSerializer.serialize(T.extractedUrl),b,$);this.events.next(se),T.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){const T=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),b=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return T.toString()!==b?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();function Rt(I){return I!==Xr}let Xt=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(li),providedIn:"root"})}}return I})();class Sn{shouldDetach(A){return!1}store(A,T){}shouldAttach(A){return!1}retrieve(A){return null}shouldReuseRoute(A,T){return A.routeConfig===T.routeConfig}}let li=(()=>{class I extends Sn{static{this.\u0275fac=(()=>{let T;return function($){return(T||(T=c.xGo(I)))($||I)}})()}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),ar=(()=>{class I{static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=c.jDH({token:I,factory:()=>(0,c.WQX)(ni),providedIn:"root"})}}return I})(),ni=(()=>{class I extends ar{constructor(){super(...arguments),this.location=(0,c.WQX)(ge.aZ),this.urlSerializer=(0,c.WQX)(bn),this.options=(0,c.WQX)(ps,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=(0,c.WQX)(Zo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Lt(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(T){return this.location.subscribe(b=>{"popstate"===b.type&&T(b.url,b.state)})}handleRouterEvent(T,b){if(T instanceof Bo)this.stateMemento=this.createStateMemento();else if(T instanceof Ci)this.rawUrlTree=b.initialUrl;else if(T instanceof Rs){if("eager"===this.urlUpdateStrategy&&!b.extras.skipLocationChange){const $=this.urlHandlingStrategy.merge(b.finalUrl,b.initialUrl);this.setBrowserUrl(b.targetBrowserUrl??$,b)}}else T instanceof ei?(this.currentUrlTree=b.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(b.finalUrl,b.initialUrl),this.routerState=b.targetRouterState,"deferred"===this.urlUpdateStrategy&&!b.extras.skipLocationChange&&this.setBrowserUrl(b.targetBrowserUrl??this.rawUrlTree,b)):T instanceof Ti&&(T.code===Jr.GuardRejected||T.code===Jr.NoDataFromResolver)?this.restoreHistory(b):T instanceof Ss?this.restoreHistory(b,!0):T instanceof ai&&(this.lastSuccessfulId=T.id,this.currentPageId=this.browserPageId)}setBrowserUrl(T,b){const $=T instanceof yr?this.urlSerializer.serialize(T):T;if(this.location.isCurrentPathEqualTo($)||b.extras.replaceUrl){const Ne={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId)};this.location.replaceState($,"",Ne)}else{const se={...b.extras.state,...this.generateNgRouterState(b.id,this.browserPageId+1)};this.location.go($,"",se)}}restoreHistory(T,b=!1){if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-this.browserPageId;0!==se?this.location.historyGo(se):this.currentUrlTree===T.finalUrl&&0===se&&(this.resetState(T),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(b&&this.resetState(T),this.resetUrlToCurrentUrlTree())}resetState(T){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,T.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(T,b){return"computed"===this.canceledNavigationResolution?{navigationId:T,\u0275routerPageId:b}:{navigationId:T}}static{this.\u0275fac=(()=>{let T;return function($){return(T||(T=c.xGo(I)))($||I)}})()}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();var cn=function(I){return I[I.COMPLETE=0]="COMPLETE",I[I.FAILED=1]="FAILED",I[I.REDIRECTING=2]="REDIRECTING",I}(cn||{});function Wr(I,A){I.events.pipe((0,Tt.p)(T=>T instanceof ai||T instanceof Ti||T instanceof Ss||T instanceof Ci),(0,me.T)(T=>T instanceof ai||T instanceof Ci?cn.COMPLETE:T instanceof Ti&&(T.code===Jr.Redirect||T.code===Jr.SupersededByNewNavigation)?cn.REDIRECTING:cn.FAILED),(0,Tt.p)(T=>T!==cn.REDIRECTING),(0,Ye.s)(1)).subscribe(()=>{A()})}function Sr(I){throw I}const bi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qs={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vi=(()=>{class I{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=(0,c.WQX)(c.H3F),this.stateManager=(0,c.WQX)(ar),this.options=(0,c.WQX)(ps,{optional:!0})||{},this.pendingTasks=(0,c.WQX)(c.TgB),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=(0,c.WQX)(De),this.urlSerializer=(0,c.WQX)(bn),this.location=(0,c.WQX)(ge.aZ),this.urlHandlingStrategy=(0,c.WQX)(Zo),this._events=new Je.B,this.errorHandler=this.options.errorHandler||Sr,this.navigated=!1,this.routeReuseStrategy=(0,c.WQX)(Xt),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=(0,c.WQX)(qs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!(0,c.WQX)(Qi,{optional:!0}),this.eventsSubscription=new rt.yU,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:T=>{this.console.warn(T)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const T=this.navigationTransitions.events.subscribe(b=>{try{const $=this.navigationTransitions.currentTransition,se=this.navigationTransitions.currentNavigation;if(null!==$&&null!==se)if(this.stateManager.handleRouterEvent(b,se),b instanceof Ti&&b.code!==Jr.Redirect&&b.code!==Jr.SupersededByNewNavigation)this.navigated=!0;else if(b instanceof ai)this.navigated=!0;else if(b instanceof ro){const Ne=b.navigationBehaviorOptions,Ot=this.urlHandlingStrategy.merge(b.url,$.currentRawUrl),yt={browserUrl:$.extras.browserUrl,info:$.extras.info,skipLocationChange:$.extras.skipLocationChange,replaceUrl:$.extras.replaceUrl||"eager"===this.urlUpdateStrategy||Rt($.source),...Ne};this.scheduleNavigation(Ot,Xr,null,yt,{resolve:$.resolve,reject:$.reject,promise:$.promise})}(function Ko(I){return!(I instanceof ei||I instanceof ro)})(b)&&this._events.next(b)}catch($){this.navigationTransitions.transitionAbortSubject.next($)}});this.eventsSubscription.add(T)}resetRootComponentType(T){this.routerState.root.component=T,this.navigationTransitions.rootComponentType=T}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Xr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((T,b)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(T,"popstate",b)},0)})}navigateToSyncWithBrowser(T,b,$){const se={replaceUrl:!0},Ne=$?.navigationId?$:null;if($){const yt={...$};delete yt.navigationId,delete yt.\u0275routerPageId,0!==Object.keys(yt).length&&(se.state=yt)}const Ot=this.parseUrl(T);this.scheduleNavigation(Ot,b,Ne,se)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(T){this.config=T.map(Ir),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(T,b={}){const{relativeTo:$,queryParams:se,fragment:Ne,queryParamsHandling:Ot,preserveFragment:yt}=b,In=yt?this.currentUrlTree.fragment:Ne;let gr,or=null;switch(Ot??this.options.defaultQueryParamsHandling){case"merge":or={...this.currentUrlTree.queryParams,...se};break;case"preserve":or=this.currentUrlTree.queryParams;break;default:or=se||null}null!==or&&(or=this.removeEmptyProps(or));try{gr=Vr($?$.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof T[0]||"/"!==T[0][0])&&(T=[]),gr=this.currentUrlTree.root}return Mi(gr,T,or,In??null)}navigateByUrl(T,b={skipLocationChange:!1}){const $=Mr(T)?T:this.parseUrl(T),se=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(se,Xr,null,b)}navigate(T,b={skipLocationChange:!1}){return function eo(I){for(let A=0;A<I.length;A++)if(null==I[A])throw new c.wOt(4008,!1)}(T),this.navigateByUrl(this.createUrlTree(T,b),b)}serializeUrl(T){return this.urlSerializer.serialize(T)}parseUrl(T){try{return this.urlSerializer.parse(T)}catch{return this.urlSerializer.parse("/")}}isActive(T,b){let $;if($=!0===b?{...bi}:!1===b?{...Qs}:b,Mr(T))return An(this.currentUrlTree,T,$);const se=this.parseUrl(T);return An(this.currentUrlTree,se,$)}removeEmptyProps(T){return Object.entries(T).reduce((b,[$,se])=>(null!=se&&(b[$]=se),b),{})}scheduleNavigation(T,b,$,se,Ne){if(this.disposed)return Promise.resolve(!1);let Ot,yt,In;Ne?(Ot=Ne.resolve,yt=Ne.reject,In=Ne.promise):In=new Promise((gr,Hn)=>{Ot=gr,yt=Hn});const or=this.pendingTasks.add();return Wr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(or))}),this.navigationTransitions.handleNavigationRequest({source:b,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:T,extras:se,resolve:Ot,reject:yt,promise:In,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),In.catch(gr=>Promise.reject(gr))}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),ho=(()=>{class I{constructor(T,b,$,se,Ne,Ot){this.router=T,this.route=b,this.tabIndexAttribute=$,this.renderer=se,this.el=Ne,this.locationStrategy=Ot,this.href=null,this.onChanges=new Je.B,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;const yt=Ne.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===yt||"area"===yt,this.isAnchorElement?this.subscription=T.events.subscribe(In=>{In instanceof ai&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(T){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",T)}ngOnChanges(T){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(T){null==T?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(this.routerLinkInput=Mr(T)||Array.isArray(T)?T:[T],this.setTabIndexIfNotOnNativeEl("0"))}onClick(T,b,$,se,Ne){const Ot=this.urlTree;return!!(null===Ot||this.isAnchorElement&&(0!==T||b||$||se||Ne||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(Ot,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const T=this.urlTree;this.href=null!==T&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(T)):null;const b=null===this.href?null:(0,c.n$t)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",b)}applyAttributeValue(T,b){const $=this.renderer,se=this.el.nativeElement;null!==b?$.setAttribute(se,T,b):$.removeAttribute(se,T)}get urlTree(){return null===this.routerLinkInput?null:Mr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(b){return new(b||I)(c.rXU(vi),c.rXU(Bt),c.kS0("tabindex"),c.rXU(c.sFG),c.rXU(c.aKT),c.rXU(ge.hb))}}static{this.\u0275dir=c.FsC({type:I,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(b,$){1&b&&c.bIt("click",function(Ne){return $.onClick(Ne.button,Ne.ctrlKey,Ne.shiftKey,Ne.altKey,Ne.metaKey)}),2&b&&c.BMQ("target",$.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",c.L39],skipLocationChange:[2,"skipLocationChange","skipLocationChange",c.L39],replaceUrl:[2,"replaceUrl","replaceUrl",c.L39],routerLink:"routerLink"},standalone:!0,features:[c.GFd,c.OA$]})}}return I})();class Dc{}let Ya=(()=>{class I{preload(T,b){return b().pipe(qt(()=>(0,ae.of)(null)))}static{this.\u0275fac=function(b){return new(b||I)}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})(),cr=(()=>{class I{constructor(T,b,$,se,Ne){this.router=T,this.injector=$,this.preloadingStrategy=se,this.loader=Ne}setUpPreloading(){this.subscription=this.router.events.pipe((0,Tt.p)(T=>T instanceof ai),Vt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(T,b){const $=[];for(const se of b){se.providers&&!se._injector&&(se._injector=(0,c.Ol2)(se.providers,T,`Route: ${se.path}`));const Ne=se._injector??T,Ot=se._loadedInjector??Ne;(se.loadChildren&&!se._loadedRoutes&&void 0===se.canLoad||se.loadComponent&&!se._loadedComponent)&&$.push(this.preloadConfig(Ne,se)),(se.children||se._loadedRoutes)&&$.push(this.processRoutes(Ot,se.children??se._loadedRoutes))}return(0,be.H)($).pipe((0,qe.U)())}preloadConfig(T,b){return this.preloadingStrategy.preload(b,()=>{let $;$=b.loadChildren&&void 0===b.canLoad?this.loader.loadChildren(T,b):(0,ae.of)(null);const se=$.pipe((0,Re.Z)(Ne=>null===Ne?(0,ae.of)(void 0):(b._loadedRoutes=Ne.routes,b._loadedInjector=Ne.injector,this.processRoutes(Ne.injector??T,Ne.routes))));if(b.loadComponent&&!b._loadedComponent){const Ne=this.loader.loadComponent(b);return(0,be.H)([se,Ne]).pipe((0,qe.U)())}return se})}static{this.\u0275fac=function(b){return new(b||I)(c.KVO(vi),c.KVO(c.Ql9),c.KVO(c.uvJ),c.KVO(Dc),c.KVO(Xs))}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac,providedIn:"root"})}}return I})();const Ns=new c.nKC("");let Rl=(()=>{class I{constructor(T,b,$,se,Ne={}){this.urlSerializer=T,this.transitions=b,this.viewportScroller=$,this.zone=se,this.options=Ne,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},Ne.scrollPositionRestoration||="disabled",Ne.anchorScrolling||="disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof Bo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=T.navigationTrigger,this.restoredId=T.restoredState?T.restoredState.navigationId:0):T instanceof ai?(this.lastId=T.id,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.urlAfterRedirects).fragment)):T instanceof Ci&&T.code===Gi.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(T,this.urlSerializer.parse(T.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(T=>{T instanceof ls&&(T.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(T.position):T.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(T.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(T,b){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new ls(T,"popstate"===this.lastSource?this.store[this.restoredId]:null,b))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(b){c.QTQ()}}static{this.\u0275prov=c.jDH({token:I,factory:I.\u0275fac})}}return I})();function vs(I,A){return{\u0275kind:I,\u0275providers:A}}function Po(){const I=(0,c.WQX)(c.zZn);return A=>{const T=I.get(c.o8S);if(A!==T.components[0])return;const b=I.get(vi),$=I.get(Os);1===I.get(tl)&&b.initialNavigation(),I.get(ys,null,c.$GK.Optional)?.setUpPreloading(),I.get(Ns,null,c.$GK.Optional)?.init(),b.resetRootComponentType(T.componentTypes[0]),$.closed||($.next(),$.complete(),$.unsubscribe())}}const Os=new c.nKC("",{factory:()=>new Je.B}),tl=new c.nKC("",{providedIn:"root",factory:()=>1}),ys=new c.nKC("");function nl(I){return vs(0,[{provide:ys,useExisting:cr},{provide:Dc,useExisting:I}])}function da(I){return vs(9,[{provide:Cc,useValue:Y},{provide:w,useValue:{skipNextTransition:!!I?.skipInitialTransition,...I}}])}const _s=new c.nKC("ROUTER_FORROOT_GUARD"),Pl=[ge.aZ,{provide:bn,useClass:tn},vi,ue,{provide:Bt,useFactory:function Za(I){return I.routerState.root},deps:[vi]},Xs,[]];let wc=(()=>{class I{constructor(T){}static forRoot(T,b){return{ngModule:I,providers:[Pl,[],{provide:qs,multi:!0,useValue:T},{provide:_s,useFactory:bu,deps:[[vi,new c.Xx1,new c.kdw]]},{provide:ps,useValue:b||{}},b?.useHash?{provide:ge.hb,useClass:ge.fw}:{provide:ge.hb,useClass:ge.Sm},{provide:Ns,useFactory:()=>{const I=(0,c.WQX)(ge.Xr),A=(0,c.WQX)(c.SKi),T=(0,c.WQX)(ps),b=(0,c.WQX)(De),$=(0,c.WQX)(bn);return T.scrollOffset&&I.setOffset(T.scrollOffset),new Rl($,b,I,A,T)}},b?.preloadingStrategy?nl(b.preloadingStrategy).\u0275providers:[],b?.initialNavigation?ha(b):[],b?.bindToComponentInputs?vs(8,[mi,{provide:Qi,useExisting:mi}]).\u0275providers:[],b?.enableViewTransitions?da().\u0275providers:[],[{provide:ks,useFactory:Po},{provide:c.iLQ,multi:!0,useExisting:ks}]]}}static forChild(T){return{ngModule:I,providers:[{provide:qs,multi:!0,useValue:T}]}}static{this.\u0275fac=function(b){return new(b||I)(c.KVO(_s,8))}}static{this.\u0275mod=c.$C({type:I})}static{this.\u0275inj=c.G2t({})}}return I})();function bu(I){return"guarded"}function ha(I){return["disabled"===I.initialNavigation?vs(3,[{provide:c.hnV,multi:!0,useFactory:()=>{const A=(0,c.WQX)(vi);return()=>{A.setUpLocationChangeListener()}}},{provide:tl,useValue:2}]).\u0275providers:[],"enabledBlocking"===I.initialNavigation?vs(2,[{provide:tl,useValue:0},{provide:c.hnV,multi:!0,deps:[c.zZn],useFactory:A=>{const T=A.get(ge.hj,Promise.resolve());return()=>T.then(()=>new Promise(b=>{const $=A.get(vi),se=A.get(Os);Wr($,()=>{b(!0)}),A.get(De).afterPreactivation=()=>(b(!0),se.closed?(0,ae.of)(void 0):se),$.initialNavigation()}))}}]).\u0275providers:[]]}const ks=new c.nKC("")},3345:(un,ft,O)=>{"use strict";O.d(ft,{A:()=>Qe});var c=O(1076),L=O(1362),ce=O(7852),Z=O(8041);class be{constructor(Ze,He){this._delegate=Ze,this.firebase=He,(0,ce._addComponent)(Ze,new L.uA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,ce.deleteApp)(this._delegate)))}_getService(Ze,He=ce._DEFAULT_ENTRY_NAME){var st;this._delegate.checkDestroyed();const pe=this._delegate.container.getProvider(Ze);return!pe.isInitialized()&&"EXPLICIT"===(null===(st=pe.getComponent())||void 0===st?void 0:st.instantiationMode)&&pe.initialize(),pe.getImmediate({identifier:He})}_removeServiceInstance(Ze,He=ce._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(He)}_addComponent(Ze){(0,ce._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,ce._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new c.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ye=function Ge(){const rt=function Fe(rt){const Ze={},He={__esModule:!0,initializeApp:function Je(Ye,Ue={}){const Tt=ce.initializeApp(Ye,Ue);if((0,c.gR)(Ze,Tt.name))return Ze[Tt.name];const Re=new rt(Tt,He);return Ze[Tt.name]=Re,Re},app:pe,registerVersion:ce.registerVersion,setLogLevel:ce.setLogLevel,onLog:ce.onLog,apps:null,SDK_VERSION:ce.SDK_VERSION,INTERNAL:{registerComponent:function me(Ye){const Ue=Ye.name,Tt=Ue.replace("-compat","");if(ce._registerComponent(Ye)&&"PUBLIC"===Ye.type){const Re=(Ft=pe())=>{if("function"!=typeof Ft[Tt])throw Ae.create("invalid-app-argument",{appName:Ue});return Ft[Tt]()};void 0!==Ye.serviceProps&&(0,c.zw)(Re,Ye.serviceProps),He[Tt]=Re,rt.prototype[Tt]=function(...Ft){return this._getService.bind(this,Ue).apply(this,Ye.multipleInstances?Ft:[])}}return"PUBLIC"===Ye.type?He[Tt]:null},removeApp:function st(Ye){delete Ze[Ye]},useAsService:function je(Ye,Ue){return"serverAuth"===Ue?null:Ue},modularAPIs:ce}};function pe(Ye){if(!(0,c.gR)(Ze,Ye=Ye||ce._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Ye});return Ze[Ye]}return He.default=He,Object.defineProperty(He,"apps",{get:function ge(){return Object.keys(Ze).map(Ye=>Ze[Ye])}}),pe.App=rt,He}(be);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:Ge,extendNamespace:function Ze(He){(0,c.zw)(rt,He)},createSubscribe:c.tD,ErrorFactory:c.FA,deepExtend:c.zw}),rt}(),le=new Z.Vy("@firebase/app-compat");try{const rt=(0,c.mS)();if(void 0!==rt.firebase){le.warn("\n      Warning: Firebase is already defined in the global scope. Please make sure\n      Firebase library is only loaded once.\n    ");const Ze=rt.firebase.SDK_VERSION;Ze&&Ze.indexOf("LITE")>=0&&le.warn("\n        Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n        ")}}catch{}const Qe=ye;!function ke(rt){(0,ce.registerVersion)("@firebase/app-compat","0.2.41",rt)}()},7852:(un,ft,O)=>{"use strict";O.r(ft),O.d(ft,{FirebaseError:()=>Z.g,SDK_VERSION:()=>on,_DEFAULT_ENTRY_NAME:()=>Mn,_addComponent:()=>yr,_addOrOverwriteComponent:()=>Jn,_apps:()=>kt,_clearComponents:()=>tn,_components:()=>pr,_getProvider:()=>Nn,_isFirebaseApp:()=>Ri,_isFirebaseServerApp:()=>bn,_registerComponent:()=>Rr,_removeServiceInstance:()=>ir,_serverApps:()=>vr,deleteApp:()=>Me,getApp:()=>bt,getApps:()=>Dt,initializeApp:()=>Kr,initializeServerApp:()=>Zr,onLog:()=>Ee,registerVersion:()=>Ut,setLogLevel:()=>Te});var c=O(467),L=O(1362),ce=O(8041),Z=O(1076);const be=(te,X)=>X.some(U=>te instanceof U);let ae,Ae;const ye=new WeakMap,le=new WeakMap,Oe=new WeakMap,Ve=new WeakMap,ke=new WeakMap;let Ze={get(te,X,U){if(te instanceof IDBTransaction){if("done"===X)return le.get(te);if("objectStoreNames"===X)return te.objectStoreNames||Oe.get(te);if("store"===X)return U.objectStoreNames[1]?void 0:U.objectStore(U.objectStoreNames[0])}return Je(te[X])},set:(te,X,U)=>(te[X]=U,!0),has:(te,X)=>te instanceof IDBTransaction&&("done"===X||"store"===X)||X in te};function pe(te){return"function"==typeof te?function st(te){return te!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ge(){return Ae||(Ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(te)?function(...X){return te.apply(ge(this),X),Je(ye.get(this))}:function(...X){return Je(te.apply(ge(this),X))}:function(X,...U){const ee=te.call(ge(this),X,...U);return Oe.set(ee,X.sort?X.sort():[X]),Je(ee)}}(te):(te instanceof IDBTransaction&&function rt(te){if(le.has(te))return;const X=new Promise((U,ee)=>{const Le=()=>{te.removeEventListener("complete",de),te.removeEventListener("error",tt),te.removeEventListener("abort",tt)},de=()=>{U(),Le()},tt=()=>{ee(te.error||new DOMException("AbortError","AbortError")),Le()};te.addEventListener("complete",de),te.addEventListener("error",tt),te.addEventListener("abort",tt)});le.set(te,X)}(te),be(te,function Fe(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(te,Ze):te)}function Je(te){if(te instanceof IDBRequest)return function Qe(te){const X=new Promise((U,ee)=>{const Le=()=>{te.removeEventListener("success",de),te.removeEventListener("error",tt)},de=()=>{U(Je(te.result)),Le()},tt=()=>{ee(te.error),Le()};te.addEventListener("success",de),te.addEventListener("error",tt)});return X.then(U=>{U instanceof IDBCursor&&ye.set(U,te)}).catch(()=>{}),ke.set(X,te),X}(te);if(Ve.has(te))return Ve.get(te);const X=pe(te);return X!==te&&(Ve.set(te,X),ke.set(X,te)),X}const ge=te=>ke.get(te),Ye=["get","getKey","getAll","getAllKeys","count"],Ue=["put","add","delete","clear"],Tt=new Map;function Re(te,X){if(!(te instanceof IDBDatabase)||X in te||"string"!=typeof X)return;if(Tt.get(X))return Tt.get(X);const U=X.replace(/FromIndex$/,""),ee=X!==U,Le=Ue.includes(U);if(!(U in(ee?IDBIndex:IDBObjectStore).prototype)||!Le&&!Ye.includes(U))return;const de=function(){var tt=(0,c.A)(function*(Nt,...sn){const kn=this.transaction(Nt,Le?"readwrite":"readonly");let ur=kn.store;return ee&&(ur=ur.index(sn.shift())),(yield Promise.all([ur[U](...sn),Le&&kn.done]))[0]});return function(sn){return tt.apply(this,arguments)}}();return Tt.set(X,de),de}!function He(te){Ze=te(Ze)}(te=>({...te,get:(X,U,ee)=>Re(X,U)||te.get(X,U,ee),has:(X,U)=>!!Re(X,U)||te.has(X,U)}));class Ft{constructor(X){this.container=X}getPlatformInfoString(){return this.container.getProviders().map(U=>{if(function Vt(te){const X=te.getComponent();return"VERSION"===X?.type}(U)){const ee=U.getImmediate();return`${ee.library}/${ee.version}`}return null}).filter(U=>U).join(" ")}}const pn="@firebase/app",qt="0.10.11",vn=new ce.Vy("@firebase/app"),pt="@firebase/app-compat",_e="@firebase/analytics-compat",q="@firebase/analytics",Q="@firebase/app-check-compat",re="@firebase/app-check",we="@firebase/auth",gt="@firebase/auth-compat",Ie="@firebase/database",ht="@firebase/database-compat",qe="@firebase/functions",en="@firebase/functions-compat",Mt="@firebase/installations",ut="@firebase/installations-compat",Jt="@firebase/messaging",Cn="@firebase/messaging-compat",Dn="@firebase/performance",Ht="@firebase/performance-compat",$t="@firebase/remote-config",Bn="@firebase/remote-config-compat",xt="@firebase/storage",Se="@firebase/storage-compat",Pe="@firebase/firestore",_t="@firebase/vertexai-preview",nn="@firebase/firestore-compat",An="firebase",Mn="[DEFAULT]",yn={[pn]:"fire-core",[pt]:"fire-core-compat",[q]:"fire-analytics",[_e]:"fire-analytics-compat",[re]:"fire-app-check",[Q]:"fire-app-check-compat",[we]:"fire-auth",[gt]:"fire-auth-compat",[Ie]:"fire-rtdb",[ht]:"fire-rtdb-compat",[qe]:"fire-fn",[en]:"fire-fn-compat",[Mt]:"fire-iid",[ut]:"fire-iid-compat",[Jt]:"fire-fcm",[Cn]:"fire-fcm-compat",[Dn]:"fire-perf",[Ht]:"fire-perf-compat",[$t]:"fire-rc",[Bn]:"fire-rc-compat",[xt]:"fire-gcs",[Se]:"fire-gcs-compat",[Pe]:"fire-fst",[nn]:"fire-fst-compat",[_t]:"fire-vertex","fire-js":"fire-js",[An]:"fire-js-all"},kt=new Map,vr=new Map,pr=new Map;function yr(te,X){try{te.container.addComponent(X)}catch(U){vn.debug(`Component ${X.name} failed to register with FirebaseApp ${te.name}`,U)}}function Jn(te,X){te.container.addOrOverwriteComponent(X)}function Rr(te){const X=te.name;if(pr.has(X))return vn.debug(`There were multiple attempts to register component ${X}.`),!1;pr.set(X,te);for(const U of kt.values())yr(U,te);for(const U of vr.values())yr(U,te);return!0}function Nn(te,X){const U=te.container.getProvider("heartbeat").getImmediate({optional:!0});return U&&U.triggerHeartbeat(),te.container.getProvider(X)}function ir(te,X,U=Mn){Nn(te,X).clearInstance(U)}function Ri(te){return void 0!==te.options}function bn(te){return void 0!==te.settings}function tn(){pr.clear()}const xn=new Z.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class ri{constructor(X,U,ee){this._isDeleted=!1,this._options=Object.assign({},X),this._config=Object.assign({},U),this._name=U.name,this._automaticDataCollectionEnabled=U.automaticDataCollectionEnabled,this._container=ee,this.container.addComponent(new L.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(X){this.checkDestroyed(),this._automaticDataCollectionEnabled=X}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(X){this._isDeleted=X}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}class lr extends ri{constructor(X,U,ee,Le){const de=void 0!==U.automaticDataCollectionEnabled&&U.automaticDataCollectionEnabled,tt={name:ee,automaticDataCollectionEnabled:de};super(void 0!==X.apiKey?X:X.options,tt,Le),this._serverConfig=Object.assign({automaticDataCollectionEnabled:de},U),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,U.releaseOnDeref=void 0,Ut(pn,qt,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(X){this.isDeleted||(this._refCount++,void 0!==X&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(X,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){Me(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw xn.create("server-app-deleted")}}const on="10.13.2";function Kr(te,X={}){let U=te;"object"!=typeof X&&(X={name:X});const ee=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},X),Le=ee.name;if("string"!=typeof Le||!Le)throw xn.create("bad-app-name",{appName:String(Le)});if(U||(U=(0,Z.T9)()),!U)throw xn.create("no-options");const de=kt.get(Le);if(de){if((0,Z.bD)(U,de.options)&&(0,Z.bD)(ee,de.config))return de;throw xn.create("duplicate-app",{appName:Le})}const tt=new L.h1(Le);for(const sn of pr.values())tt.addComponent(sn);const Nt=new ri(U,ee,tt);return kt.set(Le,Nt),Nt}function Zr(te,X){if((0,Z.Bd)()&&!(0,Z.p7)())throw xn.create("invalid-server-app-environment");let U;void 0===X.automaticDataCollectionEnabled&&(X.automaticDataCollectionEnabled=!1),U=Ri(te)?te.options:te;const ee=Object.assign(Object.assign({},X),U);if(void 0!==ee.releaseOnDeref&&delete ee.releaseOnDeref,void 0!==X.releaseOnDeref&&typeof FinalizationRegistry>"u")throw xn.create("finalization-registry-not-supported",{});const de=""+(kn=JSON.stringify(ee),[...kn].reduce((ur,Kn)=>Math.imul(31,ur)+Kn.charCodeAt(0)|0,0)),tt=vr.get(de);var kn;if(tt)return tt.incRefCount(X.releaseOnDeref),tt;const Nt=new L.h1(de);for(const kn of pr.values())Nt.addComponent(kn);const sn=new lr(U,X,de,Nt);return vr.set(de,sn),sn}function bt(te=Mn){const X=kt.get(te);if(!X&&te===Mn&&(0,Z.T9)())return Kr();if(!X)throw xn.create("no-app",{appName:te});return X}function Dt(){return Array.from(kt.values())}function Me(te){return lt.apply(this,arguments)}function lt(){return(lt=(0,c.A)(function*(te){let X=!1;const U=te.name;kt.has(U)?(X=!0,kt.delete(U)):vr.has(U)&&te.decRefCount()<=0&&(vr.delete(U),X=!0),X&&(yield Promise.all(te.container.getProviders().map(ee=>ee.delete())),te.isDeleted=!0)})).apply(this,arguments)}function Ut(te,X,U){var ee;let Le=null!==(ee=yn[te])&&void 0!==ee?ee:te;U&&(Le+=`-${U}`);const de=Le.match(/\s|\//),tt=X.match(/\s|\//);if(de||tt){const Nt=[`Unable to register library "${Le}" with version "${X}":`];return de&&Nt.push(`library name "${Le}" contains illegal characters (whitespace or "/")`),de&&tt&&Nt.push("and"),tt&&Nt.push(`version name "${X}" contains illegal characters (whitespace or "/")`),void vn.warn(Nt.join(" "))}Rr(new L.uA(`${Le}-version`,()=>({library:Le,version:X}),"VERSION"))}function Ee(te,X){if(null!==te&&"function"!=typeof te)throw xn.create("invalid-log-argument");(0,ce.Ey)(te,X)}function Te(te){(0,ce.He)(te)}const Be="firebase-heartbeat-database",St=1,dt="firebase-heartbeat-store";let gn=null;function dn(){return gn||(gn=function me(te,X,{blocked:U,upgrade:ee,blocking:Le,terminated:de}={}){const tt=indexedDB.open(te,X),Nt=Je(tt);return ee&&tt.addEventListener("upgradeneeded",sn=>{ee(Je(tt.result),sn.oldVersion,sn.newVersion,Je(tt.transaction),sn)}),U&&tt.addEventListener("blocked",sn=>U(sn.oldVersion,sn.newVersion,sn)),Nt.then(sn=>{de&&sn.addEventListener("close",()=>de()),Le&&sn.addEventListener("versionchange",kn=>Le(kn.oldVersion,kn.newVersion,kn))}).catch(()=>{}),Nt}(Be,St,{upgrade:(te,X)=>{if(0===X)try{te.createObjectStore(dt)}catch(U){console.warn(U)}}}).catch(te=>{throw xn.create("idb-open",{originalErrorMessage:te.message})})),gn}function at(){return(at=(0,c.A)(function*(te){try{const U=(yield dn()).transaction(dt),ee=yield U.objectStore(dt).get($n(te));return yield U.done,ee}catch(X){if(X instanceof Z.g)vn.warn(X.message);else{const U=xn.create("idb-get",{originalErrorMessage:X?.message});vn.warn(U.message)}}})).apply(this,arguments)}function er(te,X){return qn.apply(this,arguments)}function qn(){return(qn=(0,c.A)(function*(te,X){try{const ee=(yield dn()).transaction(dt,"readwrite");yield ee.objectStore(dt).put(X,$n(te)),yield ee.done}catch(U){if(U instanceof Z.g)vn.warn(U.message);else{const ee=xn.create("idb-set",{originalErrorMessage:U?.message});vn.warn(ee.message)}}})).apply(this,arguments)}function $n(te){return`${te.name}!${te.options.appId}`}class Vr{constructor(X){this.container=X,this._heartbeatsCache=null;const U=this.container.getProvider("app").getImmediate();this._storage=new Ii(U),this._heartbeatsCachePromise=this._storage.read().then(ee=>(this._heartbeatsCache=ee,ee))}triggerHeartbeat(){var X=this;return(0,c.A)(function*(){var U,ee;try{const de=X.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tt=Mi();return null==(null===(U=X._heartbeatsCache)||void 0===U?void 0:U.heartbeats)&&(X._heartbeatsCache=yield X._heartbeatsCachePromise,null==(null===(ee=X._heartbeatsCache)||void 0===ee?void 0:ee.heartbeats))||X._heartbeatsCache.lastSentHeartbeatDate===tt||X._heartbeatsCache.heartbeats.some(Nt=>Nt.date===tt)?void 0:(X._heartbeatsCache.heartbeats.push({date:tt,agent:de}),X._heartbeatsCache.heartbeats=X._heartbeatsCache.heartbeats.filter(Nt=>{const sn=new Date(Nt.date).valueOf();return Date.now()-sn<=2592e6}),X._storage.overwrite(X._heartbeatsCache))}catch(Le){vn.warn(Le)}})()}getHeartbeatsHeader(){var X=this;return(0,c.A)(function*(){var U;try{if(null===X._heartbeatsCache&&(yield X._heartbeatsCachePromise),null==(null===(U=X._heartbeatsCache)||void 0===U?void 0:U.heartbeats)||0===X._heartbeatsCache.heartbeats.length)return"";const ee=Mi(),{heartbeatsToSend:Le,unsentEntries:de}=function Hr(te,X=1024){const U=[];let ee=te.slice();for(const Le of te){const de=U.find(tt=>tt.agent===Le.agent);if(de){if(de.dates.push(Le.date),Ni(U)>X){de.dates.pop();break}}else if(U.push({agent:Le.agent,dates:[Le.date]}),Ni(U)>X){U.pop();break}ee=ee.slice(1)}return{heartbeatsToSend:U,unsentEntries:ee}}(X._heartbeatsCache.heartbeats),tt=(0,Z.Uj)(JSON.stringify({version:2,heartbeats:Le}));return X._heartbeatsCache.lastSentHeartbeatDate=ee,de.length>0?(X._heartbeatsCache.heartbeats=de,yield X._storage.overwrite(X._heartbeatsCache)):(X._heartbeatsCache.heartbeats=[],X._storage.overwrite(X._heartbeatsCache)),tt}catch(ee){return vn.warn(ee),""}})()}}function Mi(){return(new Date).toISOString().substring(0,10)}class Ii{constructor(X){this.app=X,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.A)(function*(){return!!(0,Z.zW)()&&(0,Z.eX)().then(()=>!0).catch(()=>!1)})()}read(){var X=this;return(0,c.A)(function*(){if(yield X._canUseIndexedDBPromise){const ee=yield function Cr(te){return at.apply(this,arguments)}(X.app);return ee?.heartbeats?ee:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(X){var U=this;return(0,c.A)(function*(){var ee;if(yield U._canUseIndexedDBPromise){const de=yield U.read();return er(U.app,{lastSentHeartbeatDate:null!==(ee=X.lastSentHeartbeatDate)&&void 0!==ee?ee:de.lastSentHeartbeatDate,heartbeats:X.heartbeats})}})()}add(X){var U=this;return(0,c.A)(function*(){var ee;if(yield U._canUseIndexedDBPromise){const de=yield U.read();return er(U.app,{lastSentHeartbeatDate:null!==(ee=X.lastSentHeartbeatDate)&&void 0!==ee?ee:de.lastSentHeartbeatDate,heartbeats:[...de.heartbeats,...X.heartbeats]})}})()}}function Ni(te){return(0,Z.Uj)(JSON.stringify({version:2,heartbeats:te})).length}!function Bi(te){Rr(new L.uA("platform-logger",X=>new Ft(X),"PRIVATE")),Rr(new L.uA("heartbeat",X=>new Vr(X),"PRIVATE")),Ut(pn,qt,te),Ut(pn,qt,"esm2017"),Ut("fire-js","")}("")},1362:(un,ft,O)=>{"use strict";O.d(ft,{h1:()=>Fe,uA:()=>ce});var c=O(467),L=O(1076);class ce{constructor(ye,le,Oe){this.name=ye,this.instanceFactory=le,this.type=Oe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ye){return this.instantiationMode=ye,this}setMultipleInstances(ye){return this.multipleInstances=ye,this}setServiceProps(ye){return this.serviceProps=ye,this}setInstanceCreatedCallback(ye){return this.onInstanceCreated=ye,this}}const Z="[DEFAULT]";class be{constructor(ye,le){this.name=ye,this.container=le,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ye){const le=this.normalizeInstanceIdentifier(ye);if(!this.instancesDeferred.has(le)){const Oe=new L.cY;if(this.instancesDeferred.set(le,Oe),this.isInitialized(le)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:le});Ve&&Oe.resolve(Ve)}catch{}}return this.instancesDeferred.get(le).promise}getImmediate(ye){var le;const Oe=this.normalizeInstanceIdentifier(ye?.identifier),Ve=null!==(le=ye?.optional)&&void 0!==le&&le;if(!this.isInitialized(Oe)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Oe})}catch(ke){if(Ve)return null;throw ke}}getComponent(){return this.component}setComponent(ye){if(ye.name!==this.name)throw Error(`Mismatching Component ${ye.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ye,this.shouldAutoInitialize()){if(function Ae(Ge){return"EAGER"===Ge.instantiationMode}(ye))try{this.getOrInitializeService({instanceIdentifier:Z})}catch{}for(const[le,Oe]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(le);try{const ke=this.getOrInitializeService({instanceIdentifier:Ve});Oe.resolve(ke)}catch{}}}}clearInstance(ye=Z){this.instancesDeferred.delete(ye),this.instancesOptions.delete(ye),this.instances.delete(ye)}delete(){var ye=this;return(0,c.A)(function*(){const le=Array.from(ye.instances.values());yield Promise.all([...le.filter(Oe=>"INTERNAL"in Oe).map(Oe=>Oe.INTERNAL.delete()),...le.filter(Oe=>"_delete"in Oe).map(Oe=>Oe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ye=Z){return this.instances.has(ye)}getOptions(ye=Z){return this.instancesOptions.get(ye)||{}}initialize(ye={}){const{options:le={}}=ye,Oe=this.normalizeInstanceIdentifier(ye.instanceIdentifier);if(this.isInitialized(Oe))throw Error(`${this.name}(${Oe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:Oe,options:le});for(const[ke,Qe]of this.instancesDeferred.entries())Oe===this.normalizeInstanceIdentifier(ke)&&Qe.resolve(Ve);return Ve}onInit(ye,le){var Oe;const Ve=this.normalizeInstanceIdentifier(le),ke=null!==(Oe=this.onInitCallbacks.get(Ve))&&void 0!==Oe?Oe:new Set;ke.add(ye),this.onInitCallbacks.set(Ve,ke);const Qe=this.instances.get(Ve);return Qe&&ye(Qe,Ve),()=>{ke.delete(ye)}}invokeOnInitCallbacks(ye,le){const Oe=this.onInitCallbacks.get(le);if(Oe)for(const Ve of Oe)try{Ve(ye,le)}catch{}}getOrInitializeService({instanceIdentifier:ye,options:le={}}){let Oe=this.instances.get(ye);if(!Oe&&this.component&&(Oe=this.component.instanceFactory(this.container,{instanceIdentifier:(Ge=ye,Ge===Z?void 0:Ge),options:le}),this.instances.set(ye,Oe),this.instancesOptions.set(ye,le),this.invokeOnInitCallbacks(Oe,ye),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ye,Oe)}catch{}var Ge;return Oe||null}normalizeInstanceIdentifier(ye=Z){return this.component?this.component.multipleInstances?ye:Z:ye}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Fe{constructor(ye){this.name=ye,this.providers=new Map}addComponent(ye){const le=this.getProvider(ye.name);if(le.isComponentSet())throw new Error(`Component ${ye.name} has already been registered with ${this.name}`);le.setComponent(ye)}addOrOverwriteComponent(ye){this.getProvider(ye.name).isComponentSet()&&this.providers.delete(ye.name),this.addComponent(ye)}getProvider(ye){if(this.providers.has(ye))return this.providers.get(ye);const le=new be(ye,this);return this.providers.set(ye,le),le}getProviders(){return Array.from(this.providers.values())}}},8041:(un,ft,O)=>{"use strict";O.d(ft,{$b:()=>L,Ey:()=>Ge,He:()=>Fe,Vy:()=>Ae});const c=[];var L=function(ye){return ye[ye.DEBUG=0]="DEBUG",ye[ye.VERBOSE=1]="VERBOSE",ye[ye.INFO=2]="INFO",ye[ye.WARN=3]="WARN",ye[ye.ERROR=4]="ERROR",ye[ye.SILENT=5]="SILENT",ye}(L||{});const ce={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},Z=L.INFO,be={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},ae=(ye,le,...Oe)=>{if(le<ye.logLevel)return;const Ve=(new Date).toISOString(),ke=be[le];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${le})`);console[ke](`[${Ve}]  ${ye.name}:`,...Oe)};class Ae{constructor(le){this.name=le,this._logLevel=Z,this._logHandler=ae,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(le){if(!(le in L))throw new TypeError(`Invalid value "${le}" assigned to \`logLevel\``);this._logLevel=le}setLogLevel(le){this._logLevel="string"==typeof le?ce[le]:le}get logHandler(){return this._logHandler}set logHandler(le){if("function"!=typeof le)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=le}get userLogHandler(){return this._userLogHandler}set userLogHandler(le){this._userLogHandler=le}debug(...le){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...le),this._logHandler(this,L.DEBUG,...le)}log(...le){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...le),this._logHandler(this,L.VERBOSE,...le)}info(...le){this._userLogHandler&&this._userLogHandler(this,L.INFO,...le),this._logHandler(this,L.INFO,...le)}warn(...le){this._userLogHandler&&this._userLogHandler(this,L.WARN,...le),this._logHandler(this,L.WARN,...le)}error(...le){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...le),this._logHandler(this,L.ERROR,...le)}}function Fe(ye){c.forEach(le=>{le.setLogLevel(ye)})}function Ge(ye,le){for(const Oe of c){let Ve=null;le&&le.level&&(Ve=ce[le.level]),Oe.userLogHandler=null===ye?null:(ke,Qe,...rt)=>{const Ze=rt.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch{return null}}).filter(He=>He).join(" ");Qe>=(Ve??ke.logLevel)&&ye({level:L[Qe].toLowerCase(),message:Ze,args:rt,type:ke.name})}}}},2872:(un,ft,O)=>{"use strict";O.d(ft,{Yq:()=>xt,TS:()=>Dn,sR:()=>Ht,el:()=>gn,Sb:()=>Ri,QE:()=>qn,CF:()=>Rr,Rg:()=>lt,p4:()=>$n,jM:()=>Ni,q9:()=>Mt,Kb:()=>Bi,CE:()=>dn,pF:()=>Cr,fL:()=>qr,YV:()=>Be,er:()=>Mr,z3:()=>Vr});var c=O(467),L=O(3953),ce=O(4964),Z=O(177),be=O(5531),ae=O(4442);var Re=O(1413),Ft=O(3726),Vt=O(4412),pn=O(4572),qt=O(7673),vn=O(1635),pt=O(5964),_e=O(5558),q=O(3294),Q=O(4341);const re=["tabsInner"];let ht=(()=>{class te{doc;_readyPromise;win;backButton=new Re.B;keyboardDidShow=new Re.B;keyboardDidHide=new Re.B;pause=new Re.B;resume=new Re.B;resize=new Re.B;constructor(U,ee){this.doc=U,ee.run(()=>{let Le;this.win=U.defaultView,this.backButton.subscribeWithPriority=function(de,tt){return this.subscribe(Nt=>Nt.register(de,sn=>ee.run(()=>tt(sn))))},en(this.pause,U,"pause",ee),en(this.resume,U,"resume",ee),en(this.backButton,U,"ionBackButton",ee),en(this.resize,this.win,"resize",ee),en(this.keyboardDidShow,this.win,"ionKeyboardDidShow",ee),en(this.keyboardDidHide,this.win,"ionKeyboardDidHide",ee),this._readyPromise=new Promise(de=>{Le=de}),this.win?.cordova?U.addEventListener("deviceready",()=>{Le("cordova")},{once:!0}):Le("dom")})}is(U){return(0,be.a)(this.win,U)}platforms(){return(0,be.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(U){return qe(this.win.location.href,U)}isLandscape(){return!this.isPortrait()}isPortrait(){return this.win.matchMedia?.("(orientation: portrait)").matches}testUserAgent(U){const ee=this.win.navigator;return!!(ee?.userAgent&&ee.userAgent.indexOf(U)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}static \u0275fac=function(ee){return new(ee||te)(L.KVO(Z.qQ),L.KVO(L.SKi))};static \u0275prov=L.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();const qe=(te,X)=>{X=X.replace(/[[\]\\]/g,"\\$&");const ee=new RegExp("[\\?&]"+X+"=([^&#]*)").exec(te);return ee?decodeURIComponent(ee[1].replace(/\+/g," ")):null},en=(te,X,U,ee)=>{X&&X.addEventListener(U,Le=>{ee.run(()=>{const de=Le?.detail;te.next(de)})})};let Mt=(()=>{class te{location;serializer;router;topOutlet;direction=Jt;animated=Cn;animationBuilder;guessDirection="forward";guessAnimation;lastNavId=-1;constructor(U,ee,Le,de){this.location=ee,this.serializer=Le,this.router=de,de&&de.events.subscribe(tt=>{if(tt instanceof ce.Z){const Nt=tt.restoredState?tt.restoredState.navigationId:tt.id;this.guessDirection=this.guessAnimation=Nt<this.lastNavId?"back":"forward",this.lastNavId="forward"===this.guessDirection?tt.id:Nt}}),U.backButton.subscribeWithPriority(0,tt=>{this.pop(),tt()})}navigateForward(U,ee={}){return this.setDirection("forward",ee.animated,ee.animationDirection,ee.animation),this.navigate(U,ee)}navigateBack(U,ee={}){return this.setDirection("back",ee.animated,ee.animationDirection,ee.animation),this.navigate(U,ee)}navigateRoot(U,ee={}){return this.setDirection("root",ee.animated,ee.animationDirection,ee.animation),this.navigate(U,ee)}back(U={animated:!0,animationDirection:"back"}){return this.setDirection("back",U.animated,U.animationDirection,U.animation),this.location.back()}pop(){var U=this;return(0,c.A)(function*(){let ee=U.topOutlet;for(;ee;){if(yield ee.pop())return!0;ee=ee.parentOutlet}return!1})()}setDirection(U,ee,Le,de){this.direction=U,this.animated=ut(U,ee,Le),this.animationBuilder=de}setTopOutlet(U){this.topOutlet=U}consumeTransition(){let ee,U="root";const Le=this.animationBuilder;return"auto"===this.direction?(U=this.guessDirection,ee=this.guessAnimation):(ee=this.animated,U=this.direction),this.direction=Jt,this.animated=Cn,this.animationBuilder=void 0,{direction:U,animation:ee,animationBuilder:Le}}navigate(U,ee){if(Array.isArray(U))return this.router.navigate(U,ee);{const Le=this.serializer.parse(U.toString());return void 0!==ee.queryParams&&(Le.queryParams={...ee.queryParams}),void 0!==ee.fragment&&(Le.fragment=ee.fragment),this.router.navigateByUrl(Le,ee)}}static \u0275fac=function(ee){return new(ee||te)(L.KVO(ht),L.KVO(Z.aZ),L.KVO(ce.Sd),L.KVO(ce.Ix,8))};static \u0275prov=L.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();const ut=(te,X,U)=>{if(!1!==X){if(void 0!==U)return U;if("forward"===te||"back"===te)return te;if("root"===te&&!0===X)return"forward"}},Jt="auto",Cn=void 0;let Dn=(()=>{class te{get(U,ee){const Le=$t();return Le?Le.get(U,ee):null}getBoolean(U,ee){const Le=$t();return!!Le&&Le.getBoolean(U,ee)}getNumber(U,ee){const Le=$t();return Le?Le.getNumber(U,ee):0}static \u0275fac=function(ee){return new(ee||te)};static \u0275prov=L.jDH({token:te,factory:te.\u0275fac,providedIn:"root"})}return te})();const Ht=new L.nKC("USERCONFIG"),$t=()=>{if(typeof window<"u"){const te=window.Ionic;if(te?.config)return te.config}return null};class Bn{data;constructor(X={}){this.data=X,console.warn("[Ionic Warning]: NavParams has been deprecated in favor of using Angular's input API. Developers should migrate to either the @Input decorator or the Signals-based input API.")}get(X){return this.data[X]}}let xt=(()=>{class te{zone=(0,L.WQX)(L.SKi);applicationRef=(0,L.WQX)(L.o8S);config=(0,L.WQX)(Ht);create(U,ee,Le){return new Se(U,ee,this.applicationRef,this.zone,Le,this.config.useSetInputAPI??!1)}static \u0275fac=function(ee){return new(ee||te)};static \u0275prov=L.jDH({token:te,factory:te.\u0275fac})}return te})();class Se{environmentInjector;injector;applicationRef;zone;elementReferenceKey;enableSignalsSupport;elRefMap=new WeakMap;elEventsMap=new WeakMap;constructor(X,U,ee,Le,de,tt){this.environmentInjector=X,this.injector=U,this.applicationRef=ee,this.zone=Le,this.elementReferenceKey=de,this.enableSignalsSupport=tt}attachViewToDom(X,U,ee,Le){return this.zone.run(()=>new Promise(de=>{const tt={...ee};void 0!==this.elementReferenceKey&&(tt[this.elementReferenceKey]=X),de(Pe(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,X,U,tt,Le,this.elementReferenceKey,this.enableSignalsSupport))}))}removeViewFromDom(X,U){return this.zone.run(()=>new Promise(ee=>{const Le=this.elRefMap.get(U);if(Le){Le.destroy(),this.elRefMap.delete(U);const de=this.elEventsMap.get(U);de&&(de(),this.elEventsMap.delete(U))}ee()}))}}const Pe=(te,X,U,ee,Le,de,tt,Nt,sn,kn,ur,Kn)=>{const Oi=L.zZn.create({providers:hr(sn),parent:U}),Xr=(0,L.a0P)(Nt,{environmentInjector:X,elementInjector:Oi}),sr=Xr.instance,ii=Xr.location.nativeElement;if(sn)if(ur&&void 0!==sr[ur]&&console.error(`[Ionic Error]: ${ur} is a reserved property when using ${tt.tagName.toLowerCase()}. Rename or remove the "${ur}" property from ${Nt.name}.`),!0===Kn&&void 0!==Xr.setInput){const{modal:ai,popover:Jr,...Gi}=sn;for(const Ti in Gi)Xr.setInput(Ti,Gi[Ti]);void 0!==ai&&Object.assign(sr,{modal:ai}),void 0!==Jr&&Object.assign(sr,{popover:Jr})}else Object.assign(sr,sn);if(kn)for(const ai of kn)ii.classList.add(ai);const Bo=nn(te,sr,ii);return tt.appendChild(ii),ee.attachView(Xr.hostView),Le.set(ii,Xr),de.set(ii,Bo),ii},_t=[ae.L,ae.a,ae.b,ae.c,ae.d],nn=(te,X,U)=>te.run(()=>{const ee=_t.filter(Le=>"function"==typeof X[Le]).map(Le=>{const de=tt=>X[Le](tt.detail);return U.addEventListener(Le,de),()=>U.removeEventListener(Le,de)});return()=>ee.forEach(Le=>Le())}),An=new L.nKC("NavParamsToken"),hr=te=>[{provide:An,useValue:te},{provide:Bn,useFactory:Mn,deps:[An]}],Mn=te=>new Bn(te),yn=(te,X)=>{const U=te.prototype;X.forEach(ee=>{Object.defineProperty(U,ee,{get(){return this.el[ee]},set(Le){this.z.runOutsideAngular(()=>this.el[ee]=Le)}})})},kt=(te,X)=>{const U=te.prototype;X.forEach(ee=>{U[ee]=function(){const Le=arguments;return this.z.runOutsideAngular(()=>this.el[ee].apply(this.el,Le))}})},vr=(te,X,U)=>{U.forEach(ee=>te[ee]=(0,Ft.R)(X,ee))};function pr(te){return function(U){const{defineCustomElementFn:ee,inputs:Le,methods:de}=te;return void 0!==ee&&ee(),Le&&yn(U,Le),de&&kt(U,de),U}}const yr=["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","focusTrap","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],Jn=["present","dismiss","onDidDismiss","onWillDismiss"];let Rr=(()=>{let te=class AT{z;template;isCmpOpen=!1;el;constructor(U,ee,Le){this.z=Le,this.el=ee.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,U.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,U.detectChanges()}),vr(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(ee){return new(ee||AT)(L.rXU(L.gRc),L.rXU(L.aKT),L.rXU(L.SKi))};static \u0275dir=L.FsC({type:AT,selectors:[["ion-popover"]],contentQueries:function(ee,Le,de){if(1&ee&&L.wni(de,L.C4Q,5),2&ee){let tt;L.mGM(tt=L.lsd())&&(Le.template=tt.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"}})};return te=(0,vn.Cg)([pr({inputs:yr,methods:Jn})],te),te})();const Nn=["animated","keepContentsMounted","backdropBreakpoint","backdropDismiss","breakpoints","canDismiss","cssClass","enterAnimation","event","focusTrap","handle","handleBehavior","initialBreakpoint","isOpen","keyboardClose","leaveAnimation","mode","presentingElement","showBackdrop","translucent","trigger"],ir=["present","dismiss","onDidDismiss","onWillDismiss","setCurrentBreakpoint","getCurrentBreakpoint"];let Ri=(()=>{let te=class bT{z;template;isCmpOpen=!1;el;constructor(U,ee,Le){this.z=Le,this.el=ee.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,U.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,U.detectChanges()}),vr(this,this.el,["ionModalDidPresent","ionModalWillPresent","ionModalWillDismiss","ionModalDidDismiss","ionBreakpointDidChange","didPresent","willPresent","willDismiss","didDismiss"])}static \u0275fac=function(ee){return new(ee||bT)(L.rXU(L.gRc),L.rXU(L.aKT),L.rXU(L.SKi))};static \u0275dir=L.FsC({type:bT,selectors:[["ion-modal"]],contentQueries:function(ee,Le,de){if(1&ee&&L.wni(de,L.C4Q,5),2&ee){let tt;L.mGM(tt=L.lsd())&&(Le.template=tt.first)}},inputs:{animated:"animated",keepContentsMounted:"keepContentsMounted",backdropBreakpoint:"backdropBreakpoint",backdropDismiss:"backdropDismiss",breakpoints:"breakpoints",canDismiss:"canDismiss",cssClass:"cssClass",enterAnimation:"enterAnimation",event:"event",focusTrap:"focusTrap",handle:"handle",handleBehavior:"handleBehavior",initialBreakpoint:"initialBreakpoint",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",presentingElement:"presentingElement",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger"}})};return te=(0,vn.Cg)([pr({inputs:Nn,methods:ir})],te),te})();const tn=(te,X)=>((te=te.filter(U=>U.stackId!==X.stackId)).push(X),te),ri=(te,X)=>{const U=te.createUrlTree(["."],{relativeTo:X});return te.serializeUrl(U)},lr=(te,X)=>!X||te.stackId!==X.stackId,on=(te,X)=>{if(!te)return;const U=Kr(X);for(let ee=0;ee<U.length;ee++){if(ee>=te.length)return U[ee];if(U[ee]!==te[ee])return}},Kr=te=>te.split("/").map(X=>X.trim()).filter(X=>""!==X),Zr=te=>{te&&(te.ref.destroy(),te.unlistenEvents())};class bt{containerEl;router;navCtrl;zone;location;views=[];runningTask;skipTransition=!1;tabsPrefix;activeView;nextId=0;constructor(X,U,ee,Le,de,tt){this.containerEl=U,this.router=ee,this.navCtrl=Le,this.zone=de,this.location=tt,this.tabsPrefix=void 0!==X?Kr(X):void 0}createView(X,U){const ee=ri(this.router,U),Le=X?.location?.nativeElement,de=nn(this.zone,X.instance,Le);return{id:this.nextId++,stackId:on(this.tabsPrefix,ee),unlistenEvents:de,element:Le,ref:X,url:ee}}getExistingView(X){const U=ri(this.router,X),ee=this.views.find(Le=>Le.url===U);return ee&&ee.ref.changeDetectorRef.reattach(),ee}setActive(X){const U=this.navCtrl.consumeTransition();let{direction:ee,animation:Le,animationBuilder:de}=U;const tt=this.activeView,Nt=lr(X,tt);Nt&&(ee="back",Le=void 0);const sn=this.views.slice();let kn;const ur=this.router;ur.getCurrentNavigation?kn=ur.getCurrentNavigation():ur.navigations?.value&&(kn=ur.navigations.value),kn?.extras?.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const Kn=this.views.includes(X),Oi=this.insertView(X,ee);Kn||X.ref.changeDetectorRef.detectChanges();const Xr=X.animationBuilder;return void 0===de&&"back"===ee&&!Nt&&void 0!==Xr&&(de=Xr),tt&&(tt.animationBuilder=de),this.zone.runOutsideAngular(()=>this.wait(()=>(tt&&tt.ref.changeDetectorRef.detach(),X.ref.changeDetectorRef.reattach(),this.transition(X,tt,Le,this.canGoBack(1),!1,de).then(()=>Dt(X,Oi,sn,this.location,this.zone)).then(()=>({enteringView:X,direction:ee,animation:Le,tabSwitch:Nt})))))}canGoBack(X,U=this.getActiveStackId()){return this.getStack(U).length>X}pop(X,U=this.getActiveStackId()){return this.zone.run(()=>{const ee=this.getStack(U);if(ee.length<=X)return Promise.resolve(!1);const Le=ee[ee.length-X-1];let de=Le.url;const tt=Le.savedData;if(tt){const sn=tt.get("primary");sn?.route?._routerState?.snapshot.url&&(de=sn.route._routerState.snapshot.url)}const{animationBuilder:Nt}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(de,{...Le.savedExtras,animation:Nt}).then(()=>!0)})}startBackTransition(){const X=this.activeView;if(X){const U=this.getStack(X.stackId),ee=U[U.length-2],Le=ee.animationBuilder;return this.wait(()=>this.transition(ee,X,"back",this.canGoBack(2),!0,Le))}return Promise.resolve()}endBackTransition(X){X?(this.skipTransition=!0,this.pop(1)):this.activeView&&Me(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(X){const U=this.getStack(X);return U.length>0?U[U.length-1]:void 0}getRootUrl(X){const U=this.getStack(X);return U.length>0?U[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}getActiveView(){return this.activeView}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(Zr),this.activeView=void 0,this.views=[]}getStack(X){return this.views.filter(U=>U.stackId===X)}insertView(X,U){return this.activeView=X,this.views=((te,X,U)=>"root"===U?tn(te,X):"forward"===U?((te,X)=>(te.indexOf(X)>=0?te=te.filter(ee=>ee.stackId!==X.stackId||ee.id<=X.id):te.push(X),te))(te,X):((te,X)=>te.indexOf(X)>=0?te.filter(ee=>ee.stackId!==X.stackId||ee.id<=X.id):tn(te,X))(te,X))(this.views,X,U),this.views.slice()}transition(X,U,ee,Le,de,tt){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(U===X)return Promise.resolve(!1);const Nt=X?X.element:void 0,sn=U?U.element:void 0,kn=this.containerEl;return Nt&&Nt!==sn&&(Nt.classList.add("ion-page"),Nt.classList.add("ion-page-invisible"),kn.commit)?kn.commit(Nt,sn,{duration:void 0===ee?0:void 0,direction:ee,showGoBack:Le,progressAnimation:de,animationBuilder:tt}):Promise.resolve(!1)}wait(X){var U=this;return(0,c.A)(function*(){void 0!==U.runningTask&&(yield U.runningTask,U.runningTask=void 0);const ee=U.runningTask=X();return ee.finally(()=>U.runningTask=void 0),ee})()}}const Dt=(te,X,U,ee,Le)=>"function"==typeof requestAnimationFrame?new Promise(de=>{requestAnimationFrame(()=>{Me(te,X,U,ee,Le),de()})}):Promise.resolve(),Me=(te,X,U,ee,Le)=>{Le.run(()=>U.filter(de=>!X.includes(de)).forEach(Zr)),X.forEach(de=>{const Nt=ee.path().split("?")[0].split("#")[0];if(de!==te&&de.url!==Nt){const sn=de.element;sn.setAttribute("aria-hidden","true"),sn.classList.add("ion-page-hidden"),de.ref.changeDetectorRef.detach()}})};let lt=(()=>{class te{parentOutlet;nativeEl;activatedView=null;tabsPrefix;_swipeGesture;stackCtrl;proxyMap=new WeakMap;currentActivatedRoute$=new Vt.t(null);activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ce.Xk;stackWillChange=new L.bkB;stackDidChange=new L.bkB;activateEvents=new L.bkB;deactivateEvents=new L.bkB;parentContexts=(0,L.WQX)(ce.Zp);location=(0,L.WQX)(L.c1b);environmentInjector=(0,L.WQX)(L.uvJ);inputBinder=(0,L.WQX)(Ee,{optional:!0});supportsBindingToComponentInputs=!0;config=(0,L.WQX)(Dn);navCtrl=(0,L.WQX)(Mt);set animation(U){this.nativeEl.animation=U}set animated(U){this.nativeEl.animated=U}set swipeGesture(U){this._swipeGesture=U,this.nativeEl.swipeHandler=U?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:ee=>this.stackCtrl.endBackTransition(ee)}:void 0}constructor(U,ee,Le,de,tt,Nt,sn,kn){this.parentOutlet=kn,this.nativeEl=de.nativeElement,this.name=U||ce.Xk,this.tabsPrefix="true"===ee?ri(tt,sn):void 0,this.stackCtrl=new bt(this.tabsPrefix,this.nativeEl,tt,this.navCtrl,Nt,Le),this.parentContexts.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.stackCtrl.destroy(),this.inputBinder?.unsubscribeFromRouteData(this)}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const U=this.getContext();U?.route&&this.activateWith(U.route,U.injector)}new Promise(U=>((te,X)=>{te.componentOnReady?te.componentOnReady().then(U=>X(U)):(te=>{"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(te):"function"==typeof requestAnimationFrame?requestAnimationFrame(te):setTimeout(te)})(()=>X(te))})(this.nativeEl,U)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(U,ee){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const ee=this.getContext();this.activatedView.savedData=new Map(ee.children.contexts);const Le=this.activatedView.savedData.get("primary");if(Le&&ee.route&&(Le.route={...ee.route}),this.activatedView.savedExtras={},ee.route){const de=ee.route.snapshot;this.activatedView.savedExtras.queryParams=de.queryParams,this.activatedView.savedExtras.fragment=de.fragment}}const U=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(U)}}activateWith(U,ee){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=U;let Le,de=this.stackCtrl.getExistingView(U);if(de){Le=this.activated=de.ref;const Nt=de.savedData;Nt&&(this.getContext().children.contexts=Nt),this.updateActivatedRouteProxy(Le.instance,U)}else{const Nt=U._futureSnapshot,sn=this.parentContexts.getOrCreateContext(this.name).children,kn=new Vt.t(null),ur=this.createActivatedRouteProxy(kn,U),Kn=new Ut(ur,sn,this.location.injector);Le=this.activated=this.outletContent.createComponent(Nt.routeConfig.component??Nt.component,{index:this.outletContent.length,injector:Kn,environmentInjector:ee??this.environmentInjector}),kn.next(Le.instance),de=this.stackCtrl.createView(this.activated,U),this.proxyMap.set(Le.instance,ur),this.currentActivatedRoute$.next({component:Le.instance,activatedRoute:U})}this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activatedView=de,this.navCtrl.setTopOutlet(this);const tt=this.stackCtrl.getActiveView();this.stackWillChange.emit({enteringView:de,tabSwitch:lr(de,tt)}),this.stackCtrl.setActive(de).then(Nt=>{this.activateEvents.emit(Le.instance),this.stackDidChange.emit(Nt)})}canGoBack(U=1,ee){return this.stackCtrl.canGoBack(U,ee)}pop(U=1,ee){return this.stackCtrl.pop(U,ee)}getLastUrl(U){const ee=this.stackCtrl.getLastUrl(U);return ee?ee.url:void 0}getLastRouteView(U){return this.stackCtrl.getLastUrl(U)}getRootView(U){return this.stackCtrl.getRootUrl(U)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(U,ee){const Le=new ce.nX;return Le._futureSnapshot=ee._futureSnapshot,Le._routerState=ee._routerState,Le.snapshot=ee.snapshot,Le.outlet=ee.outlet,Le.component=ee.component,Le._paramMap=this.proxyObservable(U,"paramMap"),Le._queryParamMap=this.proxyObservable(U,"queryParamMap"),Le.url=this.proxyObservable(U,"url"),Le.params=this.proxyObservable(U,"params"),Le.queryParams=this.proxyObservable(U,"queryParams"),Le.fragment=this.proxyObservable(U,"fragment"),Le.data=this.proxyObservable(U,"data"),Le}proxyObservable(U,ee){return U.pipe((0,pt.p)(Le=>!!Le),(0,_e.n)(Le=>this.currentActivatedRoute$.pipe((0,pt.p)(de=>null!==de&&de.component===Le),(0,_e.n)(de=>de&&de.activatedRoute[ee]),(0,q.F)())))}updateActivatedRouteProxy(U,ee){const Le=this.proxyMap.get(U);if(!Le)throw new Error("Could not find activated route proxy for view");Le._futureSnapshot=ee._futureSnapshot,Le._routerState=ee._routerState,Le.snapshot=ee.snapshot,Le.outlet=ee.outlet,Le.component=ee.component,this.currentActivatedRoute$.next({component:U,activatedRoute:ee})}static \u0275fac=function(ee){return new(ee||te)(L.kS0("name"),L.kS0("tabs"),L.rXU(Z.aZ),L.rXU(L.aKT),L.rXU(ce.Ix),L.rXU(L.SKi),L.rXU(ce.nX),L.rXU(te,12))};static \u0275dir=L.FsC({type:te,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture",name:"name"},outputs:{stackWillChange:"stackWillChange",stackDidChange:"stackDidChange",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]})}return te})();class Ut{route;childContexts;parent;constructor(X,U,ee){this.route=X,this.childContexts=U,this.parent=ee}get(X,U){return X===ce.nX?this.route:X===ce.Zp?this.childContexts:this.parent.get(X,U)}}const Ee=new L.nKC("");let Te=(()=>{class te{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(U){this.unsubscribeFromRouteData(U),this.subscribeToRouteData(U)}unsubscribeFromRouteData(U){this.outletDataSubscriptions.get(U)?.unsubscribe(),this.outletDataSubscriptions.delete(U)}subscribeToRouteData(U){const{activatedRoute:ee}=U,Le=(0,pn.z)([ee.queryParams,ee.params,ee.data]).pipe((0,_e.n)(([de,tt,Nt],sn)=>(Nt={...de,...tt,...Nt},0===sn?(0,qt.of)(Nt):Promise.resolve(Nt)))).subscribe(de=>{if(!U.isActivated||!U.activatedComponentRef||U.activatedRoute!==ee||null===ee.component)return void this.unsubscribeFromRouteData(U);const tt=(0,L.HJs)(ee.component);if(tt)for(const{templateName:Nt}of tt.inputs)U.activatedComponentRef.setInput(Nt,de[Nt]);else this.unsubscribeFromRouteData(U)});this.outletDataSubscriptions.set(U,Le)}static \u0275fac=function(ee){return new(ee||te)};static \u0275prov=L.jDH({token:te,factory:te.\u0275fac})}return te})();const Be=()=>({provide:Ee,useFactory:St,deps:[ce.Ix]});function St(te){return te?.componentInputBindingEnabled?new Te:null}const dt=["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"];let gn=(()=>{let te=class ST{routerOutlet;navCtrl;config;r;z;el;constructor(U,ee,Le,de,tt,Nt){this.routerOutlet=U,this.navCtrl=ee,this.config=Le,this.r=de,this.z=tt,Nt.detach(),this.el=this.r.nativeElement}onClick(U){const ee=this.defaultHref||this.config.get("backButtonDefaultHref");this.routerOutlet?.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),U.preventDefault()):null!=ee&&(this.navCtrl.navigateBack(ee,{animation:this.routerAnimation}),U.preventDefault())}static \u0275fac=function(ee){return new(ee||ST)(L.rXU(lt,8),L.rXU(Mt),L.rXU(Dn),L.rXU(L.aKT),L.rXU(L.SKi),L.rXU(L.gRc))};static \u0275dir=L.FsC({type:ST,hostBindings:function(ee,Le){1&ee&&L.bIt("click",function(tt){return Le.onClick(tt)})},inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"}})};return te=(0,vn.Cg)([pr({inputs:dt})],te),te})(),dn=(()=>{class te{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(U,ee,Le,de,tt){this.locationStrategy=U,this.navCtrl=ee,this.elementRef=Le,this.router=de,this.routerLink=tt}ngOnInit(){this.updateTargetUrlAndHref(),this.updateTabindex()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTabindex(){const ee=this.elementRef.nativeElement;["ION-BACK-BUTTON","ION-BREADCRUMB","ION-BUTTON","ION-CARD","ION-FAB-BUTTON","ION-ITEM","ION-ITEM-OPTION","ION-MENU-BUTTON","ION-SEGMENT-BUTTON","ION-TAB-BUTTON"].includes(ee.tagName)&&"0"===ee.getAttribute("tabindex")&&ee.removeAttribute("tabindex")}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const U=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=U}}onClick(U){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),U.preventDefault()}static \u0275fac=function(ee){return new(ee||te)(L.rXU(Z.hb),L.rXU(Mt),L.rXU(L.aKT),L.rXU(ce.Ix),L.rXU(ce.Wk,8))};static \u0275dir=L.FsC({type:te,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(ee,Le){1&ee&&L.bIt("click",function(tt){return Le.onClick(tt)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[L.OA$]})}return te})(),Cr=(()=>{class te{locationStrategy;navCtrl;elementRef;router;routerLink;routerDirection="forward";routerAnimation;constructor(U,ee,Le,de,tt){this.locationStrategy=U,this.navCtrl=ee,this.elementRef=Le,this.router=de,this.routerLink=tt}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){if(this.routerLink?.urlTree){const U=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=U}}onClick(){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation)}static \u0275fac=function(ee){return new(ee||te)(L.rXU(Z.hb),L.rXU(Mt),L.rXU(L.aKT),L.rXU(ce.Ix),L.rXU(ce.Wk,8))};static \u0275dir=L.FsC({type:te,selectors:[["a","routerLink",""],["area","routerLink",""]],hostBindings:function(ee,Le){1&ee&&L.bIt("click",function(){return Le.onClick()})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[L.OA$]})}return te})();const at=["animated","animation","root","rootParams","swipeGesture"],er=["push","insert","insertPages","pop","popTo","popToRoot","removeIndex","setRoot","setPages","getActive","getByIndex","canGoBack","getPrevious"];let qn=(()=>{let te=class RT{z;el;constructor(U,ee,Le,de,tt,Nt){this.z=tt,Nt.detach(),this.el=U.nativeElement,U.nativeElement.delegate=de.create(ee,Le),vr(this,this.el,["ionNavDidChange","ionNavWillChange"])}static \u0275fac=function(ee){return new(ee||RT)(L.rXU(L.aKT),L.rXU(L.uvJ),L.rXU(L.zZn),L.rXU(xt),L.rXU(L.SKi),L.rXU(L.gRc))};static \u0275dir=L.FsC({type:RT,inputs:{animated:"animated",animation:"animation",root:"root",rootParams:"rootParams",swipeGesture:"swipeGesture"}})};return te=(0,vn.Cg)([pr({inputs:at,methods:er})],te),te})(),$n=(()=>{class te{navCtrl;tabsInner;ionTabsWillChange=new L.bkB;ionTabsDidChange=new L.bkB;tabBarSlot="bottom";hasTab=!1;selectedTab;leavingTab;constructor(U){this.navCtrl=U}ngAfterViewInit(){const U=this.tabs.length>0?this.tabs.first:void 0;U&&(this.hasTab=!0,this.setActiveTab(U.tab),this.tabSwitch())}ngAfterContentInit(){this.detectSlotChanges()}ngAfterContentChecked(){this.detectSlotChanges()}onStackWillChange({enteringView:U,tabSwitch:ee}){const Le=U.stackId;ee&&void 0!==Le&&this.ionTabsWillChange.emit({tab:Le})}onStackDidChange({enteringView:U,tabSwitch:ee}){const Le=U.stackId;ee&&void 0!==Le&&(this.tabBar&&(this.tabBar.selectedTab=Le),this.ionTabsDidChange.emit({tab:Le}))}select(U){const ee="string"==typeof U,Le=ee?U:U.detail.tab;if(this.hasTab)return this.setActiveTab(Le),void this.tabSwitch();const de=this.outlet.getActiveStackId()===Le,tt=`${this.outlet.tabsPrefix}/${Le}`;if(ee||U.stopPropagation(),de){const Nt=this.outlet.getActiveStackId();if(this.outlet.getLastRouteView(Nt)?.url===tt)return;const kn=this.outlet.getRootView(Le);return this.navCtrl.navigateRoot(tt,{...kn&&tt===kn.url&&kn.savedExtras,animated:!0,animationDirection:"back"})}{const Nt=this.outlet.getLastRouteView(Le),sn=Nt?.url||tt,kn=Nt?.savedExtras;return this.navCtrl.navigateRoot(sn,{...kn,animated:!0,animationDirection:"back"})}}setActiveTab(U){const Le=this.tabs.find(de=>de.tab===U);Le?(this.leavingTab=this.selectedTab,this.selectedTab=Le,this.ionTabsWillChange.emit({tab:U}),Le.el.active=!0):console.error(`[Ionic Error]: Tab with id: "${U}" does not exist`)}tabSwitch(){const{selectedTab:U,leavingTab:ee}=this;this.tabBar&&U&&(this.tabBar.selectedTab=U.tab),ee?.tab!==U?.tab&&ee?.el&&(ee.el.active=!1),U&&this.ionTabsDidChange.emit({tab:U.tab})}getSelected(){return this.hasTab?this.selectedTab?.tab:this.outlet.getActiveStackId()}detectSlotChanges(){this.tabBars.forEach(U=>{const ee=U.el.getAttribute("slot");ee!==this.tabBarSlot&&(this.tabBarSlot=ee,this.relocateTabBar())})}relocateTabBar(){const U=this.tabBar.el;"top"===this.tabBarSlot?this.tabsInner.nativeElement.before(U):this.tabsInner.nativeElement.after(U)}static \u0275fac=function(ee){return new(ee||te)(L.rXU(Mt))};static \u0275dir=L.FsC({type:te,selectors:[["ion-tabs"]],viewQuery:function(ee,Le){if(1&ee&&L.GBs(re,7,L.aKT),2&ee){let de;L.mGM(de=L.lsd())&&(Le.tabsInner=de.first)}},hostBindings:function(ee,Le){1&ee&&L.bIt("ionTabButtonClick",function(tt){return Le.select(tt)})},outputs:{ionTabsWillChange:"ionTabsWillChange",ionTabsDidChange:"ionTabsDidChange"}})}return te})();const Mr=te=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(te):"function"==typeof requestAnimationFrame?requestAnimationFrame(te):setTimeout(te);let qr=(()=>{class te{injector;elementRef;onChange=()=>{};onTouched=()=>{};lastValue;statusChanges;constructor(U,ee){this.injector=U,this.elementRef=ee}writeValue(U){this.elementRef.nativeElement.value=this.lastValue=U,Vr(this.elementRef)}handleValueChange(U,ee){U===this.elementRef.nativeElement&&(ee!==this.lastValue&&(this.lastValue=ee,this.onChange(ee)),Vr(this.elementRef))}_handleBlurEvent(U){U===this.elementRef.nativeElement&&(this.onTouched(),Vr(this.elementRef))}registerOnChange(U){this.onChange=U}registerOnTouched(U){this.onTouched=U}setDisabledState(U){this.elementRef.nativeElement.disabled=U}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let U;try{U=this.injector.get(Q.vO)}catch{}if(!U)return;U.statusChanges&&(this.statusChanges=U.statusChanges.subscribe(()=>Vr(this.elementRef)));const ee=U.control;ee&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(de=>{if(typeof ee[de]<"u"){const tt=ee[de].bind(ee);ee[de]=(...Nt)=>{tt(...Nt),Vr(this.elementRef)}}})}static \u0275fac=function(ee){return new(ee||te)(L.rXU(L.zZn),L.rXU(L.aKT))};static \u0275dir=L.FsC({type:te,hostBindings:function(ee,Le){1&ee&&L.bIt("ionBlur",function(tt){return Le._handleBlurEvent(tt.target)})}})}return te})();const Vr=te=>{Mr(()=>{const X=te.nativeElement,U=null!=X.value&&X.value.toString().length>0,ee=Mi(X);Hr(X,ee);const Le=X.closest("ion-item");Le&&Hr(Le,U?[...ee,"item-has-value"]:ee)})},Mi=te=>{const X=te.classList,U=[];for(let ee=0;ee<X.length;ee++){const Le=X.item(ee);null!==Le&&Ii(Le,"ng-")&&U.push(`ion-${Le.substring(3)}`)}return U},Hr=(te,X)=>{const U=te.classList;U.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),U.add(...X)},Ii=(te,X)=>te.substring(0,X.length)===X;class Ni{shouldDetach(X){return!1}shouldAttach(X){return!1}store(X,U){}retrieve(X){return null}shouldReuseRoute(X,U){if(X.routeConfig!==U.routeConfig)return!1;const ee=X.params,Le=U.params,de=Object.keys(ee),tt=Object.keys(Le);if(de.length!==tt.length)return!1;for(const Nt of de)if(Le[Nt]!==ee[Nt])return!1;return!0}}class Bi{ctrl;constructor(X){this.ctrl=X}create(X){return this.ctrl.create(X||{})}dismiss(X,U,ee){return this.ctrl.dismiss(X,U,ee)}getTop(){return this.ctrl.getTop()}}},4742:(un,ft,O)=>{"use strict";O.d(ft,{U1:()=>Cn,In:()=>$t,Jm:()=>Se,b_:()=>_t,I9:()=>nn,ME:()=>An,tN:()=>Mn,hU:()=>vr,W9:()=>pr,eU:()=>tn,$w:()=>on,uz:()=>Zr,Dg:()=>bt,he:()=>Ee,FH:()=>qr,Rg:()=>Ci,ln:()=>U,BC:()=>ai,ai:()=>Ti,bv:()=>wi,su:()=>q,Gw:()=>re});var c=O(3953),L=O(4341),ce=O(2872),Z=O(1635),be=O(3726),ae=O(177),Ae=O(4964),Ve=(O(9986),O(3604),O(5022),O(3615),O(8607),O(9483)),ke=O(464),rt=(O(9568),O(9440)),He=(O(8476),O(4261));O(1970),O(7192);var me=O(467);const je=Ve.i,Ye=function(){var H=(0,me.A)(function*(tr,z){if(!(typeof window>"u"))return yield je(),(0,He.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"]],{"type":["typeChanged"],"disabled":["disabledChanged"],"side":["sideChanged"],"swipeGesture":["swipeGestureChanged"]}],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-input-password-toggle",[[33,"ion-input-password-toggle",{"color":[513],"showIcon":[1,"show-icon"],"hideIcon":[1,"hide-icon"],"type":[1025]},null,{"type":["onTypeChange"]}]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]},null,{"activated":["activatedChanged"]}],[1,"ion-fab-list",{"activated":[4],"side":[1]},null,{"activated":["activatedChanged"]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"positionAnchor":[1,"position-anchor"],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"swipeGesture":[1,"swipe-gesture"],"isOpen":[4,"is-open"],"trigger":[1],"revealContentToScreenReader":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"swipeGesture":["swipeGestureChanged"],"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]},null,{"value":["valueChanged"]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]],{"value":["valueChanged"],"disabled":["disabledChanged"],"readonly":["readonlyChanged"]}]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]},null,{"threshold":["thresholdChanged"],"disabled":["disabledChanged"]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]},null,{"disabled":["disabledChanged"]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[1028],"layout":[1],"type":[1],"value":[8],"checked":[32],"setFocus":[64]},null,{"value":["valueChanged"]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1032],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]],{"color":["colorChanged"],"swipeGesture":["swipeGestureChanged"],"value":["valueChanged"],"disabled":["disabledChanged"]}]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]},null,{"selectedTab":["selectedTabChanged"]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[38,"ion-input",{"color":[513],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearInputIcon":[1,"clear-input-icon"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[516],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[516],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"type":["onTypeChange"],"value":["valueChanged"]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]},null,{"lang":["onLangChanged"],"dir":["onDirChanged"],"debounce":["debounceChanged"],"value":["valueChanged"],"showCancelButton":["showCancelButtonChanged"]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"activated":[32]},null,{"disabled":["disabledChanged"]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64],"getLength":[64]},null,{"swipeGesture":["swipeGestureChanged"],"root":["rootChanged"]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[38,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[514],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]},null,{"debounce":["debounceChanged"],"value":["valueChanged"]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[513],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]],{"maxItems":["maxItemsChanged"],"itemsBeforeCollapse":["maxItemsChanged"],"itemsAfterCollapse":["maxItemsChanged"]}]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"focusTrap":[4,"focus-trap"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]},null,{"url":["onUpdate"],"component":["onUpdate"],"componentProps":["onComponentProps"]}],[0,"ion-route-redirect",{"from":[1],"to":[1]},null,{"from":["propDidChange"],"to":["propDidChange"]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]},null,{"active":["changeActive"]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]},null,{"src":["srcChanged"]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"label":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]},null,{"debounce":["debounceChanged"],"min":["minChanged"],"max":["maxChanged"],"activeBarStart":["activeBarStartChanged"],"disabled":["disabledChanged"],"value":["valueChanged"]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32],"isVisible":[64]},null,{"visible":["visibleChanged"],"disabled":["updateState"],"when":["updateState"]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"toggleIcon":[1,"toggle-icon"],"expandedIcon":[1,"expanded-icon"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]},null,{"disabled":["styleChanged"],"isExpanded":["styleChanged"],"placeholder":["styleChanged"],"value":["styleChanged"]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker",[[33,"ion-picker",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-picker-column",[[1,"ion-picker-column",{"disabled":[4],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"ariaLabel":[32],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64],"setFocus":[64]},null,{"aria-label":["ariaLabelChanged"],"value":["valueChange"]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"formatOptions":[16],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isTimePopoverOpen":[32],"forceRenderDate":[32],"confirm":[64],"reset":[64],"cancel":[64]},null,{"formatOptions":["formatOptionsChanged"],"disabled":["disabledChanged"],"min":["minChanged"],"max":["maxChanged"],"presentation":["presentationChanged"],"yearValues":["yearValuesChanged"],"monthValues":["monthValuesChanged"],"dayValues":["dayValuesChanged"],"hourValues":["hourValuesChanged"],"minuteValues":["minuteValuesChanged"],"value":["valueChanged"]}],[34,"ion-picker-legacy",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}],[32,"ion-picker-legacy-column",{"col":[16]},null,{"col":["colChanged"]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]},null,{"value":["valueChanged"]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"compareWith":[1,"compare-with"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]],{"value":["valueChanged"]}]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1],"isCircle":[32]},null,{"disabled":["disabledChanged"]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]},null,{"name":["loadIcon"],"src":["loadIcon"],"icon":["loadIcon"],"ios":["loadIcon"],"md":["loadIcon"]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]],{"isOpen":["onIsOpenChange"],"trigger":["triggerChanged"],"buttons":["buttonsChanged"],"inputs":["inputsChanged"]}]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"fixedSlotPlacement":[1,"fixed-slot-placement"],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]},null,{"swipeHandler":["swipeHandlerChanged"]}],[33,"ion-title",{"color":[513],"size":[1]},null,{"size":["sizeChanged"]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[38,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-option",[[33,"ion-picker-column-option",{"disabled":[4],"value":[8],"color":[513],"ariaLabel":[32]},null,{"aria-label":["onAriaLabelChange"]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"focusTrap":[4,"focus-trap"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]},null,{"trigger":["onTriggerChange"],"triggerAction":["onTriggerChange"],"isOpen":["onIsOpenChange"]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"alignment":[1]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[33,"ion-note",{"color":[513]}],[1,"ion-skeleton-text",{"animated":[4]}],[33,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[516],"download":[1],"href":[1],"rel":[1],"lines":[1],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"multipleInputs":[32],"focusable":[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{"button":["buttonChanged"]}],[38,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]},null,{"color":["colorChanged"],"position":["positionChanged"]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}]]]]'),z)});return function(z,M){return H.apply(this,arguments)}}(),Ue=["*"],Tt=["outletContent"];let q=(()=>{class H extends ce.fL{el;constructor(z,M){super(z,M),this.el=M}handleInputEvent(z){this.handleValueChange(z,z.value)}registerOnChange(z){super.registerOnChange("ION-INPUT"===this.el.nativeElement.tagName?M=>{z(""===M?null:parseFloat(M))}:z)}static \u0275fac=function(M){return new(M||H)(c.rXU(c.zZn),c.rXU(c.aKT))};static \u0275dir=c.FsC({type:H,selectors:[["ion-input","type","number"],["ion-range"]],hostBindings:function(M,ue){1&M&&c.bIt("ionInput",function(J){return ue.handleInputEvent(J.target)})},features:[c.Jv_([{provide:L.kq,useExisting:H,multi:!0}]),c.Vt3]})}return H})(),re=(()=>{class H extends ce.fL{constructor(z,M){super(z,M)}_handleInputEvent(z){this.handleValueChange(z,z.value)}static \u0275fac=function(M){return new(M||H)(c.rXU(c.zZn),c.rXU(c.aKT))};static \u0275dir=c.FsC({type:H,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(M,ue){1&M&&c.bIt("ionInput",function(J){return ue._handleInputEvent(J.target)})},features:[c.Jv_([{provide:L.kq,useExisting:H,multi:!0}]),c.Vt3]})}return H})();const we=(H,tr)=>{const z=H.prototype;tr.forEach(M=>{Object.defineProperty(z,M,{get(){return this.el[M]},set(ue){this.z.runOutsideAngular(()=>this.el[M]=ue)},configurable:!0})})},gt=(H,tr)=>{const z=H.prototype;tr.forEach(M=>{z[M]=function(){const ue=arguments;return this.z.runOutsideAngular(()=>this.el[M].apply(this.el,ue))}})},Ie=(H,tr,z)=>{z.forEach(M=>H[M]=(0,be.R)(tr,M))};function qe(H){return function(z){const{defineCustomElementFn:M,inputs:ue,methods:k}=H;return void 0!==M&&M(),ue&&we(z,ue),k&&gt(z,k),z}}let Cn=(()=>{let H=class xT{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||xT)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:xT,selectors:[["ion-app"]],ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({})],H),H})(),$t=(()=>{let H=class LT{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||LT)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:LT,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["color","mode"]})],H),H})(),Se=(()=>{let H=class BT{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement,Ie(this,this.el,["ionFocus","ionBlur"])}static \u0275fac=function(M){return new(M||BT)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:BT,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],H),H})(),_t=(()=>{let H=class jT{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||jT)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:jT,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],H),H})(),nn=(()=>{let H=class HT{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||HT)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:HT,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["mode"]})],H),H})(),An=(()=>{let H=class zT{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||zT)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:zT,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["color","mode","translucent"]})],H),H})(),Mn=(()=>{let H=class WT{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||WT)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:WT,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["color","mode"]})],H),H})(),vr=(()=>{let H=class XT{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||XT)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:XT,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],H),H})(),pr=(()=>{let H=class QT{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement,Ie(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}static \u0275fac=function(M){return new(M||QT)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:QT,selectors:[["ion-content"]],inputs:{color:"color",fixedSlotPlacement:"fixedSlotPlacement",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["color","fixedSlotPlacement","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],H),H})(),tn=(()=>{let H=class iC{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||iC)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:iC,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["collapse","mode","translucent"]})],H),H})(),on=(()=>{let H=class lC{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement,Ie(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}static \u0275fac=function(M){return new(M||lC)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:lC,selectors:[["ion-input"]],inputs:{autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearInputIcon:"clearInputIcon",clearOnEdit:"clearOnEdit",color:"color",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",shape:"shape",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearInputIcon","clearOnEdit","color","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","shape","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],H),H})(),Zr=(()=>{let H=class dC{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||dC)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:dC,selectors:[["ion-item"]],inputs:{button:"button",color:"color",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["button","color","detail","detailIcon","disabled","download","href","lines","mode","rel","routerAnimation","routerDirection","target","type"]})],H),H})(),bt=(()=>{let H=class hC{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||hC)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:hC,selectors:[["ion-item-divider"]],inputs:{color:"color",mode:"mode",sticky:"sticky"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["color","mode","sticky"]})],H),H})(),Ee=(()=>{let H=class vC{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||vC)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:vC,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["color","mode","position"]})],H),H})(),qr=(()=>{let H=class MC{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||MC)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:MC,selectors:[["ion-progress-bar"]],inputs:{buffer:"buffer",color:"color",mode:"mode",reversed:"reversed",type:"type",value:"value"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["buffer","color","mode","reversed","type","value"]})],H),H})(),U=(()=>{let H=class UC{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||UC)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:UC,selectors:[["ion-row"]],ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({})],H),H})(),ai=(()=>{let H=class eD{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||eD)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:eD,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["color","size"]})],H),H})(),Ti=(()=>{let H=class rD{z;el;constructor(z,M,ue){this.z=ue,z.detach(),this.el=M.nativeElement}static \u0275fac=function(M){return new(M||rD)(c.rXU(c.gRc),c.rXU(c.aKT),c.rXU(c.SKi))};static \u0275cmp=c.VBU({type:rD,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ue,decls:1,vars:0,template:function(M,ue){1&M&&(c.NAR(),c.SdG(0))},encapsulation:2,changeDetection:0})};return H=(0,Z.Cg)([qe({inputs:["color","mode"]})],H),H})(),Ci=(()=>{class H extends ce.Rg{parentOutlet;outletContent;constructor(z,M,ue,k,J,Ce,xe,nt){super(z,M,ue,k,J,Ce,xe,nt),this.parentOutlet=nt}static \u0275fac=function(M){return new(M||H)(c.kS0("name"),c.kS0("tabs"),c.rXU(ae.aZ),c.rXU(c.aKT),c.rXU(Ae.Ix),c.rXU(c.SKi),c.rXU(Ae.nX),c.rXU(H,12))};static \u0275cmp=c.VBU({type:H,selectors:[["ion-router-outlet"]],viewQuery:function(M,ue){if(1&M&&c.GBs(Tt,7,c.c1b),2&M){let k;c.mGM(k=c.lsd())&&(ue.outletContent=k.first)}},features:[c.Vt3],ngContentSelectors:Ue,decls:3,vars:0,consts:[["outletContent",""]],template:function(M,ue){1&M&&(c.NAR(),c.qex(0,null,0),c.SdG(2),c.bVm())},encapsulation:2})}return H})();const Di={provide:L.cz,useExisting:(0,c.Rfq)(()=>Ms),multi:!0};let Ms=(()=>{class H extends L.zX{static \u0275fac=(()=>{let z;return function(ue){return(z||(z=c.xGo(H)))(ue||H)}})();static \u0275dir=c.FsC({type:H,selectors:[["ion-input","type","number","max","","formControlName",""],["ion-input","type","number","max","","formControl",""],["ion-input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(M,ue){2&M&&c.BMQ("max",ue._enabled?ue.max:null)},features:[c.Jv_([Di]),c.Vt3]})}return H})();const Io={provide:L.cz,useExisting:(0,c.Rfq)(()=>cs),multi:!0};let cs=(()=>{class H extends L.VZ{static \u0275fac=(()=>{let z;return function(ue){return(z||(z=c.xGo(H)))(ue||H)}})();static \u0275dir=c.FsC({type:H,selectors:[["ion-input","type","number","min","","formControlName",""],["ion-input","type","number","min","","formControl",""],["ion-input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(M,ue){2&M&&c.BMQ("min",ue._enabled?ue.min:null)},features:[c.Jv_([Io]),c.Vt3]})}return H})(),Aa=(()=>{class H extends ce.Kb{angularDelegate=(0,c.WQX)(ce.Yq);injector=(0,c.WQX)(c.zZn);environmentInjector=(0,c.WQX)(c.uvJ);constructor(){super(rt.m)}create(z){return super.create({...z,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}static \u0275fac=function(M){return new(M||H)};static \u0275prov=c.jDH({token:H,factory:H.\u0275fac})}return H})();class Qo extends ce.Kb{angularDelegate=(0,c.WQX)(ce.Yq);injector=(0,c.WQX)(c.zZn);environmentInjector=(0,c.WQX)(c.uvJ);constructor(){super(rt.c)}create(tr){return super.create({...tr,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}const Pr=(H,tr,z)=>()=>{const M=tr.defaultView;if(M&&typeof window<"u"){(0,ke.s)({...H,_zoneGate:k=>z.run(k)});const ue="__zone_symbol__addEventListener"in tr.body?"__zone_symbol__addEventListener":"addEventListener";return function ge(){var H=[];if(typeof window<"u"){var tr=window;(!tr.customElements||tr.Element&&(!tr.Element.prototype.closest||!tr.Element.prototype.matches||!tr.Element.prototype.remove||!tr.Element.prototype.getRootNode))&&H.push(O.e(7278).then(O.t.bind(O,2190,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||tr.NodeList&&!tr.NodeList.prototype.forEach||!tr.fetch||!function(){try{var M=new URL("b","http://a");return M.pathname="c%20d","http://a/c%20d"===M.href&&M.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&H.push(O.e(9329).then(O.t.bind(O,7783,23)))}return Promise.all(H)}().then(()=>Ye(M,{exclude:["ion-tabs"],syncQueue:!0,raf:ce.er,jmp:k=>z.runOutsideAngular(k),ael(k,J,Ce,xe){k[ue](J,Ce,xe)},rel(k,J,Ce,xe){k.removeEventListener(J,Ce,xe)}}))}};let wi=(()=>{class H{static forRoot(z={}){return{ngModule:H,providers:[{provide:ce.sR,useValue:z},{provide:c.hnV,useFactory:Pr,multi:!0,deps:[ce.sR,ae.qQ,c.SKi]},ce.Yq,(0,ce.YV)()]}}static \u0275fac=function(M){return new(M||H)};static \u0275mod=c.$C({type:H});static \u0275inj=c.G2t({providers:[Aa,Qo],imports:[ae.MD]})}return H})()},7935:(un,ft,O)=>{"use strict";O.d(ft,{A:()=>c.A});var c=O(3345);c.A.registerVersion("firebase","10.13.2","app-compat")},7955:(un,ft,O)=>{"use strict";var c=O(467),L=O(3345),ce=O(7852),Z=O(1076),be=O(8041),ae=O(1635),Ae=O(1362);const Ge={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Qe=function Ve(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},rt=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ze=new Z.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),st=new be.Vy("@firebase/auth");function Je(y,...h){st.logLevel<=be.$b.ERROR&&st.error(`Auth (${ce.SDK_VERSION}): ${y}`,...h)}function ge(y,...h){throw Tt(y,...h)}function me(y,...h){return Tt(y,...h)}function je(y,h,p){const E=Object.assign(Object.assign({},rt()),{[h]:p});return new Z.FA("auth","Firebase",E).create(h,{appName:y.name})}function Ye(y){return je(y,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ue(y,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&ge(y,"argument-error"),je(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Tt(y,...h){if("string"!=typeof y){const p=h[0],E=[...h.slice(1)];return E[0]&&(E[0].appName=y.name),y._errorFactory.create(p,...E)}return Ze.create(y,...h)}function Re(y,h,...p){if(!y)throw Tt(h,...p)}function Ft(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Je(h),new Error(h)}function Vt(y,h){y||Ft(h)}function pn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function qt(){return"http:"===vn()||"https:"===vn()}function vn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class q{constructor(h,p){this.shortDelay=h,this.longDelay=p,Vt(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,Z.jZ)()||(0,Z.lV)()}get(){return function pt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(qt()||(0,Z.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Q(y,h){Vt(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class re{static initialize(h,p,E){this.fetchImpl=h,p&&(this.headersImpl=p),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Ft("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Ft("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Ft("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const we={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},gt=new q(3e4,6e4);function Ie(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function ht(y,h,p,E){return qe.apply(this,arguments)}function qe(){return(qe=(0,c.A)(function*(y,h,p,E,F={}){return en(y,F,(0,c.A)(function*(){let ne={},ze={};E&&("GET"===h?ze=E:ne={body:JSON.stringify(E)});const vt=(0,Z.Am)(Object.assign({key:y.config.apiKey},ze)).slice(1),Gt=yield y._getAdditionalHeaders();Gt["Content-Type"]="application/json",y.languageCode&&(Gt["X-Firebase-Locale"]=y.languageCode);const Tn=Object.assign({method:h,headers:Gt},ne);return(0,Z.c1)()||(Tn.referrerPolicy="no-referrer"),re.fetch()(Cn(y,y.config.apiHost,p,vt),Tn)}))})).apply(this,arguments)}function en(y,h,p){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.A)(function*(y,h,p){y._canInitEmulator=!1;const E=Object.assign(Object.assign({},we),h);try{const F=new Ht(y),ne=yield Promise.race([p(),F.promise]);F.clearNetworkTimeout();const ze=yield ne.json();if("needConfirmation"in ze)throw $t(y,"account-exists-with-different-credential",ze);if(ne.ok&&!("errorMessage"in ze))return ze;{const vt=ne.ok?ze.errorMessage:ze.error.message,[Gt,Tn]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Gt)throw $t(y,"credential-already-in-use",ze);if("EMAIL_EXISTS"===Gt)throw $t(y,"email-already-in-use",ze);if("USER_DISABLED"===Gt)throw $t(y,"user-disabled",ze);const On=E[Gt]||Gt.toLowerCase().replace(/[_\s]+/g,"-");if(Tn)throw je(y,On,Tn);ge(y,On)}}catch(F){if(F instanceof Z.g)throw F;ge(y,"network-request-failed",{message:String(F)})}})).apply(this,arguments)}function ut(y,h,p,E){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,c.A)(function*(y,h,p,E,F={}){const ne=yield ht(y,h,p,E,F);return"mfaPendingCredential"in ne&&ge(y,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function Cn(y,h,p,E){const F=`${h}${p}?${E}`;return y.config.emulator?Q(y.config,F):`${y.config.apiScheme}://${F}`}function Dn(y){switch(y){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Ht{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,E)=>{this.timer=setTimeout(()=>E(me(this.auth,"network-request-failed")),gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $t(y,h,p){const E={appName:y.name};p.email&&(E.email=p.email),p.phoneNumber&&(E.phoneNumber=p.phoneNumber);const F=me(y,h,E);return F.customData._tokenResponse=p,F}function Bn(y){return void 0!==y&&void 0!==y.getResponse}function xt(y){return void 0!==y&&void 0!==y.enterprise}class Se{constructor(h){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=h.recaptchaEnforcementState}getProviderEnforcementState(h){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const p of this.recaptchaEnforcementState)if(p.provider&&p.provider===h)return Dn(p.enforcementState);return null}isProviderEnabled(h){return"ENFORCE"===this.getProviderEnforcementState(h)||"AUDIT"===this.getProviderEnforcementState(h)}}function _t(){return(_t=(0,c.A)(function*(y){return(yield ht(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function nn(y,h){return An.apply(this,arguments)}function An(){return(An=(0,c.A)(function*(y,h){return ht(y,"GET","/v2/recaptchaConfig",Ie(y,h))})).apply(this,arguments)}function Mn(){return(Mn=(0,c.A)(function*(y,h){return ht(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function kt(){return(kt=(0,c.A)(function*(y,h){return ht(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function vr(y,h){return pr.apply(this,arguments)}function pr(){return(pr=(0,c.A)(function*(y,h){return ht(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function yr(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Nn(){return(Nn=(0,c.A)(function*(y,h=!1){const p=(0,Z.Ku)(y),E=yield p.getIdToken(h),F=Ri(E);Re(F&&F.exp&&F.auth_time&&F.iat,p.auth,"internal-error");const ne="object"==typeof F.firebase?F.firebase:void 0,ze=ne?.sign_in_provider;return{claims:F,token:E,authTime:yr(ir(F.auth_time)),issuedAtTime:yr(ir(F.iat)),expirationTime:yr(ir(F.exp)),signInProvider:ze||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function ir(y){return 1e3*Number(y)}function Ri(y){const[h,p,E]=y.split(".");if(void 0===h||void 0===p||void 0===E)return Je("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,Z.u)(p);return F?JSON.parse(F):(Je("Failed to decode base64 JWT payload"),null)}catch(F){return Je("Caught error parsing JWT payload as JSON",F?.toString()),null}}function bn(y){const h=Ri(y);return Re(h,"internal-error"),Re(typeof h.exp<"u","internal-error"),Re(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}function tn(y,h){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.A)(function*(y,h,p=!1){if(p)return h;try{return yield h}catch(E){throw E instanceof Z.g&&function xn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(E)&&y.auth.currentUser===y&&(yield y.auth.signOut()),E}})).apply(this,arguments)}class ri{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const F=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const E=this.getInterval(h);this.timerId=setTimeout((0,c.A)(function*(){yield p.iteration()}),E)}iteration(){var h=this;return(0,c.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class lr{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=yr(this.lastLoginAt),this.creationTime=yr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function on(y){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,c.A)(function*(y){var h;const p=y.auth,E=yield y.getIdToken(),F=yield tn(y,vr(p,{idToken:E}));Re(F?.users.length,p,"internal-error");const ne=F.users[0];y._notifyReloadListener(ne);const ze=null!==(h=ne.providerUserInfo)&&void 0!==h&&h.length?Me(ne.providerUserInfo):[],vt=function Dt(y,h){return[...y.filter(E=>!h.some(F=>F.providerId===E.providerId)),...h]}(y.providerData,ze),On=!!y.isAnonymous&&!(y.email&&ne.passwordHash||vt?.length),Vn={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:vt,metadata:new lr(ne.createdAt,ne.lastLoginAt),isAnonymous:On};Object.assign(y,Vn)})).apply(this,arguments)}function bt(){return(bt=(0,c.A)(function*(y){const h=(0,Z.Ku)(y);yield on(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Me(y){return y.map(h=>{var{providerId:p}=h,E=(0,ae.Tt)(h,["providerId"]);return{providerId:p,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Ut(){return(Ut=(0,c.A)(function*(y,h){const p=yield en(y,{},(0,c.A)(function*(){const E=(0,Z.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:F,apiKey:ne}=y.config,ze=Cn(y,F,"/v1/token",`key=${ne}`),vt=yield y._getAdditionalHeaders();return vt["Content-Type"]="application/x-www-form-urlencoded",re.fetch()(ze,{method:"POST",headers:vt,body:E})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}function Te(){return(Te=(0,c.A)(function*(y,h){return ht(y,"POST","/v2/accounts:revokeToken",Ie(y,h))})).apply(this,arguments)}class Be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Re(h.idToken,"internal-error"),Re(typeof h.idToken<"u","internal-error"),Re(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):bn(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}updateFromIdToken(h){Re(0!==h.length,"internal-error");const p=bn(h);this.updateTokensAndExpiration(h,null,p)}getToken(h,p=!1){var E=this;return(0,c.A)(function*(){return p||!E.accessToken||E.isExpired?(Re(E.refreshToken,h,"user-token-expired"),E.refreshToken?(yield E.refresh(h,E.refreshToken),E.accessToken):null):E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var E=this;return(0,c.A)(function*(){const{accessToken:F,refreshToken:ne,expiresIn:ze}=yield function lt(y,h){return Ut.apply(this,arguments)}(h,p);E.updateTokensAndExpiration(F,ne,Number(ze))})()}updateTokensAndExpiration(h,p,E){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(h,p){const{refreshToken:E,accessToken:F,expirationTime:ne}=p,ze=new Be;return E&&(Re("string"==typeof E,"internal-error",{appName:h}),ze.refreshToken=E),F&&(Re("string"==typeof F,"internal-error",{appName:h}),ze.accessToken=F),ne&&(Re("number"==typeof ne,"internal-error",{appName:h}),ze.expirationTime=ne),ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Be,this.toJSON())}_performRefresh(){return Ft("not implemented")}}function St(y,h){Re("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class dt{constructor(h){var{uid:p,auth:E,stsTokenManager:F}=h,ne=(0,ae.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ri(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=E,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new lr(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,c.A)(function*(){const E=yield tn(p,p.stsTokenManager.getToken(p.auth,h));return Re(E,p.auth,"internal-error"),p.accessToken!==E&&(p.accessToken=E,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),E})()}getIdTokenResult(h){return function Rr(y){return Nn.apply(this,arguments)}(this,h)}reload(){return function Zr(y){return bt.apply(this,arguments)}(this)}_assign(h){this!==h&&(Re(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new dt(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var E=this;return(0,c.A)(function*(){let F=!1;h.idToken&&h.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(h),F=!0),p&&(yield on(E)),yield E.auth._persistUserIfCurrent(E),F&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var h=this;return(0,c.A)(function*(){if((0,ce._isFirebaseServerApp)(h.auth.app))return Promise.reject(Ye(h.auth));const p=yield h.getIdToken();return yield tn(h,function hr(y,h){return Mn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var E,F,ne,ze,vt,Gt,Tn,On;const Vn=null!==(E=p.displayName)&&void 0!==E?E:void 0,ji=null!==(F=p.email)&&void 0!==F?F:void 0,pi=null!==(ne=p.phoneNumber)&&void 0!==ne?ne:void 0,ra=null!==(ze=p.photoURL)&&void 0!==ze?ze:void 0,di=null!==(vt=p.tenantId)&&void 0!==vt?vt:void 0,zu=null!==(Gt=p._redirectEventId)&&void 0!==Gt?Gt:void 0,Ld=null!==(Tn=p.createdAt)&&void 0!==Tn?Tn:void 0,Ep=null!==(On=p.lastLoginAt)&&void 0!==On?On:void 0,{uid:Wh,emailVerified:Gu,isAnonymous:Wu,providerData:Lc,stsTokenManager:$s}=p;Re(Wh&&$s,h,"internal-error");const ym=Be.fromJSON(this.name,$s);Re("string"==typeof Wh,h,"internal-error"),St(Vn,h.name),St(ji,h.name),Re("boolean"==typeof Gu,h,"internal-error"),Re("boolean"==typeof Wu,h,"internal-error"),St(pi,h.name),St(ra,h.name),St(di,h.name),St(zu,h.name),St(Ld,h.name),St(Ep,h.name);const ml=new dt({uid:Wh,auth:h,email:ji,emailVerified:Gu,displayName:Vn,isAnonymous:Wu,photoURL:ra,phoneNumber:pi,tenantId:di,stsTokenManager:ym,createdAt:Ld,lastLoginAt:Ep});return Lc&&Array.isArray(Lc)&&(ml.providerData=Lc.map(Vd=>Object.assign({},Vd))),zu&&(ml._redirectEventId=zu),ml}static _fromIdTokenResponse(h,p,E=!1){return(0,c.A)(function*(){const F=new Be;F.updateFromServerResponse(p);const ne=new dt({uid:p.localId,auth:h,stsTokenManager:F,isAnonymous:E});return yield on(ne),ne})()}static _fromGetAccountInfoResponse(h,p,E){return(0,c.A)(function*(){const F=p.users[0];Re(void 0!==F.localId,"internal-error");const ne=void 0!==F.providerUserInfo?Me(F.providerUserInfo):[],ze=!(F.email&&F.passwordHash||ne?.length),vt=new Be;vt.updateFromIdToken(E);const Gt=new dt({uid:F.localId,auth:h,stsTokenManager:vt,isAnonymous:ze}),Tn={uid:F.localId,displayName:F.displayName||null,photoURL:F.photoUrl||null,email:F.email||null,emailVerified:F.emailVerified||!1,phoneNumber:F.phoneNumber||null,tenantId:F.tenantId||null,providerData:ne,metadata:new lr(F.createdAt,F.lastLoginAt),isAnonymous:!(F.email&&F.passwordHash||ne?.length)};return Object.assign(Gt,Tn),Gt})()}}const gn=new Map;function dn(y){Vt(y instanceof Function,"Expected a class definition");let h=gn.get(y);return h?(Vt(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,gn.set(y,h),h)}const at=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.A)(function*(){return!0})()}_set(p,E){var F=this;return(0,c.A)(function*(){F.storage[p]=E})()}_get(p){var E=this;return(0,c.A)(function*(){const F=E.storage[p];return void 0===F?null:F})()}_remove(p){var E=this;return(0,c.A)(function*(){delete E.storage[p]})()}_addListener(p,E){}_removeListener(p,E){}}return y.type="NONE",y})();function er(y,h,p){return`firebase:${y}:${h}:${p}`}class qn{constructor(h,p,E){this.persistence=h,this.auth=p,this.userKey=E;const{config:F,name:ne}=this.auth;this.fullUserKey=er(this.userKey,F.apiKey,ne),this.fullPersistenceKey=er("persistence",F.apiKey,ne),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,c.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?dt._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,c.A)(function*(){if(p.persistence===h)return;const E=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,E?p.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,E="authUser"){return(0,c.A)(function*(){if(!p.length)return new qn(dn(at),h,E);const F=(yield Promise.all(p.map(function(){var Tn=(0,c.A)(function*(On){if(yield On._isAvailable())return On});return function(On){return Tn.apply(this,arguments)}}()))).filter(Tn=>Tn);let ne=F[0]||dn(at);const ze=er(E,h.config.apiKey,h.name);let vt=null;for(const Tn of p)try{const On=yield Tn._get(ze);if(On){const Vn=dt._fromJSON(h,On);Tn!==ne&&(vt=Vn),ne=Tn;break}}catch{}const Gt=F.filter(Tn=>Tn._shouldAllowMigration);return ne._shouldAllowMigration&&Gt.length?(ne=Gt[0],vt&&(yield ne._set(ze,vt.toJSON())),yield Promise.all(p.map(function(){var Tn=(0,c.A)(function*(On){if(On!==ne)try{yield On._remove(ze)}catch{}});return function(On){return Tn.apply(this,arguments)}}())),new qn(ne,h,E)):new qn(ne,h,E)})()}}function $n(y){const h=y.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Mi(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Mr(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ii(h))return"Blackberry";if(Ni(h))return"Webos";if(qr(h))return"Safari";if((h.includes("chrome/")||Vr(h))&&!h.includes("edge/"))return"Chrome";if(Hr(h))return"Android";{const E=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function Mr(y=(0,Z.ZQ)()){return/firefox\//i.test(y)}function qr(y=(0,Z.ZQ)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Vr(y=(0,Z.ZQ)()){return/crios\//i.test(y)}function Mi(y=(0,Z.ZQ)()){return/iemobile/i.test(y)}function Hr(y=(0,Z.ZQ)()){return/android/i.test(y)}function Ii(y=(0,Z.ZQ)()){return/blackberry/i.test(y)}function Ni(y=(0,Z.ZQ)()){return/webos/i.test(y)}function Bi(y=(0,Z.ZQ)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ee(y=(0,Z.ZQ)()){return Bi(y)||Hr(y)||Ni(y)||Ii(y)||/windows phone/i.test(y)||Mi(y)}function Le(y,h=[]){let p;switch(y){case"Browser":p=$n((0,Z.ZQ)());break;case"Worker":p=`${$n((0,Z.ZQ)())}-${y}`;break;default:p=y}const E=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${ce.SDK_VERSION}/${E}`}class de{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const E=ne=>new Promise((ze,vt)=>{try{ze(h(ne))}catch(Gt){vt(Gt)}});E.onAbort=p,this.queue.push(E);const F=this.queue.length-1;return()=>{this.queue[F]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,c.A)(function*(){if(p.auth.currentUser===h)return;const E=[];try{for(const F of p.queue)yield F(h),F.onAbort&&E.push(F.onAbort)}catch(F){E.reverse();for(const ne of E)try{ne()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:F?.message})}})()}}function Nt(){return(Nt=(0,c.A)(function*(y,h={}){return ht(y,"GET","/v2/passwordPolicy",Ie(y,h))})).apply(this,arguments)}class kn{constructor(h){var p,E,F,ne;const ze=h.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(p=ze.minPasswordLength)&&void 0!==p?p:6,ze.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=ze.maxPasswordLength),void 0!==ze.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=ze.containsLowercaseCharacter),void 0!==ze.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=ze.containsUppercaseCharacter),void 0!==ze.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=ze.containsNumericCharacter),void 0!==ze.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=ze.containsNonAlphanumericCharacter),this.enforcementState=h.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(F=null===(E=h.allowedNonAlphanumericCharacters)||void 0===E?void 0:E.join(""))&&void 0!==F?F:"",this.forceUpgradeOnSignin=null!==(ne=h.forceUpgradeOnSignin)&&void 0!==ne&&ne,this.schemaVersion=h.schemaVersion}validatePassword(h){var p,E,F,ne,ze,vt;const Gt={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(h,Gt),this.validatePasswordCharacterOptions(h,Gt),Gt.isValid&&(Gt.isValid=null===(p=Gt.meetsMinPasswordLength)||void 0===p||p),Gt.isValid&&(Gt.isValid=null===(E=Gt.meetsMaxPasswordLength)||void 0===E||E),Gt.isValid&&(Gt.isValid=null===(F=Gt.containsLowercaseLetter)||void 0===F||F),Gt.isValid&&(Gt.isValid=null===(ne=Gt.containsUppercaseLetter)||void 0===ne||ne),Gt.isValid&&(Gt.isValid=null===(ze=Gt.containsNumericCharacter)||void 0===ze||ze),Gt.isValid&&(Gt.isValid=null===(vt=Gt.containsNonAlphanumericCharacter)||void 0===vt||vt),Gt}validatePasswordLengthOptions(h,p){const E=this.customStrengthOptions.minPasswordLength,F=this.customStrengthOptions.maxPasswordLength;E&&(p.meetsMinPasswordLength=h.length>=E),F&&(p.meetsMaxPasswordLength=h.length<=F)}validatePasswordCharacterOptions(h,p){let E;this.updatePasswordCharacterOptionsStatuses(p,!1,!1,!1,!1);for(let F=0;F<h.length;F++)E=h.charAt(F),this.updatePasswordCharacterOptionsStatuses(p,E>="a"&&E<="z",E>="A"&&E<="Z",E>="0"&&E<="9",this.allowedNonAlphanumericCharacters.includes(E))}updatePasswordCharacterOptionsStatuses(h,p,E,F,ne){this.customStrengthOptions.containsLowercaseLetter&&(h.containsLowercaseLetter||(h.containsLowercaseLetter=p)),this.customStrengthOptions.containsUppercaseLetter&&(h.containsUppercaseLetter||(h.containsUppercaseLetter=E)),this.customStrengthOptions.containsNumericCharacter&&(h.containsNumericCharacter||(h.containsNumericCharacter=F)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(h.containsNonAlphanumericCharacter||(h.containsNonAlphanumericCharacter=ne))}}class ur{constructor(h,p,E,F){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=E,this.config=F,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Oi(this),this.idTokenSubscription=new Oi(this),this.beforeStateQueue=new de(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ze,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=F.sdkClientVersion}_initializeWithPersistence(h,p){var E=this;return p&&(this._popupRedirectResolver=dn(p)),this._initializationPromise=this.queue((0,c.A)(function*(){var F,ne;if(!E._deleted&&(E.persistenceManager=yield qn.create(E,h),!E._deleted)){if(null!==(F=E._popupRedirectResolver)&&void 0!==F&&F._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(p),E.lastNotifiedUid=(null===(ne=E.currentUser)||void 0===ne?void 0:ne.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,c.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUserFromIdToken(h){var p=this;return(0,c.A)(function*(){try{const E=yield vr(p,{idToken:h}),F=yield dt._fromGetAccountInfoResponse(p,E,h);yield p.directlySetCurrentUser(F)}catch(E){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",E),yield p.directlySetCurrentUser(null)}})()}initializeCurrentUser(h){var p=this;return(0,c.A)(function*(){var E;if((0,ce._isFirebaseServerApp)(p.app)){const vt=p.app.settings.authIdToken;return vt?new Promise(Gt=>{setTimeout(()=>p.initializeCurrentUserFromIdToken(vt).then(Gt,Gt))}):p.directlySetCurrentUser(null)}const F=yield p.assertedPersistence.getCurrentUser();let ne=F,ze=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const vt=null===(E=p.redirectUser)||void 0===E?void 0:E._redirectEventId,Gt=ne?._redirectEventId,Tn=yield p.tryRedirectSignIn(h);(!vt||vt===Gt)&&Tn?.user&&(ne=Tn.user,ze=!0)}if(!ne)return p.directlySetCurrentUser(null);if(!ne._redirectEventId){if(ze)try{yield p.beforeStateQueue.runMiddleware(ne)}catch(vt){ne=F,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(vt))}return ne?p.reloadAndSetCurrentUserOrClear(ne):p.directlySetCurrentUser(null)}return Re(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ne._redirectEventId?p.directlySetCurrentUser(ne):p.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(h){var p=this;return(0,c.A)(function*(){let E=null;try{E=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,c.A)(function*(){try{yield on(h)}catch(E){if("auth/network-request-failed"!==E?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function _e(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var h=this;return(0,c.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,c.A)(function*(){if((0,ce._isFirebaseServerApp)(p.app))return Promise.reject(Ye(p));const E=h?(0,Z.Ku)(h):null;return E&&Re(E.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(E&&E._clone(p))})()}_updateCurrentUser(h,p=!1){var E=this;return(0,c.A)(function*(){if(!E._deleted)return h&&Re(E.tenantId===h.tenantId,E,"tenant-id-mismatch"),p||(yield E.beforeStateQueue.runMiddleware(h)),E.queue((0,c.A)(function*(){yield E.directlySetCurrentUser(h),E.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,c.A)(function*(){return(0,ce._isFirebaseServerApp)(h.app)?Promise.reject(Ye(h)):(yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0))})()}setPersistence(h){var p=this;return(0,ce._isFirebaseServerApp)(this.app)?Promise.reject(Ye(this)):this.queue((0,c.A)(function*(){yield p.assertedPersistence.setPersistence(dn(h))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(h){var p=this;return(0,c.A)(function*(){p._getPasswordPolicyInternal()||(yield p._updatePasswordPolicy());const E=p._getPasswordPolicyInternal();return E.schemaVersion!==p.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(p._errorFactory.create("unsupported-password-policy-schema-version",{})):E.validatePassword(h)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var h=this;return(0,c.A)(function*(){const p=yield function tt(y){return Nt.apply(this,arguments)}(h),E=new kn(p);null===h.tenantId?h._projectPasswordPolicy=E:h._tenantPasswordPolicies[h.tenantId]=E})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new Z.FA("auth","Firebase",h())}onAuthStateChanged(h,p,E){return this.registerStateListener(this.authStateSubscription,h,p,E)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,E){return this.registerStateListener(this.idTokenSubscription,h,p,E)}authStateReady(){return new Promise((h,p)=>{if(this.currentUser)h();else{const E=this.onAuthStateChanged(()=>{E(),h()},p)}})}revokeAccessToken(h){var p=this;return(0,c.A)(function*(){if(p.currentUser){const E=yield p.currentUser.getIdToken(),F={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:h,idToken:E};null!=p.tenantId&&(F.tenantId=p.tenantId),yield function Ee(y,h){return Te.apply(this,arguments)}(p,F)}})()}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var E=this;return(0,c.A)(function*(){const F=yield E.getOrInitRedirectPersistenceManager(p);return null===h?F.removeCurrentUser():F.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,c.A)(function*(){if(!p.redirectPersistenceManager){const E=h&&dn(h)||p._popupRedirectResolver;Re(E,p,"argument-error"),p.redirectPersistenceManager=yield qn.create(p,[dn(E._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,c.A)(function*(){var E,F;return p._isInitialized&&(yield p.queue((0,c.A)(function*(){}))),(null===(E=p._currentUser)||void 0===E?void 0:E._redirectEventId)===h?p._currentUser:(null===(F=p.redirectUser)||void 0===F?void 0:F._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,c.A)(function*(){if(h===p.currentUser)return p.queue((0,c.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,E,F){if(this._deleted)return()=>{};const ne="function"==typeof p?p:p.next.bind(p);let ze=!1;const vt=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(vt,this,"internal-error"),vt.then(()=>{ze||ne(this.currentUser)}),"function"==typeof p){const Gt=h.addObserver(p,E,F);return()=>{ze=!0,Gt()}}{const Gt=h.addObserver(p);return()=>{ze=!0,Gt()}}}directlySetCurrentUser(h){var p=this;return(0,c.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Le(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,c.A)(function*(){var p;const E={"X-Client-Version":h.clientVersion};h.app.options.appId&&(E["X-Firebase-gmpid"]=h.app.options.appId);const F=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();F&&(E["X-Firebase-Client"]=F);const ne=yield h._getAppCheckToken();return ne&&(E["X-Firebase-AppCheck"]=ne),E})()}_getAppCheckToken(){var h=this;return(0,c.A)(function*(){var p;const E=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return E?.error&&function pe(y,...h){st.logLevel<=be.$b.WARN&&st.warn(`Auth (${ce.SDK_VERSION}): ${y}`,...h)}(`Error while retrieving App Check token: ${E.error}`),E?.token})()}}function Kn(y){return(0,Z.Ku)(y)}class Oi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,Z.tD)(p=>this.observer=p)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Xr={loadJS:()=>(0,c.A)(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ii(y){return Xr.loadJS(y)}function Gi(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Ss{constructor(h){this.type="recaptcha-enterprise",this.auth=Kn(h)}verify(h="verify",p=!1){var E=this;return(0,c.A)(function*(){function ne(){return ne=(0,c.A)(function*(vt){if(!p){if(null==vt.tenantId&&null!=vt._agentRecaptchaConfig)return vt._agentRecaptchaConfig.siteKey;if(null!=vt.tenantId&&void 0!==vt._tenantRecaptchaConfigs[vt.tenantId])return vt._tenantRecaptchaConfigs[vt.tenantId].siteKey}return new Promise(function(){var Gt=(0,c.A)(function*(Tn,On){nn(vt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Vn=>{if(void 0!==Vn.recaptchaKey){const ji=new Se(Vn);return null==vt.tenantId?vt._agentRecaptchaConfig=ji:vt._tenantRecaptchaConfigs[vt.tenantId]=ji,Tn(ji.siteKey)}On(new Error("recaptcha Enterprise site key undefined"))}).catch(Vn=>{On(Vn)})});return function(Tn,On){return Gt.apply(this,arguments)}}())}),ne.apply(this,arguments)}function ze(vt,Gt,Tn){const On=window.grecaptcha;xt(On)?On.enterprise.ready(()=>{On.enterprise.execute(vt,{action:h}).then(Vn=>{Gt(Vn)}).catch(()=>{Gt("NO_RECAPTCHA")})}):Tn(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((vt,Gt)=>{(function F(vt){return ne.apply(this,arguments)})(E.auth).then(Tn=>{if(!p&&xt(window.grecaptcha))ze(Tn,vt,Gt);else{if(typeof window>"u")return void Gt(new Error("RecaptchaVerifier is only supported in browser"));let On=function ai(){return Xr.recaptchaEnterpriseScript}();0!==On.length&&(On+=Tn),ii(On).then(()=>{ze(Tn,vt,Gt)}).catch(Vn=>{Gt(Vn)})}}).catch(Tn=>{Gt(Tn)})})})()}}function Rs(y,h,p){return $o.apply(this,arguments)}function $o(){return($o=(0,c.A)(function*(y,h,p,E=!1){const F=new Ss(y);let ne;try{ne=yield F.verify(p)}catch{ne=yield F.verify(p,!0)}const ze=Object.assign({},h);return Object.assign(ze,E?{captchaResp:ne}:{captchaResponse:ne}),Object.assign(ze,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ze,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ze})).apply(this,arguments)}function ss(y,h,p,E){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,c.A)(function*(y,h,p,E){var F;if(null!==(F=y._getRecaptchaConfig())&&void 0!==F&&F.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const ne=yield Rs(y,h,p,"getOobCode"===p);return E(y,ne)}return E(y,h).catch(function(){var ne=(0,c.A)(function*(ze){if("auth/missing-recaptcha-token"===ze.code){console.log(`${p} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const vt=yield Rs(y,h,p,"getOobCode"===p);return E(y,vt)}return Promise.reject(ze)});return function(ze){return ne.apply(this,arguments)}}())}),Xo.apply(this,arguments)}function cs(y){const h=y.indexOf(":");return h<0?"":y.substr(0,h+1)}function ls(y){if(!y)return null;const h=Number(y);return isNaN(h)?null:h}class ro{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Ft("not implemented")}_getIdTokenResponse(h){return Ft("not implemented")}_linkToIdToken(h,p){return Ft("not implemented")}_getReauthenticationResolver(h){return Ft("not implemented")}}function Ho(y,h){return ia.apply(this,arguments)}function ia(){return(ia=(0,c.A)(function*(y,h){return ht(y,"POST","/v1/accounts:resetPassword",Ie(y,h))})).apply(this,arguments)}function jr(){return(jr=(0,c.A)(function*(y,h){return ht(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Qo(y,h){return ci.apply(this,arguments)}function ci(){return(ci=(0,c.A)(function*(y,h){return ht(y,"POST","/v1/accounts:signUp",h)})).apply(this,arguments)}function To(){return(To=(0,c.A)(function*(y,h){return ht(y,"POST","/v1/accounts:update",Ie(y,h))})).apply(this,arguments)}function Co(y,h){return wi.apply(this,arguments)}function wi(){return(wi=(0,c.A)(function*(y,h){return ut(y,"POST","/v1/accounts:signInWithPassword",Ie(y,h))})).apply(this,arguments)}function H(y,h){return tr.apply(this,arguments)}function tr(){return(tr=(0,c.A)(function*(y,h){return ht(y,"POST","/v1/accounts:sendOobCode",Ie(y,h))})).apply(this,arguments)}function M(){return(M=(0,c.A)(function*(y,h){return H(y,h)})).apply(this,arguments)}function ue(y,h){return k.apply(this,arguments)}function k(){return(k=(0,c.A)(function*(y,h){return H(y,h)})).apply(this,arguments)}function J(y,h){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,c.A)(function*(y,h){return H(y,h)})).apply(this,arguments)}function nt(){return(nt=(0,c.A)(function*(y,h){return H(y,h)})).apply(this,arguments)}function Lt(){return(Lt=(0,c.A)(function*(y,h){return ut(y,"POST","/v1/accounts:signInWithEmailLink",Ie(y,h))})).apply(this,arguments)}function Bt(){return(Bt=(0,c.A)(function*(y,h){return ut(y,"POST","/v1/accounts:signInWithEmailLink",Ie(y,h))})).apply(this,arguments)}class Wt extends ro{constructor(h,p,E,F=null){super("password",E),this._email=h,this._password=p,this._tenantId=F}static _fromEmailAndPassword(h,p){return new Wt(h,p,"password")}static _fromEmailAndCode(h,p,E=null){return new Wt(h,p,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,c.A)(function*(){switch(p.signInMethod){case"password":return ss(h,{returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Co);case"emailLink":return function ct(y,h){return Lt.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:ge(h,"internal-error")}})()}_linkToIdToken(h,p){var E=this;return(0,c.A)(function*(){switch(E.signInMethod){case"password":return ss(h,{idToken:p,returnSecureToken:!0,email:E._email,password:E._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qo);case"emailLink":return function Kt(y,h){return Bt.apply(this,arguments)}(h,{idToken:p,email:E._email,oobCode:E._password});default:ge(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function an(y,h){return _n.apply(this,arguments)}function _n(){return(_n=(0,c.A)(function*(y,h){return ut(y,"POST","/v1/accounts:signInWithIdp",Ie(y,h))})).apply(this,arguments)}class Fn extends ro{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Fn(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):ge("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:F}=p,ne=(0,ae.Tt)(p,["providerId","signInMethod"]);if(!E||!F)return null;const ze=new Fn(E,F);return ze.idToken=ne.idToken||void 0,ze.accessToken=ne.accessToken||void 0,ze.secret=ne.secret,ze.nonce=ne.nonce,ze.pendingToken=ne.pendingToken||null,ze}_getIdTokenResponse(h){return an(h,this.buildRequest())}_linkToIdToken(h,p){const E=this.buildRequest();return E.idToken=p,an(h,E)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,an(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,Z.Am)(p)}return h}}function xr(){return(xr=(0,c.A)(function*(y,h){return ht(y,"POST","/v1/accounts:sendVerificationCode",Ie(y,h))})).apply(this,arguments)}function Nr(){return(Nr=(0,c.A)(function*(y,h){return ut(y,"POST","/v1/accounts:signInWithPhoneNumber",Ie(y,h))})).apply(this,arguments)}function Qi(){return(Qi=(0,c.A)(function*(y,h){const p=yield ut(y,"POST","/v1/accounts:signInWithPhoneNumber",Ie(y,h));if(p.temporaryProof)throw $t(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const mi={USER_NOT_FOUND:"user-not-found"};function Gs(){return(Gs=(0,c.A)(function*(y,h){return ut(y,"POST","/v1/accounts:signInWithPhoneNumber",Ie(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),mi)})).apply(this,arguments)}class Yi extends ro{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Yi({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Yi({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function ti(y,h){return Nr.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function rn(y,h){return Qi.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function Ha(y,h){return Gs.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:E,verificationCode:F}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:E,code:F}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:E,phoneNumber:F,temporaryProof:ne}=h;return E||p||F||ne?new Yi({verificationId:p,verificationCode:E,phoneNumber:F,temporaryProof:ne}):null}}class lo{constructor(h){var p,E,F,ne,ze,vt;const Gt=(0,Z.I9)((0,Z.hp)(h)),Tn=null!==(p=Gt.apiKey)&&void 0!==p?p:null,On=null!==(E=Gt.oobCode)&&void 0!==E?E:null,Vn=function Ws(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=Gt.mode)&&void 0!==F?F:null);Re(Tn&&On&&Vn,"argument-error"),this.apiKey=Tn,this.operation=Vn,this.code=On,this.continueUrl=null!==(ne=Gt.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(ze=Gt.languageCode)&&void 0!==ze?ze:null,this.tenantId=null!==(vt=Gt.tenantId)&&void 0!==vt?vt:null}static parseLink(h){const p=function Zi(y){const h=(0,Z.I9)((0,Z.hp)(y)).link,p=h?(0,Z.I9)((0,Z.hp)(h)).deep_link_id:null,E=(0,Z.I9)((0,Z.hp)(y)).deep_link_id;return(E?(0,Z.I9)((0,Z.hp)(E)).link:null)||E||p||h||y}(h);try{return new lo(p)}catch{return null}}}let us=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(p,E){return Wt._fromEmailAndPassword(p,E)}static credentialWithLink(p,E){const F=lo.parseLink(E);return Re(F,"argument-error"),Wt._fromEmailAndCode(p,F.code,F.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Do{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class zo extends Do{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class uo extends zo{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return Re("providerId"in p&&"signInMethod"in p,"argument-error"),Fn._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Re(h.idToken||h.accessToken,"argument-error"),Fn._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return uo.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return uo.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:E,oauthTokenSecret:F,pendingToken:ne,nonce:ze,providerId:vt}=h;if(!E&&!F&&!p&&!ne||!vt)return null;try{return new uo(vt)._credential({idToken:p,accessToken:E,nonce:ze,pendingToken:ne})}catch{return null}}}let $i=(()=>{class y extends zo{constructor(){super("facebook.com")}static credential(p){return Fn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ai=(()=>{class y extends zo{constructor(){super("google.com"),this.addScope("profile")}static credential(p,E){return Fn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:E})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:E,oauthAccessToken:F}=p;if(!E&&!F)return null;try{return y.credential(E,F)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),zr=(()=>{class y extends zo{constructor(){super("github.com")}static credential(p){return Fn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class br extends ro{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return an(h,this.buildRequest())}_linkToIdToken(h,p){const E=this.buildRequest();return E.idToken=p,an(h,E)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,an(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:E,signInMethod:F,pendingToken:ne}=p;return E&&F&&ne&&E===F?new br(E,ne):null}static _create(h,p){return new br(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ur extends Do{constructor(h){Re(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return Ur.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return Ur.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=br.fromJSON(h);return Re(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:E}=h;if(!p||!E)return null;try{return br._create(E,p)}catch{return null}}}let ds=(()=>{class y extends zo{constructor(){super("twitter.com")}static credential(p,E){return Fn._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:E})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:E,oauthTokenSecret:F}=p;if(!E||!F)return null;try{return y.credential(E,F)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function _c(y,h){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.A)(function*(y,h){return ut(y,"POST","/v1/accounts:signUp",Ie(y,h))})).apply(this,arguments)}class nr{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,E,F=!1){return(0,c.A)(function*(){const ne=yield dt._fromIdTokenResponse(h,E,F),ze=jn(E);return new nr({user:ne,providerId:ze,_tokenResponse:E,operationType:p})})()}static _forOperation(h,p,E){return(0,c.A)(function*(){yield h._updateTokensIfNecessary(E,!0);const F=jn(E);return new nr({user:h,providerId:F,_tokenResponse:E,operationType:p})})()}}function jn(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Wi(){return(Wi=(0,c.A)(function*(y){var h;if((0,ce._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const p=Kn(y);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new nr({user:p.currentUser,providerId:null,operationType:"signIn"});const E=yield _c(p,{returnSecureToken:!0}),F=yield nr._fromIdTokenResponse(p,"signIn",E,!0);return yield p._updateCurrentUser(F.user),F})).apply(this,arguments)}class Ga extends Z.g{constructor(h,p,E,F){var ne;super(p.code,p.message),this.operationType=E,this.user=F,Object.setPrototypeOf(this,Ga.prototype),this.customData={appName:h.name,tenantId:null!==(ne=h.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:p.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(h,p,E,F){return new Ga(h,p,E,F)}}function oa(y,h,p,E){return("reauthenticate"===h?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Ga._fromErrorAndOperation(y,ne,h,E):ne})}function Wc(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Wa(){return Wa=(0,c.A)(function*(y,h){const p=(0,Z.Ku)(y);yield Kc(!0,p,h);const{providerUserInfo:E}=yield function yn(y,h){return kt.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),F=Wc(E||[]);return p.providerData=p.providerData.filter(ne=>F.has(ne.providerId)),F.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),Wa.apply(this,arguments)}function Br(y,h){return sa.apply(this,arguments)}function sa(){return(sa=(0,c.A)(function*(y,h,p=!1){const E=yield tn(y,h._linkToIdToken(y.auth,yield y.getIdToken()),p);return nr._forOperation(y,"link",E)})).apply(this,arguments)}function Kc(y,h,p){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,c.A)(function*(y,h,p){yield on(h);const F=!1===y?"provider-already-linked":"no-such-provider";Re(Wc(h.providerData).has(p)===y,h.auth,F)})).apply(this,arguments)}function Tu(y,h){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,c.A)(function*(y,h,p=!1){const{auth:E}=y;if((0,ce._isFirebaseServerApp)(E.app))return Promise.reject(Ye(E));const F="reauthenticate";try{const ne=yield tn(y,oa(E,F,h,y),p);Re(ne.idToken,E,"internal-error");const ze=Ri(ne.idToken);Re(ze,E,"internal-error");const{sub:vt}=ze;return Re(y.uid===vt,E,"user-mismatch"),nr._forOperation(y,F,ne)}catch(ne){throw"auth/user-not-found"===ne?.code&&ge(E,"user-mismatch"),ne}})).apply(this,arguments)}function Sl(y,h){return B.apply(this,arguments)}function B(){return(B=(0,c.A)(function*(y,h,p=!1){if((0,ce._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E="signIn",F=yield oa(y,E,h),ne=yield nr._fromIdTokenResponse(y,E,F);return p||(yield y._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function V(y,h){return S.apply(this,arguments)}function S(){return(S=(0,c.A)(function*(y,h){return Sl(Kn(y),h)})).apply(this,arguments)}function oe(y,h){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,c.A)(function*(y,h){const p=(0,Z.Ku)(y);return yield Kc(!1,p,h.providerId),Br(p,h)})).apply(this,arguments)}function Ln(y,h){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,c.A)(function*(y,h){return Tu((0,Z.Ku)(y),h)})).apply(this,arguments)}function io(){return(io=(0,c.A)(function*(y,h){return ut(y,"POST","/v1/accounts:signInWithCustomToken",Ie(y,h))})).apply(this,arguments)}function hs(){return hs=(0,c.A)(function*(y,h){if((0,ce._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const p=Kn(y),E=yield function dr(y,h){return io.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),F=yield nr._fromIdTokenResponse(p,"signIn",E);return yield p._updateCurrentUser(F.user),F}),hs.apply(this,arguments)}class Ao{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?Ks._fromServerResponse(h,p):"totpInfo"in p?Sa._fromServerResponse(h,p):ge(h,"internal-error")}}class Ks extends Ao{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new Ks(p)}}class Sa extends Ao{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new Sa(p)}}function bo(y,h,p){var E;Re((null===(E=p.url)||void 0===E?void 0:E.length)>0,y,"invalid-continue-uri"),Re(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Re(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Re(p.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function xi(y){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,c.A)(function*(y){const h=Kn(y);h._getPasswordPolicyInternal()&&(yield h._updatePasswordPolicy())})).apply(this,arguments)}function aa(){return(aa=(0,c.A)(function*(y,h,p){const E=Kn(y),F={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};p&&bo(E,F,p),yield ss(E,F,"getOobCode",ue)})).apply(this,arguments)}function Ps(){return Ps=(0,c.A)(function*(y,h,p){yield Ho((0,Z.Ku)(y),{oobCode:h,newPassword:p}).catch(function(){var E=(0,c.A)(function*(F){throw"auth/password-does-not-meet-requirements"===F.code&&xi(y),F});return function(F){return E.apply(this,arguments)}}())}),Ps.apply(this,arguments)}function go(){return go=(0,c.A)(function*(y,h){yield function Pr(y,h){return To.apply(this,arguments)}((0,Z.Ku)(y),{oobCode:h})}),go.apply(this,arguments)}function fs(y,h){return qc.apply(this,arguments)}function qc(){return(qc=(0,c.A)(function*(y,h){const p=(0,Z.Ku)(y),E=yield Ho(p,{oobCode:h}),F=E.requestType;switch(Re(F,p,"internal-error"),F){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Re(E.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Re(E.mfaInfo,p,"internal-error");default:Re(E.email,p,"internal-error")}let ne=null;return E.mfaInfo&&(ne=Ao._fromServerResponse(Kn(p),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:ne},operation:F}})).apply(this,arguments)}function Cu(){return(Cu=(0,c.A)(function*(y,h){const{data:p}=yield fs((0,Z.Ku)(y),h);return p.email})).apply(this,arguments)}function Du(){return(Du=(0,c.A)(function*(y,h,p){if((0,ce._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E=Kn(y),ze=yield ss(E,{returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_c).catch(Gt=>{throw"auth/password-does-not-meet-requirements"===Gt.code&&xi(y),Gt}),vt=yield nr._fromIdTokenResponse(E,"signIn",ze);return yield E._updateCurrentUser(vt.user),vt})).apply(this,arguments)}function Wo(){return(Wo=(0,c.A)(function*(y,h,p){const E=Kn(y),F={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};(function ne(ze,vt){Re(vt.handleCodeInApp,E,"argument-error"),vt&&bo(E,ze,vt)})(F,p),yield ss(E,F,"getOobCode",J)})).apply(this,arguments)}function Qa(){return(Qa=(0,c.A)(function*(y,h,p){if((0,ce._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E=(0,Z.Ku)(y),F=us.credentialWithLink(h,p||pn());return Re(F._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),V(E,F)})).apply(this,arguments)}function Ma(){return(Ma=(0,c.A)(function*(y,h){return ht(y,"POST","/v1/accounts:createAuthUri",Ie(y,h))})).apply(this,arguments)}function mn(){return mn=(0,c.A)(function*(y,h){const E={identifier:h,continueUri:qt()?pn():"http://localhost"},{signinMethods:F}=yield function Ro(y,h){return Ma.apply(this,arguments)}((0,Z.Ku)(y),E);return F||[]}),mn.apply(this,arguments)}function Jc(){return Jc=(0,c.A)(function*(y,h){const p=(0,Z.Ku)(y),F={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&bo(p.auth,F,h);const{email:ne}=yield function z(y,h){return M.apply(this,arguments)}(p.auth,F);ne!==y.email&&(yield y.reload())}),Jc.apply(this,arguments)}function Tc(){return Tc=(0,c.A)(function*(y,h,p){const E=(0,Z.Ku)(y),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};p&&bo(E.auth,ne,p);const{email:ze}=yield function xe(y,h){return nt.apply(this,arguments)}(E.auth,ne);ze!==y.email&&(yield y.reload())}),Tc.apply(this,arguments)}function ps(){return(ps=(0,c.A)(function*(y,h){return ht(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ir(){return Ir=(0,c.A)(function*(y,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const E=(0,Z.Ku)(y),ne={idToken:yield E.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},ze=yield tn(E,function pd(y,h){return ps.apply(this,arguments)}(E.auth,ne));E.displayName=ze.displayName||null,E.photoURL=ze.photoUrl||null;const vt=E.providerData.find(({providerId:Gt})=>"password"===Gt);vt&&(vt.displayName=E.displayName,vt.photoURL=E.photoURL),yield E._updateTokensIfNecessary(ze)}),Ir.apply(this,arguments)}function ki(y,h,p){return la.apply(this,arguments)}function la(){return la=(0,c.A)(function*(y,h,p){const{auth:E}=y,ne={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(ne.email=h),p&&(ne.password=p);const ze=yield tn(y,function Aa(y,h){return jr.apply(this,arguments)}(E,ne));yield y._updateTokensIfNecessary(ze,!0)}),la.apply(this,arguments)}class Zo{constructor(h,p,E={}){this.isNewUser=h,this.providerId=p,this.profile=E}}class gs extends Zo{constructor(h,p,E,F){super(h,p,E),this.username=F}}class Cc extends Zo{constructor(h,p){super(h,"facebook.com",p)}}class w extends gs{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Y extends Zo{constructor(h,p){super(h,"google.com",p)}}class N extends gs{constructor(h,p,E){super(h,"twitter.com",p,E)}}function K(y){const{user:h,_tokenResponse:p}=y;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Pa(y){var h,p;if(!y)return null;const{providerId:E}=y,F=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},ne=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!E&&y?.idToken){const ze=null===(p=null===(h=Ri(y.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(ze)return new Zo(ne,"anonymous"!==ze&&"custom"!==ze?ze:null)}if(!E)return null;switch(E){case"facebook.com":return new Cc(ne,F);case"github.com":return new w(ne,F);case"google.com":return new Y(ne,F);case"twitter.com":return new N(ne,F,y.screenName||null);case"custom":case"anonymous":return new Zo(ne,null);default:return new Zo(ne,E,F)}}(p)}class eo{constructor(h,p,E){this.type=h,this.credential=p,this.user=E}static _fromIdtoken(h,p){return new eo("enroll",h,p)}static _fromMfaPendingCredential(h){return new eo("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,E;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return eo._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(E=h.multiFactorSession)&&void 0!==E&&E.idToken)return eo._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Ko{constructor(h,p,E){this.session=h,this.hints=p,this.signInResolver=E}static _fromError(h,p){const E=Kn(h),F=p.customData._serverResponse,ne=(F.mfaInfo||[]).map(vt=>Ao._fromServerResponse(E,vt));Re(F.mfaPendingCredential,E,"internal-error");const ze=eo._fromMfaPendingCredential(F.mfaPendingCredential);return new Ko(ze,ne,function(){var vt=(0,c.A)(function*(Gt){const Tn=yield Gt._process(E,ze);delete F.mfaInfo,delete F.mfaPendingCredential;const On=Object.assign(Object.assign({},F),{idToken:Tn.idToken,refreshToken:Tn.refreshToken});switch(p.operationType){case"signIn":const Vn=yield nr._fromIdTokenResponse(E,p.operationType,On);return yield E._updateCurrentUser(Vn.user),Vn;case"reauthenticate":return Re(p.user,E,"internal-error"),nr._forOperation(p.user,p.operationType,On);default:ge(E,"internal-error")}});return function(Gt){return vt.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,c.A)(function*(){return p.signInResolver(h)})()}}class cr{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(E=>Ao._fromServerResponse(h.auth,E)))})}static _fromUser(h){return new cr(h)}getSession(){var h=this;return(0,c.A)(function*(){return eo._fromIdtoken(yield h.user.getIdToken(),h.user)})()}enroll(h,p){var E=this;return(0,c.A)(function*(){const F=h,ne=yield E.getSession(),ze=yield tn(E.user,F._process(E.user.auth,ne,p));return yield E.user._updateTokensIfNecessary(ze),E.user.reload()})()}unenroll(h){var p=this;return(0,c.A)(function*(){const E="string"==typeof h?h:h.uid,F=yield p.user.getIdToken();try{const ne=yield tn(p.user,function to(y,h){return ht(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(y,h))}(p.user.auth,{idToken:F,mfaEnrollmentId:E}));p.enrolledFactors=p.enrolledFactors.filter(({uid:ze})=>ze!==E),yield p.user._updateTokensIfNecessary(ne),yield p.user.reload()}catch(ne){throw ne}})()}}const Ns=new WeakMap,ua="__sak";class Za{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ua,"1"),this.storage.removeItem(ua),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ml=(()=>{class y extends Za{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,E)=>this.onStorageEvent(p,E),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ee(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const E of Object.keys(this.listeners)){const F=this.storage.getItem(E),ne=this.localCache[E];F!==ne&&p(E,ne,F)}}onStorageEvent(p,E=!1){if(!p.key)return void this.forAllChangedKeys((vt,Gt,Tn)=>{this.notifyListeners(vt,Tn)});const F=p.key;E?this.detachListener():this.stopPolling();const ne=()=>{const vt=this.storage.getItem(F);!E&&this.localCache[F]===vt||this.notifyListeners(F,vt)},ze=this.storage.getItem(F);!function U(){return(0,Z.lT)()&&10===document.documentMode}()||ze===p.newValue||p.newValue===p.oldValue?ne():setTimeout(ne,10)}notifyListeners(p,E){this.localCache[p]=E;const F=this.listeners[p];if(F)for(const ne of Array.from(F))ne(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,E,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:E,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,E){var F=()=>super._set,ne=this;return(0,c.A)(function*(){yield F().call(ne,p,E),ne.localCache[p]=JSON.stringify(E)})()}_get(p){var E=()=>super._get,F=this;return(0,c.A)(function*(){const ne=yield E().call(F,p);return F.localCache[p]=JSON.stringify(ne),ne})()}_remove(p){var E=()=>super._remove,F=this;return(0,c.A)(function*(){yield E().call(F,p),delete F.localCache[p]})()}}return y.type="LOCAL",y})(),Po=(()=>{class y extends Za{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,E){}_removeListener(p,E){}}return y.type="SESSION",y})();let tl=(()=>{class y{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const E=this.receivers.find(ne=>ne.isListeningto(p));if(E)return E;const F=new y(p);return this.receivers.push(F),F}isListeningto(p){return this.eventTarget===p}handleEvent(p){var E=this;return(0,c.A)(function*(){const F=p,{eventId:ne,eventType:ze,data:vt}=F.data,Gt=E.handlersMap[ze];if(!Gt?.size)return;F.ports[0].postMessage({status:"ack",eventId:ne,eventType:ze});const Tn=Array.from(Gt).map(function(){var Vn=(0,c.A)(function*(ji){return ji(F.origin,vt)});return function(ji){return Vn.apply(this,arguments)}}()),On=yield function Os(y){return Promise.all(y.map(function(){var h=(0,c.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(E){return{fulfilled:!1,reason:E}}});return function(p){return h.apply(this,arguments)}}()))}(Tn);F.ports[0].postMessage({status:"done",eventId:ne,eventType:ze,response:On})})()}_subscribe(p,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(E)}_unsubscribe(p,E){this.handlersMap[p]&&E&&this.handlersMap[p].delete(E),(!E||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ja(y="",h=10){let p="";for(let E=0;E<h;E++)p+=Math.floor(10*Math.random());return y+p}class xs{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,E=50){var F=this;return(0,c.A)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let ze,vt;return new Promise((Gt,Tn)=>{const On=Ja("",20);ne.port1.start();const Vn=setTimeout(()=>{Tn(new Error("unsupported_event"))},E);vt={messageChannel:ne,onMessage(ji){const pi=ji;if(pi.data.eventId===On)switch(pi.data.status){case"ack":clearTimeout(Vn),ze=setTimeout(()=>{Tn(new Error("timeout"))},3e3);break;case"done":clearTimeout(ze),Gt(pi.data.response);break;default:clearTimeout(Vn),clearTimeout(ze),Tn(new Error("invalid_response"))}}},F.handlers.add(vt),ne.port1.addEventListener("message",vt.onMessage),F.target.postMessage({eventType:h,eventId:On,data:p},[ne.port2])}).finally(()=>{vt&&F.removeMessageHandler(vt)})})()}}function Zn(){return window}function nl(){return typeof Zn().WorkerGlobalScope<"u"&&"function"==typeof Zn().importScripts}function rl(){return(rl=(0,c.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const da="firebaseLocalStorageDb",_s="firebaseLocalStorage",Pl="fbase_key";class wc{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function oi(y,h){return y.transaction([_s],h?"readwrite":"readonly").objectStore(_s)}function Ac(){const y=indexedDB.open(da,1);return new Promise((h,p)=>{y.addEventListener("error",()=>{p(y.error)}),y.addEventListener("upgradeneeded",()=>{const E=y.result;try{E.createObjectStore(_s,{keyPath:Pl})}catch(F){p(F)}}),y.addEventListener("success",(0,c.A)(function*(){const E=y.result;E.objectStoreNames.contains(_s)?h(E):(E.close(),yield function Nl(){const y=indexedDB.deleteDatabase(da);return new wc(y).toPromise()}(),h(yield Ac()))}))})}function bu(y,h,p){return ha.apply(this,arguments)}function ha(){return(ha=(0,c.A)(function*(y,h,p){const E=oi(y,!0).put({[Pl]:h,value:p});return new wc(E).toPromise()})).apply(this,arguments)}function Ol(){return(Ol=(0,c.A)(function*(y,h){const p=oi(y,!1).get(h),E=yield new wc(p).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Es(y,h){const p=oi(y,!0).delete(h);return new wc(p).toPromise()}const bc=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,c.A)(function*(){return p.db||(p.db=yield Ac()),p.db})()}_withRetries(p){var E=this;return(0,c.A)(function*(){let F=0;for(;;)try{const ne=yield E._openDb();return yield p(ne)}catch(ne){if(F++>3)throw ne;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,c.A)(function*(){return nl()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,c.A)(function*(){p.receiver=tl._getInstance(function Na(){return nl()?self:null}()),p.receiver._subscribe("keyChanged",function(){var E=(0,c.A)(function*(F,ne){return{keyProcessed:(yield p._poll()).includes(ne.key)}});return function(F,ne){return E.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var E=(0,c.A)(function*(F,ne){return["keyChanged"]});return function(F,ne){return E.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,c.A)(function*(){var E,F;if(p.activeServiceWorker=yield function wu(){return rl.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new xs(p.activeServiceWorker);const ne=yield p.sender._send("ping",{},800);ne&&null!==(E=ne[0])&&void 0!==E&&E.fulfilled&&null!==(F=ne[0])&&void 0!==F&&F.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var E=this;return(0,c.A)(function*(){if(E.sender&&E.activeServiceWorker&&function Au(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:p},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.A)(function*(){try{if(!indexedDB)return!1;const p=yield Ac();return yield bu(p,ua,"1"),yield Es(p,ua),!0}catch{}return!1})()}_withPendingWrite(p){var E=this;return(0,c.A)(function*(){E.pendingWrites++;try{yield p()}finally{E.pendingWrites--}})()}_set(p,E){var F=this;return(0,c.A)(function*(){return F._withPendingWrite((0,c.A)(function*(){return yield F._withRetries(ne=>bu(ne,p,E)),F.localCache[p]=E,F.notifyServiceWorker(p)}))})()}_get(p){var E=this;return(0,c.A)(function*(){const F=yield E._withRetries(ne=>function ks(y,h){return Ol.apply(this,arguments)}(ne,p));return E.localCache[p]=F,F})()}_remove(p){var E=this;return(0,c.A)(function*(){return E._withPendingWrite((0,c.A)(function*(){return yield E._withRetries(F=>Es(F,p)),delete E.localCache[p],E.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,c.A)(function*(){const E=yield p._withRetries(ze=>{const vt=oi(ze,!1).getAll();return new wc(vt).toPromise()});if(!E)return[];if(0!==p.pendingWrites)return[];const F=[],ne=new Set;if(0!==E.length)for(const{fbase_key:ze,value:vt}of E)ne.add(ze),JSON.stringify(p.localCache[ze])!==JSON.stringify(vt)&&(p.notifyListeners(ze,vt),F.push(ze));for(const ze of Object.keys(p.localCache))p.localCache[ze]&&!ne.has(ze)&&(p.notifyListeners(ze,null),F.push(ze));return F})()}notifyListeners(p,E){this.localCache[p]=E;const F=this.listeners[p];if(F)for(const ne of Array.from(F))ne(E)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,c.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(E)}_removeListener(p,E){this.listeners[p]&&(this.listeners[p].delete(E),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),$=1e12;class se{constructor(h){this.auth=h,this.counter=$,this._widgets=new Map}render(h,p){const E=this.counter;return this._widgets.set(E,new Ne(h,this.auth.name,p||{})),this.counter++,E}reset(h){var p;const E=h||$;null===(p=this._widgets.get(E))||void 0===p||p.delete(),this._widgets.delete(E)}getResponse(h){var p;return(null===(p=this._widgets.get(h||$))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,c.A)(function*(){var E;return null===(E=p._widgets.get(h||$))||void 0===E||E.execute(),""})()}}class Ne{constructor(h,p,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const F="string"==typeof h?document.getElementById(h):h;Re(F,"argument-error",{appName:p}),this.container=F,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ot(y){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<y;E++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const yt=Gi("rcb"),In=new q(3e4,6e4);class or{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=Zn().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return Re(function gr(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&Bn(Zn().grecaptcha)?Promise.resolve(Zn().grecaptcha):new Promise((E,F)=>{const ne=Zn().setTimeout(()=>{F(me(h,"network-request-failed"))},In.get());Zn()[yt]=()=>{Zn().clearTimeout(ne),delete Zn()[yt];const vt=Zn().grecaptcha;if(!vt||!Bn(vt))return void F(me(h,"internal-error"));const Gt=vt.render;vt.render=(Tn,On)=>{const Vn=Gt(Tn,On);return this.counter++,Vn},this.hostLanguage=p,E(vt)},ii(`${function Bo(){return Xr.recaptchaV2Script}()}?${(0,Z.Am)({onload:yt,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ne),F(me(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=Zn().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Hn{load(h){return(0,c.A)(function*(){return new se(h)})()}clearedOneInstance(){}}const kr="recaptcha",Fr={theme:"light",type:"image"};class mo{constructor(h,p,E=Object.assign({},Fr)){this.parameters=E,this.type=kr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Kn(h),this.isInvisible="invisible"===this.parameters.size,Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const F="string"==typeof p?document.getElementById(p):p;Re(F,this.auth,"argument-error"),this.container=F,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Hn:new or,this.validateStartingState()}verify(){var h=this;return(0,c.A)(function*(){h.assertNotDestroyed();const p=yield h.render(),E=h.getAssertedRecaptcha();return E.getResponse(p)||new Promise(ne=>{const ze=vt=>{vt&&(h.tokenChangeListeners.delete(ze),ne(vt))};h.tokenChangeListeners.add(ze),h.isInvisible&&E.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Re(!this.parameters.sitekey,this.auth,"argument-error"),Re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(E=>E(p)),"function"==typeof h)h(p);else if("string"==typeof h){const E=Zn()[h];"function"==typeof E&&E(p)}}}assertNotDestroyed(){Re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,c.A)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const E=document.createElement("div");p.appendChild(E),p=E}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,c.A)(function*(){Re(qt()&&!nl(),h.auth,"internal-error"),yield function fi(){let y=null;return new Promise(h=>{"complete"!==document.readyState?(y=()=>h(),window.addEventListener("load",y)):h()}).catch(h=>{throw y&&window.removeEventListener("load",y),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function Pe(y){return _t.apply(this,arguments)}(h.auth);Re(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return Re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fa{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Yi._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Zs(){return(Zs=(0,c.A)(function*(y,h,p){if((0,ce._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E=Kn(y),F=yield Js(E,h,(0,Z.Ku)(p));return new fa(F,ne=>V(E,ne))})).apply(this,arguments)}function yd(){return(yd=(0,c.A)(function*(y,h,p){const E=(0,Z.Ku)(y);yield Kc(!1,E,"phone");const F=yield Js(E.auth,h,(0,Z.Ku)(p));return new fa(F,ne=>oe(E,ne))})).apply(this,arguments)}function ec(){return(ec=(0,c.A)(function*(y,h,p){const E=(0,Z.Ku)(y);if((0,ce._isFirebaseServerApp)(E.auth.app))return Promise.reject(Ye(E.auth));const F=yield Js(E.auth,h,(0,Z.Ku)(p));return new fa(F,ne=>Ln(E,ne))})).apply(this,arguments)}function Js(y,h,p){return Oa.apply(this,arguments)}function Oa(){return Oa=(0,c.A)(function*(y,h,p){var E;const F=yield p.verify();try{let ne;if(Re("string"==typeof F,y,"argument-error"),Re(p.type===kr,y,"argument-error"),ne="string"==typeof h?{phoneNumber:h}:h,"session"in ne){const ze=ne.session;if("phoneNumber"in ne)return Re("enroll"===ze.type,y,"internal-error"),(yield function ms(y,h){return ht(y,"POST","/v2/accounts/mfaEnrollment:start",Ie(y,h))}(y,{idToken:ze.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:F}})).phoneSessionInfo.sessionInfo;{Re("signin"===ze.type,y,"internal-error");const vt=(null===(E=ne.multiFactorHint)||void 0===E?void 0:E.uid)||ne.multiFactorUid;return Re(vt,y,"missing-multi-factor-info"),(yield function np(y,h){return ht(y,"POST","/v2/accounts/mfaSignIn:start",Ie(y,h))}(y,{mfaPendingCredential:ze.credential,mfaEnrollmentId:vt,phoneSignInInfo:{recaptchaToken:F}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ze}=yield function Ar(y,h){return xr.apply(this,arguments)}(y,{phoneNumber:ne.phoneNumber,recaptchaToken:F});return ze}}finally{p._reset()}}),Oa.apply(this,arguments)}function Rh(){return(Rh=(0,c.A)(function*(y,h){const p=(0,Z.Ku)(y);if((0,ce._isFirebaseServerApp)(p.auth.app))return Promise.reject(Ye(p.auth));yield Br(p,h)})).apply(this,arguments)}let tc=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=Kn(p)}verifyPhoneNumber(p,E){return Js(this.auth,p,(0,Z.Ku)(E))}static credential(p,E){return Yi._fromVerification(p,E)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:E,temporaryProof:F}=p;return E&&F?Yi._fromTokenResponse(E,F):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function nc(y,h){return h?dn(h):(Re(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class xl extends ro{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return an(h,this._buildIdpRequest())}_linkToIdToken(h,p){return an(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return an(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Mh(y){return Sl(y.auth,new xl(y),y.bypassAuthState)}function rp(y){const{auth:h,user:p}=y;return Re(p,h,"internal-error"),Tu(p,new xl(y),y.bypassAuthState)}function Rc(y){return _d.apply(this,arguments)}function _d(){return(_d=(0,c.A)(function*(y){const{auth:h,user:p}=y;return Re(p,h,"internal-error"),Br(p,new xl(y),y.bypassAuthState)})).apply(this,arguments)}class ol{constructor(h,p,E,F,ne=!1){this.auth=h,this.resolver=E,this.user=F,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,c.A)(function*(E,F){h.pendingPromise={resolve:E,reject:F};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ne){h.reject(ne)}});return function(E,F){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,c.A)(function*(){const{urlResponse:E,sessionId:F,postBody:ne,tenantId:ze,error:vt,type:Gt}=h;if(vt)return void p.reject(vt);const Tn={auth:p.auth,requestUri:E,sessionId:F,tenantId:ze||void 0,postBody:ne||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Gt)(Tn))}catch(On){p.reject(On)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Mh;case"linkViaPopup":case"linkViaRedirect":return Rc;case"reauthViaPopup":case"reauthViaRedirect":return rp;default:ge(this.auth,"internal-error")}}resolve(h){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Vt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Mc=new q(2e3,1e4);function pa(){return(pa=(0,c.A)(function*(y,h,p){if((0,ce._isFirebaseServerApp)(y.app))return Promise.reject(me(y,"operation-not-supported-in-this-environment"));const E=Kn(y);Ue(y,h,Do);const F=nc(E,p);return new Ph(E,"signInViaPopup",h,F).executeNotNull()})).apply(this,arguments)}function es(){return(es=(0,c.A)(function*(y,h,p){const E=(0,Z.Ku)(y);if((0,ce._isFirebaseServerApp)(E.auth.app))return Promise.reject(me(E.auth,"operation-not-supported-in-this-environment"));Ue(E.auth,h,Do);const F=nc(E.auth,p);return new Ph(E.auth,"reauthViaPopup",h,F,E).executeNotNull()})).apply(this,arguments)}function Su(){return(Su=(0,c.A)(function*(y,h,p){const E=(0,Z.Ku)(y);Ue(E.auth,h,Do);const F=nc(E.auth,p);return new Ph(E.auth,"linkViaPopup",h,F,E).executeNotNull()})).apply(this,arguments)}let Ph=(()=>{class y extends ol{constructor(p,E,F,ne,ze){super(p,E,ne,ze),this.provider=F,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,c.A)(function*(){const E=yield p.execute();return Re(E,p.auth,"internal-error"),E})()}onExecution(){var p=this;return(0,c.A)(function*(){Vt(1===p.filter.length,"Popup operations only handle one event");const E=Ja();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],E),p.authWindow.associatedEvent=E,p.resolver._originValidation(p.auth).catch(F=>{p.reject(F)}),p.resolver._isIframeWebStorageSupported(p.auth,F=>{F||p.reject(me(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(me(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var E,F;this.pollId=null!==(F=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==F&&F.closed?window.setTimeout(()=>{this.pollId=null,this.reject(me(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,Mc.get())};p()}}return y.currentPopupAction=null,y})();const Ru="pendingRedirect",ea=new Map;class Fs extends ol{constructor(h,p,E=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,E),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,c.A)(function*(){let E=ea.get(p.auth._key());if(!E){try{const ne=(yield function ip(y,h){return Id.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;E=()=>Promise.resolve(ne)}catch(F){E=()=>Promise.reject(F)}ea.set(p.auth._key(),E)}return p.bypassAuthState||ea.set(p.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,E=this;return(0,c.A)(function*(){if("signInViaRedirect"===h.type)return p().call(E,h);if("unknown"!==h.type){if(h.eventId){const F=yield E.auth._redirectUserForId(h.eventId);if(F)return E.user=F,p().call(E,h);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,c.A)(function*(){})()}cleanUp(){}}function Id(){return(Id=(0,c.A)(function*(y,h){const p=rc(h),E=Pu(y);if(!(yield E._isAvailable()))return!1;const F="true"===(yield E._get(p));return yield E._remove(p),F})).apply(this,arguments)}function Td(y,h){return Mu.apply(this,arguments)}function Mu(){return(Mu=(0,c.A)(function*(y,h){return Pu(y)._set(rc(h),"true")})).apply(this,arguments)}function Fl(y,h){ea.set(y._key(),h)}function Pu(y){return dn(y._redirectPersistence)}function rc(y){return er(Ru,y.config.apiKey,y.name)}function Oh(y,h,p){return function op(y,h,p){return Fi.apply(this,arguments)}(y,h,p)}function Fi(){return(Fi=(0,c.A)(function*(y,h,p){if((0,ce._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E=Kn(y);Ue(y,h,Do),yield E._initializationPromise;const F=nc(E,p);return yield Td(F,E),F._openRedirect(E,h,"signInViaRedirect")})).apply(this,arguments)}function sp(y,h,p){return function xh(y,h,p){return xa.apply(this,arguments)}(y,h,p)}function xa(){return(xa=(0,c.A)(function*(y,h,p){const E=(0,Z.Ku)(y);if(Ue(E.auth,h,Do),(0,ce._isFirebaseServerApp)(E.auth.app))return Promise.reject(Ye(E.auth));yield E.auth._initializationPromise;const F=nc(E.auth,p);yield Td(F,E.auth);const ne=yield oo(E);return F._openRedirect(E.auth,h,"reauthViaRedirect",ne)})).apply(this,arguments)}function am(y,h,p){return function ap(y,h,p){return Pc.apply(this,arguments)}(y,h,p)}function Pc(){return(Pc=(0,c.A)(function*(y,h,p){const E=(0,Z.Ku)(y);Ue(E.auth,h,Do),yield E.auth._initializationPromise;const F=nc(E.auth,p);yield Kc(!1,E,h.providerId),yield Td(F,E.auth);const ne=yield oo(E);return F._openRedirect(E.auth,h,"linkViaRedirect",ne)})).apply(this,arguments)}function Nc(){return(Nc=(0,c.A)(function*(y,h){return yield Kn(y)._initializationPromise,Ou(y,h,!1)})).apply(this,arguments)}function Ou(y,h){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,c.A)(function*(y,h,p=!1){if((0,ce._isFirebaseServerApp)(y.app))return Promise.reject(Ye(y));const E=Kn(y),F=nc(E,h),ze=yield new Fs(E,F,p).execute();return ze&&!p&&(delete ze.user._redirectEventId,yield E._persistUserIfCurrent(ze.user),yield E._setRedirectUser(null,h)),ze})).apply(this,arguments)}function oo(y){return yi.apply(this,arguments)}function yi(){return(yi=(0,c.A)(function*(y){const h=Ja(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Wn{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(h,E)&&(p=!0,this.sendToConsumer(h,E),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function qi(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fo(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var E;if(h.error&&!fo(h)){const F=(null===(E=h.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";p.onError(me(this.auth,F))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const E=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&E}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ki(h))}saveEventToCache(h){this.cachedEventUids.add(Ki(h)),this.lastProcessedEventTime=Date.now()}}function Ki(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function fo({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function No(y){return Is.apply(this,arguments)}function Is(){return(Is=(0,c.A)(function*(y,h={}){return ht(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Si=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pi=/^https?/;function Xn(){return(Xn=(0,c.A)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield No(y);for(const p of h)try{if(Vl(p))return}catch{}ge(y,"unauthorized-domain")})).apply(this,arguments)}function Vl(y){const h=pn(),{protocol:p,hostname:E}=new URL(h);if(y.startsWith("chrome-extension://")){const ze=new URL(y);return""===ze.hostname&&""===E?"chrome-extension:"===p&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&ze.hostname===E}if(!Pi.test(p))return!1;if(Si.test(y))return E===y;const F=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(E)}const cp=new q(3e4,6e4);function Oc(){const y=Zn().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let ma=null;const ta=new q(5e3,15e3),sl="__/auth/iframe",lp="emulator/auth/iframe",ic={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Cd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ls(y){const h=y.config;Re(h.authDomain,y,"auth-domain-config-required");const p=h.emulator?Q(h,lp):`https://${y.config.authDomain}/${sl}`,E={apiKey:h.apiKey,appName:y.name,v:ce.SDK_VERSION},F=Cd.get(y.config.apiHost);F&&(E.eid=F);const ne=y._getFrameworks();return ne.length&&(E.fw=ne.join(",")),`${p}?${(0,Z.Am)(E).slice(1)}`}function oc(){return oc=(0,c.A)(function*(y){const h=yield function Ul(y){return ma=ma||function Li(y){return new Promise((h,p)=>{var E,F,ne;function ze(){Oc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Oc(),p(me(y,"network-request-failed"))},timeout:cp.get()})}if(null!==(F=null===(E=Zn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==F&&F.Iframe)h(gapi.iframes.getContext());else{if(null===(ne=Zn().gapi)||void 0===ne||!ne.load){const vt=Gi("iframefcb");return Zn()[vt]=()=>{gapi.load?ze():p(me(y,"network-request-failed"))},ii(`${function Jr(){return Xr.gapiScript}()}?onload=${vt}`).catch(Gt=>p(Gt))}ze()}}).catch(h=>{throw ma=null,h})}(y),ma}(y),p=Zn().gapi;return Re(p,y,"internal-error"),h.open({where:document.body,url:Ls(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ic,dontclear:!0},E=>new Promise(function(){var F=(0,c.A)(function*(ne,ze){yield E.restyle({setHideOnLeave:!1});const vt=me(y,"network-request-failed"),Gt=Zn().setTimeout(()=>{ze(vt)},ta.get());function Tn(){Zn().clearTimeout(Gt),ne(E)}E.ping(Tn).then(Tn,()=>{ze(vt)})});return function(ne,ze){return F.apply(this,arguments)}}()))}),oc.apply(this,arguments)}const Bl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xu{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const so="__/auth/handler",cl="emulator/auth/handler",wd=encodeURIComponent("fac");function Vs(y,h,p,E,F,ne){return ll.apply(this,arguments)}function ll(){return(ll=(0,c.A)(function*(y,h,p,E,F,ne){Re(y.config.authDomain,y,"auth-domain-config-required"),Re(y.config.apiKey,y,"invalid-api-key");const ze={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:E,v:ce.SDK_VERSION,eventId:F};if(h instanceof Do){h.setDefaultLanguage(y.languageCode),ze.providerId=h.providerId||"",(0,Z.Im)(h.getCustomParameters())||(ze.customParameters=JSON.stringify(h.getCustomParameters()));for(const[On,Vn]of Object.entries(ne||{}))ze[On]=Vn}if(h instanceof zo){const On=h.getScopes().filter(Vn=>""!==Vn);On.length>0&&(ze.scopes=On.join(","))}y.tenantId&&(ze.tid=y.tenantId);const vt=ze;for(const On of Object.keys(vt))void 0===vt[On]&&delete vt[On];const Gt=yield y._getAppCheckToken(),Tn=Gt?`#${wd}=${encodeURIComponent(Gt)}`:"";return`${function Ad({config:y}){return y.emulator?Q(y,cl):`https://${y.authDomain}/${so}`}(y)}?${(0,Z.Am)(vt).slice(1)}${Tn}`})).apply(this,arguments)}const kh="webStorageSupport",jl=class $l{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Po,this._completeRedirectFn=Ou,this._overrideRedirectResult=Fl}_openPopup(h,p,E,F){var ne=this;return(0,c.A)(function*(){var ze;Vt(null===(ze=ne.eventManagers[h._key()])||void 0===ze?void 0:ze.manager,"_initialize() not called before _openPopup()");const vt=yield Vs(h,p,E,pn(),F);return function po(y,h,p,E=500,F=600){const ne=Math.max((window.screen.availHeight-F)/2,0).toString(),ze=Math.max((window.screen.availWidth-E)/2,0).toString();let vt="";const Gt=Object.assign(Object.assign({},Bl),{width:E.toString(),height:F.toString(),top:ne,left:ze}),Tn=(0,Z.ZQ)().toLowerCase();p&&(vt=Vr(Tn)?"_blank":p),Mr(Tn)&&(h=h||"http://localhost",Gt.scrollbars="yes");const On=Object.entries(Gt).reduce((ji,[pi,ra])=>`${ji}${pi}=${ra},`,"");if(function X(y=(0,Z.ZQ)()){var h;return Bi(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Tn)&&"_self"!==vt)return function vo(y,h){const p=document.createElement("a");p.href=y,p.target=h;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(E)}(h||"",vt),new xu(null);const Vn=window.open(h||"",vt,On);Re(Vn,y,"popup-blocked");try{Vn.focus()}catch{}return new xu(Vn)}(h,vt,Ja())})()}_openRedirect(h,p,E,F){var ne=this;return(0,c.A)(function*(){return yield ne._originValidation(h),function ys(y){Zn().location.href=y}(yield Vs(h,p,E,pn(),F)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:F,promise:ne}=this.eventManagers[p];return F?Promise.resolve(F):(Vt(ne,"If manager is not set, promise should be"),ne)}const E=this.initAndGetManager(h);return this.eventManagers[p]={promise:E},E.catch(()=>{delete this.eventManagers[p]}),E}initAndGetManager(h){var p=this;return(0,c.A)(function*(){const E=yield function Un(y){return oc.apply(this,arguments)}(h),F=new Wn(h);return E.register("authEvent",ne=>(Re(ne?.authEvent,h,"invalid-auth-event"),{status:F.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:F},p.iframes[h._key()]=E,F})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(kh,{type:kh},F=>{var ne;const ze=null===(ne=F?.[0])||void 0===ne?void 0:ne[kh];void 0!==ze&&p(!!ze),ge(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ga(y){return Xn.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return ee()||qr()||Bi()}};class up{constructor(h){this.factorId=h}_process(h,p,E){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,E);case"signin":return this._finalizeSignIn(h,p.credential);default:return Ft("unexpected MultiFactorSessionType")}}}class Hl extends up{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Hl(h)}_finalizeEnroll(h,p,E){return function Jo(y,h){return ht(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(y,h))}(h,{idToken:p,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function I(y,h){return ht(y,"POST","/v2/accounts/mfaSignIn:finalize",Ie(y,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let dp=(()=>{class y{constructor(){}static assertion(p){return Hl._fromCredential(p)}}return y.FACTOR_ID="phone",y})();var Fh="@firebase/auth";class um{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,c.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(E=>{h(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Gl(){return window}(0,Z.XA)("authIdTokenMaxAge"),function sr(y){Xr=y}({loadJS:y=>new Promise((h,p)=>{const E=document.createElement("script");E.setAttribute("src",y),E.onload=h,E.onerror=F=>{const ne=me("internal-error");ne.customData=F,p(ne)},E.type="text/javascript",E.charset="UTF-8",function fm(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(E)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function dm(y){(0,ce._registerComponent)(new Ae.uA("auth",(h,{options:p})=>{const E=h.getProvider("app").getImmediate(),F=h.getProvider("heartbeat"),ne=h.getProvider("app-check-internal"),{apiKey:ze,authDomain:vt}=E.options;Re(ze&&!ze.includes(":"),"invalid-api-key",{appName:E.name});const Gt={apiKey:ze,authDomain:vt,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Le(y)},Tn=new ur(E,F,ne,Gt);return function Ms(y,h){const p=h?.persistence||[],E=(Array.isArray(p)?p:[p]).map(dn);h?.errorMap&&y._updateErrorMap(h.errorMap),y._initializeWithPersistence(E,h?.popupRedirectResolver)}(Tn,p),Tn},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,E)=>{h.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Ae.uA("auth-internal",h=>{const p=Kn(h.getProvider("auth").getImmediate());return new um(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Fh,"1.7.9",function gy(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(y)),(0,ce.registerVersion)(Fh,"1.7.9","esm2017")}("Browser");function Kl(){return Kl=(0,c.A)(function*(y,h,p){var E;const{BuildInfo:F}=Gl();Vt(h.sessionId,"AuthEvent did not contain a session ID");const ne=yield function pm(y){return ul.apply(this,arguments)}(h.sessionId),ze={};return Bi()?ze.ibi=F.packageName:Hr()?ze.apn=F.packageName:ge(y,"operation-not-supported-in-this-environment"),F.displayName&&(ze.appDisplayName=F.displayName),ze.sessionId=ne,Vs(y,p,h.type,void 0,null!==(E=h.eventId)&&void 0!==E?E:void 0,ze)}),Kl.apply(this,arguments)}function Lu(){return(Lu=(0,c.A)(function*(y){const{BuildInfo:h}=Gl(),p={};Bi()?p.iosBundleId=h.packageName:Hr()?p.androidPackageName=h.packageName:ge(y,"operation-not-supported-in-this-environment"),yield No(y,p)})).apply(this,arguments)}function Sd(){return(Sd=(0,c.A)(function*(y,h,p){const{cordova:E}=Gl();let F=()=>{};try{yield new Promise((ne,ze)=>{let vt=null;function Gt(){var Vn;ne();const ji=null===(Vn=E.plugins.browsertab)||void 0===Vn?void 0:Vn.close;"function"==typeof ji&&ji(),"function"==typeof p?.close&&p.close()}function Tn(){vt||(vt=window.setTimeout(()=>{ze(me(y,"redirect-cancelled-by-user"))},2e3))}function On(){"visible"===document?.visibilityState&&Tn()}h.addPassiveListener(Gt),document.addEventListener("resume",Tn,!1),Hr()&&document.addEventListener("visibilitychange",On,!1),F=()=>{h.removePassiveListener(Gt),document.removeEventListener("resume",Tn,!1),document.removeEventListener("visibilitychange",On,!1),vt&&window.clearTimeout(vt)}})}finally{F()}})).apply(this,arguments)}function ul(){return(ul=(0,c.A)(function*(y){const h=function gp(y){if(Vt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),p=new Uint8Array(h);for(let E=0;E<y.length;E++)p[E]=y.charCodeAt(E);return p}(y),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(F=>F.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Md extends Wn{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInitialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInitialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,c.A)(function*(){yield h.initPromise})()}}function dl(y){return sc.apply(this,arguments)}function sc(){return(sc=(0,c.A)(function*(y){const h=yield xc()._get(ac(y));return h&&(yield xc()._remove(ac(y))),h})).apply(this,arguments)}function Uh(){const y=[];for(let p=0;p<20;p++){const E=Math.floor(62*Math.random());y.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(E))}return y.join("")}function xc(){return dn(Ml)}function ac(y){return er("authEvent",y.config.apiKey,y.name)}function kc(y){if(!y?.includes("?"))return{};const[h,...p]=y.split("?");return(0,Z.I9)(p.join("?"))}const xo=class na{constructor(){this._redirectPersistence=Po,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ou,this._overrideRedirectResult=Fl}_initialize(h){var p=this;return(0,c.A)(function*(){const E=h._key();let F=p.eventManagers.get(E);return F||(F=new Md(h),p.eventManagers.set(E,F),p.attachCallbackListeners(h,F)),F})()}_openPopup(h){ge(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,E,F){var ne=this;return(0,c.A)(function*(){!function Rd(y){var h,p,E,F,ne,ze,vt,Gt,Tn,On;const Vn=Gl();Re("function"==typeof(null===(h=Vn?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Re(typeof(null===(p=Vn?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Re("function"==typeof(null===(ne=null===(F=null===(E=Vn?.cordova)||void 0===E?void 0:E.plugins)||void 0===F?void 0:F.browsertab)||void 0===ne?void 0:ne.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(Gt=null===(vt=null===(ze=Vn?.cordova)||void 0===ze?void 0:ze.plugins)||void 0===vt?void 0:vt.browsertab)||void 0===Gt?void 0:Gt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Re("function"==typeof(null===(On=null===(Tn=Vn?.cordova)||void 0===Tn?void 0:Tn.InAppBrowser)||void 0===On?void 0:On.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const ze=yield ne._initialize(h);yield ze.initialized(),ze.resetRedirect(),function Nh(){ea.clear()}(),yield ne._originValidation(h);const vt=function Vu(y,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:Uh(),postBody:null,tenantId:y.tenantId,error:me(y,"no-auth-event")}}(h,E,F);yield function Lr(y,h){return xc()._set(ac(y),h)}(h,vt);const Gt=yield function Wl(y,h,p){return Kl.apply(this,arguments)}(h,vt,p),Tn=yield function fp(y){const{cordova:h}=Gl();return new Promise(p=>{h.plugins.browsertab.isAvailable(E=>{let F=null;E?h.plugins.browsertab.openUrl(y):F=h.InAppBrowser.open(y,function te(y=(0,Z.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(F)})})}(Gt);return function pp(y,h,p){return Sd.apply(this,arguments)}(h,ze,Tn)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function ql(y){return Lu.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:E,handleOpenURL:F,BuildInfo:ne}=Gl(),ze=setTimeout((0,c.A)(function*(){yield dl(h),p.onEvent(Bh())}),500),vt=function(){var On=(0,c.A)(function*(Vn){clearTimeout(ze);const ji=yield dl(h);let pi=null;ji&&Vn?.url&&(pi=function Oo(y,h){var p,E;const F=function Pd(y){const h=kc(y),p=h.link?decodeURIComponent(h.link):void 0,E=kc(p).link,F=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return kc(F).link||F||E||p||y}(h);if(F.includes("/__/auth/callback")){const ne=kc(F),ze=ne.firebaseError?function Ts(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(ne.firebaseError)):null,vt=null===(E=null===(p=ze?.code)||void 0===p?void 0:p.split("auth/"))||void 0===E?void 0:E[1],Gt=vt?me(vt):null;return Gt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Gt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:F,postBody:null}}return null}(ji,Vn.url)),p.onEvent(pi||Bh())});return function(ji){return On.apply(this,arguments)}}();typeof E<"u"&&"function"==typeof E.subscribe&&E.subscribe(null,vt);const Gt=F,Tn=`${ne.packageName.toLowerCase()}://`;Gl().handleOpenURL=function(){var On=(0,c.A)(function*(Vn){if(Vn.toLowerCase().startsWith(Tn)&&vt({url:Vn}),"function"==typeof Gt)try{Gt(Vn)}catch(ji){console.error(ji)}});return function(Vn){return On.apply(this,arguments)}}()}};function Bh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:me("no-auth-event")}}function cc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function ka(y=(0,Z.ZQ)()){return!("file:"!==cc()&&"ionic:"!==cc()&&"capacitor:"!==cc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function zh(){try{const y=self.localStorage,h=Ja();if(y)return y.setItem(h,"1"),y.removeItem(h),!function Ql(y=(0,Z.ZQ)()){return function Nd(){return(0,Z.lT)()&&11===document?.documentMode}()||function Hh(y=(0,Z.ZQ)()){return/Edge\/\d+/.test(y)}(y)}()||(0,Z.zW)()}catch{return Fc()&&(0,Z.zW)()}return!1}function Fc(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Uu(){return(function jh(){return"http:"===cc()||"https:"===cc()}()||(0,Z.sr)()||ka())&&!function fr(){return(0,Z.lV)()||(0,Z.Ll)()}()&&zh()&&!Fc()}function Bu(){return ka()&&typeof document<"u"}function _a(){return(_a=(0,c.A)(function*(){return!!Bu()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const ts={LOCAL:"local",NONE:"none",SESSION:"session"},gl=Re,lc="persistence";function zt(y){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,c.A)(function*(y){yield y._initializationPromise;const h=$u(),p=er(lc,y.config.apiKey,y.name);h&&h.setItem(p,y._getPersistence())})).apply(this,arguments)}function $u(){var y;try{return(null===(y=function mp(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const ui=Re;class Ea{constructor(){this.browserResolver=dn(jl),this.cordovaResolver=dn(xo),this.underlyingResolver=null,this._redirectPersistence=Po,this._completeRedirectFn=Ou,this._overrideRedirectResult=Fl}_initialize(h){var p=this;return(0,c.A)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,E,F){var ne=this;return(0,c.A)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openPopup(h,p,E,F)})()}_openRedirect(h,p,E,F){var ne=this;return(0,c.A)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openRedirect(h,p,E,F)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Bu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ui(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,c.A)(function*(){if(h.underlyingResolver)return;const p=yield function pl(){return _a.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Yl(y){return y.unwrap()}function Zl(y){return Od(y)}function Od(y){const{_tokenResponse:h}=y instanceof Z.g?y.customData:y;if(!h)return null;if(!(y instanceof Z.g)&&"temporaryProof"in h&&"phoneNumber"in h)return tc.credentialFromResult(y);const p=h.providerId;if(!p||p===Ge.PASSWORD)return null;let E;switch(p){case Ge.GOOGLE:E=Ai;break;case Ge.FACEBOOK:E=$i;break;case Ge.GITHUB:E=zr;break;case Ge.TWITTER:E=ds;break;default:const{oauthIdToken:F,oauthAccessToken:ne,oauthTokenSecret:ze,pendingToken:vt,nonce:Gt}=h;return ne||ze||F||vt?vt?p.startsWith("saml.")?br._create(p,vt):Fn._fromParams({providerId:p,signInMethod:p,pendingToken:vt,idToken:F,accessToken:ne}):new uo(p).credential({idToken:F,accessToken:ne,rawNonce:Gt}):null}return y instanceof Z.g?E.credentialFromError(y):E.credentialFromResult(y)}function yo(y,h){return h.catch(p=>{throw p instanceof Z.g&&function ju(y,h){var p;const E=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new _p(y,function ho(y,h){var p;const E=(0,Z.Ku)(y),F=h;return Re(h.customData.operationType,E,"argument-error"),Re(null===(p=F.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,E,"argument-error"),Ko._fromError(E,F)}(y,h));else if(E){const F=Od(h),ne=h;F&&(ne.credential=F,ne.tenantId=E.tenantId||void 0,ne.email=E.email||void 0,ne.phoneNumber=E.phoneNumber||void 0)}}(y,p),p}).then(p=>{const F=p.user;return{operationType:p.operationType,credential:Zl(p),additionalUserInfo:K(p),user:Ia.getOrCreate(F)}})}function xd(y,h){return kd.apply(this,arguments)}function kd(){return(kd=(0,c.A)(function*(y,h){const p=yield h;return{verificationId:p.verificationId,confirm:E=>yo(y,p.confirm(E))}})).apply(this,arguments)}class _p{constructor(h,p){this.resolver=p,this.auth=function Us(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return yo(Yl(this.auth),this.resolver.resolveSignIn(h))}}class Ia{constructor(h){this._delegate=h,this.multiFactor=function Rl(y){const h=(0,Z.Ku)(y);return Ns.has(h)||Ns.set(h,cr._fromUser(h)),Ns.get(h)}(h)}static getOrCreate(h){return Ia.USER_MAP.has(h)||Ia.USER_MAP.set(h,new Ia(h)),Ia.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,c.A)(function*(){return yo(p.auth,oe(p._delegate,h))})()}linkWithPhoneNumber(h,p){var E=this;return(0,c.A)(function*(){return xd(E.auth,function om(y,h,p){return yd.apply(this,arguments)}(E._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,c.A)(function*(){return yo(p.auth,function kl(y,h,p){return Su.apply(this,arguments)}(p._delegate,h,Ea))})()}linkWithRedirect(h){var p=this;return(0,c.A)(function*(){return yield zt(Kn(p.auth)),am(p._delegate,h,Ea)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,c.A)(function*(){return yo(p.auth,Ln(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return xd(this.auth,function il(y,h,p){return ec.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return yo(this.auth,function Ed(y,h,p){return es.apply(this,arguments)}(this._delegate,h,Ea))}reauthenticateWithRedirect(h){var p=this;return(0,c.A)(function*(){return yield zt(Kn(p.auth)),sp(p._delegate,h,Ea)})()}sendEmailVerification(h){return function Gr(y,h){return Jc.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,c.A)(function*(){return yield function Yo(y,h){return Wa.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function qs(y,h){const p=(0,Z.Ku)(y);return(0,ce._isFirebaseServerApp)(p.auth.app)?Promise.reject(Ye(p.auth)):ki(p,h,null)}(this._delegate,h)}updatePassword(h){return function Xs(y,h){return ki((0,Z.Ku)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Sc(y,h){return Rh.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function el(y,h){return Ir.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function Ic(y,h,p){return Tc.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ia.USER_MAP=new WeakMap;const ao=Re;let Fa=(()=>{class y{constructor(p,E){if(this.app=p,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:F}=p.options;ao(F,"invalid-api-key",{appName:p.name}),ao(F,"invalid-api-key",{appName:p.name});const ne=typeof window<"u"?Ea:void 0;this._delegate=E.initialize({options:{persistence:Ta(F,p.name),popupRedirectResolver:ne}}),this._delegate._updateErrorMap(Qe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ia.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,E){!function Io(y,h,p){const E=Kn(y);Re(E._canInitEmulator,E,"emulator-config-failed"),Re(/^https?:\/\//.test(h),E,"invalid-emulator-scheme");const F=!!p?.disableWarnings,ne=cs(h),{host:ze,port:vt}=function ja(y){const h=cs(y),p=/(\/\/)?([^?#/]+)/.exec(y.substr(h.length));if(!p)return{host:"",port:null};const E=p[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(E);if(F){const ne=F[1];return{host:ne,port:ls(E.substr(ne.length+1))}}{const[ne,ze]=E.split(":");return{host:ne,port:ls(ze)}}}(h);E.config.emulator={url:`${ne}//${ze}${null===vt?"":`:${vt}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:ze,port:vt,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:F})}),F||function ei(){function y(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,p,E)}applyActionCode(p){return function Xa(y,h){return go.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return fs(this._delegate,p)}confirmPasswordReset(p,E){return function rr(y,h,p){return Ps.apply(this,arguments)}(this._delegate,p,E)}createUserWithEmailAndPassword(p,E){var F=this;return(0,c.A)(function*(){return yo(F._delegate,function ca(y,h,p){return Du.apply(this,arguments)}(F._delegate,p,E))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Zc(y,h){return mn.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Yc(y,h){const p=lo.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}(0,p)}getRedirectResult(){var p=this;return(0,c.A)(function*(){ao(Uu(),p._delegate,"operation-not-supported-in-this-environment");const E=yield function Nu(y,h){return Nc.apply(this,arguments)}(p._delegate,Ea);return E?yo(p._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function $h(y,h){Kn(y)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,E,F){const{next:ne,error:ze,complete:vt}=Hu(p,E,F);return this._delegate.onAuthStateChanged(ne,ze,vt)}onIdTokenChanged(p,E,F){const{next:ne,error:ze,complete:vt}=Hu(p,E,F);return this._delegate.onIdTokenChanged(ne,ze,vt)}sendSignInLinkToEmail(p,E){return function Qc(y,h,p){return Wo.apply(this,arguments)}(this._delegate,p,E)}sendPasswordResetEmail(p,E){return function qa(y,h,p){return aa.apply(this,arguments)}(this._delegate,p,E||void 0)}setPersistence(p){var E=this;return(0,c.A)(function*(){let F;switch(function vp(y,h){gl(Object.values(ts).includes(h),y,"invalid-persistence-type"),(0,Z.lV)()?gl(h!==ts.SESSION,y,"unsupported-persistence-type"):(0,Z.Ll)()?gl(h===ts.NONE,y,"unsupported-persistence-type"):Fc()?gl(h===ts.NONE||h===ts.LOCAL&&(0,Z.zW)(),y,"unsupported-persistence-type"):gl(h===ts.NONE||zh(),y,"unsupported-persistence-type")}(E._delegate,p),p){case ts.SESSION:F=Po;break;case ts.LOCAL:F=(yield dn(bc)._isAvailable())?bc:Ml;break;case ts.NONE:F=at;break;default:return ge("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(F)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return yo(this._delegate,function ba(y){return Wi.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return yo(this._delegate,V(this._delegate,p))}signInWithCustomToken(p){return yo(this._delegate,function Qr(y,h){return hs.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,E){return yo(this._delegate,function Go(y,h,p){return(0,ce._isFirebaseServerApp)(y.app)?Promise.reject(Ye(y)):V((0,Z.Ku)(y),us.credential(h,p)).catch(function(){var E=(0,c.A)(function*(F){throw"auth/password-does-not-meet-requirements"===F.code&&xi(y),F});return function(F){return E.apply(this,arguments)}}())}(this._delegate,p,E))}signInWithEmailLink(p,E){return yo(this._delegate,function So(y,h,p){return Qa.apply(this,arguments)}(this._delegate,p,E))}signInWithPhoneNumber(p,E){return xd(this._delegate,function Ys(y,h,p){return Zs.apply(this,arguments)}(this._delegate,p,E))}signInWithPopup(p){var E=this;return(0,c.A)(function*(){return ao(Uu(),E._delegate,"operation-not-supported-in-this-environment"),yo(E._delegate,function sm(y,h,p){return pa.apply(this,arguments)}(E._delegate,p,Ea))})()}signInWithRedirect(p){var E=this;return(0,c.A)(function*(){return ao(Uu(),E._delegate,"operation-not-supported-in-this-environment"),yield zt(E._delegate),Oh(E._delegate,p,Ea)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function Xc(y,h){return Cu.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ts,y})();function Hu(y,h,p){let E=y;"function"!=typeof y&&({next:E,error:h,complete:p}=y);const F=E;return{next:ze=>F(ze&&Ia.getOrCreate(ze)),error:h,complete:p}}function Ta(y,h){const p=function yp(y,h){const p=$u();if(!p)return[];const E=er(lc,y,h);switch(p.getItem(E)){case ts.NONE:return[at];case ts.LOCAL:return[bc,Po];case ts.SESSION:return[Po];default:return[]}}(y,h);if(typeof self<"u"&&!p.includes(bc)&&p.push(bc),typeof window<"u")for(const E of[Ml,Po])p.includes(E)||p.push(E);return p.includes(at)||p.push(at),p}class Bs{constructor(){this.providerId="phone",this._delegate=new tc(Yl(L.A.auth()))}static credential(h,p){return tc.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}Bs.PHONE_SIGN_IN_METHOD=tc.PHONE_SIGN_IN_METHOD,Bs.PROVIDER_ID=tc.PROVIDER_ID;const mm=Re;class Fd{constructor(h,p,E=L.A.app()){var F;mm(null===(F=E.options)||void 0===F?void 0:F.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new mo(E.auth(),h,p),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Gh(y){y.INTERNAL.registerComponent(new Ae.uA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),E=h.getProvider("auth");return new Fa(p,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:us,FacebookAuthProvider:$i,GithubAuthProvider:zr,GoogleAuthProvider:Ai,OAuthProvider:uo,SAMLAuthProvider:Ur,PhoneAuthProvider:Bs,PhoneMultiFactorGenerator:dp,RecaptchaVerifier:Fd,TwitterAuthProvider:ds,Auth:Fa,AuthCredential:ro,Error:Z.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.5.14")}(L.A)},467:(un,ft,O)=>{"use strict";function c(ce,Z,be,ae,Ae,Fe,Ge){try{var ye=ce[Fe](Ge),le=ye.value}catch(Oe){return void be(Oe)}ye.done?Z(le):Promise.resolve(le).then(ae,Ae)}function L(ce){return function(){var Z=this,be=arguments;return new Promise(function(ae,Ae){var Fe=ce.apply(Z,be);function Ge(le){c(Fe,ae,Ae,Ge,ye,"next",le)}function ye(le){c(Fe,ae,Ae,Ge,ye,"throw",le)}Ge(void 0)})}}O.d(ft,{A:()=>L})},1635:(un,ft,O)=>{"use strict";function Z(q,Q){var re={};for(var we in q)Object.prototype.hasOwnProperty.call(q,we)&&Q.indexOf(we)<0&&(re[we]=q[we]);if(null!=q&&"function"==typeof Object.getOwnPropertySymbols){var gt=0;for(we=Object.getOwnPropertySymbols(q);gt<we.length;gt++)Q.indexOf(we[gt])<0&&Object.prototype.propertyIsEnumerable.call(q,we[gt])&&(re[we[gt]]=q[we[gt]])}return re}function be(q,Q,re,we){var ht,gt=arguments.length,Ie=gt<3?Q:null===we?we=Object.getOwnPropertyDescriptor(Q,re):we;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Ie=Reflect.decorate(q,Q,re,we);else for(var qe=q.length-1;qe>=0;qe--)(ht=q[qe])&&(Ie=(gt<3?ht(Ie):gt>3?ht(Q,re,Ie):ht(Q,re))||Ie);return gt>3&&Ie&&Object.defineProperty(Q,re,Ie),Ie}function Oe(q,Q,re,we){return new(re||(re=Promise))(function(Ie,ht){function qe(ut){try{Mt(we.next(ut))}catch(Jt){ht(Jt)}}function en(ut){try{Mt(we.throw(ut))}catch(Jt){ht(Jt)}}function Mt(ut){ut.done?Ie(ut.value):function gt(Ie){return Ie instanceof re?Ie:new re(function(ht){ht(Ie)})}(ut.value).then(qe,en)}Mt((we=we.apply(q,Q||[])).next())})}function Je(q){return this instanceof Je?(this.v=q,this):new Je(q)}function ge(q,Q,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var gt,we=re.apply(q,Q||[]),Ie=[];return gt=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),qe("next"),qe("throw"),qe("return",function ht(Dn){return function(Ht){return Promise.resolve(Ht).then(Dn,Jt)}}),gt[Symbol.asyncIterator]=function(){return this},gt;function qe(Dn,Ht){we[Dn]&&(gt[Dn]=function($t){return new Promise(function(Bn,xt){Ie.push([Dn,$t,Bn,xt])>1||en(Dn,$t)})},Ht&&(gt[Dn]=Ht(gt[Dn])))}function en(Dn,Ht){try{!function Mt(Dn){Dn.value instanceof Je?Promise.resolve(Dn.value.v).then(ut,Jt):Cn(Ie[0][2],Dn)}(we[Dn](Ht))}catch($t){Cn(Ie[0][3],$t)}}function ut(Dn){en("next",Dn)}function Jt(Dn){en("throw",Dn)}function Cn(Dn,Ht){Dn(Ht),Ie.shift(),Ie.length&&en(Ie[0][0],Ie[0][1])}}function je(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,Q=q[Symbol.asyncIterator];return Q?Q.call(q):(q=function rt(q){var Q="function"==typeof Symbol&&Symbol.iterator,re=Q&&q[Q],we=0;if(re)return re.call(q);if(q&&"number"==typeof q.length)return{next:function(){return q&&we>=q.length&&(q=void 0),{value:q&&q[we++],done:!q}}};throw new TypeError(Q?"Object is not iterable.":"Symbol.iterator is not defined.")}(q),re={},we("next"),we("throw"),we("return"),re[Symbol.asyncIterator]=function(){return this},re);function we(Ie){re[Ie]=q[Ie]&&function(ht){return new Promise(function(qe,en){!function gt(Ie,ht,qe,en){Promise.resolve(en).then(function(Mt){Ie({value:Mt,done:qe})},ht)}(qe,en,(ht=q[Ie](ht)).done,ht.value)})}}}O.d(ft,{AQ:()=>ge,Cg:()=>be,N3:()=>Je,Tt:()=>Z,sH:()=>Oe,xN:()=>je}),"function"==typeof SuppressedError&&SuppressedError}},un=>{un(un.s=2111)}]);